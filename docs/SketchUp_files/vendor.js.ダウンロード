/*! For license information please see vendor.js.LICENSE.txt */
(globalThis.webpackChunksketchup_web_frontend=globalThis.webpackChunksketchup_web_frontend||[]).push([[736,630],{72055:(e,t,n)=>{"use strict";n.d(t,{wA:()=>d,fI:()=>p,RL:()=>m});var r=n(26427);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t,n){(n?Reflect.getOwnMetadataKeys(t,n):Reflect.getOwnMetadataKeys(t)).forEach((function(r){var i=n?Reflect.getOwnMetadata(r,t,n):Reflect.getOwnMetadata(r,t);n?Reflect.defineMetadata(r,i,e,n):Reflect.defineMetadata(r,i,e)}))}var s={__proto__:[]}instanceof Array;function a(e){return function(t,n,r){var i="function"==typeof t?t:t.constructor;i.__decorators__||(i.__decorators__=[]),"number"!=typeof r&&(r=void 0),i.__decorators__.push((function(t){return e(t,n,r)}))}}var c=["data","beforeCreate","created","beforeMount","mounted","beforeDestroy","destroyed","beforeUpdate","updated","activated","deactivated","render","errorCaptured","serverPrefetch"];function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.name=t.name||e._componentTag||e.name;var n=e.prototype;Object.getOwnPropertyNames(n).forEach((function(e){if("constructor"!==e)if(c.indexOf(e)>-1)t[e]=n[e];else{var r=Object.getOwnPropertyDescriptor(n,e);void 0!==r.value?"function"==typeof r.value?(t.methods||(t.methods={}))[e]=r.value:(t.mixins||(t.mixins=[])).push({data:function(){return function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e,r.value)}}):(r.get||r.set)&&((t.computed||(t.computed={}))[e]={get:r.get,set:r.set})}})),(t.mixins||(t.mixins=[])).push({data:function(){return function(e,t){var n=t.prototype._init;t.prototype._init=function(){var t=this,n=Object.getOwnPropertyNames(e);if(e.$options.props)for(var r in e.$options.props)e.hasOwnProperty(r)||n.push(r);n.forEach((function(n){Object.defineProperty(t,n,{get:function(){return e[n]},set:function(t){e[n]=t},configurable:!0})}))};var r=new t;t.prototype._init=n;var i={};return Object.keys(r).forEach((function(e){void 0!==r[e]&&(i[e]=r[e])})),i}(this,e)}});var a=e.__decorators__;a&&(a.forEach((function(e){return e(t)})),delete e.__decorators__);var u,h,d=Object.getPrototypeOf(e.prototype),f=d instanceof r.ZP?d.constructor:r.ZP,p=f.extend(t);return function(e,t,n){Object.getOwnPropertyNames(t).forEach((function(r){if(!l[r]){var o=Object.getOwnPropertyDescriptor(e,r);if(!o||o.configurable){var a,c,u=Object.getOwnPropertyDescriptor(t,r);if(!s){if("cid"===r)return;var h=Object.getOwnPropertyDescriptor(n,r);if(c=i(a=u.value),null!=a&&("object"===c||"function"===c)&&h&&h.value===u.value)return}Object.defineProperty(e,r,u)}}}))}(p,e,f),"undefined"!=typeof Reflect&&Reflect.defineMetadata&&Reflect.getOwnMetadataKeys&&(o(u=p,h=e),Object.getOwnPropertyNames(h.prototype).forEach((function(e){o(u.prototype,h.prototype,e)})),Object.getOwnPropertyNames(h).forEach((function(e){o(u,h,e)}))),p}var l={prototype:!0,arguments:!0,callee:!0,caller:!0};function h(e){return"function"==typeof e?u(e):function(t){return u(t,e)}}h.registerHooks=function(e){var t;c.push.apply(c,function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(t=e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}())};const d=h;var f="undefined"!=typeof Reflect&&void 0!==Reflect.getMetadata;function p(e){return void 0===e&&(e={}),function(t,n){!function(e,t,n){if(f&&!Array.isArray(e)&&"function"!=typeof e&&!e.hasOwnProperty("type")&&void 0===e.type){var r=Reflect.getMetadata("design:type",t,n);r!==Object&&(e.type=r)}}(e,t,n),a((function(t,n){(t.props||(t.props={}))[n]=e}))(t,n)}}function m(e,t){void 0===t&&(t={});var n=t.deep,r=void 0!==n&&n,i=t.immediate,o=void 0!==i&&i;return a((function(t,n){"object"!=typeof t.watch&&(t.watch=Object.create(null));var i=t.watch;"object"!=typeof i[e]||Array.isArray(i[e])?void 0===i[e]&&(i[e]=[]):i[e]=[i[e]],i[e].push({handler:n,deep:r,immediate:o})}))}},12213:e=>{"use strict";var t,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}m(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&m(e,"error",t,{once:!0})}(e,i)}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function a(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function u(e,t,n,r){var i,o,s,u;if(a(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]),void 0===s)s=o[t]=n,++e._eventsCount;else if("function"==typeof s?s=o[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=c(e))>0&&s.length>i&&!s.warned){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=s.length,u=l,console&&console.warn&&console.warn(u)}return e}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=l.bind(r);return i.listener=n,r.wrapFn=i,i}function d(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):p(i,i.length)}function f(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function m(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){r.once&&e.removeEventListener(t,i),n(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return c(this)},o.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=o[e];if(void 0===c)return!1;if("function"==typeof c)r(c,this,t);else{var u=c.length,l=p(c,u);for(n=0;n<u;++n)r(l[n],this,t)}return!0},o.prototype.addListener=function(e,t){return u(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return u(this,e,t,!0)},o.prototype.once=function(e,t){return a(t),this.on(e,h(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,h(this,e,t)),this},o.prototype.removeListener=function(e,t){var n,r,i,o,s;if(a(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},o.prototype.listeners=function(e){return d(this,e,!0)},o.prototype.rawListeners=function(e){return d(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},o.prototype.listenerCount=f,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},36146:(e,t,n)=>{"use strict";function r(e,t){if(!e)throw new Error("number"==typeof t?`0x${t.toString(16).padStart(3,"0")}`:t)}n.d(t,{h:()=>r})},87140:(e,t,n)=>{"use strict";n.d(t,{GZ:()=>s,d3:()=>o,fW:()=>i});var r=n(99133);const i=e=>r.pv.from(e,"base64").toString("utf-8"),o=e=>r.pv.from(e,"utf8").toString("base64"),s=(e,t)=>{switch(t){case"utf8":case"utf-8":return e;default:return r.pv.from(e,t).toString()}}},99133:(e,t,n)=>{"use strict";n.d(t,{IN:()=>o,eP:()=>c,k8:()=>s,pv:()=>u,zT:()=>a});var r=n(24782),i=n(36146);function o(e,t){switch(t){case"base64":return r.fromByteArray(e);case"utf8":case"utf-8":case void 0:return(new TextDecoder).decode(e);default:throw new Error("invalid/unsupported encoding")}}const s=(e,t)=>u.from(e,t).buffer,a=(e,t)=>u.from(e).toString(t);function c(e){const t=e;return e instanceof ArrayBuffer||"object"==typeof t&&null!==t&&"number"==typeof t.byteLength&&"function"==typeof t.slice&&void 0===t.byteOffset&&void 0===t.buffer}class u extends Uint8Array{toString(e){return o(this,e)}static from(e,t,n){if("string"==typeof e)return u.fromString(e,t);if(null!==e&&"object"==typeof e&&c(e.buffer))return(0,i.h)(0===e.byteOffset,0),(0,i.h)(e.byteLength===e.buffer.byteLength,1),u.fromArrayBuffer(e.buffer,t,n);if(c(e))return u.fromArrayBuffer(e,t,n);throw new TypeError}static fromArrayBuffer(e,t,n){const r=null!=t?t:0,i=null!=n?n:e.byteLength-r;if(r<0||r>e.byteLength||i<0||i+r>e.byteLength)throw new RangeError;return new u(e,r,i)}static fromString(e,t){switch(t){case"base64":{const t=this.sanitizeBase64(e),n=r.toByteArray(t);return new u(n.buffer)}case"utf8":case"utf-8":case void 0:{const t=(new TextEncoder).encode(e);return new u(t.buffer)}default:throw new Error("invalid/unsupported encoding")}}static isBuffer(e){throw new Error("unimplemented")}static sanitizeBase64(e){let t=e;return t=t.split("=")[0],t=t.replace(/[^\w+-/]/g,""),t.length%4!=0&&(t+=["","===","==","="][t.length%4]),t}}},31644:(e,t,n)=>{"use strict";function r(e){return 0===e.byteOffset&&e.byteLength===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}n.d(t,{H:()=>r})},62707:(e,t,n)=>{"use strict";n.d(t,{g:()=>r});const r=async e=>new Promise((t=>setTimeout((()=>t()),e)))},68582:(e,t,n)=>{"use strict";function r(e,t){return(...n)=>{if(e.disposed)throw new Error("Already disposed");return t(...n)}}n.d(t,{L:()=>r})},78119:(e,t,n)=>{"use strict";n.d(t,{_:()=>i});var r=n(62653);class i extends r.L{constructor(e){if(super(),this.isDisposed=!1,this.forwardingEvents=new Map,void 0!==e){const t=t=>this.unforwardEvent(e,t),n=t=>this.forwardEvent(e,t);this.on(i.removeListenerEvent,t),this.on(i.newListenerEvent,n)}}static isEmitterEvent(e){return e===i.newListenerEvent||e===i.removeListenerEvent}get disposed(){return this.isDisposed}dispose(){this.isDisposed=!0;for(const e of this.forwardingEvents.values())for(const t of e.values())try{t()}catch(e){}this.removeAllListeners(),this.forwardingEvents.clear()}forwardEvent(e,...t){for(const n of t)if(void 0!==e&&void 0!==n&&!i.isEmitterEvent(n)){let t=this.forwardingEvents.get(n);if(void 0===t&&(t=new Map,this.forwardingEvents.set(n,t)),!t.has(e)){const r=(...e)=>this.emit(n,...e);t.set(e,(()=>e.off(n,r))),e.on(n,r)}}}unforwardEvent(e,...t){for(const n of t)if(void 0!==n&&!i.isEmitterEvent(n)){const t=this.forwardingEvents.get(n);if((null==t?void 0:t.has(e))&&0===this.listenerCount(n)){const r=t.get(e);void 0!==r&&r(),t.delete(e),0===t.size&&this.forwardingEvents.delete(n)}}}}i.newListenerEvent="newListener",i.removeListenerEvent="removeListener"},11984:(e,t,n)=>{"use strict";n.d(t,{T:()=>o,e:()=>s});var r=n(24782),i=n(99133);async function o(e,t="SHA-1",i="hex"){if(void 0===crypto.subtle)return n.e(564).then(n.bind(n,82225)).then((async n=>n.hashFile(e,t,i)));const o=await async function(e,t){const n=await crypto.subtle.digest(t,e);return new Uint8Array(n)}(e,t);return function(e,t){switch(t){case"hex":return Array.prototype.map.call(e,(e=>e.toString(16).padStart(2,"0"))).join("");case"base64":return r.fromByteArray(e)}}(o,i)}async function s(e){const t=`blob ${e.byteLength.toString()}${String.fromCharCode(0)}`;return o(i.pv.from(t+e.toString()))}},70941:(e,t,n)=>{"use strict";n.r(t),n.d(t,{BaseTelemetryNullLogger:()=>f.Rj,BatchManager:()=>c,Deferred:()=>g.B,EventForwarder:()=>l._,Heap:()=>d,IsoBuffer:()=>i.pv,Lazy:()=>k.o,LazyPromise:()=>g.d,NumberComparer:()=>h,PromiseCache:()=>m,PromiseTimer:()=>_.g,RangeTracker:()=>b,RateLimiter:()=>w,TelemetryNullLogger:()=>f.e2,Timer:()=>_.B,Trace:()=>x.f,TypedEventEmitter:()=>C.L,Uint8ArrayToArrayBuffer:()=>N.H,Uint8ArrayToString:()=>i.IN,assert:()=>r.h,bufferToString:()=>i.zT,delay:()=>A.g,doIfNotDisposed:()=>u.L,extractLogSafeErrorProperties:()=>f.YC,fromBase64ToUtf8:()=>a.fW,fromUtf8ToBase64:()=>a.d3,gitHashFile:()=>o.e,hashFile:()=>o.T,isArrayBuffer:()=>i.eP,performance:()=>s.S,safelyParseJSON:()=>S,stringToBuffer:()=>i.k8,toUtf8:()=>a.GZ,unreachableCase:()=>E.U});var r=n(36146),i=n(99133),o=n(11984),s=n(46985),a=n(87140);class c{constructor(e,t=100){this.process=e,this.maxBatchSize=t,this.pendingWork=new Map}add(e,t){this.pendingWork.has(e)||this.pendingWork.set(e,[]),this.pendingWork.get(e).push(t),this.pendingWork.get(e).length>=this.maxBatchSize?(void 0!==this.pendingTimer&&clearTimeout(this.pendingTimer),this.pendingTimer=void 0,this.startWork()):void 0===this.pendingTimer&&(this.pendingTimer=setTimeout((()=>{this.pendingTimer=void 0,this.startWork()}),0))}drain(){this.startWork()}startWork(){const e=this.pendingWork;this.pendingWork=new Map;for(const[t,n]of e)this.process(t,n)}}var u=n(68582),l=n(78119);const h={compare:(e,t)=>e-t,min:Number.MIN_VALUE};class d{constructor(e){this.comp=e,this.L=[{value:e.min,position:0}]}peek(){return this.L[1]}get(){this.swap(1,this.count());const e=this.L.pop();return this.fixdown(1),e.value}add(e){const t={value:e,position:this.L.length};return this.L.push(t),this.fixup(this.count()),t}update(e){const t=e.position;this.isGreaterThanParent(t)?this.fixup(t):this.fixdown(t)}remove(e){const t=e.position;this.swap(e.position,this.L.length-1),this.L.splice(this.L.length-1),t!==this.L.length&&this.update(this.L[t])}count(){return this.L.length-1}fixup(e){let t=e;for(;this.isGreaterThanParent(t);){const e=t>>1;this.swap(t,e),t=e}}isGreaterThanParent(e){return e>1&&this.comp.compare(this.L[e>>1].value,this.L[e].value)>0}fixdown(e){let t=e;for(;t<<1<=this.count();){let e=t<<1;if(e<this.count()&&this.comp.compare(this.L[e].value,this.L[e+1].value)>0&&e++,this.comp.compare(this.L[t].value,this.L[e].value)<=0)break;this.swap(t,e),t=e}}swap(e,t){const n=this.L[e];this.L[e]=this.L[t],this.L[e].position=e,this.L[t]=n,this.L[t].position=t}}var f=n(59822);class p{constructor(e,t){this.expiry=e,this.cleanup=t,this.gcTimeouts=new Map}schedule(e){"indefinite"!==this.expiry.policy&&this.gcTimeouts.set(e,setTimeout((()=>{this.cleanup(e),this.cancel(e)}),this.expiry.durationMs))}cancel(e){const t=this.gcTimeouts.get(e);void 0!==t&&(clearTimeout(t),this.gcTimeouts.delete(e))}update(e){"sliding"===this.expiry.policy&&(this.cancel(e),this.schedule(e))}}class m{constructor({expiry:e={policy:"indefinite"},removeOnError:t=(()=>!0)}={}){this.cache=new Map,this.removeOnError=t,this.gc=new p(e,(e=>this.remove(e)))}has(e){return this.cache.has(e)}get(e){return this.has(e)&&this.gc.update(e),this.cache.get(e)}remove(e){return this.gc.cancel(e),this.cache.delete(e)}async addOrGet(e,t){let n=this.get(e);return void 0===n&&(n=(async()=>t())(),this.cache.set(e,n),n.catch((t=>{this.removeOnError(t)&&this.remove(e)})),this.gc.schedule(e)),n}add(e,t){const n=this.has(e);return this.addOrGet(e,t).catch((()=>{})),!n}async addValueOrGet(e,t){return this.addOrGet(e,(async()=>t))}addValue(e,t){return this.add(e,(async()=>t))}}var g=n(95091),v=n(30454),y=n.n(v);class b{constructor(e,t){"number"==typeof e?(this.ranges=[{length:0,primary:e,secondary:t}],this.lastPrimary=e,this.lastSecondary=t):(this.ranges=y()(e.ranges),this.lastPrimary=e.lastPrimary,this.lastSecondary=e.lastSecondary)}get base(){return this.ranges[0].primary}get primaryHead(){return this.lastPrimary}get secondaryHead(){return this.lastSecondary}serialize(){return{lastPrimary:this.lastPrimary,lastSecondary:this.lastSecondary,ranges:y()(this.ranges)}}add(e,t){(0,r.h)(e>=this.lastPrimary,3),void 0!==this.lastSecondary&&(0,r.h)(t>=this.lastSecondary,4),this.lastPrimary=e,this.lastSecondary=t;const n=this.ranges[this.ranges.length-1],i=n.primary+n.length,o=n.secondary+n.length;t!==o&&(e===i?0===n.length?n.secondary=t:(n.length--,this.ranges.push({length:0,primary:e,secondary:t})):i+1===e&&o+1===t?n.length++:this.ranges.push({length:0,primary:e,secondary:t}))}get(e){(0,r.h)(e>=this.ranges[0].primary,5);let t=1;for(;t<this.ranges.length&&!(e<this.ranges[t].primary);t++);(0,r.h)(e>=this.ranges[t-1].primary,6);const n=this.ranges[t-1];return Math.min(e-n.primary,n.length)+n.secondary}updateBase(e){(0,r.h)(e>=this.ranges[0].primary,7);let t=1;for(;t<this.ranges.length&&!(e<this.ranges[t].primary);t++);(0,r.h)(e>=this.ranges[t-1].primary,8);const n=this.ranges[t-1],i=e-n.primary;n.secondary=n.secondary+Math.min(i,n.length),n.length=Math.max(n.length-i,0),n.primary=e,this.ranges=t-1>0?this.ranges.slice(t-1):this.ranges,(0,r.h)(e===this.ranges[0].primary,9)}}class w{constructor(e){this.windowMSec=e,this.requestMap=new Map}filter(e,t){const n=[],r=Date.now();for(const i of t){const t=`${e}/${i}`;if(this.requestMap.has(t)){if(this.requestMap.get(t)+this.windowMSec>r)continue;this.requestMap.set(t,r),n.push(i)}else this.requestMap.set(t,r),n.push(i)}return n}}function S(e){let t;try{t=JSON.parse(e)}catch(e){}return t}var _=n(5732),x=n(97337),C=n(62653),E=n(90088),k=n(51170),A=n(62707),N=n(31644)},51170:(e,t,n)=>{"use strict";n.d(t,{o:()=>r});class r{constructor(e){this.valueGenerator=e,this._evaluated=!1}get evaluated(){return this._evaluated}get value(){return this._evaluated||(this._evaluated=!0,this._value=this.valueGenerator()),this._value}}},59822:(e,t,n)=>{"use strict";n.d(t,{Rj:()=>r,YC:()=>o,e2:()=>i});class r{send(e){}}class i{send(e){}sendTelemetryEvent(e,t){}sendErrorEvent(e,t){}sendPerformanceEvent(e,t){}}function o(e){const t={message:"string"==typeof(null==e?void 0:e.message)?e.message:String(e)};if(null!==(n=e)&&!Array.isArray(n)&&"object"==typeof n){const{errorType:n,stack:r,name:i}=e;if("string"==typeof n&&(t.errorType=n),"string"==typeof r){const e="string"==typeof i?i:void 0;t.stack=((e,t)=>{const n=e.split("\n");return n.shift(),void 0!==t&&n.unshift(t),n.join("\n")})(r,e)}}var n;return t}},46985:(e,t,n)=>{"use strict";n.d(t,{S:()=>r});const r=window.performance},95091:(e,t,n)=>{"use strict";n.d(t,{B:()=>r,d:()=>i});class r{constructor(){this.completed=!1,this.p=new Promise(((e,t)=>{this.res=e,this.rej=t}))}get isCompleted(){return this.completed}get promise(){return this.p}resolve(e){void 0!==this.res&&(this.completed=!0,this.res(e))}reject(e){void 0!==this.rej&&(this.completed=!0,this.rej(e))}}class i{constructor(e){this.execute=e}get[Symbol.toStringTag](){return this.getPromise()[Symbol.toStringTag]}async then(e,t){return this.getPromise().then(...arguments)}async catch(e){return this.getPromise().catch(...arguments)}async finally(e){return this.getPromise().finally(...arguments)}async getPromise(){return void 0===this.result&&(this.result=this.execute()),this.result}}},5732:(e,t,n)=>{"use strict";n.d(t,{B:()=>o,g:()=>s});var r=n(36146),i=n(95091);class o{constructor(e,t,n=(()=>Date.now())){this.defaultTimeout=e,this.defaultHandler=t,this.getCurrentTick=n}get hasTimer(){return!!this.runningState}start(e=this.defaultTimeout,t=this.defaultHandler){this.startCore(e,t,e)}clear(){this.runningState&&(clearTimeout(this.runningState.timeout),this.runningState=void 0)}restart(e,t){var n,r;if(this.runningState){const i=null!=e?e:this.runningState.intendedDuration,o=null!==(r=null!=t?t:null===(n=this.runningState.restart)||void 0===n?void 0:n.handler)&&void 0!==r?r:this.runningState.handler,s=this.calculateRemainingTime(this.runningState);i<s?this.start(i,o):i===s?(this.runningState.handler=o,this.runningState.restart=void 0,this.runningState.intendedDuration=i):this.runningState.restart={startTick:this.getCurrentTick(),duration:i,handler:o}}else this.start(e,t)}startCore(e,t,n){this.clear(),this.runningState={startTick:this.getCurrentTick(),duration:e,intendedDuration:n,handler:t,timeout:setTimeout((()=>this.handler()),e)}}handler(){(0,r.h)(!!this.runningState,10);const e=this.runningState.restart;if(void 0!==e){const t=this.calculateRemainingTime(e);this.startCore(t,(()=>e.handler()),e.duration)}else{const e=this.runningState.handler;this.clear(),e()}}calculateRemainingTime(e){const t=this.getCurrentTick()-e.startTick;return e.duration-t}}class s{constructor(e,t){this.timer=new o(e,(()=>this.wrapHandler(t)))}get hasTimer(){return this.timer.hasTimer}async start(e,t){return this.clear(),this.deferred=new i.B,this.timer.start(e,t?()=>this.wrapHandler(t):void 0),this.deferred.promise}clear(){this.timer.clear(),this.deferred&&(this.deferred.resolve({timerResult:"cancel"}),this.deferred=void 0)}wrapHandler(e){e(),(0,r.h)(!!this.deferred,11),this.deferred.resolve({timerResult:"timeout"}),this.deferred=void 0}}},97337:(e,t,n)=>{"use strict";n.d(t,{f:()=>i});var r=n(46985);class i{constructor(e){this.startTick=e,this.lastTick=e}static start(){const e=r.S.now();return new i(e)}trace(){const e=r.S.now(),t={totalTimeElapsed:e-this.startTick,duration:e-this.lastTick,tick:e};return this.lastTick=e,t}}},62653:(e,t,n)=>{"use strict";n.d(t,{L:()=>i});var r=n(16763);class i extends r.EventEmitter{constructor(){super(),this.addListener=super.addListener.bind(this),this.on=super.on.bind(this),this.once=super.once.bind(this),this.prependListener=super.prependListener.bind(this),this.prependOnceListener=super.prependOnceListener.bind(this),this.removeListener=super.removeListener.bind(this),this.off=super.off.bind(this)}}},90088:(e,t,n)=>{"use strict";function r(e,t="Unreachable Case"){throw new Error(t)}n.d(t,{U:()=>r})},16763:e=>{"use strict";var t,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}m(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&m(e,"error",t,{once:!0})}(e,i)}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function a(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function u(e,t,n,r){var i,o,s,u;if(a(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]),void 0===s)s=o[t]=n,++e._eventsCount;else if("function"==typeof s?s=o[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=c(e))>0&&s.length>i&&!s.warned){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=s.length,u=l,console&&console.warn&&console.warn(u)}return e}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=l.bind(r);return i.listener=n,r.wrapFn=i,i}function d(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):p(i,i.length)}function f(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function m(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){r.once&&e.removeEventListener(t,i),n(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return c(this)},o.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=o[e];if(void 0===c)return!1;if("function"==typeof c)r(c,this,t);else{var u=c.length,l=p(c,u);for(n=0;n<u;++n)r(l[n],this,t)}return!0},o.prototype.addListener=function(e,t){return u(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return u(this,e,t,!0)},o.prototype.once=function(e,t){return a(t),this.on(e,h(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,h(this,e,t)),this},o.prototype.removeListener=function(e,t){var n,r,i,o,s;if(a(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},o.prototype.listeners=function(e){return d(this,e,!0)},o.prototype.rawListeners=function(e){return d(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},o.prototype.listenerCount=f,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},85703:(e,t,n)=>{"use strict";var r;n.d(t,{u:()=>r}),function(e){e.genericError="genericError",e.throttlingError="throttlingError",e.dataCorruptionError="dataCorruptionError",e.dataProcessingError="dataProcessingError",e.usageError="usageError",e.clientSessionExpiredError="clientSessionExpiredError"}(r||(r={}))},53548:(e,t,n)=>{"use strict";n.d(t,{Ai:()=>o,Tr:()=>i,s2:()=>r});const r=e=>"object"==typeof e&&"string"==typeof(null==e?void 0:e.name)&&"object"==typeof(null==e?void 0:e.fluid),i=e=>{const t=e;return"object"==typeof t&&("string"==typeof(null==t?void 0:t.package)||r(null==t?void 0:t.package))&&(void 0===(null==t?void 0:t.config)||"object"==typeof(null==t?void 0:t.config))},o="IFluidCodeDetailsComparer"},68668:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AttachState:()=>a.mB,BindState:()=>a.xU,ContainerErrorType:()=>o.u,IFluidCodeDetailsComparer:()=>r.Ai,IFluidTokenProvider:()=>c,IRuntimeFactory:()=>a.Wy,LoaderHeader:()=>s.A,isFluidBrowserPackage:()=>i,isFluidCodeDetails:()=>r.Tr,isFluidPackage:()=>r.s2});var r=n(53548);const i=e=>{var t,n,i,o,s,a;return(0,r.s2)(e)&&"string"==typeof(null===(i=null===(n=null===(t=null==e?void 0:e.fluid)||void 0===t?void 0:t.browser)||void 0===n?void 0:n.umd)||void 0===i?void 0:i.library)&&Array.isArray(null===(a=null===(s=null===(o=null==e?void 0:e.fluid)||void 0===o?void 0:o.browser)||void 0===s?void 0:s.umd)||void 0===a?void 0:a.files)};var o=n(85703),s=n(14318),a=n(20030);const c="IFluidTokenProvider"},14318:(e,t,n)=>{"use strict";var r;n.d(t,{A:()=>r}),function(e){e.cache="fluid-cache",e.clientDetails="fluid-client-details",e.loadMode="loadMode",e.reconnect="fluid-reconnect",e.sequenceNumber="fluid-sequence-number",e.version="version"}(r||(r={}))},20030:(e,t,n)=>{"use strict";var r,i;n.d(t,{Wy:()=>o,mB:()=>r,xU:()=>i}),function(e){e.Detached="Detached",e.Attaching="Attaching",e.Attached="Attached"}(r||(r={})),function(e){e.NotBound="NotBound",e.Binding="Binding",e.Bound="Bound"}(i||(i={}));const o="IRuntimeFactory"},96409:e=>{"use strict";var t,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}m(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&m(e,"error",t,{once:!0})}(e,i)}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function a(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function u(e,t,n,r){var i,o,s,u;if(a(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]),void 0===s)s=o[t]=n,++e._eventsCount;else if("function"==typeof s?s=o[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=c(e))>0&&s.length>i&&!s.warned){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=s.length,u=l,console&&console.warn&&console.warn(u)}return e}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=l.bind(r);return i.listener=n,r.wrapFn=i,i}function d(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):p(i,i.length)}function f(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function m(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){r.once&&e.removeEventListener(t,i),n(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return c(this)},o.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=o[e];if(void 0===c)return!1;if("function"==typeof c)r(c,this,t);else{var u=c.length,l=p(c,u);for(n=0;n<u;++n)r(l[n],this,t)}return!0},o.prototype.addListener=function(e,t){return u(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return u(this,e,t,!0)},o.prototype.once=function(e,t){return a(t),this.on(e,h(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,h(this,e,t)),this},o.prototype.removeListener=function(e,t){var n,r,i,o,s;if(a(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},o.prototype.listeners=function(e){return d(this,e,!0)},o.prototype.rawListeners=function(e){return d(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},o.prototype.listenerCount=f,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},96646:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IContainerRuntime=void 0,t.IContainerRuntime="IContainerRuntime"},94655:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(96646),t)},1283:e=>{"use strict";var t,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}m(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&m(e,"error",t,{once:!0})}(e,i)}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function a(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function u(e,t,n,r){var i,o,s,u;if(a(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]),void 0===s)s=o[t]=n,++e._eventsCount;else if("function"==typeof s?s=o[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=c(e))>0&&s.length>i&&!s.warned){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=s.length,u=l,console&&console.warn&&console.warn(u)}return e}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=l.bind(r);return i.listener=n,r.wrapFn=i,i}function d(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):p(i,i.length)}function f(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function m(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){r.once&&e.removeEventListener(t,i),n(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return c(this)},o.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=o[e];if(void 0===c)return!1;if("function"==typeof c)r(c,this,t);else{var u=c.length,l=p(c,u);for(n=0;n<u;++n)r(l[n],this,t)}return!0},o.prototype.addListener=function(e,t){return u(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return u(this,e,t,!0)},o.prototype.once=function(e,t){return a(t),this.on(e,h(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,h(this,e,t)),this},o.prototype.removeListener=function(e,t){var n,r,i,o,s;if(a(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},o.prototype.listeners=function(e){return d(this,e,!0)},o.prototype.rawListeners=function(e){return d(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},o.prototype.listenerCount=f,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},14244:(e,t,n)=>{"use strict";n.d(t,{$4:()=>l,$I:()=>s,DJ:()=>c,aG:()=>i,eF:()=>u,iR:()=>h,rn:()=>o,xu:()=>a});var r=n(36146);function i(e){return e.replace(/^\/+|\/+$/g,"")}function o(e){const t={};for(const[n,r]of Object.entries(e.gcNodes))t[n]=Array.from(r);return{gcNodes:t}}function s(e){const t=new Map;if(void 0===e.gcData)return t;const n=e.gcData.gcNodes;delete n["/"];for(const[e,i]of Object.entries(n)){(0,r.h)(e.startsWith("/"),686);const n=e.split("/")[1];let o=e.slice(n.length+1);""===o&&(o="/");let s=t.get(n);void 0===s&&(s={gcData:{gcNodes:{}},usedRoutes:[]}),(0,r.h)(void 0!==s.gcData,687),s.gcData.gcNodes[o]=[...new Set(i)],t.set(n,s)}if(void 0===e.usedRoutes)return t;const i=e.usedRoutes.filter((e=>""!==e&&"/"!==e));for(const e of i){(0,r.h)(e.startsWith("/"),688);const n=e.split("/")[1],i=e.slice(n.length+1),o=t.get(n);(0,r.h)(void 0!==(null==o?void 0:o.usedRoutes),689),o.usedRoutes.push(i),t.set(n,o)}return t}function a(e){const t=e.filter((e=>""!==e&&"/"!==e)),n=new Map;for(const e of t){(0,r.h)(e.startsWith("/"),408);const t=e.split("/")[1],i=e.slice(t.length+1),o=n.get(t);void 0!==o?o.push(i):n.set(t,[i])}return n}function c(e,t){const n=Object.entries(e);for(const[r,i]of n){const n=new Set(i);n.delete(t),e[r]=[...n]}}function u(e,t){var n;const i={};for(const[t,n]of Object.entries(e.gcNodes))i[t]={outboundRoutes:Array.from(n.outboundRoutes),unreferencedTimestampMs:n.unreferencedTimestampMs};for(const[e,o]of Object.entries(t.gcNodes)){let t=i[e];void 0===t?t={outboundRoutes:Array.from(o.outboundRoutes),unreferencedTimestampMs:o.unreferencedTimestampMs}:(void 0!==o.unreferencedTimestampMs&&void 0!==t.unreferencedTimestampMs&&(0,r.h)(o.unreferencedTimestampMs===t.unreferencedTimestampMs,690),t={outboundRoutes:[...new Set([...o.outboundRoutes,...t.outboundRoutes])],unreferencedTimestampMs:null!==(n=o.unreferencedTimestampMs)&&void 0!==n?n:t.unreferencedTimestampMs}),i[e]=t}return{gcNodes:i}}function l(e,t){const n=o(e);for(const[e,r]of Object.entries(t.gcNodes))if(void 0===n.gcNodes[e])n.gcNodes[e]=Array.from(r);else{const t=[...r,...n.gcNodes[e]];n.gcNodes[e]=[...new Set(t)]}return n}class h{constructor(){this.gcNodesSet={}}get gcNodes(){const e={};for(const[t,n]of Object.entries(this.gcNodesSet))e[t]=[...n];return e}addNode(e,t){this.gcNodesSet[e]=new Set(t)}prefixAndAddNodes(e,t){for(const[n,r]of Object.entries(t)){let t=n.replace(/^\/+/g,"");t=`/${e}/${t}`,t=t.replace(/\/+$/g,""),this.gcNodesSet[t]=new Set(r)}}addNodes(e){for(const[t,n]of Object.entries(e))this.gcNodesSet[t]=new Set(n)}addRouteToAllNodes(e){for(const t of Object.values(this.gcNodesSet))t.add(e)}getGCData(){return{gcNodes:this.gcNodes}}}},86094:(e,t,n)=>{"use strict";var r,i,o,s,a;n.d(t,{sG:()=>p,Qp:()=>d,VN:()=>f,eB:()=>h,ZO:()=>u,FE:()=>l}),function(e){e.Tree=1,e.Blob=2,e.Handle=3,e.Attachment=4}(r||(r={})),(a=i||(i={})).File="100644",a.Executable="100755",a.Directory="040000",a.Symlink="120000",(s=o||(o={})).Blob="Blob",s.Tree="Tree",s.Attachment="Attachment";var c=n(90088);function u(e){const t=e.type===r.Handle?e.handleType:e.type;switch(t){case r.Blob:case r.Attachment:return i.File;case r.Tree:return i.Directory;default:(0,c.U)(t,`Unknown type: ${t}`)}}function l(e){const t=e.type===r.Handle?e.handleType:e.type;switch(t){case r.Blob:case r.Attachment:return"blob";case r.Tree:return"tree";default:(0,c.U)(t,`Unknown type: ${t}`)}}function h(e,t=new Map,n=!1){const r={},i={id:e.sha,blobs:{},trees:{}};r[""]=i;for(const i of e.tree){const e=n?i.path.replace(/^\.app\//,""):i.path,o=e.lastIndexOf("/"),s=e.slice(0,Math.max(0,o)),a=e.slice(o+1),c=r[s];if("tree"===i.type){const t={id:i.sha,blobs:{},commits:{},trees:{}};c.trees[decodeURIComponent(a)]=t,r[e]=t}else{if("blob"!==i.type)throw new Error("Unknown entry type!!");c.blobs[decodeURIComponent(a)]=i.sha,t.set(i.sha,`/${e}`)}}return i}class d{constructor(e,t,n="utf-8"){this.path=e,this.mode=i.File,this.type=o.Blob,this.value={contents:t,encoding:n}}}class f{constructor(e,t){this.path=e,this.value=t,this.mode=i.Directory,this.type=o.Tree}}class p{constructor(e,t){this.path=e,this.id=t,this.mode=i.File,this.type=o.Attachment,this.value={id:t}}}},1303:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.VisibilityState=t.FlushMode=void 0,(n=t.FlushMode||(t.FlushMode={}))[n.Immediate=0]="Immediate",n[n.TurnBased=1]="TurnBased",t.VisibilityState={NotVisible:"NotVisible",LocallyVisible:"LocallyVisible",GloballyVisible:"GloballyVisible"}},68187:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IFluidDataStoreFactory=void 0,t.IFluidDataStoreFactory="IFluidDataStoreFactory"},57645:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IFluidDataStoreRegistry=void 0,t.IFluidDataStoreRegistry="IFluidDataStoreRegistry"},47459:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.gcBlobKey=void 0,t.gcBlobKey="gc"},89730:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(68187),t),i(n(57645),t),i(n(1303),t),i(n(47459),t),i(n(33928),t),i(n(68980),t)},33928:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},68980:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.totalBlobSizePropertyName=t.blobCountPropertyName=t.channelsTreeName=t.CreateSummarizerNodeSource=void 0,(n=t.CreateSummarizerNodeSource||(t.CreateSummarizerNodeSource={}))[n.FromSummary=0]="FromSummary",n[n.FromAttach=1]="FromAttach",n[n.Local=2]="Local",t.channelsTreeName=".channels",t.blobCountPropertyName="BlobCount",t.totalBlobSizePropertyName="TotalBlobSize"},36668:(e,t,n)=>{"use strict";function r(e,t){if(""===e)return void 0===t?"":t.absolutePath;{let n=e.startsWith("/")?e.slice(1):e;return n=n.endsWith("/")?n.slice(0,-1):n,void 0===t?`/${n}`:`${"/"===t.absolutePath?"":t.absolutePath}/${n}`}}n.d(t,{H:()=>r})},73447:(e,t,n)=>{"use strict";n.d(t,{I4:()=>c,N_:()=>l,Nj:()=>o,Ys:()=>u,bb:()=>a,fu:()=>s});var r=n(36146),i=n(8515);function o(e){if(null!==e&&"object"==typeof e&&!0===e.errorFromRequestFluidObject){const t=e;return{mimeType:"text/plain",status:t.code,value:t.message,get stack(){return t.stack}}}const t=(0,i.FM)();return{mimeType:"text/plain",status:500,value:`${e}`,get stack(){var n;return null!==(n=null==e?void 0:e.stack)&&void 0!==n?n:t.stack}}}function s(e,t){const n=e.value,r=(0,i.FM)();return{errorFromRequestFluidObject:!0,message:n,name:"Error",code:e.status,get stack(){var t;return null!==(t=e.stack)&&void 0!==t?t:r.stack}}}async function a(e,t){const n="string"==typeof t?{url:t}:t,i=await e.request(n);if(200!==i.status||"fluid/object"!==i.mimeType)throw s(i);return(0,r.h)(i.value,410),i.value}const c=e=>u(404,"not found",e);function u(e,t,n){var o;(0,r.h)(200!==e,411);const s=null===(o=n.url)||void 0===o?void 0:o.split("?")[0],a=(0,i.FM)();return{mimeType:"text/plain",status:e,value:void 0===s?t:`${t}: ${s}`,get stack(){return a.stack}}}function l(e,t){return{type:e,get IFluidDataStoreFactory(){return this},get IFluidDataStoreRegistry(){return this},instantiateDataStore:async(e,n)=>(await t).instantiateDataStore(e,n),get:async e=>{var n;return null===(n=(await t).IFluidDataStoreRegistry)||void 0===n?void 0:n.get(e)}}}},42325:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ObjectStoragePartition:()=>o.M,RequestParser:()=>a.R,RuntimeFactoryHelper:()=>c._,SummaryTreeBuilder:()=>h.x1,TelemetryContext:()=>h.TA,addBlobToSummary:()=>h.Rt,addSummarizeResultToSummary:()=>h.QA,addTreeToSummary:()=>h.Jv,calculateStats:()=>h.i6,convertSnapshotTreeToSummaryTree:()=>h.S5,convertSummaryTreeToITree:()=>h.H4,convertToSummaryTree:()=>h.j9,convertToSummaryTreeWithStats:()=>h.MH,create404Response:()=>i.I4,createDataStoreFactory:()=>i.N_,createResponseError:()=>i.Ys,createRootSummarizerNode:()=>u.j,createRootSummarizerNodeWithGC:()=>l.G,exceptionToResponse:()=>i.Nj,generateHandleContextPath:()=>r.H,getBlobSize:()=>h.$A,getNormalizedObjectStoragePathParts:()=>s.g,listBlobsAtTreePath:()=>s.W,mergeStats:()=>h.Jz,requestFluidObject:()=>i.bb,responseToException:()=>i.fu,seqFromTree:()=>d.G,utf8ByteLength:()=>h.mL});var r=n(36668),i=n(73447),o=n(22176),s=n(1792),a=n(80578),c=n(15974),u=n(52901),l=n(37950),h=n(83814),d=n(72385)},22176:(e,t,n)=>{"use strict";n.d(t,{M:()=>i});var r=n(36146);class i{constructor(e,t){this.storage=e,this.path=t,(0,r.h)(!t.endsWith("/"),412)}async readBlob(e){return this.storage.readBlob(`${this.path}/${e}`)}async contains(e){return this.storage.contains(`${this.path}/${e}`)}async list(e){return this.storage.list(`${this.path}/${e}`)}}},1792:(e,t,n)=>{"use strict";function r(e){let t=e;return t.startsWith("/")&&(t=t.substr(1)),t.endsWith("/")&&(t=t.substr(0,t.length-1)),t.length>0?t.split("/"):[]}async function i(e,t){const n=r(t);let i=e;for(;void 0!==(null==i?void 0:i.entries)&&n.length>0;){const e=n.shift(),t=i.entries.find((t=>"Tree"===t.type&&t.path===e));i="Tree"===(null==t?void 0:t.type)?t.value:void 0}if(void 0===(null==i?void 0:i.entries)||0!==n.length)throw new Error("path does not exist");return i.entries.filter((e=>"Blob"===e.type)).map((e=>e.path))}n.d(t,{W:()=>i,g:()=>r})},80578:(e,t,n)=>{"use strict";n.d(t,{R:()=>r});class r{constructor(e){this.request=e;const t=this.request.url.indexOf("?");this.query=t>=0?this.request.url.substring(t):""}static getPathParts(e){const t=e.indexOf("?");return e.substring(0,t<0?e.length:t).split("/").reduce(((e,t)=>(void 0!==t&&t.length>0&&e.push(decodeURIComponent(t)),e)),[])}static create(e){return e instanceof r?e:new r(e)}get url(){return this.request.url}get headers(){return this.request.headers}get pathParts(){return void 0===this.requestPathParts&&(this.requestPathParts=r.getPathParts(this.url)),this.requestPathParts}isLeaf(e){return""===this.query&&this.pathParts.length===e}createSubRequest(e){const t=this.pathParts.length;if(e<0||e>t)throw new Error("incorrect sub-request");if(e===t&&this.url.includes("?"))return{url:`/${this.query}`,headers:this.headers};const n=`/${this.pathParts.slice(e).join("/")}`;return{url:""===this.query?n:`${n}/${this.query}`,headers:this.headers}}}},15974:(e,t,n)=>{"use strict";n.d(t,{_:()=>r});class r{get IRuntimeFactory(){return this}async instantiateRuntime(e,t){const n=void 0===t?!0===e.existing:t,r=await this.preInitialize(e,n);return n?await this.instantiateFromExisting(r):await this.instantiateFirstTime(r),await this.hasInitialized(r),r}async instantiateFirstTime(e){}async instantiateFromExisting(e){}async hasInitialized(e){}}},52901:(e,t,n)=>{"use strict";n.d(t,{j:()=>l,z:()=>u});var r=n(89730),i=n(30068),o=n(36146),s=n(90088),a=n(83814),c=n(59877);class u{constructor(e,t,n,r,i,o,s){var a;this.defaultLogger=e,this.summarizeInternalFn=t,this._changeSequenceNumber=r,this._latestSummary=i,this.initialSummary=o,this.wipSummaryLogger=s,this.children=new Map,this.pendingSummaries=new Map,this.outstandingOps=[],this.wipSkipRecursion=!1,this.canReuseHandle=null===(a=n.canReuseHandle)||void 0===a||a,this.throwOnError=!0,this.trackingSequenceNumber=this._changeSequenceNumber}get referenceSequenceNumber(){var e,t;return null!==(t=null===(e=this._latestSummary)||void 0===e?void 0:e.referenceSequenceNumber)&&void 0!==t?t:0}startSummary(e,t){(0,o.h)(void 0===this.wipSummaryLogger,415),(0,o.h)(void 0===this.wipReferenceSequenceNumber,416),this.wipSummaryLogger=t;for(const t of this.children.values())t.startSummary(e,this.wipSummaryLogger);this.wipReferenceSequenceNumber=e}async summarize(e,t=!0,n){if((0,o.h)(this.isTrackingInProgress(),417),(0,o.h)(void 0!==this.wipSummaryLogger,418),this.canReuseHandle&&!e&&!this.hasChanged()){const e=this._latestSummary;if(void 0!==e){this.wipLocalPaths={localPath:e.localPath,additionalPath:e.additionalPath},this.wipSkipRecursion=!0;const t=(0,a.Jz)();return t.handleNodeCount++,{summary:{type:i.J.Handle,handle:e.fullPath.path,handleType:i.J.Tree},stats:t}}}try{const t=await this.summarizeInternalFn(e,!0,n);return this.wipLocalPaths={localPath:c.Zo.create(t.id)},void 0!==t.pathPartsForChildren&&(this.wipLocalPaths.additionalPath=c.Zo.createAndConcat(t.pathPartsForChildren)),{summary:t.summary,stats:t.stats}}catch(e){if(this.throwOnError||this.trackingSequenceNumber<this._changeSequenceNumber)throw e;const t=this._latestSummary,n=this.initialSummary;let r,i;if(void 0!==t)r={fromSummary:!0,summaryNode:t},i=t.localPath;else{if(void 0===(null==n?void 0:n.summary))throw e;r={fromSummary:!1,initialSummary:n.summary},i=c.Zo.create(n.id)}this.wipSummaryLogger.sendErrorEvent({eventName:"SummarizingWithBasePlusOps"},e);const o=(0,c.Cr)(r,this.outstandingOps);return this.wipLocalPaths={localPath:i,additionalPath:o.additionalPath},this.wipSkipRecursion=!0,{summary:o.summary,stats:o.stats}}}completeSummary(e){this.completeSummaryCore(e,void 0,!1)}completeSummaryCore(e,t,n){(0,o.h)(void 0!==this.wipSummaryLogger,419),(0,o.h)(void 0!==this.wipReferenceSequenceNumber,420);let r=this.wipLocalPaths;if(n){const e=this._latestSummary;if(void 0===e)return void this.clearSummary();r={localPath:e.localPath,additionalPath:e.additionalPath}}(0,o.h)(!!r,421);const i=new c.Yl(Object.assign(Object.assign({},r),{referenceSequenceNumber:this.wipReferenceSequenceNumber,basePath:t})),s=i.fullPathForChildren;for(const t of this.children.values())t.completeSummaryCore(e,s,this.wipSkipRecursion||n);this.pendingSummaries.set(e,i),this.clearSummary()}clearSummary(){this.wipReferenceSequenceNumber=void 0,this.wipLocalPaths=void 0,this.wipSkipRecursion=!1,this.wipSummaryLogger=void 0;for(const e of this.children.values())e.clearSummary()}async refreshLatestSummary(e,t,n,r,i){if(void 0!==e){const t=this.pendingSummaries.get(e);if(void 0!==t)return this.refreshLatestSummaryFromPending(e,t.referenceSequenceNumber),{latestSummaryUpdated:!0,wasSummaryTracked:!0}}if(this.referenceSequenceNumber>=t)return{latestSummaryUpdated:!1};const o=await n();return await this.refreshLatestSummaryFromSnapshot(t,o,void 0,c.Zo.create(""),i,r),{latestSummaryUpdated:!0,wasSummaryTracked:!1,snapshot:o}}refreshLatestSummaryFromPending(e,t){const n=this.pendingSummaries.get(e);if(void 0!==n){(0,o.h)(t===n.referenceSequenceNumber,423),this.pendingSummaries.delete(e),this.refreshLatestSummaryCore(t),this._latestSummary=n;for(const n of this.children.values())n.refreshLatestSummaryFromPending(e,t)}else(0,o.h)(void 0===this._latestSummary,422)}async refreshLatestSummaryFromSnapshot(e,t,n,r,i,o){if(this.referenceSequenceNumber>=e)return;this.refreshLatestSummaryCore(e);const{baseSummary:s,pathParts:a}=(0,c.MD)(t,i);this._latestSummary=new c.Yl({referenceSequenceNumber:e,basePath:n,localPath:r});const{childrenTree:u,childrenPathPart:l}=(0,c.TI)(s);void 0!==l&&a.push(l),a.length>0&&(this._latestSummary.additionalPath=c.Zo.createAndConcat(a));const h=this._latestSummary.fullPathForChildren;await Promise.all(Array.from(this.children).filter((([e])=>void 0!==u.trees[e])).map((async([t,n])=>n.refreshLatestSummaryFromSnapshot(e,u.trees[t],h,c.Zo.create(t),i,o))))}refreshLatestSummaryCore(e){for(const[t,n]of this.pendingSummaries)n.referenceSequenceNumber<e&&this.pendingSummaries.delete(t);for(;this.outstandingOps.length>0&&this.outstandingOps[0].sequenceNumber<=e;)this.outstandingOps.shift()}loadBaseSummaryWithoutDifferential(e){const{childrenPathPart:t}=(0,c.TI)(e);void 0!==t&&void 0!==this._latestSummary&&(this._latestSummary.additionalPath=c.Zo.create(t))}async loadBaseSummary(e,t){const n=(0,c.MD)(e,this.defaultLogger),r=await n.getOutstandingOps(t),{childrenPathPart:i}=(0,c.TI)(n.baseSummary);if(void 0!==i&&n.pathParts.push(i),n.pathParts.length>0&&void 0!==this._latestSummary&&(this._latestSummary.additionalPath=c.Zo.createAndConcat(n.pathParts)),r.length>0){const e=r[r.length-1].sequenceNumber;(0,o.h)(e<=this.trackingSequenceNumber,425)}return{baseSummary:n.baseSummary,outstandingOps:r}}recordChange(e){const t=this.outstandingOps[this.outstandingOps.length-1];void 0!==t&&(0,o.h)(t.sequenceNumber<e.sequenceNumber,426),this.invalidate(e.sequenceNumber),this.trackingSequenceNumber=e.sequenceNumber,this.outstandingOps.push(e)}invalidate(e){e>this._changeSequenceNumber&&(this._changeSequenceNumber=e)}hasChanged(){return this._changeSequenceNumber>this.referenceSequenceNumber}get latestSummary(){return this._latestSummary}createChild(e,t,n,r={}){(0,o.h)(!this.children.has(t),427);const i=this.getCreateDetailsForChild(t,n),s=new u(this.defaultLogger,e,r,i.changeSequenceNumber,i.latestSummary,i.initialSummary,this.wipSummaryLogger);return this.maybeUpdateChildState(s),this.children.set(t,s),s}getChild(e){return this.children.get(e)}getCreateDetailsForChild(e,t){var n;let u,l,h;const d=this._latestSummary;switch(t.type){case r.CreateSummarizerNodeSource.FromAttach:if(void 0!==d&&t.sequenceNumber<=d.referenceSequenceNumber)l=d.createForChild(e);else{const n=(0,a.j9)(t.snapshot);u={sequenceNumber:t.sequenceNumber,id:e,summary:n}}h=t.sequenceNumber;break;case r.CreateSummarizerNodeSource.FromSummary:void 0===this.initialSummary&&(0,o.h)(!!d,428);case r.CreateSummarizerNodeSource.Local:{const s=this.initialSummary;if(void 0!==s){let n,l;if(void 0!==s.summary){const{childrenTree:t}=(0,c.ZI)(s.summary.summary);(0,o.h)(t.type===i.J.Tree,470),n=t.tree[e]}t.type===r.CreateSummarizerNodeSource.FromSummary&&(0,o.h)(!!n,429),void 0!==n&&((0,o.h)(n.type===i.J.Tree,430),l={summary:n,stats:(0,a.i6)(n)}),u={sequenceNumber:s.sequenceNumber,id:e,summary:l}}l=null==d?void 0:d.createForChild(e),h=null!==(n=null==d?void 0:d.referenceSequenceNumber)&&void 0!==n?n:-1;break}default:{const e=t.type;(0,s.U)(t,`Unexpected CreateSummarizerNodeSource: ${e}`)}}return{initialSummary:u,latestSummary:l,changeSequenceNumber:h}}maybeUpdateChildState(e){if(this.isTrackingInProgress()&&(e.wipReferenceSequenceNumber=this.wipReferenceSequenceNumber),void 0!==e._latestSummary)for(const[t,n]of this.pendingSummaries.entries()){const r=new c.Yl({referenceSequenceNumber:n.referenceSequenceNumber,basePath:e._latestSummary.basePath,localPath:e._latestSummary.localPath});e.addPendingSummary(t,r)}}addPendingSummary(e,t){this.pendingSummaries.set(e,t)}isTrackingInProgress(){return void 0!==this.wipReferenceSequenceNumber}}const l=(e,t,n,r,i={})=>new u(e,t,i,n,void 0===r?void 0:c.Yl.createForRoot(r))},59877:(e,t,n)=>{"use strict";n.d(t,{Cr:()=>f,MD:()=>d,TI:()=>p,Yl:()=>h,ZI:()=>m,Zo:()=>l});var r=n(36146),i=n(30068),o=n(89730),s=n(83814);const a="_baseSummary",c="_outstandingOps",u=100;class l{constructor(e){this.path=e}static create(e){return new l(encodeURIComponent(e))}static createAndConcat(e){var t;let n=l.create(null!==(t=e[0])&&void 0!==t?t:"");for(let t=1;t<e.length;t++)n=n.concat(l.create(e[t]));return n}toString(){return this.path}concat(e){return new l(`${this.path}/${e.path}`)}}class h{constructor(e){this.summary=e}static createForRoot(e){return new h({referenceSequenceNumber:e,basePath:void 0,localPath:l.create("")})}get referenceSequenceNumber(){return this.summary.referenceSequenceNumber}get basePath(){return this.summary.basePath}get localPath(){return this.summary.localPath}get additionalPath(){return this.summary.additionalPath}set additionalPath(e){this.summary.additionalPath=e}get fullPath(){var e,t;return null!==(t=null===(e=this.basePath)||void 0===e?void 0:e.concat(this.localPath))&&void 0!==t?t:this.localPath}get fullPathForChildren(){return void 0!==this.additionalPath?this.fullPath.concat(this.additionalPath):this.fullPath}createForChild(e){return new h({referenceSequenceNumber:this.referenceSequenceNumber,basePath:this.fullPathForChildren,localPath:l.create(e)})}}function d(e,t){let n=e;const i=[],o=[];for(let e=0;;e++){e>u&&t.sendTelemetryEvent({eventName:"DecodeSummaryMaxDepth",maxDecodeDepth:u});const s=n.blobs[c],l=n.trees[a];if(void 0===s&&void 0===l)return{baseSummary:n,pathParts:i,async getOutstandingOps(e){let n=[];for(const r of o){const i=await e(r);if(n.length>0&&i.length>0){const e=n[n.length-1].sequenceNumber,r=i[0].sequenceNumber;if(r<=e)for(t.sendTelemetryEvent({eventName:"DuplicateOutstandingOps",message:`newEarliestSeq <= latestSeq in decodeSummary: ${r} <= ${e}`});i.length>0&&i[0].sequenceNumber<=e;)i.shift()}n=n.concat(i)}return n}};(0,r.h)(!!s,431),(0,r.h)(void 0!==l,432),n=l,i.push(a),o.unshift(s)}}function f(e,t){let n=l.create(a);const r=new s.x1;if(r.addBlob(c,JSON.stringify(t)),e.fromSummary){const t=e.summaryNode;void 0!==t.additionalPath&&(n=n.concat(t.additionalPath)),r.addHandle(a,i.J.Tree,t.fullPath.path)}else r.addWithStats(a,e.initialSummary);const o=r.getSummaryTree();return Object.assign(Object.assign({},o),{additionalPath:n})}function p(e){const t=e.trees[o.channelsTreeName];return void 0!==t?{childrenTree:t,childrenPathPart:o.channelsTreeName}:{childrenTree:e,childrenPathPart:void 0}}function m(e){const t=e.tree[o.channelsTreeName];return void 0!==t?{childrenTree:t,childrenPathPart:o.channelsTreeName}:{childrenTree:e,childrenPathPart:void 0}}},37950:(e,t,n)=>{"use strict";n.d(t,{G:()=>h});var r=n(95091),i=n(36146),o=n(14244),s=n(89730),a=n(52901),c=n(59877);class u extends c.Yl{constructor(e,t){super(t),this.serializedUsedRoutes=e}}class l extends a.z{constructor(e,t,n,i,o,s,a,c,u){super(e,(async(e,n,r)=>t(e,!0,r)),n,i,o,s,a),this.summarizeFn=t,this.getGCDataFn=c,this.baseGCDetailsLoaded=!1,this.usedRoutes=[""],this.gcDisabled=!0===n.gcDisabled,this.baseGCDetailsP=new r.d((async()=>{var e;return null!==(e=await(null==u?void 0:u()))&&void 0!==e?e:{usedRoutes:[]}}))}getGCSummaryDetails(){return this.getBaseGCDetails()}getBaseGCDetails(){return{gcData:this.gcData,usedRoutes:this.usedRoutes,unrefTimestamp:this.unreferencedTimestampMs}}async loadBaseGCDetails(){var e;const t=await this.baseGCDetailsP;this.baseGCDetailsLoaded||(this.baseGCDetailsLoaded=!0,void 0!==t.gcData&&(this.gcData=(0,o.rn)(t.gcData)),this.referenceUsedRoutes=null===(e=t.usedRoutes)||void 0===e?void 0:e.sort(),this.unreferencedTimestampMs=t.unrefTimestamp)}async summarize(e,t=!0,n){return!this.gcDisabled&&this.isTrackingInProgress()&&(0,i.h)(void 0!==this.wipSerializedUsedRoutes,433),t?super.summarize(e,!0,n):this.summarizeFn(e,t,n)}async getGCData(e=!1){if((0,i.h)(!this.gcDisabled,434),(0,i.h)(void 0!==this.getGCDataFn,435),await this.loadBaseGCDetails(),!e&&!this.hasDataChanged()&&void 0!==this.gcData)return(0,o.rn)(this.gcData);const t=await this.getGCDataFn(e);return this.gcData=(0,o.rn)(t),t}startSummary(e,t){this.gcDisabled||(0,i.h)(void 0===this.wipSerializedUsedRoutes,436),super.startSummary(e,t)}completeSummaryCore(e,t,n){let r;if(this.gcDisabled||(r=this.wipSerializedUsedRoutes,(0,i.h)(void 0!==r,437)),super.completeSummaryCore(e,t,n),!this.gcDisabled){const t=this.pendingSummaries.get(e);if(void 0!==t){const n=new u(r,t);this.pendingSummaries.set(e,n)}}}clearSummary(){this.wipSerializedUsedRoutes=void 0,super.clearSummary()}refreshLatestSummaryFromPending(e,t){if(!this.gcDisabled){const t=this.pendingSummaries.get(e);void 0!==t&&(this.referenceUsedRoutes=JSON.parse(t.serializedUsedRoutes))}return super.refreshLatestSummaryFromPending(e,t)}async refreshLatestSummaryFromSnapshot(e,t,n,r,i,o){if(!this.gcDisabled){const n=t.blobs[s.gcBlobKey];if(void 0!==n){const t=await o(n);if(this.referenceSequenceNumber>=e)return;this.referenceUsedRoutes=t.usedRoutes}}return super.refreshLatestSummaryFromSnapshot(e,t,n,r,i,o)}createChild(e,t,n,r={},o,s){var a;(0,i.h)(!this.children.has(t),438);const c=this.getCreateDetailsForChild(t,n),u=new l(this.defaultLogger,e,Object.assign(Object.assign({},r),{gcDisabled:null!==(a=r.gcDisabled)&&void 0!==a?a:this.gcDisabled}),c.changeSequenceNumber,c.latestSummary,c.initialSummary,this.wipSummaryLogger,o,s);return this.maybeUpdateChildState(u),this.children.set(t,u),u}deleteChild(e){this.children.delete(e)}getChild(e){return this.children.get(e)}isReferenced(){return this.usedRoutes.includes("")||this.usedRoutes.includes("/")}updateUsedRoutes(e,t){this.usedRoutes=e.sort(),!this.gcDisabled&&this.isTrackingInProgress()&&(this.wipSerializedUsedRoutes=JSON.stringify(this.usedRoutes)),this.isReferenced()?this.unreferencedTimestampMs=void 0:void 0===this.unreferencedTimestampMs&&(this.unreferencedTimestampMs=t)}hasChanged(){return this.hasDataChanged()||this.hasUsedStateChanged()}hasDataChanged(){return super.hasChanged()}hasUsedStateChanged(){return!this.gcDisabled&&(void 0===this.referenceUsedRoutes||JSON.stringify(this.usedRoutes)!==JSON.stringify(this.referenceUsedRoutes))}}const h=(e,t,n,r,i={},o,s)=>new l(e,t,i,n,void 0===r?void 0:c.Yl.createForRoot(r),void 0,void 0,o,s)},83814:(e,t,n)=>{"use strict";n.d(t,{x1:()=>y,TA:()=>x,Rt:()=>m,QA:()=>v,Jv:()=>g,i6:()=>p,S5:()=>S,H4:()=>_,j9:()=>w,MH:()=>b,$A:()=>d,Jz:()=>l,mL:()=>h});var r,i,o=n(99133),s=n(87140),a=n(90088),c=n(86094),u=n(30068);function l(...e){const t={treeNodeCount:0,blobNodeCount:0,handleNodeCount:0,totalBlobSize:0,unreferencedBlobSize:0};for(const n of e)t.treeNodeCount+=n.treeNodeCount,t.blobNodeCount+=n.blobNodeCount,t.handleNodeCount+=n.handleNodeCount,t.totalBlobSize+=n.totalBlobSize,t.unreferencedBlobSize+=n.unreferencedBlobSize;return t}function h(e){let t=e.length;for(let n=e.length-1;n>=0;n--){const r=e.charCodeAt(n);r>127&&r<=2047?t++:r>2047&&r<=65535&&(t+=2),r>=56320&&r<=57343&&n--}return t}function d(e){return"string"==typeof e?h(e):e.byteLength}function f(e,t){switch(e.type){case u.J.Tree:t.treeNodeCount++;for(const n of Object.values(e.tree))f(n,t);return;case u.J.Handle:return void t.handleNodeCount++;case u.J.Blob:return t.blobNodeCount++,void(t.totalBlobSize+=d(e.content));default:return}}function p(e){const t=l();return f(e,t),t}function m(e,t,n){const r={type:u.J.Blob,content:n};e.summary.tree[t]=r,e.stats.blobNodeCount++,e.stats.totalBlobSize+=d(n)}function g(e,t,n){e.summary.tree[t]=n.summary,e.stats=l(e.stats,n.stats)}function v(e,t,n){e.summary.tree[t]=n.summary,e.stats=l(e.stats,n.stats)}!function(e){e.File="100644",e.Executable="100755",e.Directory="040000",e.Symlink="120000"}(r||(r={})),function(e){e.Blob="Blob",e.Tree="Tree",e.Attachment="Attachment"}(i||(i={}));class y{constructor(){this.attachmentCounter=0,this.summaryTree={},this.summaryStats=l(),this.summaryStats.treeNodeCount++}get summary(){return{type:u.J.Tree,tree:Object.assign({},this.summaryTree)}}get stats(){return Object.assign({},this.summaryStats)}addBlob(e,t){m({summary:{type:u.J.Tree,tree:this.summaryTree},stats:this.summaryStats},e,t)}addHandle(e,t,n){this.summaryTree[e]={type:u.J.Handle,handleType:t,handle:n},this.summaryStats.handleNodeCount++}addWithStats(e,t){this.summaryTree[e]=t.summary,this.summaryStats=l(this.summaryStats,t.stats)}addAttachment(e){this.summaryTree[this.attachmentCounter++]={id:e,type:u.J.Attachment}}getSummaryTree(){return{summary:this.summary,stats:this.stats}}}function b(e,t=!1){const n=new y;for(const r of e.entries)switch(r.type){case i.Blob:{const e=r.value;let t;t="base64"===e.encoding?o.pv.from(e.contents,"base64"):e.contents,n.addBlob(r.path,t);break}case i.Tree:{const e=w(r.value,t);n.addWithStats(r.path,e);break}case i.Attachment:{const e=r.value.id;n.addAttachment(e);break}default:throw new Error("Unexpected TreeEntry type")}const r=n.getSummaryTree();return r.summary.unreferenced=e.unreferenced,r}function w(e,t=!1){if(e.id&&!t){const t=l();return t.handleNodeCount++,{summary:{handle:e.id,handleType:u.J.Tree,type:u.J.Handle},stats:t}}return b(e,t)}function S(e){const t=new y;for(const[n,r]of Object.entries(e.blobs)){let i;if(void 0!==e.blobsContents){const t=e.blobsContents[r];void 0!==t&&(i=(0,o.zT)(t,"utf-8"))}else void 0!==e.blobs[r]&&(i=(0,s.fW)(e.blobs[r]));void 0!==i&&t.addBlob(n,i)}for(const[n,r]of Object.entries(e.trees)){const e=S(r);t.addWithStats(n,e)}const n=t.getSummaryTree();return n.summary.unreferenced=e.unreferenced,n}function _(e){const t=[];for(const[n,r]of Object.entries(e.tree))switch(r.type){case u.J.Blob:{let e,i="utf-8";"string"==typeof r.content?e=r.content:(e=(0,o.IN)(r.content,"base64"),i="base64"),t.push(new c.Qp(n,e,i));break}case u.J.Tree:t.push(new c.VN(n,_(r)));break;case u.J.Attachment:t.push(new c.sG(n,r.id));break;case u.J.Handle:throw new Error("Should not have Handle type in summary tree");default:(0,a.U)(r,"Unexpected summary tree type")}return{entries:t,unreferenced:e.unreferenced}}class x{constructor(){this.telemetry=new Map}set(e,t,n){this.telemetry.set(`${e}${t}`,n)}get(e,t){return this.telemetry.get(`${e}${t}`)}serialize(){const e={};return this.telemetry.forEach(((t,n)=>{e[n]=t})),JSON.stringify(e)}}},72385:(e,t,n)=>{"use strict";async function r(e,t){const n=e.trees[".protocol"].blobs.attributes;return(await t(n)).sequenceNumber}n.d(t,{G:()=>r})},30068:(e,t,n)=>{"use strict";var r;n.d(t,{J:()=>r}),function(e){e.Tree=1,e.Blob=2,e.Handle=3,e.Attachment=4}(r||(r={}))},48794:(e,t,n)=>{e.exports=n(99202)},87491:(e,t,n)=>{"use strict";var r=n(19938),i=n(76415),o=n(83161),s=n(97745),a=n(10457),c=n(38696),u=n(9752),l=n(46025),h=n(25372),d=n(20492);e.exports=function(e){return new Promise((function(t,n){var f,p=e.data,m=e.headers,g=e.responseType;function v(){e.cancelToken&&e.cancelToken.unsubscribe(f),e.signal&&e.signal.removeEventListener("abort",f)}r.isFormData(p)&&delete m["Content-Type"];var y=new XMLHttpRequest;if(e.auth){var b=e.auth.username||"",w=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";m.Authorization="Basic "+btoa(b+":"+w)}var S=a(e.baseURL,e.url);function _(){if(y){var r="getAllResponseHeaders"in y?c(y.getAllResponseHeaders()):null,o={data:g&&"text"!==g&&"json"!==g?y.response:y.responseText,status:y.status,statusText:y.statusText,headers:r,config:e,request:y};i((function(e){t(e),v()}),(function(e){n(e),v()}),o),y=null}}if(y.open(e.method.toUpperCase(),s(S,e.params,e.paramsSerializer),!0),y.timeout=e.timeout,"onloadend"in y?y.onloadend=_:y.onreadystatechange=function(){y&&4===y.readyState&&(0!==y.status||y.responseURL&&0===y.responseURL.indexOf("file:"))&&setTimeout(_)},y.onabort=function(){y&&(n(l("Request aborted",e,"ECONNABORTED",y)),y=null)},y.onerror=function(){n(l("Network Error",e,null,y)),y=null},y.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||h;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(l(t,e,r.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",y)),y=null},r.isStandardBrowserEnv()){var x=(e.withCredentials||u(S))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;x&&(m[e.xsrfHeaderName]=x)}"setRequestHeader"in y&&r.forEach(m,(function(e,t){void 0===p&&"content-type"===t.toLowerCase()?delete m[t]:y.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(y.withCredentials=!!e.withCredentials),g&&"json"!==g&&(y.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&y.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&y.upload&&y.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(f=function(e){y&&(n(!e||e&&e.type?new d("canceled"):e),y.abort(),y=null)},e.cancelToken&&e.cancelToken.subscribe(f),e.signal&&(e.signal.aborted?f():e.signal.addEventListener("abort",f))),p||(p=null),y.send(p)}))}},99202:(e,t,n)=>{"use strict";var r=n(19938),i=n(15622),o=n(76414),s=n(66942),a=function e(t){var n=new o(t),a=i(o.prototype.request,n);return r.extend(a,o.prototype,n),r.extend(a,n),a.create=function(n){return e(s(t,n))},a}(n(25116));a.Axios=o,a.Cancel=n(20492),a.CancelToken=n(56478),a.isCancel=n(95109),a.VERSION=n(89897).version,a.all=function(e){return Promise.all(e)},a.spread=n(53002),a.isAxiosError=n(29792),e.exports=a,e.exports.default=a},20492:e=>{"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},56478:(e,t,n)=>{"use strict";var r=n(20492);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},i.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},95109:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},76414:(e,t,n)=>{"use strict";var r=n(19938),i=n(97745),o=n(85528),s=n(93089),a=n(66942),c=n(66680),u=c.validators;function l(e){this.defaults=e,this.interceptors={request:new o,response:new o}}l.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=a(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&c.assertOptions(n,{silentJSONParsing:u.transitional(u.boolean),forcedJSONParsing:u.transitional(u.boolean),clarifyTimeoutError:u.transitional(u.boolean)},!1);var r=[],i=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));var o,l=[];if(this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)})),!i){var h=[s,void 0];for(Array.prototype.unshift.apply(h,r),h=h.concat(l),o=Promise.resolve(t);h.length;)o=o.then(h.shift(),h.shift());return o}for(var d=t;r.length;){var f=r.shift(),p=r.shift();try{d=f(d)}catch(e){p(e);break}}try{o=s(d)}catch(e){return Promise.reject(e)}for(;l.length;)o=o.then(l.shift(),l.shift());return o},l.prototype.getUri=function(e){return e=a(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,n){return this.request(a(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,n,r){return this.request(a(r||{},{method:e,url:t,data:n}))}})),e.exports=l},85528:(e,t,n)=>{"use strict";var r=n(19938);function i(){this.handlers=[]}i.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},10457:(e,t,n)=>{"use strict";var r=n(51123),i=n(18385);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},46025:(e,t,n)=>{"use strict";var r=n(99896);e.exports=function(e,t,n,i,o){var s=new Error(e);return r(s,t,n,i,o)}},93089:(e,t,n)=>{"use strict";var r=n(19938),i=n(46483),o=n(95109),s=n(25116),a=n(20492);function c(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new a("canceled")}e.exports=function(e){return c(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||s.adapter)(e).then((function(t){return c(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(c(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},99896:e=>{"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},66942:(e,t,n)=>{"use strict";var r=n(19938);e.exports=function(e,t){t=t||{};var n={};function i(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function o(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(e[n],t[n])}function s(e){if(!r.isUndefined(t[e]))return i(void 0,t[e])}function a(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(void 0,t[n])}function c(n){return n in t?i(e[n],t[n]):n in e?i(void 0,e[n]):void 0}var u={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=u[e]||o,i=t(e);r.isUndefined(i)&&t!==c||(n[e]=i)})),n}},76415:(e,t,n)=>{"use strict";var r=n(46025);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},46483:(e,t,n)=>{"use strict";var r=n(19938),i=n(25116);e.exports=function(e,t,n){var o=this||i;return r.forEach(n,(function(n){e=n.call(o,e,t)})),e}},25116:(e,t,n)=>{"use strict";var r=n(19938),i=n(43908),o=n(99896),s=n(25372),a={"Content-Type":"application/x-www-form-urlencoded"};function c(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var u,l={transitional:s,adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(u=n(87491)),u),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(c(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)||t&&"application/json"===t["Content-Type"]?(c(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(0,JSON.parse)(e),r.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||l.transitional,n=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,s=!n&&"json"===this.responseType;if(s||i&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(s){if("SyntaxError"===e.name)throw o(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){l.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){l.headers[e]=r.merge(a)})),e.exports=l},25372:e=>{"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},89897:e=>{e.exports={version:"0.26.1"}},15622:e=>{"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},97745:(e,t,n)=>{"use strict";var r=n(19938);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var s=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),s.push(i(t)+"="+i(e))})))})),o=s.join("&")}if(o){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},18385:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},83161:(e,t,n)=>{"use strict";var r=n(19938);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,o,s){var a=[];a.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(i)&&a.push("path="+i),r.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},51123:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},29792:(e,t,n)=>{"use strict";var r=n(19938);e.exports=function(e){return r.isObject(e)&&!0===e.isAxiosError}},9752:(e,t,n)=>{"use strict";var r=n(19938);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},43908:(e,t,n)=>{"use strict";var r=n(19938);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},38696:(e,t,n)=>{"use strict";var r=n(19938),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,s={};return e?(r.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(s[t]&&i.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([n]):s[t]?s[t]+", "+n:n}})),s):s}},53002:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},66680:(e,t,n)=>{"use strict";var r=n(89897).version,i={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){i[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var o={};i.transitional=function(e,t,n){function i(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,s){if(!1===e)throw new Error(i(r," has been removed"+(t?" in "+t:"")));return t&&!o[r]&&(o[r]=!0,console.warn(i(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,s)}},e.exports={assertOptions:function(e,t,n){if("object"!=typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),i=r.length;i-- >0;){var o=r[i],s=t[o];if(s){var a=e[o],c=void 0===a||s(a,o,e);if(!0!==c)throw new TypeError("option "+o+" must be "+c)}else if(!0!==n)throw Error("Unknown option "+o)}},validators:i}},19938:(e,t,n)=>{"use strict";var r=n(15622),i=Object.prototype.toString;function o(e){return Array.isArray(e)}function s(e){return void 0===e}function a(e){return"[object ArrayBuffer]"===i.call(e)}function c(e){return null!==e&&"object"==typeof e}function u(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function l(e){return"[object Function]"===i.call(e)}function h(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),o(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:o,isArrayBuffer:a,isBuffer:function(e){return null!==e&&!s(e)&&null!==e.constructor&&!s(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"[object FormData]"===i.call(e)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&a(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:c,isPlainObject:u,isUndefined:s,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:l,isStream:function(e){return c(e)&&l(e.pipe)},isURLSearchParams:function(e){return"[object URLSearchParams]"===i.call(e)},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:h,merge:function e(){var t={};function n(n,r){u(t[r])&&u(n)?t[r]=e(t[r],n):u(n)?t[r]=e({},n):o(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)h(arguments[r],n);return t},extend:function(e,t,n){return h(t,(function(t,i){e[i]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},44172:(e,t,n)=>{"use strict";n.d(t,{MD:()=>u,UK:()=>d,of:()=>r,rZ:()=>h,yV:()=>l});const r=new(n(51170).o)((()=>o(c()))),i={getRawConfig:()=>{}},o=e=>null!=e?new u({getRawConfig:t=>{var n,r;try{return null===(r=a(null!==(n=e.getItem(t))&&void 0!==n?n:void 0))||void 0===r?void 0:r.raw}catch(e){}}}):i;function s(e){switch(e){case"boolean":case"number":case"string":return!0;default:return!1}}function a(e){let t,n=e;if("string"==typeof e)try{n=JSON.parse(e),t={raw:e,string:e}}catch(e){}if(void 0===n)return t;const r=typeof n;if(s(r))return Object.assign(Object.assign({},t),{raw:e,[r]:n});if(Array.isArray(n)){const r=typeof n[0];if(!s(r))return t;for(const e of n)if(typeof e!==r)return t;return Object.assign(Object.assign({},t),{raw:e,[`${r}[]`]:n})}return t}const c=()=>{try{return null!==sessionStorage?sessionStorage:void 0}catch(e){return}};class u{constructor(...e){this.configCache=new Map,this.orderedBaseProviders=[];const t=new Set,n=[...e];for(;n.length>0;){const e=n.shift();void 0!==e&&f(e)&&!t.has(e)&&(t.add(e),e instanceof u?n.push(...e.orderedBaseProviders):this.orderedBaseProviders.push(e))}}getBoolean(e){var t;return null===(t=this.getCacheEntry(e))||void 0===t?void 0:t.boolean}getNumber(e){var t;return null===(t=this.getCacheEntry(e))||void 0===t?void 0:t.number}getString(e){var t;return null===(t=this.getCacheEntry(e))||void 0===t?void 0:t.string}getBooleanArray(e){var t;return null===(t=this.getCacheEntry(e))||void 0===t?void 0:t["boolean[]"]}getNumberArray(e){var t;return null===(t=this.getCacheEntry(e))||void 0===t?void 0:t["number[]"]}getStringArray(e){var t;return null===(t=this.getCacheEntry(e))||void 0===t?void 0:t["string[]"]}getRawConfig(e){var t;return null===(t=this.getCacheEntry(e))||void 0===t?void 0:t.raw}getCacheEntry(e){if(!this.configCache.has(e)){for(const t of this.orderedBaseProviders){const n=a(null==t?void 0:t.getRawConfig(e));if(void 0!==n)return this.configCache.set(e,n),n}this.configCache.set(e,{raw:void 0})}return this.configCache.get(e)}}function l(e){const t=e;return f(null==t?void 0:t.config)&&void 0!==(null==t?void 0:t.logger)}function h(e){return l(e)?e:d(e,r.value)}function d(e,...t){if(l(e))throw new Error("Logger is already a monitoring context");const n=e;return n.config=new u(...t),n.logger=e,n}function f(e){return"function"==typeof(null==e?void 0:e.getRawConfig)}},25017:(e,t,n)=>{"use strict";n.d(t,{b:()=>s});var r=n(46985),i=n(96292),o=n(81913);class s extends o.hy{constructor(e,t,n){super(void 0,n),this.debug=e,this.debugErr=t}static create(e,t){const n=(0,i.debug)(e),r=(0,i.debug)(e);return r.log=console.error.bind(console),r.enabled=!0,new s(n,r,t)}static mixinDebugLogger(e,t,n){if(!t)return s.create(e,n);const r=new o.yw(void 0,n);return r.addLogger(s.create(e,this.tryGetBaseLoggerProps(t))),r.addLogger(o.G2.create(t,e)),r}static tryGetBaseLoggerProps(e){if(e instanceof o.hy)return e.properties}send(e){const t=this.prepareEvent(e),n="error"===t.category;let i=n?this.debugErr:this.debug;const s=e.eventName.lastIndexOf(o.hy.eventNamespaceSeparator),a=e.eventName.substring(s+1);s>0&&(i=i.extend(e.eventName.substring(0,s))),t.eventName=void 0;let c="";c=`tick=${o.hy.formatTick(r.S.now())}`;const u=t.stack?t.stack:"";let l;t.stack=void 0;try{l=JSON.stringify(t)}catch(e){t.error=void 0,l=JSON.stringify(t)}"{}"===l&&(l=""),n&&(i.enabled=!0),i(`${a} ${l} ${c} ${u}`)}}},8515:(e,t,n)=>{"use strict";var r;n.d(t,{j4:()=>E,YC:()=>f,FM:()=>v,gr:()=>y,fd:()=>C,XY:()=>_,nE:()=>p,zt:()=>x,SC:()=>m,Jn:()=>b,bO:()=>w});var i=new Uint8Array(16);function o(){if(!r&&!(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(i)}const s=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var a=[],c=0;c<256;++c)a.push((c+256).toString(16).substr(1));const u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(a[e[t+0]]+a[e[t+1]]+a[e[t+2]]+a[e[t+3]]+"-"+a[e[t+4]]+a[e[t+5]]+"-"+a[e[t+6]]+a[e[t+7]]+"-"+a[e[t+8]]+a[e[t+9]]+"-"+a[e[t+10]]+a[e[t+11]]+a[e[t+12]]+a[e[t+13]]+a[e[t+14]]+a[e[t+15]]).toLowerCase();if(!function(e){return"string"==typeof e&&s.test(e)}(n))throw TypeError("Stringified UUID is invalid");return n},l=function(e,t,n){var r=(e=e||{}).random||(e.rng||o)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return u(r)};var h=n(47852);const d=e=>null!==e&&!Array.isArray(e)&&"object"==typeof e;function f(e,t){const n={message:"string"==typeof(null==e?void 0:e.message)?e.message:String(e)};if(d(e)){const{errorType:r,stack:i,name:o}=e;if("string"==typeof r&&(n.errorType=r),"string"==typeof i){const e="string"==typeof o?o:void 0;n.stack=((e,n)=>{if(!t)return e;const r=e.split("\n");return r.shift(),void 0!==n&&r.unshift(n),r.join("\n")})(i,e)}}return n}const p=e=>"function"==typeof(null==e?void 0:e.getTelemetryProperties);function m(e,t={}){var n;if((0,h.n5)(e)&&function(e){const t=e;void 0===t.errorInstanceId&&(t.errorInstanceId=l())}(e),(0,h.IR)(e))return e.addTelemetryProperties(null!==(n=t.props)&&void 0!==n?n:{}),e;const{message:r,stack:i}=f(e,!1),o=new k({message:r,stack:i});if("object"==typeof e&&null!==e){const{canRetry:t,retryAfterSeconds:n}=e;Object.assign(m,{canRetry:t,retryAfterSeconds:n})}"object"!=typeof e&&o.addTelemetryProperties({typeofError:typeof e});const s=p(e)?e.getTelemetryProperties():{};return o.addTelemetryProperties(Object.assign(Object.assign(Object.assign({},s),t.props),{untrustedOrigin:1})),o}let g;function v(){const e=new Error("<<generated stack>>");if(void 0===g&&(g=void 0!==e.stack),g)return e;try{throw e}catch(e){return e}}function y(){return v().stack}function b(e,t){const{message:n,stack:r}=f(e,!1),i=t(n);return void 0!==r&&S(i,r),_(e)&&i.addTelemetryProperties({untrustedOrigin:1}),(0,h.uD)(e)&&(i.overwriteErrorInstanceId(e.errorInstanceId),i.addTelemetryProperties({innerErrorInstanceId:e.errorInstanceId})),p(e)&&i.addTelemetryProperties(e.getTelemetryProperties()),i}function w(e,t,n){const r=b(e,t),i=r.errorInstanceId,o=i;return n.sendTelemetryEvent({eventName:"WrapError",errorInstanceId:i,wrappedByErrorInstanceId:o},e),r}function S(e,t){try{Object.assign(e,{stack:t})}catch(n){e.addTelemetryProperties({stack2:t})}}function _(e){return!(0,h.n5)(e)||1===e.getTelemetryProperties().untrustedOrigin&&e.errorType===k.normalizedErrorType}function x(e){return"object"!=typeof(null==e?void 0:e.value)&&"string"==typeof(null==e?void 0:e.tag)}const C=()=>{const e=new WeakSet;return(t,n)=>{if("object"==typeof n&&null!==n){if(e.has(n))return"<removed/circular>";e.add(n)}return n}};class E extends Error{constructor(e,t,n=new Set){super(e),this.omitPropsFromLogging=n,this._errorInstanceId=l(),this.fluidErrorCode="-",n.add("omitPropsFromLogging"),n.add("_errorInstanceId"),t&&this.addTelemetryProperties(t)}get errorInstanceId(){return this._errorInstanceId}overwriteErrorInstanceId(e){this._errorInstanceId=e}addTelemetryProperties(e){!function(e,t){for(const n of Object.keys(t))void 0===e[n]&&(e[n]=t[n])}(this,e)}getTelemetryProperties(){const e=function(e,t){const n={};for(const r of Object.keys(e)){if(t.has(r))continue;const i=e[r];switch(typeof i){case"string":case"number":case"boolean":case"undefined":n[r]=i;break;default:x(i)?n[r]=i:n[r]="REDACTED (arbitrary object)"}}return n}(this,this.omitPropsFromLogging);return Object.assign(Object.assign({},e),{stack:this.stack,message:this.message,errorInstanceId:this._errorInstanceId})}}class k extends E{constructor(e){super(e.message),this.errorType=k.normalizedErrorType,void 0!==e.stack&&S(this,e.stack)}}k.normalizedErrorType="genericError"},86653:(e,t,n)=>{"use strict";n.d(t,{M:()=>i});var r=n(62653);class i extends r.L{constructor(e){super(),this.errorHandler=e}emit(e,...t){try{return super.emit(e,...t)}catch(t){return this.errorHandler(e,t),!0}}}},51974:(e,t,n)=>{"use strict";n.d(t,{Eb:()=>o,Qq:()=>s,h$:()=>i,tZ:()=>r});const r="connected",i="disconnected";function o(e,t,n,...r){try{e.emit(n,...r)}catch(e){t.sendErrorEvent({eventName:"RaiseEventError",event:n},e)}}function s(e,t,n,o){try{n?t.emit(r,o):t.emit(i)}catch(t){e.sendErrorEvent({eventName:"RaiseConnectedEventError"},t)}}},47852:(e,t,n)=>{"use strict";n.d(t,{IR:()=>o,n5:()=>s,uD:()=>i});const r=e=>"function"==typeof(null==e?void 0:e.getTelemetryProperties)&&"function"==typeof(null==e?void 0:e.addTelemetryProperties),i=e=>"string"==typeof(null==e?void 0:e.errorInstanceId);function o(e){return"string"==typeof(null==e?void 0:e.errorType)&&"string"==typeof(null==e?void 0:e.message)&&i(e)&&r(e)}function s(e){return"string"==typeof(null==e?void 0:e.errorType)&&"string"==typeof(null==e?void 0:e.message)&&r(e)}},57740:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ChildLogger:()=>c.G2,DebugLogger:()=>r.b,EventEmitterWithErrorHandling:()=>o.M,LoggingError:()=>i.j4,MockLogger:()=>u,MultiSinkLogger:()=>c.yw,PerformanceEvent:()=>c.Xr,SampledTelemetryHelper:()=>d.E,TaggedLoggerAdapter:()=>c.cP,TelemetryDataTag:()=>c.XI,TelemetryLogger:()=>c.hy,TelemetryUTLogger:()=>c.nI,ThresholdCounter:()=>l.z,connectedEventName:()=>s.tZ,disconnectedEventName:()=>s.h$,extractLogSafeErrorProperties:()=>i.YC,generateErrorWithStack:()=>i.FM,generateStack:()=>i.gr,getCircularReplacer:()=>i.fd,hasErrorInstanceId:()=>a.uD,isExternalError:()=>i.XY,isFluidError:()=>a.IR,isILoggingError:()=>i.nE,isTaggedTelemetryPropertyValue:()=>i.zt,isValidLegacyError:()=>a.n5,logIfFalse:()=>h.M,loggerToMonitoringContext:()=>f.rZ,mixinMonitoringContext:()=>f.UK,normalizeError:()=>i.SC,raiseConnectedEvent:()=>s.Qq,safeRaiseEvent:()=>s.Eb,sessionStorageConfigProvider:()=>f.of,wrapError:()=>i.Jn,wrapErrorAndLog:()=>i.bO});var r=n(25017),i=n(8515),o=n(86653),s=n(51974),a=n(47852),c=n(81913);class u extends c.hy{constructor(){super(),this.events=[]}clear(){this.events=[]}send(e){this.events.push(e)}matchEvents(e){const t=this.getMatchedEventsCount(e);return 0==e.length-t}assertMatch(e,t){const n=this.events;if(!this.matchEvents(e))throw new Error(`${t}\nexpected:\n${JSON.stringify(e)}\n\nactual:\n${JSON.stringify(n)}`)}matchAnyEvent(e){return this.getMatchedEventsCount(e)>0}assertMatchAny(e,t){const n=this.events;if(!this.matchAnyEvent(e))throw new Error(`${t}\nexpected:\n${JSON.stringify(e)}\n\nactual:\n${JSON.stringify(n)}`)}getMatchedEventsCount(e){let t=0;return this.events.forEach((n=>{t<e.length&&u.eventsMatch(n,e[t])&&++t})),this.events=[],t}static eventsMatch(e,t){const n=Object.assign(Object.assign({},e),t);return JSON.stringify(n)===JSON.stringify(e)}}var l=n(14208),h=n(18435),d=n(25530),f=n(44172)},81913:(e,t,n)=>{"use strict";n.d(t,{G2:()=>l,XI:()=>r,Xr:()=>d,cP:()=>u,hy:()=>c,nI:()=>f,yw:()=>h});var r,i=n(59822),o=n(46985),s=n(44172),a=n(8515);!function(e){e.PackageData="PackageData",e.CodeArtifact="CodeArtifact",e.UserData="UserData"}(r||(r={}));class c{constructor(e,t){this.namespace=e,this.properties=t}static formatTick(e){return Math.floor(e)}static numberFromString(e){if(null==e)return;const t=Number(e);return Number.isNaN(t)?e:t}static sanitizePkgName(e){return e.replace("@","").replace("/","-")}static prepareErrorObject(e,t,n){const{message:r,errorType:i,stack:o}=(0,a.YC)(t,!0);if(e.stack=o,e.error=r,e.errorType=i,(0,a.nE)(t)){const n=t.getTelemetryProperties();for(const t of Object.keys(n))void 0===e[t]&&(e[t]=n[t])}void 0===e.stack&&n&&(e.stack=(0,a.gr)())}sendTelemetryEvent(e,t){var n;this.sendTelemetryEventCore(Object.assign(Object.assign({},e),{category:null!==(n=e.category)&&void 0!==n?n:"generic"}),t)}sendTelemetryEventCore(e,t){const n=Object.assign({},e);void 0!==t&&c.prepareErrorObject(n,t,!1),"number"==typeof n.duration&&(n.duration=c.formatTick(n.duration)),this.send(n)}sendErrorEvent(e,t){this.sendTelemetryEventCore(Object.assign(Object.assign({error:e.eventName},e),{category:"error"}),t)}sendPerformanceEvent(e,t){var n;const r=Object.assign(Object.assign({},e),{category:null!==(n=e.category)&&void 0!==n?n:"performance"});this.sendTelemetryEventCore(r,t)}prepareEvent(e){const t="error"===e.category||void 0!==e.error,n=Object.assign({},e);if(void 0!==this.namespace&&(n.eventName=`${this.namespace}${c.eventNamespaceSeparator}${n.eventName}`),this.properties){const r=[];r.push(this.properties.all),t&&r.push(this.properties.error);for(const t of r)if(void 0!==t)for(const r of Object.keys(t)){if(void 0!==e[r])continue;const i=t[r],o="function"==typeof i?i():i;void 0!==o&&(n[r]=o)}}return n}}c.eventNamespaceSeparator=":";class u{constructor(e){this.logger=e}send(e){const t={category:e.category,eventName:e.eventName};for(const n of Object.keys(e)){const i=e[n],{value:o,tag:s}="object"==typeof i?i:{value:i,tag:void 0};switch(s){case void 0:case r.PackageData:t[n]=o;break;case r.UserData:t[n]="REDACTED (UserData)";break;default:t[n]="REDACTED (unknown tag)"}}this.logger.send(t)}}class l extends c{constructor(e,t,n){super(t,n),this.baseLogger=e,(0,s.yV)(e)&&(0,s.UK)(this,new s.MD(e.config))}static create(e,t,n){if(e instanceof l){const r={};for(const t of[e.properties,n])void 0!==t&&(void 0!==t.all&&(r.all=Object.assign(Object.assign({},r.all),t.all)),void 0!==t.error&&(r.error=Object.assign(Object.assign({},r.error),t.error)));const i=void 0===e.namespace?t:void 0===t?e.namespace:`${e.namespace}${c.eventNamespaceSeparator}${t}`;return new l(e.baseLogger,i,r)}return new l(e||new i.Rj,t,n)}send(e){this.baseLogger.send(this.prepareEvent(e))}}class h extends c{constructor(e,t){super(e,t),this.loggers=[]}addLogger(e){null!=e&&this.loggers.push(e)}send(e){const t=this.prepareEvent(e);this.loggers.forEach((e=>{e.send(t)}))}}class d{constructor(e,t,n={end:!0,cancel:"generic"}){this.logger=e,this.markers=n,this.startTime=o.S.now(),this.event=Object.assign({},t),this.markers.start&&this.reportEvent("start"),"object"==typeof window&&null!=window&&window.performance&&(this.startMark=`${t.eventName}-start`,window.performance.mark(this.startMark))}static start(e,t,n){return new d(e,t,n)}static timedExec(e,t,n,r){const i=d.start(e,t,r);try{const e=n(i);return i.autoEnd(),e}catch(e){throw i.cancel(void 0,e),e}}static async timedExecAsync(e,t,n,r){const i=d.start(e,t,r);try{const e=await n(i);return i.autoEnd(),e}catch(e){throw i.cancel(void 0,e),e}}get duration(){return o.S.now()-this.startTime}reportProgress(e,t="update"){this.reportEvent(t,e)}autoEnd(){this.event&&this.markers.end&&this.reportEvent("end"),this.performanceEndMark(),this.event=void 0}end(e){this.reportEvent("end",e),this.performanceEndMark(),this.event=void 0}performanceEndMark(){if(this.startMark&&this.event){const e=`${this.event.eventName}-end`;window.performance.mark(e),window.performance.measure(`${this.event.eventName}`,this.startMark,e),this.startMark=void 0}}cancel(e,t){void 0!==this.markers.cancel&&this.reportEvent("cancel",Object.assign({category:this.markers.cancel},e),t),this.event=void 0}reportEvent(e,t,n){if(!this.event)return;const r=Object.assign(Object.assign({},this.event),t);r.eventName=`${r.eventName}_${e}`,"start"!==e&&(r.duration=this.duration),this.logger.sendPerformanceEvent(r,n)}}class f{send(e){}sendTelemetryEvent(e,t){}sendErrorEvent(e,t){this.reportError("errorEvent in UT logger!",e,t)}sendPerformanceEvent(e,t){}logGenericError(e,t){this.reportError("genericError in UT logger!",{eventName:e},t)}logException(e,t){this.reportError("exception in UT logger!",e,t)}debugAssert(e,t){this.reportError("debugAssert in UT logger!")}shipAssert(e,t){this.reportError("shipAssert in UT logger!")}reportError(e,t,n){const r=new Error(e);throw r.error=r,r.event=t,console.error(e),console.error(r),r}}},25530:(e,t,n)=>{"use strict";n.d(t,{E:()=>i});var r=n(46985);class i{constructor(e,t,n,r=!1,i=new Map){this.eventBase=e,this.logger=t,this.sampleThreshold=n,this.includeAggregateMetrics=r,this.perBucketProperties=i,this.disposed=!1,this.measurementsMap=new Map}measure(e,t=""){var n,i,o;const s=r.S.now(),a=e(),c=r.S.now()-s;let u=this.measurementsMap.get(t);return void 0===u&&(u={count:0,duration:-1},this.measurementsMap.set(t,u)),u.count++,u.duration=c,this.includeAggregateMetrics&&(u.totalDuration=(null!==(n=u.totalDuration)&&void 0!==n?n:0)+c,u.minDuration=Math.min(null!==(i=u.minDuration)&&void 0!==i?i:c,c),u.maxDuration=Math.max(null!==(o=u.maxDuration)&&void 0!==o?o:0,c)),u.count>=this.sampleThreshold&&this.flushBucket(t),a}flushBucket(e){const t=this.measurementsMap.get(e);if(void 0!==t&&0!==t.count){const n=this.perBucketProperties.get(e),r=Object.assign(Object.assign(Object.assign({},this.eventBase),n),t);this.logger.sendPerformanceEvent(r),this.measurementsMap.delete(e)}}dispose(e){this.measurementsMap.forEach(((e,t)=>this.flushBucket(t)))}}},14208:(e,t,n)=>{"use strict";n.d(t,{z:()=>r});class r{constructor(e,t,n=e){this.threshold=e,this.logger=t,this.thresholdMultiple=n}send(e,t){t<this.threshold||this.logger.sendPerformanceEvent({eventName:e,value:t})}sendIfMultiple(e,t){t===this.thresholdMultiple&&(this.logger.sendPerformanceEvent({eventName:e,value:t}),this.thresholdMultiple=2*this.thresholdMultiple)}}},18435:(e,t,n)=>{"use strict";function r(e,t,n){if(e)return!0;const r="string"==typeof n?{eventName:n,category:"error"}:Object.assign({category:"error"},n);return t.send(r),!1}n.d(t,{M:()=>r})},7349:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.generateTestUser=void 0;const i=r(n(56829)),o=n(11719);t.generateTestUser=()=>({id:(0,o.v4)(),name:(0,i.default)()})},11496:(e,t,n)=>{"use strict";t.V8=void 0;var r=n(67060);Object.defineProperty(t,"V8",{enumerable:!0,get:function(){return r.InsecureTokenProvider}});n(7349)},38602:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shortCodeMap=void 0,t.shortCodeMap={"0x000":"nonzero isobuffer byte offset","0x001":"unexpected isobuffer byte length","0x003":"Primary to add to range < last primary!","0x004":"Secondary to add to range < last secondary!","0x005":"Target primary to retrieve < first range's primary!","0x006":"Target primary to retrieve < last range's primary!","0x007":"Target primary to update < first range's primary!","0x008":"Target primary to update < last range's primary!","0x009":"After update, target primary is not first range's primary!","0x00a":"Running timer missing handler","0x00b":"Handler executed without deferred","0x00c":"messageId is incorrect from from the local client's ACK","0x00d":"Missing message handler for message type","0x00e":"Missing message handler for message type","0x00f":"pendingMessageId is missing from the local client's operation","0x010":"Received out of order storage op when there is an unackd clear message","0x011":"pendingMessageId is missing from the local client's operation","0x012":"pendingMessageId is missing from the local client's operation","0x013":"Received out of order op when there is an unackd clear message","0x014":"pendingMessageId is missing from the local client's operation","0x015":"pendingMessageId is missing from the local client's clear operation","0x016":"apply stashed op not implemented for custom value type ops","0x017":"Trying to add invalid handle!","0x018":"Trying to insert handle into position with already valid handle!","0x019":"SharedMatrix.openUndo() supports at most a single IUndoConsumer.","0x01a":"Trying to set out-of-bounds cell!","0x01b":"Trying to set multiple out-of-bounds cells!","0x01c":"The 'localSeq' of the vector submitting an op must >= the 'localSeq' of the other vector.","0x01d":"Trying to submit message to runtime while detached!","0x01e":"Row and col collab window 'localSeq' desynchronized!","0x01f":"Row and col collab window 'collaborating' status desynchronized!","0x020":"Unknown SharedMatrix 'op' type.","0x021":"SharedMatrix message contents have unexpected type!","0x022":"SharedMatrix row and/or col handles are invalid!","0x023":"The 'localSeq' of pending write (if any) must be <= the localSeq of the currently processed op.","0x024":"Start of PermutationSegment already allocated!","0x025":"Trying to set start of PermutationSegment to invalid handle!","0x026":"Trying to split segment at out-of-bounds position!","0x027":"Trying to get handle of out-of-bounds position!","0x028":"'localSeq' for op being resubmitted must be <= the 'localSeq' of the last submitted op.","0x029":"Invalid handle at start of containing segment!","0x02a":"On vector undo, unexpected 'currentOp' type/state!","0x02b":"Must not nest calls to IRevertible.revert()","0x02c":"On cellSet(), invalid row and/or column handles!","0x02d":"Unexpected op type on range remove!","0x02e":"Unexpected op type on range annotate!","0x02f":"Unexpected op type on range insert!","0x030":"Incoming remote op sequence# <= local collabWindow's currentSequence#","0x031":"Incoming remote op minSequence# < local collabWindow's minSequence#","0x032":"localSeq greater than collab window","0x033":"Segment group undefined","0x034":"Segment group not at head of merge tree pending queue","0x035":"Segment group not at head of segment pending queue","0x036":"Segment has no pending properties","0x037":"Segment already has assigned sequence number","0x038":"Incoming op sequence# < local collabWindow's currentSequence#","0x039":"Incoming op sequence# < minSequence#","0x03a":"Number of ops in 'resetOp' must match the number of segment groups provided.","0x03b":"Number of ops in 'resetOp' must match the number of segment groups provided.","0x03c":"Reset op has 'group' delta type!","0x03d":"segmentGroup is array rather than singleton!","0x03e":"minSeq mismatch between collab window and delta manager!","0x03f":"New format should not emit catchup ops","0x040":"Child count is not within [1,7] range!","0x041":"Unexpected child ordinal length!","0x043":"On ack, unexpected segmentGroup!","0x044":"On annotate ack, missing segment property manager!","0x045":"On insert, seq number already assigned!","0x046":"On remove ack, missing removal info!","0x048":"onMinGE()","0x049":"Trying to reload from segments while collaborating!","0x04f":"minSeq of collab window > target minSeq!","0x050":"Next segment changes are undefined!","0x051":"Too many children on merge block!","0x054":"Sequence number less than minSeq!","0x055":"Sequence number is not sorted!","0x056":"Unexpected total for accumulation of all seglen adjustments!","0x057":"Negative length after length adjustment!","0x058":"Both overlapRemoveClients and clientPartials are set!","0x059":"Client view exists but flat view does not!","0x05a":"Mismatch between number of partial lengths on client and flat views!","0x05b":"Flat view exists but client view does not!","0x05c":"Trying to update more annotate props than do exist!","0x05d":"emit: mismatch in segmentsTotalLength","0x05e":"emit: mismatch in totalSegmentCount","0x05f":"Missing blob header on legacy snapshot!","0x060":"There should be only one blob with catch up ops","0x061":"Mismatch in totalLength","0x062":"Mismatch in totalSegmentCount","0x063":"Mismatch in totalLength","0x064":"Mismatch in totalSegmentCount","0x065":"On removal info preservation, segment has invalid removed sequence number!","0x066":"Corrupted preservation of segment metadata!","0x067":"Missing clientId for removal!","0x068":"On consensusOrderedCollection load, job tracking size > 0","0x069":"On consensusOrderedCollection load, data size > 0","0x06a":"Trying to submit message while detached!","0x06b":"Loading snapshot into a non-empty collection","0x06c":"Value should be undefined or non-empty","0x06d":"SharedObjects contained in ConsensusRegisterCollection can no longer be deserialized as of 0.17","0x06e":"Message's reference sequence number < op's reference sequence number!","0x06f":"data missing for non-atomic inbound update!","0x070":"sequence numbers are expected to be 0 when unattached","0x071":"Versions should naturally be ordered by sequenceNumber","0x072":"Unexpected local op when loading not finished","0x073":"Sequence message not operation","0x074":"Snapshot called when not fully loaded","0x075":"SummarySerializer should be used for serializing data during summary.","0x078":"Possible re-entrancy! Summary should not already be in progress.","0x079":"Possible re-entrancy! Summary should have been in progress.","0x07a":"Services should be there to attach delta handler","0x07b":"Unexpected op","0x07c":"Unexpected op type","0x07d":"Unexpected op","0x07e":"Unexpected op type","0x07f":"clientId undefined","0x080":"Invalid document service!","0x081":"Document service already set!","0x082":"Document storage service already set!","0x083":"User selection status does not match replay controller use status!","0x084":"On storage resolve, user selection already made!","0x085":"On storage resolve, missing storage!","0x086":"After storage resolve, user selection status still false!","0x088":"Missing button ops button!","0x089":"Stringified length of chunk contents > total starting length","0x08a":"resetting ChunkedOpProcessor that never wrote back its contents","0x08b":"Unexpected type on contents for fix of an attach!","0x08c":"innerContent for fixing op contents is undefined!","0x08d":"After sanitize, pending incomplete ops!","0x08e":"Potentially missed initial messages","0x08f":"No op handler is setup!","0x090":"No signal handler is setup!","0x091":"Retrieved ops' first sequence number has unexpected value!","0x092":"version input for reading snapshot tree is null!","0x093":"invalid version input for reading snapshot tree!","0x094":"Missing snapshot tree!","0x096":"Trying to remove valid tree IDs in removeNullTreeIds()!","0x097":"Missing param from office.com URL parameter","0x098":"OuterDocumentServiceFactoryProxy unavailable","0x099":"OuterUrlResolverProxy unavailable","0x09a":"'documentId' must be a defined, non-zero length string.","0x09d":"Connection details should contain epoch","0x09f":"No more socketIO refs to remove!","0x0a0":"Unexpected socketIO references on timeout","0x0a1":"Socket reference set unexpectedly does not point to this socket!","0x0a2":"reentrancy not supported!","0x0a4":"Unexpected blob encoding type","0x0a5":"Trying to set ops when they are already set!","0x0a8":"Docid should not contain slashes!!","0x0ad":"Snapshot entry has both a tree value and a referenced id!","0x0ae":"Tried to create rate limiter with 0 max requests!","0x0b0":"Missing document snapshot tree!","0x0b1":"Storage service not initialized","0x0b2":"Missing orderer URL!","0x0b7":"Pathname should be defined","0x0b8":"'tenantId' and 'documentId' must be defined, non-zero length strings.","0x0b9":"PathName should exist","0x0ba":"Tenant id should exist","0x0bb":"Document id should exist","0x0bc":"Runtime has no DataObject!","0x0bd":"Object runtime already has DataObject!","0x0be":"Trying to initialize from existing while initProps is set!","0x0bf":"set called recursively from the interception callback","0x0c0":"set called recursively from the interception callback","0x0c1":"Interception wrapper methods called recursively from the interception callback","0x0c2":"Interception wrapper methods called recursively from the interception callback","0x0c3":"Interception wrapper methods called recursively from the interception callback","0x0c4":"Interception wrapper methods called recursively from the interception callback","0x0c5":"Interception wrapper methods called recursively from the interception callback","0x0c6":"Interception wrapper methods called recursively from the interception callback","0x0c7":"Interception wrapper methods called recursively from the interception callback","0x0c8":"Interception wrapper methods called recursively from the interception callback","0x0c9":"Interception wrapper methods called recursively from the interception callback","0x0ca":"Trying to use legacy graph attach!","0x0cd":"Container disconnected while waiting for ops!","0x0cf":"disconnect event was not raised!","0x0d1":"Container should be attached before close","0x0d2":"resolved url should be valid Fluid url","0x0d3":"Should only be called in detached container","0x0d6":"Inbound queue should be empty when attaching","0x0d9":"Attempting to connect() a closed DeltaManager","0x0dd":"Existing context not disposed","0x0de":"Mismatch in connection state while setting","0x0df":"Missing active connection","0x0e0":"lost minBlobSize policy","0x0e2":"DeltaManager already has attached op handler!","0x0e3":"Newly set op handler is null/undefined!","0x0e4":"Lost old connection!","0x0e6":"old connection exists on new connection setup","0x0e7":"claims/connectionMode mismatch","0x0e8":"readonly perf with write connection","0x0e9":"messageBuffer is not empty on new connection","0x0eb":"Missing connection for reconnect","0x0ec":"Unexpected value for previously processed message's sequence number","0x0ed":"non-system message have to have clientId","0x0ee":"Not accounting local messages correctly","0x0ef":"client seq# not growing","0x0f0":"Incoming local client seq# > generated by this client","0x0f2":"previouslyProcessedMessage","0x0f3":"not positive","0x0f4":"Nonzero pause-count on resume()","0x0f6":"real blob ID exists","0x0f7":"aggregate blob missing","0x0f8":"blob from aggregate blob exists on its own","0x0f9":"never read summary","0x0fa":"virtual blob not found","0x0fb":"logic err with aggregator","0x0fc":"tree reuse at lower level","0x0fd":"data stores are writing incremental summaries!","0x0fe":"attachment is aggregate blob","0x0ff":"duplicate aggregate blob","0x100":"logic error","0x101":"Unexpected tree entry type on flatten!","0x102":"invalid level of concurrency","0x103":"trying to parallel run while not working","0x104":"undefined end point for parallel fetch","0x105":"unexpected end point for parallel fetch","0x107":"ending dispatch with remaining results to be sent","0x108":"ending results dispatch but knew in advance about more requests","0x109":"unexpected next chunk position","0x10a":"cannot add parallel request while not working","0x10b":"invalid parallel request range","0x10c":"invalid parallel request start point","0x10d":"invalid parallel request end point","0x10e":"should not throw result if we knew about boundary in advance","0x10f":"empty/partial chunks should not be returned by caching","0x110":"callback should retry until valid fetch before it learns new boundary","0x112":"cannot push onto queue if done","0x113":"deferred queue should be empty","0x114":"cannot pop if deferred","0x115":"queue should not be done during pop","0x116":"Missing handle on scheduler load","0x117":"Trying to get missing clientId!","0x118":"Bad client interactive check","0x119":"This agent became inactive while releasing","0x11a":"Unsuccessful registration","0x11b":"Trying to clear tasks on inactive agent","0x11c":"Detached object routing context","0x11d":"task is already running","0x11e":"client is undefined","0x11f":"requesting unknown blobs","0x120":"Undefined latency statistics (op send time)","0x121":"Undefined inner contents type!","0x122":"Message to unpack is not proper runtime message","0x124":"inconsistent readonly property/event state","0x125":"Unsafe to transition to read-only state!","0x126":"Expected createSubRequest url to include a leading slash","0x127":"dirty document event not set on replay","0x12a":"Missing blob id on metadata","0x12b":"did not get root data store","0x12d":"Container Context should already be in attaching state","0x12e":"Container Context should already be in attached state","0x12f":"Container Runtime's summarize should always return a tree","0x131":"Mismatch between new chunkId and expected chunkMap","0x132":"sending ops in detached container","0x133":"Container disconnected when trying to submit system message","0x137":"Failed to get version from storage","0x138":"Failed to get snapshot from storage","0x139":"Undefined package path","0x13a":"Data store ID contains slash","0x13b":"datastore context is already in bound state","0x13c":"undefined channel on datastore context","0x13d":"Detached runtime creation on realize()","0x13e":"Unexpected package path","0x13f":"datastore context registry is already set","0x140":"undefined channel on datastore context","0x141":"Unexpected connected state","0x142":"local store channel is not loaded","0x143":"Channel should not be undefined when running GC","0x144":"Channel should be loaded when updating used routes","0x145":"Channel should be present when data store is loaded","0x146":"Channel must exist when submitting message","0x147":"Channel must exist on submitting signal","0x148":"Detached runtime creation on runtime bind","0x149":"Undefined channel deferral","0x14a":"Undefined package path","0x14b":"Channel must exist when resubmitting ops","0x14c":"Channel must exist when rebasing ops","0x14d":"Should move from detached to attaching","0x14e":"Should move from attaching to attached","0x14f":"There should be a channel when generating attach message","0x150":"pkg should be available in local data store context","0x152":"pkg should be available in local data store","0x154":"runtime creation is already attached","0x155":"channel deferral is already set","0x156":"Unexpected factory for package path","0x157":"datastore registry already attached","0x158":"Creating store with existing ID","0x159":"The given id was not found in notBoundContexts to delete","0x15a":"Cannot find context to resolve to","0x15b":"Expected this id to already be removed from notBoundContexts","0x15c":"Cannot find deferred to resolve","0x15d":"Creating store with existing ID","0x15e":"Local object does not have matching attach message id","0x15f":"Could not find unbound context to bind","0x160":"There should be a store context for the op","0x161":"There should be a store context for the op","0x162":"There should be a store context for the op","0x163":"Missing datastore for local signal","0x165":"Summarizer cannot work if client has local changes","0x166":"BaseSnapshot should be there as detached container loaded from snapshot","0x167":"Used route does not belong to any known data store","0x168":"Expected tree in snapshot not found","0x169":"No pending message found for this remote message","0x16b":"The pending batch state indicates we are already processing a batch","0x16d":"There is no pending batch begin message","0x16e":"Batch with single message should not have batch metadata","0x16f":"Did not receive batch begin metadata","0x170":"Did not receive batch end metadata","0x171":"No pending state found for the remote message","0x172":"The connection state is not consistent with the runtime","0x173":"replayPendingStates called twice for same clientId!","0x174":"initial states should be empty before replaying pending","0x175":"Can only broadcast if summarizer starts in local state","0x176":"Can only ack/nack if summarizer is in broadcasting state","0x177":"Missing delta handler","0x178":"Missing delta handler on attach","0x179":"createChannel() with existing ID","0x17a":"Channel should be loaded when created!!","0x17b":"Channel to be binded should be in not bounded set","0x17c":"Unexpected attach (local) channel OP","0x17e":"Used route does not belong to any known context","0x17f":"Not expecting detached channels during summarize","0x180":"getAttachSummary should always return a tree","0x181":"BaseSnapshot should be there as detached container loaded from snapshot","0x182":"Data store should be attached to attach the channel.","0x183":"There should be a channel context for the op","0x184":"There should be a channel context for the op","0x185":"Channel not found","0x189":"Should always be remote because a local dds shouldn't generate ops before loading","0x18a":"Channel should be loaded to resubmit ops","0x18c":"Channel should be loaded to summarize","0x18d":"Channel should be loaded to take snapshot","0x18e":"Channel must not already be loaded when loading","0x190":".attributes blob should be present","0x192":"Channel should be there if loaded!!","0x193":"Channel should be loaded to run GC","0x194":"Remote channel must be loaded when rebasing op","0x195":"Remote channel must not be local when processing op","0x196":"Remote channel must be loaded when resubmitting op","0x197":"Remote channel must not already be loaded when loading","0x198":"Used route should always be an absolute route","0x19a":"Invalid response value for Fluid object request","0x19b":"Cannot not create response error on 200 status","0x19c":"storage service path has trailing separator","0x19d":"Handles should always have absolute paths","0x19f":"wipSummaryLogger should not be set yet in startSummary","0x1a0":"Already tracking a summary","0x1a1":"summarize should not be called when not tracking the summary","0x1a2":"wipSummaryLogger should have been set in startSummary or ctor","0x1a3":"wipSummaryLogger should have been set in startSummary or ctor","0x1a4":"Not tracking a summary","0x1a5":"Tracked summary local paths not set","0x1a6":"Not found pending summary, but this node has previously completed a summary","0x1a7":"Pending summary reference sequence number should be consistent","0x1a9":"When loading base summary, expected outstanding ops <= tracking sequence number","0x1aa":"Out of order change recorded","0x1ab":"Create SummarizerNode child already exists","0x1ac":"Cannot create child from summary if parent does not have latest summary","0x1ad":"Missing child summary tree","0x1ae":"Child summary object is not a tree","0x1af":"Outstanding ops blob missing, but base summary tree exists","0x1b0":"Base summary tree missing, but outstanding ops blob exists","0x1b1":"wip used routes should be set if tracking a summary","0x1b2":"Getting GC data should not be called when GC is disabled!","0x1b3":"GC data cannot be retrieved without getGCDataFn","0x1b4":"We should not already be tracking used routes when to track a new summary","0x1b5":"We should have been tracking used routes","0x1b6":"Create SummarizerNode child already exists","0x1b7":"Bad session state for processing quorum messages","0x1b8":"Bad session state for processing quorum messages","0x1b9":"Unexpected value for sequence number of first message in file","0x1ba":"should not return empty buckets","0x1bb":"Unexpected sequence number on first of messages to save","0x1bc":"Unexpected sequence number on last of messages to save","0x1bd":"Stopped writing at unexpected sequence number","0x1c5":"snapshot should be set before retrieving it","0x1c6":"snapshot should be set before retrieving it","0x1c7":"snapshot should be set before retrieving it as expanded string","0x1c8":"Mismatch between document sequence number and current op number","0x1c9":"Leftover documents after replay!","0x1ca":"replay-to target is <= current op in replay cycle","0x1cb":"Bad window to verify snapshot","0x1cc":"Unexpected previous snapshot op number","0x1ce":"clientId not found","0x1cf":"clientId not found","0x1d0":"sequenceNumber not found","0x1d3":"Missing client id on disconnect","0x1d5":"Invalid snapshot format version","0x1d6":"Parent summary object is not a tree","0x1d8":"Should only transition from Connecting state","0x1d9":"addRequestCore() should break into smaller chunks","0x1da":"Client id should be set if connected","0x1db":"epoch exists","0x1dc":"all entries have to have epoch","0x1dd":"no epoch","0x1de":"Not an ODSP resolved url","0x1e0":"Protocol and App summary trees should be present","0x1e2":"Caller must ensure 'isAttached()' before calling 'sendSetCellOp'.","0x1e4":"Unexpected serializable type","0x1e5":"Storage token should not be null","0x1e6":"Epoch  should be present in response","0x1e7":"caching was not performed!","0x1e8":"reentrancy","0x1e9":"Pending ops","0x1ea":"Prefetch snapshot only available for odsp!","0x1eb":"Snapshot should be prefetched!","0x1ec":"No refresh token provided.","0x1ed":"Share link should be present","0x1ef":"services must be defined","0x1f0":"Unexpected mismatch in readonly","0x1f5":"Attached state should have storage","0x1f6":"Negative client sequence number not allowed","0x1f7":"Previous client should always be defined","0x1f8":"local BlobAttach op with no pending blob","0x1fc":"summary is not a tree","0x1fe":"isolated channels subtree should exist in remote datastore snapshot","0x1ff":"isolated channels subtree should exist in local datastore snapshot","0x200":"Returned odsp snapshot is malformed. No trees!","0x201":"Returned odsp snapshot is malformed. No blobs!","0x203":"Summary handle is undefined","0x205":"attach() called more than once","0x207":"Channel should be defined","0x208":"Factory should be undefined before loading","0x209":"Factory Type should be defined","0x20a":"register for event on disposed object","0x20b":"mismatch","0x20c":"connection disposed","0x20d":"double connection listener","0x20e":"double tracked listener","0x20f":"Driver min read version should >= to server minReadVersion","0x210":"Snapshot should be created with minReadVersion or above","0x219":"1 root should be there","0x21b":"Snapshot id should be provided","0x21c":"Seq number should be provided","0x21d":"body is not string","0x21e":"improper boundary format","0x220":"socket key collision","0x221":"Root tree should contain the id","0x222":"Root tree should contain the id!!","0x223":"unexpected end of buffer","0x224":"Skip length should be positive","0x225":"Data should be there","0x226":"Should write complete data","0x227":"Data should be there","0x22b":"Should be a pair","0x22c":"reading pairs","0x231":"Number should be an integer","0x232":"Payload should not be negative","0x233":"Unexpected data at the end of buffer","0x234":"has joinOpTimer","0x235":"no joinOpTimer","0x236":"In all cases it should be already installed","0x237":"Snapshot should exist","0x238":"called only in connected state","0x239":"called only in disconnected state","0x23a":"seq#'s","0x23b":"we are not packing at the right level","0x23c":"we are not packing at the right level","0x23d":"pending is undefined","0x23e":"pending is undefined","0x23f":"pending undefined","0x240":"Binary format snapshot only for odsp driver!!","0x241":"disconnect should result in stopSequenceNumberUpdate() call","0x242":"has timer","0x243":"stopSequenceNumberUpdate should be called as result of sending any op!","0x244":"Socket is closed, but connection is not!","0x245":"tracked listener","0x246":"checking consistency of socket & _disposed flags","0x247":"Use addTrackedListener instead","0x248":"should not subscribe to forwarded events","0x24c":"Cannot call `flush()` from `orderSequentially`'s callback","0x24e":"assertion for type narrowing","0x250":"serialized container with attachment blobs must be rehydrated with detached blob storage","0x251":"creation summary has to have seq=0 && handle === undefined","0x252":"redirect table can only be set in detached container","0x253":"redirect table already exists","0x254":"unrecognized id in redirect table","0x255":"detached blob id absent in redirect table","0x256":"storage undefined in attached container","0x257":"This is not summarizing container","0x258":"connected","0x259":"Container disconnected when trying to submit system message","0x25b":"Caller is responsible for checking lock","0x25d":"We should never connect as 'read'","0x25e":"no reason to call fail if all promises have been completed","0x25f":"retryAfterSeconds","0x260":"Disposed should mean disconnected!","0x261":"Expected: off","0x262":"Old summarizer is still working!","0x263":"Expected: starting","0x264":"Expected: Not Off","0x266":"lastKnownSeqNumber should never be below last processed sequence number","0x267":"lastObservedSeqNumber should be updated first","0x268":"There can't be pending fetch that early in boot sequence!","0x269":"pending ops are not dropped","0x26a":"not closed","0x26b":"initial state","0x26c":"handler should be installed","0x26d":"wrong start","0x26e":"wrong start","0x26f":"continuous and no duplicates","0x270":"All requested ops fetched","0x272":"empty request","0x273":"Invalid document id from parsed URL","0x274":"type check","0x275":"Root tree should contain the id","0x278":"API is not supported for non-connecting or closed container","0x27b":"reentrancy may result in incorrect behavior","0x280":"Validate first op seq number","0x281":"Unreferenced if present should be true","0x282":"Headers should be present now","0x283":"Length of data len should fit in the bytes from the map","0x284":"Length of id should fit in the bytes from the map","0x285":"Start code should not undefined","0x286":"End code should not undefined","0x287":"key must exist in the map","0x288":"All properties should exist","0x289":"logic error","0x28a":"can't be disposed - Callers need to ensure that!","0x292":"Unexpected undefined result from getFileLinkCore","0x293":"initial state","0x294":"can't have op processing paused if we are processing an op","0x295":"there should be no pending batch if we have no ops","0x296":"we should never start processing incomplete batch!","0x297":"always called from resumed state","0x298":"we have something in the queue that generates this event","0x299":"non-synchronized state","0x29a":"System message in the middle of batch!","0x29b":"system op in a batch?","0x29c":"we should be processing ops when there is no active batch","0x29d":"we should be processing ops when there is no active batch","0x29e":"there can't be active batch","0x29f":"we should be processing ops when there is no active batch","0x2a0":"batch presence was validated above","0x2a1":"logic error","0x2a2":"Batch is interrupted by other client op. Should be caught by trackPending()","0x2a3":"container should be closed on any error","0x2a5":"join timer","0x2a6":"waitingForLeaveOp should imply writeConnection (we need to be ready to flush pending ops)","0x2a7":"Container is not attached","0x2a8":"Expected data store snapshot tree in base snapshot","0x2a9":"GC nodes for data store not in GC blob","0x2ac":"Connected when timeout waiting for leave from previous session fired!","0x2ad":"GC blob missing from snapshot","0x2ae":"node id should always be an absolute route","0x2af":"Child GC data should have been initialized","0x2b0":"Used route should always be an absolute route","0x2b1":"This should have be initiallized when generate GC nodes above","0x2b2":"Two entries for the same GC node with different unreferenced timestamp","0x2b3":"logic error","0x2b4":"not connected on sending ops!","0x2b5":"logic error","0x2b6":"Missing data store context","0x2b8":"Chunk should be set in map","0x2ba":"batchBegin must fire before batchEnd","0x2bb":"Instrumented token fetcher with throwOnNullToken = true should never return null","0x2bc":"Instrumented token fetcher with throwOnNullToken =true should never return null","0x2bd":"We should not see a pending FlushMode until we see a flush when processing a batch","0x2be":"LocalReferences array contains a gap","0x2bf":"both removedClientIds and removedSeq should be set or not set","0x2c0":"ID must be created before adding interval to collection","0x2c1":"Creating an interval collection that already exists?","0x2c2":"Create Version should be equal to currentReadVersion","0x2c4":"client should not be summarizer before container is created","0x2c5":"Attempting to connect() a closed Container","0x2c6":"Attempting to connect() a container that is not attached","0x2c7":"Attempting to disconnect() a closed Container","0x2c8":"outboundPushEventTime should be undefined","0x2c9":"durationNetwork should be undefined","0x2ca":"durationOutboundBatching should be undefined","0x2cb":"submitOpEventTime should be undefined","0x2cc":"OpTimeSittingInboundQueue should be undefined","0x2cd":"durationNetwork should be undefined","0x2ce":"msnTrackingTimestamp should not be undefined","0x2cf":"undefined channel on datastore context","0x2d0":"Data store should be globally visible to attach channels.","0x2d1":"Data store should be locally visible before it can become globally visible.","0x2d2":"Data store should be globally visible when its attached.","0x2d3":"Local channel must be globally visible when processing op","0x2d4":"Local channel must be globally visible when resubmitting op","0x2d5":"Invalid blob node id in unused routes.","0x2d7":"No data store with specified id","0x2d8":"Empty change event should not be emitted.","0x2da":"Unknown SharedMatrix 'op' type.","0x2db":"Applying op must generate a pending segment","0x2dc":"Cannot find code proposal","0x2dd":"Cannot find blob for a given id","0x2de":"Package path requested for unsupported node type.","0x2df":"transient references cannot be bound to segments","0x2e0":"lref not a Local Reference","0x2e1":"Support for plain value types removed.","0x2e2":"Must only wait for leave message when clientId in quorum","0x2e3":"Must have a valid protocol handler instance","0x2e4":"there should be service config for active connection","0x2e5":"Must have a base snapshot","0x2e6":"Must have a base snapshot","0x2e7":"Must serialize base snapshot blobs before getting runtime state","0x2e8":"There should be a store context for the op","0x2e9":"Must call getLocalState() after applying initial states","0x2ea":"Configuration state should be enabled","0x2eb":"Summary not supported with configuration disabled","0x2ec":"Blob must be present in blobsContents","0x2ed":"There should be a channel context for the op","0x2ee":"Channel should be loaded to rollback ops","0x2ef":"Local channel must be globally visible when rolling back op","0x2f0":"Remote channel must be loaded when rolling back op","0x2f1":"slideReferences from a segment which has not been removed and acked","0x2f2":"Ref not in the segment localRefs","0x2f3":"Ref not in the segment localRefs","0x2f4":"localRefs must be allocated","0x2f5":"op create references must be SlideOnRemove","0x2f6":"SlideOnRemove references must be op created","0x2f8":"Unexpected accept op, nothing pending","0x2f9":"Unexpected accept op, client not in expectedSignoffs","0x2fa":"Unexpected pending message received","0x2fb":"pendingMessageId does not match","0x2fc":"Invalid localOpMetadata for clear","0x2fd":"pendingMessageId does not match","0x2fe":"Invalid localOpMetadata in submit","0x2ff":"Unexpected pending message received","0x300":"localSeq greater than collab window","0x301":"Either seq or localSeq should be defined","0x302":"No segment found","0x303":"Invalid offset","0x304":"Id cannot contain slashes","0x305":"registerDependent on disposed Dependee","0x306":"invalidateDependents on disposed Dependee","0x307":"endInitialization should be called exactly once","0x308":"onDispose should be set when disposing","0x309":"Cannot unregister dependees on a disposed SimpleObservingDependent.","0x30a":"shouldClientJoinWrite should imply this is a writeConnection","0x30b":"Must have a valid protocol handler instance","0x30c":"Id cannot contain slashes","0x30d":"Id cannot contain slashes","0x30e":"Id cannot contain slashes. DataStoreContext should have validated this.","0x30f":"Channel context ID cannot contain slashes","0x310":"Channel context ID cannot contain slashes","0x311":"expected id to exist on interval","0x312":"snapshot should be parsed","0x313":'Specified user was not of type "TinyliciousUser".',"0x314":"Container properly closed","0x315":"re-entrancy","0x316":"There should be a cached promise of in-progress aliasing","0x317":"dataStoreFactory is undefined","0x318":"resolvedUrl is undefined","0x319":"No delta connection server associated with specified document ID","0x31a":"resolvedUrl is undefined","0x31b":"container1.resolvedUrl is undefined","0x31c":"rightDiv is undefined","0x31d":'options are not of type "IRouterliciousRouteOptions" as expected',"0x31e":"options.tenantId is undefined","0x320":"options.tenantId is undefined","0x322":"options.fluidHost is undefined","0x324":"options.server is undefined","0x325":"options.odspAccessToken is undefined","0x326":"lockResolver is undefined","0x327":"options.server is undefined","0x328":"options.server is undefined","0x329":"browser.umd property is undefined","0x32a":"pendingMessageId does not match","0x32b":"Invalid localOpMetadata for clear","0x32c":"pendingMessageId does not match","0x32d":"Invalid localOpMetadata in submit","0x32e":"Unexpected pending message received","0x32f":"Invalid localOpMetadata for sub directory op","0x330":"Unexpected pending message received","0x331":"Unexpected pending message received","0x332":"Unexpected pending message received","0x333":"PathShared.splice can only insert detached ranges","0x334":"Anchor must not be double freed","0x335":"ObjectForest.getRoot only valid for existing roots","0x336":"ObjectForest must only be given its own Anchors","0x337":"ObjectForest must only be given its own Cursor type","0x338":"ObjectForest must only be given its own Cursor","0x339":"Anchor must not be double freed","0x33a":"Anchor must not be double freed","0x33b":"Cursor must not be freed","0x33c":"Cursor must not be freed","0x33d":"Cursor must be current to be used","0x33e":"Cursor must be current to be used","0x33f":"Cursor must not be double freed","0x340":"Cursor must be current to be used","0x341":"Cursor must be current to be used","0x342":'Invalid usage. "blobid" should always be null',"0x343":'Invalid usage. "count" should always be 1',"0x344":"this.pendingConnection should be undefined","0x345":"this.pendingConnection is undefined when trying to cancel","0x346":"inboundQueuePausedFromInit should be true"}},56823:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateUser=t.generateToken=void 0;const r=n(69577),i=n(80769);function o(){return{id:(0,i.v4)(),name:(0,i.v4)()}}t.generateToken=function(e,t,n,s,a,c=3600,u="1.0"){let l=a||o();""!==l.id&&void 0!==l.id||(l=o());const h=Math.round(Date.now()/1e3),d={documentId:null!=s?s:"",scopes:n,tenantId:e,user:l,iat:h,exp:h+c,ver:u,jti:(0,i.v4)()},f={utf8:t};return r.KJUR.jws.JWS.sign(null,JSON.stringify({alg:"HS256",typ:"JWT"}),d,f)},t.generateUser=o},67060:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(60686),t),i(n(78930),t),i(n(55647),t),i(n(50200),t),i(n(79327),t),i(n(96821),t),i(n(89965),t),i(n(62503),t)},60686:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InsecureTokenProvider=void 0;const r=n(34358),i=n(56823);t.InsecureTokenProvider=class{constructor(e,t){this.tenantKey=e,this.user=t}async fetchOrdererToken(e,t){return{fromCache:!0,jwt:(0,i.generateToken)(e,this.tenantKey,[r.ScopeType.DocRead,r.ScopeType.DocWrite,r.ScopeType.SummaryWrite],t,this.user)}}async fetchStorageToken(e,t){return{fromCache:!0,jwt:(0,i.generateToken)(e,this.tenantKey,[r.ScopeType.DocRead,r.ScopeType.DocWrite,r.ScopeType.SummaryWrite],t,this.user)}}}},55647:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MockDeltaManager=t.MockDeltaQueue=void 0;const r=n(34378),i=n(70941);class o extends r.EventEmitter{constructor(){super(),this.queue=[],this.pauseCount=0,this.processCallback=()=>{}}get disposed(){}get paused(){return 0!==this.pauseCount}get length(){return this.queue.length}get idle(){return 0===this.queue.length}process(){Promise.resolve().then((()=>{for(;0===this.pauseCount&&this.length>0;){const e=this.pop();(0,i.assert)(void 0!==e,"this is impossible due to the above length check"),this.processCallback(e)}}))}push(e){this.queue.push(e),this.emit("push",e),this.process()}pop(){return this.queue.shift()}async pause(){this.pauseCount++}resume(){this.pauseCount--,this.process()}peek(){return this.queue[0]}toArray(){return this.queue}dispose(){}async waitTillProcessingDone(){throw new Error("NYI")}}t.MockDeltaQueue=o;class s extends i.TypedEventEmitter{constructor(){super(),this.readOnlyInfo={readonly:!1},this.clientType=void 0,this.clientDetails=void 0,this._inbound=void 0,this._inboundSignal=void 0,this._outbound=void 0,this.minimumSequenceNumber=0,this.lastSequenceNumber=0,this.lastKnownSeqNumber=0,this.initialSequenceNumber=0,this.hasCheckpointSequenceNumber=!1,this._inbound=new o,this._outbound=new o,this._inboundSignal=new o}get disposed(){}get IDeltaSender(){return this}get inbound(){return this._inbound}get outbound(){return this._outbound}get inboundSignal(){return this._inboundSignal}get version(){}get maxMessageSize(){return 0}get serviceConfiguration(){}get active(){return!0}close(){}submitSignal(e){}flush(){}submit(e,t,n=!1,r){return 0}dispose(){}}t.MockDeltaManager=s},50200:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MockHandle=void 0;const r=n(68668);t.MockHandle=class{constructor(e,t=`mock-handle-${Math.random().toString(36).slice(2)}`,n=`/${t}`){this.value=e,this.path=t,this.absolutePath=n,this.graphAttachState=r.AttachState.Detached}get IFluidHandle(){return this}get isAttached(){return this.graphAttachState===r.AttachState.Attached}async get(){return this.value}attachGraph(){this.graphAttachState=r.AttachState.Attached}bind(){throw Error("MockHandle.bind() unimplemented.")}}},89965:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MockStorage=void 0;const r=n(70941),i=n(42325);class o{constructor(e){this.tree=e}static createFromSummary(e){const t=(0,i.convertSummaryTreeToITree)(e);return new o(t)}static readBlobCore(e,t){if(e)for(const n of e.entries)if(n.path===t[0])return"Blob"===n.type?((0,r.assert)(1===t.length,JSON.stringify(Object.assign({},arguments))),n.value):"Tree"===n.type?o.readBlobCore(n.value,t.slice(1)):void 0}async readBlob(e){const t=o.readBlobCore(this.tree,e.split("/"));return(0,r.assert)(void 0!==t,`Blob does not exist: ${e}`),(0,r.stringToBuffer)(t.contents,t.encoding)}async contains(e){return void 0!==o.readBlobCore(this.tree,e.split("/"))}async list(e){return(0,i.listBlobsAtTreePath)(this.tree,e)}}t.MockStorage=o},79327:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MockSharedObjectServices=t.MockObjectStorageService=t.MockEmptyDeltaConnection=t.MockFluidDataStoreRuntime=t.MockQuorumClients=t.MockContainerRuntimeFactory=t.MockContainerRuntime=t.MockDeltaConnection=void 0;const r=n(34378),i=n(70941),o=n(68668),s=n(57740),a=n(34358),c=n(42325),u=n(80769),l=n(55647);class h{constructor(e,t){this.submitFn=e,this.dirtyFn=t,this._connected=!0}get connected(){return this._connected}attach(e){this.handler=e,e.setConnectionState(this.connected)}submit(e,t){return this.submitFn(e,t)}dirty(){this.dirtyFn()}setConnectionState(e){var t;this._connected=e,null===(t=this.handler)||void 0===t||t.setConnectionState(e)}process(e,t,n){var r;null===(r=this.handler)||void 0===r||r.process(e,t,n)}reSubmit(e,t){var n;null===(n=this.handler)||void 0===n||n.reSubmit(e,t)}}t.MockDeltaConnection=h;class d{constructor(e,t){var n;this.dataStoreRuntime=e,this.factory=t,this.clientSequenceNumber=0,this.deltaConnections=[],this.pendingMessages=[],this.deltaManager=new l.MockDeltaManager,this.dataStoreRuntime.deltaManager=this.deltaManager,this.dataStoreRuntime.quorum=t.quorum,this.clientId=null!==(n=this.dataStoreRuntime.clientId)&&void 0!==n?n:(0,u.v4)(),t.quorum.addMember(this.clientId,{})}createDeltaConnection(){const e=new h(((e,t)=>this.submit(e,t)),(()=>this.dirty()));return this.deltaConnections.push(e),e}submit(e,t){const n=this.clientSequenceNumber++,r={clientId:this.clientId,clientSequenceNumber:n,contents:e,referenceSequenceNumber:this.deltaManager.lastSequenceNumber,type:a.MessageType.Operation};return this.factory.pushMessage(r),this.addPendingMessage(e,t,n),n}dirty(){}process(e){this.deltaManager.lastSequenceNumber=e.sequenceNumber,this.deltaManager.lastMessage=e,this.deltaManager.minimumSequenceNumber=e.minimumSequenceNumber;const[t,n]=this.processInternal(e);this.deltaConnections.forEach((r=>{r.process(e,t,n)}))}addPendingMessage(e,t,n){const r={content:e,clientSequenceNumber:n,localOpMetadata:t};this.pendingMessages.push(r)}processInternal(e){let t;const n=this.clientId===e.clientId;if(n){const n=this.pendingMessages.shift();(0,i.assert)((null==n?void 0:n.clientSequenceNumber)===e.clientSequenceNumber,"Unexpected client sequence number from message"),t=n.localOpMetadata}return[n,t]}}t.MockContainerRuntime=d,t.MockContainerRuntimeFactory=class{constructor(){this.sequenceNumber=0,this.minSeq=new Map,this.quorum=new f,this.messages=[],this.runtimes=[]}get outstandingMessageCount(){return this.messages.length}getMinSeq(){let e;for(const[,t]of this.minSeq)e=e?Math.min(e,t):t;return null!=e?e:0}createContainerRuntime(e){const t=new d(e,this);return this.runtimes.push(t),t}pushMessage(e){e.clientId&&void 0!==e.referenceSequenceNumber&&!this.minSeq.has(e.clientId)&&this.minSeq.set(e.clientId,e.referenceSequenceNumber),this.messages.push(e)}processOneMessage(){if(0===this.messages.length)throw new Error("Tried to process a message that did not exist");let e=this.messages.shift();e=JSON.parse(JSON.stringify(e)),this.minSeq.set(e.clientId,e.referenceSequenceNumber),e.sequenceNumber=++this.sequenceNumber,e.minimumSequenceNumber=this.getMinSeq();for(const t of this.runtimes)t.process(e)}processSomeMessages(e){if(e>this.messages.length)throw new Error("Tried to process more messages than exist");for(let t=0;t<e;t++)this.processOneMessage()}processAllMessages(){for(;this.messages.length>0;)this.processOneMessage()}};class f{constructor(...e){var t;this.eventEmitter=new r.EventEmitter,this.disposed=!1,this.members=new Map(null!==(t=e)&&void 0!==t?t:[])}addMember(e,t){this.members.set(e,t),this.eventEmitter.emit("addMember",e,t)}removeMember(e){this.members.delete(e)&&this.eventEmitter.emit("removeMember",e)}getMembers(){return this.members}getMember(e){return this.getMembers().get(e)}dispose(){throw new Error("Method not implemented.")}addListener(e,t){throw new Error("Method not implemented.")}on(e,t){switch(e){case"afterOn":return this.eventEmitter.on(e,t),this;case"addMember":case"removeMember":return this.eventEmitter.on(e,t),this.eventEmitter.emit("afterOn",e),this;default:throw new Error("Method not implemented.")}}once(e,t){throw new Error("Method not implemented.")}prependListener(e,t){throw new Error("Method not implemented.")}prependOnceListener(e,t){throw new Error("Method not implemented.")}removeListener(e,t){return this.eventEmitter.removeListener(e,t),this}off(e,t){return this.eventEmitter.off(e,t),this}removeAllListeners(e){throw new Error("Method not implemented.")}setMaxListeners(e){throw new Error("Method not implemented.")}getMaxListeners(){throw new Error("Method not implemented.")}listeners(e){throw new Error("Method not implemented.")}rawListeners(e){throw new Error("Method not implemented.")}emit(e,...t){throw new Error("Method not implemented.")}eventNames(){throw new Error("Method not implemented.")}listenerCount(e){throw new Error("Method not implemented.")}}t.MockQuorumClients=f;class p extends r.EventEmitter{constructor(){super(...arguments),this.documentId=void 0,this.id=(0,u.v4)(),this.existing=void 0,this.options={},this.clientId=(0,u.v4)(),this.path="",this.connected=!0,this.deltaManager=new l.MockDeltaManager,this.loader=void 0,this.logger=s.DebugLogger.create("fluid:MockFluidDataStoreRuntime"),this.quorum=new f,this._local=!1,this._disposed=!1}get IFluidHandleContext(){return this}get rootRoutingContext(){return this}get channelsRoutingContext(){return this}get objectsRoutingContext(){return this}get IFluidRouter(){return this}get absolutePath(){return`/${this.id}`}get local(){return this._local}set local(e){this._local=e}get disposed(){return this._disposed}dispose(){this._disposed=!0}async getChannel(e){return null}createChannel(e,t){return null}get isAttached(){return!this.local}get attachState(){return this.local?o.AttachState.Detached:o.AttachState.Attached}bindChannel(e){}attachGraph(){}bindToContext(){}bind(e){}getQuorum(){return this.quorum}getAudience(){return null}save(e){}async close(){}async uploadBlob(e){return null}async getBlob(e){return null}submitMessage(e,t){return null}submitSignal(e,t){return null}process(e,t){}processSignal(e,t){}updateMinSequenceNumber(e){}setConnectionState(e,t){}async resolveHandle(e){return this.request(e)}async request(e){return null}addedGCOutboundReference(e,t){}async summarize(e,t){const n=(0,c.mergeStats)();return n.treeNodeCount++,{summary:{type:a.SummaryType.Tree,tree:{}},stats:n}}async getGCData(){return{gcNodes:{}}}updateUsedRoutes(e,t){}getAttachSnapshot(){return[]}getAttachSummary(){const e=(0,c.mergeStats)();return e.treeNodeCount++,{summary:{type:a.SummaryType.Tree,tree:{}},stats:e}}setAttachState(e){}async waitAttached(){}async requestDataStore(e){return null}reSubmit(e,t){}async applyStashedOp(e){}rollback(e,t){}}t.MockFluidDataStoreRuntime=p;class m{constructor(){this.connected=!1}attach(e){}submit(e){return(0,i.assert)(!1,"Throw submit error on mock empty delta connection"),0}dirty(){}}t.MockEmptyDeltaConnection=m;class g{constructor(e){this.contents=e}async readBlob(e){return(0,i.stringToBuffer)(this.contents[e],"utf8")}async contains(e){return void 0!==this.contents[e]}async list(e){const t=(0,c.getNormalizedObjectStoragePathParts)(e).length;return Object.keys(this.contents).filter((n=>n.startsWith(e)&&n.split("/").length===t+1))}}t.MockObjectStorageService=g;class v{constructor(e){this.deltaConnection=new m,this.objectStorage=new g(e)}static createFromSummary(e){const t={};for(const[n,r]of Object.entries(e.tree))(0,i.assert)(r.type===a.SummaryType.Blob,"Unexpected summary type on mock createFromSummary"),t[n]=r.content;return new v(t)}}t.MockSharedObjectServices=v},78930:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MockFluidDataStoreContext=void 0;const r=n(57740),i=n(80769);t.MockFluidDataStoreContext=class{constructor(e=(0,i.v4)(),t=!1,n=r.DebugLogger.create("fluid:MockFluidDataStoreContext")){this.id=e,this.existing=t,this.logger=n,this.documentId=void 0,this.isLocalDataStore=!0,this.packagePath=void 0,this.options=void 0,this.clientId=(0,i.v4)(),this.clientDetails=void 0,this.connected=!0,this.deltaManager=void 0,this.containerRuntime=void 0,this.storage=void 0,this.IFluidDataStoreRegistry=void 0,this.IFluidHandleContext=void 0,this.attachState=void 0,this.scope=void 0}on(e,t){switch(e){case"attaching":case"attached":return this;default:throw new Error("Method not implemented.")}}once(e,t){return this}off(e,t){throw new Error("Method not implemented.")}getQuorum(){}getAudience(){}submitMessage(e,t,n){throw new Error("Method not implemented.")}submitSignal(e,t){throw new Error("Method not implemented.")}bindToContext(){throw new Error("Method not implemented.")}setChannelDirty(e){throw new Error("Method not implemented.")}async getAbsoluteUrl(e){throw new Error("Method not implemented.")}getCreateChildSummarizerNodeFn(e,t){throw new Error("Method not implemented.")}async uploadBlob(e){throw new Error("Method not implemented.")}async getInitialGCSummaryDetails(){throw new Error("Method not implemented.")}async getBaseGCDetails(){throw new Error("Method not implemented.")}}},96821:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MockContainerRuntimeFactoryForReconnection=t.MockContainerRuntimeForReconnection=void 0;const r=n(80769),i=n(70941),o=n(79327);class s extends o.MockContainerRuntime{constructor(e,t){super(e,t),this.pendingRemoteMessages=[],this._connected=!0}get connected(){return this._connected}set connected(e){if(this._connected!==e){if(this._connected=e,e){for(const e of this.pendingRemoteMessages)this.process(e);this.pendingRemoteMessages.length=0,this.clientSequenceNumber=0,this.clientId=(0,r.v4)(),this.dataStoreRuntime.clientId=this.clientId,this.factory.quorum.addMember(this.clientId,{}),this.reSubmitMessages()}else this.factory.clearOutstandingClientMessages(this.clientId),this.factory.quorum.removeMember(this.clientId);this.deltaConnections.forEach((e=>{e.setConnectionState(this.connected)}))}}process(e){this.connected?super.process(e):this.pendingRemoteMessages.push(e)}submit(e,t){return this.connected?super.submit(e,t):(this.addPendingMessage(e,t,-1),-1)}reSubmitMessages(){let e=this.pendingMessages.length;for(;e>0;){const t=this.pendingMessages.shift();(0,i.assert)(void 0!==t,"this is impossible due to the above length check"),this.deltaConnections.forEach((e=>{e.reSubmit(t.content,t.localOpMetadata)})),e--}}}t.MockContainerRuntimeForReconnection=s;class a extends o.MockContainerRuntimeFactory{createContainerRuntime(e){const t=new s(e,this);return this.runtimes.push(t),t}clearOutstandingClientMessages(e){this.messages=this.messages.filter((t=>t.clientId!==e))}}t.MockContainerRuntimeFactoryForReconnection=a},62503:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateAssertionError=void 0;const r=n(38602);t.validateAssertionError=function(e,t){var n;const i=null!==(n=r.shortCodeMap[e.message])&&void 0!==n?n:e.message;if(i!==t)throw new Error(`Unexpected assertion thrown: ${e.message} ('${i}')`);return!0}},34358:(e,t,n)=>{"use strict";var r,i,o,s,a,c;n.r(t),n.d(t,{FileMode:()=>o,MessageType:()=>r,NackErrorType:()=>i,ScopeType:()=>c,SummaryType:()=>a,TreeEntry:()=>s}),function(e){e.NoOp="noop",e.ClientJoin="join",e.ClientLeave="leave",e.Propose="propose",e.Reject="reject",e.Summarize="summarize",e.SummaryAck="summaryAck",e.SummaryNack="summaryNack",e.Operation="op",e.RemoteHelp="remoteHelp",e.NoClient="noClient",e.RoundTrip="tripComplete",e.Control="control"}(r||(r={})),function(e){e.ThrottlingError="ThrottlingError",e.InvalidScopeError="InvalidScopeError",e.BadRequestError="BadRequestError",e.LimitExceededError="LimitExceededError"}(i||(i={})),function(e){e.File="100644",e.Executable="100755",e.Directory="040000",e.Symlink="120000"}(o||(o={})),function(e){e.Blob="Blob",e.Tree="Tree",e.Attachment="Attachment"}(s||(s={})),function(e){e.Tree=1,e.Blob=2,e.Handle=3,e.Attachment=4}(a||(a={})),function(e){e.DocRead="doc:read",e.DocWrite="doc:write",e.SummaryWrite="summary:write"}(c||(c={}))},34378:e=>{"use strict";var t,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}m(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&m(e,"error",t,{once:!0})}(e,i)}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function a(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function u(e,t,n,r){var i,o,s,u;if(a(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]),void 0===s)s=o[t]=n,++e._eventsCount;else if("function"==typeof s?s=o[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=c(e))>0&&s.length>i&&!s.warned){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=s.length,u=l,console&&console.warn&&console.warn(u)}return e}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=l.bind(r);return i.listener=n,r.wrapFn=i,i}function d(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):p(i,i.length)}function f(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function m(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){r.once&&e.removeEventListener(t,i),n(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return c(this)},o.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=o[e];if(void 0===c)return!1;if("function"==typeof c)r(c,this,t);else{var u=c.length,l=p(c,u);for(n=0;n<u;++n)r(l[n],this,t)}return!0},o.prototype.addListener=function(e,t){return u(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return u(this,e,t,!0)},o.prototype.once=function(e,t){return a(t),this.on(e,h(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,h(this,e,t)),this},o.prototype.removeListener=function(e,t){var n,r,i,o,s;if(a(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},o.prototype.listeners=function(e){return d(this,e,!0)},o.prototype.rawListeners=function(e){return d(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},o.prototype.listenerCount=f,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},80769:(e,t,n)=>{"use strict";var r;n.r(t),n.d(t,{NIL:()=>I,parse:()=>g,stringify:()=>l,v1:()=>m,v3:()=>A,v4:()=>N,v5:()=>O,validate:()=>a,version:()=>R});var i=new Uint8Array(16);function o(){if(!r&&!(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(i)}const s=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,a=function(e){return"string"==typeof e&&s.test(e)};for(var c=[],u=0;u<256;++u)c.push((u+256).toString(16).substr(1));const l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(c[e[t+0]]+c[e[t+1]]+c[e[t+2]]+c[e[t+3]]+"-"+c[e[t+4]]+c[e[t+5]]+"-"+c[e[t+6]]+c[e[t+7]]+"-"+c[e[t+8]]+c[e[t+9]]+"-"+c[e[t+10]]+c[e[t+11]]+c[e[t+12]]+c[e[t+13]]+c[e[t+14]]+c[e[t+15]]).toLowerCase();if(!a(n))throw TypeError("Stringified UUID is invalid");return n};var h,d,f=0,p=0;const m=function(e,t,n){var r=t&&n||0,i=t||new Array(16),s=(e=e||{}).node||h,a=void 0!==e.clockseq?e.clockseq:d;if(null==s||null==a){var c=e.random||(e.rng||o)();null==s&&(s=h=[1|c[0],c[1],c[2],c[3],c[4],c[5]]),null==a&&(a=d=16383&(c[6]<<8|c[7]))}var u=void 0!==e.msecs?e.msecs:Date.now(),m=void 0!==e.nsecs?e.nsecs:p+1,g=u-f+(m-p)/1e4;if(g<0&&void 0===e.clockseq&&(a=a+1&16383),(g<0||u>f)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");f=u,p=m,d=a;var v=(1e4*(268435455&(u+=122192928e5))+m)%4294967296;i[r++]=v>>>24&255,i[r++]=v>>>16&255,i[r++]=v>>>8&255,i[r++]=255&v;var y=u/4294967296*1e4&268435455;i[r++]=y>>>8&255,i[r++]=255&y,i[r++]=y>>>24&15|16,i[r++]=y>>>16&255,i[r++]=a>>>8|128,i[r++]=255&a;for(var b=0;b<6;++b)i[r+b]=s[b];return t||l(i)},g=function(e){if(!a(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n};var v="6ba7b810-9dad-11d1-80b4-00c04fd430c8",y="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function b(e,t,n){function r(e,r,i,o){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"==typeof r&&(r=g(r)),16!==r.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var s=new Uint8Array(16+e.length);if(s.set(r),s.set(e,r.length),(s=n(s))[6]=15&s[6]|t,s[8]=63&s[8]|128,i){o=o||0;for(var a=0;a<16;++a)i[o+a]=s[a];return i}return l(s)}try{r.name=e}catch(e){}return r.DNS=v,r.URL=y,r}function w(e){return 14+(e+64>>>9<<4)+1}function S(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function _(e,t,n,r,i,o){return S((s=S(S(t,e),S(r,o)))<<(a=i)|s>>>32-a,n);var s,a}function x(e,t,n,r,i,o,s){return _(t&n|~t&r,e,t,i,o,s)}function C(e,t,n,r,i,o,s){return _(t&r|n&~r,e,t,i,o,s)}function E(e,t,n,r,i,o,s){return _(t^n^r,e,t,i,o,s)}function k(e,t,n,r,i,o,s){return _(n^(t|~r),e,t,i,o,s)}const A=b("v3",48,(function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return function(e){for(var t=[],n=32*e.length,r="0123456789abcdef",i=0;i<n;i+=8){var o=e[i>>5]>>>i%32&255,s=parseInt(r.charAt(o>>>4&15)+r.charAt(15&o),16);t.push(s)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[w(t)-1]=t;for(var n=1732584193,r=-271733879,i=-1732584194,o=271733878,s=0;s<e.length;s+=16){var a=n,c=r,u=i,l=o;n=x(n,r,i,o,e[s],7,-680876936),o=x(o,n,r,i,e[s+1],12,-389564586),i=x(i,o,n,r,e[s+2],17,606105819),r=x(r,i,o,n,e[s+3],22,-1044525330),n=x(n,r,i,o,e[s+4],7,-176418897),o=x(o,n,r,i,e[s+5],12,1200080426),i=x(i,o,n,r,e[s+6],17,-1473231341),r=x(r,i,o,n,e[s+7],22,-45705983),n=x(n,r,i,o,e[s+8],7,1770035416),o=x(o,n,r,i,e[s+9],12,-1958414417),i=x(i,o,n,r,e[s+10],17,-42063),r=x(r,i,o,n,e[s+11],22,-1990404162),n=x(n,r,i,o,e[s+12],7,1804603682),o=x(o,n,r,i,e[s+13],12,-40341101),i=x(i,o,n,r,e[s+14],17,-1502002290),n=C(n,r=x(r,i,o,n,e[s+15],22,1236535329),i,o,e[s+1],5,-165796510),o=C(o,n,r,i,e[s+6],9,-1069501632),i=C(i,o,n,r,e[s+11],14,643717713),r=C(r,i,o,n,e[s],20,-373897302),n=C(n,r,i,o,e[s+5],5,-701558691),o=C(o,n,r,i,e[s+10],9,38016083),i=C(i,o,n,r,e[s+15],14,-660478335),r=C(r,i,o,n,e[s+4],20,-405537848),n=C(n,r,i,o,e[s+9],5,568446438),o=C(o,n,r,i,e[s+14],9,-1019803690),i=C(i,o,n,r,e[s+3],14,-187363961),r=C(r,i,o,n,e[s+8],20,1163531501),n=C(n,r,i,o,e[s+13],5,-1444681467),o=C(o,n,r,i,e[s+2],9,-51403784),i=C(i,o,n,r,e[s+7],14,1735328473),n=E(n,r=C(r,i,o,n,e[s+12],20,-1926607734),i,o,e[s+5],4,-378558),o=E(o,n,r,i,e[s+8],11,-2022574463),i=E(i,o,n,r,e[s+11],16,1839030562),r=E(r,i,o,n,e[s+14],23,-35309556),n=E(n,r,i,o,e[s+1],4,-1530992060),o=E(o,n,r,i,e[s+4],11,1272893353),i=E(i,o,n,r,e[s+7],16,-155497632),r=E(r,i,o,n,e[s+10],23,-1094730640),n=E(n,r,i,o,e[s+13],4,681279174),o=E(o,n,r,i,e[s],11,-358537222),i=E(i,o,n,r,e[s+3],16,-722521979),r=E(r,i,o,n,e[s+6],23,76029189),n=E(n,r,i,o,e[s+9],4,-640364487),o=E(o,n,r,i,e[s+12],11,-421815835),i=E(i,o,n,r,e[s+15],16,530742520),n=k(n,r=E(r,i,o,n,e[s+2],23,-995338651),i,o,e[s],6,-198630844),o=k(o,n,r,i,e[s+7],10,1126891415),i=k(i,o,n,r,e[s+14],15,-1416354905),r=k(r,i,o,n,e[s+5],21,-57434055),n=k(n,r,i,o,e[s+12],6,1700485571),o=k(o,n,r,i,e[s+3],10,-1894986606),i=k(i,o,n,r,e[s+10],15,-1051523),r=k(r,i,o,n,e[s+1],21,-2054922799),n=k(n,r,i,o,e[s+8],6,1873313359),o=k(o,n,r,i,e[s+15],10,-30611744),i=k(i,o,n,r,e[s+6],15,-1560198380),r=k(r,i,o,n,e[s+13],21,1309151649),n=k(n,r,i,o,e[s+4],6,-145523070),o=k(o,n,r,i,e[s+11],10,-1120210379),i=k(i,o,n,r,e[s+2],15,718787259),r=k(r,i,o,n,e[s+9],21,-343485551),n=S(n,a),r=S(r,c),i=S(i,u),o=S(o,l)}return[n,r,i,o]}(function(e){if(0===e.length)return[];for(var t=8*e.length,n=new Uint32Array(w(t)),r=0;r<t;r+=8)n[r>>5]|=(255&e[r/8])<<r%32;return n}(e),8*e.length))})),N=function(e,t,n){var r=(e=e||{}).random||(e.rng||o)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return l(r)};function T(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:case 3:return t^n^r;case 2:return t&n^t&r^n&r}}function P(e,t){return e<<t|e>>>32-t}const O=b("v5",80,(function(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var r=unescape(encodeURIComponent(e));e=[];for(var i=0;i<r.length;++i)e.push(r.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var o=e.length/4+2,s=Math.ceil(o/16),a=new Array(s),c=0;c<s;++c){for(var u=new Uint32Array(16),l=0;l<16;++l)u[l]=e[64*c+4*l]<<24|e[64*c+4*l+1]<<16|e[64*c+4*l+2]<<8|e[64*c+4*l+3];a[c]=u}a[s-1][14]=8*(e.length-1)/Math.pow(2,32),a[s-1][14]=Math.floor(a[s-1][14]),a[s-1][15]=8*(e.length-1)&4294967295;for(var h=0;h<s;++h){for(var d=new Uint32Array(80),f=0;f<16;++f)d[f]=a[h][f];for(var p=16;p<80;++p)d[p]=P(d[p-3]^d[p-8]^d[p-14]^d[p-16],1);for(var m=n[0],g=n[1],v=n[2],y=n[3],b=n[4],w=0;w<80;++w){var S=Math.floor(w/20),_=P(m,5)+T(S,g,v,y)+b+t[S]+d[w]>>>0;b=y,y=v,v=P(g,30)>>>0,g=m,m=_}n[0]=n[0]+m>>>0,n[1]=n[1]+g>>>0,n[2]=n[2]+v>>>0,n[3]=n[3]+y>>>0,n[4]=n[4]+b>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]})),I="00000000-0000-0000-0000-000000000000",R=function(e){if(!a(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}},22553:(e,t,n)=>{"use strict";e=n.hmd(e)},76166:(e,t,n)=>{"use strict";n(5728),e=n.hmd(e)},24708:(e,t,n)=>{"use strict";n.d(t,{GJ:()=>u,ME:()=>g,aB:()=>m,dr:()=>p});var r=n(6878),i=n(66885),o=n(39109),s=n(41912),a=n(67451),c=n(48894);function u(e,t){const n=h(e,t),r={type:t&&t.name,value:f(t)};return n.length&&(r.stacktrace={frames:n}),void 0===r.type&&""===r.value&&(r.value="Unrecoverable error caught"),r}function l(e,t){return{exception:{values:[u(e,t)]}}}function h(e,t){const n=t.stacktrace||t.stack||"",r=function(e){if(e){if("number"==typeof e.framesToPop)return e.framesToPop;if(d.test(e.message))return 1}return 0}(t);try{return e(n,r)}catch(e){}return[]}const d=/Minified React error #\d+;/i;function f(e){const t=e&&e.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}function p(e,t,n,r){const i=g(e,t,n&&n.syntheticException||void 0,r);return(0,a.EG)(i),i.level="error",n&&n.event_id&&(i.event_id=n.event_id),(0,c.WD)(i)}function m(e,t,n="info",r,i){const o=v(e,t,r&&r.syntheticException||void 0,i);return o.level=n,r&&r.event_id&&(o.event_id=r.event_id),(0,c.WD)(o)}function g(e,t,n,c,u){let d;if((0,i.VW)(t)&&t.error)return l(e,t.error);if((0,i.TX)(t)||(0,i.fm)(t)){const r=t;if("stack"in t)d=l(e,t);else{const t=r.name||((0,i.TX)(r)?"DOMError":"DOMException"),o=r.message?`${t}: ${r.message}`:t;d=v(e,o,n,c),(0,a.Db)(d,o)}return"code"in r&&(d.tags={...d.tags,"DOMException.code":`${r.code}`}),d}return(0,i.VZ)(t)?l(e,t):(0,i.PO)(t)||(0,i.cO)(t)?(d=function(e,t,n,a){const c=(0,r.Gd)().getClient(),u=c&&c.getOptions().normalizeDepth,l={exception:{values:[{type:(0,i.cO)(t)?t.constructor.name:a?"UnhandledRejection":"Error",value:`Non-Error ${a?"promise rejection":"exception"} captured with keys: ${(0,o.zf)(t)}`}]},extra:{__serialized__:(0,s.Qy)(t,u)}};if(n){const t=h(e,n);t.length&&(l.exception.values[0].stacktrace={frames:t})}return l}(e,t,n,u),(0,a.EG)(d,{synthetic:!0}),d):(d=v(e,t,n,c),(0,a.Db)(d,`${t}`,void 0),(0,a.EG)(d,{synthetic:!0}),d)}function v(e,t,n,r){const i={message:t};if(r&&n){const r=h(e,n);r.length&&(i.exception={values:[{value:t,stacktrace:{frames:r}}]})}return i}},51197:(e,t,n)=>{"use strict";n.d(t,{Wz:()=>u,m9:()=>a,re:()=>l});var r=n(60074),i=n(74211),o=n(39109),s=n(67451);const a=i.n2;let c=0;function u(){return c>0}function l(e,t={},n){if("function"!=typeof e)return e;try{const t=e.__sentry_wrapped__;if(t)return t;if((0,o.HK)(e))return e}catch(t){return e}const i=function(){const i=Array.prototype.slice.call(arguments);try{n&&"function"==typeof n&&n.apply(this,arguments);const r=i.map((e=>l(e,t)));return e.apply(this,r)}catch(e){throw c++,setTimeout((()=>{c--})),(0,r.$e)((n=>{n.addEventProcessor((e=>(t.mechanism&&((0,s.Db)(e,void 0,void 0),(0,s.EG)(e,t.mechanism)),e.extra={...e.extra,arguments:i},e))),(0,r.Tb)(e)})),e}};try{for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(i[t]=e[t])}catch(e){}(0,o.$Q)(i,e),(0,o.xp)(e,"__sentry_wrapped__",i);try{Object.getOwnPropertyDescriptor(i,"name").configurable&&Object.defineProperty(i,"name",{get:()=>e.name})}catch(e){}return i}},67816:(e,t,n)=>{"use strict";n.d(t,{jK:()=>L});var r={};n.r(r),n.d(r,{FunctionToString:()=>o.c,InboundFilters:()=>s.QD});var i={};n.r(i),n.d(i,{Breadcrumbs:()=>l.O,Dedupe:()=>f.I,GlobalHandlers:()=>c.d,HttpContext:()=>d.q,LinkedErrors:()=>h.iP,TryCatch:()=>u.p});var o=n(14979),s=n(37107),a=n(51197),c=n(35519),u=n(34183),l=n(36242),h=n(97373),d=n(21680),f=n(12836),p=n(99144),m=n(86922),g=n(94678);var v=n(66885);function y(e){const t=(0,p.x)([e,"call",e=>e(),"access",e=>e.getClient,"call",e=>e(),"optionalAccess",e=>e.getOptions,"call",e=>e()]);return"sentry"!==((0,p.x)([t,"optionalAccess",e=>e.instrumenter])||"sentry")}class b{static __initStatic(){this.id="Express"}__init(){this.name=b.id}constructor(e={}){b.prototype.__init.call(this),this._router=e.router||e.app,this._methods=(Array.isArray(e.methods)?e.methods:[]).concat("use")}setupOnce(e,t){this._router?y(t)?("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&m.kg.log("Express Integration is skipped because of instrumenter configuration."):(function(e,t=[]){t.forEach((t=>function(e,t){const n=e[t];return e[t]=function(...e){return n.call(this,...function(e,t){return e.map((e=>"function"==typeof e?w(e,t):Array.isArray(e)?e.map((e=>"function"==typeof e?w(e,t):e)):e))}(e,t))},e}(e,t)))}(this._router,this._methods),function(e){const t="settings"in e;t&&void 0===e._router&&e.lazyrouter&&e.lazyrouter();const n=t?e._router:e;if(!n)return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&m.kg.debug("Cannot instrument router for URL Parameterization (did not find a valid router)."),void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&m.kg.debug("Routing instrumentation is currently only supported in Express 4."));const r=Object.getPrototypeOf(n),i=r.process_params;r.process_params=function(e,t,n,r,o){n._reconstructedRoute||(n._reconstructedRoute="");const{layerRoutePath:s,isRegex:a,isArray:c,numExtraSegments:u}=function(e){const t=(0,p.x)([e,"access",e=>e.route,"optionalAccess",e=>e.path]),n=(0,v.Kj)(t),r=Array.isArray(t);if(!t)return{isRegex:n,isArray:r,numExtraSegments:0};const i=r?Math.max(t.reduce(((e,t)=>e+(0,g.$A)(t.toString())),0)-(0,g.$A)(e.path||""),0):0,o=function(e,t){return e?t.map((e=>e.toString())).join(","):t&&t.toString()}(r,t);return{layerRoutePath:o,isRegex:n,isArray:r,numExtraSegments:i}}(e);(s||a||c)&&(n._hasParameters=!0);const l=(s||e.path||"").split("/").filter((e=>e.length>0&&(a||c||!e.includes("*")))).join("/");if(l&&l.length>0&&(n._reconstructedRoute+=`/${l}${a?"/":""}`),(0,g.$A)(n.originalUrl||"")+u===(0,g.$A)(n._reconstructedRoute)){n._hasParameters||n._reconstructedRoute!==n.originalUrl&&(n._reconstructedRoute=n.originalUrl);const e=r.__sentry_transaction;if(e&&"custom"!==e.metadata.source){const t=n._reconstructedRoute||"/";e.setName(...function(e,t={}){const n=e.method&&e.method.toUpperCase();let r="",i="url";t.customRoute||e.route?(r=t.customRoute||`${e.baseUrl||""}${e.route&&e.route.path}`,i="route"):(e.originalUrl||e.url)&&(r=(0,g.rt)(e.originalUrl||e.url||""));let o="";return t.method&&n&&(o+=n),t.method&&t.path&&(o+=" "),t.path&&r&&(o+=r),[o,i]}(n,{path:!0,method:!0,customRoute:t}))}}return i.call(this,e,t,n,r,o)}}(this._router)):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&m.kg.error("ExpressIntegration is missing an Express instance")}}function w(e,t){const n=e.length;switch(n){case 2:return function(n,r){const i=r.__sentry_transaction;if(i){const n=i.startChild({description:e.name,op:`middleware.express.${t}`});r.once("finish",(()=>{n.finish()}))}return e.call(this,n,r)};case 3:return function(n,r,i){const o=r.__sentry_transaction,s=(0,p.x)([o,"optionalAccess",e=>e.startChild,"call",n=>n({description:e.name,op:`middleware.express.${t}`})]);e.call(this,n,r,(function(...e){(0,p.x)([s,"optionalAccess",e=>e.finish,"call",e=>e()]),i.call(this,...e)}))};case 4:return function(n,r,i,o){const s=i.__sentry_transaction,a=(0,p.x)([s,"optionalAccess",e=>e.startChild,"call",n=>n({description:e.name,op:`middleware.express.${t}`})]);e.call(this,n,r,i,(function(...e){(0,p.x)([a,"optionalAccess",e=>e.finish,"call",e=>e()]),o.call(this,...e)}))};default:throw new Error(`Express middleware takes 2-4 arguments. Got: ${n}`)}}b.__initStatic();var S=n(5728),_=n(39109);class x{static __initStatic(){this.id="Postgres"}__init(){this.name=x.id}constructor(e={}){x.prototype.__init.call(this),this._usePgNative=!!e.usePgNative}loadDependency(){return this._module=this._module||(0,S.$y)("pg")}setupOnce(e,t){if(y(t))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&m.kg.log("Postgres Integration is skipped because of instrumenter configuration."));const n=this.loadDependency();if(!n)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&m.kg.error("Postgres Integration was unable to require `pg` package."));if(this._usePgNative&&!(0,p.x)([n,"access",e=>e.native,"optionalAccess",e=>e.Client]))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&m.kg.error("Postgres Integration was unable to access 'pg-native' bindings."));const{Client:r}=this._usePgNative?n.native:n;(0,_.hl)(r.prototype,"query",(function(e){return function(n,r,i){const o=t().getScope(),s=(0,p.x)([o,"optionalAccess",e=>e.getSpan,"call",e=>e()]),a=(0,p.x)([s,"optionalAccess",e=>e.startChild,"call",e=>e({description:"string"==typeof n?n:n.text,op:"db"})]);if("function"==typeof i)return e.call(this,n,r,(function(e,t){(0,p.x)([a,"optionalAccess",e=>e.finish,"call",e=>e()]),i(e,t)}));if("function"==typeof r)return e.call(this,n,(function(e,t){(0,p.x)([a,"optionalAccess",e=>e.finish,"call",e=>e()]),r(e,t)}));const c=void 0!==r?e.call(this,n,r):e.call(this,n);return(0,v.J8)(c)?c.then((e=>((0,p.x)([a,"optionalAccess",e=>e.finish,"call",e=>e()]),e))):((0,p.x)([a,"optionalAccess",e=>e.finish,"call",e=>e()]),c)}}))}}x.__initStatic();class C{constructor(){C.prototype.__init.call(this)}static __initStatic(){this.id="Mysql"}__init(){this.name=C.id}loadDependency(){return this._module=this._module||(0,S.$y)("mysql/lib/Connection.js")}setupOnce(e,t){if(y(t))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&m.kg.log("Mysql Integration is skipped because of instrumenter configuration."));const n=this.loadDependency();n?(0,_.hl)(n,"createQuery",(function(e){return function(n,r,i){const o=t().getScope(),s=(0,p.x)([o,"optionalAccess",e=>e.getSpan,"call",e=>e()]),a=(0,p.x)([s,"optionalAccess",e=>e.startChild,"call",e=>e({description:"string"==typeof n?n:n.sql,op:"db"})]);return"function"==typeof i?e.call(this,n,r,(function(e,t,n){(0,p.x)([a,"optionalAccess",e=>e.finish,"call",e=>e()]),i(e,t,n)})):"function"==typeof r?e.call(this,n,(function(e,t,n){(0,p.x)([a,"optionalAccess",e=>e.finish,"call",e=>e()]),r(e,t,n)})):e.call(this,n,r,i)}})):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&m.kg.error("Mysql Integration was unable to require `mysql` package.")}}C.__initStatic();const E=["aggregate","bulkWrite","countDocuments","createIndex","createIndexes","deleteMany","deleteOne","distinct","drop","dropIndex","dropIndexes","estimatedDocumentCount","find","findOne","findOneAndDelete","findOneAndReplace","findOneAndUpdate","indexes","indexExists","indexInformation","initializeOrderedBulkOp","insertMany","insertOne","isCapped","mapReduce","options","parallelCollectionScan","rename","replaceOne","stats","updateMany","updateOne"],k={bulkWrite:["operations"],countDocuments:["query"],createIndex:["fieldOrSpec"],createIndexes:["indexSpecs"],deleteMany:["filter"],deleteOne:["filter"],distinct:["key","query"],dropIndex:["indexName"],find:["query"],findOne:["query"],findOneAndDelete:["filter"],findOneAndReplace:["filter","replacement"],findOneAndUpdate:["filter","update"],indexExists:["indexes"],insertMany:["docs"],insertOne:["doc"],mapReduce:["map","reduce"],rename:["newName"],replaceOne:["filter","doc"],updateMany:["filter","update"],updateOne:["filter","update"]};class A{static __initStatic(){this.id="Mongo"}__init(){this.name=A.id}constructor(e={}){A.prototype.__init.call(this),this._operations=Array.isArray(e.operations)?e.operations:E,this._describeOperations=!("describeOperations"in e)||e.describeOperations,this._useMongoose=!!e.useMongoose}loadDependency(){const e=this._useMongoose?"mongoose":"mongodb";return this._module=this._module||(0,S.$y)(e)}setupOnce(e,t){if(y(t))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&m.kg.log("Mongo Integration is skipped because of instrumenter configuration."));const n=this.loadDependency();if(n)this._instrumentOperations(n.Collection,this._operations,t);else{const e=this._useMongoose?"mongoose":"mongodb";("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&m.kg.error(`Mongo Integration was unable to require \`${e}\` package.`)}}_instrumentOperations(e,t,n){t.forEach((t=>this._patchOperation(e,t,n)))}_patchOperation(e,t,n){if(!(t in e.prototype))return;const r=this._getSpanContextFromOperationArguments.bind(this);(0,_.hl)(e.prototype,t,(function(e){return function(...i){const o=i[i.length-1],s=n().getScope(),a=(0,p.x)([s,"optionalAccess",e=>e.getSpan,"call",e=>e()]);if("function"!=typeof o||"mapReduce"===t&&2===i.length){const n=(0,p.x)([a,"optionalAccess",e=>e.startChild,"call",e=>e(r(this,t,i))]),o=e.call(this,...i);if((0,v.J8)(o))return o.then((e=>((0,p.x)([n,"optionalAccess",e=>e.finish,"call",e=>e()]),e)));if((c=o)&&"object"==typeof c&&c.once&&"function"==typeof c.once){const e=o;try{e.once("close",(()=>{(0,p.x)([n,"optionalAccess",e=>e.finish,"call",e=>e()])}))}catch(e){(0,p.x)([n,"optionalAccess",e=>e.finish,"call",e=>e()])}return e}return(0,p.x)([n,"optionalAccess",e=>e.finish,"call",e=>e()]),o}var c;const u=(0,p.x)([a,"optionalAccess",e=>e.startChild,"call",e=>e(r(this,t,i.slice(0,-1)))]);return e.call(this,...i.slice(0,-1),(function(e,t){(0,p.x)([u,"optionalAccess",e=>e.finish,"call",e=>e()]),o(e,t)}))}}))}_getSpanContextFromOperationArguments(e,t,n){const r={collectionName:e.collectionName,dbName:e.dbName,namespace:e.namespace},i={op:"db",description:t,data:r},o=k[t],s=Array.isArray(this._describeOperations)?this._describeOperations.includes(t):this._describeOperations;if(!o||!s)return i;try{if("mapReduce"===t){const[e,t]=n;r[o[0]]="string"==typeof e?e:e.name||"<anonymous>",r[o[1]]="string"==typeof t?t:t.name||"<anonymous>"}else for(let e=0;e<o.length;e++)r[o[e]]=JSON.stringify(n[e])}catch(e){}return i}}A.__initStatic();class N{static __initStatic(){this.id="Prisma"}__init(){this.name=N.id}constructor(e={}){var t;N.prototype.__init.call(this),(t=e.client)&&t.$use?this._client=e.client:("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&m.kg.warn(`Unsupported Prisma client provided to PrismaIntegration. Provided client: ${JSON.stringify(e.client)}`)}setupOnce(e,t){this._client?y(t)?("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&m.kg.log("Prisma Integration is skipped because of instrumenter configuration."):this._client.$use(((e,n)=>{const r=t().getScope(),i=(0,p.x)([r,"optionalAccess",e=>e.getSpan,"call",e=>e()]),o=e.action,s=e.model,a=(0,p.x)([i,"optionalAccess",e=>e.startChild,"call",e=>e({description:s?`${s} ${o}`:o,op:"db.sql.prisma"})]),c=n(e);return(0,v.J8)(c)?c.then((e=>((0,p.x)([a,"optionalAccess",e=>e.finish,"call",e=>e()]),e))):((0,p.x)([a,"optionalAccess",e=>e.finish,"call",e=>e()]),c)})):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&m.kg.error("PrismaIntegration is missing a Prisma Client Instance")}}N.__initStatic();class T{constructor(){T.prototype.__init.call(this)}static __initStatic(){this.id="GraphQL"}__init(){this.name=T.id}loadDependency(){return this._module=this._module||(0,S.$y)("graphql/execution/execute.js")}setupOnce(e,t){if(y(t))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&m.kg.log("GraphQL Integration is skipped because of instrumenter configuration."));const n=this.loadDependency();n?(0,_.hl)(n,"execute",(function(e){return function(...n){const r=t().getScope(),i=(0,p.x)([r,"optionalAccess",e=>e.getSpan,"call",e=>e()]),o=(0,p.x)([i,"optionalAccess",e=>e.startChild,"call",e=>e({description:"execute",op:"graphql.execute"})]);(0,p.x)([r,"optionalAccess",e=>e.setSpan,"call",e=>e(o)]);const s=e.call(this,...n);return(0,v.J8)(s)?s.then((e=>((0,p.x)([o,"optionalAccess",e=>e.finish,"call",e=>e()]),(0,p.x)([r,"optionalAccess",e=>e.setSpan,"call",e=>e(i)]),e))):((0,p.x)([o,"optionalAccess",e=>e.finish,"call",e=>e()]),(0,p.x)([r,"optionalAccess",e=>e.setSpan,"call",e=>e(i)]),s)}})):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&m.kg.error("GraphQL Integration was unable to require graphql/execution package.")}}T.__initStatic();var P=n(67451);class O{static __initStatic(){this.id="Apollo"}__init(){this.name=O.id}constructor(e={useNestjs:!1}){O.prototype.__init.call(this),this._useNest=!!e.useNestjs}loadDependency(){return this._useNest?this._module=this._module||(0,S.$y)("@nestjs/graphql"):this._module=this._module||(0,S.$y)("apollo-server-core"),this._module}setupOnce(e,t){if(y(t))("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&m.kg.log("Apollo Integration is skipped because of instrumenter configuration.");else if(this._useNest){const e=this.loadDependency();if(!e)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&m.kg.error("Apollo-NestJS Integration was unable to require @nestjs/graphql package."));(0,_.hl)(e.GraphQLFactory.prototype,"mergeWithSchema",(function(e){return function(...n){return(0,_.hl)(this.resolversExplorerService,"explore",(function(e){return function(){return I((0,P.lE)(e.call(this)),t)}})),e.call(this,...n)}}))}else{const e=this.loadDependency();if(!e)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&m.kg.error("Apollo Integration was unable to require apollo-server-core package."));(0,_.hl)(e.ApolloServerBase.prototype,"constructSchema",(function(e){return function(){if(!this.config.resolvers)return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&(this.config.schema?(m.kg.warn("Apollo integration is not able to trace `ApolloServer` instances constructed via `schema` property.If you are using NestJS with Apollo, please use `Sentry.Integrations.Apollo({ useNestjs: true })` instead."),m.kg.warn()):this.config.modules&&m.kg.warn("Apollo integration is not able to trace `ApolloServer` instances constructed via `modules` property."),m.kg.error("Skipping tracing as no resolvers found on the `ApolloServer` instance.")),e.call(this);const n=(0,P.lE)(this.config.resolvers);return this.config.resolvers=I(n,t),e.call(this)}}))}}}function I(e,t){return e.map((e=>(Object.keys(e).forEach((n=>{Object.keys(e[n]).forEach((r=>{"function"==typeof e[n][r]&&function(e,t,n,r){(0,_.hl)(e[t],n,(function(e){return function(...i){const o=r().getScope(),s=(0,p.x)([o,"optionalAccess",e=>e.getSpan,"call",e=>e()]),a=(0,p.x)([s,"optionalAccess",e=>e.startChild,"call",e=>e({description:`${t}.${n}`,op:"graphql.resolve"})]),c=e.call(this,...i);return(0,v.J8)(c)?c.then((e=>((0,p.x)([a,"optionalAccess",e=>e.finish,"call",e=>e()]),e))):((0,p.x)([a,"optionalAccess",e=>e.finish,"call",e=>e()]),c)}}))}(e,n,r,t)}))})),e)))}O.__initStatic(),n(76166);n(94180),n(48398);n(74211).n2;n(22553);let R={};a.m9.Sentry&&a.m9.Sentry.Integrations&&(R=a.m9.Sentry.Integrations);const L={...R,...r,...i}},36242:(e,t,n)=>{"use strict";n.d(t,{p:()=>f,O:()=>p});var r=n(6878),i=n(48398),o=n(67451),s=n(86922),a=n(61495);const c=["fatal","error","warning","log","info","debug"];var u=n(65268),l=n(94678),h=n(51197);const d=1024,f="Breadcrumbs";class p{static __initStatic(){this.id=f}__init(){this.name=p.id}constructor(e){p.prototype.__init.call(this),this.options={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e}}setupOnce(){var e;this.options.console&&(0,i.o)("console",m),this.options.dom&&(0,i.o)("dom",(e=this.options.dom,function(t){let n,i="object"==typeof e?e.serializeAttribute:void 0,o="object"==typeof e&&"number"==typeof e.maxStringLength?e.maxStringLength:void 0;o&&o>d&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&s.kg.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${o} was configured. Sentry will use 1024 instead.`),o=d),"string"==typeof i&&(i=[i]);try{const e=t.event;n=function(e){return e&&!!e.target}(e)?(0,a.Rt)(e.target,{keyAttrs:i,maxStringLength:o}):(0,a.Rt)(e,{keyAttrs:i,maxStringLength:o})}catch(e){n="<unknown>"}0!==n.length&&(0,r.Gd)().addBreadcrumb({category:`ui.${t.name}`,message:n},{event:t.event,name:t.name,global:t.global})})),this.options.xhr&&(0,i.o)("xhr",g),this.options.fetch&&(0,i.o)("fetch",v),this.options.history&&(0,i.o)("history",y)}addSentryBreadcrumb(e){this.options.sentry&&(0,r.Gd)().addBreadcrumb({category:"sentry."+("transaction"===e.type?"transaction":"event"),event_id:e.event_id,level:e.level,message:(0,o.jH)(e)},{event:e})}}function m(e){for(let t=0;t<e.args.length;t++)if("ref=Ref<"===e.args[t]){e.args[t+1]="viewRef";break}const t={category:"console",data:{arguments:e.args,logger:"console"},level:(n=e.level,"warn"===n?"warning":c.includes(n)?n:"log"),message:(0,u.nK)(e.args," ")};var n;if("assert"===e.level){if(!1!==e.args[0])return;t.message=`Assertion failed: ${(0,u.nK)(e.args.slice(1)," ")||"console.assert"}`,t.data.arguments=e.args.slice(1)}(0,r.Gd)().addBreadcrumb(t,{input:e.args,level:e.level})}function g(e){const{startTimestamp:t,endTimestamp:n}=e;if(!t||!n||!e.xhr.__sentry_xhr__)return;const{method:i,url:o,status_code:s,body:a}=e.xhr.__sentry_xhr__,c={method:i,url:o,status_code:s},u={xhr:e.xhr,input:a,startTimestamp:t,endTimestamp:n};(0,r.Gd)().addBreadcrumb({category:"xhr",data:c,type:"http"},u)}function v(e){const{startTimestamp:t,endTimestamp:n}=e;if(n&&(!e.fetchData.url.match(/sentry_key/)||"POST"!==e.fetchData.method))if(e.error){const i=e.fetchData,o={data:e.error,input:e.args,startTimestamp:t,endTimestamp:n};(0,r.Gd)().addBreadcrumb({category:"fetch",data:i,level:"error",type:"http"},o)}else{const i={...e.fetchData,status_code:e.response&&e.response.status},o={input:e.args,response:e.response,startTimestamp:t,endTimestamp:n};(0,r.Gd)().addBreadcrumb({category:"fetch",data:i,type:"http"},o)}}function y(e){let t=e.from,n=e.to;const i=(0,l.en)(h.m9.location.href);let o=(0,l.en)(t);const s=(0,l.en)(n);o.path||(o=i),i.protocol===s.protocol&&i.host===s.host&&(n=s.relative),i.protocol===o.protocol&&i.host===o.host&&(t=o.relative),(0,r.Gd)().addBreadcrumb({category:"navigation",data:{from:t,to:n}})}p.__initStatic()},12836:(e,t,n)=>{"use strict";n.d(t,{I:()=>i});var r=n(86922);class i{constructor(){i.prototype.__init.call(this)}static __initStatic(){this.id="Dedupe"}__init(){this.name=i.id}setupOnce(e,t){const n=e=>{if(e.type)return e;const n=t().getIntegration(i);if(n){try{if(function(e,t){return!!t&&(!!function(e,t){const n=e.message,r=t.message;return!(!n&&!r)&&(!(n&&!r||!n&&r)&&(n===r&&(!!s(e,t)&&!!o(e,t))))}(e,t)||!!function(e,t){const n=a(t),r=a(e);return!(!n||!r)&&(n.type===r.type&&n.value===r.value&&(!!s(e,t)&&!!o(e,t)))}(e,t))}(e,n._previousEvent))return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(t){return n._previousEvent=e}return n._previousEvent=e}return e};n.id=this.name,e(n)}}function o(e,t){let n=c(e),r=c(t);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(let e=0;e<r.length;e++){const t=r[e],i=n[e];if(t.filename!==i.filename||t.lineno!==i.lineno||t.colno!==i.colno||t.function!==i.function)return!1}return!0}function s(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch(e){return!1}}function a(e){return e.exception&&e.exception.values&&e.exception.values[0]}function c(e){const t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(e){return}}i.__initStatic()},35519:(e,t,n)=>{"use strict";n.d(t,{d:()=>h});var r=n(6878),i=n(48398),o=n(66885),s=n(61495),a=n(86922),c=n(67451),u=n(24708),l=n(51197);class h{static __initStatic(){this.id="GlobalHandlers"}__init(){this.name=h.id}__init2(){this._installFunc={onerror:d,onunhandledrejection:f}}constructor(e){h.prototype.__init.call(this),h.prototype.__init2.call(this),this._options={onerror:!0,onunhandledrejection:!0,...e}}setupOnce(){Error.stackTraceLimit=50;const e=this._options;for(const n in e){const r=this._installFunc[n];r&&e[n]&&(t=n,("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&a.kg.log(`Global Handler attached: ${t}`),r(),this._installFunc[n]=void 0)}var t}}function d(){(0,i.o)("error",(e=>{const[t,n,r]=g();if(!t.getIntegration(h))return;const{msg:i,url:s,line:a,column:c,error:d}=e;if((0,l.Wz)()||d&&d.__sentry_own_request__)return;const f=void 0===d&&(0,o.HD)(i)?function(e,t,n,r){let i=(0,o.VW)(e)?e.message:e,s="Error";const a=i.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);a&&(s=a[1],i=a[2]);return p({exception:{values:[{type:s,value:i}]}},t,n,r)}(i,s,a,c):p((0,u.ME)(n,d||i,void 0,r,!1),s,a,c);f.level="error",m(t,d,f,"onerror")}))}function f(){(0,i.o)("unhandledrejection",(e=>{const[t,n,r]=g();if(!t.getIntegration(h))return;let i=e;try{"reason"in e?i=e.reason:"detail"in e&&"reason"in e.detail&&(i=e.detail.reason)}catch(e){}if((0,l.Wz)()||i&&i.__sentry_own_request__)return!0;const s=(0,o.pt)(i)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(i)}`}]}}:(0,u.ME)(n,i,void 0,r,!0);s.level="error",m(t,i,s,"onunhandledrejection")}))}function p(e,t,n,r){const i=e.exception=e.exception||{},a=i.values=i.values||[],c=a[0]=a[0]||{},u=c.stacktrace=c.stacktrace||{},l=u.frames=u.frames||[],h=isNaN(parseInt(r,10))?void 0:r,d=isNaN(parseInt(n,10))?void 0:n,f=(0,o.HD)(t)&&t.length>0?t:(0,s.l4)();return 0===l.length&&l.push({colno:h,filename:f,function:"?",in_app:!0,lineno:d}),e}function m(e,t,n,r){(0,c.EG)(n,{handled:!1,type:r}),e.captureEvent(n,{originalException:t})}function g(){const e=(0,r.Gd)(),t=e.getClient(),n=t&&t.getOptions()||{stackParser:()=>[],attachStacktrace:!1};return[e,n.stackParser,n.attachStacktrace]}h.__initStatic()},21680:(e,t,n)=>{"use strict";n.d(t,{q:()=>s});var r=n(25516),i=n(6878),o=n(51197);class s{constructor(){s.prototype.__init.call(this)}static __initStatic(){this.id="HttpContext"}__init(){this.name=s.id}setupOnce(){(0,r.c)((e=>{if((0,i.Gd)().getIntegration(s)){if(!o.m9.navigator&&!o.m9.location&&!o.m9.document)return e;const t=e.request&&e.request.url||o.m9.location&&o.m9.location.href,{referrer:n}=o.m9.document||{},{userAgent:r}=o.m9.navigator||{},i={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},s={...e.request,...t&&{url:t},headers:i};return{...e,request:s}}return e}))}}s.__initStatic()},97373:(e,t,n)=>{"use strict";n.d(t,{iP:()=>a});var r=n(6878),i=n(25516),o=n(66885),s=n(24708);class a{static __initStatic(){this.id="LinkedErrors"}__init(){this.name=a.id}constructor(e={}){a.prototype.__init.call(this),this._key=e.key||"cause",this._limit=e.limit||5}setupOnce(){const e=(0,r.Gd)().getClient();e&&(0,i.c)(((t,n)=>{const i=(0,r.Gd)().getIntegration(a);return i?function(e,t,n,r,i){if(!(r.exception&&r.exception.values&&i&&(0,o.V9)(i.originalException,Error)))return r;const s=c(e,n,i.originalException,t);return r.exception.values=[...s,...r.exception.values],r}(e.getOptions().stackParser,i._key,i._limit,t,n):t}))}}function c(e,t,n,r,i=[]){if(!(0,o.V9)(n[r],Error)||i.length+1>=t)return i;const a=(0,s.GJ)(e,n[r]);return c(e,t,n[r],r,[a,...i])}a.__initStatic()},34183:(e,t,n)=>{"use strict";n.d(t,{p:()=>a});var r=n(39109),i=n(55514),o=n(51197);const s=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];class a{static __initStatic(){this.id="TryCatch"}__init(){this.name=a.id}constructor(e){a.prototype.__init.call(this),this._options={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e}}setupOnce(){this._options.setTimeout&&(0,r.hl)(o.m9,"setTimeout",c),this._options.setInterval&&(0,r.hl)(o.m9,"setInterval",c),this._options.requestAnimationFrame&&(0,r.hl)(o.m9,"requestAnimationFrame",u),this._options.XMLHttpRequest&&"XMLHttpRequest"in o.m9&&(0,r.hl)(XMLHttpRequest.prototype,"send",l);const e=this._options.eventTarget;e&&(Array.isArray(e)?e:s).forEach(h)}}function c(e){return function(...t){const n=t[0];return t[0]=(0,o.re)(n,{mechanism:{data:{function:(0,i.$P)(e)},handled:!0,type:"instrument"}}),e.apply(this,t)}}function u(e){return function(t){return e.apply(this,[(0,o.re)(t,{mechanism:{data:{function:"requestAnimationFrame",handler:(0,i.$P)(e)},handled:!0,type:"instrument"}})])}}function l(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach((e=>{e in n&&"function"==typeof n[e]&&(0,r.hl)(n,e,(function(t){const n={mechanism:{data:{function:e,handler:(0,i.$P)(t)},handled:!0,type:"instrument"}},s=(0,r.HK)(t);return s&&(n.mechanism.data.handler=(0,i.$P)(s)),(0,o.re)(t,n)}))})),e.apply(this,t)}}function h(e){const t=o.m9,n=t[e]&&t[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&((0,r.hl)(n,"addEventListener",(function(t){return function(n,r,s){try{"function"==typeof r.handleEvent&&(r.handleEvent=(0,o.re)(r.handleEvent,{mechanism:{data:{function:"handleEvent",handler:(0,i.$P)(r),target:e},handled:!0,type:"instrument"}}))}catch(e){}return t.apply(this,[n,(0,o.re)(r,{mechanism:{data:{function:"addEventListener",handler:(0,i.$P)(r),target:e},handled:!0,type:"instrument"}}),s])}})),(0,r.hl)(n,"removeEventListener",(function(e){return function(t,n,r){const i=n;try{const n=i&&i.__sentry_wrapped__;n&&e.call(this,t,n,r)}catch(e){}return e.call(this,t,i,r)}})))}a.__initStatic()},20350:(e,t,n)=>{"use strict";n.d(t,{S1:()=>we,jp:()=>Se});var r=n(37107),i=n(14979),o=n(67451),s=n(86922),a=n(6878),c=n(25516);const u=[];function l(e){const t=e.defaultIntegrations||[],n=e.integrations;let r;t.forEach((e=>{e.isDefaultInstance=!0})),r=Array.isArray(n)?[...t,...n]:"function"==typeof n?(0,o.lE)(n(t)):t;const i=function(e){const t={};return e.forEach((e=>{const{name:n}=e,r=t[n];r&&!r.isDefaultInstance&&e.isDefaultInstance||(t[n]=e)})),Object.keys(t).map((e=>t[e]))}(r),s=function(e,t){for(let t=0;t<e.length;t++)if(!0==("Debug"===e[t].name))return t;return-1}(i);if(-1!==s){const[e]=i.splice(s,1);i.push(e)}return i}function h(e,t){t[e.name]=e,-1===u.indexOf(e.name)&&(e.setupOnce(c.c,a.Gd),u.push(e.name),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&s.kg.log(`Integration installed: ${e.name}`))}var d=n(39109);class f extends Error{constructor(e,t="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=t}}const p=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function m(e,t=!1){const{host:n,path:r,pass:i,port:o,projectId:s,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&i?`:${i}`:""}@${n}${o?`:${o}`:""}/${r?`${r}/`:r}${s}`}function g(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function v(e){const t="string"==typeof e?function(e){const t=p.exec(e);if(!t)throw new f(`Invalid Sentry Dsn: ${e}`);const[n,r,i="",o,s="",a]=t.slice(1);let c="",u=a;const l=u.split("/");if(l.length>1&&(c=l.slice(0,-1).join("/"),u=l.pop()),u){const e=u.match(/^\d+/);e&&(u=e[0])}return g({host:o,pass:i,path:c,projectId:u,port:s,protocol:n,publicKey:r})}(e):g(e);return function(e){if("undefined"!=typeof __SENTRY_DEBUG__&&!__SENTRY_DEBUG__)return;const{port:t,projectId:n,protocol:r}=e;if(["protocol","publicKey","host","projectId"].forEach((t=>{if(!e[t])throw new f(`Invalid Sentry Dsn: ${t} missing`)})),!n.match(/^\d+$/))throw new f(`Invalid Sentry Dsn: Invalid projectId ${n}`);if(!function(e){return"http"===e||"https"===e}(r))throw new f(`Invalid Sentry Dsn: Invalid protocol ${r}`);if(t&&isNaN(parseInt(t,10)))throw new f(`Invalid Sentry Dsn: Invalid port ${t}`)}(t),t}const y="7";function b(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}var w=n(55514),S=n(83589),_=n(48398),x=n(66885),C=n(48894),E=n(41912);function k(e,t=[]){return[e,t]}function A(e,t){const[n,r]=e;return[n,[...r,t]]}function N(e,t){const n=e[1];for(const e of n)if(t(e,e[0].type))return!0;return!1}function T(e,t){return(t||new TextEncoder).encode(e)}function P(e,t){const[n,r]=e;let i=JSON.stringify(n);function o(e){"string"==typeof i?i="string"==typeof e?i+e:[T(i,t),e]:i.push("string"==typeof e?T(e,t):e)}for(const e of r){const[t,n]=e;if(o(`\n${JSON.stringify(t)}\n`),"string"==typeof n||n instanceof Uint8Array)o(n);else{let e;try{e=JSON.stringify(n)}catch(t){e=JSON.stringify((0,E.Fv)(n))}o(e)}}return"string"==typeof i?i:function(e){const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);let r=0;for(const t of e)n.set(t,r),r+=t.length;return n}(i)}function O(e,t){const n="string"==typeof e.data?T(e.data,t):e.data;return[(0,d.Jr)({type:"attachment",length:n.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),n]}const I={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay"};function R(e){return I[e]}function L(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}var M=n(89015),D=n(94180),j=n(65268),F=n(74211),B=n(99330);const q="Not capturing exception because it's already been captured.";class U{__init(){this._integrations={}}__init2(){this._integrationsInitialized=!1}__init3(){this._numProcessing=0}__init4(){this._outcomes={}}__init5(){this._hooks={}}constructor(e){if(U.prototype.__init.call(this),U.prototype.__init2.call(this),U.prototype.__init3.call(this),U.prototype.__init4.call(this),U.prototype.__init5.call(this),this._options=e,e.dsn){this._dsn=v(e.dsn);const t=function(e,t={}){const n="string"==typeof t?t:t.tunnel,r="string"!=typeof t&&t._metadata?t._metadata.sdk:void 0;return n||`${function(e){return`${b(e)}${e.projectId}/envelope/`}(e)}?${function(e,t){return(0,d._j)({sentry_key:e.publicKey,sentry_version:y,...t&&{sentry_client:`${t.name}/${t.version}`}})}(e,r)}`}(this._dsn,e);this._transport=e.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:t})}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&s.kg.warn("No DSN provided, client will not do anything.")}captureException(e,t,n){if((0,o.YO)(e))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&s.kg.log(q));let r=t&&t.event_id;return this._process(this.eventFromException(e,t).then((e=>this._captureEvent(e,t,n))).then((e=>{r=e}))),r}captureMessage(e,t,n,r){let i=n&&n.event_id;const o=(0,x.pt)(e)?this.eventFromMessage(String(e),t,n):this.eventFromException(e,n);return this._process(o.then((e=>this._captureEvent(e,n,r))).then((e=>{i=e}))),i}captureEvent(e,t,n){if(t&&t.originalException&&(0,o.YO)(t.originalException))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&s.kg.log(q));let r=t&&t.event_id;return this._process(this._captureEvent(e,t,n).then((e=>{r=e}))),r}captureSession(e){this._isEnabled()?"string"!=typeof e.release?("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&s.kg.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),(0,M.CT)(e,{init:!1})):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&s.kg.warn("SDK not enabled, will not capture session.")}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const t=this._transport;return t?this._isClientDoneProcessing(e).then((n=>t.flush(e).then((e=>n&&e)))):(0,C.WD)(!0)}close(e){return this.flush(e).then((e=>(this.getOptions().enabled=!1,e)))}setupIntegrations(){this._isEnabled()&&!this._integrationsInitialized&&(this._integrations=function(e){const t={};return e.forEach((e=>{e&&h(e,t)})),t}(this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch(t){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&s.kg.warn(`Cannot retrieve integration ${e.id} from the current Client`),null}}addIntegration(e){h(e,this._integrations)}sendEvent(e,t={}){if(this._dsn){let n=function(e,t,n,r){const i=L(n),o=e.type&&"replay_event"!==e.type?e.type:"event";!function(e,t){t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]])}(e,n&&n.sdk);const s=function(e,t,n,r){const i=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&{sdk:t},...!!n&&{dsn:m(r)},..."transaction"===e.type&&i&&{trace:(0,d.Jr)({...i})}}}(e,i,r,t);return delete e.sdkProcessingMetadata,k(s,[[{type:o},e]])}(e,this._dsn,this._options._metadata,this._options.tunnel);for(const e of t.attachments||[])n=A(n,O(e,this._options.transportOptions&&this._options.transportOptions.textEncoder));const r=this._sendEnvelope(n);r&&r.then((t=>this.emit("afterSendEvent",e,t)),null)}}sendSession(e){if(this._dsn){const t=function(e,t,n,r){const i=L(n);return k({sent_at:(new Date).toISOString(),...i&&{sdk:i},...!!r&&{dsn:m(t)}},["aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e]])}(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}}recordDroppedEvent(e,t,n){if(this._options.sendClientReports){const n=`${e}:${t}`;("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&s.kg.log(`Adding outcome: "${n}"`),this._outcomes[n]=this._outcomes[n]+1||1}}on(e,t){this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(t)}emit(e,...t){this._hooks[e]&&this._hooks[e].forEach((e=>e(...t)))}_updateSessionFromEvent(e,t){let n=!1,r=!1;const i=t.exception&&t.exception.values;if(i){r=!0;for(const e of i){const t=e.mechanism;if(t&&!1===t.handled){n=!0;break}}}const o="ok"===e.status;(o&&0===e.errors||o&&n)&&((0,M.CT)(e,{...n&&{status:"crashed"},errors:e.errors||Number(r||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new C.cW((t=>{let n=0;const r=setInterval((()=>{0==this._numProcessing?(clearInterval(r),t(!0)):(n+=1,e&&n>=e&&(clearInterval(r),t(!1)))}),1)}))}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._dsn}_prepareEvent(e,t,n){const r=this.getOptions(),i=Object.keys(this._integrations);return!t.integrations&&i.length>0&&(t.integrations=i),function(e,t,n,r){const{normalizeDepth:i=3,normalizeMaxBreadth:s=1e3}=e,a={...t,event_id:t.event_id||n.event_id||(0,o.DM)(),timestamp:t.timestamp||(0,D.yW)()},u=n.integrations||e.integrations.map((e=>e.name));!function(e,t){const{environment:n,release:r,dist:i,maxValueLength:o=250}=t;"environment"in e||(e.environment="environment"in t?n:B.J),void 0===e.release&&void 0!==r&&(e.release=r),void 0===e.dist&&void 0!==i&&(e.dist=i),e.message&&(e.message=(0,j.$G)(e.message,o));const s=e.exception&&e.exception.values&&e.exception.values[0];s&&s.value&&(s.value=(0,j.$G)(s.value,o));const a=e.request;a&&a.url&&(a.url=(0,j.$G)(a.url,o))}(a,e),function(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}(a,u),function(e,t){const n=F.n2._sentryDebugIds;if(!n)return;const r=Object.keys(n).reduce(((e,r)=>{const i=t(r);for(const t of i)if(t.filename){e[t.filename]=n[r];break}return e}),{}),i=new Set;try{e.exception.values.forEach((e=>{e.stacktrace.frames.forEach((e=>{e.filename&&i.add(e.filename)}))}))}catch(e){}e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const o=e.debug_meta.images;i.forEach((e=>{r[e]&&o.push({type:"sourcemap",code_file:e,debug_id:r[e]})}))}(a,e.stackParser);let l=r;n.captureContext&&(l=c.s.clone(l).update(n.captureContext));let h=(0,C.WD)(a);if(l){if(l.getAttachments){const e=[...n.attachments||[],...l.getAttachments()];e.length&&(n.attachments=e)}h=l.applyToEvent(a,n)}return h.then((e=>"number"==typeof i&&i>0?function(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map((e=>({...e,...e.data&&{data:(0,E.Fv)(e.data,t,n)}})))},...e.user&&{user:(0,E.Fv)(e.user,t,n)},...e.contexts&&{contexts:(0,E.Fv)(e.contexts,t,n)},...e.extra&&{extra:(0,E.Fv)(e.extra,t,n)}};return e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=(0,E.Fv)(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map((e=>(e.data&&(e.data=(0,E.Fv)(e.data,t,n)),e)))),r}(e,i,s):e))}(r,e,t,n)}_captureEvent(e,t={},n){return this._processEvent(e,t,n).then((e=>e.event_id),(e=>{if("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__){const t=e;"log"===t.logLevel?s.kg.log(t.message):s.kg.warn(t)}}))}_processEvent(e,t,n){const r=this.getOptions(),{sampleRate:i}=r;if(!this._isEnabled())return(0,C.$2)(new f("SDK not enabled, will not capture event.","log"));const o=$(e),s=z(e),a=e.type||"error",c=`before send for type \`${a}\``;if(s&&"number"==typeof i&&Math.random()>i)return this.recordDroppedEvent("sample_rate","error",e),(0,C.$2)(new f(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));const u="replay_event"===a?"replay":a;return this._prepareEvent(e,t,n).then((n=>{if(null===n)throw this.recordDroppedEvent("event_processor",u,e),new f("An event processor returned `null`, will not send event.","log");if(t.data&&!0===t.data.__sentry__)return n;const i=function(e,t,n){const{beforeSend:r,beforeSendTransaction:i}=e;return z(t)&&r?r(t,n):$(t)&&i?i(t,n):t}(r,n,t);return function(e,t){const n=`${t} must return \`null\` or a valid event.`;if((0,x.J8)(e))return e.then((e=>{if(!(0,x.PO)(e)&&null!==e)throw new f(n);return e}),(e=>{throw new f(`${t} rejected with ${e}`)}));if(!(0,x.PO)(e)&&null!==e)throw new f(n);return e}(i,c)})).then((r=>{if(null===r)throw this.recordDroppedEvent("before_send",u,e),new f(`${c} returned \`null\`, will not send event.`,"log");const i=n&&n.getSession();!o&&i&&this._updateSessionFromEvent(i,r);const s=r.transaction_info;if(o&&s&&r.transaction!==e.transaction){const e="custom";r.transaction_info={...s,source:e}}return this.sendEvent(r,t),r})).then(null,(e=>{if(e instanceof f)throw e;throw this.captureException(e,{data:{__sentry__:!0},originalException:e}),new f(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${e}`)}))}_process(e){this._numProcessing++,e.then((e=>(this._numProcessing--,e)),(e=>(this._numProcessing--,e)))}_sendEnvelope(e){if(this._transport&&this._dsn)return this.emit("beforeEnvelope",e),this._transport.send(e).then(null,(e=>{("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&s.kg.error("Error while sending event:",e)}));("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&s.kg.error("Transport disabled")}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.keys(e).map((t=>{const[n,r]=t.split(":");return{reason:n,category:r,quantity:e[t]}}))}}function z(e){return void 0===e.type}function $(e){return"transaction"===e.type}const H="7.46.0";var G=n(6905),V=n(24708),W=n(51197),K=n(36242);class Z extends U{constructor(e){const t=W.m9.SENTRY_SDK_SOURCE||(0,G.S)();e._metadata=e._metadata||{},e._metadata.sdk=e._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:`${t}:@sentry/browser`,version:H}],version:H},super(e),e.sendClientReports&&W.m9.document&&W.m9.document.addEventListener("visibilitychange",(()=>{"hidden"===W.m9.document.visibilityState&&this._flushOutcomes()}))}eventFromException(e,t){return(0,V.dr)(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e,t="info",n){return(0,V.aB)(this._options.stackParser,e,t,n,this._options.attachStacktrace)}sendEvent(e,t){const n=this.getIntegrationById(K.p);n&&n.addSentryBreadcrumb&&n.addSentryBreadcrumb(e),super.sendEvent(e,t)}_prepareEvent(e,t,n){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,n)}_flushOutcomes(){const e=this._clearOutcomes();if(0===e.length)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&s.kg.log("No outcomes to send"));if(!this._dsn)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&s.kg.log("No dsn provided, will not send outcomes"));("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&s.kg.log("Sending outcomes:",e);const t=(n=e,k((r=this._options.tunnel&&m(this._dsn))?{dsn:r}:{},[[{type:"client_report"},{timestamp:(0,D.yW)(),discarded_events:n}]]));var n,r;this._sendEnvelope(t)}}var Y=n(35519),J=n(34183),Q=n(97373),X=n(21680),ee=n(12836);const te="?";function ne(e,t,n,r){const i={filename:e,function:t,in_app:!0};return void 0!==n&&(i.lineno=n),void 0!==r&&(i.colno=r),i}const re=/^\s*at (?:(.*\).*?|.*?) ?\((?:address at )?)?(?:async )?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,ie=/\((\S*)(?::(\d+))(?::(\d+))\)/,oe=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|safari-extension|safari-web-extension|capacitor)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,se=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,ae=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,ce=[[30,e=>{const t=re.exec(e);if(t){if(t[2]&&0===t[2].indexOf("eval")){const e=ie.exec(t[2]);e&&(t[2]=e[1],t[3]=e[2],t[4]=e[3])}const[e,n]=le(t[1]||te,t[2]);return ne(n,e,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}}],[50,e=>{const t=oe.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const e=se.exec(t[3]);e&&(t[1]=t[1]||"eval",t[3]=e[1],t[4]=e[2],t[5]="")}let e=t[3],n=t[1]||te;return[n,e]=le(n,e),ne(e,n,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}],[40,e=>{const t=ae.exec(e);return t?ne(t[2],t[1]||te,+t[3],t[4]?+t[4]:void 0):void 0}]],ue=(0,w.pE)(...ce),le=(e,t)=>{const n=-1!==e.indexOf("safari-extension"),r=-1!==e.indexOf("safari-web-extension");return n||r?[-1!==e.indexOf("@")?e.split("@")[0]:te,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]};const he=6e4;const de=30;function fe(e,t,n=function(e){const t=[];function n(e){return t.splice(t.indexOf(e),1)[0]}return{$:t,add:function(r){if(!(void 0===e||t.length<e))return(0,C.$2)(new f("Not adding Promise because buffer limit was reached."));const i=r();return-1===t.indexOf(i)&&t.push(i),i.then((()=>n(i))).then(null,(()=>n(i).then(null,(()=>{})))),i},drain:function(e){return new C.cW(((n,r)=>{let i=t.length;if(!i)return n(!0);const o=setTimeout((()=>{e&&e>0&&n(!1)}),e);t.forEach((e=>{(0,C.WD)(e).then((()=>{--i||(clearTimeout(o),n(!0))}),r)}))}))}}}(e.bufferSize||de)){let r={};function i(i){const o=[];if(N(i,((t,n)=>{const i=R(n);if(function(e,t,n=Date.now()){return function(e,t){return e[t]||e.all||0}(e,t)>n}(r,i)){const r=pe(t,n);e.recordDroppedEvent("ratelimit_backoff",i,r)}else o.push(t)})),0===o.length)return(0,C.WD)();const a=k(i[0],o),c=t=>{N(a,((n,r)=>{const i=pe(n,r);e.recordDroppedEvent(t,R(r),i)}))};return n.add((()=>t({body:P(a,e.textEncoder)}).then((e=>(void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&s.kg.warn(`Sentry responded with status code ${e.statusCode} to sent event.`),r=function(e,{statusCode:t,headers:n},r=Date.now()){const i={...e},o=n&&n["x-sentry-rate-limits"],s=n&&n["retry-after"];if(o)for(const e of o.trim().split(",")){const[t,n]=e.split(":",2),o=parseInt(t,10),s=1e3*(isNaN(o)?60:o);if(n)for(const e of n.split(";"))i[e]=r+s;else i.all=r+s}else s?i.all=r+function(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return 1e3*n;const r=Date.parse(`${e}`);return isNaN(r)?he:r-t}(s,r):429===t&&(i.all=r+6e4);return i}(r,e),e)),(e=>{throw c("network_error"),e})))).then((e=>e),(e=>{if(e instanceof f)return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&s.kg.error("Skipped sending event because buffer is full."),c("queue_overflow"),(0,C.WD)();throw e}))}return i.__sentry__baseTransport__=!0,{send:i,flush:e=>n.drain(e)}}function pe(e,t){if("event"===t||"transaction"===t)return Array.isArray(e)?e[1]:void 0}let me;function ge(e,t=function(){if(me)return me;if((0,S.Du)(W.m9.fetch))return me=W.m9.fetch.bind(W.m9);const e=W.m9.document;let t=W.m9.fetch;if(e&&"function"==typeof e.createElement)try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);const r=n.contentWindow;r&&r.fetch&&(t=r.fetch),e.head.removeChild(n)}catch(e){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&s.kg.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return me=t.bind(W.m9)}()){let n=0,r=0;return fe(e,(function(i){const o=i.body.length;n+=o,r++;const s={body:i.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};try{return t(e.url,s).then((e=>(n-=o,r--,{statusCode:e.status,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")}})))}catch(e){return me=void 0,n-=o,r--,(0,C.$2)(e)}}))}const ve=4;function ye(e){return fe(e,(function(t){return new C.cW(((n,r)=>{const i=new XMLHttpRequest;i.onerror=r,i.onreadystatechange=()=>{i.readyState===ve&&n({statusCode:i.status,headers:{"x-sentry-rate-limits":i.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":i.getResponseHeader("Retry-After")}})},i.open("POST",e.url);for(const t in e.headers)Object.prototype.hasOwnProperty.call(e.headers,t)&&i.setRequestHeader(t,e.headers[t]);i.send(t.body)}))}))}const be=[new r.QD,new i.c,new J.p,new K.O,new Y.d,new Q.iP,new ee.I,new X.q];function we(e={}){void 0===e.defaultIntegrations&&(e.defaultIntegrations=be),void 0===e.release&&("string"==typeof __SENTRY_RELEASE__&&(e.release=__SENTRY_RELEASE__),W.m9.SENTRY_RELEASE&&W.m9.SENTRY_RELEASE.id&&(e.release=W.m9.SENTRY_RELEASE.id)),void 0===e.autoSessionTracking&&(e.autoSessionTracking=!0),void 0===e.sendClientReports&&(e.sendClientReports=!0);const t={...e,stackParser:(0,w.Sq)(e.stackParser||ue),integrations:l(e),transport:e.transport||((0,S.Ak)()?ge:ye)};!function(e,t){!0===t.debug&&("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?s.kg.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));const n=(0,a.Gd)();n.getScope().update(t.initialScope);const r=new e(t);n.bindClient(r)}(Z,t),e.autoSessionTracking&&function(){if(void 0===W.m9.document)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&s.kg.warn("Session tracking in non-browser environment with @sentry/browser is not supported."));const e=(0,a.Gd)();e.captureSession&&(_e(e),(0,_.o)("history",(({from:e,to:t})=>{void 0!==e&&e!==t&&_e((0,a.Gd)())})))}()}function Se(e={},t=(0,a.Gd)()){if(!W.m9.document)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&s.kg.error("Global document not defined in showReportDialog call"));const{client:n,scope:r}=t.getStackTop(),i=e.dsn||n&&n.getDsn();if(!i)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&s.kg.error("DSN not configured for showReportDialog call"));r&&(e.user={...r.getUser(),...e.user}),e.eventId||(e.eventId=t.lastEventId());const o=W.m9.document.createElement("script");o.async=!0,o.src=function(e,t){const n=v(e),r=`${b(n)}embed/error-page/`;let i=`dsn=${m(n)}`;for(const e in t)if("dsn"!==e)if("user"===e){const e=t.user;if(!e)continue;e.name&&(i+=`&name=${encodeURIComponent(e.name)}`),e.email&&(i+=`&email=${encodeURIComponent(e.email)}`)}else i+=`&${encodeURIComponent(e)}=${encodeURIComponent(t[e])}`;return`${r}?${i}`}(i,e),e.onLoad&&(o.onload=e.onLoad);const c=W.m9.document.head||W.m9.document.body;c?c.appendChild(o):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&s.kg.error("Not injecting report dialog. No injection point found in HTML")}function _e(e){e.startSession({ignoreDuration:!0}),e.captureSession()}},99330:(e,t,n)=>{"use strict";n.d(t,{J:()=>r});const r="production"},60074:(e,t,n)=>{"use strict";n.d(t,{$e:()=>u,Tb:()=>i,e:()=>a,eN:()=>s,n_:()=>c,uT:()=>o});var r=n(6878);function i(e,t){return(0,r.Gd)().captureException(e,{captureContext:t})}function o(e,t){const n="string"==typeof t?t:void 0,i="string"!=typeof t?{captureContext:t}:void 0;return(0,r.Gd)().captureMessage(e,n,i)}function s(e,t){return(0,r.Gd)().captureEvent(e,t)}function a(e){(0,r.Gd)().configureScope(e)}function c(e){(0,r.Gd)().addBreadcrumb(e)}function u(e){(0,r.Gd)().withScope(e)}},6878:(e,t,n)=>{"use strict";n.d(t,{Gd:()=>g});var r=n(67451),i=n(94180),o=n(86922),s=n(74211),a=n(5728),c=n(99330),u=n(25516),l=n(89015);const h=4,d=100;class f{constructor(e,t=new u.s,n=h){this._version=n,this._stack=[{scope:t}],e&&this.bindClient(e)}isOlderThan(e){return this._version<e}bindClient(e){this.getStackTop().client=e,e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){const e=u.s.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return!(this.getStack().length<=1||!this.getStack().pop())}withScope(e){const t=this.pushScope();try{e(t)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,t){const n=this._lastEventId=t&&t.event_id?t.event_id:(0,r.DM)(),i=new Error("Sentry syntheticException");return this._withClient(((r,o)=>{r.captureException(e,{originalException:e,syntheticException:i,...t,event_id:n},o)})),n}captureMessage(e,t,n){const i=this._lastEventId=n&&n.event_id?n.event_id:(0,r.DM)(),o=new Error(e);return this._withClient(((r,s)=>{r.captureMessage(e,t,{originalException:e,syntheticException:o,...n,event_id:i},s)})),i}captureEvent(e,t){const n=t&&t.event_id?t.event_id:(0,r.DM)();return e.type||(this._lastEventId=n),this._withClient(((r,i)=>{r.captureEvent(e,{...t,event_id:n},i)})),n}lastEventId(){return this._lastEventId}addBreadcrumb(e,t){const{scope:n,client:r}=this.getStackTop();if(!r)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:a=d}=r.getOptions&&r.getOptions()||{};if(a<=0)return;const c={timestamp:(0,i.yW)(),...e},u=s?(0,o.Cf)((()=>s(c,t))):c;null!==u&&(r.emit&&r.emit("beforeAddBreadcrumb",u,t),n.addBreadcrumb(u,a))}setUser(e){this.getScope().setUser(e)}setTags(e){this.getScope().setTags(e)}setExtras(e){this.getScope().setExtras(e)}setTag(e,t){this.getScope().setTag(e,t)}setExtra(e,t){this.getScope().setExtra(e,t)}setContext(e,t){this.getScope().setContext(e,t)}configureScope(e){const{scope:t,client:n}=this.getStackTop();n&&e(t)}run(e){const t=m(this);try{e(this)}finally{m(t)}}getIntegration(e){const t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(t){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,t){return this._callExtensionMethod("startTransaction",e,t)}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){const e=this.getStackTop().scope,t=e.getSession();t&&(0,l.RJ)(t),this._sendSessionUpdate(),e.setSession()}startSession(e){const{scope:t,client:n}=this.getStackTop(),{release:r,environment:i=c.J}=n&&n.getOptions()||{},{userAgent:o}=s.n2.navigator||{},a=(0,l.Hv)({release:r,environment:i,user:t.getUser(),...o&&{userAgent:o},...e}),u=t.getSession&&t.getSession();return u&&"ok"===u.status&&(0,l.CT)(u,{status:"exited"}),this.endSession(),t.setSession(a),a}shouldSendDefaultPii(){const e=this.getClient(),t=e&&e.getOptions();return Boolean(t&&t.sendDefaultPii)}_sendSessionUpdate(){const{scope:e,client:t}=this.getStackTop();if(!e)return;const n=e.getSession();n&&t&&t.captureSession&&t.captureSession(n)}_withClient(e){const{scope:t,client:n}=this.getStackTop();n&&e(n,t)}_callExtensionMethod(e,...t){const n=p().__SENTRY__;if(n&&n.extensions&&"function"==typeof n.extensions[e])return n.extensions[e].apply(this,t);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.warn(`Extension method ${e} couldn't be found, doing nothing.`)}}function p(){return s.n2.__SENTRY__=s.n2.__SENTRY__||{extensions:{},hub:void 0},s.n2}function m(e){const t=p(),n=y(t);return b(t,e),n}function g(){const e=p();return v(e)&&!y(e).isOlderThan(h)||b(e,new f),(0,a.KV)()?function(e){try{const t=p().__SENTRY__,n=t&&t.extensions&&t.extensions.domain&&t.extensions.domain.active;if(!n)return y(e);if(!v(n)||y(n).isOlderThan(h)){const t=y(e).getStackTop();b(n,new f(t.client,u.s.clone(t.scope)))}return y(n)}catch(t){return y(e)}}(e):y(e)}function v(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function y(e){return(0,s.YO)("hub",(()=>new f),e)}function b(e,t){return!!e&&((e.__SENTRY__=e.__SENTRY__||{}).hub=t,!0)}},14979:(e,t,n)=>{"use strict";n.d(t,{c:()=>o});var r=n(39109);let i;class o{constructor(){o.prototype.__init.call(this)}static __initStatic(){this.id="FunctionToString"}__init(){this.name=o.id}setupOnce(){i=Function.prototype.toString,Function.prototype.toString=function(...e){const t=(0,r.HK)(this)||this;return i.apply(t,e)}}}o.__initStatic()},37107:(e,t,n)=>{"use strict";n.d(t,{QD:()=>a});var r=n(86922),i=n(67451),o=n(65268);const s=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/];class a{static __initStatic(){this.id="InboundFilters"}__init(){this.name=a.id}constructor(e={}){this._options=e,a.prototype.__init.call(this)}setupOnce(e,t){const n=e=>{const n=t();if(n){const t=n.getIntegration(a);if(t){const a=n.getClient(),u=a?a.getOptions():{},l=function(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...s],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]],ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}(t._options,u);return function(e,t){return t.ignoreInternal&&function(e){try{return"SentryError"===e.exception.values[0].type}catch(e){}return!1}(e)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${(0,i.jH)(e)}`),!0):function(e,t){return!(e.type||!t||!t.length)&&function(e){if(e.message)return[e.message];if(e.exception)try{const{type:t="",value:n=""}=e.exception.values&&e.exception.values[0]||{};return[`${n}`,`${t}: ${n}`]}catch(t){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.error(`Cannot extract message for event ${(0,i.jH)(e)}`),[]}return[]}(e).some((e=>(0,o.U0)(e,t)))}(e,t.ignoreErrors)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${(0,i.jH)(e)}`),!0):function(e,t){if("transaction"!==e.type||!t||!t.length)return!1;const n=e.transaction;return!!n&&(0,o.U0)(n,t)}(e,t.ignoreTransactions)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${(0,i.jH)(e)}`),!0):function(e,t){if(!t||!t.length)return!1;const n=c(e);return!!n&&(0,o.U0)(n,t)}(e,t.denyUrls)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${(0,i.jH)(e)}.\nUrl: ${c(e)}`),!0):!function(e,t){if(!t||!t.length)return!0;const n=c(e);return!n||(0,o.U0)(n,t)}(e,t.allowUrls)&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${(0,i.jH)(e)}.\nUrl: ${c(e)}`),!0)}(e,l)?null:e}}return e};n.id=this.name,e(n)}}function c(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch(e){}return t?function(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(t):null}catch(t){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.error(`Cannot extract url for event ${(0,i.jH)(e)}`),null}}a.__initStatic()},25516:(e,t,n)=>{"use strict";n.d(t,{c:()=>d,s:()=>l});var r=n(66885),i=n(94180),o=n(48894),s=n(86922),a=n(67451),c=n(74211),u=n(89015);class l{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}static clone(e){const t=new l;return e&&(t._breadcrumbs=[...e._breadcrumbs],t._tags={...e._tags},t._extra={...e._extra},t._contexts={...e._contexts},t._user=e._user,t._level=e._level,t._span=e._span,t._session=e._session,t._transactionName=e._transactionName,t._fingerprint=e._fingerprint,t._eventProcessors=[...e._eventProcessors],t._requestSession=e._requestSession,t._attachments=[...e._attachments],t._sdkProcessingMetadata={...e._sdkProcessingMetadata}),t}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{},this._session&&(0,u.CT)(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const e=this.getSpan();return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;if("function"==typeof e){const t=e(this);return t instanceof l?t:this}return e instanceof l?(this._tags={...this._tags,...e._tags},this._extra={...this._extra,...e._extra},this._contexts={...this._contexts,...e._contexts},e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint),e._requestSession&&(this._requestSession=e._requestSession)):(0,r.PO)(e)&&(this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this}addBreadcrumb(e,t){const n="number"==typeof t?t:100;if(n<=0)return this;const r={timestamp:(0,i.yW)(),...e};return this._breadcrumbs=[...this._breadcrumbs,r].slice(-n),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(e,t={}){if(this._extra&&Object.keys(this._extra).length&&(e.extra={...this._extra,...e.extra}),this._tags&&Object.keys(this._tags).length&&(e.tags={...this._tags,...e.tags}),this._user&&Object.keys(this._user).length&&(e.user={...this._user,...e.user}),this._contexts&&Object.keys(this._contexts).length&&(e.contexts={...this._contexts,...e.contexts}),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts={trace:this._span.getTraceContext(),...e.contexts};const t=this._span.transaction&&this._span.transaction.name;t&&(e.tags={transaction:t,...e.tags})}return this._applyFingerprint(e),e.breadcrumbs=[...e.breadcrumbs||[],...this._breadcrumbs],e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...this._sdkProcessingMetadata},this._notifyEventProcessors([...h(),...this._eventProcessors],e,t)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}_notifyEventProcessors(e,t,n,i=0){return new o.cW(((o,a)=>{const c=e[i];if(null===t||"function"!=typeof c)o(t);else{const u=c({...t},n);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.id&&null===u&&s.kg.log(`Event processor "${c.id}" dropped event`),(0,r.J8)(u)?u.then((t=>this._notifyEventProcessors(e,t,n,i+1).then(o))).then(null,a):this._notifyEventProcessors(e,u,n,i+1).then(o).then(null,a)}}))}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((e=>{e(this)})),this._notifyingListeners=!1)}_applyFingerprint(e){e.fingerprint=e.fingerprint?(0,a.lE)(e.fingerprint):[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}}function h(){return(0,c.YO)("globalEventProcessors",(()=>[]))}function d(e){h().push(e)}},89015:(e,t,n)=>{"use strict";n.d(t,{CT:()=>a,Hv:()=>s,RJ:()=>c});var r=n(94180),i=n(67451),o=n(39109);function s(e){const t=(0,r.ph)(),n={sid:(0,i.DM)(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(e){return(0,o.Jr)({sid:`${e.sid}`,init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"==typeof e.did||"string"==typeof e.did?`${e.did}`:void 0,duration:e.duration,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}(n)};return e&&a(n,e),n}function a(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||(0,r.ph)(),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:(0,i.DM)()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),"number"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"==typeof t.duration)e.duration=t.duration;else{const t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}function c(e,t){let n={};t?n={status:t}:"ok"===e.status&&(n={status:"exited"}),a(e,n)}},61495:(e,t,n)=>{"use strict";n.d(t,{Rt:()=>s,l4:()=>c});var r=n(66885);const i=(0,n(74211).Rf)(),o=80;function s(e,t={}){try{let n=e;const r=5,i=[];let s=0,c=0;const u=" > ",l=u.length;let h;const d=Array.isArray(t)?t:t.keyAttrs,f=!Array.isArray(t)&&t.maxStringLength||o;for(;n&&s++<r&&(h=a(n,d),!("html"===h||s>1&&c+i.length*l+h.length>=f));)i.push(h),c+=h.length,n=n.parentNode;return i.reverse().join(u)}catch(e){return"<unknown>"}}function a(e,t){const n=e,i=[];let o,s,a,c,u;if(!n||!n.tagName)return"";i.push(n.tagName.toLowerCase());const l=t&&t.length?t.filter((e=>n.getAttribute(e))).map((e=>[e,n.getAttribute(e)])):null;if(l&&l.length)l.forEach((e=>{i.push(`[${e[0]}="${e[1]}"]`)}));else if(n.id&&i.push(`#${n.id}`),o=n.className,o&&(0,r.HD)(o))for(s=o.split(/\s+/),u=0;u<s.length;u++)i.push(`.${s[u]}`);const h=["aria-label","type","name","title","alt"];for(u=0;u<h.length;u++)a=h[u],c=n.getAttribute(a),c&&i.push(`[${a}="${c}"]`);return i.join("")}function c(){try{return i.document.location.href}catch(e){return""}}},99144:(e,t,n)=>{"use strict";function r(e){let t,n=e[0],r=1;for(;r<e.length;){const i=e[r],o=e[r+1];if(r+=2,("optionalAccess"===i||"optionalCall"===i)&&null==n)return;"access"===i||"optionalAccess"===i?(t=n,n=o(n)):"call"!==i&&"optionalCall"!==i||(n=o(((...e)=>n.call(t,...e))),t=void 0)}return n}n.d(t,{x:()=>r})},6905:(e,t,n)=>{"use strict";function r(){return"undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&!!__SENTRY_BROWSER_BUNDLE__}function i(){return"npm"}n.d(t,{S:()=>i,n:()=>r})},48398:(e,t,n)=>{"use strict";n.d(t,{o:()=>f});var r=n(66885),i=n(86922),o=n(39109),s=n(55514),a=n(83589),c=n(74211);const u=(0,c.Rf)(),l=(0,c.Rf)(),h={},d={};function f(e,t){h[e]=h[e]||[],h[e].push(t),function(e){if(!d[e])switch(d[e]=!0,e){case"console":"console"in l&&i.RU.forEach((function(e){e in l.console&&(0,o.hl)(l.console,e,(function(t){return function(...n){p("console",{args:n,level:e}),t&&t.apply(l.console,n)}}))}));break;case"dom":!function(){if(!("document"in l))return;const e=p.bind(null,"dom"),t=S(e,!0);l.document.addEventListener("click",t,!1),l.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach((t=>{const n=l[t]&&l[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&((0,o.hl)(n,"addEventListener",(function(t){return function(n,r,i){if("click"===n||"keypress"==n)try{const r=this,o=r.__sentry_instrumentation_handlers__=r.__sentry_instrumentation_handlers__||{},s=o[n]=o[n]||{refCount:0};if(!s.handler){const r=S(e);s.handler=r,t.call(this,n,r,i)}s.refCount++}catch(e){}return t.call(this,n,r,i)}})),(0,o.hl)(n,"removeEventListener",(function(e){return function(t,n,r){if("click"===t||"keypress"==t)try{const n=this,i=n.__sentry_instrumentation_handlers__||{},o=i[t];o&&(o.refCount--,o.refCount<=0&&(e.call(this,t,o.handler,r),o.handler=void 0,delete i[t]),0===Object.keys(i).length&&delete n.__sentry_instrumentation_handlers__)}catch(e){}return e.call(this,t,n,r)}})))}))}();break;case"xhr":!function(){if(!("XMLHttpRequest"in l))return;const e=XMLHttpRequest.prototype;(0,o.hl)(e,"open",(function(e){return function(...t){const n=t[1],i=this.__sentry_xhr__={method:(0,r.HD)(t[0])?t[0].toUpperCase():t[0],url:t[1]};(0,r.HD)(n)&&"POST"===i.method&&n.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const s=()=>{const e=this.__sentry_xhr__;if(e&&4===this.readyState){try{e.status_code=this.status}catch(e){}p("xhr",{args:t,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:this})}};return"onreadystatechange"in this&&"function"==typeof this.onreadystatechange?(0,o.hl)(this,"onreadystatechange",(function(e){return function(...t){return s(),e.apply(this,t)}})):this.addEventListener("readystatechange",s),e.apply(this,t)}})),(0,o.hl)(e,"send",(function(e){return function(...t){return this.__sentry_xhr__&&void 0!==t[0]&&(this.__sentry_xhr__.body=t[0]),p("xhr",{args:t,startTimestamp:Date.now(),xhr:this}),e.apply(this,t)}}))}();break;case"fetch":(0,a.t$)()&&(0,o.hl)(l,"fetch",(function(e){return function(...t){const n={args:t,fetchData:{method:m(t),url:g(t)},startTimestamp:Date.now()};return p("fetch",{...n}),e.apply(l,t).then((e=>(p("fetch",{...n,endTimestamp:Date.now(),response:e}),e)),(e=>{throw p("fetch",{...n,endTimestamp:Date.now(),error:e}),e}))}}));break;case"history":!function(){if(!function(){const e=u.chrome,t=e&&e.app&&e.app.runtime,n="history"in u&&!!u.history.pushState&&!!u.history.replaceState;return!t&&n}())return;const e=l.onpopstate;function t(e){return function(...t){const n=t.length>2?t[2]:void 0;if(n){const e=v,t=String(n);v=t,p("history",{from:e,to:t})}return e.apply(this,t)}}l.onpopstate=function(...t){const n=l.location.href,r=v;if(v=n,p("history",{from:r,to:n}),e)try{return e.apply(this,t)}catch(e){}},(0,o.hl)(l.history,"pushState",t),(0,o.hl)(l.history,"replaceState",t)}();break;case"error":_=l.onerror,l.onerror=function(e,t,n,r,i){return p("error",{column:r,error:i,line:n,msg:e,url:t}),!!_&&_.apply(this,arguments)};break;case"unhandledrejection":x=l.onunhandledrejection,l.onunhandledrejection=function(e){return p("unhandledrejection",e),!x||x.apply(this,arguments)};break;default:("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.warn("unknown instrumentation type:",e)}}(e)}function p(e,t){if(e&&h[e])for(const n of h[e]||[])try{n(t)}catch(t){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${(0,s.$P)(n)}\nError:`,t)}}function m(e=[]){return"Request"in l&&(0,r.V9)(e[0],Request)&&e[0].method?String(e[0].method).toUpperCase():e[1]&&e[1].method?String(e[1].method).toUpperCase():"GET"}function g(e=[]){return"string"==typeof e[0]?e[0]:"Request"in l&&(0,r.V9)(e[0],Request)?e[0].url:String(e[0])}let v;const y=1e3;let b,w;function S(e,t=!1){return n=>{if(!n||w===n)return;if(function(e){if("keypress"!==e.type)return!1;try{const t=e.target;if(!t||!t.tagName)return!0;if("INPUT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable)return!1}catch(e){}return!0}(n))return;const r="keypress"===n.type?"input":n.type;(void 0===b||function(e,t){if(!e)return!0;if(e.type!==t.type)return!0;try{if(e.target!==t.target)return!0}catch(e){}return!1}(w,n))&&(e({event:n,name:r,global:t}),w=n),clearTimeout(b),b=l.setTimeout((()=>{b=void 0}),y)}}let _=null,x=null},66885:(e,t,n)=>{"use strict";n.d(t,{Cy:()=>g,HD:()=>u,J8:()=>m,Kj:()=>p,PO:()=>h,TX:()=>a,V9:()=>y,VW:()=>s,VZ:()=>i,cO:()=>d,fm:()=>c,i2:()=>v,kK:()=>f,pt:()=>l});const r=Object.prototype.toString;function i(e){switch(r.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return y(e,Error)}}function o(e,t){return r.call(e)===`[object ${t}]`}function s(e){return o(e,"ErrorEvent")}function a(e){return o(e,"DOMError")}function c(e){return o(e,"DOMException")}function u(e){return o(e,"String")}function l(e){return null===e||"object"!=typeof e&&"function"!=typeof e}function h(e){return o(e,"Object")}function d(e){return"undefined"!=typeof Event&&y(e,Event)}function f(e){return"undefined"!=typeof Element&&y(e,Element)}function p(e){return o(e,"RegExp")}function m(e){return Boolean(e&&e.then&&"function"==typeof e.then)}function g(e){return h(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function v(e){return"number"==typeof e&&e!=e}function y(e,t){try{return e instanceof t}catch(e){return!1}}},86922:(e,t,n)=>{"use strict";n.d(t,{Cf:()=>s,RU:()=>o,kg:()=>c});var r=n(74211);const i="Sentry Logger ",o=["debug","info","warn","error","log","assert","trace"];function s(e){if(!("console"in r.n2))return e();const t=r.n2.console,n={};o.forEach((e=>{const r=t[e]&&t[e].__sentry_original__;e in t&&r&&(n[e]=t[e],t[e]=r)}));try{return e()}finally{Object.keys(n).forEach((e=>{t[e]=n[e]}))}}function a(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1}};return"undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?o.forEach((n=>{t[n]=(...t)=>{e&&s((()=>{r.n2.console[n](`${i}[${n}]:`,...t)}))}})):o.forEach((e=>{t[e]=()=>{}})),t}let c;c="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?(0,r.YO)("logger",a):a()},67451:(e,t,n)=>{"use strict";n.d(t,{DM:()=>o,Db:()=>c,EG:()=>u,YO:()=>l,jH:()=>a,lE:()=>h});var r=n(39109),i=n(74211);function o(){const e=i.n2,t=e.crypto||e.msCrypto;if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");const n=t&&t.getRandomValues?()=>t.getRandomValues(new Uint8Array(1))[0]:()=>16*Math.random();return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(e=>(e^(15&n())>>e/4).toString(16)))}function s(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function a(e){const{message:t,event_id:n}=e;if(t)return t;const r=s(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function c(e,t,n){const r=e.exception=e.exception||{},i=r.values=r.values||[],o=i[0]=i[0]||{};o.value||(o.value=t||""),o.type||(o.type=n||"Error")}function u(e,t){const n=s(e);if(!n)return;const r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...t},t&&"data"in t){const e={...r&&r.data,...t.data};n.mechanism.data=e}}function l(e){if(e&&e.__sentry_captured__)return!0;try{(0,r.xp)(e,"__sentry_captured__",!0)}catch(e){}return!1}function h(e){return Array.isArray(e)?e:[e]}},5728:(e,t,n)=>{"use strict";n.d(t,{$y:()=>s,KV:()=>i,l$:()=>o});var r=n(6905);function i(){return!(0,r.n)()&&"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)}function o(e,t){return e.require(t)}function s(t){let n;try{n=o(e,t)}catch(e){}try{const{cwd:r}=o(e,"process");n=o(e,`${r()}/node_modules/${t}`)}catch(e){}return n}e=n.hmd(e)},41912:(e,t,n)=>{"use strict";n.d(t,{Fv:()=>s,Qy:()=>a});var r=n(66885),i=n(39109),o=n(55514);function s(e,t=1/0,n=1/0){try{return c("",e,t,n)}catch(e){return{ERROR:`**non-serializable** (${e})`}}}function a(e,t=3,n=102400){const r=s(e,t);return i=r,function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(i))>n?a(e,t-1,n):r;var i}function c(e,t,s=1/0,a=1/0,u=function(){const e="function"==typeof WeakSet,t=e?new WeakSet:[];return[function(n){if(e)return!!t.has(n)||(t.add(n),!1);for(let e=0;e<t.length;e++)if(t[e]===n)return!0;return t.push(n),!1},function(n){if(e)t.delete(n);else for(let e=0;e<t.length;e++)if(t[e]===n){t.splice(e,1);break}}]}()){const[l,h]=u;if(null===t||["number","boolean","string"].includes(typeof t)&&!(0,r.i2)(t))return t;const d=function(e,t){try{return"domain"===e&&t&&"object"==typeof t&&t._events?"[Domain]":"domainEmitter"===e?"[DomainEmitter]":void 0!==n.g&&t===n.g?"[Global]":"undefined"!=typeof window&&t===window?"[Window]":"undefined"!=typeof document&&t===document?"[Document]":(0,r.Cy)(t)?"[SyntheticEvent]":"number"==typeof t&&t!=t?"[NaN]":void 0===t?"[undefined]":"function"==typeof t?`[Function: ${(0,o.$P)(t)}]`:"symbol"==typeof t?`[${String(t)}]`:"bigint"==typeof t?`[BigInt: ${String(t)}]`:`[object ${function(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}(t)}]`}catch(e){return`**non-serializable** (${e})`}}(e,t);if(!d.startsWith("[object "))return d;if(t.__sentry_skip_normalization__)return t;let f=s;if("number"==typeof t.__sentry_override_normalization_depth__&&(f=t.__sentry_override_normalization_depth__),0===f)return d.replace("object ","");if(l(t))return"[Circular ~]";const p=t;if(p&&"function"==typeof p.toJSON)try{return c("",p.toJSON(),f-1,a,u)}catch(e){}const m=Array.isArray(t)?[]:{};let g=0;const v=(0,i.Sh)(t);for(const e in v){if(!Object.prototype.hasOwnProperty.call(v,e))continue;if(g>=a){m[e]="[MaxProperties ~]";break}const t=v[e];m[e]=c(e,t,f-1,a,u),g++}return h(t),m}},39109:(e,t,n)=>{"use strict";n.d(t,{$Q:()=>c,HK:()=>u,Jr:()=>m,Sh:()=>h,_j:()=>l,hl:()=>s,xp:()=>a,zf:()=>p});var r=n(61495),i=n(66885),o=n(65268);function s(e,t,n){if(!(t in e))return;const r=e[t],i=n(r);if("function"==typeof i)try{c(i,r)}catch(e){}e[t]=i}function a(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}function c(e,t){const n=t.prototype||{};e.prototype=t.prototype=n,a(e,"__sentry_original__",t)}function u(e){return e.__sentry_original__}function l(e){return Object.keys(e).map((t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`)).join("&")}function h(e){if((0,i.VZ)(e))return{message:e.message,name:e.name,stack:e.stack,...f(e)};if((0,i.cO)(e)){const t={type:e.type,target:d(e.target),currentTarget:d(e.currentTarget),...f(e)};return"undefined"!=typeof CustomEvent&&(0,i.V9)(e,CustomEvent)&&(t.detail=e.detail),t}return e}function d(e){try{return(0,i.kK)(e)?(0,r.Rt)(e):Object.prototype.toString.call(e)}catch(e){return"<unknown>"}}function f(e){if("object"==typeof e&&null!==e){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}function p(e,t=40){const n=Object.keys(h(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return(0,o.$G)(n[0],t);for(let e=n.length;e>0;e--){const r=n.slice(0,e).join(", ");if(!(r.length>t))return e===n.length?r:(0,o.$G)(r,t)}return""}function m(e){return g(e,new Map)}function g(e,t){if((0,i.PO)(e)){const n=t.get(e);if(void 0!==n)return n;const r={};t.set(e,r);for(const n of Object.keys(e))void 0!==e[n]&&(r[n]=g(e[n],t));return r}if(Array.isArray(e)){const n=t.get(e);if(void 0!==n)return n;const r=[];return t.set(e,r),e.forEach((e=>{r.push(g(e,t))})),r}return e}},55514:(e,t,n)=>{"use strict";n.d(t,{$P:()=>c,Sq:()=>s,pE:()=>o});const r=50,i=/\(error: (.*)\)/;function o(...e){const t=e.sort(((e,t)=>e[0]-t[0])).map((e=>e[1]));return(e,n=0)=>{const o=[],s=e.split("\n");for(let e=n;e<s.length;e++){const n=s[e];if(n.length>1024)continue;const a=i.test(n)?n.replace(i,"$1"):n;for(const e of t){const t=e(a);if(t){o.push(t);break}}if(o.length>=r)break}return function(e){if(!e.length)return[];const t=e.slice(0,r),n=t[t.length-1].function;n&&/sentryWrapped/.test(n)&&t.pop(),t.reverse();const i=t[t.length-1].function;return i&&/captureMessage|captureException/.test(i)&&t.pop(),t.map((e=>({...e,filename:e.filename||t[t.length-1].filename,function:e.function||"?"})))}(o)}}function s(e){return Array.isArray(e)?o(...e):e}const a="<anonymous>";function c(e){try{return e&&"function"==typeof e&&e.name||a}catch(e){return a}}},65268:(e,t,n)=>{"use strict";n.d(t,{$G:()=>i,U0:()=>s,nK:()=>o});var r=n(66885);function i(e,t=0){return"string"!=typeof e||0===t||e.length<=t?e:`${e.slice(0,t)}...`}function o(e,t){if(!Array.isArray(e))return"";const n=[];for(let t=0;t<e.length;t++){const r=e[t];try{n.push(String(r))}catch(e){n.push("[value cannot be serialized]")}}return n.join(t)}function s(e,t=[],n=!1){return t.some((t=>function(e,t,n=!1){return!!(0,r.HD)(e)&&((0,r.Kj)(t)?t.test(e):!!(0,r.HD)(t)&&(n?e===t:e.includes(t)))}(e,t,n)))}},83589:(e,t,n)=>{"use strict";n.d(t,{Ak:()=>o,Du:()=>s,t$:()=>a});var r=n(86922);const i=(0,n(74211).Rf)();function o(){if(!("fetch"in i))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(e){return!1}}function s(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function a(){if(!o())return!1;if(s(i.fetch))return!0;let e=!1;const t=i.document;if(t&&"function"==typeof t.createElement)try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=s(n.contentWindow.fetch)),t.head.removeChild(n)}catch(e){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return e}},48894:(e,t,n)=>{"use strict";n.d(t,{$2:()=>s,WD:()=>o,cW:()=>a});var r,i=n(66885);function o(e){return new a((t=>{t(e)}))}function s(e){return new a(((t,n)=>{n(e)}))}!function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"}(r||(r={}));class a{__init(){this._state=r.PENDING}__init2(){this._handlers=[]}constructor(e){a.prototype.__init.call(this),a.prototype.__init2.call(this),a.prototype.__init3.call(this),a.prototype.__init4.call(this),a.prototype.__init5.call(this),a.prototype.__init6.call(this);try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}then(e,t){return new a(((n,r)=>{this._handlers.push([!1,t=>{if(e)try{n(e(t))}catch(e){r(e)}else n(t)},e=>{if(t)try{n(t(e))}catch(e){r(e)}else r(e)}]),this._executeHandlers()}))}catch(e){return this.then((e=>e),e)}finally(e){return new a(((t,n)=>{let r,i;return this.then((t=>{i=!1,r=t,e&&e()}),(t=>{i=!0,r=t,e&&e()})).then((()=>{i?n(r):t(r)}))}))}__init3(){this._resolve=e=>{this._setResult(r.RESOLVED,e)}}__init4(){this._reject=e=>{this._setResult(r.REJECTED,e)}}__init5(){this._setResult=(e,t)=>{this._state===r.PENDING&&((0,i.J8)(t)?t.then(this._resolve,this._reject):(this._state=e,this._value=t,this._executeHandlers()))}}__init6(){this._executeHandlers=()=>{if(this._state===r.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach((e=>{e[0]||(this._state===r.RESOLVED&&e[1](this._value),this._state===r.REJECTED&&e[2](this._value),e[0]=!0)}))}}}},94180:(e,t,n)=>{"use strict";n.d(t,{Z1:()=>d,ph:()=>l,yW:()=>u});var r=n(5728),i=n(74211);e=n.hmd(e);const o=(0,i.Rf)(),s={nowSeconds:()=>Date.now()/1e3},a=(0,r.KV)()?function(){try{return(0,r.l$)(e,"perf_hooks").performance}catch(e){return}}():function(){const{performance:e}=o;if(e&&e.now)return{now:()=>e.now(),timeOrigin:Date.now()-e.now()}}(),c=void 0===a?s:{nowSeconds:()=>(a.timeOrigin+a.now())/1e3},u=s.nowSeconds.bind(s),l=c.nowSeconds.bind(c);let h;const d=(()=>{const{performance:e}=o;if(!e||!e.now)return void(h="none");const t=36e5,n=e.now(),r=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,s=i<t,a=e.timing&&e.timing.navigationStart,c="number"==typeof a?Math.abs(a+n-r):t;return s||c<t?i<=c?(h="timeOrigin",e.timeOrigin):(h="navigationStart",a):(h="dateNow",r)})()},94678:(e,t,n)=>{"use strict";function r(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],relative:t[5]+n+r}}function i(e){return e.split(/[\?#]/,1)[0]}function o(e){return e.split(/\\?\//).filter((e=>e.length>0&&","!==e)).length}n.d(t,{$A:()=>o,en:()=>r,rt:()=>i})},74211:(e,t,n)=>{"use strict";function r(e){return e&&e.Math==Math?e:void 0}n.d(t,{Rf:()=>o,YO:()=>s,n2:()=>i});const i="object"==typeof globalThis&&r(globalThis)||"object"==typeof window&&r(window)||"object"==typeof self&&r(self)||"object"==typeof n.g&&r(n.g)||function(){return this}()||{};function o(){return i}function s(e,t,n){const r=n||i,o=r.__SENTRY__=r.__SENTRY__||{};return o[e]||(o[e]=t())}},96481:(e,t,n)=>{"use strict";n.d(t,{C:()=>a});var r=n(99144);const i=[];function o(e,t){const{buildId:n,debugFile:r}=function(e){const t=WebAssembly.Module.customSections(e,"build_id");let n=null,r=null;if(t.length>0){const e=new Uint8Array(t[0]);n=Array.from(e).reduce(((e,t)=>e+t.toString(16).padStart(2,"0")),"")}const i=WebAssembly.Module.customSections(e,"external_debug_info");if(i.length>0){const e=new Uint8Array(i[0]);r=new TextDecoder("utf-8").decode(e)}return{buildId:n,debugFile:r}}(e);if(n){const e=s(t);e>=0&&i.splice(e,1),i.push({type:"wasm",code_id:n,code_file:t,debug_file:r?new URL(r,t).href:null,debug_id:`${n.padEnd(32,"0").slice(0,32)}0`})}}function s(e){return i.findIndex((t=>"wasm"===t.type&&t.code_file===e))}class a{constructor(){a.prototype.__init.call(this)}static __initStatic(){this.id="Wasm"}__init(){this.name=a.id}setupOnce(e,t){!function(){if("instantiateStreaming"in WebAssembly){const e=WebAssembly.instantiateStreaming;WebAssembly.instantiateStreaming=function(t,n){return Promise.resolve(t).then((t=>e(t,n).then((e=>(t.url&&o(e.module,t.url),e)))))}}if("compileStreaming"in WebAssembly){const e=WebAssembly.compileStreaming;WebAssembly.compileStreaming=function(t){return Promise.resolve(t).then((t=>e(t).then((e=>(t.url&&o(e,t.url),e)))))}}}(),e((e=>{let t=!1;return e.exception&&e.exception.values&&e.exception.values.forEach((e=>{(0,r.x)([e,"optionalAccess",e=>e.stacktrace,"optionalAccess",e=>e.frames])&&(t=t||function(e){let t=!1;return e.forEach((e=>{if(!e.filename)return;const n=e.filename.match(/^(.*?):wasm-function\[\d+\]:(0x[a-fA-F0-9]+)$/);if(null!==n){const r=s(n[1]);r>=0&&(e.instruction_addr=n[2],e.addr_mode=`rel:${r}`,e.filename=n[1],e.platform="native",t=!0)}})),t}(e.stacktrace.frames))})),t&&(e.debug_meta=e.debug_meta||{},e.debug_meta.images=[...e.debug_meta.images||[],...i]),e}))}}a.__initStatic()},59820:e=>{self,e.exports=(()=>{var e={1033:(e,t,n)=>{"use strict";e.exports=n.p+"2050445a81355c360ad4.svg"},7122:(e,t,n)=>{"use strict";e.exports=n.p+"1d93f13fb9308cbd50fa.svg"},8260:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},6665:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5470:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},969:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5287:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMsWindow=void 0;var n=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];t.isMsWindow=function(e){if(function(e){return"MSInputMethodContext"in e&&"msCrypto"in e}(e)&&void 0!==e.msCrypto.subtle){var t=e.msCrypto,r=t.getRandomValues,i=t.subtle;return n.map((function(e){return i[e]})).concat(r).every((function(e){return"function"==typeof e}))}return!1}},87:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1980);(0,r.__exportStar)(n(8260),t),(0,r.__exportStar)(n(6665),t),(0,r.__exportStar)(n(5470),t),(0,r.__exportStar)(n(969),t),(0,r.__exportStar)(n(5287),t)},1980:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__extends:()=>i,__assign:()=>o,__rest:()=>s,__decorate:()=>a,__param:()=>c,__metadata:()=>u,__awaiter:()=>l,__generator:()=>h,__createBinding:()=>d,__exportStar:()=>f,__values:()=>p,__read:()=>m,__spread:()=>g,__spreadArrays:()=>v,__await:()=>y,__asyncGenerator:()=>b,__asyncDelegator:()=>w,__asyncValues:()=>S,__makeTemplateObject:()=>_,__importStar:()=>x,__importDefault:()=>C,__classPrivateFieldGet:()=>E,__classPrivateFieldSet:()=>k});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function a(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}function c(e,t){return function(n,r){t(n,r,e)}}function u(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))}function h(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function f(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e}function v(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=i[e](t)).value instanceof y?Promise.resolve(n.value.v).then(c,u):l(o[0][2],n)}catch(e){l(o[0][3],e)}var n}function c(e){a("next",e)}function u(e){a("throw",e)}function l(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:y(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function _(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function x(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function C(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function k(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},7333:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_DATA_SHA_256=t.SHA_256_HMAC_ALGO=t.SHA_256_HASH=void 0,t.SHA_256_HASH={name:"SHA-256"},t.SHA_256_HMAC_ALGO={name:"HMAC",hash:t.SHA_256_HASH},t.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])},2769:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(3479),i=n(8889),o=n(1938),s=n(21),a=n(87),c=n(6495),u=function(){function e(e){(0,s.supportsWebCrypto)((0,c.locateWindow)())?this.hash=new i.Sha256(e):(0,a.isMsWindow)((0,c.locateWindow)())?this.hash=new r.Sha256(e):this.hash=new o.Sha256(e)}return e.prototype.update=function(e,t){this.hash.update(e,t)},e.prototype.digest=function(){return this.hash.digest()},e}();t.Sha256=u},3479:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(8036),i=n(7333),o=n(2084),s=n(6495),a=function(){function e(e){e?(this.operation=function(e){return new Promise((function(t,n){var r=(0,s.locateWindow)().msCrypto.subtle.importKey("raw",c(e),i.SHA_256_HMAC_ALGO,!1,["sign"]);r.oncomplete=function(){r.result&&t(r.result),n(new Error("ImportKey completed without importing key."))},r.onerror=function(){n(new Error("ImportKey failed to import key."))}}))}(e).then((function(e){return(0,s.locateWindow)().msCrypto.subtle.sign(i.SHA_256_HMAC_ALGO,e)})),this.operation.catch((function(){}))):this.operation=Promise.resolve((0,s.locateWindow)().msCrypto.subtle.digest("SHA-256"))}return e.prototype.update=function(e){var t=this;(0,r.isEmptyData)(e)||(this.operation=this.operation.then((function(n){return n.onerror=function(){t.operation=Promise.reject(new Error("Error encountered updating hash"))},n.process(c(e)),n})),this.operation.catch((function(){})))},e.prototype.digest=function(){return this.operation.then((function(e){return new Promise((function(t,n){e.onerror=function(){n(new Error("Error encountered finalizing hash"))},e.oncomplete=function(){e.result&&t(new Uint8Array(e.result)),n(new Error("Error encountered finalizing hash"))},e.finish()}))}))},e}();function c(e){return"string"==typeof e?(0,o.fromUtf8)(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}t.Sha256=a},7643:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebCryptoSha256=t.Ie11Sha256=void 0,(0,n(5789).__exportStar)(n(2769),t);var r=n(3479);Object.defineProperty(t,"Ie11Sha256",{enumerable:!0,get:function(){return r.Sha256}});var i=n(8889);Object.defineProperty(t,"WebCryptoSha256",{enumerable:!0,get:function(){return i.Sha256}})},8036:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},8889:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(7658),i=n(7333),o=n(6495),s=function(){function e(e){this.toHash=new Uint8Array(0),void 0!==e&&(this.key=new Promise((function(t,n){(0,o.locateWindow)().crypto.subtle.importKey("raw",(0,r.convertToBuffer)(e),i.SHA_256_HMAC_ALGO,!1,["sign"]).then(t,n)})),this.key.catch((function(){})))}return e.prototype.update=function(e){if(!(0,r.isEmptyData)(e)){var t=(0,r.convertToBuffer)(e),n=new Uint8Array(this.toHash.byteLength+t.byteLength);n.set(this.toHash,0),n.set(t,this.toHash.byteLength),this.toHash=n}},e.prototype.digest=function(){var e=this;return this.key?this.key.then((function(t){return(0,o.locateWindow)().crypto.subtle.sign(i.SHA_256_HMAC_ALGO,t,e.toHash).then((function(e){return new Uint8Array(e)}))})):(0,r.isEmptyData)(this.toHash)?Promise.resolve(i.EMPTY_DATA_SHA_256):Promise.resolve().then((function(){return(0,o.locateWindow)().crypto.subtle.digest(i.SHA_256_HASH,e.toHash)})).then((function(e){return Promise.resolve(new Uint8Array(e))}))},e}();t.Sha256=s},5789:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__extends:()=>i,__assign:()=>o,__rest:()=>s,__decorate:()=>a,__param:()=>c,__metadata:()=>u,__awaiter:()=>l,__generator:()=>h,__createBinding:()=>d,__exportStar:()=>f,__values:()=>p,__read:()=>m,__spread:()=>g,__spreadArrays:()=>v,__await:()=>y,__asyncGenerator:()=>b,__asyncDelegator:()=>w,__asyncValues:()=>S,__makeTemplateObject:()=>_,__importStar:()=>x,__importDefault:()=>C,__classPrivateFieldGet:()=>E,__classPrivateFieldSet:()=>k});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function a(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}function c(e,t){return function(n,r){t(n,r,e)}}function u(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))}function h(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function f(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e}function v(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=i[e](t)).value instanceof y?Promise.resolve(n.value.v).then(c,u):l(o[0][2],n)}catch(e){l(o[0][3],e)}var n}function c(e){a("next",e)}function u(e){a("throw",e)}function l(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:y(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function _(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function x(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function C(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function k(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},914:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RawSha256=void 0;var r=n(9945),i=function(){function e(){this.state=Int32Array.from(r.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>r.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,this.bufferLength===r.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%r.BLOCK_SIZE>=r.BLOCK_SIZE-8){for(var i=this.bufferLength;i<r.BLOCK_SIZE;i++)t.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(i=this.bufferLength;i<r.BLOCK_SIZE-8;i++)t.setUint8(i,0);t.setUint32(r.BLOCK_SIZE-8,Math.floor(e/4294967296),!0),t.setUint32(r.BLOCK_SIZE-4,e),this.hashBuffer(),this.finished=!0}var o=new Uint8Array(r.DIGEST_LENGTH);for(i=0;i<8;i++)o[4*i]=this.state[i]>>>24&255,o[4*i+1]=this.state[i]>>>16&255,o[4*i+2]=this.state[i]>>>8&255,o[4*i+3]=this.state[i]>>>0&255;return o},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],i=t[1],o=t[2],s=t[3],a=t[4],c=t[5],u=t[6],l=t[7],h=0;h<r.BLOCK_SIZE;h++){if(h<16)this.temp[h]=(255&e[4*h])<<24|(255&e[4*h+1])<<16|(255&e[4*h+2])<<8|255&e[4*h+3];else{var d=this.temp[h-2],f=(d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10,p=((d=this.temp[h-15])>>>7|d<<25)^(d>>>18|d<<14)^d>>>3;this.temp[h]=(f+this.temp[h-7]|0)+(p+this.temp[h-16]|0)}var m=(((a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7))+(a&c^~a&u)|0)+(l+(r.KEY[h]+this.temp[h]|0)|0)|0,g=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&i^n&o^i&o)|0;l=u,u=c,c=a,a=s+m|0,s=o,o=i,i=n,n=m+g|0}t[0]+=n,t[1]+=i,t[2]+=o,t[3]+=s,t[4]+=a,t[5]+=c,t[6]+=u,t[7]+=l},e}();t.RawSha256=i},9945:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_HASHABLE_LENGTH=t.INIT=t.KEY=t.DIGEST_LENGTH=t.BLOCK_SIZE=void 0,t.BLOCK_SIZE=64,t.DIGEST_LENGTH=32,t.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),t.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],t.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},1938:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(0,n(3541).__exportStar)(n(5430),t)},5430:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(3541),i=n(9945),o=n(914),s=n(7658),a=function(){function e(e){if(this.hash=new o.RawSha256,e){this.outer=new o.RawSha256;var t=function(e){var t=(0,s.convertToBuffer)(e);if(t.byteLength>i.BLOCK_SIZE){var n=new o.RawSha256;n.update(t),t=n.digest()}var r=new Uint8Array(i.BLOCK_SIZE);return r.set(t),r}(e),n=new Uint8Array(i.BLOCK_SIZE);n.set(t);for(var r=0;r<i.BLOCK_SIZE;r++)t[r]^=54,n[r]^=92;for(this.hash.update(t),this.outer.update(n),r=0;r<t.byteLength;r++)t[r]=0}}return e.prototype.update=function(e){if(!(0,s.isEmptyData)(e)&&!this.error)try{this.hash.update((0,s.convertToBuffer)(e))}catch(e){this.error=e}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,this.digestSync()]}))}))},e}();t.Sha256=a},3541:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__extends:()=>i,__assign:()=>o,__rest:()=>s,__decorate:()=>a,__param:()=>c,__metadata:()=>u,__awaiter:()=>l,__generator:()=>h,__createBinding:()=>d,__exportStar:()=>f,__values:()=>p,__read:()=>m,__spread:()=>g,__spreadArrays:()=>v,__await:()=>y,__asyncGenerator:()=>b,__asyncDelegator:()=>w,__asyncValues:()=>S,__makeTemplateObject:()=>_,__importStar:()=>x,__importDefault:()=>C,__classPrivateFieldGet:()=>E,__classPrivateFieldSet:()=>k});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function a(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}function c(e,t){return function(n,r){t(n,r,e)}}function u(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))}function h(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function f(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e}function v(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=i[e](t)).value instanceof y?Promise.resolve(n.value.v).then(c,u):l(o[0][2],n)}catch(e){l(o[0][3],e)}var n}function c(e){a("next",e)}function u(e){a("throw",e)}function l(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:y(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function _(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function x(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function C(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function k(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},21:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(0,n(7840).__exportStar)(n(7787),t)},7787:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.supportsZeroByteGCM=t.supportsSubtleCrypto=t.supportsSecureRandom=t.supportsWebCrypto=void 0;var r=n(7840),i=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function o(e){return"object"==typeof e&&"object"==typeof e.crypto&&"function"==typeof e.crypto.getRandomValues}function s(e){return e&&i.every((function(t){return"function"==typeof e[t]}))}t.supportsWebCrypto=function(e){return!(!o(e)||"object"!=typeof e.crypto.subtle)&&s(e.crypto.subtle)},t.supportsSecureRandom=o,t.supportsSubtleCrypto=s,t.supportsZeroByteGCM=function(e){return(0,r.__awaiter)(this,void 0,void 0,(function(){var t;return(0,r.__generator)(this,(function(n){switch(n.label){case 0:if(!s(e))return[2,!1];n.label=1;case 1:return n.trys.push([1,4,,5]),[4,e.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return t=n.sent(),[4,e.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},t,new Uint8Array(0))];case 3:return[2,16===n.sent().byteLength];case 4:return n.sent(),[2,!1];case 5:return[2]}}))}))}},7840:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__extends:()=>i,__assign:()=>o,__rest:()=>s,__decorate:()=>a,__param:()=>c,__metadata:()=>u,__awaiter:()=>l,__generator:()=>h,__createBinding:()=>d,__exportStar:()=>f,__values:()=>p,__read:()=>m,__spread:()=>g,__spreadArrays:()=>v,__await:()=>y,__asyncGenerator:()=>b,__asyncDelegator:()=>w,__asyncValues:()=>S,__makeTemplateObject:()=>_,__importStar:()=>x,__importDefault:()=>C,__classPrivateFieldGet:()=>E,__classPrivateFieldSet:()=>k});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function a(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}function c(e,t){return function(n,r){t(n,r,e)}}function u(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))}function h(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function f(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e}function v(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=i[e](t)).value instanceof y?Promise.resolve(n.value.v).then(c,u):l(o[0][2],n)}catch(e){l(o[0][3],e)}var n}function c(e){a("next",e)}function u(e){a("throw",e)}function l(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:y(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function _(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function x(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function C(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function k(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},1106:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertToBuffer=void 0;var r=n(2084),i="undefined"!=typeof Buffer&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:r.fromUtf8;t.convertToBuffer=function(e){return e instanceof Uint8Array?e:"string"==typeof e?i(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}},7658:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=t.numToUint8=t.isEmptyData=t.convertToBuffer=void 0;var r=n(1106);Object.defineProperty(t,"convertToBuffer",{enumerable:!0,get:function(){return r.convertToBuffer}});var i=n(4304);Object.defineProperty(t,"isEmptyData",{enumerable:!0,get:function(){return i.isEmptyData}});var o=n(2174);Object.defineProperty(t,"numToUint8",{enumerable:!0,get:function(){return o.numToUint8}});var s=n(1558);Object.defineProperty(t,"uint32ArrayFrom",{enumerable:!0,get:function(){return s.uint32ArrayFrom}})},4304:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},2174:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numToUint8=void 0,t.numToUint8=function(e){return new Uint8Array([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])}},1558:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=void 0,t.uint32ArrayFrom=function(e){if(!Uint32Array.from){for(var t=new Uint32Array(e.length),n=0;n<e.length;)t[n]=e[n],n+=1;return t}return Uint32Array.from(e)}},8638:(e,t,n)=>{"use strict";var r;n.d(t,{JY:()=>i,Fh:()=>o,iF:()=>f,g4:()=>c,Xb:()=>h}),function(e){e.ENV="env",e.CONFIG="shared config entry"}(r||(r={}));var i=!1,o=!1,s=n(655),a=n(7079),c=function(e){var t,n=(0,a.$)(e.useDualstackEndpoint),r=e.endpoint,i=e.useFipsEndpoint,o=e.urlParser;return(0,s.pi)((0,s.pi)({},e),{tls:null===(t=e.tls)||void 0===t||t,endpoint:r?(0,a.$)("string"==typeof r?o(r):r):function(){return function(e){return(0,s.mG)(void 0,void 0,void 0,(function(){var t,n,r,i,o,a,c;return(0,s.Jh)(this,(function(s){switch(s.label){case 0:return t=e.tls,n=void 0===t||t,[4,e.region()];case 1:if(r=s.sent(),!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");return[4,e.useDualstackEndpoint()];case 2:return i=s.sent(),[4,e.useFipsEndpoint()];case 3:return o=s.sent(),[4,e.regionInfoProvider(r,{useDualstackEndpoint:i,useFipsEndpoint:o})];case 4:if(!(a=(null!==(c=s.sent())&&void 0!==c?c:{}).hostname))throw new Error("Cannot resolve hostname from client config");return[2,e.urlParser("".concat(n?"https:":"http:","//").concat(a))]}}))}))}((0,s.pi)((0,s.pi)({},e),{useDualstackEndpoint:n,useFipsEndpoint:i}))},isCustomEndpoint:!!r,useDualstackEndpoint:n})},u=function(e){return"string"==typeof e&&(e.startsWith("fips-")||e.endsWith("-fips"))},l=function(e){return u(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e},h=function(e){var t=e.region,n=e.useFipsEndpoint;if(!t)throw new Error("Region is missing");return(0,s.pi)((0,s.pi)({},e),{region:function(){return(0,s.mG)(void 0,void 0,void 0,(function(){var e;return(0,s.Jh)(this,(function(n){switch(n.label){case 0:return"string"==typeof t?[2,l(t)]:[4,t()];case 1:return e=n.sent(),[2,l(e)]}}))}))},useFipsEndpoint:function(){return(0,s.mG)(void 0,void 0,void 0,(function(){var e;return(0,s.Jh)(this,(function(r){switch(r.label){case 0:return"string"!=typeof t?[3,1]:(e=t,[3,3]);case 1:return[4,t()];case 2:e=r.sent(),r.label=3;case 3:return u(e)?[2,!0]:[2,"boolean"==typeof n?Promise.resolve(n):n()]}}))}))}})},d=function(e,t){var n;void 0===e&&(e=[]);var r=t.useFipsEndpoint,i=t.useDualstackEndpoint;return null===(n=e.find((function(e){var t=e.tags;return r===t.includes("fips")&&i===t.includes("dualstack")})))||void 0===n?void 0:n.hostname},f=function(e,t){var n,r,i,o,a,c,u=t.useFipsEndpoint,l=void 0!==u&&u,h=t.useDualstackEndpoint,f=void 0!==h&&h,p=t.signingService,m=t.regionHash,g=t.partitionHash,v=function(e,t){var n,r=t.partitionHash;return null!==(n=Object.keys(r||{}).find((function(t){return r[t].regions.includes(e)})))&&void 0!==n?n:"aws"}(e,{partitionHash:g}),y=e in m?e:null!==(r=null===(n=g[v])||void 0===n?void 0:n.endpoint)&&void 0!==r?r:e,b={useFipsEndpoint:l,useDualstackEndpoint:f},w=function(e,t){var n=t.partitionHostname;return t.regionHostname||(n?n.replace("{region}",e):void 0)}(y,{regionHostname:d(null===(i=m[y])||void 0===i?void 0:i.variants,b),partitionHostname:d(null===(o=g[v])||void 0===o?void 0:o.variants,b)});if(void 0===w)throw new Error("Endpoint resolution failed for: ".concat({resolvedRegion:y,useFipsEndpoint:l,useDualstackEndpoint:f}));var S=function(e,t){var n=t.signingRegion;if(n)return n;if(t.useFipsEndpoint){var r=t.regionRegex.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),i=e.match(r);if(i)return i[0].slice(1,-1)}}(w,{signingRegion:null===(a=m[y])||void 0===a?void 0:a.signingRegion,regionRegex:g[v].regionRegex,useFipsEndpoint:l});return(0,s.pi)((0,s.pi)({partition:v,signingService:p,hostname:w},S&&{signingRegion:S}),(null===(c=m[y])||void 0===c?void 0:c.signingService)&&{signingService:m[y].signingService})}},8554:(e,t,n)=>{"use strict";n.d(t,{s:()=>pt});var r,i,o,s,a=n(655),c=n(8638),u=n(7085),l=n(6848),h=n(2831),d=n(4763),f=n(9300),p=n(6835),m=n(261),g=n(7643),v=n(6582),y=n(871),b=n(6003),w=n(6524),S=n(7915),_=n(2084),x=n(6795),C={"us-east-1":{variants:[{hostname:"cognito-identity-fips.us-east-1.amazonaws.com",tags:["fips"]}]},"us-east-2":{variants:[{hostname:"cognito-identity-fips.us-east-2.amazonaws.com",tags:["fips"]}]},"us-gov-west-1":{variants:[{hostname:"cognito-identity-fips.us-gov-west-1.amazonaws.com",tags:["fips"]}]},"us-west-2":{variants:[{hostname:"cognito-identity-fips.us-west-2.amazonaws.com",tags:["fips"]}]}},E={aws:{regions:["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-northeast-3","ap-south-1","ap-southeast-1","ap-southeast-2","ap-southeast-3","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","fips-us-east-1","fips-us-east-2","fips-us-west-2","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"],regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",variants:[{hostname:"cognito-identity.{region}.amazonaws.com",tags:[]},{hostname:"cognito-identity-fips.{region}.amazonaws.com",tags:["fips"]},{hostname:"cognito-identity-fips.{region}.api.aws",tags:["dualstack","fips"]},{hostname:"cognito-identity.{region}.api.aws",tags:["dualstack"]}]},"aws-cn":{regions:["cn-north-1","cn-northwest-1"],regionRegex:"^cn\\-\\w+\\-\\d+$",variants:[{hostname:"cognito-identity.{region}.amazonaws.com.cn",tags:[]},{hostname:"cognito-identity-fips.{region}.amazonaws.com.cn",tags:["fips"]},{hostname:"cognito-identity-fips.{region}.api.amazonwebservices.com.cn",tags:["dualstack","fips"]},{hostname:"cognito-identity.{region}.api.amazonwebservices.com.cn",tags:["dualstack"]}]},"aws-iso":{regions:["us-iso-east-1","us-iso-west-1"],regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",variants:[{hostname:"cognito-identity.{region}.c2s.ic.gov",tags:[]},{hostname:"cognito-identity-fips.{region}.c2s.ic.gov",tags:["fips"]}]},"aws-iso-b":{regions:["us-isob-east-1"],regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",variants:[{hostname:"cognito-identity.{region}.sc2s.sgov.gov",tags:[]},{hostname:"cognito-identity-fips.{region}.sc2s.sgov.gov",tags:["fips"]}]},"aws-us-gov":{regions:["fips-us-gov-west-1","us-gov-east-1","us-gov-west-1"],regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",variants:[{hostname:"cognito-identity.{region}.amazonaws.com",tags:[]},{hostname:"cognito-identity-fips.{region}.amazonaws.com",tags:["fips"]},{hostname:"cognito-identity-fips.{region}.api.aws",tags:["dualstack","fips"]},{hostname:"cognito-identity.{region}.api.aws",tags:["dualstack"]}]}},k=function(e,t){return(0,a.mG)(void 0,void 0,void 0,(function(){return(0,a.Jh)(this,(function(n){return[2,(0,c.iF)(e,(0,a.pi)((0,a.pi)({},t),{signingService:"cognito-identity",regionHash:C,partitionHash:E}))]}))}))},A=n(2971),N=function(e){function t(t){var n,r,i,o,s,C,E,N,T,P,O,I,R,L,M,D,j,F,B,q=this,U=(n=t,j=(0,A.j)(n),F=function(){return j().then(m.jv)},B=function(e){var t,n,r,i,o;return{apiVersion:"2014-06-30",disableHostPrefix:null!==(t=null==e?void 0:e.disableHostPrefix)&&void 0!==t&&t,logger:null!==(n=null==e?void 0:e.logger)&&void 0!==n?n:{},regionInfoProvider:null!==(r=null==e?void 0:e.regionInfoProvider)&&void 0!==r?r:k,serviceId:null!==(i=null==e?void 0:e.serviceId)&&void 0!==i?i:"Cognito Identity",urlParser:null!==(o=null==e?void 0:e.urlParser)&&void 0!==o?o:x.e}}(n),(0,a.pi)((0,a.pi)((0,a.pi)({},B),n),{runtime:"browser",defaultsMode:j,base64Decoder:null!==(r=null==n?void 0:n.base64Decoder)&&void 0!==r?r:b.G,base64Encoder:null!==(i=null==n?void 0:n.base64Encoder)&&void 0!==i?i:b.s,bodyLengthChecker:null!==(o=null==n?void 0:n.bodyLengthChecker)&&void 0!==o?o:w.W,credentialDefaultProvider:null!==(s=null==n?void 0:n.credentialDefaultProvider)&&void 0!==s?s:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:null!==(C=null==n?void 0:n.defaultUserAgentProvider)&&void 0!==C?C:(0,S.f)({serviceId:B.serviceId,clientVersion:"3.85.0"}),maxAttempts:null!==(E=null==n?void 0:n.maxAttempts)&&void 0!==E?E:d.J,region:null!==(N=null==n?void 0:n.region)&&void 0!==N?N:(0,y.n)("Region is missing"),requestHandler:null!==(T=null==n?void 0:n.requestHandler)&&void 0!==T?T:new v.B(F),retryMode:null!==(P=null==n?void 0:n.retryMode)&&void 0!==P?P:function(){return(0,a.mG)(void 0,void 0,void 0,(function(){return(0,a.Jh)(this,(function(e){switch(e.label){case 0:return[4,F()];case 1:return[2,e.sent().retryMode||d.CA]}}))}))},sha256:null!==(O=null==n?void 0:n.sha256)&&void 0!==O?O:g.Sha256,streamCollector:null!==(I=null==n?void 0:n.streamCollector)&&void 0!==I?I:v.C,useDualstackEndpoint:null!==(R=null==n?void 0:n.useDualstackEndpoint)&&void 0!==R?R:function(){return Promise.resolve(c.JY)},useFipsEndpoint:null!==(L=null==n?void 0:n.useFipsEndpoint)&&void 0!==L?L:function(){return Promise.resolve(c.Fh)},utf8Decoder:null!==(M=null==n?void 0:n.utf8Decoder)&&void 0!==M?M:_.fromUtf8,utf8Encoder:null!==(D=null==n?void 0:n.utf8Encoder)&&void 0!==D?D:_.toUtf8})),z=(0,c.Xb)(U),$=(0,c.g4)(z),H=(0,d.BC)($),G=(0,l.S8)(H),V=(0,f.A$)(G),W=(0,p.er)(V);return(q=e.call(this,W)||this).config=W,q.middlewareStack.use((0,d.NQ)(q.config)),q.middlewareStack.use((0,u.VG)(q.config)),q.middlewareStack.use((0,l.G2)(q.config)),q.middlewareStack.use((0,h.cV)(q.config)),q.middlewareStack.use((0,p.XJ)(q.config)),q}return(0,a.ZT)(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(m.KU),T=n(8493),P=function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return(0,a.ZT)(t,e),t}(m.sI);!function(e){e.AUTHENTICATED_ROLE="AuthenticatedRole",e.DENY="Deny"}(r||(r={})),function(e){e.filterSensitiveLog=function(e){return(0,a.pi)({},e)}}(i||(i={})),function(e){e.filterSensitiveLog=function(e){return(0,a.pi)({},e)}}(o||(o={})),function(e){e.filterSensitiveLog=function(e){return(0,a.pi)({},e)}}(s||(s={}));var O,I,R,L,M,D=function(e){function t(n){var r=e.call(this,(0,a.pi)({name:"InternalErrorException",$fault:"server"},n))||this;return r.name="InternalErrorException",r.$fault="server",Object.setPrototypeOf(r,t.prototype),r}return(0,a.ZT)(t,e),t}(P),j=function(e){function t(n){var r=e.call(this,(0,a.pi)({name:"InvalidParameterException",$fault:"client"},n))||this;return r.name="InvalidParameterException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r}return(0,a.ZT)(t,e),t}(P),F=function(e){function t(n){var r=e.call(this,(0,a.pi)({name:"LimitExceededException",$fault:"client"},n))||this;return r.name="LimitExceededException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r}return(0,a.ZT)(t,e),t}(P),B=function(e){function t(n){var r=e.call(this,(0,a.pi)({name:"NotAuthorizedException",$fault:"client"},n))||this;return r.name="NotAuthorizedException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r}return(0,a.ZT)(t,e),t}(P),q=function(e){function t(n){var r=e.call(this,(0,a.pi)({name:"ResourceConflictException",$fault:"client"},n))||this;return r.name="ResourceConflictException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r}return(0,a.ZT)(t,e),t}(P),U=function(e){function t(n){var r=e.call(this,(0,a.pi)({name:"TooManyRequestsException",$fault:"client"},n))||this;return r.name="TooManyRequestsException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r}return(0,a.ZT)(t,e),t}(P);!function(e){e.filterSensitiveLog=function(e){return(0,a.pi)({},e)}}(O||(O={})),function(e){e.ACCESS_DENIED="AccessDenied",e.INTERNAL_SERVER_ERROR="InternalServerError"}(I||(I={})),function(e){e.filterSensitiveLog=function(e){return(0,a.pi)({},e)}}(R||(R={})),function(e){e.filterSensitiveLog=function(e){return(0,a.pi)({},e)}}(L||(L={})),function(e){e.filterSensitiveLog=function(e){return(0,a.pi)({},e)}}(M||(M={}));var z,$,H,G=function(e){function t(n){var r=e.call(this,(0,a.pi)({name:"ResourceNotFoundException",$fault:"client"},n))||this;return r.name="ResourceNotFoundException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r}return(0,a.ZT)(t,e),t}(P);!function(e){e.filterSensitiveLog=function(e){return(0,a.pi)({},e)}}(z||(z={})),function(e){e.filterSensitiveLog=function(e){return(0,a.pi)({},e)}}($||($={})),function(e){e.filterSensitiveLog=function(e){return(0,a.pi)({},e)}}(H||(H={}));var V,W,K,Z=function(e){function t(n){var r=e.call(this,(0,a.pi)({name:"ExternalServiceException",$fault:"client"},n))||this;return r.name="ExternalServiceException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r}return(0,a.ZT)(t,e),t}(P);!function(e){e.filterSensitiveLog=function(e){return(0,a.pi)({},e)}}(V||(V={})),function(e){e.filterSensitiveLog=function(e){return(0,a.pi)({},e)}}(W||(W={})),function(e){e.filterSensitiveLog=function(e){return(0,a.pi)({},e)}}(K||(K={}));var Y,J,Q,X,ee,te,ne,re,ie,oe,se,ae,ce,ue,le,he,de,fe,pe,me,ge,ve,ye,be,we,Se,_e,xe,Ce,Ee,ke,Ae,Ne,Te,Pe,Oe,Ie=function(e){function t(n){var r=e.call(this,(0,a.pi)({name:"InvalidIdentityPoolConfigurationException",$fault:"client"},n))||this;return r.name="InvalidIdentityPoolConfigurationException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r}return(0,a.ZT)(t,e),t}(P);!function(e){e.filterSensitiveLog=function(e){return(0,a.pi)({},e)}}(Y||(Y={})),function(e){e.filterSensitiveLog=function(e){return(0,a.pi)({},e)}}(J||(J={})),function(e){e.filterSensitiveLog=function(e){return(0,a.pi)({},e)}}(Q||(Q={})),function(e){e.CONTAINS="Contains",e.EQUALS="Equals",e.NOT_EQUAL="NotEqual",e.STARTS_WITH="StartsWith"}(X||(X={})),function(e){e.filterSensitiveLog=function(e){return(0,a.pi)({},e)}}(ee||(ee={})),function(e){e.filterSensitiveLog=function(e){return(0,a.pi)({},e)}}(te||(te={})),function(e){e.RULES="Rules",e.TOKEN="Token"}(ne||(ne={})),function(e){e.filterSensitiveLog=function(e){return(0,a.pi)({},e)}}(re||(re={})),function(e){e.filterSensitiveLog=function(e){return(0,a.pi)({},e)}}(ie||(ie={})),function(e){e.filterSensitiveLog=function(e){return(0,a.pi)({},e)}}(oe||(oe={})),function(e){e.filterSensitiveLog=function(e){return(0,a.pi)({},e)}}(se||(se={})),_e=P,(0,a.ZT)((function e(t){var n=_e.call(this,(0,a.pi)({name:"DeveloperUserAlreadyRegisteredException",$fault:"client"},t))||this;return n.name="DeveloperUserAlreadyRegisteredException",n.$fault="client",Object.setPrototypeOf(n,e.prototype),n}),_e),function(e){e.filterSensitiveLog=function(e){return(0,a.pi)({},e)}}(ae||(ae={})),function(e){e.filterSensitiveLog=function(e){return(0,a.pi)({},e)}}(ce||(ce={})),function(e){e.filterSensitiveLog=function(e){return(0,a.pi)({},e)}}(ue||(ue={})),function(e){e.filterSensitiveLog=function(e){return(0,a.pi)({},e)}}(le||(le={})),function(e){e.filterSensitiveLog=function(e){return(0,a.pi)({},e)}}(he||(he={})),function(e){e.filterSensitiveLog=function(e){return(0,a.pi)({},e)}}(de||(de={})),function(e){e.filterSensitiveLog=function(e){return(0,a.pi)({},e)}}(fe||(fe={})),function(e){e.filterSensitiveLog=function(e){return(0,a.pi)({},e)}}(pe||(pe={})),function(e){e.filterSensitiveLog=function(e){return(0,a.pi)({},e)}}(me||(me={})),function(e){e.filterSensitiveLog=function(e){return(0,a.pi)({},e)}}(ge||(ge={})),function(e){e.filterSensitiveLog=function(e){return(0,a.pi)({},e)}}(ve||(ve={})),function(e){e.filterSensitiveLog=function(e){return(0,a.pi)({},e)}}(ye||(ye={})),function(e){e.filterSensitiveLog=function(e){return(0,a.pi)({},e)}}(be||(be={})),function(e){e.filterSensitiveLog=function(e){return(0,a.pi)({},e)}}(we||(we={})),function(e){e.filterSensitiveLog=function(e){return(0,a.pi)({},e)}}(Se||(Se={})),function(e){(0,a.ZT)((function t(n){var r=e.call(this,(0,a.pi)({name:"ConcurrentModificationException",$fault:"client"},n))||this;return r.name="ConcurrentModificationException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r}),e)}(P),function(e){e.filterSensitiveLog=function(e){return(0,a.pi)({},e)}}(xe||(xe={})),function(e){e.filterSensitiveLog=function(e){return(0,a.pi)({},e)}}(Ce||(Ce={})),function(e){e.filterSensitiveLog=function(e){return(0,a.pi)({},e)}}(Ee||(Ee={})),function(e){e.filterSensitiveLog=function(e){return(0,a.pi)({},e)}}(ke||(ke={})),function(e){e.filterSensitiveLog=function(e){return(0,a.pi)({},e)}}(Ae||(Ae={})),function(e){e.filterSensitiveLog=function(e){return(0,a.pi)({},e)}}(Ne||(Ne={})),function(e){e.filterSensitiveLog=function(e){return(0,a.pi)({},e)}}(Te||(Te={})),function(e){e.filterSensitiveLog=function(e){return(0,a.pi)({},e)}}(Pe||(Pe={})),function(e){e.filterSensitiveLog=function(e){return(0,a.pi)({},e)}}(Oe||(Oe={}));var Re=n(8745),Le=function(e,t){return(0,a.mG)(void 0,void 0,void 0,(function(){var n,r,i,o,s,c;return(0,a.Jh)(this,(function(u){switch(u.label){case 0:return r=[(0,a.pi)({},e)],c={},[4,it(e.body,t)];case 1:switch(n=a.pi.apply(void 0,r.concat([(c.body=u.sent(),c)])),o="UnknownError",o=ot(e,n.body)){case"ExternalServiceException":case"com.amazonaws.cognitoidentity#ExternalServiceException":return[3,2];case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":return[3,4];case"InvalidIdentityPoolConfigurationException":case"com.amazonaws.cognitoidentity#InvalidIdentityPoolConfigurationException":return[3,6];case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":return[3,8];case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":return[3,10];case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":return[3,12];case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":return[3,14];case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":return[3,16]}return[3,18];case 2:return[4,De(n,t)];case 3:case 5:case 7:case 9:case 11:case 13:case 15:case 17:throw u.sent();case 4:return[4,je(n,t)];case 6:return[4,Fe(n,t)];case 8:return[4,Be(n,t)];case 10:return[4,Ue(n,t)];case 12:return[4,ze(n,t)];case 14:return[4,$e(n,t)];case 16:return[4,He(n,t)];case 18:throw s=n.body,i=new P({name:s.code||s.Code||o,$fault:"client",$metadata:nt(e)}),(0,m.to)(i,s)}}))}))},Me=function(e,t){return(0,a.mG)(void 0,void 0,void 0,(function(){var n,r,i,o,s,c;return(0,a.Jh)(this,(function(u){switch(u.label){case 0:return r=[(0,a.pi)({},e)],c={},[4,it(e.body,t)];case 1:switch(n=a.pi.apply(void 0,r.concat([(c.body=u.sent(),c)])),o="UnknownError",o=ot(e,n.body)){case"ExternalServiceException":case"com.amazonaws.cognitoidentity#ExternalServiceException":return[3,2];case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":return[3,4];case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":return[3,6];case"LimitExceededException":case"com.amazonaws.cognitoidentity#LimitExceededException":return[3,8];case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":return[3,10];case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":return[3,12];case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":return[3,14];case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":return[3,16]}return[3,18];case 2:return[4,De(n,t)];case 3:case 5:case 7:case 9:case 11:case 13:case 15:case 17:throw u.sent();case 4:return[4,je(n,t)];case 6:return[4,Be(n,t)];case 8:return[4,qe(n,t)];case 10:return[4,Ue(n,t)];case 12:return[4,ze(n,t)];case 14:return[4,$e(n,t)];case 16:return[4,He(n,t)];case 18:throw s=n.body,i=new P({name:s.code||s.Code||o,$fault:"client",$metadata:nt(e)}),(0,m.to)(i,s)}}))}))},De=function(e,t){return(0,a.mG)(void 0,void 0,void 0,(function(){var n,r,i;return(0,a.Jh)(this,(function(o){return n=e.body,r=We(n,t),i=new Z((0,a.pi)({$metadata:nt(e)},r)),[2,(0,m.to)(i,n)]}))}))},je=function(e,t){return(0,a.mG)(void 0,void 0,void 0,(function(){var n,r,i;return(0,a.Jh)(this,(function(o){return n=e.body,r=Ke(n,t),i=new D((0,a.pi)({$metadata:nt(e)},r)),[2,(0,m.to)(i,n)]}))}))},Fe=function(e,t){return(0,a.mG)(void 0,void 0,void 0,(function(){var n,r,i;return(0,a.Jh)(this,(function(o){return n=e.body,r=Ze(n,t),i=new Ie((0,a.pi)({$metadata:nt(e)},r)),[2,(0,m.to)(i,n)]}))}))},Be=function(e,t){return(0,a.mG)(void 0,void 0,void 0,(function(){var n,r,i;return(0,a.Jh)(this,(function(o){return n=e.body,r=Ye(n,t),i=new j((0,a.pi)({$metadata:nt(e)},r)),[2,(0,m.to)(i,n)]}))}))},qe=function(e,t){return(0,a.mG)(void 0,void 0,void 0,(function(){var n,r,i;return(0,a.Jh)(this,(function(o){return n=e.body,r=Je(n,t),i=new F((0,a.pi)({$metadata:nt(e)},r)),[2,(0,m.to)(i,n)]}))}))},Ue=function(e,t){return(0,a.mG)(void 0,void 0,void 0,(function(){var n,r,i;return(0,a.Jh)(this,(function(o){return n=e.body,r=Qe(n,t),i=new B((0,a.pi)({$metadata:nt(e)},r)),[2,(0,m.to)(i,n)]}))}))},ze=function(e,t){return(0,a.mG)(void 0,void 0,void 0,(function(){var n,r,i;return(0,a.Jh)(this,(function(o){return n=e.body,r=Xe(n,t),i=new q((0,a.pi)({$metadata:nt(e)},r)),[2,(0,m.to)(i,n)]}))}))},$e=function(e,t){return(0,a.mG)(void 0,void 0,void 0,(function(){var n,r,i;return(0,a.Jh)(this,(function(o){return n=e.body,r=et(n,t),i=new G((0,a.pi)({$metadata:nt(e)},r)),[2,(0,m.to)(i,n)]}))}))},He=function(e,t){return(0,a.mG)(void 0,void 0,void 0,(function(){var n,r,i;return(0,a.Jh)(this,(function(o){return n=e.body,r=tt(n,t),i=new U((0,a.pi)({$metadata:nt(e)},r)),[2,(0,m.to)(i,n)]}))}))},Ge=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=(0,a.CR)(t,2),i=r[0],o=r[1];return null===o?e:(0,a.pi)((0,a.pi)({},e),((n={})[i]=o,n))}),{})},Ve=function(e,t){return{AccessKeyId:(0,m.pY)(e.AccessKeyId),Expiration:void 0!==e.Expiration&&null!==e.Expiration?(0,m.CE)((0,m.KX)((0,m.Fx)(e.Expiration))):void 0,SecretKey:(0,m.pY)(e.SecretKey),SessionToken:(0,m.pY)(e.SessionToken)}},We=function(e,t){return{message:(0,m.pY)(e.message)}},Ke=function(e,t){return{message:(0,m.pY)(e.message)}},Ze=function(e,t){return{message:(0,m.pY)(e.message)}},Ye=function(e,t){return{message:(0,m.pY)(e.message)}},Je=function(e,t){return{message:(0,m.pY)(e.message)}},Qe=function(e,t){return{message:(0,m.pY)(e.message)}},Xe=function(e,t){return{message:(0,m.pY)(e.message)}},et=function(e,t){return{message:(0,m.pY)(e.message)}},tt=function(e,t){return{message:(0,m.pY)(e.message)}},nt=function(e){var t;return{httpStatusCode:e.statusCode,requestId:null!==(t=e.headers["x-amzn-requestid"])&&void 0!==t?t:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},rt=function(e,t,n,r,i){return(0,a.mG)(void 0,void 0,void 0,(function(){var o,s,c,u,l,h,d;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return[4,e.endpoint()];case 1:return o=a.sent(),s=o.hostname,c=o.protocol,u=void 0===c?"https":c,l=o.port,h=o.path,d={protocol:u,hostname:s,port:l,method:"POST",path:h.endsWith("/")?h.slice(0,-1)+n:h+n,headers:t},void 0!==r&&(d.hostname=r),void 0!==i&&(d.body=i),[2,new Re.aW(d)]}}))}))},it=function(e,t){return function(e,t){return function(e,t){return void 0===e&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)}(e,t).then((function(e){return t.utf8Encoder(e)}))}(e,t).then((function(e){return e.length?JSON.parse(e):{}}))},ot=function(e,t){var n,r=function(e){var t=e;return t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},i=(n=e.headers,Object.keys(n).find((function(e){return e.toLowerCase()==="x-amzn-errortype".toLowerCase()})));return void 0!==i?r(e.headers[i]):void 0!==t.code?r(t.code):void 0!==t.__type?r(t.__type):""},st=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,a.ZT)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,T.p2)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CognitoIdentityClient",commandName:"GetIdCommand",inputFilterSensitiveLog:Y.filterSensitiveLog,outputFilterSensitiveLog:J.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return(0,a.mG)(void 0,void 0,void 0,(function(){var n,r;return(0,a.Jh)(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.GetId"},r=JSON.stringify(function(e,t){return(0,a.pi)((0,a.pi)((0,a.pi)({},void 0!==e.AccountId&&null!==e.AccountId&&{AccountId:e.AccountId}),void 0!==e.IdentityPoolId&&null!==e.IdentityPoolId&&{IdentityPoolId:e.IdentityPoolId}),void 0!==e.Logins&&null!==e.Logins&&{Logins:Ge(e.Logins)})}(e)),[2,rt(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return(0,a.mG)(void 0,void 0,void 0,(function(){var n,r,i;return(0,a.Jh)(this,(function(o){switch(o.label){case 0:return e.statusCode>=300?[2,Me(e,t)]:[4,it(e.body,t)];case 1:return n=o.sent(),r=function(e,t){return{IdentityId:(0,m.pY)(e.IdentityId)}}(n),i=(0,a.pi)({$metadata:nt(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(m.mY),at=n(1452),ct=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,a.ZT)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,T.p2)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CognitoIdentityClient",commandName:"GetCredentialsForIdentityCommand",inputFilterSensitiveLog:V.filterSensitiveLog,outputFilterSensitiveLog:K.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return(0,a.mG)(void 0,void 0,void 0,(function(){var n,r;return(0,a.Jh)(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.GetCredentialsForIdentity"},r=JSON.stringify(function(e,t){return(0,a.pi)((0,a.pi)((0,a.pi)({},void 0!==e.CustomRoleArn&&null!==e.CustomRoleArn&&{CustomRoleArn:e.CustomRoleArn}),void 0!==e.IdentityId&&null!==e.IdentityId&&{IdentityId:e.IdentityId}),void 0!==e.Logins&&null!==e.Logins&&{Logins:Ge(e.Logins)})}(e)),[2,rt(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return(0,a.mG)(void 0,void 0,void 0,(function(){var n,r,i;return(0,a.Jh)(this,(function(o){switch(o.label){case 0:return e.statusCode>=300?[2,Le(e,t)]:[4,it(e.body,t)];case 1:return n=o.sent(),r=function(e,t){return{Credentials:void 0!==e.Credentials&&null!==e.Credentials?Ve(e.Credentials):void 0,IdentityId:(0,m.pY)(e.IdentityId)}}(n),i=(0,a.pi)({$metadata:nt(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(m.mY);function ut(e){return Promise.all(Object.keys(e).reduce((function(t,n){var r=e[n];return"string"==typeof r?t.push([n,r]):t.push(r().then((function(e){return[n,e]}))),t}),[])).then((function(e){return e.reduce((function(e,t){var n=(0,a.CR)(t,2),r=n[0],i=n[1];return e[r]=i,e}),{})}))}function lt(e){var t=this;return function(){return(0,a.mG)(t,void 0,void 0,(function(){var t,n,r,i,o,s,c,u,l,h,d,f,p;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return h=(l=e.client).send,d=ct.bind,p={CustomRoleArn:e.customRoleArn,IdentityId:e.identityId},e.logins?[4,ut(e.logins)]:[3,2];case 1:return f=a.sent(),[3,3];case 2:f=void 0,a.label=3;case 3:return[4,h.apply(l,[new(d.apply(ct,[void 0,(p.Logins=f,p)]))])];case 4:return t=a.sent().Credentials,n=void 0===t?function(){throw new at.mV("Response from Amazon Cognito contained no credentials")}():t,r=n.AccessKeyId,i=void 0===r?function(){throw new at.mV("Response from Amazon Cognito contained no access key ID")}():r,o=n.Expiration,s=n.SecretKey,c=void 0===s?function(){throw new at.mV("Response from Amazon Cognito contained no secret key")}():s,u=n.SessionToken,[2,{identityId:e.identityId,accessKeyId:i,secretAccessKey:c,sessionToken:u,expiration:o}]}}))}))}}var ht="IdentityIds",dt=function(){function e(e){void 0===e&&(e="aws:cognito-identity-ids"),this.dbName=e}return e.prototype.getItem=function(e){return this.withObjectStore("readonly",(function(t){var n=t.get(e);return new Promise((function(e){n.onerror=function(){return e(null)},n.onsuccess=function(){return e(n.result?n.result.value:null)}}))})).catch((function(){return null}))},e.prototype.removeItem=function(e){return this.withObjectStore("readwrite",(function(t){var n=t.delete(e);return new Promise((function(e,t){n.onerror=function(){return t(n.error)},n.onsuccess=function(){return e()}}))}))},e.prototype.setItem=function(e,t){return this.withObjectStore("readwrite",(function(n){var r=n.put({id:e,value:t});return new Promise((function(e,t){r.onerror=function(){return t(r.error)},r.onsuccess=function(){return e()}}))}))},e.prototype.getDb=function(){var e=self.indexedDB.open(this.dbName,1);return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)},e.onblocked=function(){n(new Error("Unable to access DB"))},e.onupgradeneeded=function(){var t=e.result;t.onerror=function(){n(new Error("Failed to create object store"))},t.createObjectStore(ht,{keyPath:"id"})}}))},e.prototype.withObjectStore=function(e,t){return this.getDb().then((function(n){var r=n.transaction(ht,e);return r.oncomplete=function(){return n.close()},new Promise((function(e,n){r.onerror=function(){return n(r.error)},e(t(r.objectStore(ht)))})).catch((function(e){throw n.close(),e}))}))},e}(),ft=new(function(){function e(e){void 0===e&&(e={}),this.store=e}return e.prototype.getItem=function(e){return e in this.store?this.store[e]:null},e.prototype.removeItem=function(e){delete this.store[e]},e.prototype.setItem=function(e,t){this.store[e]=t},e}()),pt=function(e){var t;return function(e){var t=this,n=e.accountId,r=e.cache,i=void 0===r?"object"==typeof self&&self.indexedDB?new dt:"object"==typeof window&&window.localStorage?window.localStorage:ft:r,o=e.client,s=e.customRoleArn,c=e.identityPoolId,u=e.logins,l=e.userIdentifier,h=void 0===l?u&&0!==Object.keys(u).length?void 0:"ANONYMOUS":l,d=h?"aws:cognito-identity-credentials:".concat(c,":").concat(h):void 0,f=function(){return(0,a.mG)(t,void 0,void 0,(function(){var e,t,r,l,h,p,m,g,v;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return(t=d)?[4,i.getItem(d)]:[3,2];case 1:t=a.sent(),a.label=2;case 2:return(e=t)?[3,7]:(p=(h=o).send,m=st.bind,v={AccountId:n,IdentityPoolId:c},u?[4,ut(u)]:[3,4]);case 3:return g=a.sent(),[3,5];case 4:g=void 0,a.label=5;case 5:return[4,p.apply(h,[new(m.apply(st,[void 0,(v.Logins=g,v)]))])];case 6:r=a.sent().IdentityId,l=void 0===r?function(){throw new at.mV("Response from Amazon Cognito contained no identity ID")}():r,e=l,d&&Promise.resolve(i.setItem(d,e)).catch((function(){})),a.label=7;case 7:return[2,(f=lt({client:o,customRoleArn:s,logins:u,identityId:e}))()]}}))}))};return function(){return f().catch((function(e){return(0,a.mG)(t,void 0,void 0,(function(){return(0,a.Jh)(this,(function(t){throw d&&Promise.resolve(i.removeItem(d)).catch((function(){})),e}))}))}))}}((0,a.pi)((0,a.pi)({},e),{client:new N(null!==(t=e.clientConfig)&&void 0!==t?t:{})}))}},6582:(e,t,n)=>{"use strict";n.d(t,{B:()=>s,C:()=>c});var r=n(655),i=n(8745),o=n(6528),s=function(){function e(e){var t=this;"function"==typeof e?this.configProvider=function(){return(0,r.mG)(t,void 0,void 0,(function(){return(0,r.Jh)(this,(function(t){switch(t.label){case 0:return[4,e()];case 1:return[2,t.sent()||{}]}}))}))}:this.config=null!=e?e:{}}return e.prototype.destroy=function(){},e.prototype.handle=function(e,t){var n=(void 0===t?{}:t).abortSignal;return(0,r.mG)(this,void 0,void 0,(function(){var t,s,a,c,u,l,h,d,f,p,m,g;return(0,r.Jh)(this,(function(v){switch(v.label){case 0:return this.config||!this.configProvider?[3,2]:(t=this,[4,this.configProvider()]);case 1:t.config=v.sent(),v.label=2;case 2:return s=this.config.requestTimeout,(null==n?void 0:n.aborted)?((a=new Error("Request aborted")).name="AbortError",[2,Promise.reject(a)]):(c=e.path,e.query&&(u=function(e){var t,n,i=[];try{for(var s=(0,r.XA)(Object.keys(e).sort()),a=s.next();!a.done;a=s.next()){var c=a.value,u=e[c];if(c=(0,o.i)(c),Array.isArray(u))for(var l=0,h=u.length;l<h;l++)i.push("".concat(c,"=").concat((0,o.i)(u[l])));else{var d=c;(u||"string"==typeof u)&&(d+="=".concat((0,o.i)(u))),i.push(d)}}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return i.join("&")}(e.query),u&&(c+="?".concat(u))),l=e.port,h=e.method,d="".concat(e.protocol,"//").concat(e.hostname).concat(l?":".concat(l):"").concat(c),f="GET"===h||"HEAD"===h?void 0:e.body,p={body:f,headers:new Headers(e.headers),method:h},"undefined"!=typeof AbortController&&(p.signal=n),m=new Request(d,p),g=[fetch(m).then((function(e){var t,n,o=e.headers,s={};try{for(var a=(0,r.XA)(o.entries()),c=a.next();!c.done;c=a.next()){var u=c.value;s[u[0]]=u[1]}}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return void 0!==e.body?{response:new i.Zn({headers:s,statusCode:e.status,body:e.body})}:e.blob().then((function(t){return{response:new i.Zn({headers:s,statusCode:e.status,body:t})}}))})),(y=s,void 0===y&&(y=0),new Promise((function(e,t){y&&setTimeout((function(){var e=new Error("Request did not complete within ".concat(y," ms"));e.name="TimeoutError",t(e)}),y)})))],n&&g.push(new Promise((function(e,t){n.onabort=function(){var e=new Error("Request aborted");e.name="AbortError",t(e)}}))),[2,Promise.race(g)])}var y}))}))},e}(),a=n(6003),c=function(e){return"function"==typeof Blob&&e instanceof Blob?function(e){return(0,r.mG)(this,void 0,void 0,(function(){var t,n;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return[4,u(e)];case 1:return t=r.sent(),n=(0,a.G)(t),[2,new Uint8Array(n)]}}))}))}(e):function(e){return(0,r.mG)(this,void 0,void 0,(function(){var t,n,i,o,s,a,c;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:t=new Uint8Array(0),n=e.getReader(),i=!1,r.label=1;case 1:return i?[3,3]:[4,n.read()];case 2:return o=r.sent(),s=o.done,(a=o.value)&&(c=t,(t=new Uint8Array(c.length+a.length)).set(c),t.set(a,c.length)),i=s,[3,1];case 3:return[2,t]}}))}))}(e)};function u(e){return new Promise((function(t,n){var r=new FileReader;r.onloadend=function(){var e;if(2!==r.readyState)return n(new Error("Reader aborted too early"));var i=null!==(e=r.result)&&void 0!==e?e:"",o=i.indexOf(","),s=o>-1?o+1:i.length;t(i.substring(s))},r.onabort=function(){return n(new Error("Read aborted"))},r.onerror=function(){return n(r.error)},r.readAsDataURL(e)}))}},871:(e,t,n)=>{"use strict";n.d(t,{n:()=>r});var r=function(e){return function(){return Promise.reject(e)}}},7085:(e,t,n)=>{"use strict";n.d(t,{VG:()=>s});var r=n(655),i=n(8745),o={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},s=function(e){return{applyToStack:function(t){t.add(function(e){var t=this;return function(n){return function(o){return(0,r.mG)(t,void 0,void 0,(function(){var t,s,a,c,u;return(0,r.Jh)(this,(function(l){if(t=o.request,i.aW.isInstance(t)&&(s=t.body,a=t.headers,s&&-1===Object.keys(a).map((function(e){return e.toLowerCase()})).indexOf("content-length")))try{c=e(s),t.headers=(0,r.pi)((0,r.pi)({},t.headers),((u={})["content-length"]=String(c),u))}catch(e){}return[2,n((0,r.pi)((0,r.pi)({},o),{request:t}))]}))}))}}}(e.bodyLengthChecker),o)}}}},6848:(e,t,n)=>{"use strict";n.d(t,{S8:()=>o,G2:()=>a});var r=n(655),i=n(8745);function o(e){return e}var s={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},a=function(e){return{applyToStack:function(t){t.add(function(e){return function(t){return function(n){return(0,r.mG)(void 0,void 0,void 0,(function(){var o,s;return(0,r.Jh)(this,(function(r){return i.aW.isInstance(n.request)?(o=n.request,(void 0===(s=(e.requestHandler.metadata||{}).handlerProtocol)?"":s).indexOf("h2")>=0&&!o.headers[":authority"]?(delete o.headers.host,o.headers[":authority"]=""):o.headers.host||(o.headers.host=o.hostname),[2,t(n)]):[2,t(n)]}))}))}}}(e),s)}}}},2831:(e,t,n)=>{"use strict";n.d(t,{cV:()=>o});var r=n(655),i={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},o=function(e){return{applyToStack:function(e){e.add((function(e,t){return function(n){return(0,r.mG)(void 0,void 0,void 0,(function(){var i,o,s,a,c,u,l,h,d;return(0,r.Jh)(this,(function(f){switch(f.label){case 0:return i=t.clientName,o=t.commandName,s=t.inputFilterSensitiveLog,a=t.logger,c=t.outputFilterSensitiveLog,[4,e(n)];case 1:return u=f.sent(),a?("function"==typeof a.info&&(l=u.output,h=l.$metadata,d=(0,r._T)(l,["$metadata"]),a.info({clientName:i,commandName:o,input:s(n.input),output:c(d),metadata:h})),[2,u]):[2,u]}}))}))}}),i)}}}},4763:(e,t,n)=>{"use strict";n.d(t,{J:()=>o,CA:()=>s,NQ:()=>x,BC:()=>S});var r,i=n(655);!function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"}(r||(r={}));var o=3,s=r.STANDARD,a=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],c=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],u=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],l=[500,502,503,504],h=function(e){var t,n;return 429===(null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||c.includes(e.name)||1==(null===(n=e.$retryable)||void 0===n?void 0:n.throttling)},d=function(){function e(e){var t,n,r,i,o;this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=null!==(t=null==e?void 0:e.beta)&&void 0!==t?t:.7,this.minCapacity=null!==(n=null==e?void 0:e.minCapacity)&&void 0!==n?n:1,this.minFillRate=null!==(r=null==e?void 0:e.minFillRate)&&void 0!==r?r:.5,this.scaleConstant=null!==(i=null==e?void 0:e.scaleConstant)&&void 0!==i?i:.4,this.smooth=null!==(o=null==e?void 0:e.smooth)&&void 0!==o?o:.8;var s=this.getCurrentTimeInSeconds();this.lastThrottleTime=s,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}return e.prototype.getCurrentTimeInSeconds=function(){return Date.now()/1e3},e.prototype.getSendToken=function(){return(0,i.mG)(this,void 0,void 0,(function(){return(0,i.Jh)(this,(function(e){return[2,this.acquireTokenBucket(1)]}))}))},e.prototype.acquireTokenBucket=function(e){return(0,i.mG)(this,void 0,void 0,(function(){var t;return(0,i.Jh)(this,(function(n){switch(n.label){case 0:return this.enabled?(this.refillTokenBucket(),e>this.currentCapacity?(t=(e-this.currentCapacity)/this.fillRate*1e3,[4,new Promise((function(e){return setTimeout(e,t)}))]):[3,2]):[2];case 1:n.sent(),n.label=2;case 2:return this.currentCapacity=this.currentCapacity-e,[2]}}))}))},e.prototype.refillTokenBucket=function(){var e=this.getCurrentTimeInSeconds();if(this.lastTimestamp){var t=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+t),this.lastTimestamp=e}else this.lastTimestamp=e},e.prototype.updateClientSendingRate=function(e){var t;if(this.updateMeasuredRate(),h(e)){var n=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=n,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),t=this.cubicThrottle(n),this.enableTokenBucket()}else this.calculateTimeWindow(),t=this.cubicSuccess(this.getCurrentTimeInSeconds());var r=Math.min(t,2*this.measuredTxRate);this.updateTokenBucketRate(r)},e.prototype.calculateTimeWindow=function(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))},e.prototype.cubicThrottle=function(e){return this.getPrecise(e*this.beta)},e.prototype.cubicSuccess=function(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)},e.prototype.enableTokenBucket=function(){this.enabled=!0},e.prototype.updateTokenBucketRate=function(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)},e.prototype.updateMeasuredRate=function(){var e=this.getCurrentTimeInSeconds(),t=Math.floor(2*e)/2;if(this.requestCount++,t>this.lastTxRateBucket){var n=this.requestCount/(t-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=t}},e.prototype.getPrecise=function(e){return parseFloat(e.toFixed(8))},e}(),f=n(8745),p=n(4586),m=function(e,t){return Math.floor(Math.min(2e4,Math.random()*Math.pow(2,t)*e))},g=function(e){return!!e&&(function(e){return void 0!==e.$retryable}(e)||function(e){return a.includes(e.name)}(e)||h(e)||function(e){var t;return u.includes(e.name)||l.includes((null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||0)}(e))},v=function(){function e(e,t){var n,i,o,s,a,c;this.maxAttemptsProvider=e,this.mode=r.STANDARD,this.retryDecider=null!==(n=null==t?void 0:t.retryDecider)&&void 0!==n?n:g,this.delayDecider=null!==(i=null==t?void 0:t.delayDecider)&&void 0!==i?i:m,this.retryQuota=null!==(o=null==t?void 0:t.retryQuota)&&void 0!==o?o:(1,5,10,s=500,a=function(e){return"TimeoutError"===e.name?10:5},c=function(e){return a(e)<=s},Object.freeze({hasRetryTokens:c,retrieveRetryTokens:function(e){if(!c(e))throw new Error("No retry token available");var t=a(e);return s-=t,t},releaseRetryTokens:function(e){s+=null!=e?e:1,s=Math.min(s,500)}}))}return e.prototype.shouldRetry=function(e,t,n){return t<n&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)},e.prototype.getMaxAttempts=function(){return(0,i.mG)(this,void 0,void 0,(function(){var e;return(0,i.Jh)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.maxAttemptsProvider()];case 1:return e=t.sent(),[3,3];case 2:return t.sent(),e=o,[3,3];case 3:return[2,e]}}))}))},e.prototype.retry=function(e,t,n){return(0,i.mG)(this,void 0,void 0,(function(){var r,o,s,a,c,u,l,d;return(0,i.Jh)(this,(function(m){switch(m.label){case 0:return o=0,s=0,[4,this.getMaxAttempts()];case 1:a=m.sent(),c=t.request,f.aW.isInstance(c)&&(c.headers["amz-sdk-invocation-id"]=(0,p.Z)()),u=function(){var u,d,p,m,g,v;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,4,,7]),f.aW.isInstance(c)&&(c.headers["amz-sdk-request"]="attempt=".concat(o+1,"; max=").concat(a)),(null==n?void 0:n.beforeRequest)?[4,n.beforeRequest()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[4,e(t)];case 3:return u=i.sent(),d=u.response,p=u.output,(null==n?void 0:n.afterRequest)&&n.afterRequest(d),l.retryQuota.releaseRetryTokens(r),p.$metadata.attempts=o+1,p.$metadata.totalRetryDelay=s,[2,{value:{response:d,output:p}}];case 4:return m=i.sent(),g=y(m),o++,l.shouldRetry(g,o,a)?(r=l.retryQuota.retrieveRetryTokens(g),v=l.delayDecider(h(g)?500:100,o),s+=v,[4,new Promise((function(e){return setTimeout(e,v)}))]):[3,6];case 5:return i.sent(),[2,"continue"];case 6:throw g.$metadata||(g.$metadata={}),g.$metadata.attempts=o,g.$metadata.totalRetryDelay=s,g;case 7:return[2]}}))},l=this,m.label=2;case 2:return[5,u()];case 3:return"object"==typeof(d=m.sent())?[2,d.value]:[3,2];case 4:return[2]}}))}))},e}(),y=function(e){return e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):"string"==typeof e?new Error(e):new Error("AWS SDK error wrapper for ".concat(e))},b=function(e){function t(t,n){var o=this,s=null!=n?n:{},a=s.rateLimiter,c=(0,i._T)(s,["rateLimiter"]);return(o=e.call(this,t,c)||this).rateLimiter=null!=a?a:new d,o.mode=r.ADAPTIVE,o}return(0,i.ZT)(t,e),t.prototype.retry=function(t,n){return(0,i.mG)(this,void 0,void 0,(function(){var r=this;return(0,i.Jh)(this,(function(o){return[2,e.prototype.retry.call(this,t,n,{beforeRequest:function(){return(0,i.mG)(r,void 0,void 0,(function(){return(0,i.Jh)(this,(function(e){return[2,this.rateLimiter.getSendToken()]}))}))},afterRequest:function(e){r.rateLimiter.updateClientSendingRate(e)}})]}))}))},t}(v),w=n(7079),S=function(e){var t,n=(0,w.$)(null!==(t=e.maxAttempts)&&void 0!==t?t:o);return(0,i.pi)((0,i.pi)({},e),{maxAttempts:n,retryStrategy:function(){return(0,i.mG)(void 0,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){switch(t.label){case 0:return e.retryStrategy?[2,e.retryStrategy]:[4,(0,w.$)(e.retryMode)()];case 1:return t.sent()===r.ADAPTIVE?[2,new b(n)]:[2,new v(n)]}}))}))}})},_={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},x=function(e){return{applyToStack:function(t){t.add(function(e){return function(t,n){return function(r){return(0,i.mG)(void 0,void 0,void 0,(function(){var o;return(0,i.Jh)(this,(function(s){switch(s.label){case 0:return[4,e.retryStrategy()];case 1:return(null==(o=s.sent())?void 0:o.mode)&&(n.userAgent=(0,i.ev)((0,i.ev)([],(0,i.CR)(n.userAgent||[]),!1),[["cfg/retry-mode",o.mode]],!1)),[2,o.retry(t,r)]}}))}))}}}(e),_)}}}},8493:(e,t,n)=>{"use strict";n.d(t,{p2:()=>s});var r=n(655),i={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},o={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function s(e,t,n){return{applyToStack:function(s){s.add(function(e,t){return function(n,i){return function(i){return(0,r.mG)(void 0,void 0,void 0,(function(){var o,s,a;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return[4,n(i)];case 1:o=r.sent().response,r.label=2;case 2:return r.trys.push([2,4,,5]),[4,t(o,e)];case 3:return s=r.sent(),[2,{response:o,output:s}];case 4:throw a=r.sent(),Object.defineProperty(a,"$response",{value:o}),a;case 5:return[2]}}))}))}}}(e,n),i),s.add(function(e,t){return function(n,i){return function(i){return(0,r.mG)(void 0,void 0,void 0,(function(){var o;return(0,r.Jh)(this,(function(s){switch(s.label){case 0:return[4,t(i.input,e)];case 1:return o=s.sent(),[2,n((0,r.pi)((0,r.pi)({},i),{request:o}))]}}))}))}}}(e,t),o)}}}},9300:(e,t,n)=>{"use strict";n.d(t,{yt:()=>V,A$:()=>F});for(var r=n(655),i=n(1452),o={},s={},a=0;a<256;a++){var c=a.toString(16).toLowerCase();1===c.length&&(c="0".concat(c)),o[a]=c,s[c]=a}function u(e){for(var t="",n=0;n<e.byteLength;n++)t+=o[e[n]];return t}var l=n(7079),h="X-Amz-Signature",d="X-Amz-Security-Token",f="authorization",p="X-Amz-Date".toLowerCase(),m=[f,p,"date"],g=h.toLowerCase(),v="x-amz-content-sha256",y=d.toLowerCase(),b={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},w=/^proxy-/,S=/^sec-/,_="AWS4-HMAC-SHA256",x="AWS4-HMAC-SHA256-PAYLOAD",C="aws4_request",E={},k=[],A=function(e,t,n){return"".concat(e,"/").concat(t,"/").concat(n,"/").concat(C)},N=function(e,t,n){var r=new e(t);return r.update(n),r.digest()},T=function(e,t,n){var i,o,s=e.headers,a={};try{for(var c=(0,r.XA)(Object.keys(s).sort()),u=c.next();!u.done;u=c.next()){var l=u.value,h=l.toLowerCase();(h in b||(null==t?void 0:t.has(h))||w.test(h)||S.test(h))&&(!n||n&&!n.has(h))||(a[h]=s[l].trim().replace(/\s+/g," "))}}catch(e){i={error:e}}finally{try{u&&!u.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}return a},P=n(6528),O=function(e,t){var n=e.headers,i=e.body;return(0,r.mG)(void 0,void 0,void 0,(function(){var e,o,s,a,c,l,h;return(0,r.Jh)(this,(function(d){switch(d.label){case 0:try{for(e=(0,r.XA)(Object.keys(n)),o=e.next();!o.done;o=e.next())if((s=o.value).toLowerCase()===v)return[2,n[s]]}catch(e){l={error:e}}finally{try{o&&!o.done&&(h=e.return)&&h.call(e)}finally{if(l)throw l.error}}return null!=i?[3,1]:[2,"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"];case 1:return"string"==typeof i||ArrayBuffer.isView(i)||(f=i,"function"==typeof ArrayBuffer&&f instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(f))?((a=new t).update(i),c=u,[4,a.digest()]):[3,3];case 2:return[2,c.apply(void 0,[d.sent()])];case 3:return[2,"UNSIGNED-PAYLOAD"]}var f}))}))},I=function(e){var t=e.headers,n=e.query,i=(0,r._T)(e,["headers","query"]);return(0,r.pi)((0,r.pi)({},i),{headers:(0,r.pi)({},t),query:n?R(n):void 0})},R=function(e){return Object.keys(e).reduce((function(t,n){var i,o=e[n];return(0,r.pi)((0,r.pi)({},t),((i={})[n]=Array.isArray(o)?(0,r.ev)([],(0,r.CR)(o),!1):o,i))}),{})},L=function(e){var t,n;e="function"==typeof e.clone?e.clone():I(e);try{for(var i=(0,r.XA)(Object.keys(e.headers)),o=i.next();!o.done;o=i.next()){var s=o.value;m.indexOf(s.toLowerCase())>-1&&delete e.headers[s]}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return e},M=function(){function e(e){var t=e.applyChecksum,n=e.credentials,r=e.region,i=e.service,o=e.sha256,s=e.uriEscapePath,a=void 0===s||s;this.service=i,this.sha256=o,this.uriEscapePath=a,this.applyChecksum="boolean"!=typeof t||t,this.regionProvider=(0,l.$)(r),this.credentialProvider=(0,l.$)(n)}return e.prototype.presign=function(e,t){return void 0===t&&(t={}),(0,r.mG)(this,void 0,void 0,(function(){var n,i,o,s,a,c,u,l,f,p,m,g,v,y,b,w,S,x,C,E,k,N,P,R;return(0,r.Jh)(this,(function(M){switch(M.label){case 0:return n=t.signingDate,i=void 0===n?new Date:n,o=t.expiresIn,s=void 0===o?3600:o,a=t.unsignableHeaders,c=t.unhoistableHeaders,u=t.signableHeaders,l=t.signingRegion,f=t.signingService,[4,this.credentialProvider()];case 1:return p=M.sent(),null==l?[3,2]:(g=l,[3,4]);case 2:return[4,this.regionProvider()];case 3:g=M.sent(),M.label=4;case 4:return m=g,v=D(i),y=v.longDate,b=v.shortDate,s>604800?[2,Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future")]:(w=A(b,m,null!=f?f:this.service),S=function(e,t){var n,i,o;void 0===t&&(t={});var s="function"==typeof e.clone?e.clone():I(e),a=s.headers,c=s.query,u=void 0===c?{}:c;try{for(var l=(0,r.XA)(Object.keys(a)),h=l.next();!h.done;h=l.next()){var d=h.value,f=d.toLowerCase();"x-amz-"!==f.slice(0,6)||(null===(o=t.unhoistableHeaders)||void 0===o?void 0:o.has(f))||(u[d]=a[d],delete a[d])}}catch(e){n={error:e}}finally{try{h&&!h.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}return(0,r.pi)((0,r.pi)({},e),{headers:a,query:u})}(L(e),{unhoistableHeaders:c}),p.sessionToken&&(S.query[d]=p.sessionToken),S.query["X-Amz-Algorithm"]=_,S.query["X-Amz-Credential"]="".concat(p.accessKeyId,"/").concat(w),S.query["X-Amz-Date"]=y,S.query["X-Amz-Expires"]=s.toString(10),x=T(S,a,u),S.query["X-Amz-SignedHeaders"]=j(x),C=S.query,E=h,k=this.getSignature,N=[y,w,this.getSigningKey(p,m,b,f)],P=this.createCanonicalRequest,R=[S,x],[4,O(e,this.sha256)]);case 5:return[4,k.apply(this,N.concat([P.apply(this,R.concat([M.sent()]))]))];case 6:return C[E]=M.sent(),[2,S]}}))}))},e.prototype.sign=function(e,t){return(0,r.mG)(this,void 0,void 0,(function(){return(0,r.Jh)(this,(function(n){return"string"==typeof e?[2,this.signString(e,t)]:e.headers&&e.payload?[2,this.signEvent(e,t)]:[2,this.signRequest(e,t)]}))}))},e.prototype.signEvent=function(e,t){var n=e.headers,i=e.payload,o=t.signingDate,s=void 0===o?new Date:o,a=t.priorSignature,c=t.signingRegion,l=t.signingService;return(0,r.mG)(this,void 0,void 0,(function(){var e,t,o,h,d,f,p,m,g,v,y;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return null==c?[3,1]:(t=c,[3,3]);case 1:return[4,this.regionProvider()];case 2:t=r.sent(),r.label=3;case 3:return e=t,o=D(s),h=o.shortDate,d=o.longDate,f=A(h,e,null!=l?l:this.service),[4,O({headers:{},body:i},this.sha256)];case 4:return p=r.sent(),(m=new this.sha256).update(n),v=u,[4,m.digest()];case 5:return g=v.apply(void 0,[r.sent()]),y=[x,d,f,a,g,p].join("\n"),[2,this.signString(y,{signingDate:s,signingRegion:e,signingService:l})]}}))}))},e.prototype.signString=function(e,t){var n=void 0===t?{}:t,i=n.signingDate,o=void 0===i?new Date:i,s=n.signingRegion,a=n.signingService;return(0,r.mG)(this,void 0,void 0,(function(){var t,n,i,c,l,h,d,f;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return[4,this.credentialProvider()];case 1:return t=r.sent(),null==s?[3,2]:(i=s,[3,4]);case 2:return[4,this.regionProvider()];case 3:i=r.sent(),r.label=4;case 4:return n=i,c=D(o).shortDate,d=(h=this.sha256).bind,[4,this.getSigningKey(t,n,c,a)];case 5:return(l=new(d.apply(h,[void 0,r.sent()]))).update(e),f=u,[4,l.digest()];case 6:return[2,f.apply(void 0,[r.sent()])]}}))}))},e.prototype.signRequest=function(e,t){var n=void 0===t?{}:t,i=n.signingDate,o=void 0===i?new Date:i,s=n.signableHeaders,a=n.unsignableHeaders,c=n.signingRegion,u=n.signingService;return(0,r.mG)(this,void 0,void 0,(function(){var t,n,i,l,h,d,m,g,b,w,S;return(0,r.Jh)(this,(function(x){switch(x.label){case 0:return[4,this.credentialProvider()];case 1:return t=x.sent(),null==c?[3,2]:(i=c,[3,4]);case 2:return[4,this.regionProvider()];case 3:i=x.sent(),x.label=4;case 4:return n=i,l=L(e),h=D(o),d=h.longDate,m=h.shortDate,g=A(m,n,null!=u?u:this.service),l.headers[p]=d,t.sessionToken&&(l.headers[y]=t.sessionToken),[4,O(l,this.sha256)];case 5:return b=x.sent(),!function(e,t){var n,i;e=e.toLowerCase();try{for(var o=(0,r.XA)(Object.keys(t)),s=o.next();!s.done;s=o.next())if(e===s.value.toLowerCase())return!0}catch(e){n={error:e}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return!1}(v,l.headers)&&this.applyChecksum&&(l.headers[v]=b),w=T(l,a,s),[4,this.getSignature(d,g,this.getSigningKey(t,n,m,u),this.createCanonicalRequest(l,w,b))];case 6:return S=x.sent(),l.headers[f]="".concat(_," ")+"Credential=".concat(t.accessKeyId,"/").concat(g,", ")+"SignedHeaders=".concat(j(w),", ")+"Signature=".concat(S),[2,l]}}))}))},e.prototype.createCanonicalRequest=function(e,t,n){var i=Object.keys(t).sort();return"".concat(e.method,"\n").concat(this.getCanonicalPath(e),"\n").concat(function(e){var t,n,i=e.query,o=void 0===i?{}:i,s=[],a={},c=function(e){if(e.toLowerCase()===g)return"continue";s.push(e);var t=o[e];"string"==typeof t?a[e]="".concat((0,P.i)(e),"=").concat((0,P.i)(t)):Array.isArray(t)&&(a[e]=t.slice(0).sort().reduce((function(t,n){return t.concat(["".concat((0,P.i)(e),"=").concat((0,P.i)(n))])}),[]).join("&"))};try{for(var u=(0,r.XA)(Object.keys(o).sort()),l=u.next();!l.done;l=u.next())c(l.value)}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return s.map((function(e){return a[e]})).filter((function(e){return e})).join("&")}(e),"\n").concat(i.map((function(e){return"".concat(e,":").concat(t[e])})).join("\n"),"\n\n").concat(i.join(";"),"\n").concat(n)},e.prototype.createStringToSign=function(e,t,n){return(0,r.mG)(this,void 0,void 0,(function(){var i,o;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return(i=new this.sha256).update(n),[4,i.digest()];case 1:return o=r.sent(),[2,"".concat(_,"\n").concat(e,"\n").concat(t,"\n").concat(u(o))]}}))}))},e.prototype.getCanonicalPath=function(e){var t,n,i=e.path;if(this.uriEscapePath){var o=[];try{for(var s=(0,r.XA)(i.split("/")),a=s.next();!a.done;a=s.next()){var c=a.value;0!==(null==c?void 0:c.length)&&"."!==c&&(".."===c?o.pop():o.push(c))}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}var u="".concat((null==i?void 0:i.startsWith("/"))?"/":"").concat(o.join("/")).concat(o.length>0&&(null==i?void 0:i.endsWith("/"))?"/":"");return encodeURIComponent(u).replace(/%2F/g,"/")}return i},e.prototype.getSignature=function(e,t,n,i){return(0,r.mG)(this,void 0,void 0,(function(){var o,s,a,c,l;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return[4,this.createStringToSign(e,t,i)];case 1:return o=r.sent(),c=(a=this.sha256).bind,[4,n];case 2:return(s=new(c.apply(a,[void 0,r.sent()]))).update(o),l=u,[4,s.digest()];case 3:return[2,l.apply(void 0,[r.sent()])]}}))}))},e.prototype.getSigningKey=function(e,t,n,i){return function(e,t,n,i,o){return(0,r.mG)(void 0,void 0,void 0,(function(){var s,a,c,l,h,d,f,p,m;return(0,r.Jh)(this,(function(g){switch(g.label){case 0:return[4,N(e,t.secretAccessKey,t.accessKeyId)];case 1:if(s=g.sent(),(a="".concat(n,":").concat(i,":").concat(o,":").concat(u(s),":").concat(t.sessionToken))in E)return[2,E[a]];for(k.push(a);k.length>50;)delete E[k.shift()];c="AWS4".concat(t.secretAccessKey),g.label=2;case 2:g.trys.push([2,7,8,9]),l=(0,r.XA)([n,i,o,C]),h=l.next(),g.label=3;case 3:return h.done?[3,6]:(d=h.value,[4,N(e,c,d)]);case 4:c=g.sent(),g.label=5;case 5:return h=l.next(),[3,3];case 6:return[3,9];case 7:return f=g.sent(),p={error:f},[3,9];case 8:try{h&&!h.done&&(m=l.return)&&m.call(l)}finally{if(p)throw p.error}return[7];case 9:return[2,E[a]=c]}}))}))}(this.sha256,e,n,t,i||this.service)},e}(),D=function(e){var t,n=(t=e,function(e){return"number"==typeof e?new Date(1e3*e):"string"==typeof e?Number(e)?new Date(1e3*Number(e)):new Date(e):e}(t).toISOString().replace(/\.\d{3}Z$/,"Z")).replace(/[\-:]/g,"");return{longDate:n,shortDate:n.slice(0,8)}},j=function(e){return Object.keys(e).sort().join(";")},F=function(e){var t,n=e.credentials?q(e.credentials):e.credentialDefaultProvider(e),i=e.signingEscapePath,o=void 0===i||i,s=e.systemClockOffset,a=void 0===s?e.systemClockOffset||0:s,c=e.sha256;return t=e.signer?B(e.signer):function(){return B(e.region)().then((function(t){return(0,r.mG)(void 0,void 0,void 0,(function(){var n,i,o,s;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return i=(n=e).regionInfoProvider,o=[t],s={},[4,e.useFipsEndpoint()];case 1:return s.useFipsEndpoint=r.sent(),[4,e.useDualstackEndpoint()];case 2:return[4,i.apply(n,o.concat([(s.useDualstackEndpoint=r.sent(),s)]))];case 3:return[2,[r.sent()||{},t]]}}))}))})).then((function(t){var i=(0,r.CR)(t,2),s=i[0],a=i[1],u=s.signingRegion,l=s.signingService;e.signingRegion=e.signingRegion||u||a,e.signingName=e.signingName||l||e.serviceId;var h=(0,r.pi)((0,r.pi)({},e),{credentials:n,region:e.signingRegion,service:e.signingName,sha256:c,uriEscapePath:o});return new(e.signerConstructor||M)(h)}))},(0,r.pi)((0,r.pi)({},e),{systemClockOffset:a,signingEscapePath:o,credentials:n,signer:t})},B=function(e){if("object"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e},q=function(e){return"function"==typeof e?(0,i.HP)(e,(function(e){return void 0!==e.expiration&&e.expiration.getTime()-Date.now()<3e5}),(function(e){return void 0!==e.expiration})):B(e)},U=n(8745),z=function(e){return new Date(Date.now()+e)},$=function(e,t){var n=Date.parse(e);return function(e,t){return Math.abs(z(t).getTime()-e)>=3e5}(n,t)?n-Date.now():t},H=function(e){var t,n,r;return U.Zn.isInstance(e)?null!==(n=null===(t=e.headers)||void 0===t?void 0:t.date)&&void 0!==n?n:null===(r=e.headers)||void 0===r?void 0:r.Date:void 0},G={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},V=function(e){return{applyToStack:function(t){t.addRelativeTo(function(e){return function(t,n){return function(i){return(0,r.mG)(this,void 0,void 0,(function(){var o,s,a,c,u,l;return(0,r.Jh)(this,(function(h){switch(h.label){case 0:return U.aW.isInstance(i.request)?[4,e.signer()]:[2,t(i)];case 1:return o=h.sent(),a=t,c=[(0,r.pi)({},i)],l={},[4,o.sign(i.request,{signingDate:z(e.systemClockOffset),signingRegion:n.signing_region,signingService:n.signing_service})];case 2:return[4,a.apply(void 0,[r.pi.apply(void 0,c.concat([(l.request=h.sent(),l)]))]).catch((function(t){var n,r=null!==(n=t.ServerTime)&&void 0!==n?n:H(t.$response);throw r&&(e.systemClockOffset=$(r,e.systemClockOffset)),t}))];case 3:return s=h.sent(),(u=H(s.response))&&(e.systemClockOffset=$(u,e.systemClockOffset)),[2,s]}}))}))}}}(e),G)}}}},6835:(e,t,n)=>{"use strict";n.d(t,{XJ:()=>h,er:()=>i});var r=n(655);function i(e){return(0,r.pi)((0,r.pi)({},e),{customUserAgent:"string"==typeof e.customUserAgent?[[e.customUserAgent]]:e.customUserAgent})}var o=n(8745),s="user-agent",a="x-amz-user-agent",c=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,u=function(e){var t=(0,r.CR)(e,2),n=t[0],i=t[1],o=n.indexOf("/"),s=n.substring(0,o),a=n.substring(o+1);return"api"===s&&(a=a.toLowerCase()),[s,a,i].filter((function(e){return e&&e.length>0})).map((function(e){return null==e?void 0:e.replace(c,"_")})).join("/")},l={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},h=function(e){return{applyToStack:function(t){var n;t.add((n=e,function(e,t){return function(i){return(0,r.mG)(void 0,void 0,void 0,(function(){var c,l,h,d,f,p,m,g,v;return(0,r.Jh)(this,(function(y){switch(y.label){case 0:return c=i.request,o.aW.isInstance(c)?(l=c.headers,h=(null===(g=null==t?void 0:t.userAgent)||void 0===g?void 0:g.map(u))||[],[4,n.defaultUserAgentProvider()]):[2,e(i)];case 1:return d=y.sent().map(u),f=(null===(v=null==n?void 0:n.customUserAgent)||void 0===v?void 0:v.map(u))||[],p=(0,r.ev)((0,r.ev)((0,r.ev)([],(0,r.CR)(d),!1),(0,r.CR)(h),!1),(0,r.CR)(f),!1).join(" "),m=(0,r.ev)((0,r.ev)([],(0,r.CR)(d.filter((function(e){return e.startsWith("aws-sdk-")}))),!1),(0,r.CR)(f),!1).join(" "),"browser"!==n.runtime?(m&&(l[a]=l[a]?"".concat(l[s]," ").concat(m):m),l[s]=p):l[a]=p,[2,e((0,r.pi)((0,r.pi)({},i),{request:c}))]}}))}))}}),l)}}}},1452:(e,t,n)=>{"use strict";n.d(t,{mV:()=>i,HP:()=>o});var r=n(655),i=function(e){function t(n,r){void 0===r&&(r=!0);var i=e.call(this,n,r)||this;return i.tryNextLink=r,i.name="CredentialsProviderError",Object.setPrototypeOf(i,t.prototype),i}return(0,r.ZT)(t,e),t}(function(e){function t(n,r){void 0===r&&(r=!0);var i=e.call(this,n)||this;return i.tryNextLink=r,i.name="ProviderError",Object.setPrototypeOf(i,t.prototype),i}return(0,r.ZT)(t,e),t.from=function(e,t){return void 0===t&&(t=!0),Object.assign(new this(e.message,t),e)},t}(Error)),o=function(e,t,n){var i,o,s,a=!1,c=function(){return(0,r.mG)(void 0,void 0,void 0,(function(){return(0,r.Jh)(this,(function(t){switch(t.label){case 0:o||(o=e()),t.label=1;case 1:return t.trys.push([1,,3,4]),[4,o];case 2:return i=t.sent(),s=!0,a=!1,[3,4];case 3:return o=void 0,[7];case 4:return[2,i]}}))}))};return void 0===t?function(e){return(0,r.mG)(void 0,void 0,void 0,(function(){return(0,r.Jh)(this,(function(t){switch(t.label){case 0:return s&&!(null==e?void 0:e.forceRefresh)?[3,2]:[4,c()];case 1:i=t.sent(),t.label=2;case 2:return[2,i]}}))}))}:function(e){return(0,r.mG)(void 0,void 0,void 0,(function(){return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return s&&!(null==e?void 0:e.forceRefresh)?[3,2]:[4,c()];case 1:i=r.sent(),r.label=2;case 2:return a?[2,i]:n&&!n(i)?(a=!0,[2,i]):t(i)?[4,c()]:[3,4];case 3:return r.sent(),[2,i];case 4:return[2,i]}}))}))}}},8745:(e,t,n)=>{"use strict";n.d(t,{aW:()=>i,Zn:()=>o});var r=n(655),i=function(){function e(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?"".concat(e.protocol,":"):e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/".concat(e.path):e.path:"/"}return e.isInstance=function(e){if(!e)return!1;var t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers},e.prototype.clone=function(){var t,n=new e((0,r.pi)((0,r.pi)({},this),{headers:(0,r.pi)({},this.headers)}));return n.query&&(n.query=(t=n.query,Object.keys(t).reduce((function(e,n){var i,o=t[n];return(0,r.pi)((0,r.pi)({},e),((i={})[n]=Array.isArray(o)?(0,r.ev)([],(0,r.CR)(o),!1):o,i))}),{}))),n},e}(),o=function(){function e(e){this.statusCode=e.statusCode,this.headers=e.headers||{},this.body=e.body}return e.isInstance=function(e){if(!e)return!1;var t=e;return"number"==typeof t.statusCode&&"object"==typeof t.headers},e}()},261:(e,t,n)=>{"use strict";n.d(t,{KU:()=>a,mY:()=>c,sI:()=>_,to:()=>x,zE:()=>u,u$:()=>d,a_:()=>h,CE:()=>m,Fx:()=>l,pY:()=>g,mr:()=>y,jv:()=>S,KX:()=>w,vw:()=>E});var r=n(655),i=function(){var e=[],t=[],n=new Set,a=function(n){return e.forEach((function(e){n.add(e.middleware,(0,r.pi)({},e))})),t.forEach((function(e){n.addRelativeTo(e.middleware,(0,r.pi)({},e))})),n},c=function(e){var t=[];return e.before.forEach((function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,(0,r.ev)([],(0,r.CR)(c(e)),!1))})),t.push(e),e.after.reverse().forEach((function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,(0,r.ev)([],(0,r.CR)(c(e)),!1))})),t},u={add:function(t,i){void 0===i&&(i={});var o=i.name,s=i.override,a=(0,r.pi)({step:"initialize",priority:"normal",middleware:t},i);if(o){if(n.has(o)){if(!s)throw new Error("Duplicate middleware name '".concat(o,"'"));var c=e.findIndex((function(e){return e.name===o})),u=e[c];if(u.step!==a.step||u.priority!==a.priority)throw new Error('"'.concat(o,'" middleware with ').concat(u.priority," priority in ").concat(u.step," step cannot be ")+"overridden by same-name middleware with ".concat(a.priority," priority in ").concat(a.step," step."));e.splice(c,1)}n.add(o)}e.push(a)},addRelativeTo:function(e,i){var o=i.name,s=i.override,a=(0,r.pi)({middleware:e},i);if(o){if(n.has(o)){if(!s)throw new Error("Duplicate middleware name '".concat(o,"'"));var c=t.findIndex((function(e){return e.name===o})),u=t[c];if(u.toMiddleware!==a.toMiddleware||u.relation!==a.relation)throw new Error('"'.concat(o,'" middleware ').concat(u.relation,' "').concat(u.toMiddleware,'" middleware cannot be overridden ')+"by same-name middleware ".concat(a.relation,' "').concat(a.toMiddleware,'" middleware.'));t.splice(c,1)}n.add(o)}t.push(a)},clone:function(){return a(i())},use:function(e){e.applyToStack(u)},remove:function(r){return"string"==typeof r?function(r){var i=!1,o=function(e){return!e.name||e.name!==r||(i=!0,n.delete(r),!1)};return e=e.filter(o),t=t.filter(o),i}(r):function(r){var i=!1,o=function(e){return e.middleware!==r||(i=!0,e.name&&n.delete(e.name),!1)};return e=e.filter(o),t=t.filter(o),i}(r)},removeByTag:function(r){var i=!1,o=function(e){var t=e.tags,o=e.name;return!t||!t.includes(r)||(o&&n.delete(o),i=!0,!1)};return e=e.filter(o),t=t.filter(o),i},concat:function(e){var t=a(i());return t.use(e),t},applyToStack:a,resolve:function(n,i){var a,u;try{for(var l=(0,r.XA)(function(){var n,i=[],a=[],u={};return e.forEach((function(e){var t=(0,r.pi)((0,r.pi)({},e),{before:[],after:[]});t.name&&(u[t.name]=t),i.push(t)})),t.forEach((function(e){var t=(0,r.pi)((0,r.pi)({},e),{before:[],after:[]});t.name&&(u[t.name]=t),a.push(t)})),a.forEach((function(e){if(e.toMiddleware){var t=u[e.toMiddleware];if(void 0===t)throw new Error("".concat(e.toMiddleware," is not found when adding ").concat(e.name||"anonymous"," middleware ").concat(e.relation," ").concat(e.toMiddleware));"after"===e.relation&&t.after.push(e),"before"===e.relation&&t.before.push(e)}})),(n=i,n.sort((function(e,t){return o[t.step]-o[e.step]||s[t.priority||"normal"]-s[e.priority||"normal"]}))).map(c).reduce((function(e,t){return e.push.apply(e,(0,r.ev)([],(0,r.CR)(t),!1)),e}),[]).map((function(e){return e.middleware}))}().reverse()),h=l.next();!h.done;h=l.next())n=(0,h.value)(n,i)}catch(e){a={error:e}}finally{try{h&&!h.done&&(u=l.return)&&u.call(l)}finally{if(a)throw a.error}}return n}};return u},o={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},s={high:3,normal:2,low:1},a=function(){function e(e){this.middlewareStack=i(),this.config=e}return e.prototype.send=function(e,t,n){var r="function"!=typeof t?t:void 0,i="function"==typeof t?t:n,o=e.resolveMiddleware(this.middlewareStack,this.config,r);if(!i)return o(e).then((function(e){return e.output}));o(e).then((function(e){return i(null,e.output)}),(function(e){return i(e)})).catch((function(){}))},e.prototype.destroy=function(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()},e}(),c=function(){this.middlewareStack=i()},u=function(e){if(null!=e){if("boolean"==typeof e)return e;throw new TypeError("Expected boolean, got ".concat(typeof e))}},l=function(e){if(null!=e){if("number"==typeof e)return e;throw new TypeError("Expected number, got ".concat(typeof e))}},h=(Math.ceil(Math.pow(2,127)*(2-Math.pow(2,-23))),function(e){if(null!=e){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError("Expected integer, got ".concat(typeof e))}}),d=function(e){return f(e,32)},f=function(e,t){var n=h(e);if(void 0!==n&&p(n,t)!==n)throw new TypeError("Expected ".concat(t,"-bit integer, got ").concat(e));return n},p=function(e,t){switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},m=function(e,t){if(null==e){if(t)throw new TypeError("Expected a non-null value for ".concat(t));throw new TypeError("Expected a non-null value")}return e},g=function(e){if(null!=e){if("string"==typeof e)return e;throw new TypeError("Expected string, got ".concat(typeof e))}},v=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,y=function(e){return"string"==typeof e?b(e):l(e)},b=function(e){switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error("Unable to parse float value: ".concat(e))}},w=function(e){if(null!=e){var t;if("number"==typeof e)t=e;else{if("string"!=typeof e)throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");t=function(e){return l("string"==typeof e?function(e){var t=e.match(v);if(null===t||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)}(e):e)}(e)}if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(1e3*t))}},S=function(e){switch(e){case"standard":case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},_=function(e){function t(n){var r=e.call(this,n.message)||this;return Object.setPrototypeOf(r,t.prototype),r.name=n.name,r.$fault=n.$fault,r.$metadata=n.$metadata,r}return(0,r.ZT)(t,e),t}(Error),x=function(e,t){void 0===t&&(t={}),Object.entries(t).filter((function(e){return void 0!==(0,r.CR)(e,2)[1]})).forEach((function(t){var n=(0,r.CR)(t,2),i=n[0],o=n[1];null!=e[i]&&""!==e[i]||(e[i]=o)}));var n=e.message||e.Message||"UnknownError";return e.message=n,delete e.Message,e},C=function(){var e=Object.getPrototypeOf(this).constructor,t=new(Function.bind.apply(String,(0,r.ev)([null],(0,r.CR)(arguments),!1)));return Object.setPrototypeOf(t,e.prototype),t};C.prototype=Object.create(String.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(C,String),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}(0,r.ZT)(t,e),t.prototype.deserializeJSON=function(){return JSON.parse(e.prototype.toString.call(this))},t.prototype.toJSON=function(){return e.prototype.toString.call(this)},t.fromObject=function(e){return e instanceof t?e:new t(e instanceof String||"string"==typeof e?e:JSON.stringify(e))}}(C);var E=function(e){if(e!=e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}}},6795:(e,t,n)=>{"use strict";n.d(t,{e:()=>i});var r=n(655),i=function(e){var t,n=new URL(e),i=n.hostname,o=n.pathname,s=n.port,a=n.protocol,c=n.search;return c&&(t=function(e){var t,n,i={};if(e=e.replace(/^\?/,""))try{for(var o=(0,r.XA)(e.split("&")),s=o.next();!s.done;s=o.next()){var a=s.value,c=(0,r.CR)(a.split("="),2),u=c[0],l=c[1],h=void 0===l?null:l;u=decodeURIComponent(u),h&&(h=decodeURIComponent(h)),u in i?Array.isArray(i[u])?i[u].push(h):i[u]=[i[u],h]:i[u]=h}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i}(c)),{hostname:i,port:s?parseInt(s):void 0,protocol:a,path:o,query:t}}},6003:(e,t,n)=>{"use strict";n.d(t,{G:()=>l,s:()=>h});for(var r={},i=new Array(64),o=0,s="A".charCodeAt(0),a="Z".charCodeAt(0);o+s<=a;o++){var c=String.fromCharCode(o+s);r[c]=o,i[o]=c}for(o=0,s="a".charCodeAt(0),a="z".charCodeAt(0);o+s<=a;o++){c=String.fromCharCode(o+s);var u=o+26;r[c]=u,i[u]=c}for(o=0;o<10;o++)r[o.toString(10)]=o+52,c=o.toString(10),u=o+52,r[c]=u,i[u]=c;function l(e){var t=e.length/4*3;"=="===e.slice(-2)?t-=2:"="===e.slice(-1)&&t--;for(var n=new ArrayBuffer(t),i=new DataView(n),o=0;o<e.length;o+=4){for(var s=0,a=0,c=o,u=o+3;c<=u;c++)if("="!==e[c]){if(!(e[c]in r))throw new TypeError("Invalid character ".concat(e[c]," in base64 string."));s|=r[e[c]]<<6*(u-c),a+=6}else s>>=6;var l=o/4*3;s>>=a%8;for(var h=Math.floor(a/8),d=0;d<h;d++){var f=8*(h-d-1);i.setUint8(l+d,(s&255<<f)>>f)}}return new Uint8Array(n)}function h(e){for(var t="",n=0;n<e.length;n+=3){for(var r=0,o=0,s=n,a=Math.min(n+3,e.length);s<a;s++)r|=e[s]<<8*(a-s-1),o+=8;var c=Math.ceil(o/6);r<<=6*c-o;for(var u=1;u<=c;u++){var l=6*(c-u);t+=i[(r&63<<l)>>l]}t+="==".slice(0,4-c)}return t}r["+"]=62,i[62]="+",r["/"]=63,i[63]="/"},6524:(e,t,n)=>{"use strict";n.d(t,{W:()=>r});var r=function(e){if("string"==typeof e){for(var t=e.length,n=t-1;n>=0;n--){var r=e.charCodeAt(n);r>127&&r<=2047?t++:r>2047&&r<=65535&&(t+=2)}return t}if("number"==typeof e.byteLength)return e.byteLength;if("number"==typeof e.size)return e.size;throw new Error("Body Length computation failed for ".concat(e))}},2971:(e,t,n)=>{"use strict";n.d(t,{j:()=>c});var r=n(655),i=n(1452),o=n(1206),s=n.n(o),a=["in-region","cross-region","mobile","standard","legacy"],c=function(e){var t=(void 0===e?{}:e).defaultsMode;return(0,i.HP)((function(){return(0,r.mG)(void 0,void 0,void 0,(function(){var e,n;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return"function"!=typeof t?[3,2]:[4,t()];case 1:return n=r.sent(),[3,3];case 2:n=t,r.label=3;case 3:switch(null==(e=n)?void 0:e.toLowerCase()){case"auto":return[2,Promise.resolve(u()?"mobile":"standard")];case"mobile":case"in-region":case"cross-region":case"standard":case"legacy":return[2,Promise.resolve(null==e?void 0:e.toLocaleLowerCase())];case void 0:return[2,Promise.resolve("legacy")];default:throw new Error('Invalid parameter for "defaultsMode", expect '.concat(a.join(", "),", got ").concat(e))}return[2]}}))}))}))},u=function(){var e,t,n="undefined"!=typeof window&&(null===(e=null===window||void 0===window?void 0:window.navigator)||void 0===e?void 0:e.userAgent)?s().parse(window.navigator.userAgent):void 0,r=null===(t=null==n?void 0:n.platform)||void 0===t?void 0:t.type;return"tablet"===r||"mobile"===r}},6495:(e,t,n)=>{"use strict";n.r(t),n.d(t,{locateWindow:()=>i});var r={};function i(){return"undefined"!=typeof window?window:"undefined"!=typeof self?self:r}},7079:(e,t,n)=>{"use strict";n.d(t,{$:()=>r});var r=function(e){if("function"==typeof e)return e;var t=Promise.resolve(e);return function(){return t}}},6528:(e,t,n)=>{"use strict";n.d(t,{i:()=>r});var r=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,i)},i=function(e){return"%".concat(e.charCodeAt(0).toString(16).toUpperCase())}},7915:(e,t,n)=>{"use strict";n.d(t,{f:()=>s});var r=n(655),i=n(1206),o=n.n(i),s=function(e){var t=e.serviceId,n=e.clientVersion;return function(){return(0,r.mG)(void 0,void 0,void 0,(function(){var e,i,s,a,c,u,l,h,d;return(0,r.Jh)(this,(function(r){return e="undefined"!=typeof window&&(null===(s=null===window||void 0===window?void 0:window.navigator)||void 0===s?void 0:s.userAgent)?o().parse(window.navigator.userAgent):void 0,i=[["aws-sdk-js",n],["os/".concat((null===(a=null==e?void 0:e.os)||void 0===a?void 0:a.name)||"other"),null===(c=null==e?void 0:e.os)||void 0===c?void 0:c.version],["lang/js"],["md/browser","".concat(null!==(l=null===(u=null==e?void 0:e.browser)||void 0===u?void 0:u.name)&&void 0!==l?l:"unknown","_").concat(null!==(d=null===(h=null==e?void 0:e.browser)||void 0===h?void 0:h.version)&&void 0!==d?d:"unknown")]],t&&i.push(["api/".concat(t),n]),[2,i]}))}))}}},2084:(e,t,n)=>{"use strict";n.r(t),n.d(t,{fromUtf8:()=>r,toUtf8:()=>i});var r=function(e){return"function"==typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e.charCodeAt(n);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192,63&i|128);else if(n+1<e.length&&55296==(64512&i)&&56320==(64512&e.charCodeAt(n+1))){var o=65536+((1023&i)<<10)+(1023&e.charCodeAt(++n));t.push(o>>18|240,o>>12&63|128,o>>6&63|128,63&o|128)}else t.push(i>>12|224,i>>6&63|128,63&i|128)}return Uint8Array.from(t)}(e)},i=function(e){return"function"==typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):function(e){for(var t="",n=0,r=e.length;n<r;n++){var i=e[n];if(i<128)t+=String.fromCharCode(i);else if(192<=i&&i<224){var o=e[++n];t+=String.fromCharCode((31&i)<<6|63&o)}else if(240<=i&&i<365){var s="%"+[i,e[++n],e[++n],e[++n]].map((function(e){return e.toString(16)})).join("%");t+=decodeURIComponent(s)}else t+=String.fromCharCode((15&i)<<12|(63&e[++n])<<6|63&e[++n])}return t}(e)}},6419:(e,t,n)=>{e.exports=n(7698)},1511:(e,t,n)=>{e.exports=n(3363)},1128:(e,t,n)=>{e.exports=n(7784)},7766:(e,t,n)=>{e.exports=n(8065)},116:(e,t,n)=>{e.exports=n(1955)},4473:(e,t,n)=>{e.exports=n(1577)},8914:(e,t,n)=>{e.exports=n(6279)},8580:(e,t,n)=>{e.exports=n(3778)},1643:(e,t,n)=>{e.exports=n(9373)},3054:(e,t,n)=>{e.exports=n(1022)},3649:(e,t,n)=>{e.exports=n(2073)},2762:(e,t,n)=>{e.exports=n(2348)},9828:(e,t,n)=>{e.exports=n(5178)},9340:(e,t,n)=>{e.exports=n(8933)},1942:(e,t,n)=>{e.exports=n(3383)},368:(e,t,n)=>{e.exports=n(7396)},3978:(e,t,n)=>{e.exports=n(1910)},6295:(e,t,n)=>{e.exports=n(6209)},6474:(e,t,n)=>{e.exports=n(5021)},4074:(e,t,n)=>{e.exports=n(9427)},9649:(e,t,n)=>{e.exports=n(2857)},8604:(e,t,n)=>{e.exports=n(4477)},4310:(e,t,n)=>{e.exports=n(9534)},6902:(e,t,n)=>{e.exports=n(3059)},875:(e,t,n)=>{e.exports=n(7460)},1068:(e,t,n)=>{e.exports=n(1895)},1581:(e,t,n)=>{e.exports=n(3474)},3032:(e,t,n)=>{e.exports=n(7989)},5420:(e,t,n)=>{e.exports=n(2547)},9969:(e,t,n)=>{e.exports=n(7641)},9010:(e,t,n)=>{e.exports=n(3726)},3592:(e,t,n)=>{e.exports=n(7385)},8363:(e,t,n)=>{e.exports=n(1522)},9996:(e,t,n)=>{e.exports=n(2209)},5238:(e,t,n)=>{e.exports=n(1493)},189:(e,t,n)=>{e.exports=n(6094)},4341:(e,t,n)=>{e.exports=n(3685)},8377:(e,t,n)=>{e.exports=n(7533)},4889:(e,t,n)=>{e.exports=n(4303)},9542:(e,t,n)=>{e.exports=n(5122)},9798:(e,t,n)=>{e.exports=n(9531)},3863:(e,t,n)=>{e.exports=n(1524)},1446:(e,t,n)=>{e.exports=n(6600)},3327:(e,t,n)=>{e.exports=n(9759)},81:(e,t,n)=>{"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:()=>r})},9348:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(9798);function i(e,t,n,i,o,s,a){try{var c=e[s](a),u=c.value}catch(e){return void n(e)}c.done?t(u):r.resolve(u).then(i,o)}function o(e){return function(){var t=this,n=arguments;return new r((function(r,o){var s=e.apply(t,n);function a(e){i(s,r,o,a,c,"next",e)}function c(e){i(s,r,o,a,c,"throw",e)}a(void 0)}))}}},530:(e,t,n)=>{"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:()=>r})},6849:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(4341);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),r(e,i.key,i)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),r(e,"prototype",{writable:!1}),e}},1509:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(4341);function i(e,t,n){return t in e?r(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},6250:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(3863),i=n(8377),o=n(891);function s(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,o.Z)(e)););return e}function a(){return a="undefined"!=typeof Reflect&&r?r:function(e,t,n){var r=s(e,t);if(r){var o=i(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},a.apply(this,arguments)}},891:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(9542),i=n(4889);function o(e){return o=r?i:function(e){return e.__proto__||i(e)},o(e)}},7647:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(189),i=n(4341),o=n(9542);function s(e,t){return s=o||function(e,t){return e.__proto__=t,e},s(e,t)}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=r(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),i(e,"prototype",{writable:!1}),t&&s(e,t)}},1010:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(7384),i=n(81);function o(e,t){if(t&&("object"===(0,r.Z)(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,i.Z)(e)}},7384:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(1446),i=n(3327);function o(e){return o="function"==typeof r&&"symbol"==typeof i?function(e){return typeof e}:function(e){return e&&"function"==typeof r&&e.constructor===r&&e!==r.prototype?"symbol":typeof e},o(e)}},3109:(e,t,n)=>{e.exports=n(5666)},3433:(e,t,n)=>{"use strict";n.r(t),n.d(t,{findRegion:()=>R,getAWSCredentialsUsingOpenID:()=>S,getAWSCredentialsUsingSharedIniProfile:()=>_,getMateriaSessionToken:()=>x,getSharedMateriaSessionToken:()=>E,setConfiguration:()=>w});var r={};n.r(r);var i=n(9348),o=n(3109),s=n.n(o),a=n(875),c=n.n(a),u=n(9340),l=n.n(u),h=n(7766),d=n.n(h),f=n(2613),p=n(8554),m=n(6478),g=n(3289),v=n(3482),y=null;"undefined"==typeof fetch?(y=n(3300))&&y.default&&(y=y.default):y=fetch;var b=m.Z,w=function(e){b=e,console.log("Token endpoint is: "+b.sessionTokenEndPointUrl)};function S(e){if(e.id_token)try{var t={};return t["identity.trimble.com"]=e.id_token,p.s({identityPoolId:b.cognitoIdentityPoolId,logins:t})}catch(t){var n={exception:t,credentials:e};throw g.j("Exception obtaining AWS credentials via OpenID credentials.",30134,n).error}}function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"materia";if(f.ji("getAWSCredentialsUsingSharedIniProfile awsProfile ".concat(e),"debug"),!e)return c().resolve({});try{return r.fromIni({profile:e})}catch(n){var t={exception:n,awsIniProfile:e};throw g.j("Exception obtaining AWS credentials from shared ini profile.",30133,t).error}}function x(e,t,n,r){return C.apply(this,arguments)}function C(){return C=(0,i.Z)(s().mark((function e(t,n,r,i){var o,a,c,u=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=u.length>4&&void 0!==u[4]?u[4]:void 0,a=u.length>5&&void 0!==u[5]?u[5]:void 0,e.next=4,A(t,n,r,i,o,a);case 4:return c=e.sent,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)}))),C.apply(this,arguments)}function E(e,t,n,r,i){return k.apply(this,arguments)}function k(){return k=(0,i.Z)(s().mark((function e(t,n,r,i,o){var a,c,u=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>5&&void 0!==u[5]?u[5]:void 0,e.next=3,T(t,n,r,i,o,a);case 3:return c=e.sent,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)}))),k.apply(this,arguments)}function A(e,t,n,r,i){return N.apply(this,arguments)}function N(){return N=(0,i.Z)(s().mark((function e(t,n,r,i,o){var a,c,u,l,h,d,f,p=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=(a=p.length>5&&void 0!==p[5]?p[5]:void 0)?a.server_url:b.sessionTokenEndPointUrl,u={},l="requestSession",h="connect",a&&a.session_id&&(l="reconnectSession",h="reconnect"),(d={})[l]={},u["content-type"]="text/plain; charset=utf-8",t&&(d[l].applicationKey=t),n&&(d[l].clientId=n),r&&(d[l].stackKey=r),i&&(d[l].sdkVersion=i),o&&(d[l].credentials=o),a&&(d[l].sessionId=a.session_id),f={endpoint:c,credentials:o},e.next=18,O(c,u,d,f,h);case 18:return e.abrupt("return",e.sent);case 19:case"end":return e.stop()}}),e)}))),N.apply(this,arguments)}function T(e,t,n,r,i,o){return P.apply(this,arguments)}function P(){return(P=(0,i.Z)(s().mark((function e(t,n,r,i,o,a){var c,u,l,h;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=b.sessionTokenEndPointUrl,(u={})["content-type"]="text/plain; charset=utf-8",l={shareSession:{}},t&&(l.shareSession.applicationKey=t),n&&(l.shareSession.clientId=n),r&&(l.shareSession.stackKey=r),a&&(l.shareSession.credentials=a),l.shareSession.token=i,h={endpoint:c,token:i,credentials:a},e.next=12,O(c,u,l,h,"share");case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e,t,n,r){return I.apply(this,arguments)}function I(){return I=(0,i.Z)(s().mark((function e(t,n,r,i){var o,a,c,u,h,f,p,m,b,w,S,_=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=_.length>4&&void 0!==_[4]?_[4]:"connect",a=0,c=null,u=null,e.prev=4,e.next=7,y(t,{method:"POST",headers:n,body:l()(r)});case 7:if((h=e.sent).ok){e.next=17;break}e.t0=h.status,e.next=401===e.t0?12:14;break;case 12:return a=v.j.Connection.Unauthorized,e.abrupt("break",15);case 14:a=v.j.Connection.ServerRejected;case 15:throw c=d()(f=d()(p=d()(m=d()(b="Error (".concat(h.status," - ")).call(b,h.statusText,") retrieving ")).call(m,"share"===o?"Shared":""," Materia Session Token ")).call(p,"reconnect"===o?"to reconnect":"to connect"," from '")).call(f,t,"'."),new Error;case 17:return e.next=19,h.text();case 19:u=e.sent,e.next=28;break;case 22:throw e.prev=22,e.t1=e.catch(4),c||(c=d()(w=d()(S="Error retrieving and parsing ".concat("share"===o?"Shared":""," Materia Session Token ")).call(S,"reconnect"===o?"to reconnect":"to connect"," from '")).call(w,t,"' because of network problems.")),0===a&&(a=v.j.Connection.NetworkError,e.t1&&(i.exception=e.t1.toString())),g.j(c,a,i).error;case 28:return e.abrupt("return",u);case 29:case"end":return e.stop()}}),e,null,[[4,22]])}))),I.apply(this,arguments)}function R(){return"us-east-2"}},6478:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={cognitoIdentityPoolId:"ap-southeast-2:a1070adf-1a35-4abe-8175-4ac08a417c49",cognitoIdentityPoolRegion:"ap-southeast-2",sessionTokenEndPointUrl:"https://server.materia.app/config/v2",userPool:{UserPoolId:"us-west-2_w1gyXWU9h",ClientId:"67ufm1sf6tna9ppu4jrsb4pa9r"},userName:"",loginApproaches:{cognito:"cognito-idp.us-west-2.amazonaws.com/us-west-2_w1gyXWU9h",openID:"identity.trimble.com"}}},3482:(e,t,n)=>{"use strict";n.d(t,{j:()=>r});var r={Connection:{AlreadyConnected:30123,BusyConnecting:30124,NetworkError:30125,Unauthorized:30238,ServerRejected:30239,Timeout:30106,InvalidCredentials:30247},Session:{InvalidSessionToken:30246}}},2203:(e,t,n)=>{"use strict";n.d(t,{u:()=>o});var r=n(6849),i=n(530),o=(0,r.Z)((function e(t,n,r){(0,i.Z)(this,e),this.code=t,this.message=n,this.data=r}))},3289:(e,t,n)=>{"use strict";n.d(t,{j:()=>i,x:()=>o});var r=n(2203);function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unknown internal application error",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30100,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return{error:new r.u(t,e,n)}}function o(e){return{result:e}}},9136:(e,t,n)=>{"use strict";n.d(t,{S:()=>h,f:()=>d});var r=n(9348),i=n(530),o=n(6849),s=n(1509),a=n(875),c=n.n(a),u=n(3109),l=n.n(u),h={NullSocketWhenConnecting:1,ErrorWhenConnecting:2,ClosedWhenConnecting:3,TimeoutWhenConnecting:4,TimeoutWhenDisconnecting:5},d=function(){function e(t){var n,o,a=this;(0,i.Z)(this,e),(0,s.Z)(this,"connect",(0,r.Z)(l().mark((function e(){var t,n=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.length>0&&void 0!==n[0]?n[0]:0,!a.isDisconnected){e.next=4;break}return e.next=4,a._doConnect(t);case 4:case"end":return e.stop()}}),e)})))),(0,s.Z)(this,"disconnect",(0,r.Z)(l().mark((function e(){var t,n,r=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.length>0&&void 0!==r[0]?r[0]:0,a._busyState=2,e.prev=2,!a.isDisconnected){e.next=5;break}return e.abrupt("return",!0);case 5:return n=18e4,(0===t||t>n)&&(t=n),e.next=9,a._doDisconnect(t);case 9:return e.abrupt("return",e.sent);case 12:return e.prev=12,e.t0=e.catch(2),e.abrupt("return",c().reject(e.t0));case 15:return e.prev=15,a._busyState=0,e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))),(0,s.Z)(this,"sendMessage",(function(e){throw"AbstractSocket:sendMessage() needs to be implemented in concrete classes"})),(0,s.Z)(this,"setConnectListener",(function(e){throw"AbstractSocket:setConnectListener() needs to be implemented in concrete classes"})),(0,s.Z)(this,"setMessageReceivedListener",(function(e){throw"AbstractSocket:setMessageReceivedListener() needs to be implemented in concrete classes"})),(0,s.Z)(this,"_doConnect",(n=(0,r.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw"AbstractSocket:_doConnect() needs to be implemented in concrete classes";case 1:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})),(0,s.Z)(this,"_doDisconnect",(o=(0,r.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw"AbstractSocket:_doDisconnect() needs to be implemented in concrete classes";case 1:case"end":return e.stop()}}),e)}))),function(e){return o.apply(this,arguments)})),this._socketURI=t,this._busyState=0}return(0,o.Z)(e,[{key:"destructor",value:function(){this.disconnect()}},{key:"isConnected",get:function(){throw"AbstractSocket:isConnected() needs to be implemented in concrete classes"}},{key:"isDisconnected",get:function(){throw"AbstractSocket:isDisconnected() needs to be implemented in concrete classes"}},{key:"isBusyConnection",get:function(){throw"AbstractSocket:isBusyConnection() needs to be implemented in concrete classes"}}]),e}()},723:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>C});var r=n(1068),i=n.n(r),o=n(9348),s=n(530),a=n(6849),c=n(81),u=n(6250),l=n(7647),h=n(1010),d=n(891),f=n(1509),p=n(3109),m=n.n(p),g=n(7766),v=n.n(g),y=n(9828),b=n.n(y),w=n(875),S=n.n(w),_=n(9136),x=n(2613),C=function(e){(0,l.Z)(p,e);var t,n,r=(t=p,n=function(){if("undefined"==typeof Reflect||!i())return!1;if(i().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(i()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,d.Z)(t);if(n){var o=(0,d.Z)(this).constructor;e=i()(r,arguments,o)}else e=r.apply(this,arguments);return(0,h.Z)(this,e)});function p(e,t){var n,i,a;return(0,s.Z)(this,p),n=r.call(this,e),(0,f.Z)((0,c.Z)(n),"setConnectListener",(function(e){n.__onConnected=e,n.__webSocket&&(n.__webSocket.onopen=function(e){n.__latestEvent="open",x.ji("Websocket is opened at ".concat(n._socketURI),"log","MateriaBrowserWebSocket",x.zV.LoggerAndConsole),n.__onConnected&&"function"==typeof n.__onConnected&&n.__onConnected({connected:n.isConnected,disconnected:n.isDisconnected,busy:n.isBusyConnection},e)},n.__webSocket.onclose=function(e){n.__latestEvent="close",x.ji("Websocket is closed at ".concat(n._socketURI),"log","MateriaBrowserWebSocket",x.zV.LoggerAndConsole),n.__onConnected&&"function"==typeof n.__onConnected&&n.__onConnected({connected:n.isConnected,disconnected:n.isDisconnected,busy:n.isBusyConnection},e)})})),(0,f.Z)((0,c.Z)(n),"setMessageReceivedListener",(function(e){n.__inputHandler=e,n.__webSocket&&(n.__webSocket.onmessage=function(t){e&&e(t)})})),(0,f.Z)((0,c.Z)(n),"setErrorListener",(function(e){n.__errorHandler=e,n.__webSocket&&(n.__webSocket.onerror=function(t){n.__latestEvent="error",n.isBusyConnection?n.isConnected?x.ji("WebSocket error: closing connection. The code:"+t.code+" with reason: "+t.reason,"warn","MateriaBrowserWebSocket",x.zV.LoggerAndConsole):x.ji("WebSocket error: establishing connection. The code: "+t.code+" with reason: "+t.reason,"warn","MateriaBrowserWebSocket",x.zV.LoggerAndConsole):x.ji("Websocket error. The code: "+t.code+" with reason: "+t.reason,"error","MateriaBrowserWebSocket",x.zV.LoggerAndConsole),e&&e(t)})})),(0,f.Z)((0,c.Z)(n),"sendMessage",(function(e){var t;x.ji(v()(t="sending message ".concat(e.messageID," '")).call(t,e.method,"'"),"debug"),n.__webSocket.send(e.content)})),(0,f.Z)((0,c.Z)(n),"_doConnect",(i=(0,o.Z)(m().mark((function e(t){var r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n._socketURI,b()(r).call(r,"http://")&&(r=r.replace("http://","ws://")),x.ji("socket URI: ".concat(r),"debug"),n.__webSocket=new WebSocket(r),n.__binaryType&&(n.__webSocket.binaryType=n.__binaryType),n.setConnectListener(n.__onConnected),n.setMessageReceivedListener(n.__inputHandler),n.setErrorListener(n.__errorHandler),e.abrupt("return",new(S())((function(e,r){var i=null;x.Dc(t,(function(){return n.__webSocket?"error"===n.__latestEvent?(i=_.S.ErrorWhenConnecting,!1):"close"===n.__latestEvent?(i=_.S.ClosedWhenConnecting,!1):n.__webSocket.readyState!==WebSocket.OPEN:(i=_.S.NullSocketWhenConnecting,!1)}),10).then((function(t){if(i)throw i;e()})).catch((function(e){e=_.S.TimeoutWhenConnecting,n._doDisconnect(),r(e)}))})));case 9:case"end":return e.stop()}}),e)}))),function(e){return i.apply(this,arguments)})),(0,f.Z)((0,c.Z)(n),"_doDisconnect",(a=(0,o.Z)(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.__webSocket.close(),e.prev=1,e.next=4,x.Dc(t,(function(){return!!n.__webSocket&&n.__webSocket.readyState!==WebSocket.CLOSED}));case 4:e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(1),e.abrupt("return",S().reject(_.S.TimeoutWhenDisconnecting));case 9:return e.abrupt("return",!n.__webSocket||n.__webSocket.readyState===WebSocket.CLOSED);case 10:case"end":return e.stop()}}),e,null,[[1,6]])}))),function(e){return a.apply(this,arguments)})),n.__webSocket=void 0,n.__binaryType=t,n.__latestEvent=void 0,n}return(0,a.Z)(p,[{key:"destructor",value:function(){(0,u.Z)((0,d.Z)(p.prototype),"destructor",this).call(this),this.__webSocket=void 0}},{key:"isConnected",get:function(){return!!this.__webSocket&&this.__webSocket.readyState===WebSocket.OPEN}},{key:"isDisconnected",get:function(){return!this.__webSocket||this.__webSocket.readyState===WebSocket.CLOSED}},{key:"isBusyConnection",get:function(){return!!this.__webSocket&&this.__webSocket.readyState!==WebSocket.OPEN&&this.__webSocket.readyState!==WebSocket.CLOSED}}]),p}(_.f)},4390:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>N});var r=n(1068),i=n.n(r),o=n(9348),s=n(530),a=n(6849),c=n(81),u=n(6250),l=n(7647),h=n(1010),d=n(891),f=n(1509),p=n(3109),m=n.n(p),g=n(7766),v=n.n(g),y=n(9340),b=n.n(y),w=n(9828),S=n.n(w),_=n(875),x=n.n(_),C=n(9136),E=n(2613),k=n(5840),A=n.n(k),N=function(e){(0,l.Z)(p,e);var t,n,r=(t=p,n=function(){if("undefined"==typeof Reflect||!i())return!1;if(i().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(i()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,d.Z)(t);if(n){var o=(0,d.Z)(this).constructor;e=i()(r,arguments,o)}else e=r.apply(this,arguments);return(0,h.Z)(this,e)});function p(e,t){var n,i,a;return(0,s.Z)(this,p),n=r.call(this,e),(0,f.Z)((0,c.Z)(n),"setConnectListener",(function(e){n.__onConnected=e,n.__webSocket&&(n.__webSocket.onopen=function(e){n.__latestEvent="open",E.ji("websocket is opened at ".concat(n._socketURI),"log"),n.__onConnected&&"function"==typeof n.__onConnected&&n.__onConnected({connected:n.isConnected,disconnected:n.isDisconnected,busy:n.isBusyConnection})},n.__webSocket.onclose=function(e){var t;n.__latestEvent="close",E.ji(v()(t="websocket is closed at ".concat(n._socketURI," with CloseEvent ")).call(t,b()(e)),"log"),n.__onConnected&&"function"==typeof n.__onConnected&&n.__onConnected({connected:n.isConnected,disconnected:n.isDisconnected,busy:n.isBusyConnection})})})),(0,f.Z)((0,c.Z)(n),"setMessageReceivedListener",(function(e){n.__inputHandler=e,n.__webSocket&&(n.__webSocket.onmessage=function(t){e&&e(t)})})),(0,f.Z)((0,c.Z)(n),"setErrorListener",(function(e){n.__errorHandler=e,n.__webSocket&&(n.__webSocket.onerror=function(t){n.__latestEvent="error",n.isBusyConnection?n.isConnected?E.ji("socket onerror: closing connection error: "+t.toString(),"warn"):E.ji("socket onerror: establishing connection error: "+t.toString(),"warn"):E.ji("websocket connection error: "+t.toString(),"error"),e&&e(t)})})),(0,f.Z)((0,c.Z)(n),"sendMessage",(function(e){var t;E.ji(v()(t="sending message ".concat(e.messageID," '")).call(t,e.method,"'"),"debug"),n.__webSocket.send(e.content)})),(0,f.Z)((0,c.Z)(n),"_doConnect",(i=(0,o.Z)(m().mark((function e(t){var r,i;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n._socketURI,S()(r).call(r,"http://")&&(r=r.replace("http://","ws://")),E.ji("socket URI: ".concat(r),"log"),i={maxReceivedFrameSize:52428800,maxReceivedMessageSize:104857600,fragmentationThreshold:262144},n.__webSocket=new(A().w3cwebsocket)(r,null,null,null,null,i),n.__binaryType&&(n.__webSocket.binaryType=n.__binaryType),n.setConnectListener(n.__onConnected),n.setMessageReceivedListener(n.__inputHandler),n.setErrorListener(n.__errorHandler),e.abrupt("return",new(x())((function(e,r){var i=null;E.Dc(t,(function(){return n.__webSocket?"error"===n.__latestEvent?(i=C.S.ErrorWhenConnecting,!1):"close"===n.__latestEvent?(i=C.S.ClosedWhenConnecting,!1):n.__webSocket.readyState!==A().w3cwebsocket.OPEN:(i=C.S.NullSocketWhenConnecting,!1)}),10).then((function(t){if(i)throw i;e()})).catch((function(e){e=C.S.TimeoutWhenConnecting,n._doDisconnect(),r(e)}))})));case 10:case"end":return e.stop()}}),e)}))),function(e){return i.apply(this,arguments)})),(0,f.Z)((0,c.Z)(n),"_doDisconnect",(a=(0,o.Z)(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.__webSocket.close(),e.prev=1,e.next=4,E.Dc(t,(function(){return!!n.__webSocket&&n.__webSocket.readyState!==A().w3cwebsocket.CLOSED}));case 4:e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(1),e.abrupt("return",x().reject(C.S.TimeoutWhenDisconnecting));case 9:return e.abrupt("return",!n.__webSocket||n.__webSocket.readyState===A().w3cwebsocket.CLOSED);case 10:case"end":return e.stop()}}),e,null,[[1,6]])}))),function(e){return a.apply(this,arguments)})),n.__webSocket=void 0,n.__binaryType=t,n.__latestEvent=void 0,n}return(0,a.Z)(p,[{key:"destructor",value:function(){(0,u.Z)((0,d.Z)(p.prototype),"destructor",this).call(this),this.__webSocket=void 0}},{key:"isConnected",get:function(){return!!this.__webSocket&&this.__webSocket.readyState===A().w3cwebsocket.OPEN}},{key:"isDisconnected",get:function(){return!this.__webSocket||this.__webSocket.readyState===A().w3cwebsocket.CLOSED}},{key:"isBusyConnection",get:function(){return!!this.__webSocket&&this.__webSocket.readyState!==A().w3cwebsocket.OPEN&&this.__webSocket.readyState!==A().w3cwebsocket.CLOSED}}]),p}(C.f)},2613:(e,t,n)=>{"use strict";n.d(t,{Gr:()=>_,ji:()=>A,EK:()=>k,zV:()=>E,DS:()=>T,Dc:()=>N,TC:()=>P,r$:()=>O,ro:()=>I});var r=n(9348),i=n(3109),o=n.n(i),s=n(1643),a=n.n(s),c=n(875),u=n.n(c),l=n(1581),h=n.n(l),d=n(1128),f=n.n(d),p=n(3978),m=n.n(p),g=n(8914),v=n.n(g),y=n(8604),b=n.n(y),w=n(3032),S=n.n(w);function _(){if(void 0===n.g||!n.g||!n.g.process||void 0===n.g.process)return!1;var e=!1;try{e="[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}return e}var x={logger:console,minimalConsoleLogLevel:1},C=["debug","log","warn","error"],E={Console:1,Logger:2,LoggerAndConsole:3};function k(e){x.logger=e}function A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"log",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"unknown",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:E.Console;t||(t="log");var i=a()(C).call(C,t);if(i>=0){if(r&E.Console&&i>=x.minimalConsoleLogLevel&&console[t]({message:e,source:n}),r&E.Logger&&x.logger&&x.logger!=console){var o=x.logger[t];o&&"function"==typeof o?o(e,n,t):"function"==typeof x.logger.log?x.logger.log(e,n,t):console.warn("Failed to log '",t,"' message '",e,"' from ",n)}}else console.warn("Invalid log level '",t,"' to log message '",e,"' from ",n)}function N(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,r=new Date;return e>0&&r.setMilliseconds(r.getMilliseconds()+e),new(u())((function(i,o){t&&t()||i();var s=h()((function(){t&&t()||(clearInterval(s),i()),e>0&&f()()>=r&&(clearInterval(s),o("timeout"))}),n)}))}var T=null,P=null;function O(){"toJSON"in Error.prototype||m()(Error.prototype,"toJSON",{value:function(){var e,t={};return v()(e=b()(this)).call(e,(function(e){t[e]=this[e]}),this),t},configurable:!0,writable:!0})}function I(e,t,n){var i,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=!1,c=null,u=(i=(0,r.Z)(o().mark((function r(){var i,l,h,d;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,i=f()(),l=null,a){r.next=11;break}return r.next=7,e();case 7:l=r.sent,r.next=11;break;case 10:l=e();case 11:if("function"==typeof s&&s(l),h=0,a){r.next=25;break}if("function"!=typeof t){r.next=24;break}return r.next=18,t();case 18:h=r.sent,r.next=22;break;case 21:h=t();case 22:r.next=25;break;case 24:"number"==typeof t&&(h=t);case 25:!a&&"number"==typeof h&&h>=0&&(d=f()()-i,(h-=d)<0&&(h=0),c=S()(u,h)),r.next=31;break;case 28:r.prev=28,r.t0=r.catch(0),"function"==typeof n?n(r.t0):A("Set the 'onError' argument of 'setDynamicInterval' to catch the error: "+r.t0,"error",E.LoggerAndConsole);case 31:case"end":return r.stop()}}),r,null,[[0,28]])}))),function(){return i.apply(this,arguments)});return u(),{stop:function(){a=!0,c&&(clearTimeout(c),c=null)}}}_()?(T={encode:function(e){return new Buffer.from(e).toString("base64")},decode:function(e){return new Buffer.from(e,"base64").toString()}},P=function(e){return Buffer.byteLength(e,"utf-8")}):(T={encode:function(e){return window.btoa(e)},decode:function(e){return window.atob(e)}},P=function(e){return new Blob([e]).size})},9315:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Asset:()=>Ws,Assets:()=>Ks,Connection:()=>ga,Engine:()=>sc,EngineNotificationSubscription:()=>w,ErrorCode:()=>Ts.j,GenerateLocalEngineSessionToken:()=>ic,Graph:()=>Fa,Graphs:()=>Ba,MateriaClientSDKError:()=>nc.u,Node:()=>Na,ObjectStub:()=>$s,SDKNotificationSubscription:()=>z,subscribeToNotification:()=>H,undefinedHeader:()=>oc,unsubscribeFromNotification:()=>V,version:()=>ac});var r={};n.r(r),n.d(r,{describeLogStreams:()=>Es,getLogEvents:()=>As,init:()=>Ss,initAWSConfigAsync:()=>bs,log:()=>Cs,setHeaders:()=>xs});var i=n(2613),o=n(1068),s=n.n(o),a=n(9348),c=n(530),u=n(6849),l=n(6250),h=n(7647),d=n(1010),f=n(891),p=n(3109),m=n.n(p),g=n(3289),v=n(9340),y=n.n(v),b=function(){function e(t,n,r){if((0,c.Z)(this,e),this._id=t,!r||"function"!=typeof r){var i={subscriptionFunction:r};return g.j("Provided subscription function is undefined or is not a function.",30202,i)}if(!t||""===t){var o={subscriptionFunction:r};return g.j("Provided subscription ID is undefined.",30203,o)}if(!n||""===n){var s={notificationName:n};return g.j("Provided notification name for the subscription is undefined.",30204,s)}this._notificationName=n,this._subscriptionFunction=r}var t;return(0,u.Z)(e,[{key:"destructor",value:function(){this._notificationName=void 0,this._subscriptionFunction=void 0}},{key:"toStringObject",value:function(){return{id:this.id,name:this.notificationName}}},{key:"toJSON",value:function(){return this.toStringObject()}},{key:"toString",value:function(){var e=this.toStringObject();return y()(e,null,2)}},{key:"id",get:function(){return this._id}},{key:"notificationName",get:function(){return this._notificationName}},{key:"subscriptionFunction",get:function(){return this._subscriptionFunction}},{key:"unsubscribe",value:(t=(0,a.Z)(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("unsubscribe is to be implemented!");case 1:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})}]),e}(),w=function(e){(0,h.Z)(o,e);var t,n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!s())return!1;if(s().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(s()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=(0,f.Z)(n);if(r){var i=(0,f.Z)(this).constructor;e=s()(t,arguments,i)}else e=t.apply(this,arguments);return(0,d.Z)(this,e)});function o(e,t,n,r,s){var a;return(0,c.Z)(this,o),(a=i.call(this,t,n,r))._serviceMessenger=e,a._subscriptionCenter=s,a}return(0,u.Z)(o,[{key:"destructor",value:function(){(0,l.Z)((0,f.Z)(o.prototype),"destructor",this).call(this),this._serviceMessenger=void 0,this._subscriptionCenter=void 0}},{key:"unsubscribe",value:(t=(0,a.Z)(m().mark((function e(){var t,n,r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=void 0,e.prev=1,t=this._subscriptionCenter.removeNotificationSubscription(this),e.next=11;break;case 5:throw e.prev=5,e.t0=e.catch(1),n="Exception unsubscribing notification '".concat(this.notificationName,"'."),r={exception:e.t0},g.j(n,30216,r).error;case 11:if(!t.error){e.next=13;break}throw t.error;case 13:return e.abrupt("return",t.result);case 14:case"end":return e.stop()}}),e,this,[[1,5]])}))),function(){return t.apply(this,arguments)})}]),o}(b),S=n(4586),_=n(1509),x=n(8580),C=n.n(x),E=(0,u.Z)((function e(t){var n=this;(0,c.Z)(this,e),(0,_.Z)(this,"verifyNotification",(function(e){var t;if(!n.__notificationNames)return{isValid:!1,errorMessage:"Internal error: Notifications are undefined, so notification '".concat(e,"' cannot be verified.")};var r="Notification '".concat(e,"' is unsupported. Please check reference for allowed notifications.");return{isValid:C()(t=n.__notificationNames).call(t,e),errorMessage:r}})),this.__notificationNames=t})),k=n(6902),A=n.n(k),N=n(8914),T=n.n(N),P=n(7766),O=n.n(P),I=(0,u.Z)((function e(t){var n=this;(0,c.Z)(this,e),(0,_.Z)(this,"onSubscriptionsChanged",(function(e){if(n.__notificationValidatorRef){var t=A()(e);T()(t).call(t,(function(e){var t,r=n.__notificationValidatorRef.verifyNotification(e);r.isValid||console.error(O()(t="NotificationCenter.onSubscriptionChanged - Invalid notification '".concat(e,"' due to verification error: ")).call(t,r.errorMessage))}))}n.__subscriptionsRef=e})),(0,_.Z)(this,"emitNotification",(function(e,t){var r,i=A()(n.__filters);if(C()(i).call(i,e)){var o=(0,n.__filters[e])(t);o&&(e=o.name,t=o.data)}if(n.__subscriptionsRef){if(n.__notificationValidatorRef){var s,a=n.__notificationValidatorRef.verifyNotification(e);if(!a.isValid)return void console.error(O()(s="NotificationCenter.emitNotification - Failed to emit invalid notification '".concat(e,"' due to verification error: ")).call(s,a.errorMessage))}n.__subscriptionsRef[e]&&0!==n.__subscriptionsRef[e].length&&T()(r=n.__subscriptionsRef[e]).call(r,(function(e){e.subscriptionFunction(t)}))}})),(0,_.Z)(this,"getCommandCounter",(function(){return n.__commandCounter++})),(0,_.Z)(this,"addNotificationFilter",(function(e,t){n.__filters[e]=t})),(0,_.Z)(this,"removeNotificationFilter",(function(e){delete n.__filters[e]})),this.__notificationValidatorRef=t,this.__commandCounter=0,this.__filters={}})),R=(0,u.Z)((function e(){var t=this;(0,c.Z)(this,e),(0,_.Z)(this,"_getCommandCounter",(function(){return t.__commandCounter++})),(0,_.Z)(this,"_notifyCommand",(function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,i={id:e,name:t,type:n};r&&(i.data=r),M.emitNotification("log.sdk.commands",i)})),(0,_.Z)(this,"notifyCommandRequest",(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=t._getCommandCounter();return t._notifyCommand(r,e,"request",n),r})),(0,_.Z)(this,"notifyCommandResponse",(function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;t._notifyCommand(n,e,"response",r)})),(0,_.Z)(this,"notifyCommandError",(function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;t._notifyCommand(n,e,"error",r)})),(0,_.Z)(this,"_notifyNotification",(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r={name:e,type:t};n&&(r.data=n),M.emitNotification("log.sdk.notifications",r)})),(0,_.Z)(this,"notifyNotificationResponse",(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;t._notifyNotification(e,"response",n)})),(0,_.Z)(this,"notifyNotificationError",(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;t._notifyNotification(e,"error",n)})),this.__commandCounter=0})),L=new E(["log.sdk","log.sdk.commands","log.sdk.notifications"]),M=new I(L),D=new R,j=n(4473),F=n.n(j),B=n(2762),q=n.n(B),U=(0,u.Z)((function e(t,n){var r=this;(0,c.Z)(this,e),(0,_.Z)(this,"addNotificationSubscription",(function(e){if(!e){var t={subscription:e};return g.j("Provided subscription is undefined.",30194,t)}var n,i=e.notificationName,o=r.__notificationValidatorRef.verifyNotification(i);if(!o.isValid){var s={handler:r,subscription:e};return g.j(o.errorMessage,30116,s)}if(r.__subscriptions[i]){if(F()(n=r.__subscriptions[i]).call(n,(function(t){return t.id===e.id}))){var a="Specific subscription for notification ".concat(i," already added, thus not adding again."),c={subscription:e};return g.j(a,30195,c)}}else r.__subscriptions[i]=[];return r.__subscriptions[i].push(e),r.__notificationCenterRef.onSubscriptionsChanged(r.__subscriptions),g.x(!0)})),(0,_.Z)(this,"removeNotificationSubscription",(function(e){var t,n;if(!e){var i={subscription:e};return g.j("Provided subscription is undefined.",30196,i)}if(!r.__subscriptions){var o={subscription:e};return g.j("No subscriptions to remove.",30197,o)}if(!r.__subscriptions[e.notificationName]){var s="No subscriptions for notification ".concat(e.notificationName,", so cannot remove it."),a={subscription:e};return g.j(s,30198,a)}var c=-1,u=F()(t=r.__subscriptions[e.notificationName]).call(t,(function(t,n){return t.id===e.id&&(c=n,!0)}));if(!u){var l="Specific subscription for notification ".concat(e.notificationName," not found, so cannot remove it."),h={subscription:e};return g.j(l,30199,h)}return q()(n=r.__subscriptions[e.notificationName]).call(n,c,1),r.__notificationCenterRef.onSubscriptionsChanged(r.__subscriptions),g.x(u)})),this.__notificationCenterRef=t,this.__notificationValidatorRef=n,this.__subscriptions={}})),z=function(e){(0,h.Z)(o,e);var t,n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!s())return!1;if(s().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(s()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=(0,f.Z)(n);if(r){var i=(0,f.Z)(this).constructor;e=s()(t,arguments,i)}else e=t.apply(this,arguments);return(0,d.Z)(this,e)});function o(e,t,n,r){var s;return(0,c.Z)(this,o),(s=i.call(this,e,t,n))._subscriptionCenter=r,s}return(0,u.Z)(o,[{key:"destructor",value:function(){(0,l.Z)((0,f.Z)(o.prototype),"destructor",this).call(this),this._subscriptionCenter=void 0}},{key:"unsubscribe",value:(t=(0,a.Z)(m().mark((function e(){var t,n,r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=void 0,e.prev=1,t=this._subscriptionCenter.removeNotificationSubscription(this),e.next=11;break;case 5:throw e.prev=5,e.t0=e.catch(1),n="Exception unsubscribing notification '".concat(this.notificationName,"'."),r={exception:e.t0},g.j(n,30205,r).error;case 11:if(!t.error){e.next=13;break}throw t.error;case 13:return e.abrupt("return",t.result);case 14:case"end":return e.stop()}}),e,this,[[1,5]])}))),function(){return t.apply(this,arguments)})}]),o}(b),$=new U(M,L);function H(e,t){return G.apply(this,arguments)}function G(){return(G=(0,a.Z)(m().mark((function e(t,n){var r,i,o,s,a,c,u,l;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=void 0,i=void 0,e.prev=2,o=(0,S.Z)(),i=new z(o,t,n,$),e.next=7,$.addNotificationSubscription(i);case 7:r=e.sent,e.next=16;break;case 10:return e.prev=10,e.t0=e.catch(2),s="Exception subscribing to notification '".concat(t,"'."),a={exception:e.t0,notificationName:t},c=g.j(s,30212,a),e.abrupt("return",c.error);case 16:if(!r.error){e.next=18;break}throw r.error;case 18:if(!0===r.result){e.next=23;break}throw u="Internal error subscribing to notification '".concat(t,"'. Should have received an error response or 'true' response."),l={notificationName:t,subscription:i},g.j(u,30213,l).error;case 23:return e.abrupt("return",i);case 24:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}function V(e){return W.apply(this,arguments)}function W(){return(W=(0,a.Z)(m().mark((function e(t){var n,r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.unsubscribe();case 3:return n=e.sent,e.abrupt("return",n);case 7:throw e.prev=7,e.t0=e.catch(0),r={exception:e.t0,subscription:t},g.j("Exception unsubscribing from notification.",30214,r).error;case 13:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var K=n(7384),Z=n(1128),Y=n.n(Z),J=n(116),Q=n.n(J),X=n(1942),ee=n.n(X),te=n(9969),ne=n.n(te),re=n(875),ie=n.n(re),oe=n(3054),se=n.n(oe),ae=function(){function e(t){(0,c.Z)(this,e),this._messageWorker=t}var t,n;return(0,u.Z)(e,[{key:"destructor",value:function(){this._messageWorker=void 0}},{key:"connect",value:(n=(0,a.Z)(m().mark((function e(){var t,n,r,i,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._messageWorker){e.next=5;break}return t={worker:this._messageWorker,channel:this},n=g.j("Message worker invalid for channel.",30107,t),e.abrupt("return",n);case 5:return e.prev=5,e.next=8,this._messageWorker.connect();case 8:return e.abrupt("return",e.sent);case 11:return e.prev=11,e.t0=e.catch(5),r="Exception connecting to channel message worker: ".concat(e.t0),i={exception:e.t0,worker:this._messageWorker,channel:this},o=g.j(r,30108,i),e.abrupt("return",o);case 17:case"end":return e.stop()}}),e,this,[[5,11]])}))),function(){return n.apply(this,arguments)})},{key:"disconnect",value:(t=(0,a.Z)(m().mark((function e(){var t,n,r,i,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._messageWorker){e.next=5;break}return t={worker:this._messageWorker,channel:this},n=g.j("Message worker invalid for channel.",30109,t),e.abrupt("return",n);case 5:return e.prev=5,e.next=8,this._messageWorker.disconnect();case 8:return e.abrupt("return",e.sent);case 11:return e.prev=11,e.t0=e.catch(5),r="Exception disconnecting from channel message worker: ".concat(e.t0),i={exception:e.t0,worker:this._messageWorker,channel:this},o=g.j(r,30110,i),e.abrupt("return",o);case 17:case"end":return e.stop()}}),e,this,[[5,11]])}))),function(){return t.apply(this,arguments)})},{key:"setConnectListener",value:function(e){this._messageWorker.setConnectListener(e)}},{key:"isConnected",get:function(){return!!this._messageWorker&&this._messageWorker.isConnected}},{key:"isDisconnected",get:function(){return!this._messageWorker||this._messageWorker.isDisconnected}},{key:"isBusyConnection",get:function(){return!!this._messageWorker&&this._messageWorker.isBusyConnection}},{key:"toStringObject",value:function(){return{isConnected:this.isConnected,isDisconnected:this.isDisconnected,isBusyConnection:this.isBusyConnection}}}]),e}(),ce=null;(ce=i.Gr()?n(4390):n(723)).default&&(ce=ce.default);const ue=ce;var le=n(81),he=function(){function e(){(0,c.Z)(this,e),(0,_.Z)(this,"pack",(function(e,t){})),(0,_.Z)(this,"unpack",(function(e,t){}))}return(0,u.Z)(e,[{key:"destructor",value:function(){}}]),e}(),de=function(e){(0,h.Z)(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!s())return!1;if(s().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(s()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,f.Z)(t);if(n){var i=(0,f.Z)(this).constructor;e=s()(r,arguments,i)}else e=r.apply(this,arguments);return(0,d.Z)(this,e)});function o(){var e;return(0,c.Z)(this,o),e=r.call(this),(0,_.Z)((0,le.Z)(e),"pack",(function(e,t){var n=(0,S.Z)(),r={from:"html",to:"engine",jsonrpc:"2.0",id:n},i=ee()({},r,e);t({messageID:n,content:y()(i),method:e.method})})),(0,_.Z)((0,le.Z)(e),"unpack",(function(e,t){try{t(JSON.parse(e.data))}catch(r){var n="parse data: "+e.data+" failed for JSONRPC "+r;i.ji(n,"error"),t(null,n)}})),e}return(0,u.Z)(o)}(he),fe=(0,u.Z)((function e(){(0,c.Z)(this,e),(0,_.Z)(this,"handle",(function(e){throw"AbstractHandler:handle(response) needs to be implemented in concrete classes"}))})),pe=function(e){(0,h.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!s())return!1;if(s().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(s()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,f.Z)(t);if(n){var i=(0,f.Z)(this).constructor;e=s()(r,arguments,i)}else e=r.apply(this,arguments);return(0,d.Z)(this,e)});function i(e){var t;return(0,c.Z)(this,i),t=r.call(this),(0,_.Z)((0,le.Z)(t),"handle",(function(e,n){n?n(e.result,e.error):t._defaultMessageCallback&&t._defaultMessageCallback(e.result,e.error)})),t._defaultMessageCallback=e,t}return(0,u.Z)(i)}(fe),me=n(1581),ge=n.n(me),ve=n(4310),ye=n.n(ve),be=n(4074),we=n.n(be),Se=n(9649),_e=n.n(Se),xe=n(368),Ce=n.n(xe),Ee=n(3978),ke=n.n(Ee),Ae=n(3649),Ne=n.n(Ae),Te=n(6419),Pe=n.n(Te),Oe=n(5420),Ie=n.n(Oe),Re=n(9996),Le=n.n(Re),Me=n(1511),De=n.n(Me),je=n(6474),Fe=n.n(je),Be=n(3032),qe=n.n(Be),Ue=S.Z,ze={batch:{maxStreamSize:204800,maxEvents:5},upload:{maxInterval:2e4,minRetryInterval:200},maxTimesOfRetryToCreateStreamRemotely:3};Fe()(ze);var $e={HoldOn:0,FailedToCreateStream:1,FailedToPutLogs:2,LogsExpired:3,Success:4};Fe()($e);var He={Idle:0,Filling:1,Uploading:2,Archived:3,Discarded:4};Fe()(He);var Ge,Ve=function(){function e(t,n,r){var i,o=this;if((0,c.Z)(this,e),(0,_.Z)(this,"addListener",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,t=arguments.length>1?arguments[1]:void 0;o._eventCallbacks[e]||(o._eventCallbacks[e]={});var n=Ue();return o._eventCallbacks[e][n]=t,n})),(0,_.Z)(this,"removeListener",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,t=arguments.length>1?arguments[1]:void 0;return!(!o._eventCallbacks||!o._eventCallbacks[e]||o._eventCallbacks[e][t]||(delete o._eventCallbacks[e][t],0))})),(0,_.Z)(this,"startFilling",(function(){o._setState(He.Filling)})),(0,_.Z)(this,"upload",(function(){if(0===o._events.length)return!1;if(o._state===He.Uploading)return!1;if(o._setState(He.Uploading),o._createdRemotelyIndicator>=0){var e={logGroupName:o._groupName,logStreamName:o._streamName};o._cloudWatchLogger.createLogStream(e,(function(e,t){e?(++o._createdRemotelyIndicator,o._createdRemotelyIndicator>ze.maxTimesOfRetryToCreateStreamRemotely?o._onUploadFinished($e.FailedToCreateStream,{error:e}):(o._onUploadFinished($e.HoldOn,{error:e}),console.warn("Failed to create log stream "+e+", we will give another try."))):(o._createdRemotelyIndicator=-1,o._doUpload())}))}else o._doUpload();return!0})),(0,_.Z)(this,"tryToUpload",(function(){o._needToUpload()&&o.upload()})),(0,_.Z)(this,"isReusable",(function(){return o._state===He.Idle})),(0,_.Z)(this,"addLogEvent",(function(e,t){if(o._state!==He.Filling)return!1;("number"!=typeof t||t<=0)&&(t=We(e));var n=o._sizeInBytesOfLocalEvents+t;return n>=ze.batch.maxStreamSize?(o._setState(He.Archived),!1):(0===o._events.length&&(o._firstEventTime=e.timestamp),o._events.push(e),o._sizeInBytesOfLocalEvents=n,!0)})),(0,_.Z)(this,"_needToUpload",(function(){return 0!==o._events.length&&(o._state===He.Archived||o._state!==He.Uploading&&o._state!==He.Discarded&&(o._events.length>ze.batch.maxEvents||o._sizeInBytesOfLocalEvents>ze.batch.maxStreamSize||Y()()-o._firstEventTime>ze.upload.maxInterval))})),(0,_.Z)(this,"_doUpload",(function(){var e={logEvents:o._events,logStreamName:o._streamName,logGroupName:o._groupName};o._nextUploadSequenceToken&&(e.sequenceToken=o._nextUploadSequenceToken),o._doPutLogEvents(e,(function(t,n){if(t){var r,i,s,a,c=new Date(e.logEvents[0].timestamp).toISOString(),u=new Date(e.logEvents[e.logEvents.length-1].timestamp).toISOString();return console.error(O()(r=O()(i=O()(s=O()(a="Failed to log events in stream ".concat(o._streamName," because of ")).call(a,y()(t),", which may affect ")).call(s,e.logEvents.length," logs between ")).call(i,c," and ")).call(r,u,". We will give another try.")),void o._onUploadFinished($e.FailedToPutLogs,{error:t})}if(n){var l,h=!1,d=0,f=e.logEvents.length,p=0;n.tooNewLogEventStartIndex&&(d=Math.max(0,d),f=Math.min(f,n.tooNewLogEventStartIndex)),n.tooOldLogEventEndIndex&&(h=!0,d=Math.max(d,n.tooOldLogEventEndIndex),f=Math.min(f,e.logEvents.length)),n.expiredLogEventEndIndex&&(h=!0,d=Math.max(d,n.expiredLogEventEndIndex),f=Math.min(f,e.logEvents.length)),d<f&&q()(l=e.logEvents).call(l,d,f-d);for(var m=0;m<e.logEvents.length;++m)p+=We(e.logEvents[m]);return o._sizeInBytesOfLocalEvents=p,o._events=e.logEvents,void(h?o._onUploadFinished($e.LogsExpired):o._onUploadFinished($e.Success))}o._events.length=0,o._sizeInBytesOfLocalEvents=0,o._onUploadFinished($e.Success)}))})),(0,_.Z)(this,"_setState",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He.Idle;o._state=e})),(0,_.Z)(this,"_onUploadFinished",(function(){switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e.Success){case $e.HoldOn:o._setState(He.Archived);break;case $e.FailedToCreateStream:case $e.FailedToPutLogs:if(o._eventCallbacks&&o._eventCallbacks[0])for(var e in o._eventCallbacks[0])o._eventCallbacks[0][e](o._events);o._events=[],o._sizeInBytesOfLocalEvents=0,o._setState(He.Discarded);break;case $e.LogsExpired:if(o._eventCallbacks&&o._eventCallbacks[1])for(var t in o._eventCallbacks[1])o._eventCallbacks[1][t](o._events);o._events=[],o._sizeInBytesOfLocalEvents=0,o._setState(He.Idle);break;case $e.Success:o._setState(He.Idle)}})),(0,_.Z)(this,"_doPutLogEvents",(function(e,t){o._cloudWatchLogger.putLogEvents(e,(function(n,r){if(n)if("retryable"in n&&n.retryable){var i=n.retryDelay||ze.upload.minRetryInterval;qe()((function(){o._doPutLogEvents(e,t)}),i)}else"InvalidSequenceTokenException"===n.code?o._requestSequenceToken(e.logGroupName,e.logStreamName).then((function(n){o._nextUploadSequenceToken=n,e.sequenceToken=n,o._doPutLogEvents(e,t)}),(function(e){"function"==typeof t&&t(e,null)})):"DataAlreadyAcceptedException"===n.code?"function"==typeof t&&t(null,null):"function"==typeof t&&t(n,null);else{if(o._nextUploadSequenceToken=r.nextSequenceToken,r.rejectedLogEventsInfo&&"function"==typeof t){var s={};return ee()(s,r.rejectedLogEventsInfo),void t(null,s)}"function"==typeof t&&t(null,null)}}))})),this._cloudWatchLogger=t,this._groupName=n,this._streamName=r,!this._groupName||!this._streamName)throw new Error(O()(i="Failed to construct a log stream because the group name '".concat(this._groupName,"' or the stream name '")).call(i,this._streamName,"' is invalid "));this._eventCallbacks={},this._createdRemotelyIndicator=0,this._events=[],this._sizeInBytesOfLocalEvents=0,this._firstEventTime=0,this._setState(He.Idle)}var t;return(0,u.Z)(e,[{key:"_requestSequenceToken",value:(t=(0,a.Z)(m().mark((function e(t,n){var r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ze(this._cloudWatchLogger,t,n,this._nextTokenForDescription,1);case 2:if(!(r=e.sent)){e.next=7;break}if(this._nextTokenForDescription=r.nextToken,!(r.logStreams&&r.logStreams.length>0&&r.logStreams[0].logStreamName===n)){e.next=7;break}return e.abrupt("return",r.logStreams[0].uploadSequenceToken);case 7:throw"No valid response from describeLogStreams ".concat(y()(r));case 8:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})}]),e}(),We=function(e){if(!e)return 0;var t="";for(var n in e)t+=n+e[n];return i.TC(t)},Ke=function(e){return e>ze.batch.maxStreamSize},Ze=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"LogStreamName";return new(ie())((function(s,a){if(t&&n){var c={logGroupName:t,descending:!0,limit:i||1,logStreamNamePrefix:n,orderBy:o};r&&(c.nextToken=r),e.describeLogStreams(c,(function(e,t){if(e){var r,i=O()(r="Failed to describe log stream ".concat(n," because of ")).call(r,y()(e));a(i)}else s(t)}))}else{var u,l=O()(u="Invalid stream name ".concat(n," or group name ")).call(u,t," for describing log streams.");a(l)}}))},Ye=n(655),Je=n(8638),Qe=n(7085),Xe=n(6848),et=n(2831),tt=n(4763),nt=n(9300),rt=n(6835),it=n(261),ot=n(7643),st=n(6582),at=n(871),ct=n(6003),ut=n(6524),lt=n(7915),ht=n(2084),dt=n(6795),ft={"us-east-1":{variants:[{hostname:"logs-fips.us-east-1.amazonaws.com",tags:["fips"]}]},"us-east-2":{variants:[{hostname:"logs-fips.us-east-2.amazonaws.com",tags:["fips"]}]},"us-gov-east-1":{variants:[{hostname:"logs.us-gov-east-1.amazonaws.com",tags:["fips"]}]},"us-gov-west-1":{variants:[{hostname:"logs.us-gov-west-1.amazonaws.com",tags:["fips"]}]},"us-west-1":{variants:[{hostname:"logs-fips.us-west-1.amazonaws.com",tags:["fips"]}]},"us-west-2":{variants:[{hostname:"logs-fips.us-west-2.amazonaws.com",tags:["fips"]}]}},pt={aws:{regions:["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-northeast-3","ap-south-1","ap-southeast-1","ap-southeast-2","ap-southeast-3","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","fips-us-east-1","fips-us-east-2","fips-us-west-1","fips-us-west-2","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"],regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",variants:[{hostname:"logs.{region}.amazonaws.com",tags:[]},{hostname:"logs-fips.{region}.amazonaws.com",tags:["fips"]},{hostname:"logs-fips.{region}.api.aws",tags:["dualstack","fips"]},{hostname:"logs.{region}.api.aws",tags:["dualstack"]}]},"aws-cn":{regions:["cn-north-1","cn-northwest-1"],regionRegex:"^cn\\-\\w+\\-\\d+$",variants:[{hostname:"logs.{region}.amazonaws.com.cn",tags:[]},{hostname:"logs-fips.{region}.amazonaws.com.cn",tags:["fips"]},{hostname:"logs-fips.{region}.api.amazonwebservices.com.cn",tags:["dualstack","fips"]},{hostname:"logs.{region}.api.amazonwebservices.com.cn",tags:["dualstack"]}]},"aws-iso":{regions:["us-iso-east-1","us-iso-west-1"],regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",variants:[{hostname:"logs.{region}.c2s.ic.gov",tags:[]},{hostname:"logs-fips.{region}.c2s.ic.gov",tags:["fips"]}]},"aws-iso-b":{regions:["us-isob-east-1"],regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",variants:[{hostname:"logs.{region}.sc2s.sgov.gov",tags:[]},{hostname:"logs-fips.{region}.sc2s.sgov.gov",tags:["fips"]}]},"aws-us-gov":{regions:["fips-us-gov-east-1","fips-us-gov-west-1","us-gov-east-1","us-gov-west-1"],regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",variants:[{hostname:"logs.{region}.amazonaws.com",tags:[]},{hostname:"logs-fips.{region}.amazonaws.com",tags:["fips"]},{hostname:"logs-fips.{region}.api.aws",tags:["dualstack","fips"]},{hostname:"logs.{region}.api.aws",tags:["dualstack"]}]}},mt=function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){return(0,Ye.Jh)(this,(function(n){return[2,(0,Je.iF)(e,(0,Ye.pi)((0,Ye.pi)({},t),{signingService:"logs",regionHash:ft,partitionHash:pt}))]}))}))},gt=n(2971),vt=function(e){function t(t){var n,r,i,o,s,a,c,u,l,h,d,f,p,m,g,v,y,b,w,S=this,_=(n=t,y=(0,gt.j)(n),b=function(){return y().then(it.jv)},w=function(e){var t,n,r,i,o;return{apiVersion:"2014-03-28",disableHostPrefix:null!==(t=null==e?void 0:e.disableHostPrefix)&&void 0!==t&&t,logger:null!==(n=null==e?void 0:e.logger)&&void 0!==n?n:{},regionInfoProvider:null!==(r=null==e?void 0:e.regionInfoProvider)&&void 0!==r?r:mt,serviceId:null!==(i=null==e?void 0:e.serviceId)&&void 0!==i?i:"CloudWatch Logs",urlParser:null!==(o=null==e?void 0:e.urlParser)&&void 0!==o?o:dt.e}}(n),(0,Ye.pi)((0,Ye.pi)((0,Ye.pi)({},w),n),{runtime:"browser",defaultsMode:y,base64Decoder:null!==(r=null==n?void 0:n.base64Decoder)&&void 0!==r?r:ct.G,base64Encoder:null!==(i=null==n?void 0:n.base64Encoder)&&void 0!==i?i:ct.s,bodyLengthChecker:null!==(o=null==n?void 0:n.bodyLengthChecker)&&void 0!==o?o:ut.W,credentialDefaultProvider:null!==(s=null==n?void 0:n.credentialDefaultProvider)&&void 0!==s?s:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:null!==(a=null==n?void 0:n.defaultUserAgentProvider)&&void 0!==a?a:(0,lt.f)({serviceId:w.serviceId,clientVersion:"3.85.0"}),maxAttempts:null!==(c=null==n?void 0:n.maxAttempts)&&void 0!==c?c:tt.J,region:null!==(u=null==n?void 0:n.region)&&void 0!==u?u:(0,at.n)("Region is missing"),requestHandler:null!==(l=null==n?void 0:n.requestHandler)&&void 0!==l?l:new st.B(b),retryMode:null!==(h=null==n?void 0:n.retryMode)&&void 0!==h?h:function(){return(0,Ye.mG)(void 0,void 0,void 0,(function(){return(0,Ye.Jh)(this,(function(e){switch(e.label){case 0:return[4,b()];case 1:return[2,e.sent().retryMode||tt.CA]}}))}))},sha256:null!==(d=null==n?void 0:n.sha256)&&void 0!==d?d:ot.Sha256,streamCollector:null!==(f=null==n?void 0:n.streamCollector)&&void 0!==f?f:st.C,useDualstackEndpoint:null!==(p=null==n?void 0:n.useDualstackEndpoint)&&void 0!==p?p:function(){return Promise.resolve(Je.JY)},useFipsEndpoint:null!==(m=null==n?void 0:n.useFipsEndpoint)&&void 0!==m?m:function(){return Promise.resolve(Je.Fh)},utf8Decoder:null!==(g=null==n?void 0:n.utf8Decoder)&&void 0!==g?g:ht.fromUtf8,utf8Encoder:null!==(v=null==n?void 0:n.utf8Encoder)&&void 0!==v?v:ht.toUtf8})),x=(0,Je.Xb)(_),C=(0,Je.g4)(x),E=(0,tt.BC)(C),k=(0,Xe.S8)(E),A=(0,nt.A$)(k),N=(0,rt.er)(A);return(S=e.call(this,N)||this).config=N,S.middlewareStack.use((0,tt.NQ)(S.config)),S.middlewareStack.use((0,Qe.VG)(S.config)),S.middlewareStack.use((0,Xe.G2)(S.config)),S.middlewareStack.use((0,et.cV)(S.config)),S.middlewareStack.use((0,nt.yt)(S.config)),S.middlewareStack.use((0,rt.XJ)(S.config)),S}return(0,Ye.ZT)(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(it.KU),yt=n(8493),bt=function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return(0,Ye.ZT)(t,e),t}(it.sI);!function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(Ge||(Ge={}));var wt,St=function(e){function t(n){var r=e.call(this,(0,Ye.pi)({name:"InvalidParameterException",$fault:"client"},n))||this;return r.name="InvalidParameterException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r}return(0,Ye.ZT)(t,e),t}(bt),_t=function(e){function t(n){var r=e.call(this,(0,Ye.pi)({name:"OperationAbortedException",$fault:"client"},n))||this;return r.name="OperationAbortedException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r}return(0,Ye.ZT)(t,e),t}(bt),xt=function(e){function t(n){var r=e.call(this,(0,Ye.pi)({name:"ResourceNotFoundException",$fault:"client"},n))||this;return r.name="ResourceNotFoundException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r}return(0,Ye.ZT)(t,e),t}(bt),Ct=function(e){function t(n){var r=e.call(this,(0,Ye.pi)({name:"ServiceUnavailableException",$fault:"server"},n))||this;return r.name="ServiceUnavailableException",r.$fault="server",Object.setPrototypeOf(r,t.prototype),r}return(0,Ye.ZT)(t,e),t}(bt);!function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(wt||(wt={}));var Et,kt,At=function(e){function t(n){var r=e.call(this,(0,Ye.pi)({name:"InvalidOperationException",$fault:"client"},n))||this;return r.name="InvalidOperationException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r}return(0,Ye.ZT)(t,e),t}(bt);!function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(Et||(Et={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(kt||(kt={}));var Nt,Tt,Pt=function(e){function t(n){var r=e.call(this,(0,Ye.pi)({name:"LimitExceededException",$fault:"client"},n))||this;return r.name="LimitExceededException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r}return(0,Ye.ZT)(t,e),t}(bt),Ot=function(e){function t(n){var r=e.call(this,(0,Ye.pi)({name:"ResourceAlreadyExistsException",$fault:"client"},n))||this;return r.name="ResourceAlreadyExistsException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r}return(0,Ye.ZT)(t,e),t}(bt);!function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(Nt||(Nt={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(Tt||(Tt={}));var It,Rt,Lt,Mt,Dt,jt,Ft,Bt,qt,Ut,zt,$t,Ht,Gt,Vt,Wt,Kt,Zt,Yt,Jt,Qt,Xt,en,tn,nn,rn,on,sn,an,cn,un,ln,hn,dn,fn,pn,mn,gn,vn,yn,bn,wn,Sn,_n,xn,Cn,En,kn,An,Nn,Tn,Pn,On,In,Rn,Ln,Mn,Dn,jn,Fn,Bn,qn,Un=function(e){function t(n){var r=e.call(this,(0,Ye.pi)({name:"DataAlreadyAcceptedException",$fault:"client"},n))||this;return r.name="DataAlreadyAcceptedException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r.expectedSequenceToken=n.expectedSequenceToken,r}return(0,Ye.ZT)(t,e),t}(bt);!function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(It||(It={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(Rt||(Rt={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(Lt||(Lt={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(Mt||(Mt={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(Dt||(Dt={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(jt||(jt={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(Ft||(Ft={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(Bt||(Bt={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(qt||(qt={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(Ut||(Ut={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(zt||(zt={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}($t||($t={})),function(e){e.CANCELLED="CANCELLED",e.COMPLETED="COMPLETED",e.FAILED="FAILED",e.PENDING="PENDING",e.PENDING_CANCEL="PENDING_CANCEL",e.RUNNING="RUNNING"}(Ht||(Ht={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(Gt||(Gt={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(Vt||(Vt={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(Wt||(Wt={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(Kt||(Kt={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(Zt||(Zt={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(Yt||(Yt={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(Jt||(Jt={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(Qt||(Qt={})),function(e){e.LastEventTime="LastEventTime",e.LogStreamName="LogStreamName"}(Xt||(Xt={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(en||(en={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(tn||(tn={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(nn||(nn={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(rn||(rn={})),function(e){e.Bits="Bits",e.BitsSecond="Bits/Second",e.Bytes="Bytes",e.BytesSecond="Bytes/Second",e.Count="Count",e.CountSecond="Count/Second",e.Gigabits="Gigabits",e.GigabitsSecond="Gigabits/Second",e.Gigabytes="Gigabytes",e.GigabytesSecond="Gigabytes/Second",e.Kilobits="Kilobits",e.KilobitsSecond="Kilobits/Second",e.Kilobytes="Kilobytes",e.KilobytesSecond="Kilobytes/Second",e.Megabits="Megabits",e.MegabitsSecond="Megabits/Second",e.Megabytes="Megabytes",e.MegabytesSecond="Megabytes/Second",e.Microseconds="Microseconds",e.Milliseconds="Milliseconds",e.None="None",e.Percent="Percent",e.Seconds="Seconds",e.Terabits="Terabits",e.TerabitsSecond="Terabits/Second",e.Terabytes="Terabytes",e.TerabytesSecond="Terabytes/Second"}(on||(on={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(sn||(sn={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(an||(an={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(cn||(cn={})),function(e){e.Cancelled="Cancelled",e.Complete="Complete",e.Failed="Failed",e.Running="Running",e.Scheduled="Scheduled",e.Timeout="Timeout",e.Unknown="Unknown"}(un||(un={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(ln||(ln={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(hn||(hn={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(dn||(dn={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(fn||(fn={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(pn||(pn={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(mn||(mn={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(gn||(gn={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(vn||(vn={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(yn||(yn={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(bn||(bn={})),function(e){e.ByLogStream="ByLogStream",e.Random="Random"}(wn||(wn={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(Sn||(Sn={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(_n||(_n={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(xn||(xn={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(Cn||(Cn={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(En||(En={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(kn||(kn={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(An||(An={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(Nn||(Nn={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(Tn||(Tn={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(Pn||(Pn={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(On||(On={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(In||(In={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(Rn||(Rn={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(Ln||(Ln={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(Mn||(Mn={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(Dn||(Dn={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(jn||(jn={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(Fn||(Fn={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(Bn||(Bn={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(qn||(qn={}));var zn,$n,Hn,Gn,Vn,Wn,Kn,Zn,Yn=function(e){function t(n){var r=e.call(this,(0,Ye.pi)({name:"InvalidSequenceTokenException",$fault:"client"},n))||this;return r.name="InvalidSequenceTokenException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r.expectedSequenceToken=n.expectedSequenceToken,r}return(0,Ye.ZT)(t,e),t}(bt);!function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(zn||(zn={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}($n||($n={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(Hn||(Hn={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(Gn||(Gn={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(Vn||(Vn={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(Wn||(Wn={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(Kn||(Kn={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(Zn||(Zn={}));var Jn,Qn,Xn,er,tr,nr,rr,ir,or,sr=function(e){function t(n){var r=e.call(this,(0,Ye.pi)({name:"UnrecognizedClientException",$fault:"client"},n))||this;return r.name="UnrecognizedClientException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r}return(0,Ye.ZT)(t,e),t}(bt);!function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(Jn||(Jn={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(Qn||(Qn={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(Xn||(Xn={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(er||(er={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(tr||(tr={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(nr||(nr={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(rr||(rr={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(ir||(ir={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(or||(or={}));var ar,cr,ur,lr,hr,dr,fr,pr,mr,gr=function(e){function t(n){var r=e.call(this,(0,Ye.pi)({name:"MalformedQueryException",$fault:"client"},n))||this;return r.name="MalformedQueryException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r.queryCompileError=n.queryCompileError,r}return(0,Ye.ZT)(t,e),t}(bt);!function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(ar||(ar={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(cr||(cr={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(ur||(ur={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(lr||(lr={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(hr||(hr={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(dr||(dr={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(fr||(fr={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(pr||(pr={})),function(e){e.filterSensitiveLog=function(e){return(0,Ye.pi)({},e)}}(mr||(mr={}));var vr=n(8745),yr=function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i,o,s,a;return(0,Ye.Jh)(this,(function(c){switch(c.label){case 0:return r=[(0,Ye.pi)({},e)],a={},[4,vo(e.body,t)];case 1:switch(n=Ye.pi.apply(void 0,r.concat([(a.body=c.sent(),a)])),o="UnknownError",o=yo(e,n.body)){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"OperationAbortedException":case"com.amazonaws.cloudwatchlogs#OperationAbortedException":return[3,4];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,8]}return[3,10];case 2:return[4,ci(n,t)];case 3:case 5:case 7:case 9:throw c.sent();case 4:return[4,di(n,t)];case 6:return[4,pi(n,t)];case 8:return[4,mi(n,t)];case 10:throw s=n.body,i=new bt({name:s.code||s.Code||o,$fault:"client",$metadata:po(e)}),(0,it.to)(i,s)}}))}))},br=function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i,o,s,a;return(0,Ye.Jh)(this,(function(c){switch(c.label){case 0:return r=[(0,Ye.pi)({},e)],a={},[4,vo(e.body,t)];case 1:switch(n=Ye.pi.apply(void 0,r.concat([(a.body=c.sent(),a)])),o="UnknownError",o=yo(e,n.body)){case"InvalidOperationException":case"com.amazonaws.cloudwatchlogs#InvalidOperationException":return[3,2];case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,4];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,8]}return[3,10];case 2:return[4,ai(n,t)];case 3:case 5:case 7:case 9:throw c.sent();case 4:return[4,ci(n,t)];case 6:return[4,pi(n,t)];case 8:return[4,mi(n,t)];case 10:throw s=n.body,i=new bt({name:s.code||s.Code||o,$fault:"client",$metadata:po(e)}),(0,it.to)(i,s)}}))}))},wr=function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i,o,s,a;return(0,Ye.Jh)(this,(function(c){switch(c.label){case 0:return r=[(0,Ye.pi)({},e)],a={},[4,vo(e.body,t)];case 1:switch(n=Ye.pi.apply(void 0,r.concat([(a.body=c.sent(),a)])),o="UnknownError",o=yo(e,n.body)){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"LimitExceededException":case"com.amazonaws.cloudwatchlogs#LimitExceededException":return[3,4];case"OperationAbortedException":case"com.amazonaws.cloudwatchlogs#OperationAbortedException":return[3,6];case"ResourceAlreadyExistsException":case"com.amazonaws.cloudwatchlogs#ResourceAlreadyExistsException":return[3,8];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,10];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,12]}return[3,14];case 2:return[4,ci(n,t)];case 3:case 5:case 7:case 9:case 11:case 13:throw c.sent();case 4:return[4,li(n,t)];case 6:return[4,di(n,t)];case 8:return[4,fi(n,t)];case 10:return[4,pi(n,t)];case 12:return[4,mi(n,t)];case 14:throw s=n.body,i=new bt({name:s.code||s.Code||o,$fault:"client",$metadata:po(e)}),(0,it.to)(i,s)}}))}))},Sr=function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i,o,s,a;return(0,Ye.Jh)(this,(function(c){switch(c.label){case 0:return r=[(0,Ye.pi)({},e)],a={},[4,vo(e.body,t)];case 1:switch(n=Ye.pi.apply(void 0,r.concat([(a.body=c.sent(),a)])),o="UnknownError",o=yo(e,n.body)){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"LimitExceededException":case"com.amazonaws.cloudwatchlogs#LimitExceededException":return[3,4];case"OperationAbortedException":case"com.amazonaws.cloudwatchlogs#OperationAbortedException":return[3,6];case"ResourceAlreadyExistsException":case"com.amazonaws.cloudwatchlogs#ResourceAlreadyExistsException":return[3,8];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,10]}return[3,12];case 2:return[4,ci(n,t)];case 3:case 5:case 7:case 9:case 11:throw c.sent();case 4:return[4,li(n,t)];case 6:return[4,di(n,t)];case 8:return[4,fi(n,t)];case 10:return[4,mi(n,t)];case 12:throw s=n.body,i=new bt({name:s.code||s.Code||o,$fault:"client",$metadata:po(e)}),(0,it.to)(i,s)}}))}))},_r=function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i,o,s,a;return(0,Ye.Jh)(this,(function(c){switch(c.label){case 0:return r=[(0,Ye.pi)({},e)],a={},[4,vo(e.body,t)];case 1:switch(n=Ye.pi.apply(void 0,r.concat([(a.body=c.sent(),a)])),o="UnknownError",o=yo(e,n.body)){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"ResourceAlreadyExistsException":case"com.amazonaws.cloudwatchlogs#ResourceAlreadyExistsException":return[3,4];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,8]}return[3,10];case 2:return[4,ci(n,t)];case 3:case 5:case 7:case 9:throw c.sent();case 4:return[4,fi(n,t)];case 6:return[4,pi(n,t)];case 8:return[4,mi(n,t)];case 10:throw s=n.body,i=new bt({name:s.code||s.Code||o,$fault:"client",$metadata:po(e)}),(0,it.to)(i,s)}}))}))},xr=function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i,o,s,a;return(0,Ye.Jh)(this,(function(c){switch(c.label){case 0:return r=[(0,Ye.pi)({},e)],a={},[4,vo(e.body,t)];case 1:switch(n=Ye.pi.apply(void 0,r.concat([(a.body=c.sent(),a)])),o="UnknownError",o=yo(e,n.body)){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"OperationAbortedException":case"com.amazonaws.cloudwatchlogs#OperationAbortedException":return[3,4];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,8]}return[3,10];case 2:return[4,ci(n,t)];case 3:case 5:case 7:case 9:throw c.sent();case 4:return[4,di(n,t)];case 6:return[4,pi(n,t)];case 8:return[4,mi(n,t)];case 10:throw s=n.body,i=new bt({name:s.code||s.Code||o,$fault:"client",$metadata:po(e)}),(0,it.to)(i,s)}}))}))},Cr=function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i,o,s,a;return(0,Ye.Jh)(this,(function(c){switch(c.label){case 0:return r=[(0,Ye.pi)({},e)],a={},[4,vo(e.body,t)];case 1:switch(n=Ye.pi.apply(void 0,r.concat([(a.body=c.sent(),a)])),o="UnknownError",o=yo(e,n.body)){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"OperationAbortedException":case"com.amazonaws.cloudwatchlogs#OperationAbortedException":return[3,4];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,8]}return[3,10];case 2:return[4,ci(n,t)];case 3:case 5:case 7:case 9:throw c.sent();case 4:return[4,di(n,t)];case 6:return[4,pi(n,t)];case 8:return[4,mi(n,t)];case 10:throw s=n.body,i=new bt({name:s.code||s.Code||o,$fault:"client",$metadata:po(e)}),(0,it.to)(i,s)}}))}))},Er=function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i,o,s,a;return(0,Ye.Jh)(this,(function(c){switch(c.label){case 0:return r=[(0,Ye.pi)({},e)],a={},[4,vo(e.body,t)];case 1:switch(n=Ye.pi.apply(void 0,r.concat([(a.body=c.sent(),a)])),o="UnknownError",o=yo(e,n.body)){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"OperationAbortedException":case"com.amazonaws.cloudwatchlogs#OperationAbortedException":return[3,4];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,8]}return[3,10];case 2:return[4,ci(n,t)];case 3:case 5:case 7:case 9:throw c.sent();case 4:return[4,di(n,t)];case 6:return[4,pi(n,t)];case 8:return[4,mi(n,t)];case 10:throw s=n.body,i=new bt({name:s.code||s.Code||o,$fault:"client",$metadata:po(e)}),(0,it.to)(i,s)}}))}))},kr=function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i,o,s,a;return(0,Ye.Jh)(this,(function(c){switch(c.label){case 0:return r=[(0,Ye.pi)({},e)],a={},[4,vo(e.body,t)];case 1:switch(n=Ye.pi.apply(void 0,r.concat([(a.body=c.sent(),a)])),o="UnknownError",o=yo(e,n.body)){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"OperationAbortedException":case"com.amazonaws.cloudwatchlogs#OperationAbortedException":return[3,4];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,8]}return[3,10];case 2:return[4,ci(n,t)];case 3:case 5:case 7:case 9:throw c.sent();case 4:return[4,di(n,t)];case 6:return[4,pi(n,t)];case 8:return[4,mi(n,t)];case 10:throw s=n.body,i=new bt({name:s.code||s.Code||o,$fault:"client",$metadata:po(e)}),(0,it.to)(i,s)}}))}))},Ar=function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i,o,s,a;return(0,Ye.Jh)(this,(function(c){switch(c.label){case 0:return r=[(0,Ye.pi)({},e)],a={},[4,vo(e.body,t)];case 1:switch(n=Ye.pi.apply(void 0,r.concat([(a.body=c.sent(),a)])),o="UnknownError",o=yo(e,n.body)){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,4];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,6]}return[3,8];case 2:return[4,ci(n,t)];case 3:case 5:case 7:throw c.sent();case 4:return[4,pi(n,t)];case 6:return[4,mi(n,t)];case 8:throw s=n.body,i=new bt({name:s.code||s.Code||o,$fault:"client",$metadata:po(e)}),(0,it.to)(i,s)}}))}))},Nr=function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i,o,s,a;return(0,Ye.Jh)(this,(function(c){switch(c.label){case 0:return r=[(0,Ye.pi)({},e)],a={},[4,vo(e.body,t)];case 1:switch(n=Ye.pi.apply(void 0,r.concat([(a.body=c.sent(),a)])),o="UnknownError",o=yo(e,n.body)){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,4];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,6]}return[3,8];case 2:return[4,ci(n,t)];case 3:case 5:case 7:throw c.sent();case 4:return[4,pi(n,t)];case 6:return[4,mi(n,t)];case 8:throw s=n.body,i=new bt({name:s.code||s.Code||o,$fault:"client",$metadata:po(e)}),(0,it.to)(i,s)}}))}))},Tr=function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i,o,s,a;return(0,Ye.Jh)(this,(function(c){switch(c.label){case 0:return r=[(0,Ye.pi)({},e)],a={},[4,vo(e.body,t)];case 1:switch(n=Ye.pi.apply(void 0,r.concat([(a.body=c.sent(),a)])),o="UnknownError",o=yo(e,n.body)){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"OperationAbortedException":case"com.amazonaws.cloudwatchlogs#OperationAbortedException":return[3,4];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,8]}return[3,10];case 2:return[4,ci(n,t)];case 3:case 5:case 7:case 9:throw c.sent();case 4:return[4,di(n,t)];case 6:return[4,pi(n,t)];case 8:return[4,mi(n,t)];case 10:throw s=n.body,i=new bt({name:s.code||s.Code||o,$fault:"client",$metadata:po(e)}),(0,it.to)(i,s)}}))}))},Pr=function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i,o,s,a;return(0,Ye.Jh)(this,(function(c){switch(c.label){case 0:return r=[(0,Ye.pi)({},e)],a={},[4,vo(e.body,t)];case 1:switch(n=Ye.pi.apply(void 0,r.concat([(a.body=c.sent(),a)])),o="UnknownError",o=yo(e,n.body)){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"OperationAbortedException":case"com.amazonaws.cloudwatchlogs#OperationAbortedException":return[3,4];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,8]}return[3,10];case 2:return[4,ci(n,t)];case 3:case 5:case 7:case 9:throw c.sent();case 4:return[4,di(n,t)];case 6:return[4,pi(n,t)];case 8:return[4,mi(n,t)];case 10:throw s=n.body,i=new bt({name:s.code||s.Code||o,$fault:"client",$metadata:po(e)}),(0,it.to)(i,s)}}))}))},Or=function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i,o,s,a;return(0,Ye.Jh)(this,(function(c){switch(c.label){case 0:return r=[(0,Ye.pi)({},e)],a={},[4,vo(e.body,t)];case 1:switch(n=Ye.pi.apply(void 0,r.concat([(a.body=c.sent(),a)])),o="UnknownError",o=yo(e,n.body)){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,4]}return[3,6];case 2:return[4,ci(n,t)];case 3:case 5:throw c.sent();case 4:return[4,mi(n,t)];case 6:throw s=n.body,i=new bt({name:s.code||s.Code||o,$fault:"client",$metadata:po(e)}),(0,it.to)(i,s)}}))}))},Ir=function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i,o,s,a;return(0,Ye.Jh)(this,(function(c){switch(c.label){case 0:return r=[(0,Ye.pi)({},e)],a={},[4,vo(e.body,t)];case 1:switch(n=Ye.pi.apply(void 0,r.concat([(a.body=c.sent(),a)])),o="UnknownError",o=yo(e,n.body)){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,4]}return[3,6];case 2:return[4,ci(n,t)];case 3:case 5:throw c.sent();case 4:return[4,mi(n,t)];case 6:throw s=n.body,i=new bt({name:s.code||s.Code||o,$fault:"client",$metadata:po(e)}),(0,it.to)(i,s)}}))}))},Rr=function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i,o,s,a;return(0,Ye.Jh)(this,(function(c){switch(c.label){case 0:return r=[(0,Ye.pi)({},e)],a={},[4,vo(e.body,t)];case 1:switch(n=Ye.pi.apply(void 0,r.concat([(a.body=c.sent(),a)])),o="UnknownError",o=yo(e,n.body)){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,4]}return[3,6];case 2:return[4,ci(n,t)];case 3:case 5:throw c.sent();case 4:return[4,mi(n,t)];case 6:throw s=n.body,i=new bt({name:s.code||s.Code||o,$fault:"client",$metadata:po(e)}),(0,it.to)(i,s)}}))}))},Lr=function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i,o,s,a;return(0,Ye.Jh)(this,(function(c){switch(c.label){case 0:return r=[(0,Ye.pi)({},e)],a={},[4,vo(e.body,t)];case 1:switch(n=Ye.pi.apply(void 0,r.concat([(a.body=c.sent(),a)])),o="UnknownError",o=yo(e,n.body)){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,4];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,6]}return[3,8];case 2:return[4,ci(n,t)];case 3:case 5:case 7:throw c.sent();case 4:return[4,pi(n,t)];case 6:return[4,mi(n,t)];case 8:throw s=n.body,i=new bt({name:s.code||s.Code||o,$fault:"client",$metadata:po(e)}),(0,it.to)(i,s)}}))}))},Mr=function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i,o,s,a;return(0,Ye.Jh)(this,(function(c){switch(c.label){case 0:return r=[(0,Ye.pi)({},e)],a={},[4,vo(e.body,t)];case 1:switch(n=Ye.pi.apply(void 0,r.concat([(a.body=c.sent(),a)])),o="UnknownError",o=yo(e,n.body)){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,4];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,6]}return[3,8];case 2:return[4,ci(n,t)];case 3:case 5:case 7:throw c.sent();case 4:return[4,pi(n,t)];case 6:return[4,mi(n,t)];case 8:throw s=n.body,i=new bt({name:s.code||s.Code||o,$fault:"client",$metadata:po(e)}),(0,it.to)(i,s)}}))}))},Dr=function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i,o,s,a;return(0,Ye.Jh)(this,(function(c){switch(c.label){case 0:return r=[(0,Ye.pi)({},e)],a={},[4,vo(e.body,t)];case 1:switch(n=Ye.pi.apply(void 0,r.concat([(a.body=c.sent(),a)])),o="UnknownError",o=yo(e,n.body)){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,4];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,6]}return[3,8];case 2:return[4,ci(n,t)];case 3:case 5:case 7:throw c.sent();case 4:return[4,pi(n,t)];case 6:return[4,mi(n,t)];case 8:throw s=n.body,i=new bt({name:s.code||s.Code||o,$fault:"client",$metadata:po(e)}),(0,it.to)(i,s)}}))}))},jr=function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i,o,s,a;return(0,Ye.Jh)(this,(function(c){switch(c.label){case 0:return r=[(0,Ye.pi)({},e)],a={},[4,vo(e.body,t)];case 1:switch(n=Ye.pi.apply(void 0,r.concat([(a.body=c.sent(),a)])),o="UnknownError",o=yo(e,n.body)){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,4]}return[3,6];case 2:return[4,ci(n,t)];case 3:case 5:throw c.sent();case 4:return[4,mi(n,t)];case 6:throw s=n.body,i=new bt({name:s.code||s.Code||o,$fault:"client",$metadata:po(e)}),(0,it.to)(i,s)}}))}))},Fr=function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i,o,s,a;return(0,Ye.Jh)(this,(function(c){switch(c.label){case 0:return r=[(0,Ye.pi)({},e)],a={},[4,vo(e.body,t)];case 1:switch(n=Ye.pi.apply(void 0,r.concat([(a.body=c.sent(),a)])),o="UnknownError",o=yo(e,n.body)){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,4]}return[3,6];case 2:return[4,ci(n,t)];case 3:case 5:throw c.sent();case 4:return[4,mi(n,t)];case 6:throw s=n.body,i=new bt({name:s.code||s.Code||o,$fault:"client",$metadata:po(e)}),(0,it.to)(i,s)}}))}))},Br=function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i,o,s,a;return(0,Ye.Jh)(this,(function(c){switch(c.label){case 0:return r=[(0,Ye.pi)({},e)],a={},[4,vo(e.body,t)];case 1:switch(n=Ye.pi.apply(void 0,r.concat([(a.body=c.sent(),a)])),o="UnknownError",o=yo(e,n.body)){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,4];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,6]}return[3,8];case 2:return[4,ci(n,t)];case 3:case 5:case 7:throw c.sent();case 4:return[4,pi(n,t)];case 6:return[4,mi(n,t)];case 8:throw s=n.body,i=new bt({name:s.code||s.Code||o,$fault:"client",$metadata:po(e)}),(0,it.to)(i,s)}}))}))},qr=function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i,o,s,a;return(0,Ye.Jh)(this,(function(c){switch(c.label){case 0:return r=[(0,Ye.pi)({},e)],a={},[4,vo(e.body,t)];case 1:switch(n=Ye.pi.apply(void 0,r.concat([(a.body=c.sent(),a)])),o="UnknownError",o=yo(e,n.body)){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"OperationAbortedException":case"com.amazonaws.cloudwatchlogs#OperationAbortedException":return[3,4];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,8]}return[3,10];case 2:return[4,ci(n,t)];case 3:case 5:case 7:case 9:throw c.sent();case 4:return[4,di(n,t)];case 6:return[4,pi(n,t)];case 8:return[4,mi(n,t)];case 10:throw s=n.body,i=new bt({name:s.code||s.Code||o,$fault:"client",$metadata:po(e)}),(0,it.to)(i,s)}}))}))},Ur=function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i,o,s,a;return(0,Ye.Jh)(this,(function(c){switch(c.label){case 0:return r=[(0,Ye.pi)({},e)],a={},[4,vo(e.body,t)];case 1:switch(n=Ye.pi.apply(void 0,r.concat([(a.body=c.sent(),a)])),o="UnknownError",o=yo(e,n.body)){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,4];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,6]}return[3,8];case 2:return[4,ci(n,t)];case 3:case 5:case 7:throw c.sent();case 4:return[4,pi(n,t)];case 6:return[4,mi(n,t)];case 8:throw s=n.body,i=new bt({name:s.code||s.Code||o,$fault:"client",$metadata:po(e)}),(0,it.to)(i,s)}}))}))},zr=function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i,o,s,a;return(0,Ye.Jh)(this,(function(c){switch(c.label){case 0:return r=[(0,Ye.pi)({},e)],a={},[4,vo(e.body,t)];case 1:switch(n=Ye.pi.apply(void 0,r.concat([(a.body=c.sent(),a)])),o="UnknownError",o=yo(e,n.body)){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,4];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,6]}return[3,8];case 2:return[4,ci(n,t)];case 3:case 5:case 7:throw c.sent();case 4:return[4,pi(n,t)];case 6:return[4,mi(n,t)];case 8:throw s=n.body,i=new bt({name:s.code||s.Code||o,$fault:"client",$metadata:po(e)}),(0,it.to)(i,s)}}))}))},$r=function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i,o,s,a;return(0,Ye.Jh)(this,(function(c){switch(c.label){case 0:return r=[(0,Ye.pi)({},e)],a={},[4,vo(e.body,t)];case 1:switch(n=Ye.pi.apply(void 0,r.concat([(a.body=c.sent(),a)])),o="UnknownError",o=yo(e,n.body)){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"LimitExceededException":case"com.amazonaws.cloudwatchlogs#LimitExceededException":return[3,4];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,8]}return[3,10];case 2:return[4,ci(n,t)];case 3:case 5:case 7:case 9:throw c.sent();case 4:return[4,li(n,t)];case 6:return[4,pi(n,t)];case 8:return[4,mi(n,t)];case 10:throw s=n.body,i=new bt({name:s.code||s.Code||o,$fault:"client",$metadata:po(e)}),(0,it.to)(i,s)}}))}))},Hr=function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i,o,s,a;return(0,Ye.Jh)(this,(function(c){switch(c.label){case 0:return r=[(0,Ye.pi)({},e)],a={},[4,vo(e.body,t)];case 1:switch(n=Ye.pi.apply(void 0,r.concat([(a.body=c.sent(),a)])),o="UnknownError",o=yo(e,n.body)){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"LimitExceededException":case"com.amazonaws.cloudwatchlogs#LimitExceededException":return[3,4];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,8]}return[3,10];case 2:return[4,ci(n,t)];case 3:case 5:case 7:case 9:throw c.sent();case 4:return[4,li(n,t)];case 6:return[4,pi(n,t)];case 8:return[4,mi(n,t)];case 10:throw s=n.body,i=new bt({name:s.code||s.Code||o,$fault:"client",$metadata:po(e)}),(0,it.to)(i,s)}}))}))},Gr=function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i,o,s,a;return(0,Ye.Jh)(this,(function(c){switch(c.label){case 0:return r=[(0,Ye.pi)({},e)],a={},[4,vo(e.body,t)];case 1:switch(n=Ye.pi.apply(void 0,r.concat([(a.body=c.sent(),a)])),o="UnknownError",o=yo(e,n.body)){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,4];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,6]}return[3,8];case 2:return[4,ci(n,t)];case 3:case 5:case 7:throw c.sent();case 4:return[4,pi(n,t)];case 6:return[4,mi(n,t)];case 8:throw s=n.body,i=new bt({name:s.code||s.Code||o,$fault:"client",$metadata:po(e)}),(0,it.to)(i,s)}}))}))},Vr=function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i,o,s,a;return(0,Ye.Jh)(this,(function(c){switch(c.label){case 0:return r=[(0,Ye.pi)({},e)],a={},[4,vo(e.body,t)];case 1:switch(n=Ye.pi.apply(void 0,r.concat([(a.body=c.sent(),a)])),o="UnknownError",o=yo(e,n.body)){case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,2];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,4]}return[3,6];case 2:return[4,pi(n,t)];case 3:case 5:throw c.sent();case 4:return[4,mi(n,t)];case 6:throw s=n.body,i=new bt({name:s.code||s.Code||o,$fault:"client",$metadata:po(e)}),(0,it.to)(i,s)}}))}))},Wr=function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i,o,s,a;return(0,Ye.Jh)(this,(function(c){switch(c.label){case 0:return r=[(0,Ye.pi)({},e)],a={},[4,vo(e.body,t)];case 1:switch(n=Ye.pi.apply(void 0,r.concat([(a.body=c.sent(),a)])),o="UnknownError",o=yo(e,n.body)){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"OperationAbortedException":case"com.amazonaws.cloudwatchlogs#OperationAbortedException":return[3,4];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,6]}return[3,8];case 2:return[4,ci(n,t)];case 3:case 5:case 7:throw c.sent();case 4:return[4,di(n,t)];case 6:return[4,mi(n,t)];case 8:throw s=n.body,i=new bt({name:s.code||s.Code||o,$fault:"client",$metadata:po(e)}),(0,it.to)(i,s)}}))}))},Kr=function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i,o,s,a;return(0,Ye.Jh)(this,(function(c){switch(c.label){case 0:return r=[(0,Ye.pi)({},e)],a={},[4,vo(e.body,t)];case 1:switch(n=Ye.pi.apply(void 0,r.concat([(a.body=c.sent(),a)])),o="UnknownError",o=yo(e,n.body)){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"OperationAbortedException":case"com.amazonaws.cloudwatchlogs#OperationAbortedException":return[3,4];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,6]}return[3,8];case 2:return[4,ci(n,t)];case 3:case 5:case 7:throw c.sent();case 4:return[4,di(n,t)];case 6:return[4,mi(n,t)];case 8:throw s=n.body,i=new bt({name:s.code||s.Code||o,$fault:"client",$metadata:po(e)}),(0,it.to)(i,s)}}))}))},Zr=function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i,o,s,a;return(0,Ye.Jh)(this,(function(c){switch(c.label){case 0:return r=[(0,Ye.pi)({},e)],a={},[4,vo(e.body,t)];case 1:switch(n=Ye.pi.apply(void 0,r.concat([(a.body=c.sent(),a)])),o="UnknownError",o=yo(e,n.body)){case"DataAlreadyAcceptedException":case"com.amazonaws.cloudwatchlogs#DataAlreadyAcceptedException":return[3,2];case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,4];case"InvalidSequenceTokenException":case"com.amazonaws.cloudwatchlogs#InvalidSequenceTokenException":return[3,6];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,8];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,10];case"UnrecognizedClientException":case"com.amazonaws.cloudwatchlogs#UnrecognizedClientException":return[3,12]}return[3,14];case 2:return[4,si(n,t)];case 3:case 5:case 7:case 9:case 11:case 13:throw c.sent();case 4:return[4,ci(n,t)];case 6:return[4,ui(n,t)];case 8:return[4,pi(n,t)];case 10:return[4,mi(n,t)];case 12:return[4,gi(n,t)];case 14:throw s=n.body,i=new bt({name:s.code||s.Code||o,$fault:"client",$metadata:po(e)}),(0,it.to)(i,s)}}))}))},Yr=function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i,o,s,a;return(0,Ye.Jh)(this,(function(c){switch(c.label){case 0:return r=[(0,Ye.pi)({},e)],a={},[4,vo(e.body,t)];case 1:switch(n=Ye.pi.apply(void 0,r.concat([(a.body=c.sent(),a)])),o="UnknownError",o=yo(e,n.body)){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"LimitExceededException":case"com.amazonaws.cloudwatchlogs#LimitExceededException":return[3,4];case"OperationAbortedException":case"com.amazonaws.cloudwatchlogs#OperationAbortedException":return[3,6];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,8];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,10]}return[3,12];case 2:return[4,ci(n,t)];case 3:case 5:case 7:case 9:case 11:throw c.sent();case 4:return[4,li(n,t)];case 6:return[4,di(n,t)];case 8:return[4,pi(n,t)];case 10:return[4,mi(n,t)];case 12:throw s=n.body,i=new bt({name:s.code||s.Code||o,$fault:"client",$metadata:po(e)}),(0,it.to)(i,s)}}))}))},Jr=function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i,o,s,a;return(0,Ye.Jh)(this,(function(c){switch(c.label){case 0:return r=[(0,Ye.pi)({},e)],a={},[4,vo(e.body,t)];case 1:switch(n=Ye.pi.apply(void 0,r.concat([(a.body=c.sent(),a)])),o="UnknownError",o=yo(e,n.body)){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"LimitExceededException":case"com.amazonaws.cloudwatchlogs#LimitExceededException":return[3,4];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,8]}return[3,10];case 2:return[4,ci(n,t)];case 3:case 5:case 7:case 9:throw c.sent();case 4:return[4,li(n,t)];case 6:return[4,pi(n,t)];case 8:return[4,mi(n,t)];case 10:throw s=n.body,i=new bt({name:s.code||s.Code||o,$fault:"client",$metadata:po(e)}),(0,it.to)(i,s)}}))}))},Qr=function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i,o,s,a;return(0,Ye.Jh)(this,(function(c){switch(c.label){case 0:return r=[(0,Ye.pi)({},e)],a={},[4,vo(e.body,t)];case 1:switch(n=Ye.pi.apply(void 0,r.concat([(a.body=c.sent(),a)])),o="UnknownError",o=yo(e,n.body)){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"LimitExceededException":case"com.amazonaws.cloudwatchlogs#LimitExceededException":return[3,4];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,6]}return[3,8];case 2:return[4,ci(n,t)];case 3:case 5:case 7:throw c.sent();case 4:return[4,li(n,t)];case 6:return[4,mi(n,t)];case 8:throw s=n.body,i=new bt({name:s.code||s.Code||o,$fault:"client",$metadata:po(e)}),(0,it.to)(i,s)}}))}))},Xr=function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i,o,s,a;return(0,Ye.Jh)(this,(function(c){switch(c.label){case 0:return r=[(0,Ye.pi)({},e)],a={},[4,vo(e.body,t)];case 1:switch(n=Ye.pi.apply(void 0,r.concat([(a.body=c.sent(),a)])),o="UnknownError",o=yo(e,n.body)){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"OperationAbortedException":case"com.amazonaws.cloudwatchlogs#OperationAbortedException":return[3,4];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,8]}return[3,10];case 2:return[4,ci(n,t)];case 3:case 5:case 7:case 9:throw c.sent();case 4:return[4,di(n,t)];case 6:return[4,pi(n,t)];case 8:return[4,mi(n,t)];case 10:throw s=n.body,i=new bt({name:s.code||s.Code||o,$fault:"client",$metadata:po(e)}),(0,it.to)(i,s)}}))}))},ei=function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i,o,s,a;return(0,Ye.Jh)(this,(function(c){switch(c.label){case 0:return r=[(0,Ye.pi)({},e)],a={},[4,vo(e.body,t)];case 1:switch(n=Ye.pi.apply(void 0,r.concat([(a.body=c.sent(),a)])),o="UnknownError",o=yo(e,n.body)){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"LimitExceededException":case"com.amazonaws.cloudwatchlogs#LimitExceededException":return[3,4];case"OperationAbortedException":case"com.amazonaws.cloudwatchlogs#OperationAbortedException":return[3,6];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,8];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,10]}return[3,12];case 2:return[4,ci(n,t)];case 3:case 5:case 7:case 9:case 11:throw c.sent();case 4:return[4,li(n,t)];case 6:return[4,di(n,t)];case 8:return[4,pi(n,t)];case 10:return[4,mi(n,t)];case 12:throw s=n.body,i=new bt({name:s.code||s.Code||o,$fault:"client",$metadata:po(e)}),(0,it.to)(i,s)}}))}))},ti=function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i,o,s,a;return(0,Ye.Jh)(this,(function(c){switch(c.label){case 0:return r=[(0,Ye.pi)({},e)],a={},[4,vo(e.body,t)];case 1:switch(n=Ye.pi.apply(void 0,r.concat([(a.body=c.sent(),a)])),o="UnknownError",o=yo(e,n.body)){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"LimitExceededException":case"com.amazonaws.cloudwatchlogs#LimitExceededException":return[3,4];case"MalformedQueryException":case"com.amazonaws.cloudwatchlogs#MalformedQueryException":return[3,6];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,8];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,10]}return[3,12];case 2:return[4,ci(n,t)];case 3:case 5:case 7:case 9:case 11:throw c.sent();case 4:return[4,li(n,t)];case 6:return[4,hi(n,t)];case 8:return[4,pi(n,t)];case 10:return[4,mi(n,t)];case 12:throw s=n.body,i=new bt({name:s.code||s.Code||o,$fault:"client",$metadata:po(e)}),(0,it.to)(i,s)}}))}))},ni=function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i,o,s,a;return(0,Ye.Jh)(this,(function(c){switch(c.label){case 0:return r=[(0,Ye.pi)({},e)],a={},[4,vo(e.body,t)];case 1:switch(n=Ye.pi.apply(void 0,r.concat([(a.body=c.sent(),a)])),o="UnknownError",o=yo(e,n.body)){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,4];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,6]}return[3,8];case 2:return[4,ci(n,t)];case 3:case 5:case 7:throw c.sent();case 4:return[4,pi(n,t)];case 6:return[4,mi(n,t)];case 8:throw s=n.body,i=new bt({name:s.code||s.Code||o,$fault:"client",$metadata:po(e)}),(0,it.to)(i,s)}}))}))},ri=function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i,o,s,a;return(0,Ye.Jh)(this,(function(c){switch(c.label){case 0:return r=[(0,Ye.pi)({},e)],a={},[4,vo(e.body,t)];case 1:switch(n=Ye.pi.apply(void 0,r.concat([(a.body=c.sent(),a)])),o="UnknownError",o=yo(e,n.body)){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,4]}return[3,6];case 2:return[4,ci(n,t)];case 3:case 5:throw c.sent();case 4:return[4,pi(n,t)];case 6:throw s=n.body,i=new bt({name:s.code||s.Code||o,$fault:"client",$metadata:po(e)}),(0,it.to)(i,s)}}))}))},ii=function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i,o,s,a;return(0,Ye.Jh)(this,(function(c){switch(c.label){case 0:return r=[(0,Ye.pi)({},e)],a={},[4,vo(e.body,t)];case 1:switch(n=Ye.pi.apply(void 0,r.concat([(a.body=c.sent(),a)])),o="UnknownError",o=yo(e,n.body)){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,4]}return[3,6];case 2:return[4,ci(n,t)];case 3:case 5:throw c.sent();case 4:return[4,mi(n,t)];case 6:throw s=n.body,i=new bt({name:s.code||s.Code||o,$fault:"client",$metadata:po(e)}),(0,it.to)(i,s)}}))}))},oi=function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i,o,s,a;return(0,Ye.Jh)(this,(function(c){switch(c.label){case 0:return r=[(0,Ye.pi)({},e)],a={},[4,vo(e.body,t)];case 1:switch(n=Ye.pi.apply(void 0,r.concat([(a.body=c.sent(),a)])),o="UnknownError",o=yo(e,n.body)){case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,2]}return[3,4];case 2:return[4,pi(n,t)];case 3:throw c.sent();case 4:throw s=n.body,i=new bt({name:s.code||s.Code||o,$fault:"client",$metadata:po(e)}),(0,it.to)(i,s)}}))}))},si=function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i;return(0,Ye.Jh)(this,(function(o){return n=e.body,r=Ei(n,t),i=new Un((0,Ye.pi)({$metadata:po(e)},r)),[2,(0,it.to)(i,n)]}))}))},ai=function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i;return(0,Ye.Jh)(this,(function(o){return n=e.body,r=Li(n,t),i=new At((0,Ye.pi)({$metadata:po(e)},r)),[2,(0,it.to)(i,n)]}))}))},ci=function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i;return(0,Ye.Jh)(this,(function(o){return n=e.body,r=Mi(n,t),i=new St((0,Ye.pi)({$metadata:po(e)},r)),[2,(0,it.to)(i,n)]}))}))},ui=function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i;return(0,Ye.Jh)(this,(function(o){return n=e.body,r=Di(n,t),i=new Yn((0,Ye.pi)({$metadata:po(e)},r)),[2,(0,it.to)(i,n)]}))}))},li=function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i;return(0,Ye.Jh)(this,(function(o){return n=e.body,r=ji(n,t),i=new Pt((0,Ye.pi)({$metadata:po(e)},r)),[2,(0,it.to)(i,n)]}))}))},hi=function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i;return(0,Ye.Jh)(this,(function(o){return n=e.body,r=$i(n,t),i=new gr((0,Ye.pi)({$metadata:po(e)},r)),[2,(0,it.to)(i,n)]}))}))},di=function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i;return(0,Ye.Jh)(this,(function(o){return n=e.body,r=Ki(n,t),i=new _t((0,Ye.pi)({$metadata:po(e)},r)),[2,(0,it.to)(i,n)]}))}))},fi=function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i;return(0,Ye.Jh)(this,(function(o){return n=e.body,r=ro(n,t),i=new Ot((0,Ye.pi)({$metadata:po(e)},r)),[2,(0,it.to)(i,n)]}))}))},pi=function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i;return(0,Ye.Jh)(this,(function(o){return n=e.body,r=io(n,t),i=new xt((0,Ye.pi)({$metadata:po(e)},r)),[2,(0,it.to)(i,n)]}))}))},mi=function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i;return(0,Ye.Jh)(this,(function(o){return n=e.body,r=uo(n,t),i=new Ct((0,Ye.pi)({$metadata:po(e)},r)),[2,(0,it.to)(i,n)]}))}))},gi=function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i;return(0,Ye.Jh)(this,(function(o){return n=e.body,r=fo(n,t),i=new sr((0,Ye.pi)({$metadata:po(e)},r)),[2,(0,it.to)(i,n)]}))}))},vi=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=(0,Ye.CR)(t,2),i=r[0],o=r[1];return null===o?e:(0,Ye.pi)((0,Ye.pi)({},e),((n={})[i]=o,n))}),{})},yi=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return(0,Ye.pi)((0,Ye.pi)({},void 0!==e.message&&null!==e.message&&{message:e.message}),void 0!==e.timestamp&&null!==e.timestamp&&{timestamp:e.timestamp})}(e)}))},bi=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return null===e?null:e}))},wi=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return null===e?null:e}))},Si=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return(0,Ye.pi)((0,Ye.pi)((0,Ye.pi)((0,Ye.pi)((0,Ye.pi)((0,Ye.pi)({},void 0!==e.defaultValue&&null!==e.defaultValue&&{defaultValue:(0,it.vw)(e.defaultValue)}),void 0!==e.dimensions&&null!==e.dimensions&&{dimensions:vi(e.dimensions)}),void 0!==e.metricName&&null!==e.metricName&&{metricName:e.metricName}),void 0!==e.metricNamespace&&null!==e.metricNamespace&&{metricNamespace:e.metricNamespace}),void 0!==e.metricValue&&null!==e.metricValue&&{metricValue:e.metricValue}),void 0!==e.unit&&null!==e.unit&&{unit:e.unit})}(e)}))},_i=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return null===e?null:e}))},xi=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=(0,Ye.CR)(t,2),i=r[0],o=r[1];return null===o?e:(0,Ye.pi)((0,Ye.pi)({},e),((n={})[i]=o,n))}),{})},Ci=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return null===e?null:e}))},Ei=function(e,t){return{expectedSequenceToken:(0,it.pY)(e.expectedSequenceToken),message:(0,it.pY)(e.message)}},ki=function(e,t){return{accessPolicy:(0,it.pY)(e.accessPolicy),arn:(0,it.pY)(e.arn),creationTime:(0,it.a_)(e.creationTime),destinationName:(0,it.pY)(e.destinationName),roleArn:(0,it.pY)(e.roleArn),targetArn:(0,it.pY)(e.targetArn)}},Ai=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:ki(e)}))},Ni=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=(0,Ye.CR)(t,2),i=r[0],o=r[1];return null===o?e:(0,Ye.pi)((0,Ye.pi)({},e),((n={})[i]=(0,it.pY)(o),n))}),{})},Ti=function(e,t){return{completionTime:(0,it.a_)(e.completionTime),creationTime:(0,it.a_)(e.creationTime)}},Pi=function(e,t){var n=(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{destination:(0,it.pY)(e.destination),destinationPrefix:(0,it.pY)(e.destinationPrefix),executionInfo:void 0!==e.executionInfo&&null!==e.executionInfo?Ti(e.executionInfo):void 0,from:(0,it.a_)(e.from),logGroupName:(0,it.pY)(e.logGroupName),status:void 0!==e.status&&null!==e.status?Oi(e.status,t):void 0,taskId:(0,it.pY)(e.taskId),taskName:(0,it.pY)(e.taskName),to:(0,it.a_)(e.to)}}(e,t)}));return n},Oi=function(e,t){return{code:(0,it.pY)(e.code),message:(0,it.pY)(e.message)}},Ii=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=(0,Ye.CR)(t,2),i=r[0],o=r[1];return null===o?e:(0,Ye.pi)((0,Ye.pi)({},e),((n={})[i]=(0,it.pY)(o),n))}),{})},Ri=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{eventId:(0,it.pY)(e.eventId),ingestionTime:(0,it.a_)(e.ingestionTime),logStreamName:(0,it.pY)(e.logStreamName),message:(0,it.pY)(e.message),timestamp:(0,it.a_)(e.timestamp)}}(e)}))},Li=function(e,t){return{message:(0,it.pY)(e.message)}},Mi=function(e,t){return{message:(0,it.pY)(e.message)}},Di=function(e,t){return{expectedSequenceToken:(0,it.pY)(e.expectedSequenceToken),message:(0,it.pY)(e.message)}},ji=function(e,t){return{message:(0,it.pY)(e.message)}},Fi=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{name:(0,it.pY)(e.name),percent:(0,it.u$)(e.percent)}}(e)}))},Bi=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:(0,it.pY)(e)}))},qi=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{arn:(0,it.pY)(e.arn),creationTime:(0,it.a_)(e.creationTime),kmsKeyId:(0,it.pY)(e.kmsKeyId),logGroupName:(0,it.pY)(e.logGroupName),metricFilterCount:(0,it.u$)(e.metricFilterCount),retentionInDays:(0,it.u$)(e.retentionInDays),storedBytes:(0,it.a_)(e.storedBytes)}}(e)}))},Ui=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=(0,Ye.CR)(t,2),i=r[0],o=r[1];return null===o?e:(0,Ye.pi)((0,Ye.pi)({},e),((n={})[i]=(0,it.pY)(o),n))}),{})},zi=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{arn:(0,it.pY)(e.arn),creationTime:(0,it.a_)(e.creationTime),firstEventTimestamp:(0,it.a_)(e.firstEventTimestamp),lastEventTimestamp:(0,it.a_)(e.lastEventTimestamp),lastIngestionTime:(0,it.a_)(e.lastIngestionTime),logStreamName:(0,it.pY)(e.logStreamName),storedBytes:(0,it.a_)(e.storedBytes),uploadSequenceToken:(0,it.pY)(e.uploadSequenceToken)}}(e)}))},$i=function(e,t){return{message:(0,it.pY)(e.message),queryCompileError:void 0!==e.queryCompileError&&null!==e.queryCompileError?Yi(e.queryCompileError,t):void 0}},Hi=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:Gi(e,t)}))},Gi=function(e,t){return{eventMessage:(0,it.pY)(e.eventMessage),eventNumber:(0,it.a_)(e.eventNumber),extractedValues:void 0!==e.extractedValues&&null!==e.extractedValues?Ii(e.extractedValues):void 0}},Vi=function(e,t){var n=(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{creationTime:(0,it.a_)(e.creationTime),filterName:(0,it.pY)(e.filterName),filterPattern:(0,it.pY)(e.filterPattern),logGroupName:(0,it.pY)(e.logGroupName),metricTransformations:void 0!==e.metricTransformations&&null!==e.metricTransformations?Wi(e.metricTransformations,t):void 0}}(e,t)}));return n},Wi=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{defaultValue:(0,it.mr)(e.defaultValue),dimensions:void 0!==e.dimensions&&null!==e.dimensions?Ni(e.dimensions):void 0,metricName:(0,it.pY)(e.metricName),metricNamespace:(0,it.pY)(e.metricNamespace),metricValue:(0,it.pY)(e.metricValue),unit:(0,it.pY)(e.unit)}}(e)}))},Ki=function(e,t){return{message:(0,it.pY)(e.message)}},Zi=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{ingestionTime:(0,it.a_)(e.ingestionTime),message:(0,it.pY)(e.message),timestamp:(0,it.a_)(e.timestamp)}}(e)}))},Yi=function(e,t){return{location:void 0!==e.location&&null!==e.location?Ji(e.location,t):void 0,message:(0,it.pY)(e.message)}},Ji=function(e,t){return{endCharOffset:(0,it.u$)(e.endCharOffset),startCharOffset:(0,it.u$)(e.startCharOffset)}},Qi=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{lastModified:(0,it.a_)(e.lastModified),logGroupNames:void 0!==e.logGroupNames&&null!==e.logGroupNames?Bi(e.logGroupNames):void 0,name:(0,it.pY)(e.name),queryDefinitionId:(0,it.pY)(e.queryDefinitionId),queryString:(0,it.pY)(e.queryString)}}(e)}))},Xi=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{createTime:(0,it.a_)(e.createTime),logGroupName:(0,it.pY)(e.logGroupName),queryId:(0,it.pY)(e.queryId),queryString:(0,it.pY)(e.queryString),status:(0,it.pY)(e.status)}}(e)}))},eo=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:ao(e,t)}))},to=function(e,t){return{bytesScanned:(0,it.mr)(e.bytesScanned),recordsMatched:(0,it.mr)(e.recordsMatched),recordsScanned:(0,it.mr)(e.recordsScanned)}},no=function(e,t){return{expiredLogEventEndIndex:(0,it.u$)(e.expiredLogEventEndIndex),tooNewLogEventStartIndex:(0,it.u$)(e.tooNewLogEventStartIndex),tooOldLogEventEndIndex:(0,it.u$)(e.tooOldLogEventEndIndex)}},ro=function(e,t){return{message:(0,it.pY)(e.message)}},io=function(e,t){return{message:(0,it.pY)(e.message)}},oo=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:so(e,t)}))},so=function(e,t){return{lastUpdatedTime:(0,it.a_)(e.lastUpdatedTime),policyDocument:(0,it.pY)(e.policyDocument),policyName:(0,it.pY)(e.policyName)}},ao=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{field:(0,it.pY)(e.field),value:(0,it.pY)(e.value)}}(e)}))},co=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{logStreamName:(0,it.pY)(e.logStreamName),searchedCompletely:(0,it.zE)(e.searchedCompletely)}}(e)}))},uo=function(e,t){return{message:(0,it.pY)(e.message)}},lo=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{creationTime:(0,it.a_)(e.creationTime),destinationArn:(0,it.pY)(e.destinationArn),distribution:(0,it.pY)(e.distribution),filterName:(0,it.pY)(e.filterName),filterPattern:(0,it.pY)(e.filterPattern),logGroupName:(0,it.pY)(e.logGroupName),roleArn:(0,it.pY)(e.roleArn)}}(e)}))},ho=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=(0,Ye.CR)(t,2),i=r[0],o=r[1];return null===o?e:(0,Ye.pi)((0,Ye.pi)({},e),((n={})[i]=(0,it.pY)(o),n))}),{})},fo=function(e,t){return{message:(0,it.pY)(e.message)}},po=function(e){var t;return{httpStatusCode:e.statusCode,requestId:null!==(t=e.headers["x-amzn-requestid"])&&void 0!==t?t:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},mo=function(e,t){return void 0===e&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)},go=function(e,t,n,r,i){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var o,s,a,c,u,l,h;return(0,Ye.Jh)(this,(function(d){switch(d.label){case 0:return[4,e.endpoint()];case 1:return o=d.sent(),s=o.hostname,a=o.protocol,c=void 0===a?"https":a,u=o.port,l=o.path,h={protocol:c,hostname:s,port:u,method:"POST",path:l.endsWith("/")?l.slice(0,-1)+n:l+n,headers:t},void 0!==r&&(h.hostname=r),void 0!==i&&(h.body=i),[2,new vr.aW(h)]}}))}))},vo=function(e,t){return function(e,t){return mo(e,t).then((function(e){return t.utf8Encoder(e)}))}(e,t).then((function(e){return e.length?JSON.parse(e):{}}))},yo=function(e,t){var n,r=function(e){var t=e;return t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},i=(n=e.headers,Object.keys(n).find((function(e){return e.toLowerCase()==="x-amzn-errortype".toLowerCase()})));return void 0!==i?r(e.headers[i]):void 0!==t.code?r(t.code):void 0!==t.__type?r(t.__type):""},bo=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,Ye.ZT)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,yt.p2)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"AssociateKmsKeyCommand",inputFilterSensitiveLog:Ge.filterSensitiveLog,outputFilterSensitiveLog:function(e){return e}},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r;return(0,Ye.Jh)(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.AssociateKmsKey"},r=JSON.stringify(function(e,t){return(0,Ye.pi)((0,Ye.pi)({},void 0!==e.kmsKeyId&&null!==e.kmsKeyId&&{kmsKeyId:e.kmsKeyId}),void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName})}(e)),[2,go(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n;return(0,Ye.Jh)(this,(function(r){switch(r.label){case 0:return e.statusCode>=300?[2,yr(e,t)]:[4,mo(e.body,t)];case 1:return r.sent(),n={$metadata:po(e)},[2,Promise.resolve(n)]}}))}))}(e,t)},t}(it.mY),wo=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,Ye.ZT)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,yt.p2)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"CancelExportTaskCommand",inputFilterSensitiveLog:wt.filterSensitiveLog,outputFilterSensitiveLog:function(e){return e}},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r;return(0,Ye.Jh)(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.CancelExportTask"},r=JSON.stringify(function(e,t){return(0,Ye.pi)({},void 0!==e.taskId&&null!==e.taskId&&{taskId:e.taskId})}(e)),[2,go(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n;return(0,Ye.Jh)(this,(function(r){switch(r.label){case 0:return e.statusCode>=300?[2,br(e,t)]:[4,mo(e.body,t)];case 1:return r.sent(),n={$metadata:po(e)},[2,Promise.resolve(n)]}}))}))}(e,t)},t}(it.mY),So=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,Ye.ZT)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,yt.p2)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"CreateExportTaskCommand",inputFilterSensitiveLog:Et.filterSensitiveLog,outputFilterSensitiveLog:kt.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r;return(0,Ye.Jh)(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.CreateExportTask"},r=JSON.stringify(function(e,t){return(0,Ye.pi)((0,Ye.pi)((0,Ye.pi)((0,Ye.pi)((0,Ye.pi)((0,Ye.pi)((0,Ye.pi)({},void 0!==e.destination&&null!==e.destination&&{destination:e.destination}),void 0!==e.destinationPrefix&&null!==e.destinationPrefix&&{destinationPrefix:e.destinationPrefix}),void 0!==e.from&&null!==e.from&&{from:e.from}),void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName}),void 0!==e.logStreamNamePrefix&&null!==e.logStreamNamePrefix&&{logStreamNamePrefix:e.logStreamNamePrefix}),void 0!==e.taskName&&null!==e.taskName&&{taskName:e.taskName}),void 0!==e.to&&null!==e.to&&{to:e.to})}(e)),[2,go(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i;return(0,Ye.Jh)(this,(function(o){switch(o.label){case 0:return e.statusCode>=300?[2,wr(e,t)]:[4,vo(e.body,t)];case 1:return n=o.sent(),r=function(e,t){return{taskId:(0,it.pY)(e.taskId)}}(n),i=(0,Ye.pi)({$metadata:po(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(it.mY),_o=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,Ye.ZT)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,yt.p2)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"CreateLogGroupCommand",inputFilterSensitiveLog:Nt.filterSensitiveLog,outputFilterSensitiveLog:function(e){return e}},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r;return(0,Ye.Jh)(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.CreateLogGroup"},r=JSON.stringify(function(e,t){return(0,Ye.pi)((0,Ye.pi)((0,Ye.pi)({},void 0!==e.kmsKeyId&&null!==e.kmsKeyId&&{kmsKeyId:e.kmsKeyId}),void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName}),void 0!==e.tags&&null!==e.tags&&{tags:xi(e.tags)})}(e)),[2,go(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n;return(0,Ye.Jh)(this,(function(r){switch(r.label){case 0:return e.statusCode>=300?[2,Sr(e,t)]:[4,mo(e.body,t)];case 1:return r.sent(),n={$metadata:po(e)},[2,Promise.resolve(n)]}}))}))}(e,t)},t}(it.mY),xo=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,Ye.ZT)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,yt.p2)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"CreateLogStreamCommand",inputFilterSensitiveLog:Tt.filterSensitiveLog,outputFilterSensitiveLog:function(e){return e}},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r;return(0,Ye.Jh)(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.CreateLogStream"},r=JSON.stringify(function(e,t){return(0,Ye.pi)((0,Ye.pi)({},void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName}),void 0!==e.logStreamName&&null!==e.logStreamName&&{logStreamName:e.logStreamName})}(e)),[2,go(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n;return(0,Ye.Jh)(this,(function(r){switch(r.label){case 0:return e.statusCode>=300?[2,_r(e,t)]:[4,mo(e.body,t)];case 1:return r.sent(),n={$metadata:po(e)},[2,Promise.resolve(n)]}}))}))}(e,t)},t}(it.mY),Co=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,Ye.ZT)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,yt.p2)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"DeleteDestinationCommand",inputFilterSensitiveLog:It.filterSensitiveLog,outputFilterSensitiveLog:function(e){return e}},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r;return(0,Ye.Jh)(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.DeleteDestination"},r=JSON.stringify(function(e,t){return(0,Ye.pi)({},void 0!==e.destinationName&&null!==e.destinationName&&{destinationName:e.destinationName})}(e)),[2,go(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n;return(0,Ye.Jh)(this,(function(r){switch(r.label){case 0:return e.statusCode>=300?[2,xr(e,t)]:[4,mo(e.body,t)];case 1:return r.sent(),n={$metadata:po(e)},[2,Promise.resolve(n)]}}))}))}(e,t)},t}(it.mY),Eo=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,Ye.ZT)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,yt.p2)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"DeleteLogGroupCommand",inputFilterSensitiveLog:Rt.filterSensitiveLog,outputFilterSensitiveLog:function(e){return e}},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r;return(0,Ye.Jh)(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.DeleteLogGroup"},r=JSON.stringify(function(e,t){return(0,Ye.pi)({},void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName})}(e)),[2,go(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n;return(0,Ye.Jh)(this,(function(r){switch(r.label){case 0:return e.statusCode>=300?[2,Cr(e,t)]:[4,mo(e.body,t)];case 1:return r.sent(),n={$metadata:po(e)},[2,Promise.resolve(n)]}}))}))}(e,t)},t}(it.mY),ko=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,Ye.ZT)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,yt.p2)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"DeleteLogStreamCommand",inputFilterSensitiveLog:Lt.filterSensitiveLog,outputFilterSensitiveLog:function(e){return e}},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r;return(0,Ye.Jh)(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.DeleteLogStream"},r=JSON.stringify(function(e,t){return(0,Ye.pi)((0,Ye.pi)({},void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName}),void 0!==e.logStreamName&&null!==e.logStreamName&&{logStreamName:e.logStreamName})}(e)),[2,go(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n;return(0,Ye.Jh)(this,(function(r){switch(r.label){case 0:return e.statusCode>=300?[2,Er(e,t)]:[4,mo(e.body,t)];case 1:return r.sent(),n={$metadata:po(e)},[2,Promise.resolve(n)]}}))}))}(e,t)},t}(it.mY),Ao=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,Ye.ZT)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,yt.p2)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"DeleteMetricFilterCommand",inputFilterSensitiveLog:Mt.filterSensitiveLog,outputFilterSensitiveLog:function(e){return e}},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r;return(0,Ye.Jh)(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.DeleteMetricFilter"},r=JSON.stringify(function(e,t){return(0,Ye.pi)((0,Ye.pi)({},void 0!==e.filterName&&null!==e.filterName&&{filterName:e.filterName}),void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName})}(e)),[2,go(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n;return(0,Ye.Jh)(this,(function(r){switch(r.label){case 0:return e.statusCode>=300?[2,kr(e,t)]:[4,mo(e.body,t)];case 1:return r.sent(),n={$metadata:po(e)},[2,Promise.resolve(n)]}}))}))}(e,t)},t}(it.mY),No=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,Ye.ZT)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,yt.p2)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"DeleteQueryDefinitionCommand",inputFilterSensitiveLog:Dt.filterSensitiveLog,outputFilterSensitiveLog:jt.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r;return(0,Ye.Jh)(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.DeleteQueryDefinition"},r=JSON.stringify(function(e,t){return(0,Ye.pi)({},void 0!==e.queryDefinitionId&&null!==e.queryDefinitionId&&{queryDefinitionId:e.queryDefinitionId})}(e)),[2,go(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i;return(0,Ye.Jh)(this,(function(o){switch(o.label){case 0:return e.statusCode>=300?[2,Ar(e,t)]:[4,vo(e.body,t)];case 1:return n=o.sent(),r=function(e,t){return{success:(0,it.zE)(e.success)}}(n),i=(0,Ye.pi)({$metadata:po(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(it.mY),To=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,Ye.ZT)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,yt.p2)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"DeleteResourcePolicyCommand",inputFilterSensitiveLog:Ft.filterSensitiveLog,outputFilterSensitiveLog:function(e){return e}},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r;return(0,Ye.Jh)(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.DeleteResourcePolicy"},r=JSON.stringify(function(e,t){return(0,Ye.pi)({},void 0!==e.policyName&&null!==e.policyName&&{policyName:e.policyName})}(e)),[2,go(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n;return(0,Ye.Jh)(this,(function(r){switch(r.label){case 0:return e.statusCode>=300?[2,Nr(e,t)]:[4,mo(e.body,t)];case 1:return r.sent(),n={$metadata:po(e)},[2,Promise.resolve(n)]}}))}))}(e,t)},t}(it.mY),Po=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,Ye.ZT)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,yt.p2)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"DeleteRetentionPolicyCommand",inputFilterSensitiveLog:Bt.filterSensitiveLog,outputFilterSensitiveLog:function(e){return e}},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r;return(0,Ye.Jh)(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.DeleteRetentionPolicy"},r=JSON.stringify(function(e,t){return(0,Ye.pi)({},void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName})}(e)),[2,go(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n;return(0,Ye.Jh)(this,(function(r){switch(r.label){case 0:return e.statusCode>=300?[2,Tr(e,t)]:[4,mo(e.body,t)];case 1:return r.sent(),n={$metadata:po(e)},[2,Promise.resolve(n)]}}))}))}(e,t)},t}(it.mY),Oo=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,Ye.ZT)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,yt.p2)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"DeleteSubscriptionFilterCommand",inputFilterSensitiveLog:qt.filterSensitiveLog,outputFilterSensitiveLog:function(e){return e}},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r;return(0,Ye.Jh)(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.DeleteSubscriptionFilter"},r=JSON.stringify(function(e,t){return(0,Ye.pi)((0,Ye.pi)({},void 0!==e.filterName&&null!==e.filterName&&{filterName:e.filterName}),void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName})}(e)),[2,go(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n;return(0,Ye.Jh)(this,(function(r){switch(r.label){case 0:return e.statusCode>=300?[2,Pr(e,t)]:[4,mo(e.body,t)];case 1:return r.sent(),n={$metadata:po(e)},[2,Promise.resolve(n)]}}))}))}(e,t)},t}(it.mY),Io=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,Ye.ZT)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,yt.p2)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"DescribeDestinationsCommand",inputFilterSensitiveLog:Ut.filterSensitiveLog,outputFilterSensitiveLog:$t.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r;return(0,Ye.Jh)(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.DescribeDestinations"},r=JSON.stringify(function(e,t){return(0,Ye.pi)((0,Ye.pi)((0,Ye.pi)({},void 0!==e.DestinationNamePrefix&&null!==e.DestinationNamePrefix&&{DestinationNamePrefix:e.DestinationNamePrefix}),void 0!==e.limit&&null!==e.limit&&{limit:e.limit}),void 0!==e.nextToken&&null!==e.nextToken&&{nextToken:e.nextToken})}(e)),[2,go(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i;return(0,Ye.Jh)(this,(function(o){switch(o.label){case 0:return e.statusCode>=300?[2,Or(e,t)]:[4,vo(e.body,t)];case 1:return n=o.sent(),r=function(e,t){return{destinations:void 0!==e.destinations&&null!==e.destinations?Ai(e.destinations):void 0,nextToken:(0,it.pY)(e.nextToken)}}(n),i=(0,Ye.pi)({$metadata:po(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(it.mY),Ro=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,Ye.ZT)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,yt.p2)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"DescribeExportTasksCommand",inputFilterSensitiveLog:Gt.filterSensitiveLog,outputFilterSensitiveLog:Zt.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r;return(0,Ye.Jh)(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.DescribeExportTasks"},r=JSON.stringify(function(e,t){return(0,Ye.pi)((0,Ye.pi)((0,Ye.pi)((0,Ye.pi)({},void 0!==e.limit&&null!==e.limit&&{limit:e.limit}),void 0!==e.nextToken&&null!==e.nextToken&&{nextToken:e.nextToken}),void 0!==e.statusCode&&null!==e.statusCode&&{statusCode:e.statusCode}),void 0!==e.taskId&&null!==e.taskId&&{taskId:e.taskId})}(e)),[2,go(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i;return(0,Ye.Jh)(this,(function(o){switch(o.label){case 0:return e.statusCode>=300?[2,Ir(e,t)]:[4,vo(e.body,t)];case 1:return n=o.sent(),r=function(e,t){return{exportTasks:void 0!==e.exportTasks&&null!==e.exportTasks?Pi(e.exportTasks,t):void 0,nextToken:(0,it.pY)(e.nextToken)}}(n,t),i=(0,Ye.pi)({$metadata:po(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(it.mY),Lo=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,Ye.ZT)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,yt.p2)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"DescribeLogGroupsCommand",inputFilterSensitiveLog:Yt.filterSensitiveLog,outputFilterSensitiveLog:Qt.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r;return(0,Ye.Jh)(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.DescribeLogGroups"},r=JSON.stringify(function(e,t){return(0,Ye.pi)((0,Ye.pi)((0,Ye.pi)({},void 0!==e.limit&&null!==e.limit&&{limit:e.limit}),void 0!==e.logGroupNamePrefix&&null!==e.logGroupNamePrefix&&{logGroupNamePrefix:e.logGroupNamePrefix}),void 0!==e.nextToken&&null!==e.nextToken&&{nextToken:e.nextToken})}(e)),[2,go(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i;return(0,Ye.Jh)(this,(function(o){switch(o.label){case 0:return e.statusCode>=300?[2,Rr(e,t)]:[4,vo(e.body,t)];case 1:return n=o.sent(),r=function(e,t){return{logGroups:void 0!==e.logGroups&&null!==e.logGroups?qi(e.logGroups):void 0,nextToken:(0,it.pY)(e.nextToken)}}(n),i=(0,Ye.pi)({$metadata:po(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(it.mY),Mo=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,Ye.ZT)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,yt.p2)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"DescribeLogStreamsCommand",inputFilterSensitiveLog:en.filterSensitiveLog,outputFilterSensitiveLog:nn.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r;return(0,Ye.Jh)(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.DescribeLogStreams"},r=JSON.stringify(function(e,t){return(0,Ye.pi)((0,Ye.pi)((0,Ye.pi)((0,Ye.pi)((0,Ye.pi)((0,Ye.pi)({},void 0!==e.descending&&null!==e.descending&&{descending:e.descending}),void 0!==e.limit&&null!==e.limit&&{limit:e.limit}),void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName}),void 0!==e.logStreamNamePrefix&&null!==e.logStreamNamePrefix&&{logStreamNamePrefix:e.logStreamNamePrefix}),void 0!==e.nextToken&&null!==e.nextToken&&{nextToken:e.nextToken}),void 0!==e.orderBy&&null!==e.orderBy&&{orderBy:e.orderBy})}(e)),[2,go(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i;return(0,Ye.Jh)(this,(function(o){switch(o.label){case 0:return e.statusCode>=300?[2,Lr(e,t)]:[4,vo(e.body,t)];case 1:return n=o.sent(),r=function(e,t){return{logStreams:void 0!==e.logStreams&&null!==e.logStreams?zi(e.logStreams):void 0,nextToken:(0,it.pY)(e.nextToken)}}(n),i=(0,Ye.pi)({$metadata:po(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(it.mY),Do=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,Ye.ZT)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,yt.p2)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"DescribeMetricFiltersCommand",inputFilterSensitiveLog:rn.filterSensitiveLog,outputFilterSensitiveLog:cn.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r;return(0,Ye.Jh)(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.DescribeMetricFilters"},r=JSON.stringify(function(e,t){return(0,Ye.pi)((0,Ye.pi)((0,Ye.pi)((0,Ye.pi)((0,Ye.pi)((0,Ye.pi)({},void 0!==e.filterNamePrefix&&null!==e.filterNamePrefix&&{filterNamePrefix:e.filterNamePrefix}),void 0!==e.limit&&null!==e.limit&&{limit:e.limit}),void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName}),void 0!==e.metricName&&null!==e.metricName&&{metricName:e.metricName}),void 0!==e.metricNamespace&&null!==e.metricNamespace&&{metricNamespace:e.metricNamespace}),void 0!==e.nextToken&&null!==e.nextToken&&{nextToken:e.nextToken})}(e)),[2,go(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i;return(0,Ye.Jh)(this,(function(o){switch(o.label){case 0:return e.statusCode>=300?[2,Mr(e,t)]:[4,vo(e.body,t)];case 1:return n=o.sent(),r=function(e,t){return{metricFilters:void 0!==e.metricFilters&&null!==e.metricFilters?Vi(e.metricFilters,t):void 0,nextToken:(0,it.pY)(e.nextToken)}}(n,t),i=(0,Ye.pi)({$metadata:po(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(it.mY),jo=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,Ye.ZT)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,yt.p2)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"DescribeQueriesCommand",inputFilterSensitiveLog:ln.filterSensitiveLog,outputFilterSensitiveLog:dn.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r;return(0,Ye.Jh)(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.DescribeQueries"},r=JSON.stringify(function(e,t){return(0,Ye.pi)((0,Ye.pi)((0,Ye.pi)((0,Ye.pi)({},void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName}),void 0!==e.maxResults&&null!==e.maxResults&&{maxResults:e.maxResults}),void 0!==e.nextToken&&null!==e.nextToken&&{nextToken:e.nextToken}),void 0!==e.status&&null!==e.status&&{status:e.status})}(e)),[2,go(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i;return(0,Ye.Jh)(this,(function(o){switch(o.label){case 0:return e.statusCode>=300?[2,Dr(e,t)]:[4,vo(e.body,t)];case 1:return n=o.sent(),r=function(e,t){return{nextToken:(0,it.pY)(e.nextToken),queries:void 0!==e.queries&&null!==e.queries?Xi(e.queries):void 0}}(n),i=(0,Ye.pi)({$metadata:po(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(it.mY),Fo=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,Ye.ZT)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,yt.p2)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"DescribeQueryDefinitionsCommand",inputFilterSensitiveLog:fn.filterSensitiveLog,outputFilterSensitiveLog:mn.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r;return(0,Ye.Jh)(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.DescribeQueryDefinitions"},r=JSON.stringify(function(e,t){return(0,Ye.pi)((0,Ye.pi)((0,Ye.pi)({},void 0!==e.maxResults&&null!==e.maxResults&&{maxResults:e.maxResults}),void 0!==e.nextToken&&null!==e.nextToken&&{nextToken:e.nextToken}),void 0!==e.queryDefinitionNamePrefix&&null!==e.queryDefinitionNamePrefix&&{queryDefinitionNamePrefix:e.queryDefinitionNamePrefix})}(e)),[2,go(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i;return(0,Ye.Jh)(this,(function(o){switch(o.label){case 0:return e.statusCode>=300?[2,jr(e,t)]:[4,vo(e.body,t)];case 1:return n=o.sent(),r=function(e,t){return{nextToken:(0,it.pY)(e.nextToken),queryDefinitions:void 0!==e.queryDefinitions&&null!==e.queryDefinitions?Qi(e.queryDefinitions):void 0}}(n),i=(0,Ye.pi)({$metadata:po(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(it.mY),Bo=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,Ye.ZT)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,yt.p2)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"DescribeResourcePoliciesCommand",inputFilterSensitiveLog:gn.filterSensitiveLog,outputFilterSensitiveLog:yn.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r;return(0,Ye.Jh)(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.DescribeResourcePolicies"},r=JSON.stringify(function(e,t){return(0,Ye.pi)((0,Ye.pi)({},void 0!==e.limit&&null!==e.limit&&{limit:e.limit}),void 0!==e.nextToken&&null!==e.nextToken&&{nextToken:e.nextToken})}(e)),[2,go(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i;return(0,Ye.Jh)(this,(function(o){switch(o.label){case 0:return e.statusCode>=300?[2,Fr(e,t)]:[4,vo(e.body,t)];case 1:return n=o.sent(),r=function(e,t){return{nextToken:(0,it.pY)(e.nextToken),resourcePolicies:void 0!==e.resourcePolicies&&null!==e.resourcePolicies?oo(e.resourcePolicies,t):void 0}}(n,t),i=(0,Ye.pi)({$metadata:po(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(it.mY),qo=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,Ye.ZT)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,yt.p2)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"DescribeSubscriptionFiltersCommand",inputFilterSensitiveLog:bn.filterSensitiveLog,outputFilterSensitiveLog:_n.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r;return(0,Ye.Jh)(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.DescribeSubscriptionFilters"},r=JSON.stringify(function(e,t){return(0,Ye.pi)((0,Ye.pi)((0,Ye.pi)((0,Ye.pi)({},void 0!==e.filterNamePrefix&&null!==e.filterNamePrefix&&{filterNamePrefix:e.filterNamePrefix}),void 0!==e.limit&&null!==e.limit&&{limit:e.limit}),void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName}),void 0!==e.nextToken&&null!==e.nextToken&&{nextToken:e.nextToken})}(e)),[2,go(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i;return(0,Ye.Jh)(this,(function(o){switch(o.label){case 0:return e.statusCode>=300?[2,Br(e,t)]:[4,vo(e.body,t)];case 1:return n=o.sent(),r=function(e,t){return{nextToken:(0,it.pY)(e.nextToken),subscriptionFilters:void 0!==e.subscriptionFilters&&null!==e.subscriptionFilters?lo(e.subscriptionFilters):void 0}}(n),i=(0,Ye.pi)({$metadata:po(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(it.mY),Uo=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,Ye.ZT)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,yt.p2)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"DisassociateKmsKeyCommand",inputFilterSensitiveLog:xn.filterSensitiveLog,outputFilterSensitiveLog:function(e){return e}},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r;return(0,Ye.Jh)(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.DisassociateKmsKey"},r=JSON.stringify(function(e,t){return(0,Ye.pi)({},void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName})}(e)),[2,go(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n;return(0,Ye.Jh)(this,(function(r){switch(r.label){case 0:return e.statusCode>=300?[2,qr(e,t)]:[4,mo(e.body,t)];case 1:return r.sent(),n={$metadata:po(e)},[2,Promise.resolve(n)]}}))}))}(e,t)},t}(it.mY),zo=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,Ye.ZT)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,yt.p2)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"FilterLogEventsCommand",inputFilterSensitiveLog:En.filterSensitiveLog,outputFilterSensitiveLog:An.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r;return(0,Ye.Jh)(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.FilterLogEvents"},r=JSON.stringify(function(e,t){return(0,Ye.pi)((0,Ye.pi)((0,Ye.pi)((0,Ye.pi)((0,Ye.pi)((0,Ye.pi)((0,Ye.pi)((0,Ye.pi)((0,Ye.pi)({},void 0!==e.endTime&&null!==e.endTime&&{endTime:e.endTime}),void 0!==e.filterPattern&&null!==e.filterPattern&&{filterPattern:e.filterPattern}),void 0!==e.interleaved&&null!==e.interleaved&&{interleaved:e.interleaved}),void 0!==e.limit&&null!==e.limit&&{limit:e.limit}),void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName}),void 0!==e.logStreamNamePrefix&&null!==e.logStreamNamePrefix&&{logStreamNamePrefix:e.logStreamNamePrefix}),void 0!==e.logStreamNames&&null!==e.logStreamNames&&{logStreamNames:bi(e.logStreamNames)}),void 0!==e.nextToken&&null!==e.nextToken&&{nextToken:e.nextToken}),void 0!==e.startTime&&null!==e.startTime&&{startTime:e.startTime})}(e)),[2,go(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i;return(0,Ye.Jh)(this,(function(o){switch(o.label){case 0:return e.statusCode>=300?[2,Ur(e,t)]:[4,vo(e.body,t)];case 1:return n=o.sent(),r=function(e,t){return{events:void 0!==e.events&&null!==e.events?Ri(e.events):void 0,nextToken:(0,it.pY)(e.nextToken),searchedLogStreams:void 0!==e.searchedLogStreams&&null!==e.searchedLogStreams?co(e.searchedLogStreams):void 0}}(n),i=(0,Ye.pi)({$metadata:po(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(it.mY),$o=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,Ye.ZT)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,yt.p2)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"GetLogEventsCommand",inputFilterSensitiveLog:Nn.filterSensitiveLog,outputFilterSensitiveLog:Pn.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r;return(0,Ye.Jh)(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.GetLogEvents"},r=JSON.stringify(function(e,t){return(0,Ye.pi)((0,Ye.pi)((0,Ye.pi)((0,Ye.pi)((0,Ye.pi)((0,Ye.pi)((0,Ye.pi)({},void 0!==e.endTime&&null!==e.endTime&&{endTime:e.endTime}),void 0!==e.limit&&null!==e.limit&&{limit:e.limit}),void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName}),void 0!==e.logStreamName&&null!==e.logStreamName&&{logStreamName:e.logStreamName}),void 0!==e.nextToken&&null!==e.nextToken&&{nextToken:e.nextToken}),void 0!==e.startFromHead&&null!==e.startFromHead&&{startFromHead:e.startFromHead}),void 0!==e.startTime&&null!==e.startTime&&{startTime:e.startTime})}(e)),[2,go(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i;return(0,Ye.Jh)(this,(function(o){switch(o.label){case 0:return e.statusCode>=300?[2,zr(e,t)]:[4,vo(e.body,t)];case 1:return n=o.sent(),r=function(e,t){return{events:void 0!==e.events&&null!==e.events?Zi(e.events):void 0,nextBackwardToken:(0,it.pY)(e.nextBackwardToken),nextForwardToken:(0,it.pY)(e.nextForwardToken)}}(n),i=(0,Ye.pi)({$metadata:po(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(it.mY),Ho=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,Ye.ZT)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,yt.p2)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"GetLogGroupFieldsCommand",inputFilterSensitiveLog:On.filterSensitiveLog,outputFilterSensitiveLog:Rn.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r;return(0,Ye.Jh)(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.GetLogGroupFields"},r=JSON.stringify(function(e,t){return(0,Ye.pi)((0,Ye.pi)({},void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName}),void 0!==e.time&&null!==e.time&&{time:e.time})}(e)),[2,go(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i;return(0,Ye.Jh)(this,(function(o){switch(o.label){case 0:return e.statusCode>=300?[2,$r(e,t)]:[4,vo(e.body,t)];case 1:return n=o.sent(),r=function(e,t){return{logGroupFields:void 0!==e.logGroupFields&&null!==e.logGroupFields?Fi(e.logGroupFields):void 0}}(n),i=(0,Ye.pi)({$metadata:po(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(it.mY),Go=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,Ye.ZT)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,yt.p2)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"GetLogRecordCommand",inputFilterSensitiveLog:Ln.filterSensitiveLog,outputFilterSensitiveLog:Mn.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r;return(0,Ye.Jh)(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.GetLogRecord"},r=JSON.stringify(function(e,t){return(0,Ye.pi)({},void 0!==e.logRecordPointer&&null!==e.logRecordPointer&&{logRecordPointer:e.logRecordPointer})}(e)),[2,go(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i;return(0,Ye.Jh)(this,(function(o){switch(o.label){case 0:return e.statusCode>=300?[2,Hr(e,t)]:[4,vo(e.body,t)];case 1:return n=o.sent(),r=function(e,t){return{logRecord:void 0!==e.logRecord&&null!==e.logRecord?Ui(e.logRecord):void 0}}(n),i=(0,Ye.pi)({$metadata:po(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(it.mY),Vo=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,Ye.ZT)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,yt.p2)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"GetQueryResultsCommand",inputFilterSensitiveLog:Dn.filterSensitiveLog,outputFilterSensitiveLog:Bn.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r;return(0,Ye.Jh)(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.GetQueryResults"},r=JSON.stringify(function(e,t){return(0,Ye.pi)({},void 0!==e.queryId&&null!==e.queryId&&{queryId:e.queryId})}(e)),[2,go(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i;return(0,Ye.Jh)(this,(function(o){switch(o.label){case 0:return e.statusCode>=300?[2,Gr(e,t)]:[4,vo(e.body,t)];case 1:return n=o.sent(),r=function(e,t){return{results:void 0!==e.results&&null!==e.results?eo(e.results,t):void 0,statistics:void 0!==e.statistics&&null!==e.statistics?to(e.statistics):void 0,status:(0,it.pY)(e.status)}}(n,t),i=(0,Ye.pi)({$metadata:po(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(it.mY),Wo=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,Ye.ZT)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,yt.p2)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"ListTagsLogGroupCommand",inputFilterSensitiveLog:zn.filterSensitiveLog,outputFilterSensitiveLog:$n.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r;return(0,Ye.Jh)(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.ListTagsLogGroup"},r=JSON.stringify(function(e,t){return(0,Ye.pi)({},void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName})}(e)),[2,go(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i;return(0,Ye.Jh)(this,(function(o){switch(o.label){case 0:return e.statusCode>=300?[2,Vr(e,t)]:[4,vo(e.body,t)];case 1:return n=o.sent(),r=function(e,t){return{tags:void 0!==e.tags&&null!==e.tags?ho(e.tags):void 0}}(n),i=(0,Ye.pi)({$metadata:po(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(it.mY),Ko=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,Ye.ZT)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,yt.p2)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"PutDestinationCommand",inputFilterSensitiveLog:Hn.filterSensitiveLog,outputFilterSensitiveLog:Gn.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r;return(0,Ye.Jh)(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.PutDestination"},r=JSON.stringify(function(e,t){return(0,Ye.pi)((0,Ye.pi)((0,Ye.pi)({},void 0!==e.destinationName&&null!==e.destinationName&&{destinationName:e.destinationName}),void 0!==e.roleArn&&null!==e.roleArn&&{roleArn:e.roleArn}),void 0!==e.targetArn&&null!==e.targetArn&&{targetArn:e.targetArn})}(e)),[2,go(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i;return(0,Ye.Jh)(this,(function(o){switch(o.label){case 0:return e.statusCode>=300?[2,Wr(e,t)]:[4,vo(e.body,t)];case 1:return n=o.sent(),r=function(e,t){return{destination:void 0!==e.destination&&null!==e.destination?ki(e.destination):void 0}}(n),i=(0,Ye.pi)({$metadata:po(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(it.mY),Zo=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,Ye.ZT)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,yt.p2)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"PutDestinationPolicyCommand",inputFilterSensitiveLog:Vn.filterSensitiveLog,outputFilterSensitiveLog:function(e){return e}},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r;return(0,Ye.Jh)(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.PutDestinationPolicy"},r=JSON.stringify(function(e,t){return(0,Ye.pi)((0,Ye.pi)((0,Ye.pi)({},void 0!==e.accessPolicy&&null!==e.accessPolicy&&{accessPolicy:e.accessPolicy}),void 0!==e.destinationName&&null!==e.destinationName&&{destinationName:e.destinationName}),void 0!==e.forceUpdate&&null!==e.forceUpdate&&{forceUpdate:e.forceUpdate})}(e)),[2,go(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n;return(0,Ye.Jh)(this,(function(r){switch(r.label){case 0:return e.statusCode>=300?[2,Kr(e,t)]:[4,mo(e.body,t)];case 1:return r.sent(),n={$metadata:po(e)},[2,Promise.resolve(n)]}}))}))}(e,t)},t}(it.mY),Yo=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,Ye.ZT)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,yt.p2)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"PutLogEventsCommand",inputFilterSensitiveLog:Wn.filterSensitiveLog,outputFilterSensitiveLog:Zn.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r;return(0,Ye.Jh)(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.PutLogEvents"},r=JSON.stringify(function(e,t){return(0,Ye.pi)((0,Ye.pi)((0,Ye.pi)((0,Ye.pi)({},void 0!==e.logEvents&&null!==e.logEvents&&{logEvents:yi(e.logEvents)}),void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName}),void 0!==e.logStreamName&&null!==e.logStreamName&&{logStreamName:e.logStreamName}),void 0!==e.sequenceToken&&null!==e.sequenceToken&&{sequenceToken:e.sequenceToken})}(e)),[2,go(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i;return(0,Ye.Jh)(this,(function(o){switch(o.label){case 0:return e.statusCode>=300?[2,Zr(e,t)]:[4,vo(e.body,t)];case 1:return n=o.sent(),r=function(e,t){return{nextSequenceToken:(0,it.pY)(e.nextSequenceToken),rejectedLogEventsInfo:void 0!==e.rejectedLogEventsInfo&&null!==e.rejectedLogEventsInfo?no(e.rejectedLogEventsInfo):void 0}}(n),i=(0,Ye.pi)({$metadata:po(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(it.mY),Jo=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,Ye.ZT)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,yt.p2)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"PutMetricFilterCommand",inputFilterSensitiveLog:Jn.filterSensitiveLog,outputFilterSensitiveLog:function(e){return e}},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r;return(0,Ye.Jh)(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.PutMetricFilter"},r=JSON.stringify(function(e,t){return(0,Ye.pi)((0,Ye.pi)((0,Ye.pi)((0,Ye.pi)({},void 0!==e.filterName&&null!==e.filterName&&{filterName:e.filterName}),void 0!==e.filterPattern&&null!==e.filterPattern&&{filterPattern:e.filterPattern}),void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName}),void 0!==e.metricTransformations&&null!==e.metricTransformations&&{metricTransformations:Si(e.metricTransformations)})}(e)),[2,go(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n;return(0,Ye.Jh)(this,(function(r){switch(r.label){case 0:return e.statusCode>=300?[2,Yr(e,t)]:[4,mo(e.body,t)];case 1:return r.sent(),n={$metadata:po(e)},[2,Promise.resolve(n)]}}))}))}(e,t)},t}(it.mY),Qo=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,Ye.ZT)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,yt.p2)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"PutQueryDefinitionCommand",inputFilterSensitiveLog:Qn.filterSensitiveLog,outputFilterSensitiveLog:Xn.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r;return(0,Ye.Jh)(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.PutQueryDefinition"},r=JSON.stringify(function(e,t){return(0,Ye.pi)((0,Ye.pi)((0,Ye.pi)((0,Ye.pi)({},void 0!==e.logGroupNames&&null!==e.logGroupNames&&{logGroupNames:wi(e.logGroupNames)}),void 0!==e.name&&null!==e.name&&{name:e.name}),void 0!==e.queryDefinitionId&&null!==e.queryDefinitionId&&{queryDefinitionId:e.queryDefinitionId}),void 0!==e.queryString&&null!==e.queryString&&{queryString:e.queryString})}(e)),[2,go(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i;return(0,Ye.Jh)(this,(function(o){switch(o.label){case 0:return e.statusCode>=300?[2,Jr(e,t)]:[4,vo(e.body,t)];case 1:return n=o.sent(),r=function(e,t){return{queryDefinitionId:(0,it.pY)(e.queryDefinitionId)}}(n),i=(0,Ye.pi)({$metadata:po(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(it.mY),Xo=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,Ye.ZT)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,yt.p2)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"PutResourcePolicyCommand",inputFilterSensitiveLog:er.filterSensitiveLog,outputFilterSensitiveLog:tr.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r;return(0,Ye.Jh)(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.PutResourcePolicy"},r=JSON.stringify(function(e,t){return(0,Ye.pi)((0,Ye.pi)({},void 0!==e.policyDocument&&null!==e.policyDocument&&{policyDocument:e.policyDocument}),void 0!==e.policyName&&null!==e.policyName&&{policyName:e.policyName})}(e)),[2,go(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i;return(0,Ye.Jh)(this,(function(o){switch(o.label){case 0:return e.statusCode>=300?[2,Qr(e,t)]:[4,vo(e.body,t)];case 1:return n=o.sent(),r=function(e,t){return{resourcePolicy:void 0!==e.resourcePolicy&&null!==e.resourcePolicy?so(e.resourcePolicy,t):void 0}}(n,t),i=(0,Ye.pi)({$metadata:po(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(it.mY),es=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,Ye.ZT)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,yt.p2)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"PutRetentionPolicyCommand",inputFilterSensitiveLog:nr.filterSensitiveLog,outputFilterSensitiveLog:function(e){return e}},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r;return(0,Ye.Jh)(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.PutRetentionPolicy"},r=JSON.stringify(function(e,t){return(0,Ye.pi)((0,Ye.pi)({},void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName}),void 0!==e.retentionInDays&&null!==e.retentionInDays&&{retentionInDays:e.retentionInDays})}(e)),[2,go(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n;return(0,Ye.Jh)(this,(function(r){switch(r.label){case 0:return e.statusCode>=300?[2,Xr(e,t)]:[4,mo(e.body,t)];case 1:return r.sent(),n={$metadata:po(e)},[2,Promise.resolve(n)]}}))}))}(e,t)},t}(it.mY),ts=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,Ye.ZT)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,yt.p2)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"PutSubscriptionFilterCommand",inputFilterSensitiveLog:rr.filterSensitiveLog,outputFilterSensitiveLog:function(e){return e}},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r;return(0,Ye.Jh)(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.PutSubscriptionFilter"},r=JSON.stringify(function(e,t){return(0,Ye.pi)((0,Ye.pi)((0,Ye.pi)((0,Ye.pi)((0,Ye.pi)((0,Ye.pi)({},void 0!==e.destinationArn&&null!==e.destinationArn&&{destinationArn:e.destinationArn}),void 0!==e.distribution&&null!==e.distribution&&{distribution:e.distribution}),void 0!==e.filterName&&null!==e.filterName&&{filterName:e.filterName}),void 0!==e.filterPattern&&null!==e.filterPattern&&{filterPattern:e.filterPattern}),void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName}),void 0!==e.roleArn&&null!==e.roleArn&&{roleArn:e.roleArn})}(e)),[2,go(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n;return(0,Ye.Jh)(this,(function(r){switch(r.label){case 0:return e.statusCode>=300?[2,ei(e,t)]:[4,mo(e.body,t)];case 1:return r.sent(),n={$metadata:po(e)},[2,Promise.resolve(n)]}}))}))}(e,t)},t}(it.mY),ns=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,Ye.ZT)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,yt.p2)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"StartQueryCommand",inputFilterSensitiveLog:ar.filterSensitiveLog,outputFilterSensitiveLog:cr.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r;return(0,Ye.Jh)(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.StartQuery"},r=JSON.stringify(function(e,t){return(0,Ye.pi)((0,Ye.pi)((0,Ye.pi)((0,Ye.pi)((0,Ye.pi)((0,Ye.pi)({},void 0!==e.endTime&&null!==e.endTime&&{endTime:e.endTime}),void 0!==e.limit&&null!==e.limit&&{limit:e.limit}),void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName}),void 0!==e.logGroupNames&&null!==e.logGroupNames&&{logGroupNames:wi(e.logGroupNames)}),void 0!==e.queryString&&null!==e.queryString&&{queryString:e.queryString}),void 0!==e.startTime&&null!==e.startTime&&{startTime:e.startTime})}(e)),[2,go(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i;return(0,Ye.Jh)(this,(function(o){switch(o.label){case 0:return e.statusCode>=300?[2,ti(e,t)]:[4,vo(e.body,t)];case 1:return n=o.sent(),r=function(e,t){return{queryId:(0,it.pY)(e.queryId)}}(n),i=(0,Ye.pi)({$metadata:po(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(it.mY),rs=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,Ye.ZT)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,yt.p2)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"StopQueryCommand",inputFilterSensitiveLog:ur.filterSensitiveLog,outputFilterSensitiveLog:lr.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r;return(0,Ye.Jh)(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.StopQuery"},r=JSON.stringify(function(e,t){return(0,Ye.pi)({},void 0!==e.queryId&&null!==e.queryId&&{queryId:e.queryId})}(e)),[2,go(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i;return(0,Ye.Jh)(this,(function(o){switch(o.label){case 0:return e.statusCode>=300?[2,ni(e,t)]:[4,vo(e.body,t)];case 1:return n=o.sent(),r=function(e,t){return{success:(0,it.zE)(e.success)}}(n),i=(0,Ye.pi)({$metadata:po(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(it.mY),is=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,Ye.ZT)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,yt.p2)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"TagLogGroupCommand",inputFilterSensitiveLog:hr.filterSensitiveLog,outputFilterSensitiveLog:function(e){return e}},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r;return(0,Ye.Jh)(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.TagLogGroup"},r=JSON.stringify(function(e,t){return(0,Ye.pi)((0,Ye.pi)({},void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName}),void 0!==e.tags&&null!==e.tags&&{tags:xi(e.tags)})}(e)),[2,go(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n;return(0,Ye.Jh)(this,(function(r){switch(r.label){case 0:return e.statusCode>=300?[2,ri(e,t)]:[4,mo(e.body,t)];case 1:return r.sent(),n={$metadata:po(e)},[2,Promise.resolve(n)]}}))}))}(e,t)},t}(it.mY),os=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,Ye.ZT)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,yt.p2)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"TestMetricFilterCommand",inputFilterSensitiveLog:dr.filterSensitiveLog,outputFilterSensitiveLog:pr.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r;return(0,Ye.Jh)(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.TestMetricFilter"},r=JSON.stringify(function(e,t){return(0,Ye.pi)((0,Ye.pi)({},void 0!==e.filterPattern&&null!==e.filterPattern&&{filterPattern:e.filterPattern}),void 0!==e.logEventMessages&&null!==e.logEventMessages&&{logEventMessages:Ci(e.logEventMessages)})}(e)),[2,go(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r,i;return(0,Ye.Jh)(this,(function(o){switch(o.label){case 0:return e.statusCode>=300?[2,ii(e,t)]:[4,vo(e.body,t)];case 1:return n=o.sent(),r=function(e,t){return{matches:void 0!==e.matches&&null!==e.matches?Hi(e.matches,t):void 0}}(n,t),i=(0,Ye.pi)({$metadata:po(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(it.mY),ss=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,Ye.ZT)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,yt.p2)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"UntagLogGroupCommand",inputFilterSensitiveLog:mr.filterSensitiveLog,outputFilterSensitiveLog:function(e){return e}},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n,r;return(0,Ye.Jh)(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.UntagLogGroup"},r=JSON.stringify(function(e,t){return(0,Ye.pi)((0,Ye.pi)({},void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName}),void 0!==e.tags&&null!==e.tags&&{tags:_i(e.tags)})}(e)),[2,go(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return(0,Ye.mG)(void 0,void 0,void 0,(function(){var n;return(0,Ye.Jh)(this,(function(r){switch(r.label){case 0:return e.statusCode>=300?[2,oi(e,t)]:[4,mo(e.body,t)];case 1:return r.sent(),n={$metadata:po(e)},[2,Promise.resolve(n)]}}))}))}(e,t)},t}(it.mY),as=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Ye.ZT)(t,e),t.prototype.associateKmsKey=function(e,t,n){var r=new bo(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.cancelExportTask=function(e,t,n){var r=new wo(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.createExportTask=function(e,t,n){var r=new So(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.createLogGroup=function(e,t,n){var r=new _o(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.createLogStream=function(e,t,n){var r=new xo(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.deleteDestination=function(e,t,n){var r=new Co(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.deleteLogGroup=function(e,t,n){var r=new Eo(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.deleteLogStream=function(e,t,n){var r=new ko(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.deleteMetricFilter=function(e,t,n){var r=new Ao(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.deleteQueryDefinition=function(e,t,n){var r=new No(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.deleteResourcePolicy=function(e,t,n){var r=new To(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.deleteRetentionPolicy=function(e,t,n){var r=new Po(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.deleteSubscriptionFilter=function(e,t,n){var r=new Oo(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.describeDestinations=function(e,t,n){var r=new Io(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.describeExportTasks=function(e,t,n){var r=new Ro(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.describeLogGroups=function(e,t,n){var r=new Lo(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.describeLogStreams=function(e,t,n){var r=new Mo(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.describeMetricFilters=function(e,t,n){var r=new Do(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.describeQueries=function(e,t,n){var r=new jo(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.describeQueryDefinitions=function(e,t,n){var r=new Fo(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.describeResourcePolicies=function(e,t,n){var r=new Bo(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.describeSubscriptionFilters=function(e,t,n){var r=new qo(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.disassociateKmsKey=function(e,t,n){var r=new Uo(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.filterLogEvents=function(e,t,n){var r=new zo(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.getLogEvents=function(e,t,n){var r=new $o(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.getLogGroupFields=function(e,t,n){var r=new Ho(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.getLogRecord=function(e,t,n){var r=new Go(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.getQueryResults=function(e,t,n){var r=new Vo(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.listTagsLogGroup=function(e,t,n){var r=new Wo(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.putDestination=function(e,t,n){var r=new Ko(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.putDestinationPolicy=function(e,t,n){var r=new Zo(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.putLogEvents=function(e,t,n){var r=new Yo(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.putMetricFilter=function(e,t,n){var r=new Jo(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.putQueryDefinition=function(e,t,n){var r=new Qo(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.putResourcePolicy=function(e,t,n){var r=new Xo(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.putRetentionPolicy=function(e,t,n){var r=new es(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.putSubscriptionFilter=function(e,t,n){var r=new ts(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.startQuery=function(e,t,n){var r=new ns(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.stopQuery=function(e,t,n){var r=new rs(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.tagLogGroup=function(e,t,n){var r=new is(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.testMetricFilter=function(e,t,n){var r=new os(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t.prototype.untagLogGroup=function(e,t,n){var r=new ss(e);if("function"==typeof t)this.send(r,t);else{if("function"!=typeof n)return this.send(r,t);if("object"!=typeof t)throw new Error("Expect http options but get ".concat(typeof t));this.send(r,t||{},n)}},t}(vt);function cs(e,t){var n=void 0!==Ie()&&Le()(e)||e["@@iterator"];if(!n){if(De()(e)||(n=function(e,t){var n;if(e){if("string"==typeof e)return us(e,t);var r=Ne()(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Pe()(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?us(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function us(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ls=function(e){(0,h.Z)(p,e);var t,n,r,o,l=(r=p,o=function(){if("undefined"==typeof Reflect||!s())return!1;if(s().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(s()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=(0,f.Z)(r);if(o){var n=(0,f.Z)(this).constructor;e=s()(t,arguments,n)}else e=t.apply(this,arguments);return(0,d.Z)(this,e)});function p(e,t,n,r){var i;(0,c.Z)(this,p),i=l.call(this),(0,_.Z)((0,le.Z)(i),"setHeaders",(function(e){i._headers=ee()(i._headers,e)})),(0,_.Z)((0,le.Z)(i),"_updateStreams",(function(){var e,t=cs(i._streams);try{for(t.s();!(e=t.n()).done;)e.value.tryToUpload()}catch(e){t.e(e)}finally{t.f()}})),(0,_.Z)((0,le.Z)(i),"__onStreamUploaded",(function(e,t){1!==e&&0!==e||t&&t.length>1&&T()(t).call(t,(function(e){e.message&&(e.logger=e.logger||"CloudWatchLoggingReupload",i.log(e))}))})),i._cloudWatchLogger=new as(r),i._defaultLogLevel="INFO",i._defaultLogGroup=e,i._headers={},ee()(i._headers,t),i._streamNameGenerator=n,i._streams=[];var o=i.__newStream();return i._streams.push(o),i._currentFillingStream=o,i._nextTokenForDescription=null,i._isUploading=!1,ge()((function(){i._updateStreams()}),5e3),i}return(0,u.Z)(p,[{key:"log",value:function(e,t){var n={},r=void 0;e.cache_time&&(r=e.cache_time),ee()(n,e),n.cache_time&&delete n.cache_time,n.headers&&delete n.headers,e.headers&&ee()(n,e.headers),ee()(n,this._headers);var o=function(e,t,n){var r=function(e){return e?e.message?e.logger?void 0:"The 'logger' field is empty.":"The 'message' field is empty.":"The payload is empty."}(e);if(r)return{error:r};var o=i.TC(e.message);if(Ke(o))return{error:"Cannot create a log event from an oversize log "+e.message.substr(0,1024)+"... from "+e.logger};var s={};ee()(s,e),s.level||(s.level=t);var a={message:y()(s)};a.timestamp=n&&n>0?n:Y()();var c=We(a);return Ke(c)?{error:"Cannot create a log event from an oversize log "+e.message.substr(0,1024)+"... from "+e.logger}:{event:a,size:c}}(n,this._defaultLogLevel,r);o.error?this.__emitInternalErrorEvent(o.error):this.__logEvent(o.event,o.size,t)}},{key:"__logEvent",value:function(e,t,n){for(var r=!1,i=0;!r;)if(!(r=this._currentFillingStream.addLogEvent(e,t))){if(this._currentFillingStream.upload(),++i>2)break;var o,s=!1,a=cs(this._streams);try{for(a.s();!(o=a.n()).done;){var c=o.value;if(c!=this._currentFillingStream&&c.isReusable()){c.startFilling(),this._currentFillingStream=c,s=!0;break}}}catch(e){a.e(e)}finally{a.f()}if(!s){var u=this.__newStream();this._streams.push(u),this._currentFillingStream=u}}if(!r)throw new Error("Failed to log event ",y()(e));n&&this._currentFillingStream.upload()}},{key:"__emitInternalErrorEvent",value:function(e){this.log({logger:"CloudWatchLogging",level:"ERROR",message:e})}},{key:"__newStream",value:function(){var e=this,t=this._streamNameGenerator(),n=new Ve(this._cloudWatchLogger,this._defaultLogGroup,t);return n.addListener(0,(function(t){e.__onStreamUploaded(0,t)})),n.addListener(1,(function(t){e.__onStreamUploaded(1,t)})),n.addListener(2,(function(t){e.__onStreamUploaded(2,t)})),n.startFilling(),this._currentFillingStream=n,n}},{key:"_describeLogStreams",value:(n=(0,a.Z)(m().mark((function e(t){var n,r=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:1,e.next=3,Ze(this._cloudWatchLogger,this._defaultLogGroup,t,null,n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"_getLogEvents",value:(t=(0,a.Z)(m().mark((function e(t){var n=this;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new(ie())((function(e,r){var i={logGroupName:n._defaultLogGroup,logStreamName:t,startFromHead:!0};n._cloudWatchLogger.getLogEvents(i,(function(t,n){t?r(t):e(n)}))})));case 1:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})}]),p}(function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"AbstractLogging",value:function(){}},{key:"log",value:function(e,t){console.error("AbstractLogging.log should be overrided.")}}]),e}());const hs={cognitoIdentityPoolId:"ap-southeast-2:a1070adf-1a35-4abe-8175-4ac08a417c49",cognitoIdentityPoolRegion:"ap-southeast-2",roleARN:"arn:aws:iam::804185672625:role/Cognito_ProdMateriaIdentityPoolUnauth_Role",logGroupName:"Log.materia-client-sdk-js",region:"us-east-2"};var ds=n(8554);function fs(e,t){var n=A()(e);if(ye()){var r=ye()(e);t&&(r=Q()(r).call(r,(function(t){return we()(e,t).enumerable}))),n.push.apply(n,r)}return n}var ps,ms=function(e){for(var t=1;t<arguments.length;t++){var n,r,i=null!=arguments[t]?arguments[t]:{};t%2?T()(n=fs(Object(i),!0)).call(n,(function(t){(0,_.Z)(e,t,i[t])})):_e()?Ce()(e,_e()(i)):T()(r=fs(Object(i))).call(r,(function(t){ke()(e,t,we()(i,t))}))}return e}({},hs),gs=[],vs={},ys={};function bs(){return ws.apply(this,arguments)}function ws(){return(ws=(0,a.Z)(m().mark((function e(){var t,n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ms.cognitoIdentityPoolId,n=ms.cognitoIdentityPoolRegion,ys=(0,ds.s)({identityPoolId:t,clientConfig:{region:n}}),e.abrupt("return",ys);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ss(e,t,n){return _s.apply(this,arguments)}function _s(){return _s=(0,a.Z)(m().mark((function e(t,n,r){var i,o,s,a,c=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=c.length>3&&void 0!==c[3]?c[3]:{cognitoIdentityPoolId:"",roleARN:"",cognitoIdentityPoolRegion:"",region:""})&&(i.cognitoIdentityPoolId&&i.cognitoIdentityPoolId!==hs.cognitoIdentityPoolId&&(ms.cognitoIdentityPoolId=i.cognitoIdentityPoolId),i.cognitoIdentityPoolRegion&&i.cognitoIdentityPoolRegion!==hs.cognitoIdentityPoolRegion&&(ms.cognitoIdentityPoolRegion=i.cognitoIdentityPoolRegion),i.roleARN&&i.roleARN!==hs.roleARN&&(ms.roleARN=i.roleARN),i.region&&i.region!==hs.region&&(ms.region=i.region)),e.next=4,bs();case 4:if(o=e.sent,s=ee()(n,vs),ps=new ls(t,s,r,{region:ms.region,credentials:o}),gs.length>0){for(a=0;a<gs.length;++a)gs[a]&&(ps.log(gs[a].payload,gs[a].flush),gs[a]=void 0);gs.length=0}case 8:case"end":return e.stop()}}),e)}))),_s.apply(this,arguments)}function xs(e){ps?ps.setHeaders(e):e&&(vs=ee()(vs,e))}function Cs(e,t,n,r){if(e){var i=void 0;"object"===(0,K.Z)(e)&&("object"===(0,K.Z)(e.headers)&&(i=e.headers),e="string"==typeof e.message?e.message:"");var o={message:e,logger:t};i&&(o.headers=i),n&&(o.level=n),ps?"function"==typeof ps.log&&ps.log(o,r):(o.cache_time=Y()(),gs.push({payload:o,flush:r}))}}function Es(e,t){return ks.apply(this,arguments)}function ks(){return(ks=(0,a.Z)(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ps){e.next=4;break}return e.next=3,ps._describeLogStreams(t,n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function As(e){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,a.Z)(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ps){e.next=4;break}return e.next=3,ps._getLogEvents(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ts=n(3482),Ps=n(9136),Os=function(){function e(t,n,r){var o,s=this;(0,c.Z)(this,e),(0,_.Z)(this,"setConnectListener",(function(e){s.__connectListener=e,s.__materiaSocket.setConnectListener((function(e,t){s.__connectListener&&"function"==typeof s.__connectListener&&s.__connectListener(e,t)}))})),(0,_.Z)(this,"connect",(0,a.Z)(m().mark((function e(){var t,n,r,i,o,a,c,u;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Y()(),s.__materiaSocket){e.next=6;break}return n={socket:s.__materiaSocket},r=g.j("Socket is invalid for message worker.",30105,n),e.abrupt("return",r);case 6:if(!s.isConnected){e.next=8;break}return e.abrupt("return",g.x(s.isConnected));case 8:return e.prev=8,e.next=11,s.__materiaSocket.connect(2e4);case 11:e.next=31;break;case 13:e.prev=13,e.t0=e.catch(8),i=0,e.t1=e.t0,e.next=e.t1===Ps.S.TimeoutWhenConnecting?19:e.t1===Ps.S.NullSocketWhenConnecting?21:e.t1===Ps.S.ErrorWhenConnecting?23:e.t1===Ps.S.ClosedWhenConnecting?25:27;break;case 19:return i=Ts.j.Connection.Timeout,e.abrupt("break",27);case 21:return i=30240,e.abrupt("break",27);case 23:return i=30241,e.abrupt("break",27);case 25:return i=30242,e.abrupt("break",27);case 27:return o="Connection to socket failed".concat(e.t0?" with exception message: "+e.t0.toString():"."),a={exception:e.t0,socket:s.__materiaSocket},c=g.j(o,i,a),e.abrupt("return",c);case 31:if(Cs("Channel connection time: "+(Y()()-t)+"ms","MessageWorker","INFO"),s.isConnected){e.next=37;break}return u={socket:s.__materiaSocket},e.abrupt("return",g.j("Connection failure.",30139,u));case 37:return e.abrupt("return",g.x(s.isConnected));case 38:case"end":return e.stop()}}),e,null,[[8,13]])})))),(0,_.Z)(this,"disconnect",(0,a.Z)(m().mark((function e(){var t,n,r,i,o,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.__materiaSocket){e.next=5;break}return t={socket:s.__materiaSocket},n=g.j("Socket is invalid for message worker.",30103,t),e.abrupt("return",n);case 5:if(!s.isDisconnected){e.next=7;break}return e.abrupt("return",g.x(s.isDisconnected));case 7:return e.prev=7,e.next=10,s.__materiaSocket.disconnect(1e4);case 10:e.next=18;break;case 12:return e.prev=12,e.t0=e.catch(7),r="Disconnection from socket timed out".concat(e.t0?" with exception message: "+e.t0.toString():""),i={exception:e.t0,socket:s.__materiaSocket},o=g.j(r,30104,i),e.abrupt("return",o);case 18:if(s.isDisconnected){e.next=22;break}return a={socket:s.__materiaSocket},e.abrupt("return",g.j("Disconnection failure.",30140,a));case 22:return e.abrupt("return",g.x(s.isDisconnected));case 23:case"end":return e.stop()}}),e,null,[[7,12]])})))),(0,_.Z)(this,"sendMessage",(function(e){return new(ie())((function(t,n){if(!s.__messageInterpreter){var r=g.j("No valid message interpreter initialised for sending messages.",30101);n(r)}s.__messageInterpreter.pack(e,(function(e){if(e.messageID)s.__currentMessageID=e.messageID,s.__specificMessageCallbacks[e.messageID]=function(e,r){r?n({error:r}):t({result:e})};else{var r=g.j("Message requires valid message ID when packing messages.",30102);n(r)}if(!s.__materiaSocket){var i=g.j("No valid socket for sending messages.",30117);n(i)}try{s.__materiaSocket.sendMessage(e)}catch(e){var o={exception:e,socket:s.__materiaSocket};return g.j("Exception sending message over socket.",30118,o)}}))}))})),(0,_.Z)(this,"__handleMessage",(function(e){try{if(!s.__messageInterpreter)return void i.ji("No valid message interpreter is available to work for receiving message","error");s.__messageInterpreter.unpack(e,(function(e){try{if(e&&e.id&&s.__specificMessageCallbacks[e.id]){var t=s.__specificMessageCallbacks[e.id];delete s.__specificMessageCallbacks[e.id],s.__messageHandler.handle(e,t)}else s.__messageHandler.handle(e)}catch(t){var n,r={exception:t,messageToHandle:e},o=O()(n="Exception handling message '".concat(e.cmd,"' due to error '")).call(n,t.toString(),"'");i.ji(o,"error"),i.ji(r,"error");var a=g.j(o,30224,r);D.notifyNotificationError(e.cmd,a.error)}}))}catch(e){var t={exception:e},n="Error interpreting message due to error '".concat(e.toString(),"'");i.ji(n,"error"),i.ji(t,"error");var r=g.j(n,30225,t);D.notifyNotificationError("internalError",r.error)}})),(0,_.Z)(this,"__handleSocketError",(function(e){if(s.__currentMessageID&&s.__specificMessageCallbacks[s.__currentMessageID]){var t=s.__specificMessageCallbacks[s.__currentMessageID];delete s.__specificMessageCallbacks[s.__currentMessageID];var n="Internal socket error occurred during sending of message with ID ".concat(s.__currentMessageID,"."),r={messageID:s.__currentMessageID,socket:s.__materiaSocket,error:e},o=g.j(n,30119,r);s.__messageHandler.handle(o,t)}else{var a="Internal socket error occurred: ".concat(e,".");i.ji(a,"error")}})),(0,_.Z)(this,"__wait",(function(e,t){var n=new Date;return n.setMilliseconds(n.getMilliseconds()+e),new(ie())((function(e,r){t&&t()||e();var i=ge()((function(){t&&t()||(clearInterval(i),e()),Y()()>=n&&(clearInterval(i),r())}),50)}))})),(0,_.Z)(this,"__waitFor__obsolete",(o=(0,a.Z)(m().mark((function e(t,n){var r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(r=new Date).setMilliseconds(r.getMilliseconds()+t);case 2:if(!(n&&Y()()<r&&n())){e.next=7;break}return e.next=5,null;case 5:e.next=2;break;case 7:case"end":return e.stop()}}),e)}))),function(e,t){return o.apply(this,arguments)})),this.__specificMessageCallbacks={},this.__messageHandler=r,this.__messageInterpreter=n,this.__materiaSocket=t,this.__currentMessageID=void 0,this.__materiaSocket.setMessageReceivedListener((function(e){s.__handleMessage(e)})),this.__materiaSocket.setErrorListener((function(e){s.__handleSocketError(e)}))}return(0,u.Z)(e,[{key:"destructor",value:function(){this.__specificMessageCallbacks=void 0,this.__messageHandler=void 0,this.__messageInterpreter=void 0,this.__materiaSocket=void 0}},{key:"messageHandler",get:function(){return this.__messageHandler}},{key:"isConnected",get:function(){return!!this.__materiaSocket&&this.__materiaSocket.isConnected}},{key:"isDisconnected",get:function(){return!this.__materiaSocket||this.__materiaSocket.isDisconnected}},{key:"isBusyConnection",get:function(){return!!this.__materiaSocket&&this.__materiaSocket.isBusyConnection}}]),e}(),Is=1e3,Rs=function(e){(0,h.Z)(p,e);var t,n,r,o=(n=p,r=function(){if("undefined"==typeof Reflect||!s())return!1;if(s().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(s()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=(0,f.Z)(n);if(r){var i=(0,f.Z)(this).constructor;e=s()(t,arguments,i)}else e=t.apply(this,arguments);return(0,d.Z)(this,e)});function p(e){var t;(0,c.Z)(this,p);var n=new ue(e),r=new de,i=new pe,s=new Os(n,r,i);return(t=o.call(this,s))._heartBeatTimer=null,t._heartBeatInterval=Is,t}return(0,u.Z)(p,[{key:"destructor",value:function(){(0,l.Z)((0,f.Z)(p.prototype),"destructor",this).call(this)}},{key:"setConnectListener",value:function(e){var t=this;this._messageWorker.setConnectListener((function(n,r){var o,s=function(){t._heartBeatTimer&&(t._heartBeatTimer.stop(),t._heartBeatTimer=null,t._heartBeatInterval=Is)};if(s(),n.connected&&!n.busy){var c=(o=(0,a.Z)(m().mark((function e(){var n,r,i,o,s,a,c;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Y()(),r={method:"Materia.HeartBeat",parameters:{}},i=void 0,e.prev=3,e.next=6,t.sendMessage(r);case 6:i=e.sent,e.next=15;break;case 9:throw e.prev=9,e.t0=e.catch(3),o="Exception sending API call '".concat(r.method,"'."),s={exception:e.t0},Response.createErrorResponse(o,30243,s).error;case 15:if(!i.error){e.next=17;break}throw i.error;case 17:i.result>0?(a=Y()()-n,c=1e3*i.result*.8,(c-=a)<Is&&(c=Is),t._heartBeatInterval=c):t._heartBeatInterval=0;case 18:case"end":return e.stop()}}),e,null,[[3,9]])}))),function(){return o.apply(this,arguments)});t._heartBeatTimer=(0,i.ro)(c,(function(){return 0===t._heartBeatInterval?(s(),0):t._heartBeatInterval}),(function(e){s(),(0,i.ji)("Heart beat failed "+e,"error",i.zV.LoggerAndConsole)}))}"function"==typeof e&&e(n,r)}))}},{key:"sendMessage",value:(t=(0,a.Z)(m().mark((function e(t){var n,r,i,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._messageWorker){e.next=5;break}return n={channel:this},r=g.j("Channel has no message worker to send message with.",30111,n),e.abrupt("return",r);case 5:if(this._messageWorker.isConnected){e.next=10;break}return i={channel:this},o=g.j("Channel has no connected message worker to send message with.",30112,i),e.abrupt("return",o);case 10:return e.prev=10,e.next=13,this._messageWorker.sendMessage(t);case 13:return e.abrupt("return",e.sent);case 16:return e.prev=16,e.t0=e.catch(10),e.abrupt("return",e.t0);case 19:case"end":return e.stop()}}),e,this,[[10,16]])}))),function(e){return t.apply(this,arguments)})}]),p}(ae),Ls=n(9828),Ms=n.n(Ls),Ds=n(9674),js=n.n(Ds),Fs=function(e){(0,h.Z)(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!s())return!1;if(s().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(s()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,f.Z)(t);if(n){var i=(0,f.Z)(this).constructor;e=s()(r,arguments,i)}else e=r.apply(this,arguments);return(0,d.Z)(this,e)});function o(){var e;return(0,c.Z)(this,o),e=r.call(this),(0,_.Z)((0,le.Z)(e),"pack",(function(e,t){throw new Error("CompositeMessageInterpreter doesn't support packing composite message.")})),(0,_.Z)((0,le.Z)(e),"unpack",(function(t,n){if(!t){var r="null event received from WebSocket!";return i.ji(r,"warn"),void n(null,r)}var o;if("string"==typeof t.data)"_string_empty_"===t.data&&(o="");else if(t.data instanceof ArrayBuffer){var s=void 0;if(t.offset)if(s=new ArrayBuffer(t.count),t.count>0){var a=new Uint8Array(s);a.set(new Uint8Array(t.data,t.offset,t.count)),2===t.type&&(s=e._textDecoder.decode(a))}else 2===t.type&&(s="");else s=new ArrayBuffer(t.data.byteLength),new Uint8Array(s).set(new Uint8Array(t.data));o=s}else if(t.data instanceof Buffer){o=Buffer.from(t.data);var c=new ArrayBuffer(t.data.byteLength);new Uint8Array(c).set(new Uint8Array(t.data)),o=c}e.__isPackage(o)?e.__handlePackage(o,n):(e._buffer.push(o),e.__isNotificationCommand(o,null)?n({cmd:o.toString(),parameters:e._buffer})||(e._buffer=[]):n())})),(0,_.Z)((0,le.Z)(e),"__resetBuffer",(function(){e._buffer=[]})),(0,_.Z)((0,le.Z)(e),"__handlePackage",(function(t,n){for(var r=new Uint8Array(t),i=11;i<t.byteLength;){var o=r[i]|r[i+1]<<8|r[i+2]<<16|r[i+3]<<24,s=r[i+4];i+=4,i+=1,e.unpack({data:t,offset:i,count:o,type:s},n),i+=o}})),e._textDecoder=new(js().TextDecoder)("utf-8"),e._buffer=[],e._notificationPrefix="_cmd_",e}return(0,u.Z)(o,[{key:"__isNotificationCommand",value:function(e){return!("string"!=typeof e||!Ms()(e).call(e,this._notificationPrefix))}},{key:"__isPackage",value:function(e){if(e instanceof ArrayBuffer){var t=new Uint8Array(e);if(2===t[4]&&95===t[5]&&112===t[6]&&97===t[7]&&99===t[8]&&107===t[9]&&95===t[10])return!0}return!1}}]),o}(he),Bs=function(e){(0,h.Z)(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!s())return!1;if(s().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(s()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,f.Z)(t);if(n){var i=(0,f.Z)(this).constructor;e=s()(r,arguments,i)}else e=r.apply(this,arguments);return(0,d.Z)(this,e)});function o(e){var t;return(0,c.Z)(this,o),t=r.call(this),(0,_.Z)((0,le.Z)(t),"handle",(function(e,n){if(n)i.ji("handle composite message error:"+n,"error");else if(e){var r=e.cmd,o=e.parameters;r&&o&&t.__handleNotificationCommand(r,o)}})),(0,_.Z)((0,le.Z)(t),"__notifySubscriptions",(function(e,n){t._notificationCenter&&t._notificationCenter.emitNotification(e,n)})),(0,_.Z)((0,le.Z)(t),"__handleNotificationCommand",(function(e,n){var r=t.__constructNotification(e,n);if(void 0===r.command){var o=e;Ms()(o).call(o,t._notificationPrefix)&&(o=o.substr(t._notificationPrefix.length));var s="Received unsupported notification command: "+o;i.ji(s,"error");var a=g.j(s,30223);D.notifyNotificationError(o,a.error)}else D.notifyNotificationResponse(r.command),t.__notifySubscriptions(r.command,r.data)})),(0,_.Z)((0,le.Z)(t),"__constructNotification",(function(e,n){var r=void 0,i=void 0;if(t.__isNotificationCommand(e,"EngineClear"))r="engine.clear",i=new Object;else if(t.__isNotificationCommand(e,"MachineAdded")){var o=new Object;o.parentGraphId=n[0],o.graphId=n[1],o.graphName=n[2],o.graphAssetUri=n[3],o.properties=JSON.parse(n[4]),o.extensionProperties=JSON.parse(n[5]),r="graphs.added",i=o}else if(t.__isNotificationCommand(e,"MachineDelete")){var s=new Object;s.graphId=n[0],r="graphs.delete",i=s}else if(t.__isNotificationCommand(e,"MachineClear")){var a=new Object;a.graphId=n[0],r="graph.clear",i=a}else if(t.__isNotificationCommand(e,"MachineModifiedChanged")){var c=new Object;c.graphId=n[0],c.isModified=1==new Int32Array(n[1])[0],r="graph.modified.changed",i=c}else if(t.__isNotificationCommand(e,"MachineEphemeralChanged")){var u=new Object;u.graphId=n[0],u.isEphemeral=1==new Int32Array(n[1])[0],r="graph.ephemeral.changed",i=u}else if(t.__isNotificationCommand(e,"graph.nodes.added")){var l=new Object;l.graphId=n[0],l.nodeId=n[1],l.nodeType=n[2],l.properties=JSON.parse(n[3]),l.extensionProperties=JSON.parse(n[4]),l.input=JSON.parse(n[5]),r="graph.nodes.added",i=l}else if(t.__isNotificationCommand(e,"MachineNodeDelete")){var h=new Object;h.graphId=n[0],h.nodeId=n[1],r="graph.nodes.delete",i=h}else if(t.__isNotificationCommand(e,"graph.node.properties.added")){var d=new Object;d.graphId=n[0],d.nodeId=n[1],d.nodeType=n[2],d.properties=JSON.parse(n[3]),r="graph.node.properties.added",i=d}else if(t.__isNotificationCommand(e,"graph.node.properties.deleted")){var f=new Object;f.graphId=n[0],f.nodeId=n[1],f.nodeType=n[2],f.properties=JSON.parse(n[3]),r="graph.node.properties.deleted",i=f}else if(t.__isNotificationCommand(e,"graph.node.properties.changed")){var p=new Object;p.graphId=n[0],p.nodeId=n[1],p.nodeType=n[2],p.properties=JSON.parse(n[3]),r="graph.node.properties.changed",i=p}else if(t.__isNotificationCommand(e,"graph.node.input.changed")){var m=new Object;m.graphId=n[0],m.nodeId=n[1],m.nodeType=n[2],m.input=JSON.parse(n[3]),r="graph.node.input.changed",i=m}else if(t.__isNotificationCommand(e,"MachineConnectionAdded")){var g=new Object;g.graphId=n[0],g.connectionId=n[1],g.fromNodeId=n[2],g.fromNodePropertyName=n[3],g.toNodeId=n[4],g.toNodePropertyName=n[5],g.toNodePropertyConnectionIds=[];for(var v=6;v<n.length-1;)g.toNodePropertyConnectionIds.push(n[v]),v+=1;r="graph.connections.added",i=g}else if(t.__isNotificationCommand(e,"MachineConnectionDelete")){var y=new Object;y.graphId=n[0],y.connectionId=n[1],r="graph.connections.delete",i=y}else if(t.__isNotificationCommand(e,"MachineComputedNodesChanged")){var b=new Object;b.graphId=n[0],b.nodeIds=[];for(var w=1;w<n.length-1;)b.nodeIds.push(n[w]),w+=1;r="graph.outputNodes.changed",i=b}else if(t.__isNotificationCommand(e,"MachineParameterNodesChanged")){var S=new Object;S.graphId=n[0],S.nodeIds=[];for(var _=1;_<n.length-1;)S.nodeIds.push(n[_]),_+=1;r="graph.parameterNodes.changed",i=S}else if(t.__isNotificationCommand(e,"graph.properties.added")){var x=new Object;x.graphId=n[0],x.properties=JSON.parse(n[1]),r="graph.properties.added",i=x}else if(t.__isNotificationCommand(e,"graph.properties.deleted")){var C=new Object;C.graphId=n[0],C.properties=JSON.parse(n[1]),r="graph.properties.deleted",i=C}else if(t.__isNotificationCommand(e,"graph.properties.changed")){var E=new Object;E.graphId=n[0],E.properties=JSON.parse(n[1]),r="graph.properties.changed",i=E}else if(t.__isNotificationCommand(e,"StartEngineUpdate")){var k=new Object;k.timestamp=new Number(n[0]),r="engine.update.start",i=k}else if(t.__isNotificationCommand(e,"EndEngineUpdate")){var A=new Object;A.timestamp=new Number(n[0]),r="engine.update.end",i=A}else if(t.__isNotificationCommand(e,"StartEngineCompute")){var N=new Object;N.apiCallCount=new Int32Array(n[0])[0],N.timestamp=new Number(n[1]),r="compute.start",i=N}else if(t.__isNotificationCommand(e,"EndEngineCompute")){var T=new Object;T.timestamp=new Number(n[0]),r="compute.end",i=T}else if(t.__isNotificationCommand(e,"StartMachineUpdate")){var P=new Object;P.graphId=n[0],P.timestamp=new Number(n[1]),r="compute.graph.start",i=P}else if(t.__isNotificationCommand(e,"EndMachineUpdate")){var O=new Object;O.graphId=n[0],O.timestamp=new Number(n[1]),r="compute.graph.end",i=O}else if(t.__isNotificationCommand(e,"StartNodeUpdate")){var I=new Object;I.graphId=n[0],I.nodeId=n[1],I.primitiveIds=[];for(var R=2;R<n.length-2;)I.primitiveIds.push(n[R]),R+=1;I.timestamp=new Number(n[n.length-2]),r="compute.node.start",i=I}else if(t.__isNotificationCommand(e,"EndNodeUpdate")){var L=new Object;L.graphId=n[0],L.nodeId=n[1],L.primitiveIds=[];for(var M=2;M<n.length-2;)L.primitiveIds.push(n[M]),M+=1;L.timestamp=new Number(n[n.length-2]),r="compute.node.end",i=L}else if(t.__isNotificationCommand(e,"MachineNodesErrored")){var D=new Object;D.graphId=n[0],D.nodeErrors=JSON.parse(n[1]),r="compute.graph.erroredNodes.changed",i=D}else if(t.__isNotificationCommand(e,"MachineBuiltParameters")){var j=new Object;j.graphId=n[0],j.parameters=JSON.parse(n[1]),r="compute.graph.builtParameters",i=j}else if(t.__isNotificationCommand(e,"BuiltMesh")){var F=new Object;F.nodeName=n[0],F.nodeId=n[1],F.primitiveId=n[2],F.vertices=new Int8Array(n[3]),F.indices=new Int8Array(n[4]),F.normals=new Int8Array(n[5]),F.uvs=new Int8Array(n[6]),F.timestamp=new Number(n[n.length-2]),r="compute.node.builtMesh",i=F}else if(t.__isNotificationCommand(e,"BuiltMaterial")){var B=new Object;B.nodeName=n[0],B.nodeId=n[1],B.primitiveId=n[2],B.albedo=new Float32Array(new DataView(n[3]).buffer),B.albedoTexture=n[4],B.opacity=new Float32Array(new DataView(n[5]).buffer)[0],B.opacityTexture=n[6],B.roughness=new Float32Array(new DataView(n[7]).buffer)[0],B.roughnessTexture=n[8],B.metallic=new Float32Array(new DataView(n[9]).buffer)[0],B.metallicTexture=n[10],B.reflectance=new Float32Array(new DataView(n[11]).buffer)[0],B.reflectanceTexture=n[12],B.bump=new Float32Array(new DataView(n[13]).buffer)[0],B.bumpTexture=n[14],B.emission=new Float32Array(new DataView(n[15]).buffer),B.emissionTexture=n[16],B.uvScale=new Float64Array(new DataView(n[17]).buffer)[0],B.timestamp=new Number(n[n.length-2]),r="compute.node.builtMaterial",i=B}else if(t.__isNotificationCommand(e,"BuiltCurve")){var q=new Object;q.nodeName=n[0],q.nodeId=n[1],q.primitiveId=n[2],q.vertices=new Int8Array(n[3]),q.color=new Float32Array(n[4]),r="compute.node.builtCurve",i=q}else if(t.__isNotificationCommand(e,"BuiltGraphAttributes")){var U=new Object;U.nodeId=n[0],U.attributes=JSON.parse(n[1]),r="compute.node.builtGraphAttributes",i=U}else if(t.__isNotificationCommand(e,"BuiltNodeAttributes")){var z=new Object;z.nodeId=n[0],z.attributes=JSON.parse(n[1]),r="compute.node.builtNodeAttributes",i=z}else if(t.__isNotificationCommand(e,"BuiltPrimitiveAttributes")){var $=new Object;$.nodeId=n[0],$.attributes=JSON.parse(n[1]),r="compute.node.builtPrimitiveAttributes",i=$}else if(t.__isNotificationCommand(e,"BuiltPointAttributes")){var H=new Object;H.nodeId=n[0],H.attributes=JSON.parse(n[1]),r="compute.node.builtPointAttributes",i=H}else if(t.__isNotificationCommand(e,"BuiltLabel")){var G=new Object;G.nodeName=n[0],G.nodeId=n[1],G.primitiveId=n[2],G.position=new Float64Array(n[3]),G.color=new Float32Array(n[4]),G.text=n[5],G.fontSize=new Int32Array(n[6])[0],G.mode=new Int32Array(n[7])[0],G.anchor=new Int32Array(n[8])[0],G.bottom=new Int32Array(n[9])[0],G.left=new Int32Array(n[10])[0],G.pixelOffsetX=new Float64Array(n[11])[0],G.pixelOffsetY=new Float64Array(n[12])[0],G.outline=1==new Int32Array(n[13])[0],G.outlineColor=new Float32Array(n[14]),r="compute.node.builtLabel",i=G}else if(t.__isNotificationCommand(e,"BuiltLocator")){var V=new Object;V.nodeName=n[0],V.nodeId=n[1],V.primitiveId=n[2],V.semanticType=n[3]?JSON.parse(n[3]):{},V.locatorId=n[4],V.transform=new Float64Array(n[5]),r="compute.node.builtLocator",i=V}else if(t.__isNotificationCommand(e,"BuiltParameter")){var W=new Object;W.nodeName=n[0],W.nodeId=n[1],W.primitiveId=n[2],W.parameterNodeId=n[3],W.parameterName=n[4],W.parameterType=n[5],W.parameterProperties=JSON.parse(n[6]),r="compute.node.builtParameter",i=W}else if(t.__isNotificationCommand(e,"StartRestore")){var K=new Object;K.graphIds=[];for(var Z=0;Z<n.length-1;)K.graphIds.push(n[Z]),Z+=1;r="engine.restore",i=K}return{command:r,data:i}})),t._notificationPrefix="_cmd_",t._notificationCenter=e,t}return(0,u.Z)(o,[{key:"destructor",value:function(){this._notificationCenter=void 0}},{key:"__isNotificationCommand",value:function(e,t){return e===this._notificationPrefix+t}}]),o}(fe),qs=function(e){(0,h.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!s())return!1;if(s().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(s()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,f.Z)(t);if(n){var i=(0,f.Z)(this).constructor;e=s()(r,arguments,i)}else e=r.apply(this,arguments);return(0,d.Z)(this,e)});function i(e,t){(0,c.Z)(this,i);var n=new ue(e,"arraybuffer"),o=new Fs,s=new Bs(t),a=new Os(n,o,s);return r.call(this,a)}return(0,u.Z)(i,[{key:"destructor",value:function(){(0,l.Z)((0,f.Z)(i.prototype),"destructor",this).call(this)}}]),i}(ae),Us=n(3433);function zs(){if(!i.Gr())return i.ji("Getting local credentials can only work with Node context","warn"),null;var e=function(){if(!i.Gr())return i.ji("Getting local Materia credentials can only work with Node context","warn"),null;var e=void 0;try{var t=n(5201),r=n(1562),o=n(4868),s=n(3433);if(e=t.join(r.homedir(),".materia","tid_credentials.json"),o.existsSync(e)){i.ji("Using Materia credentials found at ".concat(e,"."),"log");var a=o.readFileSync(e,"utf8"),c=JSON.parse(a);return{materiaCredentials:c,awsCredentials:s.getAWSCredentialsUsingOpenID(c)}}i.ji("No Materia credentials available at ".concat(e,", checking for local AWS credentials..."),"log")}catch(t){var u={exception:t,materiaCredentialsFilepath:e};throw g.j("Exception loading Materia credentials from local storage.",30137,u).error}return null}();return e||(e=function(){if(!i.Gr())return i.ji("Getting local AWS credentials can only work with Node context","warn"),null;var e=void 0;try{var t=n(5201),r=n(1562),o=n(4868),s=n(3433);if(e=t.join(r.homedir(),".aws","credentials"),o.existsSync(e)){var a="materia";return i.ji("Using AWS profile '".concat(a,"' credentials found at ").concat(e),"log"),{materiaCredentials:void 0,awsCredentials:s.getAWSCredentialsUsingSharedIniProfile(a)}}i.ji("No AWS credentials available at ".concat(e),"log")}catch(t){var c={exception:t,awsCredentialsFilepath:e};throw g.j("Exception loading AWS credentials from local storage.",30136,c).error}return null}(),e)}var $s=function(){function e(t,n){(0,c.Z)(this,e),this._serviceMessenger=t,this._id=n}return(0,u.Z)(e,[{key:"destructor",value:function(){this._serviceMessenger=void 0,this._id=void 0}},{key:"id",get:function(){return this._id}},{key:"toStringObject",value:function(){return{id:this.id}}},{key:"toJSON",value:function(){return this.toStringObject()}},{key:"toString",value:function(){var e=this.toStringObject();return y()(e,null,2)}}]),e}();function Hs(e){var t=function(){if("undefined"==typeof Reflect||!s())return!1;if(s().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(s()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,f.Z)(e);if(t){var i=(0,f.Z)(this).constructor;n=s()(r,arguments,i)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var Gs=function(e){(0,h.Z)(n,e);var t=Hs(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;return(0,c.Z)(this,n),(i=t.call(this,e,r))._firstName=o,i._lastName=s,i}return(0,u.Z)(n,[{key:"destructor",value:function(){(0,l.Z)((0,f.Z)(n.prototype),"destructor",this).call(this),this._firstName=void 0,this._lastName=void 0}},{key:"userId",get:function(){return this.id}},{key:"firstName",get:function(){return this._firstName}},{key:"lastName",get:function(){return this._lastName}},{key:"toStringObject",value:function(){return{userId:this.id,firstName:this._firstName,lastName:this._lastName}}}]),n}($s),Vs=function(e){(0,h.Z)(r,e);var t,n=Hs(r);function r(e,t){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return(0,c.Z)(this,r),(i=n.call(this,e,t))._type=void 0,i._name=void 0,i._creator=new Gs(e),i._createTime=void 0,i._modifyTime=void 0,i._data=void 0,i._source=void 0,i._setAssetPropertiesFromInfo(o),i}return(0,u.Z)(r,[{key:"destructor",value:function(){(0,l.Z)((0,f.Z)(r.prototype),"destructor",this).call(this),this._type=void 0,this._name=void 0,this._creator.destructor(),this._creator=void 0,this._createTime=void 0,this._modifyTime=void 0,this._data=void 0,this._source=void 0}},{key:"id",get:function(){return(0,l.Z)((0,f.Z)(r.prototype),"id",this)},set:function(e){this._id=e,this._creator=new Gs(this._serviceMessenger)}},{key:"uri",get:function(){return this.id}},{key:"type",get:function(){return this._type}},{key:"name",get:function(){return this._name}},{key:"creator",get:function(){return this._creator}},{key:"createTime",get:function(){return this._createTime}},{key:"modifyTime",get:function(){return this._modifyTime}},{key:"data",get:function(){return this._data}},{key:"source",get:function(){return this._source}},{key:"toStringObject",value:function(){return{uri:this.id,name:this._name,creator:this.creator.toStringObject()}}},{key:"_setAssetPropertiesFromInfo",value:function(e){if(!e)return!1;for(var t in"machine"===e.assetType?this._type="graph":this._type=e.assetType,this._name=e.assetName,this._creator=new Gs(this._serviceMessenger,e.creatorUserID,e.creatorUserFirstName,e.creatorUserLastName),this._createTime=e.createTime,this._modifyTime=e.modifyTime,this._source=e.source,this._data={},e.data)"machine"===t?this._data.graph=e.data[t]:this._data[t]=e.data[t];return!0}},{key:"refresh",value:(t=(0,a.Z)(m().mark((function e(){var t,n,r,i,o,s,a,c,u,l,h,d;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t="Asset.properties.refresh",n=D.notifyCommandRequest(t),null!=this.id&&null!=this.id){e.next=8;break}return this._assetInfo=void 0,r={assetType:void 0,assetName:void 0,creatorUserID:void 0,creatorUserFirstName:void 0,creatorUserLastName:void 0,createTime:void 0,modifyTime:void 0,source:void 0,data:{}},this._setAssetPropertiesFromInfo(r),D.notifyCommandResponse(t,n,!0),e.abrupt("return",!0);case 8:return i={method:"Asset.Get",parameters:{assetURI:this.id,versionRequest:"exact"}},o=void 0,e.prev=10,e.next=13,this._serviceMessenger.sendMessage(i);case 13:o=e.sent,e.next=23;break;case 16:throw e.prev=16,e.t0=e.catch(10),s="Exception sending API call '".concat(i.method,"'."),a={exception:e.t0},c=g.j(s,30189,a),D.notifyCommandError(t,n,c.error),c.error;case 23:if(!o.error){e.next=26;break}throw D.notifyCommandError(t,n,o.error),o.error;case 26:if(1===o.result.length){e.next=31;break}throw u="Expecting to only have 1 asset returned, not ".concat(l.result.length,"."),l=g.j(u,30190),D.notifyCommandError(t,n,l.error),l.error;case 31:return h=o.result[0],d=this._setAssetPropertiesFromInfo(h),D.notifyCommandResponse(t,n,d),e.abrupt("return",d);case 35:case"end":return e.stop()}}),e,this,[[10,16]])}))),function(){return t.apply(this,arguments)})}]),r}($s);var Ws=function(e){(0,h.Z)(n,e);var t=Hs(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return(0,c.Z)(this,n),(i=t.call(this,e,r))._properties=new Vs(e,r,o),i._assetVersions=function(e,t){var n=[];return n._objectStub=new $s(e,t),n.destuctor=function(){this._objectStub.destructor(),this._objectStub=void 0},n.refresh=(0,a.Z)(m().mark((function e(){var t,n,r,i,o,s,a,c,u,l;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="Asset.versions.refresh",n=D.notifyCommandRequest(t),r={method:"Asset.Get",parameters:{assetURI:this._objectStub.id,versionRequest:"all"}},i=void 0,e.prev=4,e.next=7,this._objectStub._serviceMessenger.sendMessage(r);case 7:i=e.sent,e.next=17;break;case 10:throw e.prev=10,e.t0=e.catch(4),o="Exception sending API call '".concat(r.method,"'."),s={exception:e.t0},a=g.j(o,30191,s),D.notifyCommandError(t,n,a.error),a.error;case 17:if(!i.error){e.next=20;break}throw D.notifyCommandError(t,n,i.error),i.error;case 20:for(u in c=[],i.result)l=new Ws(this._objectStub._serviceMessenger,i.result[u].assetURI,i.result[u]),c.push(l);return this.length=0,this.push.apply(this,c),D.notifyCommandResponse(t,n,!0),e.abrupt("return",!0);case 27:case"end":return e.stop()}}),e,this,[[4,10]])}))),ke()(n,"latest",{get:function(){return this.length>0?this[0]:void 0}}),n._getLatestVersion=(0,a.Z)(m().mark((function e(){var t,n,r,i,o,s,a,c,u,l,h,d;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="Asset.versions.latest",n=D.notifyCommandRequest(t),r={method:"Asset.Get",parameters:{assetURI:this._objectStub.id,versionRequest:"latest"}},i=void 0,e.prev=4,e.next=7,this._objectStub._serviceMessenger.sendMessage(r);case 7:i=e.sent,e.next=17;break;case 10:throw e.prev=10,e.t0=e.catch(4),o="Exception sending API call '".concat(r.method,"'."),s={exception:e.t0},a=g.j(o,30192,s),D.notifyCommandError(t,n,a.error),a.error;case 17:if(!i.error){e.next=20;break}throw D.notifyCommandError(t,n,i.error),i.error;case 20:if(1===i.result.length){e.next=25;break}throw c="Expecting to only have 1 asset returned, not ".concat(u.result.length,"."),u=g.j(c,30193),D.notifyCommandError(t,n,u.error),u.error;case 25:for(h in l=[],i.result)d=new Ws(this._objectStub._serviceMessenger,i.result[h].assetURI,i.result[h]),l.push(d);return D.notifyCommandResponse(t,n,l[0]),e.abrupt("return",l[0]);case 29:case"end":return e.stop()}}),e,this,[[4,10]])}))),ke()(n,"id",{get:function(){return this._objectStub.id},set:function(e){this.length=0,this._objectStub=new $s(this._objectStub._serviceMessenger,e)}}),n}(e,r),i}return(0,u.Z)(n,[{key:"destructor",value:function(){(0,l.Z)((0,f.Z)(n.prototype),"destructor",this).call(this),this._properties.destructor(),this._properties=void 0,this._assetVersions.destructor(),this._assetVersions=void 0}},{key:"id",get:function(){return(0,l.Z)((0,f.Z)(n.prototype),"id",this)},set:function(e){this._id=e,this._properties.id=e,this._assetVersions.id=e}},{key:"toStringObject",value:function(){return this._properties.toStringObject()}},{key:"properties",get:function(){return this._properties}},{key:"versions",get:function(){return this._assetVersions}},{key:"uri",get:function(){return this._properties.id}},{key:"type",get:function(){return this._properties.type}},{key:"name",get:function(){return this._properties.name}},{key:"creator",get:function(){return this._properties.creator}},{key:"createTime",get:function(){return this._properties.createTime}},{key:"modifyTime",get:function(){return this._properties.modifyTime}},{key:"data",get:function(){return this._properties.data}},{key:"source",get:function(){return this._properties.source}}]),n}($s),Ks=function(e){(0,h.Z)(w,e);var t,n,r,o,p,v,b=(p=w,v=function(){if("undefined"==typeof Reflect||!s())return!1;if(s().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(s()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=(0,f.Z)(p);if(v){var n=(0,f.Z)(this).constructor;e=s()(t,arguments,n)}else e=t.apply(this,arguments);return(0,d.Z)(this,e)});function w(e){return(0,c.Z)(this,w),b.call(this,e,null)}return(0,u.Z)(w,[{key:"destructor",value:function(){(0,l.Z)((0,f.Z)(w.prototype),"destructor",this).call(this)}},{key:"get",value:(o=(0,a.Z)(m().mark((function e(t){var n,r,i,o,s,a,c,u,l,h,d,f=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=f.length>1&&void 0!==f[1]?f[1]:"all",r="Engine.assets.get",i=D.notifyCommandRequest(r),o={method:"Asset.Get",parameters:{assetURI:t,versionRequest:n}},s=void 0,e.prev=5,e.next=8,this._serviceMessenger.sendMessage(o);case 8:s=e.sent,e.next=18;break;case 11:throw e.prev=11,e.t0=e.catch(5),a="Exception sending API call '".concat(o.method,"'."),c={exception:e.t0,assetUri:t,versionRequest:n},u=g.j(a,30148,c),D.notifyCommandError(r,i,u.error),u.error;case 18:if(!s.error){e.next=21;break}throw D.notifyCommandError(r,i,s.error),s.error;case 21:for(h in l=[],s.result)d=new Ws(this._serviceMessenger,s.result[h].assetURI,s.result[h]),l.push(d);return D.notifyCommandResponse(r,i,l),e.abrupt("return",l);case 25:case"end":return e.stop()}}),e,this,[[5,11]])}))),function(e){return o.apply(this,arguments)})},{key:"search",value:(r=(0,a.Z)(m().mark((function e(t,n){var r,o,s,a,c,u,l,h,d,f,p,v,b,w=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=w.length>2&&void 0!==w[2]?w[2]:[],o="Engine.assets.search",s=D.notifyCommandRequest(o),a=n,"graph"===n&&(a="machine"),c=["assetName="+t,"assetType="+a],r&&r.length>0&&c.push("source="+r.join(",")),u={method:"Asset.Search",parameters:{queryTerms:c}},i.ji("Attempting to search by "+y()(c),"log","Assets",i.zV.LoggerAndConsole),l=void 0,e.prev=10,e.next=13,this._serviceMessenger.sendMessage(u);case 13:l=e.sent,e.next=24;break;case 16:throw e.prev=16,e.t0=e.catch(10),i.ji("Failed to search "+y()(c),"error","Assets",i.zV.LoggerAndConsole),h="Exception sending API call '".concat(u.method,"'."),d={exception:e.t0,assetName:t,assetType:n},f=g.j(h,30149,d),D.notifyCommandError(o,s,f.error),f.error;case 24:if(!l.error){e.next=28;break}throw i.ji("Failed to search "+y()(c),"error","Assets",i.zV.LoggerAndConsole),D.notifyCommandError(o,s,l.error),l.error;case 28:for(v in i.ji("Successfully search "+y()(c),"log","Assets",i.zV.LoggerAndConsole),p=[],l.result)b=new Ws(this._serviceMessenger,l.result[v].assetURI,l.result[v]),p.push(b);return D.notifyCommandResponse(o,s,p),e.abrupt("return",p);case 33:case"end":return e.stop()}}),e,this,[[10,16]])}))),function(e,t){return r.apply(this,arguments)})},{key:"upload",value:(n=(0,a.Z)(m().mark((function e(t,n,r){var i,o,s,a,c,u,l,h,d,f;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i="Engine.assets.upload",o=D.notifyCommandRequest(i),s=n,"graph"===n&&(s="machine"),a={method:"Asset.Upload",parameters:{assetName:t,assetType:s,assetData:r}},c=void 0,e.prev=6,e.next=9,this._serviceMessenger.sendMessage(a);case 9:c=e.sent,e.next=19;break;case 12:throw e.prev=12,e.t0=e.catch(6),u="Exception sending API call '".concat(a.method,"'."),l={exception:e.t0,assetName:t,assetType:n},h=g.j(u,30150,l),D.notifyCommandError(i,o,h.error),h.error;case 19:if(!c.error){e.next=22;break}throw D.notifyCommandError(i,o,c.error),c.error;case 22:return d=c.result,f=new Ws(this._serviceMessenger,d),D.notifyCommandResponse(i,o,f),e.abrupt("return",f);case 26:case"end":return e.stop()}}),e,this,[[6,12]])}))),function(e,t,r){return n.apply(this,arguments)})},{key:"uploadTo",value:(t=(0,a.Z)(m().mark((function e(t,n,r,i){var o,s,a,c,u,l,h,d,f;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o="Engine.assets.uploadTo",s=D.notifyCommandRequest(o),a=n,"graph"===n&&(a="machine"),c={method:"Asset.UploadTo",parameters:{assetName:t,assetType:a,assetData:r,assetURI:i}},u=void 0,e.prev=6,e.next=9,this._serviceMessenger.sendMessage(c);case 9:u=e.sent,e.next=19;break;case 12:throw e.prev=12,e.t0=e.catch(6),l="Exception sending API call '".concat(c.method,"'."),h={exception:e.t0,assetName:t,assetType:n},d=g.j(l,30231,h),D.notifyCommandError(o,s,d.error),d.error;case 19:if(!u.error){e.next=22;break}throw D.notifyCommandError(o,s,u.error),u.error;case 22:return i=u.result,f=new Ws(this._serviceMessenger,i),D.notifyCommandResponse(o,s,f),e.abrupt("return",f);case 26:case"end":return e.stop()}}),e,this,[[6,12]])}))),function(e,n,r,i){return t.apply(this,arguments)})}]),w}($s),Zs=function(e){(0,h.Z)(o,e);var t,n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!s())return!1;if(s().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(s()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=(0,f.Z)(n);if(r){var i=(0,f.Z)(this).constructor;e=s()(t,arguments,i)}else e=t.apply(this,arguments);return(0,d.Z)(this,e)});function o(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return(0,c.Z)(this,o),(n=i.call(this,e,t))._name=r,n}return(0,u.Z)(o,[{key:"destructor",value:function(){(0,l.Z)((0,f.Z)(o.prototype),"destructor",this).call(this),this._name=void 0}},{key:"toString",value:function(){return this._name?this._name.toString():""}},{key:"valueOf",value:function(){return this._name?this._name.toString():this._name}},{key:"toStringObject",value:function(){return this.toString()}},{key:"set",value:(t=(0,a.Z)(m().mark((function e(t){var n,r,i,o,s,a,c,u;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="Graph.name.set",r=D.notifyCommandRequest(n),i={name:t},o={method:"Machine.SetProperties",parameters:{machineID:this.id,machineProperties:i}},s=void 0,e.prev=5,e.next=8,this._serviceMessenger.sendMessage(o);case 8:s=e.sent,e.next=18;break;case 11:throw e.prev=11,e.t0=e.catch(5),a="Exception sending API call '".concat(o.method,"'."),c={exception:e.t0},u=g.j(a,30226,c),D.notifyCommandError(n,r,u.error),u.error;case 18:if(!s.error){e.next=21;break}throw D.notifyCommandError(n,r,s.error),s.error;case 21:return"name"in s.result.updatedProperties&&(this._name=s.result.updatedProperties.name.currentValue),D.notifyCommandResponse(n,r,s.result),e.abrupt("return",s.result);case 24:case"end":return e.stop()}}),e,this,[[5,11]])}))),function(e){return t.apply(this,arguments)})}]),o}($s),Ys=function(e){(0,h.Z)(y,e);var t,n,r,i,o,p,v=(o=y,p=function(){if("undefined"==typeof Reflect||!s())return!1;if(s().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(s()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=(0,f.Z)(o);if(p){var n=(0,f.Z)(this).constructor;e=s()(t,arguments,n)}else e=t.apply(this,arguments);return(0,d.Z)(this,e)});function y(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return(0,c.Z)(this,y),(n=v.call(this,e,t))._name=new Zs(e,t,r),n}return(0,u.Z)(y,[{key:"destructor",value:function(){(0,l.Z)((0,f.Z)(y.prototype),"destructor",this).call(this),this._name.destructor(),this._name=void 0}},{key:"name",get:function(){return this._name}},{key:"toStringObject",value:function(){return{graphId:this.id,name:this.name.toStringObject()}}},{key:"_updateInternalPropertiesFrom",value:function(e){var t=!1;return"name"in e.properties&&(e.properties.name!==this._name.valueOf()&&(this._name=new Zs(this._serviceMessenger,this.id,e.properties.name)),t=!0),t}},{key:"refresh",value:(i=(0,a.Z)(m().mark((function e(){var t,n,r,i,o,s,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="Graph.properties.refresh",n=D.notifyCommandRequest(t),r=void 0,i=["name"],e.prev=4,e.next=7,this.get(i);case 7:r=e.sent,e.next=17;break;case 10:throw e.prev=10,e.t0=e.catch(4),o={exception:e.t0,propertyNames:i},s=g.j("Exception retrieving base graph properties.",30188,o),D.notifyCommandError(t,n,s.error),s.error;case 17:return a=this._updateInternalPropertiesFrom(r),D.notifyCommandResponse(t,n,a),e.abrupt("return",a);case 20:case"end":return e.stop()}}),e,this,[[4,10]])}))),function(){return i.apply(this,arguments)})},{key:"get",value:(r=(0,a.Z)(m().mark((function e(){var t,n,r,i,o,s,a,c,u=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:[],n="Graph.properties.get",r=D.notifyCommandRequest(n),i={method:"Machine.GetProperties",parameters:{machineID:this.id,propertyNames:t}},o=void 0,e.prev=5,e.next=8,this._serviceMessenger.sendMessage(i);case 8:o=e.sent,e.next=18;break;case 11:throw e.prev=11,e.t0=e.catch(5),s="Exception sending API call '".concat(i.method,"'."),a={exception:e.t0,propertyNames:t},c=g.j(s,30164,a),D.notifyCommandError(n,r,c.error),c.error;case 18:if(!o.error){e.next=21;break}throw D.notifyCommandError(n,r,o.error),o.error;case 21:return this._updateInternalPropertiesFrom(o.result),D.notifyCommandResponse(n,r,o.result),e.abrupt("return",o.result);case 24:case"end":return e.stop()}}),e,this,[[5,11]])}))),function(){return r.apply(this,arguments)})},{key:"set",value:(n=(0,a.Z)(m().mark((function e(t){var n,r,i,o,s,a,c;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="Graph.properties.set",r=D.notifyCommandRequest(n),i={method:"Machine.SetProperties",parameters:{machineID:this.id,machineProperties:t}},o=void 0,e.prev=4,e.next=7,this._serviceMessenger.sendMessage(i);case 7:o=e.sent,e.next=17;break;case 10:throw e.prev=10,e.t0=e.catch(4),s="Exception sending API call '".concat(i.method,"'."),a={exception:e.t0},c=g.j(s,30163,a),D.notifyCommandError(n,r,c.error),c.error;case 17:if(!o.error){e.next=20;break}throw D.notifyCommandError(n,r,o.error),o.error;case 20:return D.notifyCommandResponse(n,r,o.result),e.abrupt("return",o.result);case 22:case"end":return e.stop()}}),e,this,[[4,10]])}))),function(e){return n.apply(this,arguments)})},{key:"delete",value:(t=(0,a.Z)(m().mark((function e(){var t,n,r,i,o,s,a,c,u=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:[],n="Graph.properties.delete",r=D.notifyCommandRequest(n),i={method:"Machine.DeleteProperties",parameters:{machineID:this.id,propertyNames:t}},o=void 0,e.prev=5,e.next=8,this._serviceMessenger.sendMessage(i);case 8:o=e.sent,e.next=18;break;case 11:throw e.prev=11,e.t0=e.catch(5),s="Exception sending API call '".concat(i.method,"'."),a={exception:e.t0,propertyNames:t},c=g.j(s,30165,a),D.notifyCommandError(n,r,c.error),c.error;case 18:if(!o.error){e.next=21;break}throw D.notifyCommandError(n,r,o.error),o.error;case 21:return D.notifyCommandResponse(n,r,o.result),e.abrupt("return",o.result);case 23:case"end":return e.stop()}}),e,this,[[5,11]])}))),function(){return t.apply(this,arguments)})}]),y}($s),Js=function(e){(0,h.Z)(o,e);var t,n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!s())return!1;if(s().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(s()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=(0,f.Z)(n);if(r){var i=(0,f.Z)(this).constructor;e=s()(t,arguments,i)}else e=t.apply(this,arguments);return(0,d.Z)(this,e)});function o(e,t){return(0,c.Z)(this,o),i.call(this,e,t)}return(0,u.Z)(o,[{key:"destructor",value:function(){(0,l.Z)((0,f.Z)(o.prototype),"destructor",this).call(this)}},{key:"get",value:(t=(0,a.Z)(m().mark((function e(){var t,n,r,i,o,s,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="Graph.modified.get",n=D.notifyCommandRequest(t),r={method:"Machine.IsModified",parameters:{machineID:this.id}},i=void 0,e.prev=4,e.next=7,this._serviceMessenger.sendMessage(r);case 7:i=e.sent,e.next=17;break;case 10:throw e.prev=10,e.t0=e.catch(4),o="Exception sending API call '".concat(r.method,"'."),s={exception:e.t0},a=g.j(o,30159,s),D.notifyCommandError(t,n,a.error),a.error;case 17:if(!i.error){e.next=20;break}throw D.notifyCommandError(t,n,i.error),i.error;case 20:return D.notifyCommandResponse(t,n,i.result),e.abrupt("return",i.result);case 22:case"end":return e.stop()}}),e,this,[[4,10]])}))),function(){return t.apply(this,arguments)})}]),o}($s),Qs=n(9010),Xs=n.n(Qs);function ea(e,t){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.add(e)}function ta(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var na=new(Xs()),ra=new(Xs()),ia=function(e){(0,h.Z)(p,e);var t,n,r,i,o=(r=p,i=function(){if("undefined"==typeof Reflect||!s())return!1;if(s().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(s()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=(0,f.Z)(r);if(i){var n=(0,f.Z)(this).constructor;e=s()(t,arguments,n)}else e=t.apply(this,arguments);return(0,d.Z)(this,e)});function p(e,t){var n;return(0,c.Z)(this,p),n=o.call(this,e,t),ea((0,le.Z)(n),ra),ea((0,le.Z)(n),na),n}return(0,u.Z)(p,[{key:"destructor",value:function(){(0,l.Z)((0,f.Z)(p.prototype),"destructor",this).call(this)}},{key:"get",value:(n=(0,a.Z)(m().mark((function e(){var t,n,r,i,o,s,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="Graph.parameters.get",n=D.notifyCommandRequest(t),r={method:"Machine.GetParameters",parameters:{machineID:this.id}},i=void 0,e.prev=4,e.next=7,this._serviceMessenger.sendMessage(r);case 7:i=e.sent,e.next=17;break;case 10:throw e.prev=10,e.t0=e.catch(4),o="Exception sending API call '".concat(r.method,"'."),s={exception:e.t0},a=g.j(o,30156,s),D.notifyCommandError(t,n,a.error),a.error;case 17:if(!i.error){e.next=20;break}throw D.notifyCommandError(t,n,i.error),i.error;case 20:return D.notifyCommandResponse(t,n,i.result),e.abrupt("return",i.result);case 22:case"end":return e.stop()}}),e,this,[[4,10]])}))),function(){return n.apply(this,arguments)})},{key:"set",value:(t=(0,a.Z)(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==n){e.next=9;break}if("[object Object]"!==Object.prototype.toString.call(t)){e.next=5;break}return e.abrupt("return",ta(this,ra,aa).call(this,t));case 5:throw g.j("Parameter 'parameters' must be a Dictionary data type",30100,t).error;case 7:e.next=15;break;case 9:if("string"!=typeof t){e.next=13;break}return e.abrupt("return",ta(this,na,oa).call(this,t,n));case 13:throw g.j("Parameter 'parameterIdentifier' must be a String data type",30100,t).error;case 15:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})}]),p}($s);function oa(e,t){return sa.apply(this,arguments)}function sa(){return(sa=(0,a.Z)(m().mark((function e(t,n){var r,i,o,s,a,c,u;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="Graph.parameters.set",i=D.notifyCommandRequest(r),o={method:"Machine.SetParameter",parameters:{machineID:this.id,parameterIdentifier:t,value:n}},s=void 0,e.prev=4,e.next=7,this._serviceMessenger.sendMessage(o);case 7:s=e.sent,e.next=17;break;case 10:throw e.prev=10,e.t0=e.catch(4),a="Exception sending API call '".concat(o.method,"'."),c={exception:e.t0,parameterIdentifier:t,value:n},u=g.j(a,30157,c),D.notifyCommandError(r,i,u.error),u.error;case 17:if(!s.error){e.next=20;break}throw D.notifyCommandError(r,i,s.error),s.error;case 20:return D.notifyCommandResponse(r,i,s.result),e.abrupt("return",s.result);case 22:case"end":return e.stop()}}),e,this,[[4,10]])})))).apply(this,arguments)}function aa(e){return ca.apply(this,arguments)}function ca(){return(ca=(0,a.Z)(m().mark((function e(t){var n,r,i,o,s,a,c;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="Graph.parameters.set",r=D.notifyCommandRequest(n),i={method:"Machine.SetParameter",parameters:{machineID:this.id,parameters:t}},o=void 0,e.prev=4,e.next=7,this._serviceMessenger.sendMessage(i);case 7:o=e.sent,e.next=17;break;case 10:throw e.prev=10,e.t0=e.catch(4),s="Exception sending API call '".concat(i.method,"'."),a={exception:e.t0,parameters:t},c=g.j(s,30157,a),D.notifyCommandError(n,r,c.error),c.error;case 17:if(!o.error){e.next=20;break}throw D.notifyCommandError(n,r,o.error),o.error;case 20:return D.notifyCommandResponse(n,r,o.result),e.abrupt("return",o.result);case 22:case"end":return e.stop()}}),e,this,[[4,10]])})))).apply(this,arguments)}var ua=function(e){(0,h.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!s())return!1;if(s().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(s()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,f.Z)(t);if(n){var i=(0,f.Z)(this).constructor;e=s()(r,arguments,i)}else e=r.apply(this,arguments);return(0,d.Z)(this,e)});function i(e,t,n){var o;return(0,c.Z)(this,i),(o=r.call(this,e,n))._graphId=t,o}return(0,u.Z)(i,[{key:"destructor",value:function(){(0,l.Z)((0,f.Z)(i.prototype),"destructor",this).call(this),this._graphId=void 0}},{key:"graphId",get:function(){return this._graphId}},{key:"toStringObject",value:function(){return{graphId:this.graphId,nodeId:this.id}}}]),i}($s),la=function(e){(0,h.Z)(o,e);var t,n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!s())return!1;if(s().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(s()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=(0,f.Z)(n);if(r){var i=(0,f.Z)(this).constructor;e=s()(t,arguments,i)}else e=t.apply(this,arguments);return(0,d.Z)(this,e)});function o(e,t,n){var r,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;return(0,c.Z)(this,o),(r=i.call(this,e,t,n))._name=s,r}return(0,u.Z)(o,[{key:"destructor",value:function(){(0,l.Z)((0,f.Z)(o.prototype),"destructor",this).call(this),this._name=void 0}},{key:"toString",value:function(){return this._name?this._name.toString():""}},{key:"valueOf",value:function(){return this._name?this._name.toString():this._name}},{key:"toStringObject",value:function(){return this.toString()}},{key:"set",value:(t=(0,a.Z)(m().mark((function e(t){var n,r,i,o,s,a,c,u;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="Node.name.set",r=D.notifyCommandRequest(n),i={name:t},o={method:"Machine.SetNodeProperties",parameters:{machineID:this.graphId,nodeIdentifier:this.id,nodeProperties:i}},s=void 0,e.prev=5,e.next=8,this._serviceMessenger.sendMessage(o);case 8:s=e.sent,e.next=18;break;case 11:throw e.prev=11,e.t0=e.catch(5),a="Exception sending API call '".concat(o.method,"'."),c={exception:e.t0},u=g.j(a,30227,c),D.notifyCommandError(n,r,u.error),u.error;case 18:if(!s.error){e.next=21;break}throw D.notifyCommandError(n,r,s.error),s.error;case 21:return"name"in s.result.updatedProperties&&(this._name=s.result.updatedProperties.name.currentValue),D.notifyCommandResponse(n,r,s.result),e.abrupt("return",s.result);case 24:case"end":return e.stop()}}),e,this,[[5,11]])}))),function(e){return t.apply(this,arguments)})}]),o}(ua),ha=function(e){(0,h.Z)(y,e);var t,n,r,i,o,p,v=(o=y,p=function(){if("undefined"==typeof Reflect||!s())return!1;if(s().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(s()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=(0,f.Z)(o);if(p){var n=(0,f.Z)(this).constructor;e=s()(t,arguments,n)}else e=t.apply(this,arguments);return(0,d.Z)(this,e)});function y(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;return(0,c.Z)(this,y),(r=v.call(this,e,t,n))._name=new la(e,t,n,i),r._type=o,r}return(0,u.Z)(y,[{key:"destructor",value:function(){(0,l.Z)((0,f.Z)(y.prototype),"destructor",this).call(this),this._name.destructor(),this._name=void 0,this._type=void 0}},{key:"type",get:function(){return this._type}},{key:"name",get:function(){return this._name}},{key:"toStringObject",value:function(){return{graphId:this.graphId,nodeId:this.id,name:this.name.toStringObject(),type:this.type}}},{key:"_updateInternalPropertiesFrom",value:function(e){var t=!1,n=!1;return"name"in e.properties&&(e.properties.name!==this._name.valueOf()&&(this._name=new la(this._serviceMessenger,this.graphId,this.id,e.properties.name)),t=!0),"type"in e.properties&&(this._type=e.properties.type,n=!0),t&&n}},{key:"refresh",value:(i=(0,a.Z)(m().mark((function e(){var t,n,r,i,o,s,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="Node.properties.refresh",n=D.notifyCommandRequest(t),r=void 0,i=["name","type"],e.prev=4,e.next=7,this.get(i);case 7:r=e.sent,e.next=17;break;case 10:throw e.prev=10,e.t0=e.catch(4),o={exception:e.t0,propertyNames:i},s=g.j("Exception retrieving base node properties.",30188,o),D.notifyCommandError(t,n,s.error),s.error;case 17:return a=this._updateInternalPropertiesFrom(r),D.notifyCommandResponse(t,n,a),e.abrupt("return",a);case 20:case"end":return e.stop()}}),e,this,[[4,10]])}))),function(){return i.apply(this,arguments)})},{key:"get",value:(r=(0,a.Z)(m().mark((function e(){var t,n,r,i,o,s,a,c,u=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:[],n="Node.properties.get",r=D.notifyCommandRequest(n),i={method:"Machine.GetNodeProperties",parameters:{machineID:this.graphId,nodeIdentifier:this.id,propertyNames:t}},o=void 0,e.prev=5,e.next=8,this._serviceMessenger.sendMessage(i);case 8:o=e.sent,e.next=18;break;case 11:throw e.prev=11,e.t0=e.catch(5),s="Exception sending API call '".concat(i.method,"'."),a={exception:e.t0,propertyNames:t},c=g.j(s,30177,a),D.notifyCommandError(n,r,c.error),c.error;case 18:if(!o.error){e.next=21;break}throw D.notifyCommandError(n,r,o.error),o.error;case 21:return this._updateInternalPropertiesFrom(o.result),D.notifyCommandResponse(n,r,o.result),e.abrupt("return",o.result);case 24:case"end":return e.stop()}}),e,this,[[5,11]])}))),function(){return r.apply(this,arguments)})},{key:"set",value:(n=(0,a.Z)(m().mark((function e(t){var n,r,i,o,s,a,c;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="Node.properties.set",r=D.notifyCommandRequest(n),i={method:"Machine.SetNodeProperties",parameters:{machineID:this.graphId,nodeIdentifier:this.id,nodeProperties:t}},o=void 0,e.prev=4,e.next=7,this._serviceMessenger.sendMessage(i);case 7:o=e.sent,e.next=17;break;case 10:throw e.prev=10,e.t0=e.catch(4),s="Exception sending API call '".concat(i.method,"'."),a={exception:e.t0},c=g.j(s,30176,a),D.notifyCommandError(n,r,c.error),c.error;case 17:if(!o.error){e.next=20;break}throw D.notifyCommandError(n,r,o.error),o.error;case 20:return D.notifyCommandResponse(n,r,o.result),e.abrupt("return",o.result);case 22:case"end":return e.stop()}}),e,this,[[4,10]])}))),function(e){return n.apply(this,arguments)})},{key:"delete",value:(t=(0,a.Z)(m().mark((function e(){var t,n,r,i,o,s,a,c,u=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:[],n="Node.properties.delete",r=D.notifyCommandRequest(n),i={method:"Machine.DeleteNodeProperties",parameters:{machineID:this.graphId,nodeIdentifier:this.id,propertyNames:t}},o=void 0,e.prev=5,e.next=8,this._serviceMessenger.sendMessage(i);case 8:o=e.sent,e.next=18;break;case 11:throw e.prev=11,e.t0=e.catch(5),s="Exception sending API call '".concat(i.method,"'."),a={exception:e.t0,propertyNames:t},c=g.j(s,30178,a),D.notifyCommandError(n,r,c.error),c.error;case 18:if(!o.error){e.next=21;break}throw D.notifyCommandError(n,r,o.error),o.error;case 21:return D.notifyCommandResponse(n,r,o.result),e.abrupt("return",o.result);case 23:case"end":return e.stop()}}),e,this,[[5,11]])}))),function(){return t.apply(this,arguments)})}]),y}(ua);function da(e){var t=function(){if("undefined"==typeof Reflect||!s())return!1;if(s().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(s()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,f.Z)(e);if(t){var i=(0,f.Z)(this).constructor;n=s()(r,arguments,i)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var fa=function(e){(0,h.Z)(n,e);var t=da(n);function n(e,r,i,o,s){var a;return(0,c.Z)(this,n),(a=t.call(this,e,i))._graphId=r,a._node=o,a._propertyName=s,a}return(0,u.Z)(n,[{key:"destructor",value:function(){(0,l.Z)((0,f.Z)(n.prototype),"destructor",this).call(this),this._graphId=void 0,this._node=void 0,this._propertyName=void 0}},{key:"node",get:function(){return this._node}}]),n}($s),pa=function(e){(0,h.Z)(n,e);var t=da(n);function n(e,r,i,o,s){return(0,c.Z)(this,n),t.call(this,e,r,i,o,s)}return(0,u.Z)(n,[{key:"destructor",value:function(){(0,l.Z)((0,f.Z)(n.prototype),"destructor",this).call(this)}},{key:"input",get:function(){return this._propertyName}},{key:"toStringObject",value:function(){return{node:this.node.toStringObject(),input:this.input}}}]),n}(fa),ma=function(e){(0,h.Z)(n,e);var t=da(n);function n(e,r,i,o,s){return(0,c.Z)(this,n),t.call(this,e,r,i,o,s)}return(0,u.Z)(n,[{key:"destructor",value:function(){(0,l.Z)((0,f.Z)(n.prototype),"destructor",this).call(this)}},{key:"output",get:function(){return this._propertyName}},{key:"toStringObject",value:function(){return{node:this.node.toStringObject(),output:this.output}}}]),n}(fa),ga=function(e){(0,h.Z)(r,e);var t,n=da(r);function r(e,t,i,o,s,a,u){var l;return(0,c.Z)(this,r),(l=n.call(this,e,i))._graphId=t,l._from=new ma(e,t,i,o,s),l._to=new pa(e,t,i,a,u),l}return(0,u.Z)(r,[{key:"destructor",value:function(){(0,l.Z)((0,f.Z)(r.prototype),"destructor",this).call(this),this._graphId=void 0,this._from.destructor(),this._from=void 0,this._to.destructor(),this._to=void 0}},{key:"graphId",get:function(){return this._graphId}},{key:"from",get:function(){return this._from}},{key:"to",get:function(){return this._to}},{key:"toStringObject",value:function(){return{graphId:this.graphId,connectionId:this.id,from:this.from.toStringObject(),to:this.to.toStringObject()}}},{key:"disconnect",value:(t=(0,a.Z)(m().mark((function e(){var t,n,r,i,o,s,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="Connection.disconnect",n=D.notifyCommandRequest(t),r={method:"Machine.DeleteConnection",parameters:{machineID:this.graphId,connectionID:this.id}},i=void 0,e.prev=4,e.next=7,this._serviceMessenger.sendMessage(r);case 7:i=e.sent,e.next=17;break;case 10:throw e.prev=10,e.t0=e.catch(4),o="Exception sending API call '".concat(r.method,"'."),s={exception:e.t0,connection:this},a=g.j(o,30229,s),D.notifyCommandError(t,n,a.error),a.error;case 17:if(!i.error){e.next=20;break}throw D.notifyCommandError(t,n,i.error),i.error;case 20:return D.notifyCommandResponse(t,n,i.result),e.abrupt("return",i.result);case 22:case"end":return e.stop()}}),e,this,[[4,10]])}))),function(){return t.apply(this,arguments)})}]),r}($s);function va(e){var t=function(){if("undefined"==typeof Reflect||!s())return!1;if(s().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(s()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,f.Z)(e);if(t){var i=(0,f.Z)(this).constructor;n=s()(r,arguments,i)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var ya=function(e){(0,h.Z)(r,e);var t,n=va(r);function r(e,t,i){return(0,c.Z)(this,r),n.call(this,e,t,i)}return(0,u.Z)(r,[{key:"destructor",value:function(){(0,l.Z)((0,f.Z)(r.prototype),"destructor",this).call(this)}},{key:"get",value:(t=(0,a.Z)(m().mark((function e(t){var n,r,i,o,s,a,c,u,l=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>1&&void 0!==l[1]?l[1]:[],r="Node.output.attributes.get",i=D.notifyCommandRequest(r),o={method:"Machine.GetNodeAttributes",parameters:{machineID:this.graphId,nodeIdentifier:this.id,attributeType:t,attributeNames:n}},s=void 0,e.prev=5,e.next=8,this._serviceMessenger.sendMessage(o);case 8:s=e.sent,e.next=18;break;case 11:throw e.prev=11,e.t0=e.catch(5),a="Exception sending API call '".concat(o.method,"'."),c={exception:e.t0,attributeType:t,attributeNames:n},u=g.j(a,30181,c),D.notifyCommandError(r,i,u.error),u.error;case 18:if(!s.error){e.next=21;break}throw D.notifyCommandError(r,i,s.error),s.error;case 21:return D.notifyCommandResponse(r,i,s.result),e.abrupt("return",s.result);case 23:case"end":return e.stop()}}),e,this,[[5,11]])}))),function(e){return t.apply(this,arguments)})}]),r}(ua),ba=function(e){(0,h.Z)(r,e);var t,n=va(r);function r(e,t,i){return(0,c.Z)(this,r),n.call(this,e,t,i)}return(0,u.Z)(r,[{key:"destructor",value:function(){(0,l.Z)((0,f.Z)(r.prototype),"destructor",this).call(this)}},{key:"get",value:(t=(0,a.Z)(m().mark((function e(){var t,n,r,i,o,s,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="Node.output.getPoints",n=D.notifyCommandRequest(t),r={method:"Machine.GetNodeOutputPrimitivePoints",parameters:{machineID:this.graphId,nodeIdentifier:this.id}},i=void 0,e.prev=4,e.next=7,this._serviceMessenger.sendMessage(r);case 7:i=e.sent,e.next=17;break;case 10:throw e.prev=10,e.t0=e.catch(4),o="Exception sending API call '".concat(r.method,"'."),s={exception:e.t0,graphId:this.graphId,nodeIdentifier:this.id},a=g.j(o,30211,s),D.notifyCommandError(t,n,a.error),a.error;case 17:if(!i.error){e.next=20;break}throw D.notifyCommandError(t,n,i.error),i.error;case 20:return D.notifyCommandResponse(t,n,i.result),e.abrupt("return",i.result);case 22:case"end":return e.stop()}}),e,this,[[4,10]])}))),function(){return t.apply(this,arguments)})}]),r}(ua),wa=function(e){(0,h.Z)(r,e);var t,n=va(r);function r(e,t,i){return(0,c.Z)(this,r),n.call(this,e,t,i)}return(0,u.Z)(r,[{key:"destructor",value:function(){(0,l.Z)((0,f.Z)(r.prototype),"destructor",this).call(this)}},{key:"get",value:(t=(0,a.Z)(m().mark((function e(t){var n,r,i,o,s,a,c;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="Node.output.getGeometry",r=D.notifyCommandRequest(n),i={method:"Machine.GetNodeOutputGeometry",parameters:{machineID:this.graphId,nodeIdentifier:this.id,format:t}},o=void 0,e.prev=4,e.next=7,this._serviceMessenger.sendMessage(i);case 7:o=e.sent,e.next=17;break;case 10:throw e.prev=10,e.t0=e.catch(4),s="Exception sending API call '".concat(i.method,"'."),a={exception:e.t0,format:t},c=g.j(s,30180,a),D.notifyCommandError(n,r,c.error),c.error;case 17:if(!o.error){e.next=20;break}throw D.notifyCommandError(n,r,o.error),o.error;case 20:return D.notifyCommandResponse(n,r,o.result),e.abrupt("return",o.result);case 22:case"end":return e.stop()}}),e,this,[[4,10]])}))),function(e){return t.apply(this,arguments)})}]),r}(ua),Sa=function(e){(0,h.Z)(o,e);var t,n,r,i=va(o);function o(e,t,n){var r;return(0,c.Z)(this,o),(r=i.call(this,e,t,n))._points=new ba(e,t,n),r._geometry=new wa(e,t,n),r}return(0,u.Z)(o,[{key:"destructor",value:function(){(0,l.Z)((0,f.Z)(o.prototype),"destructor",this).call(this),this._points.destructor(),this._points=void 0,this._geometry.destructor(),this._geometry=void 0}},{key:"getPoints",value:(r=(0,a.Z)(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._points.get();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"getGeometry",value:(n=(0,a.Z)(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._geometry.get(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"getInfo",value:(t=(0,a.Z)(m().mark((function e(){var t,n,r,i,o,s,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="Node.output.getPrimitivesInfo",n=D.notifyCommandRequest(t),r={method:"Machine.GetNodeOutputPrimitiveInfo",parameters:{machineID:this.graphId,nodeIdentifier:this.id}},i=void 0,e.prev=4,e.next=7,this._serviceMessenger.sendMessage(r);case 7:i=e.sent,e.next=17;break;case 10:throw e.prev=10,e.t0=e.catch(4),o="Exception sending API call '".concat(r.method,"'."),s={exception:e.t0},a=g.j(o,30182,s),D.notifyCommandError(t,n,a.error),a.error;case 17:if(!i.error){e.next=20;break}throw D.notifyCommandError(t,n,i.error),i.error;case 20:return D.notifyCommandResponse(t,n,i.result),e.abrupt("return",i.result);case 22:case"end":return e.stop()}}),e,this,[[4,10]])}))),function(){return t.apply(this,arguments)})}]),o}(ua),_a=function(e){(0,h.Z)(p,e);var t,n,r,i,o,s,d=va(p);function p(e,t,n){var r;return(0,c.Z)(this,p),(r=d.call(this,e,t,n.id))._node=n,r._attributes=new ya(e,t,n.id),r._primitives=new Sa(e,t,n.id),r}return(0,u.Z)(p,[{key:"destructor",value:function(){(0,l.Z)((0,f.Z)(p.prototype),"destructor",this).call(this),this._node=void 0,this._attributes.destructor(),this._attributes=void 0,this._primitives.destructor(),this._primitives=void 0}},{key:"getAttributes",value:(s=(0,a.Z)(m().mark((function e(t){var n,r=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:[],e.next=3,this._attributes.get(t,n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"getPoints",value:(o=(0,a.Z)(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._primitives.getPoints();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"getPrimitivesInfo",value:(i=(0,a.Z)(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._primitives.getInfo();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"getGeometry",value:(r=(0,a.Z)(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._primitives.getGeometry(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"get",value:(n=(0,a.Z)(m().mark((function e(){var t,n,r,i,o,s,a,c,u=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:[],n="Node.output.get",r=D.notifyCommandRequest(n),i={method:"Machine.GetNodeOutput",parameters:{machineID:this.graphId,nodeIdentifier:this.id,outputNames:t}},o=void 0,e.prev=5,e.next=8,this._serviceMessenger.sendMessage(i);case 8:o=e.sent,e.next=18;break;case 11:throw e.prev=11,e.t0=e.catch(5),s="Exception sending API call '".concat(i.method,"'."),a={exception:e.t0,graphId:this.graphId,nodeIdentifier:this.id},c=g.j(s,30210,a),D.notifyCommandError(n,r,c.error),c.error;case 18:if(!o.error){e.next=21;break}throw D.notifyCommandError(n,r,o.error),o.error;case 21:return D.notifyCommandResponse(n,r,o.result),e.abrupt("return",o.result);case 23:case"end":return e.stop()}}),e,this,[[5,11]])}))),function(){return n.apply(this,arguments)})},{key:"connect",value:(t=(0,a.Z)(m().mark((function e(t,n,r){var i,o,s,a,c,u,l,h,d,f=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=f.length>3&&void 0!==f[3]?f[3]:-1,o="Node.output.connect",s=D.notifyCommandRequest(o),a={method:"Machine.NewConnection",parameters:{machineID:this.graphId,fromNodeID:this.id,fromNodePropertyName:t,toNodeID:n.id,toNodePropertyName:r,connectionIdentifier:null,atIndex:i}},c=void 0,e.prev=5,e.next=8,this._serviceMessenger.sendMessage(a);case 8:c=e.sent,e.next=18;break;case 11:throw e.prev=11,e.t0=e.catch(5),u="Exception sending API call '".concat(a.method,"'."),l={exception:e.t0},h=g.j(u,30187,l),D.notifyCommandError(o,s,h.error),h.error;case 18:if(!c.error){e.next=21;break}throw D.notifyCommandError(o,s,c.error),c.error;case 21:return d=new ga(this._serviceMessenger,this.graphId,c.result.connectionID,this._node,c.result.fromNodePropertyName,n,c.result.toNodePropertyName),D.notifyCommandResponse(o,s,d),e.abrupt("return",d);case 24:case"end":return e.stop()}}),e,this,[[5,11]])}))),function(e,n,r){return t.apply(this,arguments)})}]),p}(ua),xa=function(e){(0,h.Z)(v,e);var t,n,r,i,o,p=(i=v,o=function(){if("undefined"==typeof Reflect||!s())return!1;if(s().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(s()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=(0,f.Z)(i);if(o){var n=(0,f.Z)(this).constructor;e=s()(t,arguments,n)}else e=t.apply(this,arguments);return(0,d.Z)(this,e)});function v(e,t,n){var r;return(0,c.Z)(this,v),(r=p.call(this,e,t,n.id))._node=n,r}return(0,u.Z)(v,[{key:"destructor",value:function(){(0,l.Z)((0,f.Z)(v.prototype),"destructor",this).call(this),this._node=void 0}},{key:"get",value:(r=(0,a.Z)(m().mark((function e(){var t,n,r,i,o,s,a,c,u=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:[],n="Node.input.get",r=D.notifyCommandRequest(n),i={method:"Machine.GetNodeInput",parameters:{machineID:this.graphId,nodeIdentifier:this.id,inputNames:t}},o=void 0,e.prev=5,e.next=8,this._serviceMessenger.sendMessage(i);case 8:o=e.sent,e.next=18;break;case 11:throw e.prev=11,e.t0=e.catch(5),s="Exception sending API call '".concat(i.method,"'."),a={exception:e.t0,inputNames:t},c=g.j(s,30218,a),D.notifyCommandError(n,r,c.error),c.error;case 18:if(!o.error){e.next=21;break}throw D.notifyCommandError(n,r,o.error),o.error;case 21:return D.notifyCommandResponse(n,r,o.result),e.abrupt("return",o.result);case 23:case"end":return e.stop()}}),e,this,[[5,11]])}))),function(){return r.apply(this,arguments)})},{key:"set",value:(n=(0,a.Z)(m().mark((function e(t){var n,r,i,o,s,a,c;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="Node.input.set",r=D.notifyCommandRequest(n),i={method:"Machine.SetNodeInput",parameters:{machineID:this.graphId,nodeIdentifier:this.id,nodeInput:t}},o=void 0,e.prev=4,e.next=7,this._serviceMessenger.sendMessage(i);case 7:o=e.sent,e.next=17;break;case 10:throw e.prev=10,e.t0=e.catch(4),s="Exception sending API call '".concat(i.method,"'."),a={exception:e.t0},c=g.j(s,30219,a),D.notifyCommandError(n,r,c.error),c.error;case 17:if(!o.error){e.next=20;break}throw D.notifyCommandError(n,r,o.error),o.error;case 20:return D.notifyCommandResponse(n,r,o.result),e.abrupt("return",o.result);case 22:case"end":return e.stop()}}),e,this,[[4,10]])}))),function(e){return n.apply(this,arguments)})},{key:"connect",value:(t=(0,a.Z)(m().mark((function e(t,n,r){var i,o,s,a,c,u,l,h,d,f=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=f.length>3&&void 0!==f[3]?f[3]:-1,o="Node.input.connect",s=D.notifyCommandRequest(o),a={method:"Machine.NewConnection",parameters:{machineID:this.graphId,fromNodeID:n.id,fromNodePropertyName:r,toNodeID:this.id,toNodePropertyName:t,connectionIdentifier:null,atIndex:i}},c=void 0,e.prev=5,e.next=8,this._serviceMessenger.sendMessage(a);case 8:c=e.sent,e.next=18;break;case 11:throw e.prev=11,e.t0=e.catch(5),u="Exception sending API call '".concat(a.method,"'."),l={exception:e.t0},h=g.j(u,30186,l),D.notifyCommandError(o,s,h.error),h.error;case 18:if(!c.error){e.next=21;break}throw D.notifyCommandError(o,s,c.error),c.error;case 21:return d=new ga(this._serviceMessenger,this.graphId,c.result.connectionID,n,c.result.fromNodePropertyName,this._node,c.result.toNodePropertyName),D.notifyCommandResponse(o,s,d),e.abrupt("return",d);case 24:case"end":return e.stop()}}),e,this,[[5,11]])}))),function(e,n,r){return t.apply(this,arguments)})}]),v}(ua);function Ca(e){var t=function(){if("undefined"==typeof Reflect||!s())return!1;if(s().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(s()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,f.Z)(e);if(t){var i=(0,f.Z)(this).constructor;n=s()(r,arguments,i)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var Ea=function(e){(0,h.Z)(r,e);var t,n=Ca(r);function r(e,t,i){var o;return(0,c.Z)(this,r),(o=n.call(this,e,t,i.id))._node=i,o}return(0,u.Z)(r,[{key:"destructor",value:function(){(0,l.Z)((0,f.Z)(r.prototype),"destructor",this).call(this),this._node=void 0}},{key:"get",value:(t=(0,a.Z)(m().mark((function e(){var t,n,r,i,o,s,a,c,u,l,h;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="Node.connections.output.get",n=D.notifyCommandRequest(t),r={method:"Machine.GetNodeOutputConnections",parameters:{machineID:this.graphId,nodeIdentifier:this.id}},i=void 0,e.prev=4,e.next=7,this._serviceMessenger.sendMessage(r);case 7:i=e.sent,e.next=17;break;case 10:throw e.prev=10,e.t0=e.catch(4),o="Exception sending API call '".concat(r.method,"'."),s={exception:e.t0},a=g.j(o,30184,s),D.notifyCommandError(t,n,a.error),a.error;case 17:if(!i.error){e.next=20;break}throw D.notifyCommandError(t,n,i.error),i.error;case 20:for(u in c=[],i.result)l=new Na(this._serviceMessenger,this.graphId,i.result[u].toNodeID),h=new ga(this._serviceMessenger,this.graphId,i.result[u].connectionID,this._node,i.result[u].fromNodePropertyName,l,i.result[u].toNodePropertyName),c.push(h);return D.notifyCommandResponse(t,n,c),e.abrupt("return",c);case 24:case"end":return e.stop()}}),e,this,[[4,10]])}))),function(){return t.apply(this,arguments)})}]),r}(ua),ka=function(e){(0,h.Z)(r,e);var t,n=Ca(r);function r(e,t,i){var o;return(0,c.Z)(this,r),(o=n.call(this,e,t,i.id))._node=i,o}return(0,u.Z)(r,[{key:"destructor",value:function(){(0,l.Z)((0,f.Z)(r.prototype),"destructor",this).call(this),this._node=void 0}},{key:"get",value:(t=(0,a.Z)(m().mark((function e(){var t,n,r,i,o,s,a,c,u,l,h;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="Node.connections.input.get",n=D.notifyCommandRequest(t),r={method:"Machine.GetNodeInputConnections",parameters:{machineID:this.graphId,nodeIdentifier:this.id}},i=void 0,e.prev=4,e.next=7,this._serviceMessenger.sendMessage(r);case 7:i=e.sent,e.next=17;break;case 10:throw e.prev=10,e.t0=e.catch(4),o="Exception sending API call '".concat(r.method,"'."),s={exception:e.t0},a=g.j(o,30185,s),D.notifyCommandError(t,n,a.error),a.error;case 17:if(!i.error){e.next=20;break}throw D.notifyCommandError(t,n,i.error),i.error;case 20:for(u in c=[],i.result)l=new Na(this._serviceMessenger,this.graphId,i.result[u].fromNodeID),h=new ga(this._serviceMessenger,this.graphId,i.result[u].connectionID,l,i.result[u].fromNodePropertyName,this._node,i.result[u].toNodePropertyName),c.push(h);return D.notifyCommandResponse(t,n,c),e.abrupt("return",c);case 24:case"end":return e.stop()}}),e,this,[[4,10]])}))),function(){return t.apply(this,arguments)})}]),r}(ua),Aa=function(e){(0,h.Z)(n,e);var t=Ca(n);function n(e,r,i){var o;return(0,c.Z)(this,n),(o=t.call(this,e,r,i.id))._node=i,o._input=new ka(e,r,i),o._output=new Ea(e,r,i),o}return(0,u.Z)(n,[{key:"destructor",value:function(){(0,l.Z)((0,f.Z)(n.prototype),"destructor",this).call(this),this._node=void 0,this._input.destructor(),this._input=void 0,this._output.destructor(),this._output=void 0}},{key:"input",get:function(){return this._input}},{key:"output",get:function(){return this._output}}]),n}(ua),Na=function(e){(0,h.Z)(o,e);var t,n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!s())return!1;if(s().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(s()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=(0,f.Z)(n);if(r){var i=(0,f.Z)(this).constructor;e=s()(t,arguments,i)}else e=t.apply(this,arguments);return(0,d.Z)(this,e)});function o(e,t,n){var r,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;return(0,c.Z)(this,o),(r=i.call(this,e,t,n))._properties=new ha(e,t,n,s,a),r._input=new xa(e,t,(0,le.Z)(r)),r._output=new _a(e,t,(0,le.Z)(r)),r._connections=new Aa(e,t,(0,le.Z)(r)),r}return(0,u.Z)(o,[{key:"destructor",value:function(){(0,l.Z)((0,f.Z)(o.prototype),"destructor",this).call(this),this._properties.destructor(),this._properties=void 0,this._input.destructor(),this._input=void 0,this._output.destructor(),this._output=void 0,this._connections.destructor(),this._connections=void 0}},{key:"toStringObject",value:function(){return this._properties.toStringObject()}},{key:"type",get:function(){return this._properties.type}},{key:"name",get:function(){return this._properties.name}},{key:"properties",get:function(){return this._properties}},{key:"input",get:function(){return this._input}},{key:"output",get:function(){return this._output}},{key:"connections",get:function(){return this._connections}},{key:"getDefinition",value:(t=(0,a.Z)(m().mark((function e(){var t,n,r,i,o,s,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="Node.getDefinition",n=D.notifyCommandRequest(t),r={method:"Machine.GetNodeDefinition",parameters:{machineID:this.graphId,nodeIdentifier:this.id}},i=void 0,e.prev=4,e.next=7,this._serviceMessenger.sendMessage(r);case 7:i=e.sent,e.next=17;break;case 10:throw e.prev=10,e.t0=e.catch(4),o="Exception sending API call '".concat(r.method,"'."),s={exception:e.t0},a=g.j(o,30183,s),D.notifyCommandError(t,n,a.error),a.error;case 17:if(!i.error){e.next=20;break}throw D.notifyCommandError(t,n,i.error),i.error;case 20:return D.notifyCommandResponse(t,n,i.result),e.abrupt("return",i.result);case 22:case"end":return e.stop()}}),e,this,[[4,10]])}))),function(){return t.apply(this,arguments)})}]),o}(ua);function Ta(e){var t=function(){if("undefined"==typeof Reflect||!s())return!1;if(s().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(s()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,f.Z)(e);if(t){var i=(0,f.Z)(this).constructor;n=s()(r,arguments,i)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var Pa=function(e){(0,h.Z)(i,e);var t,n,r=Ta(i);function i(e,t){return(0,c.Z)(this,i),r.call(this,e,t)}return(0,u.Z)(i,[{key:"destructor",value:function(){(0,l.Z)((0,f.Z)(i.prototype),"destructor",this).call(this)}},{key:"set",value:(n=(0,a.Z)(m().mark((function e(t){var n,r,i,o,s,a,c,u,l;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o in n="Graph.outputNodes.set",r=D.notifyCommandRequest(n),i=[],t)i.push(t[o].id);return s={method:"Machine.SetComputedNodes",parameters:{machineID:this.id,nodeIDs:i}},a=void 0,e.prev=6,e.next=9,this._serviceMessenger.sendMessage(s);case 9:a=e.sent,e.next=19;break;case 12:throw e.prev=12,e.t0=e.catch(6),c="Exception sending API call '".concat(s.method,"'."),u={exception:e.t0,nodes:t},l=g.j(c,30169,u),D.notifyCommandError(n,r,l.error),l.error;case 19:if(!a.error){e.next=22;break}throw D.notifyCommandError(n,r,a.error),a.error;case 22:return D.notifyCommandResponse(n,r,a.result),e.abrupt("return",a.result);case 24:case"end":return e.stop()}}),e,this,[[6,12]])}))),function(e){return n.apply(this,arguments)})},{key:"get",value:(t=(0,a.Z)(m().mark((function e(){var t,n,r,i,o,s,a,c,u,l;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="Graph.outputNodes.get",n=D.notifyCommandRequest(t),r={method:"Machine.GetComputedNodes",parameters:{machineID:this.id}},i=void 0,e.prev=4,e.next=7,this._serviceMessenger.sendMessage(r);case 7:i=e.sent,e.next=17;break;case 10:throw e.prev=10,e.t0=e.catch(4),o="Exception sending API call '".concat(r.method,"'."),s={exception:e.t0},a=g.j(o,30170,s),D.notifyCommandError(t,n,a.error),a.error;case 17:if(!i.error){e.next=20;break}throw D.notifyCommandError(t,n,i.error),i.error;case 20:for(u in c=[],i.result)l=new Na(this._serviceMessenger,this.id,i.result[u].nodeID,i.result[u].nodeName,i.result[u].nodeType),c.push(l);return D.notifyCommandResponse(t,n,c),e.abrupt("return",c);case 24:case"end":return e.stop()}}),e,this,[[4,10]])}))),function(){return t.apply(this,arguments)})}]),i}($s),Oa=function(e){(0,h.Z)(i,e);var t,n,r=Ta(i);function i(e,t){return(0,c.Z)(this,i),r.call(this,e,t)}return(0,u.Z)(i,[{key:"destructor",value:function(){(0,l.Z)((0,f.Z)(i.prototype),"destructor",this).call(this)}},{key:"set",value:(n=(0,a.Z)(m().mark((function e(t){var n,r,i,o,s,a,c,u,l;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o in n="Graph.parameterNodes.set",r=D.notifyCommandRequest(n),i=[],t)i.push(t[o].id);return s={method:"Machine.SetParameterNodes",parameters:{machineID:this.id,nodeIDs:i}},a=void 0,e.prev=6,e.next=9,this._serviceMessenger.sendMessage(s);case 9:a=e.sent,e.next=19;break;case 12:throw e.prev=12,e.t0=e.catch(6),c="Exception sending API call '".concat(s.method,"'."),u={exception:e.t0,nodes:t},l=g.j(c,30171,u),D.notifyCommandError(n,r,l.error),l.error;case 19:if(!a.error){e.next=22;break}throw D.notifyCommandError(n,r,a.error),a.error;case 22:return D.notifyCommandResponse(n,r,a.result),e.abrupt("return",a.result);case 24:case"end":return e.stop()}}),e,this,[[6,12]])}))),function(e){return n.apply(this,arguments)})},{key:"get",value:(t=(0,a.Z)(m().mark((function e(){var t,n,r,i,o,s,a,c,u,l;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="Graph.parameterNodes.get",n=D.notifyCommandRequest(t),r={method:"Machine.GetParameterNodes",parameters:{machineID:this.id}},i=void 0,e.prev=4,e.next=7,this._serviceMessenger.sendMessage(r);case 7:i=e.sent,e.next=17;break;case 10:throw e.prev=10,e.t0=e.catch(4),o="Exception sending API call '".concat(r.method,"'."),s={exception:e.t0},a=g.j(o,30172,s),D.notifyCommandError(t,n,a.error),a.error;case 17:if(!i.error){e.next=20;break}throw D.notifyCommandError(t,n,i.error),i.error;case 20:for(u in c=[],i.result)l=new Na(this._serviceMessenger,this.id,i.result[u].nodeID,i.result[u].nodeName,i.result[u].nodeType),c.push(l);return D.notifyCommandResponse(t,n,c),e.abrupt("return",c);case 24:case"end":return e.stop()}}),e,this,[[4,10]])}))),function(){return t.apply(this,arguments)})}]),i}($s),Ia=function(e){(0,h.Z)(o,e);var t,n,r,i=Ta(o);function o(e,t){return(0,c.Z)(this,o),i.call(this,e,t)}return(0,u.Z)(o,[{key:"destructor",value:function(){(0,l.Z)((0,f.Z)(o.prototype),"destructor",this).call(this)}},{key:"get",value:(r=(0,a.Z)(m().mark((function e(){var t,n,r,i,o,s,a,c,u,l,h,d=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:[],n="Graph.nodes.get",r=D.notifyCommandRequest(n),i={method:"Machine.GetNodes",parameters:{machineID:this.id,nodeIdentifiers:t}},o=void 0,e.prev=5,e.next=8,this._serviceMessenger.sendMessage(i);case 8:o=e.sent,e.next=18;break;case 11:throw e.prev=11,e.t0=e.catch(5),s="Exception sending API call '".concat(i.method,"'."),a={exception:e.t0,nodeIdentifiers:t},c=g.j(s,30166,a),D.notifyCommandError(n,r,c.error),c.error;case 18:if(!o.error){e.next=21;break}throw D.notifyCommandError(n,r,o.error),o.error;case 21:for(l in u=[],o.result)h=new Na(this._serviceMessenger,this.id,o.result[l].nodeID,o.result[l].nodeName,o.result[l].nodeType),u.push(h);return D.notifyCommandResponse(n,r,u),e.abrupt("return",u);case 25:case"end":return e.stop()}}),e,this,[[5,11]])}))),function(){return r.apply(this,arguments)})},{key:"new",value:(n=(0,a.Z)(m().mark((function e(t){var n,r,i,o,s,a,c,u,l,h=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=h.length>1&&void 0!==h[1]?h[1]:void 0,r="Graph.nodes.new",i=D.notifyCommandRequest(r),n||(n={}),o={method:"Machine.NewNode",parameters:{machineID:this.id,nodeType:t,nodeProperties:n}},s=void 0,e.prev=6,e.next=9,this._serviceMessenger.sendMessage(o);case 9:s=e.sent,e.next=19;break;case 12:throw e.prev=12,e.t0=e.catch(6),a="Exception sending API call '".concat(o.method,"'."),c={exception:e.t0,nodeType:t},u=g.j(a,30167,c),D.notifyCommandError(r,i,u.error),u.error;case 19:if(!s.error){e.next=22;break}throw D.notifyCommandError(r,i,s.error),s.error;case 22:return l=new Na(this._serviceMessenger,this.id,s.result.nodeID,s.result.nodeName,s.result.nodeType),D.notifyCommandResponse(r,i,l),e.abrupt("return",l);case 25:case"end":return e.stop()}}),e,this,[[6,12]])}))),function(e){return n.apply(this,arguments)})},{key:"delete",value:(t=(0,a.Z)(m().mark((function e(t){var n,r,i,o,s,a,c;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="Graph.nodes.delete",r=D.notifyCommandRequest(n),i={method:"Machine.DeleteNode",parameters:{machineID:this.id,nodeID:t.id}},o=void 0,e.prev=4,e.next=7,this._serviceMessenger.sendMessage(i);case 7:o=e.sent,e.next=17;break;case 10:throw e.prev=10,e.t0=e.catch(4),s="Exception sending API call '".concat(i.method,"'."),a={exception:e.t0,node:t},c=g.j(s,30168,a),D.notifyCommandError(n,r,c.error),c.error;case 17:if(!o.error){e.next=20;break}throw D.notifyCommandError(n,r,o.error),o.error;case 20:return D.notifyCommandResponse(n,r,o.result),e.abrupt("return",o.result);case 22:case"end":return e.stop()}}),e,this,[[4,10]])}))),function(e){return t.apply(this,arguments)})}]),o}($s),Ra=function(e){(0,h.Z)(p,e);var t,n,r,i,o=(r=p,i=function(){if("undefined"==typeof Reflect||!s())return!1;if(s().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(s()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=(0,f.Z)(r);if(i){var n=(0,f.Z)(this).constructor;e=s()(t,arguments,n)}else e=t.apply(this,arguments);return(0,d.Z)(this,e)});function p(e,t){return(0,c.Z)(this,p),o.call(this,e,t)}return(0,u.Z)(p,[{key:"destructor",value:function(){(0,l.Z)((0,f.Z)(p.prototype),"destructor",this).call(this)}},{key:"get",value:(n=(0,a.Z)(m().mark((function e(){var t,n,r,i,o,s,a,c,u,l,h,d,f,p=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.length>0&&void 0!==p[0]?p[0]:[],n="Graph.connections.get",r=D.notifyCommandRequest(n),i={method:"Machine.GetConnections",parameters:{machineID:this.id,connectionIdentifiers:t}},o=void 0,e.prev=5,e.next=8,this._serviceMessenger.sendMessage(i);case 8:o=e.sent,e.next=18;break;case 11:throw e.prev=11,e.t0=e.catch(5),s="Exception sending API call '".concat(i.method,"'."),a={exception:e.t0,connectionIdentifiers:t},c=g.j(s,30173,a),D.notifyCommandError(n,r,c.error),c.error;case 18:if(!o.error){e.next=21;break}throw D.notifyCommandError(n,r,o.error),o.error;case 21:for(l in u=[],o.result)h=new Na(this._serviceMessenger,this.id,o.result[l].fromNodeID),d=new Na(this._serviceMessenger,this.id,o.result[l].toNodeID),f=new ga(this._serviceMessenger,this.id,o.result[l].connectionID,h,o.result[l].fromNodePropertyName,d,o.result[l].toNodePropertyName),u.push(f);return D.notifyCommandResponse(n,r,u),e.abrupt("return",u);case 25:case"end":return e.stop()}}),e,this,[[5,11]])}))),function(){return n.apply(this,arguments)})},{key:"delete",value:(t=(0,a.Z)(m().mark((function e(t){var n,r,i,o,s,a,c;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="Graph.connections.delete",r=D.notifyCommandRequest(n),i={method:"Machine.DeleteConnection",parameters:{machineID:this.id,connectionID:t.id}},o=void 0,e.prev=4,e.next=7,this._serviceMessenger.sendMessage(i);case 7:o=e.sent,e.next=17;break;case 10:throw e.prev=10,e.t0=e.catch(4),s="Exception sending API call '".concat(i.method,"'."),a={exception:e.t0,connection:t},c=g.j(s,30174,a),D.notifyCommandError(n,r,c.error),c.error;case 17:if(!o.error){e.next=20;break}throw D.notifyCommandError(n,r,o.error),o.error;case 20:return D.notifyCommandResponse(n,r,o.result),e.abrupt("return",o.result);case 22:case"end":return e.stop()}}),e,this,[[4,10]])}))),function(e){return t.apply(this,arguments)})}]),p}($s),La=function(e){(0,h.Z)(o,e);var t,n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!s())return!1;if(s().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(s()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=(0,f.Z)(n);if(r){var i=(0,f.Z)(this).constructor;e=s()(t,arguments,i)}else e=t.apply(this,arguments);return(0,d.Z)(this,e)});function o(e,t){return(0,c.Z)(this,o),i.call(this,e,t)}return(0,u.Z)(o,[{key:"destructor",value:function(){(0,l.Z)((0,f.Z)(o.prototype),"destructor",this).call(this)}},{key:"get",value:(t=(0,a.Z)(m().mark((function e(t){var n,r,i,o,s,a,c;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="Graph.getGeometry",r=D.notifyCommandRequest(n),i={method:"Machine.GetComputedGeometry",parameters:{machineID:this.id,format:t}},o=void 0,e.prev=4,e.next=7,this._serviceMessenger.sendMessage(i);case 7:o=e.sent,e.next=17;break;case 10:throw e.prev=10,e.t0=e.catch(4),s="Exception sending API call '".concat(i.method,"'."),a={exception:e.t0,format:t},c=g.j(s,30175,a),D.notifyCommandError(n,r,c.error),c.error;case 17:if(!o.error){e.next=20;break}throw D.notifyCommandError(n,r,o.error),o.error;case 20:return D.notifyCommandResponse(n,r,o.result),e.abrupt("return",o.result);case 22:case"end":return e.stop()}}),e,this,[[4,10]])}))),function(e){return t.apply(this,arguments)})}]),o}($s),Ma=function(e){(0,h.Z)(o,e);var t,n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!s())return!1;if(s().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(s()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=(0,f.Z)(n);if(r){var i=(0,f.Z)(this).constructor;e=s()(t,arguments,i)}else e=t.apply(this,arguments);return(0,d.Z)(this,e)});function o(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return(0,c.Z)(this,o),(n=i.call(this,e,r))._graphId=t,n}return(0,u.Z)(o,[{key:"destructor",value:function(){(0,l.Z)((0,f.Z)(o.prototype),"destructor",this).call(this),this._graphId=void 0}},{key:"get",value:(t=(0,a.Z)(m().mark((function e(){var t,n,r,i,o,s,a,c,u,l,h,d;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="Graph.asset.get",n=D.notifyCommandRequest(t),r={method:"Machine.GetAssetReference",parameters:{machineID:this._graphId}},i=void 0,e.prev=4,e.next=7,this._serviceMessenger.sendMessage(r);case 7:i=e.sent,e.next=17;break;case 10:throw e.prev=10,e.t0=e.catch(4),o="Exception sending API call '".concat(r.method,"'."),s={exception:e.t0},a=g.j(o,30158,s),D.notifyCommandError(t,n,a.error),a.error;case 17:if(!i.error){e.next=20;break}throw D.notifyCommandError(t,n,i.error),i.error;case 20:return c=i.result.assetURI,this.id=null==c||null==c?null:c,e.next=24,this.properties.refresh();case 24:if(e.sent){e.next=31;break}throw l=O()(u="Error refreshing asset '".concat(this.id,"' properties for Graph '")).call(u,this._graphId,"'."),h={asset:this,graphId:this._graphId},d=g.j(l,30230,h),D.notifyCommandError(t,n,d.error),d.error;case 31:return D.notifyCommandResponse(t,n,this),e.abrupt("return",this);case 33:case"end":return e.stop()}}),e,this,[[4,10]])}))),function(){return t.apply(this,arguments)})}]),o}(Ws),Da=function(e){(0,h.Z)(v,e);var t,n,r,i,o,p=(i=v,o=function(){if("undefined"==typeof Reflect||!s())return!1;if(s().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(s()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=(0,f.Z)(i);if(o){var n=(0,f.Z)(this).constructor;e=s()(t,arguments,n)}else e=t.apply(this,arguments);return(0,d.Z)(this,e)});function v(e,t){return(0,c.Z)(this,v),p.call(this,e,t)}return(0,u.Z)(v,[{key:"destructor",value:function(){(0,l.Z)((0,f.Z)(v.prototype),"getdestructor",this).call(this)}},{key:"tryGetResponseFromSendMessage",value:(r=(0,a.Z)(m().mark((function e(t,n,r){var i,o,s,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=void 0,e.prev=1,e.next=4,this._serviceMessenger.sendMessage(r);case 4:i=e.sent,e.next=14;break;case 7:throw e.prev=7,e.t0=e.catch(1),o="Exception sending API call '".concat(r.method,"'."),s={exception:e.t0},a=g.j(o,30159,s),D.notifyCommandError(t,n,a.error),a.error;case 14:if(!i.error){e.next=17;break}throw D.notifyCommandResponse(t,n,i.result),i.error;case 17:return D.notifyCommandResponse(t,n,i.result),e.abrupt("return",i);case 19:case"end":return e.stop()}}),e,this,[[1,7]])}))),function(e,t,n){return r.apply(this,arguments)})},{key:"set",value:(n=(0,a.Z)(m().mark((function e(t){var n,r,i;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="Graph.ephemeral.set",r=D.notifyCommandRequest(n),i={method:"Machine.SetEphemeral",parameters:{machineID:this.id,value:t}},e.next=5,this.tryGetResponseFromSendMessage(n,r,i);case 5:return e.abrupt("return",e.sent.result);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"get",value:(t=(0,a.Z)(m().mark((function e(){var t,n,r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="Graph.ephemeral.get",n=D.notifyCommandRequest(t),r={method:"Machine.IsEphemeral",parameters:{machineID:this.id}},e.next=5,this.tryGetResponseFromSendMessage(t,n,r);case 5:return e.abrupt("return",e.sent.result);case 6:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),v}($s),ja=function(e){(0,h.Z)(o,e);var t,n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!s())return!1;if(s().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(s()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=(0,f.Z)(n);if(r){var i=(0,f.Z)(this).constructor;e=s()(t,arguments,i)}else e=t.apply(this,arguments);return(0,d.Z)(this,e)});function o(e,t){return(0,c.Z)(this,o),i.call(this,e,t)}return(0,u.Z)(o,[{key:"destructor",value:function(){(0,l.Z)((0,f.Z)(o.prototype),"destructor",this).call(this)}},{key:"save",value:(t=(0,a.Z)(m().mark((function e(){var t,n,r,i,o,s,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="Graph.configuration.save",n=D.notifyCommandRequest(t),r={method:"Machine.SaveConfiguration",parameters:{machineID:this.id}},i=void 0,e.prev=4,e.next=7,this._serviceMessenger.sendMessage(r);case 7:i=e.sent,e.next=17;break;case 10:throw e.prev=10,e.t0=e.catch(4),o="Exception sending API call '".concat(r.method,"'."),s={exception:e.t0},a=g.j(o,30175,s),D.notifyCommandError(t,n,a.error),a.error;case 17:if(!i.error){e.next=20;break}throw D.notifyCommandError(t,n,i.error),i.error;case 20:return D.notifyCommandResponse(t,n,i.result),e.abrupt("return",i.result);case 22:case"end":return e.stop()}}),e,this,[[4,10]])}))),function(){return t.apply(this,arguments)})}]),o}($s),Fa=function(e){(0,h.Z)(b,e);var t,n,r,i,o,p,v,y=(p=b,v=function(){if("undefined"==typeof Reflect||!s())return!1;if(s().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(s()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=(0,f.Z)(p);if(v){var n=(0,f.Z)(this).constructor;e=s()(t,arguments,n)}else e=t.apply(this,arguments);return(0,d.Z)(this,e)});function b(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;return(0,c.Z)(this,b),(n=y.call(this,e,t))._properties=new Ys(e,t,r),n._modified=new Js(e,t),n._parameters=new ia(e,t),n._nodes=new Ia(e,t),n._outputNodes=new Pa(e,t),n._parameterNodes=new Oa(e,t),n._connections=new Ra(e,t),n._geometry=new La(e,t),n._asset=new Ma(e,t,i),n._configuration=new ja(e,t),n._parentId=o,n._ephemeral=new Da(e,t),n}return(0,u.Z)(b,[{key:"destructor",value:function(){(0,l.Z)((0,f.Z)(b.prototype),"destructor",this).call(this),this._properties.destructor(),this._properties=void 0,this._modified.destructor(),this._modified=void 0,this._parameters.destructor(),this._parameters=void 0,this._nodes.destructor(),this._nodes=void 0,this._outputNodes.destructor(),this._outputNodes=void 0,this._parameterNodes.destructor(),this._parameterNodes=void 0,this._connections.destructor(),this._connections=void 0,this._geometry.destructor(),this._geometry=void 0,this._asset.destructor(),this._asset=void 0,this._configuration=void 0,this._parentId=void 0,this._ephemeral.destructor(),this._ephemeral=void 0}},{key:"toStringObject",value:function(){return{graphId:this.id,name:this.name.toStringObject(),asset:this.asset.toStringObject()}}},{key:"name",get:function(){return this._properties.name}},{key:"parentId",get:function(){return this._parentId}},{key:"properties",get:function(){return this._properties}},{key:"modified",get:function(){return this._modified}},{key:"ephemeral",get:function(){return this._ephemeral}},{key:"parameters",get:function(){return this._parameters}},{key:"nodes",get:function(){return this._nodes}},{key:"outputNodes",get:function(){return this._outputNodes}},{key:"parameterNodes",get:function(){return this._parameterNodes}},{key:"connections",get:function(){return this._connections}},{key:"asset",get:function(){return this._asset}},{key:"configuration",get:function(){return this._configuration}},{key:"clear",value:(o=(0,a.Z)(m().mark((function e(){var t,n,r,i,o,s,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="Graph.clear",n=D.notifyCommandRequest(t),r={method:"Machine.Clear",parameters:{machineID:this.id}},i=void 0,e.prev=4,e.next=7,this._serviceMessenger.sendMessage(r);case 7:i=e.sent,e.next=17;break;case 10:throw e.prev=10,e.t0=e.catch(4),o="Exception sending API call '".concat(r.method,"'."),s={exception:e.t0},a=g.j(o,30228,s),D.notifyCommandError(t,n,a.error),a.error;case 17:if(!i.error){e.next=20;break}throw D.notifyCommandError(t,n,i.error),i.error;case 20:return D.notifyCommandResponse(t,n,i.result),e.abrupt("return",i.result);case 22:case"end":return e.stop()}}),e,this,[[4,10]])}))),function(){return o.apply(this,arguments)})},{key:"save",value:(i=(0,a.Z)(m().mark((function e(t){var n,r,i,o,s,a,c,u,l,h=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=h.length>1&&void 0!==h[1]?h[1]:{},r="Graph.save",i=D.notifyCommandRequest(r),o={method:"Machines.SaveMachine",parameters:{machineID:this.id,assetName:t,extraAssetData:n}},s=void 0,e.prev=5,e.next=8,this._serviceMessenger.sendMessage(o);case 8:s=e.sent,e.next=18;break;case 11:throw e.prev=11,e.t0=e.catch(5),a="Exception sending API call '".concat(o.method,"'."),c={exception:e.t0,assetName:t},u=g.j(a,30160,c),D.notifyCommandError(r,i,u.error),u.error;case 18:if(!s.error){e.next=21;break}throw D.notifyCommandError(r,i,s.error),s.error;case 21:return l=s.result.machineAssetURI,this._asset=new Ma(this._serviceMessenger,this.id,l),D.notifyCommandResponse(r,i,this._asset),e.abrupt("return",this._asset);case 25:case"end":return e.stop()}}),e,this,[[5,11]])}))),function(e){return i.apply(this,arguments)})},{key:"saveAs",value:(r=(0,a.Z)(m().mark((function e(t){var n,r,i,o,s,a,c,u,l,h=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=h.length>1&&void 0!==h[1]?h[1]:{},r="Graph.saveAs",i=D.notifyCommandRequest(r),o={method:"Machines.SaveMachineAs",parameters:{machineID:this.id,assetName:t,extraAssetData:n}},s=void 0,e.prev=5,e.next=8,this._serviceMessenger.sendMessage(o);case 8:s=e.sent,e.next=18;break;case 11:throw e.prev=11,e.t0=e.catch(5),a="Exception sending API call '".concat(o.method,"'."),c={exception:e.t0,assetName:t},u=g.j(a,30161,c),D.notifyCommandError(r,i,u.error),u.error;case 18:if(!s.error){e.next=21;break}throw D.notifyCommandError(r,i,s.error),s.error;case 21:return l=s.result.machineAssetURI,this._asset=new Ma(this._serviceMessenger,this.id,l),D.notifyCommandResponse(r,i,this._asset),e.abrupt("return",this._asset);case 25:case"end":return e.stop()}}),e,this,[[5,11]])}))),function(e){return r.apply(this,arguments)})},{key:"saveTo",value:(n=(0,a.Z)(m().mark((function e(t,n){var r,i,o,s,a,c,u,l,h,d=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>2&&void 0!==d[2]?d[2]:{},i="Graph.saveTo",o=D.notifyCommandRequest(i),s={method:"Machines.SaveMachineTo",parameters:{machineID:this.id,assetName:t,assetURI:n,extraAssetData:r}},a=void 0,e.prev=5,e.next=8,this._serviceMessenger.sendMessage(s);case 8:a=e.sent,e.next=18;break;case 11:throw e.prev=11,e.t0=e.catch(5),c="Exception sending API call '".concat(s.method,"'."),u={exception:e.t0,assetName:t,assetUri:n},l=g.j(c,30162,u),D.notifyCommandError(i,o,l.error),l.error;case 18:if(!a.error){e.next=21;break}throw D.notifyCommandError(i,o,a.error),a.error;case 21:return h=a.result.machineAssetURI,this._asset=new Ma(this._serviceMessenger,this.id,h),D.notifyCommandResponse(i,o,this._asset),e.abrupt("return",this._asset);case 25:case"end":return e.stop()}}),e,this,[[5,11]])}))),function(e,t){return n.apply(this,arguments)})},{key:"getGeometry",value:(t=(0,a.Z)(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._geometry.get(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),b}($s),Ba=function(e){(0,h.Z)(b,e);var t,n,r,o,p,v,y=(p=b,v=function(){if("undefined"==typeof Reflect||!s())return!1;if(s().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(s()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=(0,f.Z)(p);if(v){var n=(0,f.Z)(this).constructor;e=s()(t,arguments,n)}else e=t.apply(this,arguments);return(0,d.Z)(this,e)});function b(e){return(0,c.Z)(this,b),y.call(this,e,null)}return(0,u.Z)(b,[{key:"destructor",value:function(){(0,l.Z)((0,f.Z)(b.prototype),"destructor",this).call(this)}},{key:"get",value:(o=(0,a.Z)(m().mark((function e(){var t,n,r,i,o,s,a,c,u,l;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="Engine.graphs.get",n=D.notifyCommandRequest(t),r={method:"Machines.GetMachines",parameters:{}},i=void 0,e.prev=4,e.next=7,this._serviceMessenger.sendMessage(r);case 7:i=e.sent,e.next=17;break;case 10:throw e.prev=10,e.t0=e.catch(4),o="Exception sending API call '".concat(r.method,"'."),s={exception:e.t0},a=g.j(o,30151,s),D.notifyCommandError(t,n,a.error),a.error;case 17:if(!i.error){e.next=20;break}throw D.notifyCommandError(t,n,i.error),i.error;case 20:for(u in c=[],i.result)l=new Fa(this._serviceMessenger,i.result[u].machineID,i.result[u].machineName,i.result[u].machineAssetURI,i.result[u].machineParentID),c.push(l);return D.notifyCommandResponse(t,n,c),e.abrupt("return",c);case 24:case"end":return e.stop()}}),e,this,[[4,10]])}))),function(){return o.apply(this,arguments)})},{key:"new",value:(r=(0,a.Z)(m().mark((function e(){var t,n,r,o,s,a,c,u,l;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="Engine.graphs.new",n=D.notifyCommandRequest(t),r={method:"Machines.NewMachine",parameters:{}},i.ji("Attempting to create a new graph.","log","Graphs",i.zV.LoggerAndConsole),o=void 0,e.prev=5,e.next=8,this._serviceMessenger.sendMessage(r);case 8:o=e.sent,e.next=20;break;case 11:throw e.prev=11,e.t0=e.catch(5),s="Exception sending API call '".concat(r.method,"'."),a={exception:e.t0},c=g.j(s,30155,a),D.notifyCommandError(t,n,c.error),i.ji("Failed to create a new graph.","error","Graphs",i.zV.LoggerAndConsole),c.error;case 20:if(!o.error){e.next=25;break}throw D.notifyCommandError(t,n,o.error),i.ji("Failed to create a new graph.","error","Graphs",i.zV.LoggerAndConsole),o.error;case 25:return u="Successfully create a new graph "+o.result.machineID,i.ji(u,"log","Graphs",i.zV.LoggerAndConsole),l=new Fa(this._serviceMessenger,o.result.machineID,o.result.machineName,o.result.machineAssetURI,o.result.machineParentID),D.notifyCommandResponse(t,n,l),e.abrupt("return",l);case 30:case"end":return e.stop()}}),e,this,[[5,11]])}))),function(){return r.apply(this,arguments)})},{key:"load",value:(n=(0,a.Z)(m().mark((function e(t){var n,r,o,s,a,c,u,l,h,d,f,p,v=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=v.length>1&&void 0!==v[1]?v[1]:{},r="Engine.graphs.load",o=D.notifyCommandRequest(r),s={method:"Machines.LoadMachine",parameters:{machineAssetURI:t,machineParameters:n}},i.ji("Attempting to load graph of URI "+t,"log","Graphs",i.zV.LoggerAndConsole),a=void 0,e.prev=6,e.next=9,this._serviceMessenger.sendMessage(s);case 9:a=e.sent,e.next=21;break;case 12:throw e.prev=12,e.t0=e.catch(6),c="Failed to load graph "+t,i.ji(c,"error","Graphs",i.zV.LoggerAndConsole),u="Exception sending API call '".concat(s.method,"'."),l={exception:e.t0},h=g.j(u,30153,l),D.notifyCommandError(r,o,h.error),h.error;case 21:if(!a.error){e.next=26;break}throw d="Failed to load graph "+t,i.ji(d,"error","Graphs",i.zV.LoggerAndConsole),D.notifyCommandError(r,o,a.error),a.error;case 26:return f="Successfully load graph "+a.result.machineAssetURI,i.ji(f,"log","Graphs",i.zV.LoggerAndConsole),p=new Fa(this._serviceMessenger,a.result.machineID,a.result.machineName,a.result.machineAssetURI,a.result.machineParentID),D.notifyCommandResponse(r,o,p),e.abrupt("return",p);case 31:case"end":return e.stop()}}),e,this,[[6,12]])}))),function(e){return n.apply(this,arguments)})},{key:"delete",value:(t=(0,a.Z)(m().mark((function e(t){var n,r,i,o,s,a,c;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="Engine.graphs.delete",r=D.notifyCommandRequest(n),i={method:"Machines.DeleteMachine",parameters:{machineID:t.id}},o=void 0,e.prev=4,e.next=7,this._serviceMessenger.sendMessage(i);case 7:o=e.sent,e.next=17;break;case 10:throw e.prev=10,e.t0=e.catch(4),s="Exception sending API call '".concat(i.method,"'."),a={exception:e.t0,graph:t},c=g.j(s,30154,a),D.notifyCommandError(n,r,c.error),c.error;case 17:if(!o.error){e.next=20;break}throw D.notifyCommandError(n,r,o.error),o.error;case 20:return D.notifyCommandResponse(n,r,o.result),e.abrupt("return",o.result);case 22:case"end":return e.stop()}}),e,this,[[4,10]])}))),function(e){return t.apply(this,arguments)})}]),b}($s);const qa=["engine.connection.changed"],Ua=["engine.clear","engine.restore","graphs.added","graphs.delete","graph.clear","graph.modified.changed","graph.ephemeral.changed","graph.nodes.added","graph.nodes.delete","graph.node.properties.added","graph.node.properties.deleted","graph.node.properties.changed","graph.node.input.changed","graph.connections.added","graph.connections.delete","graph.outputNodes.changed","graph.parameterNodes.changed","graph.properties.added","graph.properties.deleted","graph.properties.changed","engine.update.start","engine.update.end","compute.start","compute.end","compute.graph.start","compute.graph.end","compute.node.start","compute.node.end","compute.graph.builtParameters","compute.graph.erroredNodes.changed","compute.node.builtMesh","compute.node.builtMaterial","compute.node.builtCurve","compute.node.builtLabel","compute.node.builtLocator","compute.node.builtParameter","compute.node.builtGraphAttributes","compute.node.builtNodeAttributes","compute.node.builtPrimitiveAttributes","compute.node.builtPointAttributes"],za=["graph.name.changed","graph.node.name.changed"],$a=[];var Ha=(0,u.Z)((function e(t){var n,r,i=this;(0,c.Z)(this,e),(0,_.Z)(this,"verifyNotification",(function(e){if(!i.__liveNotifications)return{isValid:!1,errorMessage:"Internal error: Engine live notifications are undefined, so notification '".concat(e,"' cannot be verified.")};if(!i.__otherNotifications)return{isValid:!1,errorMessage:"Internal error: Engine other notifications are undefined, so notification '".concat(e,"' cannot be verified.")};if(!i.__engine)return{isValid:!1,errorMessage:"Internal error: Engine reference is undefined, so notification '".concat(e,"' cannot be verified.")};var t,n,r,o,s="Notification '".concat(e,"' is unsupported. Please check reference for allowed notifications."),a=!1;return i.__engine.connectionState.connected||(a=C()(t=i.__otherNotifications).call(t,e),C()(n=i.__liveNotifications).call(n,e)&&(s="Notification '".concat(e,"' is only supported when connected to an Engine."))),i.__engine.connectionState.connected&&(a=C()(r=i.__liveNotifications).call(r,e)||C()(o=i.__otherNotifications).call(o,e)),{isValid:a,errorMessage:s}})),this.__engine=t,this.__liveNotifications=O()(n=Ua).call(n,za),this.__otherNotifications=O()(r=qa).call(r,$a)}));var Ga=n(8363),Va=n(1446),Wa=n(5238),Ka=n(3592);function Za(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ya=n(6295),Ja=n.n(Ya),Qa=n(8005).performance,Xa=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if((0,c.Z)(this,e),(0,_.Z)(this,"clearEventData",(function(){n.eventData={}})),(0,_.Z)(this,"mark",(function(e){return Qa.mark(e)})),(0,_.Z)(this,"measure",(function(e,t,r){var i=Qa.measure(e,t,r);return n.eventData&&e in n.eventData&&(n.eventData[e]=i.duration),i})),(0,_.Z)(this,"reset",(function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;T()(e=Qa.getEntriesByType("measure")).call(e,(function(e){e.name in n.eventData&&(n.eventData[e.name]=t)})),Qa.clearMarks(),Qa.clearMeasures()})),(0,_.Z)(this,"now",(function(){return Qa.now()})),!t||""===t)throw new Error("Cannot create AnalyticsEvent with an undefined or empty eventKey");this.eventKey=t,this.eventData=null!=r?r:{}}return(0,u.Z)(e,[{key:"destructor",value:function(){this.eventData=null,this.reset()}},{key:"setEventData",value:function(e){if(!(e&&e instanceof Object))throw new Error('Unable to assign undefined event data to AnalyticsEvent "'.concat(this.eventKey,'".'));return this.eventData=ee()(this.eventData,e),this.eventData}},{key:"resetEventData",value:function(){var e,t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(this.eventData&&this.eventData instanceof Object)return T()(e=Ja()(this.eventData)).call(e,(function(e){var r=function(e,t){return function(e){if(Ga(e))return e}(e)||function(e,t){var n=null==e?null:void 0!==Va&&Re(e)||e["@@iterator"];if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(e){a=!0,i=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}}(e,t)||function(e,t){var n;if(e){if("string"==typeof e)return Za(e,t);var r=Wa(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Ka(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Za(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2),i=r[0];r[1],t.eventData[i]=n})),this.eventData}},{key:"logEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n={eventKey:this.eventKey,eventData:{}};ee()(n.eventData,this.eventData),Cs({message:e,headers:n},"AnalyticsEvent","INFO",t)}}]),e}(),ec=n(6478);const tc="2.7.2";var nc=n(2203),rc=function(){function e(t){var n=this;(0,c.Z)(this,e),this.__engine=t,this.__graphsIds=[],(0,a.Z)(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.subscribeToNotification("engine.clear",(function(e){n.__onEngineClear(e)}));case 3:return e.next=5,t.subscribeToNotification("graphs.added",(function(e){n.__onGraphsAdded(e)}));case 5:return e.next=7,t.subscribeToNotification("graphs.delete",(function(e){n.__onGraphsDeleted(e)}));case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()}return(0,u.Z)(e,[{key:"graphIds",get:function(){return this.__graphsIds}},{key:"__clearLocalCache",value:function(){this.__graphsIds=[]}},{key:"__onEngineClear",value:function(e){this.__clearLocalCache()}},{key:"__onGraphsAdded",value:function(e){this.__graphsIds.push(e.graphId)}},{key:"__onGraphsDeleted",value:function(e){var t;this.__graphsIds=Q()(t=this.__graphsIds).call(t,(function(t){return t!=e.graphId}))}}]),e}();function ic(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:15,t={stack_key:"localhost",server_host:"127.0.0.1",server_port:"50780",server_connection:"http://127.0.0.1:50780",server_is_localhost:!0,server_url:"http://127.0.0.1:50780",region:"localhost",session_id:(0,S.Z)(),session_otp:(0,S.Z)().substr(0,8),valid_until:new Date(Y()()+1e3*e).toISOString()};return i.DS.encode(y()(t))}i.EK(r);var oc="undefined",sc=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{stackKey:"",cognitoIdentityPoolId:"",cognitoIdentityPoolRegion:"",sessionTokenEndPoint:""},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{cognitoIdentityPoolId:"",cognitoIdentityPoolRegion:"",roleARN:"",region:""};if((0,c.Z)(this,e),(0,_.Z)(this,"_apiConnectedSlot",(function(e){n._checkConnectionAndNotify(e)})),(0,_.Z)(this,"_liveConnectedSlot",(function(e){n._checkConnectionAndNotify(e)})),(0,_.Z)(this,"_hasEngineConnectionStateChanged",(function(e,t){return t.connected!==e.connected||t.disconnected!==e.disconnected||t.busy!==e.busy})),(0,_.Z)(this,"_checkConnectionAndNotify",(function(e){var t={connected:n.isConnected,disconnected:n.isDisconnected,busy:n.isBusyConnection};n._hasEngineConnectionStateChanged(n.__engineConnectionState,t)&&(n.__engineConnectionState=t,n.__notificationCenter.emitNotification("engine.connection.changed",t),n.isDisconnected&&!n._engineBusyConnection&&n._ttcEvent.mark("disconnected"))})),i.ji("Attempting to instantiate an SDK engine","log","Engine",i.zV.LoggerAndConsole),"object"!==(0,K.Z)(t)||!t.applicationKey)throw new Error("Invalid configuration for constructing an Engine instance.");this._applicationKey=t.applicationKey,this._clientId=(0,S.Z)(),console.log("client id: ",this._clientId),this._sessionToken=void 0,this._sessionTokenBackup=void 0,this._baseURI=void 0,this._materiaAPI=void 0,this._apiURI=void 0,this._materiaLive=void 0,this._liveURI=void 0,this._engineBusyConnection=!1,this.__engineConnectionState={connected:!1,disconnected:!0,busy:!1},this._assets=void 0,this._graphs=void 0,this._engineStackKey=oc,r&&this._setServerConfiguration(r),this._sdkVersion=tc;var s={sdkVersion:this._sdkVersion,region:oc,stackKey:this._engineStackKey,applicationKey:this._applicationKey,clientId:this._clientId,sessionId:oc};this._ttcEvent=new Xa("csdk-time-to-connect",{timeToInitiateConnection:void 0,timeToObtainSessionToken:void 0,timeToConnectToEngine:void 0,connectionCount:0,reconnectionCount:0}),this._ttcEvent.mark("disconnected"),Ss(hs.logGroupName,s,(function(){return(n._applicationKey+"_"+n._clientId+"_"+new Date(Y()()).toISOString()).replace(/:/g,".")}),o),i.ji("Successfully instantiate an SDK engine","log","Engine",i.zV.LoggerAndConsole);var a=function(e){return new Ha(e)}(this);this.__notificationCenter=function(e){return new I(e)}(a),this.__subscriptionCenter=new U(this.__notificationCenter,a),this._cache=null,this._oldGraphIds=[]}var t,n,r,o,s,l,h,d,f,p,v,b,x,E;return(0,u.Z)(e,[{key:"destructor",value:function(){i.ji("Attempting to destroy an engine","log","Engine",i.zV.LoggerAndConsole),this._materiaAPI.destructor(),this._materiaAPI=void 0,this._materiaLive.destructor(),this._materiaLive=void 0,this._engineBusyConnection=!1,this.__engineConnectionState={connected:!1,disconnected:!0,busy:!1},this._ttcEvent.destructor(),this._assets.destructor(),this._assets=void 0,this._graphs.destructor(),this._graphs=void 0,i.ji("Successfully destroy an engine","log","Engine",i.zV.LoggerAndConsole),this._cloudWatchLogger=void 0}},{key:"toStringObject",value:function(){return{stack:this.stackKey,sessionToken:this.sessionToken,connection:this.__engineConnectionState}}},{key:"toJSON",value:function(){return this.toStringObject()}},{key:"toString",value:function(){var e=this.toStringObject();return y()(e,null,2)}},{key:"serviceMessenger",get:function(){var e,t=this;return{sendMessage:(e=(0,a.Z)(m().mark((function e(n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t._materiaAPI){e.next=4;break}return e.next=3,t._materiaAPI.sendMessage(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})}}},{key:"assets",get:function(){if(!this._assets){if(!this.isConnected)throw g.j("Engine is not connected, thus cannot access assets.",30221).error;this._assets=new Ks(this.serviceMessenger)}return this._assets}},{key:"graphs",get:function(){if(!this._graphs){if(!this.isConnected)throw g.j("Engine is not connected, thus cannot access graphs.",30222).error;this._graphs=new Ba(this.serviceMessenger)}return this._graphs}},{key:"stackKey",get:function(){return this._engineStackKey}},{key:"connectionState",get:function(){return this.__engineConnectionState}},{key:"isConnected",get:function(){return!(!this._materiaAPI||!this._materiaLive)&&this._materiaAPI.isConnected&&this._materiaLive.isConnected}},{key:"isDisconnected",get:function(){return!this._materiaAPI||!this._materiaLive||this._materiaAPI.isDisconnected||this._materiaLive.isDisconnected}},{key:"isBusyConnection",get:function(){return!!this._engineBusyConnection||!(!this._materiaAPI||!this._materiaLive)&&(this._materiaAPI.isBusyConnection||this._materiaLive.isBusyConnection)}},{key:"sessionToken",get:function(){return this._sessionToken}},{key:"shareSession",value:(E=(0,a.Z)(m().mark((function e(){var t,n,r,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._sessionToken){e.next=5;break}throw t={sessionToken:this._sessionToken},g.j("Engine session token is not valid.",30236,t).error;case 5:if(n=this.decodeSessionToken(this._sessionToken),r=void 0,!0!==n.server_is_localhost){e.next=17;break}if(this.isConnected){e.next=13;break}throw o={status:409,statusText:"Error creating Shared Materia Session Token for localhost engine as the engine is not connected.",stack:this._engineStackKey,sessionToken:this._sessionToken,response:""},g.j("Error creating Shared Materia Session Token for localhost engine as the engine is not connected.",30237,o).error;case 13:n.session_otp=(0,S.Z)().substr(0,8),r=i.DS.encode(y()(n)),e.next=20;break;case 17:return e.next=19,Us.getSharedMateriaSessionToken(this._applicationKey,this._clientId,this._engineStackKey,this._sessionToken,this._sdkVersion,this._credentials);case 19:r=e.sent;case 20:return i.ji("Engine.shareSession(): got session token: ".concat(r),"log","Engine",i.zV.LoggerAndConsole),e.abrupt("return",r);case 22:case"end":return e.stop()}}),e,this)}))),function(){return E.apply(this,arguments)})},{key:"connect",value:(x=(0,a.Z)(m().mark((function e(t){var n,r,o,s,a,c,u,l,h,d,f,p,v,b,w,S,_,x,C=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=C.length>1&&void 0!==C[1]?C[1]:void 0,this._ttcEvent.mark("connectStarted"),this._ttcEvent.measure("timeToInitiateConnection","disconnected","connectStarted"),r=new Xa("csdk-connection-failure",{timeToConnectionFailure:void 0,connectionFailureCount:0,exception:void 0}),i.ji("Attempting to negotiate an engine","log","Engine",i.zV.LoggerAndConsole),o="Engine.connect",s=D.notifyCommandRequest(o),!this.isConnected){e.next=14;break}throw"Engine already connected, thus ignoring connect directive.",a={credentials:t,sessionToken:n},c=g.j("Engine already connected, thus ignoring connect directive.",Ts.j.Connection.AlreadyConnected,a),i.ji(y()(c),"error","Engine",i.zV.LoggerAndConsole),D.notifyCommandError(o,s,c.error),c.error;case 14:if(!this.isBusyConnection){e.next=21;break}throw"Engine connection is busy, thus ignoring connect directive.",u={credentials:t,sessionToken:n},l=g.j("Engine connection is busy, thus ignoring connect directive.",Ts.j.Connection.BusyConnecting,u),i.ji(y()(l),"error","Engine",i.zV.LoggerAndConsole),D.notifyCommandError(o,s,l.error),l.error;case 21:if(this._engineBusyConnection=!0,this._checkConnectionAndNotify(),h=void 0,d=void 0,e.prev=25,t){e.next=37;break}if(i.ji("Engine.connect(): no credentials provided, checking local storage for any.","log","Engine",i.zV.LoggerAndConsole),!(f=zs())){e.next=34;break}h=f.materiaCredentials,d=f.awsCredentials,e.next=35;break;case 34:throw new Error("No credentials provided.");case 35:e.next=39;break;case 37:h=t,d=Us.getAWSCredentialsUsingOpenID(h);case 39:d||i.ji("Engine.connect(): using engine without credentials","warn","Engine",i.zV.LoggerAndConsole),i.ji("Successfully get AWS credentials"+y()(d),"log","Engine",i.zV.Logger),e.next=50;break;case 43:throw e.prev=43,e.t0=e.catch(25),e.t0.message="Could not connect to engine.\nException establishing credentials.".concat(e.t0.message?"\n"+e.t0.message:""),this._engineBusyConnection=!1,i.ji(y()(e.t0),"error","Engine",i.zV.LoggerAndConsole),D.notifyCommandError(o,s,e.t0),e.t0;case 50:if(p=void 0,n){e.next=81;break}return i.ji("Attempting to get a session token with credentials "+y()(h),"log","Engine",i.zV.LoggerAndConsole),v=void 0,e.prev=54,e.next=57,this._doRequestEngineSessionToken(h);case 57:if(v=e.sent){e.next=62;break}throw"Empty engine session token was received.",g.j("Empty engine session token was received.",30127).error;case 62:e.next=76;break;case 64:throw e.prev=64,e.t1=e.catch(54),this._engineBusyConnection=!1,e.t1.message="Could not connect to engine.\nException requesting engine session token.".concat(e.t1.message?"\n"+e.t1.message:""),r.mark("connectionFailed"),r.measure("timeToConnectionFailure","connectStarted","connectionFailed"),r.eventData.exception=e.t1.message,r.eventData.connectionFailureCount+=1,r.logEvent("Event: Connection failure: ".concat(y()(r.eventData)),!0),i.ji(y()(e.t1),"error","Engine",i.zV.LoggerAndConsole),D.notifyCommandError(o,s,e.t1),e.t1;case 76:p=v,this._ttcEvent.mark("sessionTokenObtained"),this._ttcEvent.measure("timeToObtainSessionToken","connectStarted","sessionTokenObtained"),e.next=85;break;case 81:this._ttcEvent.mark("sessionTokenObtained"),this._ttcEvent.eventData.timeToObtainSessionToken=void 0,i.ji("Attempting to use a session token from an existing engine.","log","Engine",i.zV.LoggerAndConsole),p=n;case 85:return e.prev=86,e.next=89,this._doConnectEngine(p);case 89:if(e.sent){e.next=98;break}throw"Connecting engine returns failure.",b={credentials:h,sessionToken:p},w=g.j("Connecting engine returns failure.",30129,b),this._engineBusyConnection=!1,i.ji(y()(w),"error","Engine",i.zV.LoggerAndConsole),D.notifyCommandError(o,s,w.error),w.error;case 98:e.next=112;break;case 100:throw e.prev=100,e.t2=e.catch(86),this._engineBusyConnection=!1,e.t2.message="Could not connect to engine.\nException connecting to engine.".concat(e.t2.message?"\n"+e.t2.message:""),r.mark("connectionFailed"),r.measure("timeToConnectionFailure","connectStarted","connectionFailed"),r.eventData.exception=e.t2.message,r.eventData.connectionFailureCount+=1,r.logEvent("Event: Connection failure: ".concat(y()(r.eventData)),!0),i.ji(y()(e.t2),"error","Engine",i.zV.LoggerAndConsole),D.notifyCommandError(o,s,e.t2),e.t2;case 112:return this._engineBusyConnection=!1,this._checkConnectionAndNotify(),i.ji("Attempting to set user authentication","log","Engine",i.zV.LoggerAndConsole),this._doSetUserAuthentication(h),S=!0,this._ttcEvent.mark("connectedToEngine"),this._ttcEvent.eventData.connectionCount+=1,e.prev=120,e.next=123,this._doInitialiseDerivedNotifications();case 123:e.next=133;break;case 125:throw e.prev=125,e.t3=e.catch(120),"Exception initialising client side engine notifications.",_={exception:e.t3},x=g.j("Exception initialising client side engine notifications.",30220,_),i.ji(y()(x),"error","Engine",i.zV.LoggerAndConsole),D.notifyCommandError(o,s,x.error),x.error;case 133:return this._credentials=h,this._awsCredentials=d,this._ttcEvent.measure("timeToConnectToEngine","connectStarted","connectedToEngine"),this._ttcEvent.logEvent("Event: Time-to-connect: ".concat(y()(this._ttcEvent.eventData)),!0),D.notifyCommandResponse(o,s,S),i.ji("Successfully connect the engine","log","Engine",i.zV.LoggerAndConsole),null!==this._cache&&(this._oldGraphIds=this._cache.graphIds),this._cache=new rc(this),e.abrupt("return",S);case 142:case"end":return e.stop()}}),e,this,[[25,43],[54,64],[86,100],[120,125]])}))),function(e){return x.apply(this,arguments)})},{key:"_isGraphInCache",value:function(e){var t;return C()(t=this._oldGraphIds).call(t,e)}},{key:"_restore",value:(b=(0,a.Z)(m().mark((function e(t){var n,r,o,s,a,c,u,l,h,d,f,p,v,y=this;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!1,this.__notificationCenter.addNotificationFilter("graphs.added",(function(e){var t;return n=!0,y._isGraphInCache(e.graphId)?(y._oldGraphIds=Q()(t=y._oldGraphIds).call(t,(function(t){return t!=e.graphId})),y._cache.graphIds.push(e.graphId),{name:"graph.clear",data:{graphId:e.graphId}}):null})),e.prev=2,r=!1,o=null,e.next=7,this.subscribeToNotification("engine.restore",(function(e){o=e.graphIds}));case 7:return s=e.sent,e.next=10,this.subscribeToNotification("engine.update.end",(function(e){(null!==o&&0==o.length||n)&&(r=!0)}));case 10:return a=e.sent,c="Engine.graphs.restore",u=D.notifyCommandRequest(c),l={method:"Machines.Restore",parameters:{sessionID:t}},h=void 0,e.prev=15,e.next=18,this._materiaAPI.sendMessage(l);case 18:h=e.sent,e.next=28;break;case 21:throw e.prev=21,e.t0=e.catch(15),d="Exception sending API call '".concat(l.method,"'."),f={exception:e.t0},p=g.j(d,30154,f),D.notifyCommandError(c,u,p.error),p.error;case 28:if(!h.error){e.next=31;break}throw D.notifyCommandError(c,u,h.error),h.error;case 31:return e.next=33,i.Dc(0,(function(){return!r}));case 33:return e.next=35,a.unsubscribe();case 35:return e.next=37,s.unsubscribe();case 37:return this._oldGraphIds.length>0&&T()(v=this._oldGraphIds).call(v,(function(e){var t;y._oldGraphIds=Q()(t=y._oldGraphIds).call(t,(function(t){return t!=e})),y.__notificationCenter.emitNotification("graphs.delete",{graphId:e})})),D.notifyCommandResponse(c,u,h.result),e.abrupt("return",h.result);case 40:return e.prev=40,this.__notificationCenter.removeNotificationFilter("graphs.added"),e.finish(40);case 43:case"end":return e.stop()}}),e,this,[[2,,40,43],[15,21]])}))),function(e){return b.apply(this,arguments)})},{key:"reconnect",value:(v=(0,a.Z)(m().mark((function e(t){var n,r,o,s,a,c,u,l,h,d,f,p,v,b,w;return m().wrap((function(e){for(var m,S;;)switch(e.prev=e.next){case 0:if(this._ttcEvent.mark("connectStarted"),this._ttcEvent.measure("timeToInitiateConnection","disconnected","connectStarted"),n=new Xa("csdk-connection-failure",{timeToConnectionFailure:void 0,connectionFailureCount:0,exception:void 0}),i.ji("Attempting to reconnect an engine","log","Engine",i.zV.LoggerAndConsole),r="Engine.reconnect",o=D.notifyCommandRequest(r),s=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;if(s instanceof nc.u)throw t?(s.message=e+"\nInner code:"+s.code+"\n"+s.message,s.code=t):s.message=e+"\n"+s.message,n&&ee()(s.data,n),s;s&&(n||(n={}),n.exception=n.exception?n.exception+"\n"+s.toString():s.toString());var a=g.j(e,t,n);throw i.ji(y()(a),"error","Engine",i.zV.Logger),D.notifyCommandError(r,o,a.error),a.error},!this.isConnected){e.next=10;break}return s("Engine already connected, thus ignoring reconnect.",Ts.j.Connection.AlreadyConnected,{credentials:t}),e.abrupt("return");case 10:if(!this.isBusyConnection){e.next=13;break}return s("Engine connection is busy, thus ignoring reconnect directive.",Ts.j.Connection.BusyConnecting,{credentials:t}),e.abrupt("return");case 13:if(a=this._sessionTokenBackup){e.next=17;break}return s("No valid session token to reconnect.",Ts.j.Session.InvalidSessionToken,{credentials:t}),e.abrupt("return");case 17:if(c=null,e.prev=18,(c=this.decodeSessionToken(a))&&c.session_id&&c.server_url){e.next=22;break}throw new Error("Current session token is invalid.");case 22:(u=new(ne())(c.server_url)).protocol="https",u.pathname="/config/"+c.stack_key,c.server_url=u.toString(),e.next=32;break;case 28:return e.prev=28,e.t0=e.catch(18),s("No valid session token to reconnect.",Ts.j.Session.InvalidSessionToken,{credentials:t,sessionToReconnect:a},e.t0),e.abrupt("return");case 32:if(this._engineBusyConnection=!0,this._checkConnectionAndNotify(),l=void 0,e.prev=35,t){e.next=50;break}if(!i.Gr()){e.next=47;break}if(i.ji("Engine.reconnect(): no credentials provided, checking local storage for any.","log","Engine",i.zV.Logger),!(h=zs())){e.next=44;break}l=h.materiaCredentials,e.next=45;break;case 44:throw new Error("No credentials found to reconnect.");case 45:e.next=48;break;case 47:throw new Error("No credentials provided to reconnect.");case 48:e.next=51;break;case 50:l=t;case 51:e.next=58;break;case 53:return e.prev=53,e.t1=e.catch(35),this._engineBusyConnection=!1,s("Could not reconnect to engine.\nException establishing credentials.",Ts.j.Connection.InvalidCredentials,{sessionToReconnect:a},e.t1),e.abrupt("return");case 58:return i.ji("Attempting to get a session token with credentials "+y()(l),"log","Engine",i.zV.Logger),d=void 0,e.prev=60,e.next=63,this._doRequestEngineSessionToken(l,c);case 63:if(d=e.sent){e.next=66;break}throw new Error("Empty engine session token was received for reconnection.");case 66:e.next=81;break;case 68:return e.prev=68,e.t2=e.catch(60),this._engineBusyConnection=!1,f=null,e.t2 instanceof nc.u||(f=Ts.j.Connection.NetworkError),p="Could not reconnect to engine.\nException requesting engine session token.",n.mark("connectionFailed"),n.measure("timeToConnectionFailure","connectStarted","connectionFailed"),n.eventData.exception=O()(m="".concat(p," ")).call(m,e.t2),n.eventData.connectionFailureCount+=1,n.logEvent("Event: Connection failure: ".concat(y()(n.eventData)),!0),s(p,f,{credentials:t,credentialsToUse:l,sessionToReconnect:a},e.t2),e.abrupt("return");case 81:return this._ttcEvent.mark("sessionTokenObtained"),this._ttcEvent.measure("timeToObtainSessionToken","connectStarted","sessionTokenObtained"),i.ji("Succeed to fetch a session token to reconnect: "+y()(d)+" based on token: "+y()(a),"log","Engine",i.zV.Logger),e.prev=85,e.next=88,this._doConnectEngine(d);case 88:if(e.sent){e.next=91;break}throw new Error("Reconnecting engine returns failure.");case 91:e.next=106;break;case 93:return e.prev=93,e.t3=e.catch(85),this._engineBusyConnection=!1,v=null,e.t3 instanceof nc.u||(v=30132),b="Could not reconnect to engine.\nException connecting to engine.",n.mark("connectionFailed"),n.measure("timeToConnectionFailure","connectStarted","connectionFailed"),n.eventData.exception=O()(S="".concat(b," ")).call(S,e.t3),n.eventData.connectionFailureCount+=1,n.logEvent("Event: Connection failure: ".concat(y()(n.eventData)),!0),s(b,v,{credentials:t,credentialsToUse:l,sessionToken:d,sessionToReconnect:a},e.t3),e.abrupt("return");case 106:if(this._engineBusyConnection=!1,this._checkConnectionAndNotify(),i.ji("Attempting to set user authentication","log","Engine",i.zV.Logger),this._doSetUserAuthentication(l),w=!0,this._credentials=l,this._ttcEvent.mark("connectedToEngine"),this._ttcEvent.eventData.reconnectionCount+=1,this._ttcEvent.measure("timeToConnectToEngine","connectStarted","connectedToEngine"),this._ttcEvent.logEvent("Event: Time-to-connect: ".concat(y()(this._ttcEvent.eventData)),!0),null!==this._cache&&(this._oldGraphIds=this._cache.graphIds),this._cache=new rc(this),i.ji("Attempting to restore session ".concat(c.session_id),"log","Engine",i.zV.Logger),e.t4=w,!e.t4){e.next=124;break}return e.next=123,this._restore(c.session_id);case 123:e.t4=e.sent;case 124:return w=e.t4,D.notifyCommandResponse(r,o,w),i.ji("Successfully reconnect the engine","log","Engine",i.zV.LoggerAndConsole),e.abrupt("return",w);case 128:case"end":return e.stop()}}),e,this,[[18,28],[35,53],[60,68],[85,93]])}))),function(e){return v.apply(this,arguments)})},{key:"_doSetUserAuthentication",value:function(e){var t=e||{};""===(t.access_token?t.access_token:"")&&i.ji("Setting credentials with empty access_token as user auth on engine.","warn","Engine",i.zV.LoggerAndConsole),this._requestToSetUserAuthentication(t)}},{key:"_doRequestEngineSessionToken",value:(p=(0,a.Z)(m().mark((function e(t){var n,r,o=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:void 0,e.next=3,Us.getMateriaSessionToken(this._applicationKey,this._clientId,this._engineStackKey,this._sdkVersion,t,n);case 3:return r=e.sent,i.ji("Engine._doRequestEngineSessionToken(): got session token: ".concat(r),"log","Engine"),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return p.apply(this,arguments)})},{key:"_doInitialiseDerivedNotifications",value:(f=(0,a.Z)(m().mark((function e(){var t=this;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._doSubscribeToNotification("graph.properties.changed",(function(e){var n;if(C()(n=A()(e.properties)).call(n,"name")){var r={command:"graph.name.changed",data:{graphId:e.graphId,previousValue:e.properties.name.previousValue,currentValue:e.properties.name.currentValue}};D.notifyNotificationResponse(r.command),t.__notificationCenter.emitNotification(r.command,r.data)}})),this._doSubscribeToNotification("graph.node.properties.changed",(function(e){var n;if(C()(n=A()(e.properties)).call(n,"name")){var r={command:"graph.node.name.changed",data:{graphId:e.graphId,nodeId:e.nodeId,nodeType:e.nodeType,previousValue:e.properties.name.previousValue,currentValue:e.properties.name.currentValue}};D.notifyNotificationResponse(r.command),t.__notificationCenter.emitNotification(r.command,r.data)}}));case 7:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)})},{key:"decodeSessionToken",value:function(e){var t=void 0;try{var n=i.DS.decode(e);return t=JSON.parse(n),i.ji("Engine.decodeSessionToken(): config: ".concat(y()(t,null,2)),"log","Engine"),t}catch(t){var r={exception:t,sessionToken:e};throw g.j("Could not decode session token.",30131,r).error}}},{key:"_doConnectEngine",value:(d=(0,a.Z)(m().mark((function e(t){var n,r,o,s,a,c,u,l,h,d,f,p,v,b,w,_,x,C,E,k,A,N,T,P,I,R,L;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=5;break}throw n={sessionToken:t},g.j("Engine session token is not valid.",30127,n).error;case 5:return r=this.decodeSessionToken(t),console.log("session id: ",r.session_id),xs({sessionId:r.session_id}),xs({region:r.region}),xs({stackKey:r.stack_key}),this._engineStackKey=r.stack_key,i.ji("Attempting to connect the engine with session token "+y()(t),"log","Engine",i.zV.LoggerAndConsole),o=void 0,s=void 0,e.prev=14,this._baseURI=r.server_url,x=(0,S.Z)(),C=encodeURIComponent(t),this._apiURI=O()(a=O()(c=O()(u=O()(l=O()(h=O()(d="".concat(this._baseURI,"/api?sessionToken=")).call(d,C,"&connectionId=")).call(h,encodeURIComponent("".concat(x,"/api")),"&applicationKey=")).call(l,encodeURIComponent(this._applicationKey),"&clientId=")).call(u,encodeURIComponent(this._clientId),"&stackKey=")).call(c,encodeURIComponent(this._engineStackKey),"&sdkVersion=")).call(a,encodeURIComponent(this._sdkVersion)),this._liveURI=O()(f=O()(p=O()(v=O()(b=O()(w=O()(_="".concat(this._baseURI,"/live?sessionToken=")).call(_,C,"&connectionId=")).call(w,encodeURIComponent("".concat(x,"/live")),"&applicationKey=")).call(b,encodeURIComponent(this._applicationKey),"&clientId=")).call(v,encodeURIComponent(this._clientId),"&stackKey=")).call(p,encodeURIComponent(this._engineStackKey),"&sdkVersion=")).call(f,encodeURIComponent(this._sdkVersion)),!0===r.server_is_localhost&&(this._apiURI=O()(E=O()(k=O()(A="".concat(this._apiURI,"&region=")).call(A,r.region,"&sessionId=")).call(k,r.session_id,"&sessionOtp=")).call(E,r.session_otp),this._liveURI=O()(N=O()(T=O()(P="".concat(this._liveURI,"&region=")).call(P,r.region,"&sessionId=")).call(T,r.session_id,"&sessionOtp=")).call(N,r.session_otp)),this._materiaAPI=new Rs(this._apiURI),this._materiaAPI.setConnectListener(this._apiConnectedSlot),this._materiaLive=new qs(this._liveURI,this.__notificationCenter),this._materiaLive.setConnectListener(this._liveConnectedSlot),e.next=27,ie().all([this._materiaAPI.connect(),this._materiaLive.connect()]);case 27:I=e.sent,o=I[0],s=I[1],e.next=38;break;case 32:throw e.prev=32,e.t0=e.catch(14),R={exception:e.t0,sessionToken:t,apiEndpoint:this._apiURI,liveEndpoint:this._liveURI},g.j("Exception establishing connection to API and Live endpoints using engine session token.",30132,R).error;case 38:if(!o.error){e.next=40;break}throw o.error;case 40:if(!s.error){e.next=42;break}throw s.error;case 42:return(L=o.result&&s.result)&&(this._sessionToken=t,this._sessionTokenBackup=t),e.abrupt("return",L);case 45:case"end":return e.stop()}}),e,this,[[14,32]])}))),function(e){return d.apply(this,arguments)})},{key:"generateLocalEngineSessionToken",value:function(){return ic(arguments.length>0&&void 0!==arguments[0]?arguments[0]:15)}},{key:"disconnect",value:(h=(0,a.Z)(m().mark((function e(){var t,n,r,o,s,a,c;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t="Engine.disconnect",n=D.notifyCommandRequest(t),!this.isDisconnected){e.next=4;break}return e.abrupt("return",!0);case 4:return this.isBusyConnection,this._engineBusyConnection=!0,this._checkConnectionAndNotify(),i.ji("Attempting to disconnect the engine.","log","Engine",i.zV.LoggerAndConsole),r=void 0,o=void 0,e.prev=10,e.next=13,this._materiaAPI.disconnect();case 13:return r=e.sent,e.next=16,this._materiaLive.disconnect();case 16:o=e.sent,e.next=28;break;case 19:throw e.prev=19,e.t0=e.catch(10),i.ji("Failed to disconnect the engine.","error","Engine",i.zV.LoggerAndConsole),s={exception:e.t0,sessionToken:this._sessionToken,apiEndpoint:this._apiURI,liveEndpoint:this._liveURI},a=g.j("Exception disconnecting from API and Live endpoints of engine.",30138,s),this._engineBusyConnection=!1,D.notifyCommandError(t,n,a.error),a.error;case 28:if(this._assets&&(this._assets.destructor(),this._assets=void 0),this._graphs&&(this._graphs.destructor(),this._graphs=void 0),!r.error){e.next=34;break}throw this._engineBusyConnection=!1,i.ji("Failed to disconnect the API channel.","error","Engine",i.zV.LoggerAndConsole),r.error;case 34:if(!o.error){e.next=38;break}throw this._engineBusyConnection=!1,i.ji("Failed to disconnect the Live channel.","error","Engine",i.zV.LoggerAndConsole),o.error;case 38:return i.ji("Successfully disconnect the engine.","log","Engine",i.zV.LoggerAndConsole),this._engineBusyConnection=!1,this._checkConnectionAndNotify(),this._sessionToken=void 0,xs({sessionId:oc}),xs({region:oc}),xs({stackKey:oc}),c=r.result&&o.result,D.notifyCommandResponse(t,n,c),e.abrupt("return",c);case 48:case"end":return e.stop()}}),e,this,[[10,19]])}))),function(){return h.apply(this,arguments)})},{key:"subscribeToNotification",value:function(){var e=(0,a.Z)(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._doSubscribeToNotification(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_doSubscribeToNotification",value:(l=(0,a.Z)(m().mark((function e(t,n){var r,i,o,s,a,c,u;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=void 0,i=void 0,e.prev=2,o=(0,S.Z)(),i=new w(this.serviceMessenger,o,t,n,this.__subscriptionCenter),e.next=7,this.__subscriptionCenter.addNotificationSubscription(i);case 7:r=e.sent,e.next=16;break;case 10:throw e.prev=10,e.t0=e.catch(2),s="Exception subscribing to notification '".concat(t,"'."),a={exception:e.t0,notificationName:t},g.j(s,30145,a).error;case 16:if(!r.error){e.next=18;break}throw r.error;case 18:if(!0===r.result){e.next=23;break}throw c="Internal error subscribing to notification '".concat(t,"'. Should have received an error response or 'true' response."),u={notificationName:t,subscription:i},g.j(c,30207,u).error;case 23:return e.abrupt("return",i);case 24:case"end":return e.stop()}}),e,this,[[2,10]])}))),function(e,t){return l.apply(this,arguments)})},{key:"unsubscribeFromNotification",value:function(){var e=(0,a.Z)(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._doUnsubscribeFromNotification(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_doUnsubscribeFromNotification",value:(s=(0,a.Z)(m().mark((function e(t){var n,r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.unsubscribe();case 3:return n=e.sent,e.abrupt("return",n);case 7:throw e.prev=7,e.t0=e.catch(0),r={exception:e.t0,subscription:t},g.j("Exception unsubscribing from notification.",30209,r).error;case 13:case"end":return e.stop()}}),e,null,[[0,7]])}))),function(e){return s.apply(this,arguments)})},{key:"_setServerConfiguration",value:function(e){var t=!1,n=ec.Z;if(e.cognitoIdentityPoolId&&e.cognitoIdentityPoolId!=n.cognitoIdentityPoolId&&(n.cognitoIdentityPoolId=e.cognitoIdentityPoolId,t=!0),e.cognitoIdentityPoolRegion&&(n.cognitoIdentityPoolRegion=e.cognitoIdentityPoolRegion,t=!0),e.sessionTokenEndPoint&&(n.sessionTokenEndPointUrl=e.sessionTokenEndPoint,t=!0),e.stackKey){var r;this._engineStackKey=e.stackKey;var o=se()(r=n.sessionTokenEndPointUrl).call(r,"/");if(!(o>0&&o<n.sessionTokenEndPointUrl.length-1))return void i.ji("Invalid session token endpoint is specified "+n.sessionTokenEndPointUrl,"error","Engine",i.zV.LoggerAndConsole);n.sessionTokenEndPointUrl=n.sessionTokenEndPointUrl.substr(0,o+1)+e.stackKey,t=!0}t&&Us.setConfiguration(n)}},{key:"_requestToSetUserAuthentication",value:function(e){D.notifyCommandRequest("Engine.setUserAuthentication");var t={method:"Materia.SetUserAuthentication",parameters:{credentials:e}};this._materiaAPI.sendMessage(t)}},{key:"setUserAuthentication",value:(o=(0,a.Z)(m().mark((function e(t){var n,r,i,o,s,a,c;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="Engine.setUserAuthentication",r=D.notifyCommandRequest(n),i={method:"Materia.SetUserAuthentication",parameters:{credentials:t}},o=void 0,e.prev=4,e.next=7,this._materiaAPI.sendMessage(i);case 7:o=e.sent,e.next=17;break;case 10:throw e.prev=10,e.t0=e.catch(4),s="Exception sending API call '".concat(i.method,"'."),a={exception:e.t0,credentials:t},c=g.j(s,30120,a),D.notifyCommandError(n,r,c.error),c.error;case 17:if(!o.error){e.next=20;break}throw D.notifyCommandError(n,r,o.error),o.error;case 20:return this._credentials=t,D.notifyCommandResponse(n,r,o.result),e.abrupt("return",o.result);case 23:case"end":return e.stop()}}),e,this,[[4,10]])}))),function(e){return o.apply(this,arguments)})},{key:"clear",value:(r=(0,a.Z)(m().mark((function e(){var t,n,r,i,o,s,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="Engine.clear",n=D.notifyCommandRequest(t),r={method:"Engine.Clear",parameters:{}},i=void 0,e.prev=4,e.next=7,this._materiaAPI.sendMessage(r);case 7:i=e.sent,e.next=17;break;case 10:throw e.prev=10,e.t0=e.catch(4),o="Exception sending API call '".concat(r.method,"'."),s={exception:e.t0},a=g.j(o,30146,s),D.notifyCommandError(t,n,a.error),a.error;case 17:if(!i.error){e.next=20;break}throw D.notifyCommandError(t,n,i.error),i.error;case 20:return D.notifyCommandResponse(t,n,i.result),e.abrupt("return",i.result);case 22:case"end":return e.stop()}}),e,this,[[4,10]])}))),function(){return r.apply(this,arguments)})},{key:"getNodeDefinitions",value:(n=(0,a.Z)(m().mark((function e(){var t,n,r,i,o,s,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="Engine.getNodeDefinitions",n=D.notifyCommandRequest(t),r={method:"Engine.GetNodeDefinitions",parameters:{}},i=void 0,e.prev=4,e.next=7,this._materiaAPI.sendMessage(r);case 7:i=e.sent,e.next=17;break;case 10:throw e.prev=10,e.t0=e.catch(4),o="Exception sending API call '".concat(r.method,"'."),s={exception:e.t0},a=g.j(o,30147,s),D.notifyCommandError(t,n,a.error),a.error;case 17:if(!i.error){e.next=20;break}throw D.notifyCommandError(t,n,i.error),i.error;case 20:return D.notifyCommandResponse(t,n,i.result),e.abrupt("return",i.result);case 22:case"end":return e.stop()}}),e,this,[[4,10]])}))),function(){return n.apply(this,arguments)})},{key:"sendCommand",value:(t=(0,a.Z)(m().mark((function e(t){var n,r,i,o,s,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}throw g.j("Exception sending API call without a payload.",30244).error;case 3:if("string"==typeof t.method){e.next=6;break}throw g.j("Exception sending API call without a valid 'method' field in the payload.",30244).error;case 6:return n=t.method,r=D.notifyCommandRequest(n),i=void 0,e.prev=9,e.next=12,this._materiaAPI.sendMessage(t);case 12:i=e.sent,e.next=22;break;case 15:throw e.prev=15,e.t0=e.catch(9),o="Exception sending API call '".concat(t.method,"'."),s={exception:e.t0},a=g.j(o,30245,s),D.notifyCommandError(n,r,a.error),a.error;case 22:if(!i.error){e.next=25;break}throw D.notifyCommandError(n,r,i.error),i.error;case 25:return D.notifyCommandResponse(n,r,i.result),e.abrupt("return",i.result);case 27:case"end":return e.stop()}}),e,this,[[9,15]])}))),function(e){return t.apply(this,arguments)})}]),e}(),ac=tc;(0,i.r$)()},4623:(e,t,n)=>{"use strict";e.exports=n.p+"1d7e2632f4d2ab1f46fa.css"},601:(e,t,n)=>{"use strict";e.exports=n.p+"a5328c809d8539e404c5.js"},8005:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(32),t)},32:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.now=t.performance=t.nativeGlobalThis=t.polyfill=void 0;var r=function(){function e(e){this.props=e,this.name=this.props.name,this.entryType=this.props.entryType,this.startTime=this.props.startTime,this.duration=this.props.duration}return e.prototype.toJSON=function(){return this.props},e}(),i=Date.now||function(){return Date.now()},o=i(),s="undefined"!=typeof DOMException?DOMException:Error;function a(e){var t=e.performance||{},n=[],a={};function c(e,t){for(var r=n.length,i=[],o=0;o<r;o++)n[o][e]==t&&i.push(n[o]);return i}function u(e,t){for(var r=n.length;r--;){var i=n[r];i.entryType!=e||void 0!==t&&i.name!=t||n.splice(r,1)}}function l(e,t){return!e[t]}l(t,"now")&&(t.now=t.webkitNow||t.mozNow||t.msNow||function(){return i()-o}),(l(t,"mark")||l(t,"measure"))&&(t.mark=t.webkitMark||function(e){var i=new r({name:e,entryType:"mark",startTime:t.now(),duration:0});n.push(i),a[e]=i},t.measure=t.webkitMeasure||function(e,i,o){var c,u=arguments.length;if(null==e)throw new TypeError("Failed to execute 'measure' on 'Performance': 1 argument required, but only 0 present.");if(null==a[i]?c=i:null==a[o]&&(c=o),c)throw new s("Failed to execute 'measure' on 'Performance': The mark '"+c+"' does not exist.");var l=u>1?a[i].startTime:t.now(),h=u>2?a[o].startTime:t.now(),d=new r({name:e,entryType:"measure",startTime:l,duration:h-l});return n.push(d),d},t.getEntries=t.webkitGetEntries||function(e){return null!=e?n.filter((function(t){return t.name===e.name&&t.entryType===e.entryType})):n},t.getEntriesByType=t.webkitGetEntriesByType||function(e){return c("entryType",e)},t.getEntriesByName=t.webkitGetEntriesByName||function(e){return c("name",e)},t.clearMarks=t.webkitClearMarks||function(e){u("mark",e),delete a[e]},t.clearMeasures=t.webkitClearMeasures||function(e){u("measure",e)},t.clearResourceTimings=function(){});try{e.performance||(e.performance=t)}catch(e){}return e}t.polyfill=a,t.nativeGlobalThis=a("object"==typeof globalThis&&globalThis||"object"==typeof window&&window||"object"==typeof n.g&&n.g||{}),"undefined"!=typeof self&&self!==t.nativeGlobalThis&&a(self),t.performance=t.nativeGlobalThis.performance,t.now=function(){return t.performance.now()}},1206:function(e){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=90)}({17:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(18),i=function(){function e(){}return e.getFirstMatch=function(e,t){var n=t.match(e);return n&&n.length>0&&n[1]||""},e.getSecondMatch=function(e,t){var n=t.match(e);return n&&n.length>1&&n[2]||""},e.matchAndReturnConst=function(e,t,n){if(e.test(t))return n},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,n,r){void 0===r&&(r=!1);var i=e.getVersionPrecision(t),o=e.getVersionPrecision(n),s=Math.max(i,o),a=0,c=e.map([t,n],(function(t){var n=s-e.getVersionPrecision(t),r=t+new Array(n+1).join(".0");return e.map(r.split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));for(r&&(a=s-Math.min(i,o)),s-=1;s>=a;){if(c[0][s]>c[1][s])return 1;if(c[0][s]===c[1][s]){if(s===a)return 0;s-=1}else if(c[0][s]<c[1][s])return-1}},e.map=function(e,t){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n+=1)r.push(t(e[n]));return r},e.find=function(e,t){var n,r;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(n=0,r=e.length;n<r;n+=1){var i=e[n];if(t(i,n))return i}},e.assign=function(e){for(var t,n,r=e,i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];if(Object.assign)return Object.assign.apply(Object,[e].concat(o));var a=function(){var e=o[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){r[t]=e[t]}))};for(t=0,n=o.length;t<n;t+=1)a();return e},e.getBrowserAlias=function(e){return r.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return r.BROWSER_MAP[e]||""},e}();t.default=i,e.exports=t.default},18:function(e,t,n){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(91))&&r.__esModule?r:{default:r},o=n(18);var s=function(){function e(){}var t;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new i.default(e,t)},e.parse=function(e){return new i.default(e).getResult()},(t=[{key:"BROWSER_MAP",get:function(){return o.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return o.ENGINE_MAP}},{key:"OS_MAP",get:function(){return o.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return o.PLATFORMS_MAP}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e,t),e}();t.default=s,e.exports=t.default},91:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=c(n(92)),i=c(n(93)),o=c(n(94)),s=c(n(95)),a=c(n(17));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=a.default.find(r.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=a.default.find(i.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=a.default.find(o.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=a.default.find(s.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return a.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,n={},r=0,i={},o=0;if(Object.keys(e).forEach((function(t){var s=e[t];"string"==typeof s?(i[t]=s,o+=1):"object"==typeof s&&(n[t]=s,r+=1)})),r>0){var s=Object.keys(n),c=a.default.find(s,(function(e){return t.isOS(e)}));if(c){var u=this.satisfies(n[c]);if(void 0!==u)return u}var l=a.default.find(s,(function(e){return t.isPlatform(e)}));if(l){var h=this.satisfies(n[l]);if(void 0!==h)return h}}if(o>0){var d=Object.keys(i),f=a.default.find(d,(function(e){return t.isBrowser(e,!0)}));if(void 0!==f)return this.compareVersion(i[f])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var n=this.getBrowserName().toLowerCase(),r=e.toLowerCase(),i=a.default.getBrowserTypeByAlias(r);return t&&i&&(r=i.toLowerCase()),r===n},t.compareVersion=function(e){var t=[0],n=e,r=!1,i=this.getBrowserVersion();if("string"==typeof i)return">"===e[0]||"<"===e[0]?(n=e.substr(1),"="===e[1]?(r=!0,n=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?n=e.substr(1):"~"===e[0]&&(r=!0,n=e.substr(1)),t.indexOf(a.default.compareVersions(i,n,r))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=u,e.exports=t.default},92:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=/version\/(\d+(\.?_?\d+)+)/i,s=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},n=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},n=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},n=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},n=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},n=i.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},n=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},n=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},n=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},n=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},n=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},n=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},n=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},n=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},n=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},n=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},n=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},n=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},n=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},n=i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},n=i.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},n=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},n=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},n=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t={name:"Android Browser"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(t,e),version:i.default.getSecondMatch(t,e)}}}];t.default=s,e.exports=t.default},93:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),s=[{test:[/Roku\/DVP/],describe:function(e){var t=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:o.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=i.default.getWindowsVersionName(t);return{name:o.OS_MAP.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:o.OS_MAP.iOS},n=i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe:function(e){var t=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=i.default.getMacOSVersionName(t),r={name:o.OS_MAP.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:o.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=i.default.getAndroidVersionName(t),r={name:o.OS_MAP.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:o.OS_MAP.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||i.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:o.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:o.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:o.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.PlayStation4,version:t}}}];t.default=s,e.exports=t.default},94:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),s=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=i.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:o.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe:function(e){var t=i.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:o.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}}];t.default=s,e.exports=t.default},95:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),s=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:o.ENGINE_MAP.Blink};var t=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:o.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:o.ENGINE_MAP.Trident},n=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:o.ENGINE_MAP.Presto},n=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe:function(e){var t={name:o.ENGINE_MAP.Gecko},n=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:o.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:o.ENGINE_MAP.WebKit},n=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];t.default=s,e.exports=t.default}})},5299:(e,t,n)=>{var r=n(7698);e.exports=r},3450:(e,t,n)=>{var r=n(3363);e.exports=r},6820:(e,t,n)=>{var r=n(6243);e.exports=r},4234:(e,t,n)=>{var r=n(2073);e.exports=r},2271:(e,t,n)=>{var r=n(4471);e.exports=r},3536:(e,t,n)=>{var r=n(1910);e.exports=r},7331:(e,t,n)=>{var r=n(9427);e.exports=r},9565:(e,t,n)=>{var r=n(6507);e.exports=r},8690:(e,t,n)=>{var r=n(6670);e.exports=r},5626:(e,t,n)=>{var r=n(7460);e.exports=r},1285:(e,t,n)=>{var r=n(8254);e.exports=r},281:(e,t,n)=>{var r=n(2547);e.exports=r},31:(e,t,n)=>{var r=n(6509);e.exports=r},4493:(e,t,n)=>{n(7971),n(3242);var r=n(4058);e.exports=r.Array.from},4034:(e,t,n)=>{n(2988);var r=n(4058);e.exports=r.Array.isArray},5367:(e,t,n)=>{n(5906);var r=n(5703);e.exports=r("Array").concat},2383:(e,t,n)=>{n(1501);var r=n(5703);e.exports=r("Array").filter},7671:(e,t,n)=>{n(833);var r=n(5703);e.exports=r("Array").find},9324:(e,t,n)=>{n(2437);var r=n(5703);e.exports=r("Array").forEach},991:(e,t,n)=>{n(7690);var r=n(5703);e.exports=r("Array").includes},8700:(e,t,n)=>{n(9076);var r=n(5703);e.exports=r("Array").indexOf},6442:(e,t,n)=>{n(8071);var r=n(5703);e.exports=r("Array").lastIndexOf},4900:(e,t,n)=>{n(186);var r=n(5703);e.exports=r("Array").slice},8209:(e,t,n)=>{n(8611);var r=n(5703);e.exports=r("Array").splice},1103:(e,t,n)=>{n(5160);var r=n(4058);e.exports=r.Date.now},3830:(e,t,n)=>{n(6274),n(7971);var r=n(2902);e.exports=r},6043:(e,t,n)=>{var r=n(7046),i=n(5367),o=Array.prototype;e.exports=function(e){var t=e.concat;return e===o||r(o,e)&&t===o.concat?i:t}},2480:(e,t,n)=>{var r=n(7046),i=n(2383),o=Array.prototype;e.exports=function(e){var t=e.filter;return e===o||r(o,e)&&t===o.filter?i:t}},2236:(e,t,n)=>{var r=n(7046),i=n(7671),o=Array.prototype;e.exports=function(e){var t=e.find;return e===o||r(o,e)&&t===o.find?i:t}},8557:(e,t,n)=>{var r=n(7046),i=n(991),o=n(1631),s=Array.prototype,a=String.prototype;e.exports=function(e){var t=e.includes;return e===s||r(s,e)&&t===s.includes?i:"string"==typeof e||e===a||r(a,e)&&t===a.includes?o:t}},4570:(e,t,n)=>{var r=n(7046),i=n(8700),o=Array.prototype;e.exports=function(e){var t=e.indexOf;return e===o||r(o,e)&&t===o.indexOf?i:t}},7564:(e,t,n)=>{var r=n(7046),i=n(6442),o=Array.prototype;e.exports=function(e){var t=e.lastIndexOf;return e===o||r(o,e)&&t===o.lastIndexOf?i:t}},9601:(e,t,n)=>{var r=n(7046),i=n(4900),o=Array.prototype;e.exports=function(e){var t=e.slice;return e===o||r(o,e)&&t===o.slice?i:t}},8339:(e,t,n)=>{var r=n(7046),i=n(8209),o=Array.prototype;e.exports=function(e){var t=e.splice;return e===o||r(o,e)&&t===o.splice?i:t}},1611:(e,t,n)=>{var r=n(7046),i=n(3269),o=String.prototype;e.exports=function(e){var t=e.startsWith;return"string"==typeof e||e===o||r(o,e)&&t===o.startsWith?i:t}},4426:(e,t,n)=>{n(2619);var r=n(4058),i=n(9730);r.JSON||(r.JSON={stringify:JSON.stringify}),e.exports=function(e,t,n){return i(r.JSON.stringify,null,arguments)}},5999:(e,t,n)=>{n(9221);var r=n(4058);e.exports=r.Object.assign},5254:(e,t,n)=>{n(3882);var r=n(4058).Object;e.exports=function(e,t){return r.create(e,t)}},7702:(e,t,n)=>{n(4979);var r=n(4058).Object,i=e.exports=function(e,t){return r.defineProperties(e,t)};r.defineProperties.sham&&(i.sham=!0)},8171:(e,t,n)=>{n(6450);var r=n(4058).Object,i=e.exports=function(e,t,n){return r.defineProperty(e,t,n)};r.defineProperty.sham&&(i.sham=!0)},3081:(e,t,n)=>{n(1078);var r=n(4058);e.exports=r.Object.entries},3770:(e,t,n)=>{n(5711);var r=n(4058);e.exports=r.Object.freeze},286:(e,t,n)=>{n(6924);var r=n(4058).Object,i=e.exports=function(e,t){return r.getOwnPropertyDescriptor(e,t)};r.getOwnPropertyDescriptor.sham&&(i.sham=!0)},2766:(e,t,n)=>{n(8482);var r=n(4058);e.exports=r.Object.getOwnPropertyDescriptors},3288:(e,t,n)=>{n(9816);var r=n(4058).Object;e.exports=function(e){return r.getOwnPropertyNames(e)}},498:(e,t,n)=>{n(5824);var r=n(4058);e.exports=r.Object.getOwnPropertySymbols},3966:(e,t,n)=>{n(7405);var r=n(4058);e.exports=r.Object.getPrototypeOf},8494:(e,t,n)=>{n(1724);var r=n(4058);e.exports=r.Object.keys},3065:(e,t,n)=>{n(108);var r=n(4058);e.exports=r.Object.setPrototypeOf},2956:(e,t,n)=>{n(7627),n(6274),n(5967),n(8881),n(4560),n(7206),n(4349),n(7971);var r=n(4058);e.exports=r.Promise},4983:(e,t,n)=>{n(7453);var r=n(4058);e.exports=r.Reflect.construct},7095:(e,t,n)=>{n(2355);var r=n(4058);e.exports=r.Reflect.get},1631:(e,t,n)=>{n(1035);var r=n(5703);e.exports=r("String").includes},3269:(e,t,n)=>{n(4761);var r=n(5703);e.exports=r("String").startsWith},7473:(e,t,n)=>{n(5906),n(5967),n(5824),n(8555),n(2615),n(1732),n(5903),n(1825),n(8394),n(5915),n(1766),n(2737),n(9911),n(4315),n(3131),n(4714),n(659),n(9120),n(5327),n(1502);var r=n(4058);e.exports=r.Symbol},4227:(e,t,n)=>{n(6274),n(5967),n(7971),n(1825);var r=n(1477);e.exports=r.f("iterator")},9567:(e,t,n)=>{n(6274),n(5967),n(1773);var r=n(4058);e.exports=r.WeakSet},7385:(e,t,n)=>{e.exports=n(4225)},1522:(e,t,n)=>{e.exports=n(382)},2209:(e,t,n)=>{e.exports=n(478)},1493:(e,t,n)=>{e.exports=n(7088)},6094:(e,t,n)=>{e.exports=n(6467)},3685:(e,t,n)=>{e.exports=n(621)},7533:(e,t,n)=>{e.exports=n(8403)},4303:(e,t,n)=>{e.exports=n(8688)},5122:(e,t,n)=>{e.exports=n(5383)},9531:(e,t,n)=>{e.exports=n(2050)},1524:(e,t,n)=>{e.exports=n(2432)},6600:(e,t,n)=>{e.exports=n(2201)},9759:(e,t,n)=>{e.exports=n(7398)},4225:(e,t,n)=>{var r=n(5299);e.exports=r},382:(e,t,n)=>{var r=n(3450);e.exports=r},478:(e,t,n)=>{var r=n(6820);e.exports=r},7088:(e,t,n)=>{var r=n(4234);e.exports=r},6467:(e,t,n)=>{var r=n(2271);e.exports=r},621:(e,t,n)=>{var r=n(3536);e.exports=r},8403:(e,t,n)=>{var r=n(7331);e.exports=r},8688:(e,t,n)=>{var r=n(9565);e.exports=r},5383:(e,t,n)=>{var r=n(8690);e.exports=r},2050:(e,t,n)=>{var r=n(5626);n(9731),n(5708),n(14),n(8731),e.exports=r},2432:(e,t,n)=>{var r=n(1285);e.exports=r},2201:(e,t,n)=>{var r=n(281);n(8783),n(3975),n(5799),n(5414),n(6774),n(620),n(6172),e.exports=r},7398:(e,t,n)=>{var r=n(31);e.exports=r},4883:(e,t,n)=>{var r=n(1899),i=n(7475),o=n(9826),s=r.TypeError;e.exports=function(e){if(i(e))return e;throw s(o(e)+" is not a function")}},174:(e,t,n)=>{var r=n(1899),i=n(4284),o=n(9826),s=r.TypeError;e.exports=function(e){if(i(e))return e;throw s(o(e)+" is not a constructor")}},1851:(e,t,n)=>{var r=n(1899),i=n(7475),o=r.String,s=r.TypeError;e.exports=function(e){if("object"==typeof e||i(e))return e;throw s("Can't set "+o(e)+" as a prototype")}},8479:e=>{e.exports=function(){}},5743:(e,t,n)=>{var r=n(1899),i=n(7046),o=r.TypeError;e.exports=function(e,t){if(i(t,e))return e;throw o("Incorrect invocation")}},6059:(e,t,n)=>{var r=n(1899),i=n(941),o=r.String,s=r.TypeError;e.exports=function(e){if(i(e))return e;throw s(o(e)+" is not an object")}},7135:(e,t,n)=>{var r=n(5981);e.exports=r((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}))},6837:(e,t,n)=>{"use strict";var r=n(3610).forEach,i=n(4194)("forEach");e.exports=i?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},1354:(e,t,n)=>{"use strict";var r=n(1899),i=n(6843),o=n(8834),s=n(9678),a=n(5196),c=n(6782),u=n(4284),l=n(623),h=n(5449),d=n(3476),f=n(2902),p=r.Array;e.exports=function(e){var t=s(e),n=u(this),r=arguments.length,m=r>1?arguments[1]:void 0,g=void 0!==m;g&&(m=i(m,r>2?arguments[2]:void 0));var v,y,b,w,S,_,x=f(t),C=0;if(!x||this==p&&c(x))for(v=l(t),y=n?new this(v):p(v);v>C;C++)_=g?m(t[C],C):t[C],h(y,C,_);else for(S=(w=d(t,x)).next,y=n?new this:[];!(b=o(S,w)).done;C++)_=g?a(w,m,[b.value,C],!0):b.value,h(y,C,_);return y.length=C,y}},1692:(e,t,n)=>{var r=n(4529),i=n(9413),o=n(623),s=function(e){return function(t,n,s){var a,c=r(t),u=o(c),l=i(s,u);if(e&&n!=n){for(;u>l;)if((a=c[l++])!=a)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},3610:(e,t,n)=>{var r=n(6843),i=n(5329),o=n(7026),s=n(9678),a=n(623),c=n(4692),u=i([].push),l=function(e){var t=1==e,n=2==e,i=3==e,l=4==e,h=6==e,d=7==e,f=5==e||h;return function(p,m,g,v){for(var y,b,w=s(p),S=o(w),_=r(m,g),x=a(S),C=0,E=v||c,k=t?E(p,x):n||d?E(p,0):void 0;x>C;C++)if((f||C in S)&&(b=_(y=S[C],C,w),e))if(t)k[C]=b;else if(b)switch(e){case 3:return!0;case 5:return y;case 6:return C;case 2:u(k,y)}else switch(e){case 4:return!1;case 7:u(k,y)}return h?-1:i||l?l:k}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},7145:(e,t,n)=>{"use strict";var r=n(9730),i=n(4529),o=n(2435),s=n(623),a=n(4194),c=Math.min,u=[].lastIndexOf,l=!!u&&1/[1].lastIndexOf(1,-0)<0,h=a("lastIndexOf"),d=l||!h;e.exports=d?function(e){if(l)return r(u,this,arguments)||0;var t=i(this),n=s(t),a=n-1;for(arguments.length>1&&(a=c(a,o(arguments[1]))),a<0&&(a=n+a);a>=0;a--)if(a in t&&t[a]===e)return a||0;return-1}:u},568:(e,t,n)=>{var r=n(5981),i=n(9813),o=n(3385),s=i("species");e.exports=function(e){return o>=51||!r((function(){var t=[];return(t.constructor={})[s]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},4194:(e,t,n)=>{"use strict";var r=n(5981);e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){return 1},1)}))}},5790:(e,t,n)=>{var r=n(1899),i=n(9413),o=n(623),s=n(5449),a=r.Array,c=Math.max;e.exports=function(e,t,n){for(var r=o(e),u=i(t,r),l=i(void 0===n?r:n,r),h=a(c(l-u,0)),d=0;u<l;u++,d++)s(h,d,e[u]);return h.length=d,h}},3765:(e,t,n)=>{var r=n(5329);e.exports=r([].slice)},1388:(e,t,n)=>{var r=n(5790),i=Math.floor,o=function(e,t){var n=e.length,c=i(n/2);return n<8?s(e,t):a(e,o(r(e,0,c),t),o(r(e,c),t),t)},s=function(e,t){for(var n,r,i=e.length,o=1;o<i;){for(r=o,n=e[o];r&&t(e[r-1],n)>0;)e[r]=e[--r];r!==o++&&(e[r]=n)}return e},a=function(e,t,n,r){for(var i=t.length,o=n.length,s=0,a=0;s<i||a<o;)e[s+a]=s<i&&a<o?r(t[s],n[a])<=0?t[s++]:n[a++]:s<i?t[s++]:n[a++];return e};e.exports=o},5693:(e,t,n)=>{var r=n(1899),i=n(1052),o=n(4284),s=n(941),a=n(9813)("species"),c=r.Array;e.exports=function(e){var t;return i(e)&&(t=e.constructor,(o(t)&&(t===c||i(t.prototype))||s(t)&&null===(t=t[a]))&&(t=void 0)),void 0===t?c:t}},4692:(e,t,n)=>{var r=n(5693);e.exports=function(e,t){return new(r(e))(0===t?0:t)}},5196:(e,t,n)=>{var r=n(6059),i=n(7609);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(t){i(e,"throw",t)}}},1385:(e,t,n)=>{var r=n(9813)("iterator"),i=!1;try{var o=0,s={next:function(){return{done:!!o++}},return:function(){i=!0}};s[r]=function(){return this},Array.from(s,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o={};o[r]=function(){return{next:function(){return{done:n=!0}}}},e(o)}catch(e){}return n}},2532:(e,t,n)=>{var r=n(5329),i=r({}.toString),o=r("".slice);e.exports=function(e){return o(i(e),8,-1)}},9697:(e,t,n)=>{var r=n(1899),i=n(2885),o=n(7475),s=n(2532),a=n(9813)("toStringTag"),c=r.Object,u="Arguments"==s(function(){return arguments}());e.exports=i?s:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=c(e),a))?n:u?s(t):"Object"==(r=s(t))&&o(t.callee)?"Arguments":r}},8694:(e,t,n)=>{var r=n(5329),i=Error,o=r("".replace),s=String(i("zxcasd").stack),a=/\n\s*at [^:]*:[^\n]*/,c=a.test(s);e.exports=function(e,t){if(c&&"string"==typeof e&&!i.prepareStackTrace)for(;t--;)e=o(e,a,"");return e}},8850:(e,t,n)=>{"use strict";var r=n(5329),i=n(4380),o=n(1647).getWeakData,s=n(6059),a=n(941),c=n(5743),u=n(3091),l=n(3610),h=n(953),d=n(5402),f=d.set,p=d.getterFor,m=l.find,g=l.findIndex,v=r([].splice),y=0,b=function(e){return e.frozen||(e.frozen=new w)},w=function(){this.entries=[]},S=function(e,t){return m(e.entries,(function(e){return e[0]===t}))};w.prototype={get:function(e){var t=S(this,e);if(t)return t[1]},has:function(e){return!!S(this,e)},set:function(e,t){var n=S(this,e);n?n[1]=t:this.entries.push([e,t])},delete:function(e){var t=g(this.entries,(function(t){return t[0]===e}));return~t&&v(this.entries,t,1),!!~t}},e.exports={getConstructor:function(e,t,n,r){var l=e((function(e,i){c(e,d),f(e,{type:t,id:y++,frozen:void 0}),null!=i&&u(i,e[r],{that:e,AS_ENTRIES:n})})),d=l.prototype,m=p(t),g=function(e,t,n){var r=m(e),i=o(s(t),!0);return!0===i?b(r).set(t,n):i[r.id]=n,e};return i(d,{delete:function(e){var t=m(this);if(!a(e))return!1;var n=o(e);return!0===n?b(t).delete(e):n&&h(n,t.id)&&delete n[t.id]},has:function(e){var t=m(this);if(!a(e))return!1;var n=o(e);return!0===n?b(t).has(e):n&&h(n,t.id)}}),i(d,n?{get:function(e){var t=m(this);if(a(e)){var n=o(e);return!0===n?b(t).get(e):n?n[t.id]:void 0}},set:function(e,t){return g(this,e,t)}}:{add:function(e){return g(this,e,!0)}}),l}}},4683:(e,t,n)=>{"use strict";var r=n(6887),i=n(1899),o=n(1647),s=n(5981),a=n(2029),c=n(3091),u=n(5743),l=n(7475),h=n(941),d=n(904),f=n(5988).f,p=n(3610).forEach,m=n(5746),g=n(5402),v=g.set,y=g.getterFor;e.exports=function(e,t,n){var g,b=-1!==e.indexOf("Map"),w=-1!==e.indexOf("Weak"),S=b?"set":"add",_=i[e],x=_&&_.prototype,C={};if(m&&l(_)&&(w||x.forEach&&!s((function(){(new _).entries().next()})))){var E=(g=t((function(t,n){v(u(t,E),{type:e,collection:new _}),null!=n&&c(n,t[S],{that:t,AS_ENTRIES:b})}))).prototype,k=y(e);p(["add","clear","delete","forEach","get","has","set","keys","values","entries"],(function(e){var t="add"==e||"set"==e;!(e in x)||w&&"clear"==e||a(E,e,(function(n,r){var i=k(this).collection;if(!t&&w&&!h(n))return"get"==e&&void 0;var o=i[e](0===n?0:n,r);return t?this:o}))})),w||f(E,"size",{configurable:!0,get:function(){return k(this).collection.size}})}else g=n.getConstructor(t,e,b,S),o.enable();return d(g,e,!1,!0),C[e]=g,r({global:!0,forced:!0},C),w||n.setStrong(g,e,b),g}},3489:(e,t,n)=>{var r=n(953),i=n(1136),o=n(9677),s=n(5988);e.exports=function(e,t,n){for(var a=i(t),c=s.f,u=o.f,l=0;l<a.length;l++){var h=a[l];r(e,h)||n&&r(n,h)||c(e,h,u(t,h))}}},7772:(e,t,n)=>{var r=n(9813)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(e){}}return!1}},4160:(e,t,n)=>{var r=n(5981);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},1046:(e,t,n)=>{"use strict";var r=n(5143).IteratorPrototype,i=n(9290),o=n(1887),s=n(904),a=n(2077),c=function(){return this};e.exports=function(e,t,n,u){var l=t+" Iterator";return e.prototype=i(r,{next:o(+!u,n)}),s(e,l,!1,!0),a[l]=c,e}},2029:(e,t,n)=>{var r=n(5746),i=n(5988),o=n(1887);e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},1887:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},5449:(e,t,n)=>{"use strict";var r=n(3894),i=n(5988),o=n(1887);e.exports=function(e,t,n){var s=r(t);s in e?i.f(e,s,o(0,n)):e[s]=n}},9202:(e,t,n)=>{var r=n(5988);e.exports=function(e,t,n){return r.f(e,t,n)}},5929:(e,t,n)=>{var r=n(2029);e.exports=function(e,t,n,i){return i&&i.enumerable?e[t]=n:r(e,t,n),e}},4380:(e,t,n)=>{var r=n(5929);e.exports=function(e,t,n){for(var i in t)n&&n.unsafe&&e[i]?e[i]=t[i]:r(e,i,t[i],n);return e}},7771:(e,t,n)=>{"use strict";var r=n(6887),i=n(8834),o=n(2529),s=n(9417),a=n(7475),c=n(1046),u=n(249),l=n(8929),h=n(904),d=n(2029),f=n(5929),p=n(9813),m=n(2077),g=n(5143),v=s.PROPER,y=s.CONFIGURABLE,b=g.IteratorPrototype,w=g.BUGGY_SAFARI_ITERATORS,S=p("iterator"),_="keys",x="values",C="entries",E=function(){return this};e.exports=function(e,t,n,s,p,g,k){c(n,t,s);var A,N,T,P=function(e){if(e===p&&M)return M;if(!w&&e in R)return R[e];switch(e){case _:case x:case C:return function(){return new n(this,e)}}return function(){return new n(this)}},O=t+" Iterator",I=!1,R=e.prototype,L=R[S]||R["@@iterator"]||p&&R[p],M=!w&&L||P(p),D="Array"==t&&R.entries||L;if(D&&(A=u(D.call(new e)))!==Object.prototype&&A.next&&(o||u(A)===b||(l?l(A,b):a(A[S])||f(A,S,E)),h(A,O,!0,!0),o&&(m[O]=E)),v&&p==x&&L&&L.name!==x&&(!o&&y?d(R,"name",x):(I=!0,M=function(){return i(L,this)})),p)if(N={values:P(x),keys:g?M:P(_),entries:P(C)},k)for(T in N)(w||I||!(T in R))&&f(R,T,N[T]);else r({target:t,proto:!0,forced:w||I},N);return o&&!k||R[S]===M||f(R,S,M,{name:p}),m[t]=M,N}},6349:(e,t,n)=>{var r=n(4058),i=n(953),o=n(1477),s=n(5988).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||s(t,e,{value:o.f(e)})}},5746:(e,t,n)=>{var r=n(5981);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},1333:(e,t,n)=>{var r=n(1899),i=n(941),o=r.document,s=i(o)&&i(o.createElement);e.exports=function(e){return s?o.createElement(e):{}}},3281:e=>{e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},3321:e=>{e.exports="object"==typeof window&&"object"!=typeof Deno},4470:(e,t,n)=>{var r=n(2861),i=n(1899);e.exports=/ipad|iphone|ipod/i.test(r)&&void 0!==i.Pebble},2749:(e,t,n)=>{var r=n(2861);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},6049:(e,t,n)=>{var r=n(2532),i=n(1899);e.exports="process"==r(i.process)},8045:(e,t,n)=>{var r=n(2861);e.exports=/web0s(?!.*chrome)/i.test(r)},2861:(e,t,n)=>{var r=n(626);e.exports=r("navigator","userAgent")||""},3385:(e,t,n)=>{var r,i,o=n(1899),s=n(2861),a=o.process,c=o.Deno,u=a&&a.versions||c&&c.version,l=u&&u.v8;l&&(i=(r=l.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&s&&(!(r=s.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/))&&(i=+r[1]),e.exports=i},5703:(e,t,n)=>{var r=n(4058);e.exports=function(e){return r[e+"Prototype"]}},6759:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},8780:(e,t,n)=>{var r=n(5981),i=n(1887);e.exports=!r((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",i(1,7)),7!==e.stack)}))},6887:(e,t,n)=>{"use strict";var r=n(1899),i=n(9730),o=n(5329),s=n(7475),a=n(9677).f,c=n(7252),u=n(4058),l=n(6843),h=n(2029),d=n(953),f=function(e){var t=function(n,r,o){if(this instanceof t){switch(arguments.length){case 0:return new e;case 1:return new e(n);case 2:return new e(n,r)}return new e(n,r,o)}return i(e,this,arguments)};return t.prototype=e.prototype,t};e.exports=function(e,t){var n,i,p,m,g,v,y,b,w=e.target,S=e.global,_=e.stat,x=e.proto,C=S?r:_?r[w]:(r[w]||{}).prototype,E=S?u:u[w]||h(u,w,{})[w],k=E.prototype;for(p in t)n=!c(S?p:w+(_?".":"#")+p,e.forced)&&C&&d(C,p),g=E[p],n&&(v=e.noTargetGet?(b=a(C,p))&&b.value:C[p]),m=n&&v?v:t[p],n&&typeof g==typeof m||(y=e.bind&&n?l(m,r):e.wrap&&n?f(m):x&&s(m)?o(m):m,(e.sham||m&&m.sham||g&&g.sham)&&h(y,"sham",!0),h(E,p,y),x&&(d(u,i=w+"Prototype")||h(u,i,{}),h(u[i],p,m),e.real&&k&&!k[p]&&h(k,p,m)))}},5981:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},5602:(e,t,n)=>{var r=n(5981);e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},9730:(e,t,n)=>{var r=n(8285),i=Function.prototype,o=i.apply,s=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?s.bind(o):function(){return s.apply(o,arguments)})},6843:(e,t,n)=>{var r=n(5329),i=n(4883),o=n(8285),s=r(r.bind);e.exports=function(e,t){return i(e),void 0===t?e:o?s(e,t):function(){return e.apply(t,arguments)}}},8285:(e,t,n)=>{var r=n(5981);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},8308:(e,t,n)=>{"use strict";var r=n(1899),i=n(5329),o=n(4883),s=n(941),a=n(953),c=n(3765),u=n(8285),l=r.Function,h=i([].concat),d=i([].join),f={};e.exports=u?l.bind:function(e){var t=o(this),n=t.prototype,r=c(arguments,1),i=function(){var n=h(r,c(arguments));return this instanceof i?function(e,t,n){if(!a(f,t)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";f[t]=l("C,a","return new C("+d(r,",")+")")}return f[t](e,n)}(t,n.length,n):t.apply(e,n)};return s(n)&&(i.prototype=n),i}},8834:(e,t,n)=>{var r=n(8285),i=Function.prototype.call;e.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},9417:(e,t,n)=>{var r=n(5746),i=n(953),o=Function.prototype,s=r&&Object.getOwnPropertyDescriptor,a=i(o,"name"),c=a&&"something"===function(){}.name,u=a&&(!r||r&&s(o,"name").configurable);e.exports={EXISTS:a,PROPER:c,CONFIGURABLE:u}},5329:(e,t,n)=>{var r=n(8285),i=Function.prototype,o=i.bind,s=i.call,a=r&&o.bind(s,s);e.exports=r?function(e){return e&&a(e)}:function(e){return e&&function(){return s.apply(e,arguments)}}},626:(e,t,n)=>{var r=n(4058),i=n(1899),o=n(7475),s=function(e){return o(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?s(r[e])||s(i[e]):r[e]&&r[e][t]||i[e]&&i[e][t]}},2902:(e,t,n)=>{var r=n(9697),i=n(4229),o=n(2077),s=n(9813)("iterator");e.exports=function(e){if(null!=e)return i(e,s)||i(e,"@@iterator")||o[r(e)]}},3476:(e,t,n)=>{var r=n(1899),i=n(8834),o=n(4883),s=n(6059),a=n(9826),c=n(2902),u=r.TypeError;e.exports=function(e,t){var n=arguments.length<2?c(e):t;if(o(n))return s(i(n,e));throw u(a(e)+" is not iterable")}},4229:(e,t,n)=>{var r=n(4883);e.exports=function(e,t){var n=e[t];return null==n?void 0:r(n)}},1899:(e,t,n)=>{var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},953:(e,t,n)=>{var r=n(5329),i=n(9678),o=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(i(e),t)}},7748:e=>{e.exports={}},4845:(e,t,n)=>{var r=n(1899);e.exports=function(e,t){var n=r.console;n&&n.error&&(1==arguments.length?n.error(e):n.error(e,t))}},5463:(e,t,n)=>{var r=n(626);e.exports=r("document","documentElement")},2840:(e,t,n)=>{var r=n(5746),i=n(5981),o=n(1333);e.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},7026:(e,t,n)=>{var r=n(1899),i=n(5329),o=n(5981),s=n(2532),a=r.Object,c=i("".split);e.exports=o((function(){return!a("z").propertyIsEnumerable(0)}))?function(e){return"String"==s(e)?c(e,""):a(e)}:a},1302:(e,t,n)=>{var r=n(5329),i=n(7475),o=n(3030),s=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(e){return s(e)}),e.exports=o.inspectSource},3794:(e,t,n)=>{var r=n(941),i=n(2029);e.exports=function(e,t){r(t)&&"cause"in t&&i(e,"cause",t.cause)}},1647:(e,t,n)=>{var r=n(6887),i=n(5329),o=n(7748),s=n(941),a=n(953),c=n(5988).f,u=n(946),l=n(684),h=n(1584),d=n(9418),f=n(5602),p=!1,m=d("meta"),g=0,v=function(e){c(e,m,{value:{objectID:"O"+g++,weakData:{}}})},y=e.exports={enable:function(){y.enable=function(){},p=!0;var e=u.f,t=i([].splice),n={};n[m]=1,e(n).length&&(u.f=function(n){for(var r=e(n),i=0,o=r.length;i<o;i++)if(r[i]===m){t(r,i,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:l.f}))},fastKey:function(e,t){if(!s(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,m)){if(!h(e))return"F";if(!t)return"E";v(e)}return e[m].objectID},getWeakData:function(e,t){if(!a(e,m)){if(!h(e))return!0;if(!t)return!1;v(e)}return e[m].weakData},onFreeze:function(e){return f&&p&&h(e)&&!a(e,m)&&v(e),e}};o[m]=!0},5402:(e,t,n)=>{var r,i,o,s=n(8019),a=n(1899),c=n(5329),u=n(941),l=n(2029),h=n(953),d=n(3030),f=n(4262),p=n(7748),m="Object already initialized",g=a.TypeError,v=a.WeakMap;if(s||d.state){var y=d.state||(d.state=new v),b=c(y.get),w=c(y.has),S=c(y.set);r=function(e,t){if(w(y,e))throw new g(m);return t.facade=e,S(y,e,t),t},i=function(e){return b(y,e)||{}},o=function(e){return w(y,e)}}else{var _=f("state");p[_]=!0,r=function(e,t){if(h(e,_))throw new g(m);return t.facade=e,l(e,_,t),t},i=function(e){return h(e,_)?e[_]:{}},o=function(e){return h(e,_)}}e.exports={set:r,get:i,has:o,enforce:function(e){return o(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!u(t)||(n=i(t)).type!==e)throw g("Incompatible receiver, "+e+" required");return n}}}},6782:(e,t,n)=>{var r=n(9813),i=n(2077),o=r("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||s[o]===e)}},1052:(e,t,n)=>{var r=n(2532);e.exports=Array.isArray||function(e){return"Array"==r(e)}},7475:e=>{e.exports=function(e){return"function"==typeof e}},4284:(e,t,n)=>{var r=n(5329),i=n(5981),o=n(7475),s=n(9697),a=n(626),c=n(1302),u=function(){},l=[],h=a("Reflect","construct"),d=/^\s*(?:class|function)\b/,f=r(d.exec),p=!d.exec(u),m=function(e){if(!o(e))return!1;try{return h(u,l,e),!0}catch(e){return!1}},g=function(e){if(!o(e))return!1;switch(s(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!f(d,c(e))}catch(e){return!0}};g.sham=!0,e.exports=!h||i((function(){var e;return m(m.call)||!m(Object)||!m((function(){e=!0}))||e}))?g:m},7040:(e,t,n)=>{var r=n(953);e.exports=function(e){return void 0!==e&&(r(e,"value")||r(e,"writable"))}},7252:(e,t,n)=>{var r=n(5981),i=n(7475),o=/#|\.prototype\./,s=function(e,t){var n=c[a(e)];return n==l||n!=u&&(i(t)?r(t):!!t)},a=s.normalize=function(e){return String(e).replace(o,".").toLowerCase()},c=s.data={},u=s.NATIVE="N",l=s.POLYFILL="P";e.exports=s},941:(e,t,n)=>{var r=n(7475);e.exports=function(e){return"object"==typeof e?null!==e:r(e)}},2529:e=>{e.exports=!0},685:(e,t,n)=>{var r=n(941),i=n(2532),o=n(9813)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},6664:(e,t,n)=>{var r=n(1899),i=n(626),o=n(7475),s=n(7046),a=n(2302),c=r.Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=i("Symbol");return o(t)&&s(t.prototype,c(e))}},3091:(e,t,n)=>{var r=n(1899),i=n(6843),o=n(8834),s=n(6059),a=n(9826),c=n(6782),u=n(623),l=n(7046),h=n(3476),d=n(2902),f=n(7609),p=r.TypeError,m=function(e,t){this.stopped=e,this.result=t},g=m.prototype;e.exports=function(e,t,n){var r,v,y,b,w,S,_,x=n&&n.that,C=!(!n||!n.AS_ENTRIES),E=!(!n||!n.IS_ITERATOR),k=!(!n||!n.INTERRUPTED),A=i(t,x),N=function(e){return r&&f(r,"normal",e),new m(!0,e)},T=function(e){return C?(s(e),k?A(e[0],e[1],N):A(e[0],e[1])):k?A(e,N):A(e)};if(E)r=e;else{if(!(v=d(e)))throw p(a(e)+" is not iterable");if(c(v)){for(y=0,b=u(e);b>y;y++)if((w=T(e[y]))&&l(g,w))return w;return new m(!1)}r=h(e,v)}for(S=r.next;!(_=o(S,r)).done;){try{w=T(_.value)}catch(e){f(r,"throw",e)}if("object"==typeof w&&w&&l(g,w))return w}return new m(!1)}},7609:(e,t,n)=>{var r=n(8834),i=n(6059),o=n(4229);e.exports=function(e,t,n){var s,a;i(e);try{if(!(s=o(e,"return"))){if("throw"===t)throw n;return n}s=r(s,e)}catch(e){a=!0,s=e}if("throw"===t)throw n;if(a)throw s;return i(s),n}},5143:(e,t,n)=>{"use strict";var r,i,o,s=n(5981),a=n(7475),c=n(9290),u=n(249),l=n(5929),h=n(9813),d=n(2529),f=h("iterator"),p=!1;[].keys&&("next"in(o=[].keys())?(i=u(u(o)))!==Object.prototype&&(r=i):p=!0),null==r||s((function(){var e={};return r[f].call(e)!==e}))?r={}:d&&(r=c(r)),a(r[f])||l(r,f,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:p}},2077:e=>{e.exports={}},623:(e,t,n)=>{var r=n(3057);e.exports=function(e){return r(e.length)}},6132:(e,t,n)=>{var r,i,o,s,a,c,u,l,h=n(1899),d=n(6843),f=n(9677).f,p=n(2941).set,m=n(2749),g=n(4470),v=n(8045),y=n(6049),b=h.MutationObserver||h.WebKitMutationObserver,w=h.document,S=h.process,_=h.Promise,x=f(h,"queueMicrotask"),C=x&&x.value;C||(r=function(){var e,t;for(y&&(e=S.domain)&&e.exit();i;){t=i.fn,i=i.next;try{t()}catch(e){throw i?s():o=void 0,e}}o=void 0,e&&e.enter()},m||y||v||!b||!w?!g&&_&&_.resolve?((u=_.resolve(void 0)).constructor=_,l=d(u.then,u),s=function(){l(r)}):y?s=function(){S.nextTick(r)}:(p=d(p,h),s=function(){p(r)}):(a=!0,c=w.createTextNode(""),new b(r).observe(c,{characterData:!0}),s=function(){c.data=a=!a})),e.exports=C||function(e){var t={fn:e,next:void 0};o&&(o.next=t),i||(i=t,s()),o=t}},5366:(e,t,n)=>{var r=n(2497);e.exports=r&&!!Symbol.for&&!!Symbol.keyFor},2497:(e,t,n)=>{var r=n(3385),i=n(5981);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},8468:(e,t,n)=>{var r=n(5981),i=n(9813),o=n(2529),s=i("iterator");e.exports=!r((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,r){t.delete("b"),n+=r+e})),o&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[s]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},8019:(e,t,n)=>{var r=n(1899),i=n(7475),o=n(1302),s=r.WeakMap;e.exports=i(s)&&/native code/.test(o(s))},9520:(e,t,n)=>{"use strict";var r=n(4883),i=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new i(e)}},4649:(e,t,n)=>{var r=n(5803);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:r(e)}},344:(e,t,n)=>{var r=n(1899),i=n(685),o=r.TypeError;e.exports=function(e){if(i(e))throw o("The method doesn't accept regular expressions");return e}},4420:(e,t,n)=>{"use strict";var r=n(5746),i=n(5329),o=n(8834),s=n(5981),a=n(4771),c=n(7857),u=n(6760),l=n(9678),h=n(7026),d=Object.assign,f=Object.defineProperty,p=i([].concat);e.exports=!d||s((function(){if(r&&1!==d({b:1},d(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach((function(e){t[e]=e})),7!=d({},e)[n]||a(d({},t)).join("")!=i}))?function(e,t){for(var n=l(e),i=arguments.length,s=1,d=c.f,f=u.f;i>s;)for(var m,g=h(arguments[s++]),v=d?p(a(g),d(g)):a(g),y=v.length,b=0;y>b;)m=v[b++],r&&!o(f,g,m)||(n[m]=g[m]);return n}:d},9290:(e,t,n)=>{var r,i=n(6059),o=n(9938),s=n(6759),a=n(7748),c=n(5463),u=n(1333),l=n(4262)("IE_PROTO"),h=function(){},d=function(e){return"<script>"+e+"<\/script>"},f=function(e){e.write(d("")),e.close();var t=e.parentWindow.Object;return e=null,t},p=function(){try{r=new ActiveXObject("htmlfile")}catch(e){}var e,t;p="undefined"!=typeof document?document.domain&&r?f(r):((t=u("iframe")).style.display="none",c.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(d("document.F=Object")),e.close(),e.F):f(r);for(var n=s.length;n--;)delete p.prototype[s[n]];return p()};a[l]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(h.prototype=i(e),n=new h,h.prototype=null,n[l]=e):n=p(),void 0===t?n:o.f(n,t)}},9938:(e,t,n)=>{var r=n(5746),i=n(3937),o=n(5988),s=n(6059),a=n(4529),c=n(4771);t.f=r&&!i?Object.defineProperties:function(e,t){s(e);for(var n,r=a(t),i=c(t),u=i.length,l=0;u>l;)o.f(e,n=i[l++],r[n]);return e}},5988:(e,t,n)=>{var r=n(1899),i=n(5746),o=n(2840),s=n(3937),a=n(6059),c=n(3894),u=r.TypeError,l=Object.defineProperty,h=Object.getOwnPropertyDescriptor;t.f=i?s?function(e,t,n){if(a(e),t=c(t),a(n),"function"==typeof e&&"prototype"===t&&"value"in n&&"writable"in n&&!n.writable){var r=h(e,t);r&&r.writable&&(e[t]=n.value,n={configurable:"configurable"in n?n.configurable:r.configurable,enumerable:"enumerable"in n?n.enumerable:r.enumerable,writable:!1})}return l(e,t,n)}:l:function(e,t,n){if(a(e),t=c(t),a(n),o)try{return l(e,t,n)}catch(e){}if("get"in n||"set"in n)throw u("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},9677:(e,t,n)=>{var r=n(5746),i=n(8834),o=n(6760),s=n(1887),a=n(4529),c=n(3894),u=n(953),l=n(2840),h=Object.getOwnPropertyDescriptor;t.f=r?h:function(e,t){if(e=a(e),t=c(t),l)try{return h(e,t)}catch(e){}if(u(e,t))return s(!i(o.f,e,t),e[t])}},684:(e,t,n)=>{var r=n(2532),i=n(4529),o=n(946).f,s=n(5790),a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"Window"==r(e)?function(e){try{return o(e)}catch(e){return s(a)}}(e):o(i(e))}},946:(e,t,n)=>{var r=n(5629),i=n(6759).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},7857:(e,t)=>{t.f=Object.getOwnPropertySymbols},249:(e,t,n)=>{var r=n(1899),i=n(953),o=n(7475),s=n(9678),a=n(4262),c=n(4160),u=a("IE_PROTO"),l=r.Object,h=l.prototype;e.exports=c?l.getPrototypeOf:function(e){var t=s(e);if(i(t,u))return t[u];var n=t.constructor;return o(n)&&t instanceof n?n.prototype:t instanceof l?h:null}},1584:(e,t,n)=>{var r=n(5981),i=n(941),o=n(2532),s=n(7135),a=Object.isExtensible,c=r((function(){a(1)}));e.exports=c||s?function(e){return!!i(e)&&(!s||"ArrayBuffer"!=o(e))&&(!a||a(e))}:a},7046:(e,t,n)=>{var r=n(5329);e.exports=r({}.isPrototypeOf)},5629:(e,t,n)=>{var r=n(5329),i=n(953),o=n(4529),s=n(1692).indexOf,a=n(7748),c=r([].push);e.exports=function(e,t){var n,r=o(e),u=0,l=[];for(n in r)!i(a,n)&&i(r,n)&&c(l,n);for(;t.length>u;)i(r,n=t[u++])&&(~s(l,n)||c(l,n));return l}},4771:(e,t,n)=>{var r=n(5629),i=n(6759);e.exports=Object.keys||function(e){return r(e,i)}},6760:(e,t)=>{"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);t.f=i?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},8929:(e,t,n)=>{var r=n(5329),i=n(6059),o=n(1851);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return i(n),o(r),t?e(n,r):n.__proto__=r,n}}():void 0)},8810:(e,t,n)=>{var r=n(5746),i=n(5329),o=n(4771),s=n(4529),a=i(n(6760).f),c=i([].push),u=function(e){return function(t){for(var n,i=s(t),u=o(i),l=u.length,h=0,d=[];l>h;)n=u[h++],r&&!a(i,n)||c(d,e?[n,i[n]]:i[n]);return d}};e.exports={entries:u(!0),values:u(!1)}},5623:(e,t,n)=>{"use strict";var r=n(2885),i=n(9697);e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},9811:(e,t,n)=>{var r=n(1899),i=n(8834),o=n(7475),s=n(941),a=r.TypeError;e.exports=function(e,t){var n,r;if("string"===t&&o(n=e.toString)&&!s(r=i(n,e)))return r;if(o(n=e.valueOf)&&!s(r=i(n,e)))return r;if("string"!==t&&o(n=e.toString)&&!s(r=i(n,e)))return r;throw a("Can't convert object to primitive value")}},1136:(e,t,n)=>{var r=n(626),i=n(5329),o=n(946),s=n(7857),a=n(6059),c=i([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=o.f(a(e)),n=s.f;return n?c(t,n(e)):t}},4058:e=>{e.exports={}},2:e=>{e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},7742:(e,t,n)=>{var r=n(1899),i=n(6991),o=n(7475),s=n(7252),a=n(1302),c=n(9813),u=n(3321),l=n(2529),h=n(3385),d=i&&i.prototype,f=c("species"),p=!1,m=o(r.PromiseRejectionEvent),g=s("Promise",(function(){var e=a(i),t=e!==String(i);if(!t&&66===h)return!0;if(l&&(!d.catch||!d.finally))return!0;if(h>=51&&/native code/.test(e))return!1;var n=new i((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};return(n.constructor={})[f]=r,!(p=n.then((function(){}))instanceof r)||!t&&u&&!m}));e.exports={CONSTRUCTOR:g,REJECTION_EVENT:m,SUBCLASSING:p}},6991:(e,t,n)=>{var r=n(1899);e.exports=r.Promise},6584:(e,t,n)=>{var r=n(6059),i=n(941),o=n(9520);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},1542:(e,t,n)=>{var r=n(6991),i=n(1385),o=n(7742).CONSTRUCTOR;e.exports=o||!i((function(e){r.all(e).then(void 0,(function(){}))}))},8397:e=>{var t=function(){this.head=null,this.tail=null};t.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}},e.exports=t},8219:(e,t,n)=>{var r=n(1899).TypeError;e.exports=function(e){if(null==e)throw r("Can't call method on "+e);return e}},7620:(e,t,n)=>{var r=n(1899),i=n(9730),o=n(7475),s=n(2861),a=n(3765),c=n(8348),u=/MSIE .\./.test(s),l=r.Function,h=function(e){return u?function(t,n){var r=c(arguments.length,1)>2,s=o(t)?t:l(t),u=r?a(arguments,2):void 0;return e(r?function(){i(s,this,u)}:s,n)}:e};e.exports={setTimeout:h(r.setTimeout),setInterval:h(r.setInterval)}},4911:(e,t,n)=>{var r=n(1899),i=Object.defineProperty;e.exports=function(e,t){try{i(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},4431:(e,t,n)=>{"use strict";var r=n(626),i=n(5988),o=n(9813),s=n(5746),a=o("species");e.exports=function(e){var t=r(e),n=i.f;s&&t&&!t[a]&&n(t,a,{configurable:!0,get:function(){return this}})}},904:(e,t,n)=>{var r=n(2885),i=n(5988).f,o=n(2029),s=n(953),a=n(5623),c=n(9813)("toStringTag");e.exports=function(e,t,n,u){if(e){var l=n?e:e.prototype;s(l,c)||i(l,c,{configurable:!0,value:t}),u&&!r&&o(l,"toString",a)}}},4262:(e,t,n)=>{var r=n(8726),i=n(9418),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},3030:(e,t,n)=>{var r=n(1899),i=n(4911),o="__core-js_shared__",s=r[o]||i(o,{});e.exports=s},8726:(e,t,n)=>{var r=n(2529),i=n(3030);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.22.4",mode:r?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.22.4/LICENSE",source:"https://github.com/zloirock/core-js"})},487:(e,t,n)=>{var r=n(6059),i=n(174),o=n(9813)("species");e.exports=function(e,t){var n,s=r(e).constructor;return void 0===s||null==(n=r(s)[o])?t:i(n)}},4620:(e,t,n)=>{var r=n(5329),i=n(2435),o=n(5803),s=n(8219),a=r("".charAt),c=r("".charCodeAt),u=r("".slice),l=function(e){return function(t,n){var r,l,h=o(s(t)),d=i(n),f=h.length;return d<0||d>=f?e?"":void 0:(r=c(h,d))<55296||r>56319||d+1===f||(l=c(h,d+1))<56320||l>57343?e?a(h,d):r:e?u(h,d,d+2):l-56320+(r-55296<<10)+65536}};e.exports={codeAt:l(!1),charAt:l(!0)}},3291:(e,t,n)=>{"use strict";var r=n(1899),i=n(5329),o=2147483647,s=/[^\0-\u007E]/,a=/[.\u3002\uFF0E\uFF61]/g,c="Overflow: input needs wider integers to process",u=r.RangeError,l=i(a.exec),h=Math.floor,d=String.fromCharCode,f=i("".charCodeAt),p=i([].join),m=i([].push),g=i("".replace),v=i("".split),y=i("".toLowerCase),b=function(e){return e+22+75*(e<26)},w=function(e,t,n){var r=0;for(e=n?h(e/700):e>>1,e+=h(e/t);e>455;)e=h(e/35),r+=36;return h(r+36*e/(e+38))},S=function(e){var t=[];e=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=f(e,n++);if(i>=55296&&i<=56319&&n<r){var o=f(e,n++);56320==(64512&o)?m(t,((1023&i)<<10)+(1023&o)+65536):(m(t,i),n--)}else m(t,i)}return t}(e);var n,r,i=e.length,s=128,a=0,l=72;for(n=0;n<e.length;n++)(r=e[n])<128&&m(t,d(r));var g=t.length,v=g;for(g&&m(t,"-");v<i;){var y=o;for(n=0;n<e.length;n++)(r=e[n])>=s&&r<y&&(y=r);var S=v+1;if(y-s>h((o-a)/S))throw u(c);for(a+=(y-s)*S,s=y,n=0;n<e.length;n++){if((r=e[n])<s&&++a>o)throw u(c);if(r==s){for(var _=a,x=36;;){var C=x<=l?1:x>=l+26?26:x-l;if(_<C)break;var E=_-C,k=36-C;m(t,d(b(C+E%k))),_=h(E/k),x+=36}m(t,d(b(_))),l=w(a,S,v==g),a=0,v++}}a++,s++}return p(t,"")};e.exports=function(e){var t,n,r=[],i=v(g(y(e),a,"."),".");for(t=0;t<i.length;t++)n=i[t],m(r,l(s,n)?"xn--"+S(n):n);return p(r,".")}},9630:(e,t,n)=>{var r=n(8834),i=n(626),o=n(9813),s=n(5929);e.exports=function(){var e=i("Symbol"),t=e&&e.prototype,n=t&&t.valueOf,a=o("toPrimitive");t&&!t[a]&&s(t,a,(function(e){return r(n,this)}),{arity:1})}},2941:(e,t,n)=>{var r,i,o,s,a=n(1899),c=n(9730),u=n(6843),l=n(7475),h=n(953),d=n(5981),f=n(5463),p=n(3765),m=n(1333),g=n(8348),v=n(2749),y=n(6049),b=a.setImmediate,w=a.clearImmediate,S=a.process,_=a.Dispatch,x=a.Function,C=a.MessageChannel,E=a.String,k=0,A={};try{r=a.location}catch(e){}var N=function(e){if(h(A,e)){var t=A[e];delete A[e],t()}},T=function(e){return function(){N(e)}},P=function(e){N(e.data)},O=function(e){a.postMessage(E(e),r.protocol+"//"+r.host)};b&&w||(b=function(e){g(arguments.length,1);var t=l(e)?e:x(e),n=p(arguments,1);return A[++k]=function(){c(t,void 0,n)},i(k),k},w=function(e){delete A[e]},y?i=function(e){S.nextTick(T(e))}:_&&_.now?i=function(e){_.now(T(e))}:C&&!v?(s=(o=new C).port2,o.port1.onmessage=P,i=u(s.postMessage,s)):a.addEventListener&&l(a.postMessage)&&!a.importScripts&&r&&"file:"!==r.protocol&&!d(O)?(i=O,a.addEventListener("message",P,!1)):i="onreadystatechange"in m("script")?function(e){f.appendChild(m("script")).onreadystatechange=function(){f.removeChild(this),N(e)}}:function(e){setTimeout(T(e),0)}),e.exports={set:b,clear:w}},9413:(e,t,n)=>{var r=n(2435),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},4529:(e,t,n)=>{var r=n(7026),i=n(8219);e.exports=function(e){return r(i(e))}},2435:e=>{var t=Math.ceil,n=Math.floor;e.exports=function(e){var r=+e;return r!=r||0===r?0:(r>0?n:t)(r)}},3057:(e,t,n)=>{var r=n(2435),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},9678:(e,t,n)=>{var r=n(1899),i=n(8219),o=r.Object;e.exports=function(e){return o(i(e))}},6935:(e,t,n)=>{var r=n(1899),i=n(8834),o=n(941),s=n(6664),a=n(4229),c=n(9811),u=n(9813),l=r.TypeError,h=u("toPrimitive");e.exports=function(e,t){if(!o(e)||s(e))return e;var n,r=a(e,h);if(r){if(void 0===t&&(t="default"),n=i(r,e,t),!o(n)||s(n))return n;throw l("Can't convert object to primitive value")}return void 0===t&&(t="number"),c(e,t)}},3894:(e,t,n)=>{var r=n(6935),i=n(6664);e.exports=function(e){var t=r(e,"string");return i(t)?t:t+""}},2885:(e,t,n)=>{var r={};r[n(9813)("toStringTag")]="z",e.exports="[object z]"===String(r)},5803:(e,t,n)=>{var r=n(1899),i=n(9697),o=r.String;e.exports=function(e){if("Symbol"===i(e))throw TypeError("Cannot convert a Symbol value to a string");return o(e)}},9826:(e,t,n)=>{var r=n(1899).String;e.exports=function(e){try{return r(e)}catch(e){return"Object"}}},9418:(e,t,n)=>{var r=n(5329),i=0,o=Math.random(),s=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+s(++i+o,36)}},2302:(e,t,n)=>{var r=n(2497);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3937:(e,t,n)=>{var r=n(5746),i=n(5981);e.exports=r&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},8348:(e,t,n)=>{var r=n(1899).TypeError;e.exports=function(e,t){if(e<t)throw r("Not enough arguments");return e}},1477:(e,t,n)=>{var r=n(9813);t.f=r},9813:(e,t,n)=>{var r=n(1899),i=n(8726),o=n(953),s=n(9418),a=n(2497),c=n(2302),u=i("wks"),l=r.Symbol,h=l&&l.for,d=c?l:l&&l.withoutSetter||s;e.exports=function(e){if(!o(u,e)||!a&&"string"!=typeof u[e]){var t="Symbol."+e;a&&o(l,e)?u[e]=l[e]:u[e]=c&&h?h(t):d(t)}return u[e]}},9812:(e,t,n)=>{"use strict";var r=n(6887),i=n(1899),o=n(7046),s=n(249),a=n(8929),c=n(3489),u=n(9290),l=n(2029),h=n(1887),d=n(8694),f=n(3794),p=n(3091),m=n(4649),g=n(9813),v=n(8780),y=g("toStringTag"),b=i.Error,w=[].push,S=function(e,t){var n,r=arguments.length>2?arguments[2]:void 0,i=o(_,this);a?n=a(new b,i?s(this):_):(n=i?this:u(_),l(n,y,"Error")),void 0!==t&&l(n,"message",m(t)),v&&l(n,"stack",d(n.stack,1)),f(n,r);var c=[];return p(e,w,{that:c}),l(n,"errors",c),n};a?a(S,b):c(S,b,{name:!0});var _=S.prototype=u(b.prototype,{constructor:h(1,S),message:h(1,""),name:h(1,"AggregateError")});r({global:!0},{AggregateError:S})},7627:(e,t,n)=>{n(9812)},5906:(e,t,n)=>{"use strict";var r=n(6887),i=n(1899),o=n(5981),s=n(1052),a=n(941),c=n(9678),u=n(623),l=n(5449),h=n(4692),d=n(568),f=n(9813),p=n(3385),m=f("isConcatSpreadable"),g=9007199254740991,v="Maximum allowed index exceeded",y=i.TypeError,b=p>=51||!o((function(){var e=[];return e[m]=!1,e.concat()[0]!==e})),w=d("concat"),S=function(e){if(!a(e))return!1;var t=e[m];return void 0!==t?!!t:s(e)};r({target:"Array",proto:!0,arity:1,forced:!b||!w},{concat:function(e){var t,n,r,i,o,s=c(this),a=h(s,0),d=0;for(t=-1,r=arguments.length;t<r;t++)if(S(o=-1===t?s:arguments[t])){if(d+(i=u(o))>g)throw y(v);for(n=0;n<i;n++,d++)n in o&&l(a,d,o[n])}else{if(d>=g)throw y(v);l(a,d++,o)}return a.length=d,a}})},1501:(e,t,n)=>{"use strict";var r=n(6887),i=n(3610).filter;r({target:"Array",proto:!0,forced:!n(568)("filter")},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},833:(e,t,n)=>{"use strict";var r=n(6887),i=n(3610).find,o=n(8479),s="find",a=!0;s in[]&&Array(1).find((function(){a=!1})),r({target:"Array",proto:!0,forced:a},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o(s)},2437:(e,t,n)=>{"use strict";var r=n(6887),i=n(6837);r({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},3242:(e,t,n)=>{var r=n(6887),i=n(1354);r({target:"Array",stat:!0,forced:!n(1385)((function(e){Array.from(e)}))},{from:i})},7690:(e,t,n)=>{"use strict";var r=n(6887),i=n(1692).includes,o=n(5981),s=n(8479);r({target:"Array",proto:!0,forced:o((function(){return!Array(1).includes()}))},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),s("includes")},9076:(e,t,n)=>{"use strict";var r=n(6887),i=n(5329),o=n(1692).indexOf,s=n(4194),a=i([].indexOf),c=!!a&&1/a([1],1,-0)<0,u=s("indexOf");r({target:"Array",proto:!0,forced:c||!u},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return c?a(this,e,t)||0:o(this,e,t)}})},2988:(e,t,n)=>{n(6887)({target:"Array",stat:!0},{isArray:n(1052)})},6274:(e,t,n)=>{"use strict";var r=n(4529),i=n(8479),o=n(2077),s=n(5402),a=n(5988).f,c=n(7771),u=n(2529),l=n(5746),h="Array Iterator",d=s.set,f=s.getterFor(h);e.exports=c(Array,"Array",(function(e,t){d(this,{type:h,target:r(e),index:0,kind:t})}),(function(){var e=f(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values");var p=o.Arguments=o.Array;if(i("keys"),i("values"),i("entries"),!u&&l&&"values"!==p.name)try{a(p,"name",{value:"values"})}catch(e){}},8071:(e,t,n)=>{var r=n(6887),i=n(7145);r({target:"Array",proto:!0,forced:i!==[].lastIndexOf},{lastIndexOf:i})},186:(e,t,n)=>{"use strict";var r=n(6887),i=n(1899),o=n(1052),s=n(4284),a=n(941),c=n(9413),u=n(623),l=n(4529),h=n(5449),d=n(9813),f=n(568),p=n(3765),m=f("slice"),g=d("species"),v=i.Array,y=Math.max;r({target:"Array",proto:!0,forced:!m},{slice:function(e,t){var n,r,i,d=l(this),f=u(d),m=c(e,f),b=c(void 0===t?f:t,f);if(o(d)&&(n=d.constructor,(s(n)&&(n===v||o(n.prototype))||a(n)&&null===(n=n[g]))&&(n=void 0),n===v||void 0===n))return p(d,m,b);for(r=new(void 0===n?v:n)(y(b-m,0)),i=0;m<b;m++,i++)m in d&&h(r,i,d[m]);return r.length=i,r}})},8611:(e,t,n)=>{"use strict";var r=n(6887),i=n(1899),o=n(9413),s=n(2435),a=n(623),c=n(9678),u=n(4692),l=n(5449),h=n(568)("splice"),d=i.TypeError,f=Math.max,p=Math.min;r({target:"Array",proto:!0,forced:!h},{splice:function(e,t){var n,r,i,h,m,g,v=c(this),y=a(v),b=o(e,y),w=arguments.length;if(0===w?n=r=0:1===w?(n=0,r=y-b):(n=w-2,r=p(f(s(t),0),y-b)),y+n-r>9007199254740991)throw d("Maximum allowed length exceeded");for(i=u(v,r),h=0;h<r;h++)(m=b+h)in v&&l(i,h,v[m]);if(i.length=r,n<r){for(h=b;h<y-r;h++)g=h+n,(m=h+r)in v?v[g]=v[m]:delete v[g];for(h=y;h>y-r+n;h--)delete v[h-1]}else if(n>r)for(h=y-r;h>b;h--)g=h+n-1,(m=h+r-1)in v?v[g]=v[m]:delete v[g];for(h=0;h<n;h++)v[h+b]=arguments[h+2];return v.length=y-r+n,i}})},5160:(e,t,n)=>{var r=n(6887),i=n(1899),o=n(5329),s=i.Date,a=o(s.prototype.getTime);r({target:"Date",stat:!0},{now:function(){return a(new s)}})},2619:(e,t,n)=>{var r=n(6887),i=n(626),o=n(9730),s=n(8834),a=n(5329),c=n(5981),u=n(1052),l=n(7475),h=n(941),d=n(6664),f=n(3765),p=n(2497),m=i("JSON","stringify"),g=a(/./.exec),v=a("".charAt),y=a("".charCodeAt),b=a("".replace),w=a(1..toString),S=/[\uD800-\uDFFF]/g,_=/^[\uD800-\uDBFF]$/,x=/^[\uDC00-\uDFFF]$/,C=!p||c((function(){var e=i("Symbol")();return"[null]"!=m([e])||"{}"!=m({a:e})||"{}"!=m(Object(e))})),E=c((function(){return'"\\udf06\\ud834"'!==m("\udf06\ud834")||'"\\udead"'!==m("\udead")})),k=function(e,t){var n=f(arguments),r=t;if((h(t)||void 0!==e)&&!d(e))return u(t)||(t=function(e,t){if(l(r)&&(t=s(r,this,e,t)),!d(t))return t}),n[1]=t,o(m,null,n)},A=function(e,t,n){var r=v(n,t-1),i=v(n,t+1);return g(_,e)&&!g(x,i)||g(x,e)&&!g(_,r)?"\\u"+w(y(e,0),16):e};m&&r({target:"JSON",stat:!0,arity:3,forced:C||E},{stringify:function(e,t,n){var r=f(arguments),i=o(C?k:m,null,r);return E&&"string"==typeof i?b(i,S,A):i}})},9120:(e,t,n)=>{var r=n(1899);n(904)(r.JSON,"JSON",!0)},5327:()=>{},9221:(e,t,n)=>{var r=n(6887),i=n(4420);r({target:"Object",stat:!0,arity:2,forced:Object.assign!==i},{assign:i})},3882:(e,t,n)=>{n(6887)({target:"Object",stat:!0,sham:!n(5746)},{create:n(9290)})},4979:(e,t,n)=>{var r=n(6887),i=n(5746),o=n(9938).f;r({target:"Object",stat:!0,forced:Object.defineProperties!==o,sham:!i},{defineProperties:o})},6450:(e,t,n)=>{var r=n(6887),i=n(5746),o=n(5988).f;r({target:"Object",stat:!0,forced:Object.defineProperty!==o,sham:!i},{defineProperty:o})},1078:(e,t,n)=>{var r=n(6887),i=n(8810).entries;r({target:"Object",stat:!0},{entries:function(e){return i(e)}})},5711:(e,t,n)=>{var r=n(6887),i=n(5602),o=n(5981),s=n(941),a=n(1647).onFreeze,c=Object.freeze;r({target:"Object",stat:!0,forced:o((function(){c(1)})),sham:!i},{freeze:function(e){return c&&s(e)?c(a(e)):e}})},6924:(e,t,n)=>{var r=n(6887),i=n(5981),o=n(4529),s=n(9677).f,a=n(5746),c=i((function(){s(1)}));r({target:"Object",stat:!0,forced:!a||c,sham:!a},{getOwnPropertyDescriptor:function(e,t){return s(o(e),t)}})},8482:(e,t,n)=>{var r=n(6887),i=n(5746),o=n(1136),s=n(4529),a=n(9677),c=n(5449);r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(e){for(var t,n,r=s(e),i=a.f,u=o(r),l={},h=0;u.length>h;)void 0!==(n=i(r,t=u[h++]))&&c(l,t,n);return l}})},9816:(e,t,n)=>{var r=n(6887),i=n(5981),o=n(684).f;r({target:"Object",stat:!0,forced:i((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:o})},7144:(e,t,n)=>{var r=n(6887),i=n(2497),o=n(5981),s=n(7857),a=n(9678);r({target:"Object",stat:!0,forced:!i||o((function(){s.f(1)}))},{getOwnPropertySymbols:function(e){var t=s.f;return t?t(a(e)):[]}})},7405:(e,t,n)=>{var r=n(6887),i=n(5981),o=n(9678),s=n(249),a=n(4160);r({target:"Object",stat:!0,forced:i((function(){s(1)})),sham:!a},{getPrototypeOf:function(e){return s(o(e))}})},1724:(e,t,n)=>{var r=n(6887),i=n(9678),o=n(4771);r({target:"Object",stat:!0,forced:n(5981)((function(){o(1)}))},{keys:function(e){return o(i(e))}})},108:(e,t,n)=>{n(6887)({target:"Object",stat:!0},{setPrototypeOf:n(8929)})},5967:()=>{},4560:(e,t,n)=>{"use strict";var r=n(6887),i=n(8834),o=n(4883),s=n(9520),a=n(2),c=n(3091);r({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=s.f(t),r=n.resolve,u=n.reject,l=a((function(){var n=o(t.resolve),s=[],a=0,u=1;c(e,(function(e){var o=a++,c=!1;u++,i(n,t,e).then((function(e){c||(c=!0,s[o]={status:"fulfilled",value:e},--u||r(s))}),(function(e){c||(c=!0,s[o]={status:"rejected",reason:e},--u||r(s))}))})),--u||r(s)}));return l.error&&u(l.value),n.promise}})},6890:(e,t,n)=>{"use strict";var r=n(6887),i=n(8834),o=n(4883),s=n(9520),a=n(2),c=n(3091);r({target:"Promise",stat:!0,forced:n(1542)},{all:function(e){var t=this,n=s.f(t),r=n.resolve,u=n.reject,l=a((function(){var n=o(t.resolve),s=[],a=0,l=1;c(e,(function(e){var o=a++,c=!1;l++,i(n,t,e).then((function(e){c||(c=!0,s[o]=e,--l||r(s))}),u)})),--l||r(s)}));return l.error&&u(l.value),n.promise}})},7206:(e,t,n)=>{"use strict";var r=n(6887),i=n(8834),o=n(4883),s=n(626),a=n(9520),c=n(2),u=n(3091),l="No one promise resolved";r({target:"Promise",stat:!0},{any:function(e){var t=this,n=s("AggregateError"),r=a.f(t),h=r.resolve,d=r.reject,f=c((function(){var r=o(t.resolve),s=[],a=0,c=1,f=!1;u(e,(function(e){var o=a++,u=!1;c++,i(r,t,e).then((function(e){u||f||(f=!0,h(e))}),(function(e){u||f||(u=!0,s[o]=e,--c||d(new n(s,l)))}))})),--c||d(new n(s,l))}));return f.error&&d(f.value),r.promise}})},3376:(e,t,n)=>{"use strict";var r=n(6887),i=n(2529),o=n(7742).CONSTRUCTOR,s=n(6991),a=n(626),c=n(7475),u=n(5929),l=s&&s.prototype;if(r({target:"Promise",proto:!0,forced:o,real:!0},{catch:function(e){return this.then(void 0,e)}}),!i&&c(s)){var h=a("Promise").prototype.catch;l.catch!==h&&u(l,"catch",h,{unsafe:!0})}},6934:(e,t,n)=>{"use strict";var r,i,o,s=n(6887),a=n(2529),c=n(6049),u=n(1899),l=n(8834),h=n(5929),d=n(8929),f=n(904),p=n(4431),m=n(4883),g=n(7475),v=n(941),y=n(5743),b=n(487),w=n(2941).set,S=n(6132),_=n(4845),x=n(2),C=n(8397),E=n(5402),k=n(6991),A=n(7742),N=n(9520),T="Promise",P=A.CONSTRUCTOR,O=A.REJECTION_EVENT,I=A.SUBCLASSING,R=E.getterFor(T),L=E.set,M=k&&k.prototype,D=k,j=M,F=u.TypeError,B=u.document,q=u.process,U=N.f,z=U,$=!!(B&&B.createEvent&&u.dispatchEvent),H="unhandledrejection",G=function(e){var t;return!(!v(e)||!g(t=e.then))&&t},V=function(e,t){var n,r,i,o=t.value,s=1==t.state,a=s?e.ok:e.fail,c=e.resolve,u=e.reject,h=e.domain;try{a?(s||(2===t.rejection&&J(t),t.rejection=1),!0===a?n=o:(h&&h.enter(),n=a(o),h&&(h.exit(),i=!0)),n===e.promise?u(F("Promise-chain cycle")):(r=G(n))?l(r,n,c,u):c(n)):u(o)}catch(e){h&&!i&&h.exit(),u(e)}},W=function(e,t){e.notified||(e.notified=!0,S((function(){for(var n,r=e.reactions;n=r.get();)V(n,e);e.notified=!1,t&&!e.rejection&&Z(e)})))},K=function(e,t,n){var r,i;$?((r=B.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),u.dispatchEvent(r)):r={promise:t,reason:n},!O&&(i=u["on"+e])?i(r):e===H&&_("Unhandled promise rejection",n)},Z=function(e){l(w,u,(function(){var t,n=e.facade,r=e.value;if(Y(e)&&(t=x((function(){c?q.emit("unhandledRejection",r,n):K(H,n,r)})),e.rejection=c||Y(e)?2:1,t.error))throw t.value}))},Y=function(e){return 1!==e.rejection&&!e.parent},J=function(e){l(w,u,(function(){var t=e.facade;c?q.emit("rejectionHandled",t):K("rejectionhandled",t,e.value)}))},Q=function(e,t,n){return function(r){e(t,r,n)}},X=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,W(e,!0))},ee=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw F("Promise can't be resolved itself");var r=G(t);r?S((function(){var n={done:!1};try{l(r,t,Q(ee,n,e),Q(X,n,e))}catch(t){X(n,t,e)}})):(e.value=t,e.state=1,W(e,!1))}catch(t){X({done:!1},t,e)}}};if(P&&(j=(D=function(e){y(this,j),m(e),l(r,this);var t=R(this);try{e(Q(ee,t),Q(X,t))}catch(e){X(t,e)}}).prototype,(r=function(e){L(this,{type:T,done:!1,notified:!1,parent:!1,reactions:new C,rejection:!1,state:0,value:void 0})}).prototype=h(j,"then",(function(e,t){var n=R(this),r=U(b(this,D));return n.parent=!0,r.ok=!g(e)||e,r.fail=g(t)&&t,r.domain=c?q.domain:void 0,0==n.state?n.reactions.add(r):S((function(){V(r,n)})),r.promise})),i=function(){var e=new r,t=R(e);this.promise=e,this.resolve=Q(ee,t),this.reject=Q(X,t)},N.f=U=function(e){return e===D||void 0===e?new i(e):z(e)},!a&&g(k)&&M!==Object.prototype)){o=M.then,I||h(M,"then",(function(e,t){var n=this;return new D((function(e,t){l(o,n,e,t)})).then(e,t)}),{unsafe:!0});try{delete M.constructor}catch(e){}d&&d(M,j)}s({global:!0,wrap:!0,forced:P},{Promise:D}),f(D,T,!1,!0),p(T)},4349:(e,t,n)=>{"use strict";var r=n(6887),i=n(2529),o=n(6991),s=n(5981),a=n(626),c=n(7475),u=n(487),l=n(6584),h=n(5929),d=o&&o.prototype;if(r({target:"Promise",proto:!0,real:!0,forced:!!o&&s((function(){d.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=u(this,a("Promise")),n=c(e);return this.then(n?function(n){return l(t,e()).then((function(){return n}))}:e,n?function(n){return l(t,e()).then((function(){throw n}))}:e)}}),!i&&c(o)){var f=a("Promise").prototype.finally;d.finally!==f&&h(d,"finally",f,{unsafe:!0})}},8881:(e,t,n)=>{n(6934),n(6890),n(3376),n(5921),n(4069),n(4482)},5921:(e,t,n)=>{"use strict";var r=n(6887),i=n(8834),o=n(4883),s=n(9520),a=n(2),c=n(3091);r({target:"Promise",stat:!0,forced:n(1542)},{race:function(e){var t=this,n=s.f(t),r=n.reject,u=a((function(){var s=o(t.resolve);c(e,(function(e){i(s,t,e).then(n.resolve,r)}))}));return u.error&&r(u.value),n.promise}})},4069:(e,t,n)=>{"use strict";var r=n(6887),i=n(8834),o=n(9520);r({target:"Promise",stat:!0,forced:n(7742).CONSTRUCTOR},{reject:function(e){var t=o.f(this);return i(t.reject,void 0,e),t.promise}})},4482:(e,t,n)=>{"use strict";var r=n(6887),i=n(626),o=n(2529),s=n(6991),a=n(7742).CONSTRUCTOR,c=n(6584),u=i("Promise"),l=o&&!a;r({target:"Promise",stat:!0,forced:o||a},{resolve:function(e){return c(l&&this===u?s:this,e)}})},7453:(e,t,n)=>{var r=n(6887),i=n(626),o=n(9730),s=n(8308),a=n(174),c=n(6059),u=n(941),l=n(9290),h=n(5981),d=i("Reflect","construct"),f=Object.prototype,p=[].push,m=h((function(){function e(){}return!(d((function(){}),[],e)instanceof e)})),g=!h((function(){d((function(){}))})),v=m||g;r({target:"Reflect",stat:!0,forced:v,sham:v},{construct:function(e,t){a(e),c(t);var n=arguments.length<3?e:a(arguments[2]);if(g&&!m)return d(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return o(p,r,t),new(o(s,e,r))}var i=n.prototype,h=l(u(i)?i:f),v=o(e,h,t);return u(v)?v:h}})},2355:(e,t,n)=>{var r=n(6887),i=n(8834),o=n(941),s=n(6059),a=n(7040),c=n(9677),u=n(249);r({target:"Reflect",stat:!0},{get:function e(t,n){var r,l,h=arguments.length<3?t:arguments[2];return s(t)===h?t[n]:(r=c.f(t,n))?a(r)?r.value:void 0===r.get?void 0:i(r.get,h):o(l=u(t))?e(l,n,h):void 0}})},1502:()=>{},1035:(e,t,n)=>{"use strict";var r=n(6887),i=n(5329),o=n(344),s=n(8219),a=n(5803),c=n(7772),u=i("".indexOf);r({target:"String",proto:!0,forced:!c("includes")},{includes:function(e){return!!~u(a(s(this)),a(o(e)),arguments.length>1?arguments[1]:void 0)}})},7971:(e,t,n)=>{"use strict";var r=n(4620).charAt,i=n(5803),o=n(5402),s=n(7771),a="String Iterator",c=o.set,u=o.getterFor(a);s(String,"String",(function(e){c(this,{type:a,string:i(e),index:0})}),(function(){var e,t=u(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=r(n,i),t.index+=e.length,{value:e,done:!1})}))},4761:(e,t,n)=>{"use strict";var r,i=n(6887),o=n(5329),s=n(9677).f,a=n(3057),c=n(5803),u=n(344),l=n(8219),h=n(7772),d=n(2529),f=o("".startsWith),p=o("".slice),m=Math.min,g=h("startsWith");i({target:"String",proto:!0,forced:!(!d&&!g&&(r=s(String.prototype,"startsWith"),r&&!r.writable)||g)},{startsWith:function(e){var t=c(l(this));u(e);var n=a(m(arguments.length>1?arguments[1]:void 0,t.length)),r=c(e);return f?f(t,r,n):p(t,n,n+r.length)===r}})},8555:(e,t,n)=>{n(6349)("asyncIterator")},8616:(e,t,n)=>{"use strict";var r=n(6887),i=n(1899),o=n(8834),s=n(5329),a=n(2529),c=n(5746),u=n(2497),l=n(5981),h=n(953),d=n(7046),f=n(6059),p=n(4529),m=n(3894),g=n(5803),v=n(1887),y=n(9290),b=n(4771),w=n(946),S=n(684),_=n(7857),x=n(9677),C=n(5988),E=n(9938),k=n(6760),A=n(5929),N=n(8726),T=n(4262),P=n(7748),O=n(9418),I=n(9813),R=n(1477),L=n(6349),M=n(9630),D=n(904),j=n(5402),F=n(3610).forEach,B=T("hidden"),q="Symbol",U=j.set,z=j.getterFor(q),$=Object.prototype,H=i.Symbol,G=H&&H.prototype,V=i.TypeError,W=i.QObject,K=x.f,Z=C.f,Y=S.f,J=k.f,Q=s([].push),X=N("symbols"),ee=N("op-symbols"),te=N("wks"),ne=!W||!W.prototype||!W.prototype.findChild,re=c&&l((function(){return 7!=y(Z({},"a",{get:function(){return Z(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=K($,t);r&&delete $[t],Z(e,t,n),r&&e!==$&&Z($,t,r)}:Z,ie=function(e,t){var n=X[e]=y(G);return U(n,{type:q,tag:e,description:t}),c||(n.description=t),n},oe=function(e,t,n){e===$&&oe(ee,t,n),f(e);var r=m(t);return f(n),h(X,r)?(n.enumerable?(h(e,B)&&e[B][r]&&(e[B][r]=!1),n=y(n,{enumerable:v(0,!1)})):(h(e,B)||Z(e,B,v(1,{})),e[B][r]=!0),re(e,r,n)):Z(e,r,n)},se=function(e,t){f(e);var n=p(t),r=b(n).concat(le(n));return F(r,(function(t){c&&!o(ae,n,t)||oe(e,t,n[t])})),e},ae=function(e){var t=m(e),n=o(J,this,t);return!(this===$&&h(X,t)&&!h(ee,t))&&(!(n||!h(this,t)||!h(X,t)||h(this,B)&&this[B][t])||n)},ce=function(e,t){var n=p(e),r=m(t);if(n!==$||!h(X,r)||h(ee,r)){var i=K(n,r);return!i||!h(X,r)||h(n,B)&&n[B][r]||(i.enumerable=!0),i}},ue=function(e){var t=Y(p(e)),n=[];return F(t,(function(e){h(X,e)||h(P,e)||Q(n,e)})),n},le=function(e){var t=e===$,n=Y(t?ee:p(e)),r=[];return F(n,(function(e){!h(X,e)||t&&!h($,e)||Q(r,X[e])})),r};u||(H=function(){if(d(G,this))throw V("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?g(arguments[0]):void 0,t=O(e),n=function(e){this===$&&o(n,ee,e),h(this,B)&&h(this[B],t)&&(this[B][t]=!1),re(this,t,v(1,e))};return c&&ne&&re($,t,{configurable:!0,set:n}),ie(t,e)},A(G=H.prototype,"toString",(function(){return z(this).tag})),A(H,"withoutSetter",(function(e){return ie(O(e),e)})),k.f=ae,C.f=oe,E.f=se,x.f=ce,w.f=S.f=ue,_.f=le,R.f=function(e){return ie(I(e),e)},c&&(Z(G,"description",{configurable:!0,get:function(){return z(this).description}}),a||A($,"propertyIsEnumerable",ae,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:H}),F(b(te),(function(e){L(e)})),r({target:q,stat:!0,forced:!u},{useSetter:function(){ne=!0},useSimple:function(){ne=!1}}),r({target:"Object",stat:!0,forced:!u,sham:!c},{create:function(e,t){return void 0===t?y(e):se(y(e),t)},defineProperty:oe,defineProperties:se,getOwnPropertyDescriptor:ce}),r({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:ue}),M(),D(H,q),P[B]=!0},2615:()=>{},4523:(e,t,n)=>{var r=n(6887),i=n(626),o=n(953),s=n(5803),a=n(8726),c=n(5366),u=a("string-to-symbol-registry"),l=a("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!c},{for:function(e){var t=s(e);if(o(u,t))return u[t];var n=i("Symbol")(t);return u[t]=n,l[n]=t,n}})},1732:(e,t,n)=>{n(6349)("hasInstance")},5903:(e,t,n)=>{n(6349)("isConcatSpreadable")},1825:(e,t,n)=>{n(6349)("iterator")},5824:(e,t,n)=>{n(8616),n(4523),n(8608),n(2619),n(7144)},8608:(e,t,n)=>{var r=n(6887),i=n(953),o=n(6664),s=n(9826),a=n(8726),c=n(5366),u=a("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!c},{keyFor:function(e){if(!o(e))throw TypeError(s(e)+" is not a symbol");if(i(u,e))return u[e]}})},5915:(e,t,n)=>{n(6349)("matchAll")},8394:(e,t,n)=>{n(6349)("match")},1766:(e,t,n)=>{n(6349)("replace")},2737:(e,t,n)=>{n(6349)("search")},9911:(e,t,n)=>{n(6349)("species")},4315:(e,t,n)=>{n(6349)("split")},3131:(e,t,n)=>{var r=n(6349),i=n(9630);r("toPrimitive"),i()},4714:(e,t,n)=>{var r=n(626),i=n(6349),o=n(904);i("toStringTag"),o(r("Symbol"),"Symbol")},659:(e,t,n)=>{n(6349)("unscopables")},1115:(e,t,n)=>{"use strict";n(4683)("WeakSet",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n(8850))},1773:(e,t,n)=>{n(1115)},9731:(e,t,n)=>{n(7627)},5708:(e,t,n)=>{n(4560)},8731:(e,t,n)=>{n(7206)},14:(e,t,n)=>{"use strict";var r=n(6887),i=n(9520),o=n(2);r({target:"Promise",stat:!0,forced:!0},{try:function(e){var t=i.f(this),n=o(e);return(n.error?t.reject:t.resolve)(n.value),t.promise}})},8783:(e,t,n)=>{n(6349)("asyncDispose")},3975:(e,t,n)=>{n(6349)("dispose")},5799:(e,t,n)=>{n(6349)("matcher")},5414:(e,t,n)=>{n(6349)("metadata")},6774:(e,t,n)=>{n(6349)("observable")},620:(e,t,n)=>{n(6349)("patternMatch")},6172:(e,t,n)=>{n(6349)("replaceAll")},7634:(e,t,n)=>{n(6274);var r=n(3281),i=n(1899),o=n(9697),s=n(2029),a=n(2077),c=n(9813)("toStringTag");for(var u in r){var l=i[u],h=l&&l.prototype;h&&o(h)!==c&&s(h,c,u),a[u]=a.Array}},9229:(e,t,n)=>{var r=n(6887),i=n(1899),o=n(7620).setInterval;r({global:!0,bind:!0,forced:i.setInterval!==o},{setInterval:o})},7749:(e,t,n)=>{var r=n(6887),i=n(1899),o=n(7620).setTimeout;r({global:!0,bind:!0,forced:i.setTimeout!==o},{setTimeout:o})},1249:(e,t,n)=>{n(9229),n(7749)},2524:(e,t,n)=>{"use strict";n(6274);var r=n(6887),i=n(1899),o=n(8834),s=n(5329),a=n(5746),c=n(8468),u=n(5929),l=n(4380),h=n(904),d=n(1046),f=n(5402),p=n(5743),m=n(7475),g=n(953),v=n(6843),y=n(9697),b=n(6059),w=n(941),S=n(5803),_=n(9290),x=n(1887),C=n(3476),E=n(2902),k=n(8348),A=n(9813),N=n(1388),T=A("iterator"),P="URLSearchParams",O="URLSearchParamsIterator",I=f.set,R=f.getterFor(P),L=f.getterFor(O),M=Object.getOwnPropertyDescriptor,D=function(e){if(!a)return i[e];var t=M(i,e);return t&&t.value},j=D("fetch"),F=D("Request"),B=D("Headers"),q=F&&F.prototype,U=B&&B.prototype,z=i.RegExp,$=i.TypeError,H=i.decodeURIComponent,G=i.encodeURIComponent,V=s("".charAt),W=s([].join),K=s([].push),Z=s("".replace),Y=s([].shift),J=s([].splice),Q=s("".split),X=s("".slice),ee=/\+/g,te=Array(4),ne=function(e){return te[e-1]||(te[e-1]=z("((?:%[\\da-f]{2}){"+e+"})","gi"))},re=function(e){try{return H(e)}catch(t){return e}},ie=function(e){var t=Z(e,ee," "),n=4;try{return H(t)}catch(e){for(;n;)t=Z(t,ne(n--),re);return t}},oe=/[!'()~]|%20/g,se={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ae=function(e){return se[e]},ce=function(e){return Z(G(e),oe,ae)},ue=d((function(e,t){I(this,{type:O,iterator:C(R(e).entries),kind:t})}),"Iterator",(function(){var e=L(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n}),!0),le=function(e){this.entries=[],this.url=null,void 0!==e&&(w(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===V(e,0)?X(e,1):e:S(e)))};le.prototype={type:P,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,n,r,i,s,a,c,u=E(e);if(u)for(n=(t=C(e,u)).next;!(r=o(n,t)).done;){if(s=(i=C(b(r.value))).next,(a=o(s,i)).done||(c=o(s,i)).done||!o(s,i).done)throw $("Expected sequence with length 2");K(this.entries,{key:S(a.value),value:S(c.value)})}else for(var l in e)g(e,l)&&K(this.entries,{key:l,value:S(e[l])})},parseQuery:function(e){if(e)for(var t,n,r=Q(e,"&"),i=0;i<r.length;)(t=r[i++]).length&&(n=Q(t,"="),K(this.entries,{key:ie(Y(n)),value:ie(W(n,"="))}))},serialize:function(){for(var e,t=this.entries,n=[],r=0;r<t.length;)e=t[r++],K(n,ce(e.key)+"="+ce(e.value));return W(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var he=function(){p(this,de),I(this,new le(arguments.length>0?arguments[0]:void 0))},de=he.prototype;if(l(de,{append:function(e,t){k(arguments.length,2);var n=R(this);K(n.entries,{key:S(e),value:S(t)}),n.updateURL()},delete:function(e){k(arguments.length,1);for(var t=R(this),n=t.entries,r=S(e),i=0;i<n.length;)n[i].key===r?J(n,i,1):i++;t.updateURL()},get:function(e){k(arguments.length,1);for(var t=R(this).entries,n=S(e),r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){k(arguments.length,1);for(var t=R(this).entries,n=S(e),r=[],i=0;i<t.length;i++)t[i].key===n&&K(r,t[i].value);return r},has:function(e){k(arguments.length,1);for(var t=R(this).entries,n=S(e),r=0;r<t.length;)if(t[r++].key===n)return!0;return!1},set:function(e,t){k(arguments.length,1);for(var n,r=R(this),i=r.entries,o=!1,s=S(e),a=S(t),c=0;c<i.length;c++)(n=i[c]).key===s&&(o?J(i,c--,1):(o=!0,n.value=a));o||K(i,{key:s,value:a}),r.updateURL()},sort:function(){var e=R(this);N(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){for(var t,n=R(this).entries,r=v(e,arguments.length>1?arguments[1]:void 0),i=0;i<n.length;)r((t=n[i++]).value,t.key,this)},keys:function(){return new ue(this,"keys")},values:function(){return new ue(this,"values")},entries:function(){return new ue(this,"entries")}},{enumerable:!0}),u(de,T,de.entries,{name:"entries"}),u(de,"toString",(function(){return R(this).serialize()}),{enumerable:!0}),h(he,P),r({global:!0,forced:!c},{URLSearchParams:he}),!c&&m(B)){var fe=s(U.has),pe=s(U.set),me=function(e){if(w(e)){var t,n=e.body;if(y(n)===P)return t=e.headers?new B(e.headers):new B,fe(t,"content-type")||pe(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),_(e,{body:x(0,S(n)),headers:x(0,t)})}return e};if(m(j)&&r({global:!0,enumerable:!0,noTargetGet:!0,forced:!0},{fetch:function(e){return j(e,arguments.length>1?me(arguments[1]):{})}}),m(F)){var ge=function(e){return p(this,q),new F(e,arguments.length>1?me(arguments[1]):{})};q.constructor=ge,ge.prototype=q,r({global:!0,forced:!0,noTargetGet:!0},{Request:ge})}}e.exports={URLSearchParams:he,getState:R}},5304:(e,t,n)=>{n(2524)},7250:(e,t,n)=>{"use strict";n(7971);var r,i=n(6887),o=n(5746),s=n(8468),a=n(1899),c=n(6843),u=n(5329),l=n(5929),h=n(9202),d=n(5743),f=n(953),p=n(4420),m=n(1354),g=n(5790),v=n(4620).codeAt,y=n(3291),b=n(5803),w=n(904),S=n(8348),_=n(2524),x=n(5402),C=x.set,E=x.getterFor("URL"),k=_.URLSearchParams,A=_.getState,N=a.URL,T=a.TypeError,P=a.parseInt,O=Math.floor,I=Math.pow,R=u("".charAt),L=u(/./.exec),M=u([].join),D=u(1..toString),j=u([].pop),F=u([].push),B=u("".replace),q=u([].shift),U=u("".split),z=u("".slice),$=u("".toLowerCase),H=u([].unshift),G="Invalid scheme",V="Invalid host",W="Invalid port",K=/[a-z]/i,Z=/[\d+-.a-z]/i,Y=/\d/,J=/^0x/i,Q=/^[0-7]+$/,X=/^\d+$/,ee=/^[\da-f]+$/i,te=/[\0\t\n\r #%/:<>?@[\\\]^|]/,ne=/[\0\t\n\r #/:<>?@[\\\]^|]/,re=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,ie=/[\t\n\r]/g,oe=function(e){var t,n,r,i;if("number"==typeof e){for(t=[],n=0;n<4;n++)H(t,e%256),e=O(e/256);return M(t,".")}if("object"==typeof e){for(t="",r=function(e){for(var t=null,n=1,r=null,i=0,o=0;o<8;o++)0!==e[o]?(i>n&&(t=r,n=i),r=null,i=0):(null===r&&(r=o),++i);return i>n&&(t=r,n=i),t}(e),n=0;n<8;n++)i&&0===e[n]||(i&&(i=!1),r===n?(t+=n?":":"::",i=!0):(t+=D(e[n],16),n<7&&(t+=":")));return"["+t+"]"}return e},se={},ae=p({},se,{" ":1,'"':1,"<":1,">":1,"`":1}),ce=p({},ae,{"#":1,"?":1,"{":1,"}":1}),ue=p({},ce,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),le=function(e,t){var n=v(e,0);return n>32&&n<127&&!f(t,e)?e:encodeURIComponent(e)},he={ftp:21,file:null,http:80,https:443,ws:80,wss:443},de=function(e,t){var n;return 2==e.length&&L(K,R(e,0))&&(":"==(n=R(e,1))||!t&&"|"==n)},fe=function(e){var t;return e.length>1&&de(z(e,0,2))&&(2==e.length||"/"===(t=R(e,2))||"\\"===t||"?"===t||"#"===t)},pe=function(e){return"."===e||"%2e"===$(e)},me={},ge={},ve={},ye={},be={},we={},Se={},_e={},xe={},Ce={},Ee={},ke={},Ae={},Ne={},Te={},Pe={},Oe={},Ie={},Re={},Le={},Me={},De=function(e,t,n){var r,i,o,s=b(e);if(t){if(i=this.parse(s))throw T(i);this.searchParams=null}else{if(void 0!==n&&(r=new De(n,!0)),i=this.parse(s,null,r))throw T(i);(o=A(new k)).bindURL(this),this.searchParams=o}};De.prototype={type:"URL",parse:function(e,t,n){var i,o,s,a,c,u=this,l=t||me,h=0,d="",p=!1,v=!1,y=!1;for(e=b(e),t||(u.scheme="",u.username="",u.password="",u.host=null,u.port=null,u.path=[],u.query=null,u.fragment=null,u.cannotBeABaseURL=!1,e=B(e,re,"")),e=B(e,ie,""),i=m(e);h<=i.length;){switch(o=i[h],l){case me:if(!o||!L(K,o)){if(t)return G;l=ve;continue}d+=$(o),l=ge;break;case ge:if(o&&(L(Z,o)||"+"==o||"-"==o||"."==o))d+=$(o);else{if(":"!=o){if(t)return G;d="",l=ve,h=0;continue}if(t&&(u.isSpecial()!=f(he,d)||"file"==d&&(u.includesCredentials()||null!==u.port)||"file"==u.scheme&&!u.host))return;if(u.scheme=d,t)return void(u.isSpecial()&&he[u.scheme]==u.port&&(u.port=null));d="","file"==u.scheme?l=Ne:u.isSpecial()&&n&&n.scheme==u.scheme?l=ye:u.isSpecial()?l=_e:"/"==i[h+1]?(l=be,h++):(u.cannotBeABaseURL=!0,F(u.path,""),l=Re)}break;case ve:if(!n||n.cannotBeABaseURL&&"#"!=o)return G;if(n.cannotBeABaseURL&&"#"==o){u.scheme=n.scheme,u.path=g(n.path),u.query=n.query,u.fragment="",u.cannotBeABaseURL=!0,l=Me;break}l="file"==n.scheme?Ne:we;continue;case ye:if("/"!=o||"/"!=i[h+1]){l=we;continue}l=xe,h++;break;case be:if("/"==o){l=Ce;break}l=Ie;continue;case we:if(u.scheme=n.scheme,o==r)u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,u.path=g(n.path),u.query=n.query;else if("/"==o||"\\"==o&&u.isSpecial())l=Se;else if("?"==o)u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,u.path=g(n.path),u.query="",l=Le;else{if("#"!=o){u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,u.path=g(n.path),u.path.length--,l=Ie;continue}u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,u.path=g(n.path),u.query=n.query,u.fragment="",l=Me}break;case Se:if(!u.isSpecial()||"/"!=o&&"\\"!=o){if("/"!=o){u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,l=Ie;continue}l=Ce}else l=xe;break;case _e:if(l=xe,"/"!=o||"/"!=R(d,h+1))continue;h++;break;case xe:if("/"!=o&&"\\"!=o){l=Ce;continue}break;case Ce:if("@"==o){p&&(d="%40"+d),p=!0,s=m(d);for(var w=0;w<s.length;w++){var S=s[w];if(":"!=S||y){var _=le(S,ue);y?u.password+=_:u.username+=_}else y=!0}d=""}else if(o==r||"/"==o||"?"==o||"#"==o||"\\"==o&&u.isSpecial()){if(p&&""==d)return"Invalid authority";h-=m(d).length+1,d="",l=Ee}else d+=o;break;case Ee:case ke:if(t&&"file"==u.scheme){l=Pe;continue}if(":"!=o||v){if(o==r||"/"==o||"?"==o||"#"==o||"\\"==o&&u.isSpecial()){if(u.isSpecial()&&""==d)return V;if(t&&""==d&&(u.includesCredentials()||null!==u.port))return;if(a=u.parseHost(d))return a;if(d="",l=Oe,t)return;continue}"["==o?v=!0:"]"==o&&(v=!1),d+=o}else{if(""==d)return V;if(a=u.parseHost(d))return a;if(d="",l=Ae,t==ke)return}break;case Ae:if(!L(Y,o)){if(o==r||"/"==o||"?"==o||"#"==o||"\\"==o&&u.isSpecial()||t){if(""!=d){var x=P(d,10);if(x>65535)return W;u.port=u.isSpecial()&&x===he[u.scheme]?null:x,d=""}if(t)return;l=Oe;continue}return W}d+=o;break;case Ne:if(u.scheme="file","/"==o||"\\"==o)l=Te;else{if(!n||"file"!=n.scheme){l=Ie;continue}if(o==r)u.host=n.host,u.path=g(n.path),u.query=n.query;else if("?"==o)u.host=n.host,u.path=g(n.path),u.query="",l=Le;else{if("#"!=o){fe(M(g(i,h),""))||(u.host=n.host,u.path=g(n.path),u.shortenPath()),l=Ie;continue}u.host=n.host,u.path=g(n.path),u.query=n.query,u.fragment="",l=Me}}break;case Te:if("/"==o||"\\"==o){l=Pe;break}n&&"file"==n.scheme&&!fe(M(g(i,h),""))&&(de(n.path[0],!0)?F(u.path,n.path[0]):u.host=n.host),l=Ie;continue;case Pe:if(o==r||"/"==o||"\\"==o||"?"==o||"#"==o){if(!t&&de(d))l=Ie;else if(""==d){if(u.host="",t)return;l=Oe}else{if(a=u.parseHost(d))return a;if("localhost"==u.host&&(u.host=""),t)return;d="",l=Oe}continue}d+=o;break;case Oe:if(u.isSpecial()){if(l=Ie,"/"!=o&&"\\"!=o)continue}else if(t||"?"!=o)if(t||"#"!=o){if(o!=r&&(l=Ie,"/"!=o))continue}else u.fragment="",l=Me;else u.query="",l=Le;break;case Ie:if(o==r||"/"==o||"\\"==o&&u.isSpecial()||!t&&("?"==o||"#"==o)){if(".."===(c=$(c=d))||"%2e."===c||".%2e"===c||"%2e%2e"===c?(u.shortenPath(),"/"==o||"\\"==o&&u.isSpecial()||F(u.path,"")):pe(d)?"/"==o||"\\"==o&&u.isSpecial()||F(u.path,""):("file"==u.scheme&&!u.path.length&&de(d)&&(u.host&&(u.host=""),d=R(d,0)+":"),F(u.path,d)),d="","file"==u.scheme&&(o==r||"?"==o||"#"==o))for(;u.path.length>1&&""===u.path[0];)q(u.path);"?"==o?(u.query="",l=Le):"#"==o&&(u.fragment="",l=Me)}else d+=le(o,ce);break;case Re:"?"==o?(u.query="",l=Le):"#"==o?(u.fragment="",l=Me):o!=r&&(u.path[0]+=le(o,se));break;case Le:t||"#"!=o?o!=r&&("'"==o&&u.isSpecial()?u.query+="%27":u.query+="#"==o?"%23":le(o,se)):(u.fragment="",l=Me);break;case Me:o!=r&&(u.fragment+=le(o,ae))}h++}},parseHost:function(e){var t,n,r;if("["==R(e,0)){if("]"!=R(e,e.length-1))return V;if(t=function(e){var t,n,r,i,o,s,a,c=[0,0,0,0,0,0,0,0],u=0,l=null,h=0,d=function(){return R(e,h)};if(":"==d()){if(":"!=R(e,1))return;h+=2,l=++u}for(;d();){if(8==u)return;if(":"!=d()){for(t=n=0;n<4&&L(ee,d());)t=16*t+P(d(),16),h++,n++;if("."==d()){if(0==n)return;if(h-=n,u>6)return;for(r=0;d();){if(i=null,r>0){if(!("."==d()&&r<4))return;h++}if(!L(Y,d()))return;for(;L(Y,d());){if(o=P(d(),10),null===i)i=o;else{if(0==i)return;i=10*i+o}if(i>255)return;h++}c[u]=256*c[u]+i,2!=++r&&4!=r||u++}if(4!=r)return;break}if(":"==d()){if(h++,!d())return}else if(d())return;c[u++]=t}else{if(null!==l)return;h++,l=++u}}if(null!==l)for(s=u-l,u=7;0!=u&&s>0;)a=c[u],c[u--]=c[l+s-1],c[l+--s]=a;else if(8!=u)return;return c}(z(e,1,-1)),!t)return V;this.host=t}else if(this.isSpecial()){if(e=y(e),L(te,e))return V;if(t=function(e){var t,n,r,i,o,s,a,c=U(e,".");if(c.length&&""==c[c.length-1]&&c.length--,(t=c.length)>4)return e;for(n=[],r=0;r<t;r++){if(""==(i=c[r]))return e;if(o=10,i.length>1&&"0"==R(i,0)&&(o=L(J,i)?16:8,i=z(i,8==o?1:2)),""===i)s=0;else{if(!L(10==o?X:8==o?Q:ee,i))return e;s=P(i,o)}F(n,s)}for(r=0;r<t;r++)if(s=n[r],r==t-1){if(s>=I(256,5-t))return null}else if(s>255)return null;for(a=j(n),r=0;r<n.length;r++)a+=n[r]*I(256,3-r);return a}(e),null===t)return V;this.host=t}else{if(L(ne,e))return V;for(t="",n=m(e),r=0;r<n.length;r++)t+=le(n[r],se);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return f(he,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"==this.scheme&&1==t&&de(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,n=e.username,r=e.password,i=e.host,o=e.port,s=e.path,a=e.query,c=e.fragment,u=t+":";return null!==i?(u+="//",e.includesCredentials()&&(u+=n+(r?":"+r:"")+"@"),u+=oe(i),null!==o&&(u+=":"+o)):"file"==t&&(u+="//"),u+=e.cannotBeABaseURL?s[0]:s.length?"/"+M(s,"/"):"",null!==a&&(u+="?"+a),null!==c&&(u+="#"+c),u},setHref:function(e){var t=this.parse(e);if(t)throw T(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"==e)try{return new je(e.path[0]).origin}catch(e){return"null"}return"file"!=e&&this.isSpecial()?e+"://"+oe(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(b(e)+":",me)},getUsername:function(){return this.username},setUsername:function(e){var t=m(b(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<t.length;n++)this.username+=le(t[n],ue)}},getPassword:function(){return this.password},setPassword:function(e){var t=m(b(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<t.length;n++)this.password+=le(t[n],ue)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?oe(e):oe(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,Ee)},getHostname:function(){var e=this.host;return null===e?"":oe(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,ke)},getPort:function(){var e=this.port;return null===e?"":b(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""==(e=b(e))?this.port=null:this.parse(e,Ae))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+M(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,Oe))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){""==(e=b(e))?this.query=null:("?"==R(e,0)&&(e=z(e,1)),this.query="",this.parse(e,Le)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){""!=(e=b(e))?("#"==R(e,0)&&(e=z(e,1)),this.fragment="",this.parse(e,Me)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var je=function(e){var t=d(this,Fe),n=S(arguments.length,1)>1?arguments[1]:void 0,r=C(t,new De(e,!1,n));o||(t.href=r.serialize(),t.origin=r.getOrigin(),t.protocol=r.getProtocol(),t.username=r.getUsername(),t.password=r.getPassword(),t.host=r.getHost(),t.hostname=r.getHostname(),t.port=r.getPort(),t.pathname=r.getPathname(),t.search=r.getSearch(),t.searchParams=r.getSearchParams(),t.hash=r.getHash())},Fe=je.prototype,Be=function(e,t){return{get:function(){return E(this)[e]()},set:t&&function(e){return E(this)[t](e)},configurable:!0,enumerable:!0}};if(o&&(h(Fe,"href",Be("serialize","setHref")),h(Fe,"origin",Be("getOrigin")),h(Fe,"protocol",Be("getProtocol","setProtocol")),h(Fe,"username",Be("getUsername","setUsername")),h(Fe,"password",Be("getPassword","setPassword")),h(Fe,"host",Be("getHost","setHost")),h(Fe,"hostname",Be("getHostname","setHostname")),h(Fe,"port",Be("getPort","setPort")),h(Fe,"pathname",Be("getPathname","setPathname")),h(Fe,"search",Be("getSearch","setSearch")),h(Fe,"searchParams",Be("getSearchParams")),h(Fe,"hash",Be("getHash","setHash"))),l(Fe,"toJSON",(function(){return E(this).serialize()}),{enumerable:!0}),l(Fe,"toString",(function(){return E(this).serialize()}),{enumerable:!0}),N){var qe=N.createObjectURL,Ue=N.revokeObjectURL;qe&&l(je,"createObjectURL",c(qe,N)),Ue&&l(je,"revokeObjectURL",c(Ue,N))}w(je,"URL"),i({global:!0,forced:!s,sham:!o},{URL:je})},3601:(e,t,n)=>{n(7250)},8947:()=>{},7698:(e,t,n)=>{var r=n(4493);e.exports=r},3363:(e,t,n)=>{var r=n(4034);e.exports=r},9216:(e,t,n)=>{var r=n(9324);e.exports=r},7784:(e,t,n)=>{var r=n(1103);e.exports=r},6243:(e,t,n)=>{var r=n(3830);n(7634),e.exports=r},8065:(e,t,n)=>{var r=n(6043);e.exports=r},1955:(e,t,n)=>{var r=n(2480);e.exports=r},1577:(e,t,n)=>{var r=n(2236);e.exports=r},6279:(e,t,n)=>{n(7634);var r=n(9697),i=n(953),o=n(7046),s=n(9216),a=Array.prototype,c={DOMTokenList:!0,NodeList:!0};e.exports=function(e){var t=e.forEach;return e===a||o(a,e)&&t===a.forEach||i(c,r(e))?s:t}},3778:(e,t,n)=>{var r=n(8557);e.exports=r},9373:(e,t,n)=>{var r=n(4570);e.exports=r},1022:(e,t,n)=>{var r=n(7564);e.exports=r},2073:(e,t,n)=>{var r=n(9601);e.exports=r},2348:(e,t,n)=>{var r=n(8339);e.exports=r},5178:(e,t,n)=>{var r=n(1611);e.exports=r},8933:(e,t,n)=>{var r=n(4426);e.exports=r},3383:(e,t,n)=>{var r=n(5999);e.exports=r},4471:(e,t,n)=>{var r=n(5254);e.exports=r},7396:(e,t,n)=>{var r=n(7702);e.exports=r},1910:(e,t,n)=>{var r=n(8171);e.exports=r},6209:(e,t,n)=>{var r=n(3081);e.exports=r},5021:(e,t,n)=>{var r=n(3770);e.exports=r},9427:(e,t,n)=>{var r=n(286);e.exports=r},2857:(e,t,n)=>{var r=n(2766);e.exports=r},4477:(e,t,n)=>{var r=n(3288);e.exports=r},9534:(e,t,n)=>{var r=n(498);e.exports=r},6507:(e,t,n)=>{var r=n(3966);e.exports=r},3059:(e,t,n)=>{var r=n(8494);e.exports=r},6670:(e,t,n)=>{var r=n(3065);e.exports=r},7460:(e,t,n)=>{var r=n(2956);n(7634),e.exports=r},1895:(e,t,n)=>{var r=n(4983);e.exports=r},8254:(e,t,n)=>{var r=n(7095);e.exports=r},3474:(e,t,n)=>{n(1249);var r=n(4058);e.exports=r.setInterval},7989:(e,t,n)=>{n(1249);var r=n(4058);e.exports=r.setTimeout},2547:(e,t,n)=>{var r=n(7473);n(7634),e.exports=r},6509:(e,t,n)=>{var r=n(4227);n(7634),e.exports=r},7641:(e,t,n)=>{var r=n(1459);e.exports=r},3726:(e,t,n)=>{var r=n(9567);n(7634),e.exports=r},1459:(e,t,n)=>{n(3601),n(8947),n(5304);var r=n(4058);e.exports=r.URL},284:e=>{var t=function(){if("object"==typeof self&&self)return self;if("object"==typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};e.exports=function(){if(this)return this;if("object"==typeof globalThis&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(e){return t()}try{return __global__||t()}finally{delete Object.prototype.__global__}}()},7091:e=>{"use strict";e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),t.hash&&(e+=t.hash),t.maybeNeedQuotes&&/[\t\n\f\r "'=<>`]/.test(e)?'"'.concat(e,'"'):e):e}},3300:(e,t)=>{"use strict";var n=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n)return n;throw new Error("unable to locate global object")}();e.exports=t=n.fetch,n.fetch&&(t.default=n.fetch.bind(n)),t.Headers=n.Headers,t.Request=n.Request,t.Response=n.Response},5666:e=>{var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,o=Object.create(i.prototype),s=new N(r||[]);return o._invoke=function(e,t,n){var r=h;return function(i,o){if(r===f)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return P()}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var a=E(s,n);if(a){if(a===m)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=f;var c=l(e,t,n);if("normal"===c.type){if(r=n.done?p:d,c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=p,n.method="throw",n.arg=c.arg)}}}(e,n,s),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var h="suspendedStart",d="suspendedYield",f="executing",p="completed",m={};function g(){}function v(){}function y(){}var b={};c(b,o,(function(){return this}));var w=Object.getPrototypeOf,S=w&&w(w(T([])));S&&S!==n&&r.call(S,o)&&(b=S);var _=y.prototype=g.prototype=Object.create(b);function x(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(i,o,s,a){var c=l(e[i],e,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==typeof h&&r.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,s,a)}),(function(e){n("throw",e,s,a)})):t.resolve(h).then((function(e){u.value=e,s(u)}),(function(e){return n("throw",e,s,a)}))}a(c.arg)}var i;this._invoke=function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}}function E(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(e){if(e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,s=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return s.next=s}}return{next:P}}function P(){return{value:t,done:!0}}return v.prototype=y,c(_,"constructor",y),c(y,"constructor",v),v.displayName=c(y,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,a,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},x(C.prototype),c(C.prototype,s,(function(){return this})),e.AsyncIterator=C,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var s=new C(u(t,n,r,i),o);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},x(_),c(_,a,"Generator"),c(_,o,(function(){return this})),c(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=T,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(A),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return a.type="throw",a.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var c=r.call(s,"catchLoc"),u=r.call(s,"finallyLoc");if(c&&u){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;A(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:T(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},9674:function(e,t,n){var r,i;void 0===(i="function"==typeof(r=function(){"use strict";var e=void 0!==n.g?n.g:self;if(void 0!==e.TextEncoder&&void 0!==e.TextDecoder)return{TextEncoder:e.TextEncoder,TextDecoder:e.TextDecoder};var t=["utf8","utf-8","unicode-1-1-utf-8"];return{TextEncoder:function(e){if(t.indexOf(e)<0&&null!=e)throw new RangeError("Invalid encoding type. Only utf-8 is supported");this.encoding="utf-8",this.encode=function(e){if("string"!=typeof e)throw new TypeError("passed argument must be of type string");var t=unescape(encodeURIComponent(e)),n=new Uint8Array(t.length);return t.split("").forEach((function(e,t){n[t]=e.charCodeAt(0)})),n}},TextDecoder:function(e,n){if(t.indexOf(e)<0&&null!=e)throw new RangeError("Invalid encoding type. Only utf-8 is supported");if(this.encoding="utf-8",this.ignoreBOM=!1,this.fatal=void 0!==n&&"fatal"in n&&n.fatal,"boolean"!=typeof this.fatal)throw new TypeError("fatal flag must be boolean");this.decode=function(e,t){if(void 0===e)return"";if("boolean"!=typeof(void 0!==t&&"stream"in t&&t.stream))throw new TypeError("stream option must be boolean");if(ArrayBuffer.isView(e)){var n=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),r=new Array(n.length);return n.forEach((function(e,t){r[t]=String.fromCharCode(e)})),decodeURIComponent(escape(r.join("")))}throw new TypeError("passed argument must be an array buffer view")}}}})?r.apply(t,[]):r)||(e.exports=i)},655:(e,t,n)=>{"use strict";n.d(t,{ZT:()=>i,pi:()=>o,_T:()=>s,mG:()=>a,Jh:()=>c,XA:()=>u,CR:()=>l,ev:()=>h});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function a(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))}function c(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function u(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function h(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create,Object.create},4586:(e,t,n)=>{"use strict";var r;n.d(t,{Z:()=>u});var i=new Uint8Array(16);function o(){if(!r&&!(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(i)}const s=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var a=[],c=0;c<256;++c)a.push((c+256).toString(16).substr(1));const u=function(e,t,n){var r=(e=e||{}).random||(e.rng||o)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(a[e[t+0]]+a[e[t+1]]+a[e[t+2]]+a[e[t+3]]+"-"+a[e[t+4]]+a[e[t+5]]+"-"+a[e[t+6]]+a[e[t+7]]+"-"+a[e[t+8]]+a[e[t+9]]+"-"+a[e[t+10]]+a[e[t+11]]+a[e[t+12]]+a[e[t+13]]+a[e[t+14]]+a[e[t+15]]).toLowerCase();if(!function(e){return"string"==typeof e&&s.test(e)}(n))throw TypeError("Stringified UUID is invalid");return n}(r)}},5840:(e,t,n)=>{var r;if("object"==typeof globalThis)r=globalThis;else try{r=n(284)}catch(e){}finally{if(r||"undefined"==typeof window||(r=window),!r)throw new Error("Could not determine global this")}var i=r.WebSocket||r.MozWebSocket,o=n(9387);function s(e,t){return t?new i(e,t):new i(e)}i&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach((function(e){Object.defineProperty(s,e,{get:function(){return i[e]}})})),e.exports={w3cwebsocket:i?s:null,version:o}},9387:(e,t,n)=>{e.exports=n(2847).version},2847:e=>{"use strict";e.exports={version:"1.0.34"}},4868:()=>{},1562:()=>{},5201:()=>{}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="https://lc.sketchup.com/cdn/3.0.0/",n.b=document.baseURI||self.location.href;var r={};return(()=>{"use strict";var e,t;n.r(r),n.d(r,{AdapterConnection:()=>s,LogLevel:()=>c,Message:()=>V,MockAsset:()=>g,MockEngine:()=>b,MockGraph:()=>v,ParameterPane:()=>R,ShutdownReason:()=>t,getCurrentEngine:()=>H,getVersion:()=>K,runConfigure:()=>z,runReconfigure:()=>U,sendMessage:()=>W,setLogAsString:()=>l,setMinLogLevel:()=>d}),function(e){e[e.kGraphOutputNodesChanged=1100]="kGraphOutputNodesChanged",e[e.kGraphNodesDelete=1101]="kGraphNodesDelete",e[e.kGraphPropertiesChanged=1102]="kGraphPropertiesChanged",e[e.kGraphClear=1103]="kGraphClear",e[e.kGraphsAdded=7]="kGraphsAdded",e[e.kGraphsDelete=1200]="kGraphsDelete",e[e.kComputeNodeBuiltMesh=14]="kComputeNodeBuiltMesh",e[e.kComputeNodeBuiltMaterial=15]="kComputeNodeBuiltMaterial",e[e.kComputeNodeBuiltLocator=16]="kComputeNodeBuiltLocator",e[e.kComputeNodeBuiltPrimitiveAttributes=17]="kComputeNodeBuiltPrimitiveAttributes",e[e.kComputeNodeStart=28]="kComputeNodeStart",e[e.kComputeNodeEnd=22]="kComputeNodeEnd",e[e.kComputeNodeBuiltCurve=2100]="kComputeNodeBuiltCurve",e[e.kComputeGraphBuiltParameters=19]="kComputeGraphBuiltParameters",e[e.kComputeGraphEnd=20]="kComputeGraphEnd",e[e.kComputeGraphErroredNodesChanged=2200]="kComputeGraphErroredNodesChanged",e[e.kEngineClear=3100]="kEngineClear",e[e.kEngineUpdateEnd=3101]="kEngineUpdateEnd",e[e.kComponentGetParameters=42001]="kComponentGetParameters",e[e.kMachinePropertiesUpdated=8]="kMachinePropertiesUpdated"}(e||(e={})),function(e){e[e.INTERNAL_ERROR=0]="INTERNAL_ERROR",e[e.ENGINE_DISCONNECT=1]="ENGINE_DISCONNECT",e[e.CANCEL_RECONNECT=2]="CANCEL_RECONNECT",e[e.TIMEOUT=3]="TIMEOUT",e[e.UNKNOWN=4]="UNKNOWN"}(t||(t={}));var i=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};function o(e){for(const t in e){let n=e[t];if("albedo"!=t&&ArrayBuffer.isView(n))if(n instanceof Int8Array)switch(t){case"indices":e[t]=Array.from(new Int32Array(n.buffer));break;case"normals":case"uvs":case"vertices":case"color":e[t]=Array.from(new Float32Array(n.buffer));break;default:e[t]=Array.from(n)}else e[t]=Array.from(n)}return e}class s{constructor(e,t,n,r,i,o){this.rewriteAllTypedArrays=!1,this._isAlive=!0,this.deathListeners=[],this.builtListeners=[],this.subscriptions=[],this.targetGraph=null,this.targetGraphId=null,this.activeGraphAssetUri=null,this.insideComputeState=!1,this.nodeIdNodeNameMap=new Map,this.listenForChanges=!0,this.timeoutTimer=0,this.activeTimer=0,this.parameterQuantity=0,this.parameterCounter=-1,this.parameterConfigureStart=null,this.canSendComputeNotification=()=>this._isAlive&&this.insideComputeState,this.canSendNonComputeNotification=()=>this._isAlive,this.stream=(e,t)=>o(e,JSON.stringify(t)),this.graphParams=e,this.connectionTimeoutSeconds=t,this.reauthIntervalSeconds=n,this.onParameterCounterAnalyticsEvent=r,this.onGraphLoaded=i,s.lastCreatedActiveConnection=this}static killLastCreatedActiveConnection(){null!=this.lastCreatedActiveConnection&&this.lastCreatedActiveConnection.isAlive&&this.lastCreatedActiveConnection.kill(t.TIMEOUT)}getGraphName(){var e;return null===(e=this.targetGraph)||void 0===e?void 0:e.name.valueOf()}kill(e=t.UNKNOWN){var n;return i(this,void 0,void 0,(function*(){if(this._isAlive){this._isAlive=!1;let t=0;null!=this.parameterConfigureStart&&(t=Date.now()-this.parameterConfigureStart),null===(n=this.onParameterCounterAnalyticsEvent)||void 0===n||n.call(this,{touched:this.parameterCounter,edit_time:t}),this.timeoutTimer=0,this.activeTimer=0,this.timeoutTimerTracker&&clearInterval(this.timeoutTimerTracker),yield this.doShutdown();for(let t of this.deathListeners)yield t(e);this.deathListeners=[]}}))}addDeathListener(e){this._isAlive?this.deathListeners.push(e):e(t.UNKNOWN)}addBuiltListener(e){this.builtListeners.push(e)}trackParameters(e){var t,n;if(!this.onParameterCounterAnalyticsEvent)return;null!==(t=this.parameterConfigureStart)&&void 0!==t||(this.parameterConfigureStart=Date.now()),this.parameterQuantity||(this.parameterQuantity=e.length),this.parameterCounter++;let r=Date.now()-this.parameterConfigureStart;r>6e5&&(null===(n=this.onParameterCounterAnalyticsEvent)||void 0===n||n.call(this,{touched:this.parameterCounter,edit_time:r}),this.parameterQuantity=0,this.parameterCounter=0,this.parameterConfigureStart=null)}get isAlive(){return this._isAlive}startup(r,s){var a;return i(this,void 0,void 0,(function*(){if(0!=this.subscriptions.length||!this._isAlive)return null;let i=(yield Promise.resolve().then(n.bind(n,9315))).version;if("graph"!==r.type)throw Error(`Asset ${r.id} (${r.type}) is not a graph`);return f("Subscribing to engine events."),this.sub("engine.connection.changed",s,(({disconnected:e})=>{e&&(this.targetGraph=null,this.subscriptions=[],this.kill(t.ENGINE_DISCONNECT))})),this.sub("engine.update.end",s,(()=>{this.stream(e.kEngineUpdateEnd,{})})),this.sub("graphs.added",s,(t=>{var n;this.timeoutTimer=0,""==t.parentGraphId&&(this.activeGraphAssetUri=null!==(n=t.graphAssetUri)&&void 0!==n?n:null,this.targetGraphId=t.graphId,this.stream(e.kGraphsAdded,function(e){let t=JSON.parse(e.properties.units),n=Object.assign(Object.assign({},e),{lengthUnits:t.model.length.unit});return delete n.properties,n}(t)))})),this.sub("compute.graph.start",s,(({graphId:e})=>{e===this.targetGraphId&&(this.insideComputeState=!0)})),this.sub("compute.graph.end",s,(({graphId:t})=>{if(t===this.targetGraphId){this.insideComputeState=!1,this.stream(e.kComputeGraphEnd,{});for(let e of this.builtListeners.splice(0))e()}})),this.sub("graph.ephemeral.changed",s,(e=>{this.listenForChanges=!e})),this.subCpp({name:"compute.node.builtMesh",packetId:e.kComputeNodeBuiltMesh,canSend:this.canSendComputeNotification},s,(e=>Object.assign(Object.assign({},e),{indices:Array.from(new Int32Array(e.indices.buffer)),vertices:Array.from(new Float32Array(e.vertices.buffer)),uvs:Array.from(new Float32Array(e.uvs.buffer))}))),this.subCpp({name:"compute.node.builtMaterial",packetId:e.kComputeNodeBuiltMaterial,canSend:this.canSendComputeNotification},s),this.subCpp({name:"compute.node.builtLocator",packetId:e.kComputeNodeBuiltLocator,canSend:this.canSendComputeNotification},s,o),this.subCpp({name:"compute.node.builtPrimitiveAttributes",packetId:e.kComputeNodeBuiltPrimitiveAttributes,canSend:this.canSendComputeNotification},s),this.subCpp({name:"compute.node.builtCurve",packetId:e.kComputeNodeBuiltCurve,canSend:this.canSendComputeNotification},s,o),this.subCpp({name:"compute.node.end",packetId:e.kComputeNodeEnd,canSend:this.canSendComputeNotification},s),this.subCpp({name:"compute.node.start",packetId:e.kComputeNodeStart,canSend:this.canSendComputeNotification},s),this.sub("graph.nodes.added",s,(({nodeId:e,properties:t})=>{this.nodeIdNodeNameMap.set(e,t.name)})),this.sub("compute.graph.builtParameters",s,(({graphId:t,parameters:n})=>{var r;if(t!==this.targetGraphId)return;this.timeoutTimer=0;let o={sdkVersion:i,assetUri:null!==(r=this.activeGraphAssetUri)&&void 0!==r?r:"",parameters:[]};for(let e of n){let t=this.nodeIdNodeNameMap.get(e.parameterNodeId);o.parameters.push({name:t,value:e.parameterProperties.value})}this.listenForChanges&&this.trackParameters(n),this.stream(e.kComputeGraphBuiltParameters,{parameters_json:JSON.stringify(o)})})),this.subCpp({name:"graph.outputNodes.changed",packetId:e.kGraphOutputNodesChanged,canSend:this.canSendNonComputeNotification},s),this.subCpp({name:"graph.nodes.delete",packetId:e.kGraphNodesDelete,canSend:this.canSendNonComputeNotification},s),this.subCpp({name:"compute.graph.erroredNodes.changed",packetId:e.kComputeGraphErroredNodesChanged,canSend:this.canSendComputeNotification},s),this.subCpp({name:"graph.properties.changed",packetId:e.kGraphPropertiesChanged,canSend:this.canSendNonComputeNotification},s),this.subCpp({name:"graphs.delete",packetId:e.kGraphsDelete,canSend:this.canSendNonComputeNotification},s),this.subCpp({name:"engine.clear",packetId:e.kEngineClear,canSend:this.canSendNonComputeNotification},s),this.subCpp({name:"graph.clear",packetId:e.kGraphClear,canSend:this.canSendNonComputeNotification},s),yield Promise.all(this.subscriptions),f(`Loading graph into engine: ${r.uri}`),this.targetGraph=yield s.graphs.load(r.uri,this.graphParams),null===(a=this.onGraphLoaded)||void 0===a||a.call(this,this.targetGraph),this.targetGraph}))}doShutdown(){return i(this,void 0,void 0,(function*(){try{this.stream=()=>{},f("Unsubscribing from engine events.");let e=this.subscriptions.map((e=>i(this,void 0,void 0,(function*(){return(yield e).unsubscribe()}))));this.subscriptions=[],yield Promise.all(e)}catch(e){f(`Could not shutdown live component:  ${e}`,c.WARN)}}))}startConnectionTimers(e,n){let r=this.connectionTimeoutSeconds?this.connectionTimeoutSeconds:1200,o=this.reauthIntervalSeconds?this.reauthIntervalSeconds:1200;this.timeoutTimerTracker=window.setInterval((()=>i(this,void 0,void 0,(function*(){if(this.isAlive){if(this.timeoutTimer+=1,this.activeTimer+=1,this.timeoutTimer>r)return this.timeoutTimer=0,void this.kill(t.TIMEOUT);if(this.activeTimer>o){this.activeTimer=0;let t=yield n();e.setUserAuthentication(t)}}}))),1e3)}subCpp(e,t,n){return i(this,void 0,void 0,(function*(){this.sub(e.name,t,(t=>{const r=e.packetId;f(`Attempting to handle packet: ${e.name} with ID: ${r}`,c.DEBUG,t),f(`In compute state: ${this.insideComputeState}, isAlive=${this._isAlive}`,c.DEBUG),e.canSend()&&(null!=n?t=n(t):this.rewriteAllTypedArrays&&(t=o(t)),f(`Streaming packet ${e.name} with ID: ${r}`,c.DEBUG,t),this.stream(r,t))}))}))}sub(e,t,n){return i(this,void 0,void 0,(function*(){let r=t.subscribeToNotification(e,n);this.subscriptions.push(r),yield r}))}}const a=new class{constructor(){this.enableDebugStatements=!1}killLastCreatedActiveConnection(){s.killLastCreatedActiveConnection()}getEngine(){return H()}};var c;window.LCGlueDebug=a,function(e){e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR"}(c||(c={}));let u=!0;function l(e=!0){u=e}let h=c.INFO;function d(e){h=e}function f(e,t=c.INFO,n){if(t===c.DEBUG&&!a.enableDebugStatements||t<h)return;const r=function(){var e;let t=(null===(e=Error().stack)||void 0===e?void 0:e.split("\n"))||[];return t=null==t?void 0:t.splice(3,t.length),t=null==t?void 0:t.map((e=>e.trim())),t}();let i=u?`LcGlue: ${e}`:{message:`LcGlue: ${e}`,origin:r[0],stack:r,obj:n};switch(t){case c.INFO:console.log(i);break;case c.WARN:console.warn(i);break;case c.ERROR:console.error(i);break;case c.DEBUG:console.debug(i)}}var p=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};function m(){return new Promise((e=>setTimeout(e,100)))}class g{constructor(e){this.id="foo",this.type="graph",this.name="Mock Graph",this.uri=e}}class v{constructor(e){this.id="foo",this.name={toString:()=>"Mock Graph",set(e){throw Error("Not implemented;")}},this.parentId="",this.tag=null,this.nodes=null,this.properties=null,this.uri=e}}class y{constructor(e,t,n){this.id="",this.notificationName=e,this.subscriptionFunction=t,this.array=n}unsubscribe(){let e=this.array.indexOf(this.subscriptionFunction);return-1!=e&&this.array.splice(e,1),Promise.resolve()}}class b{constructor(){this.subscriptions=new Map,this.sessionToken="mock",this.connectionState={connected:!1,disconnected:!0,busy:!1},this.assets={get(e,t){return p(this,void 0,void 0,(function*(){return yield m(),[new g(e)]}))}},this.graphs={load(e,t){return p(this,void 0,void 0,(function*(){yield m();let t=new v(e);return SUCypress.trace("materiaGraphLoad",t),t}))},delete(e){return p(this,void 0,void 0,(function*(){yield m(),SUCypress.trace("materiaGraphUnload",e)}))},get(){return p(this,void 0,void 0,(function*(){return yield m(),SUCypress.trace("materiaGraphGet"),[]}))}},SUCypress.trace("newMateriaEngine",this)}send(e,t){let n=this.subscriptions.get(e);if(null!=n)for(let e of n)e(t)}sendWithEmptyGraph(e,t){this.send("compute.graph.start",{graphId:e}),t(this),this.send("compute.graph.end",{graphId:e})}sendWithEmptyNode(e,t,n,r=[]){this.sendWithEmptyGraph(e,(()=>{this.send("compute.node.start",{graphId:e,nodeId:t,primitiveIds:r}),n(this),this.send("compute.node.end",{graphId:e,nodeId:t,primitiveIds:r})}))}sendWithEmptyPrimitive(e,t,n,r){this.sendWithEmptyNode(e,t,(()=>{this.send("compute.node.builtMesh",{nodeId:t,primitiveId:n,nodeName:"Empty Mesh",vertices:new Int8Array,normals:new Int8Array,indices:new Int8Array,uvs:new Int8Array}),r(this)}),[n])}get subscriptionCount(){let e=0;for(let t of this.subscriptions.values())e+=t.length;return e}connect(e,t){return p(this,void 0,void 0,(function*(){return this.connectionState.disconnected=!1,yield m(),this.connectionState.connected=!0,SUCypress.trace("connectMateriaEngine",e),!0}))}setUserAuthentication(e){return p(this,void 0,void 0,(function*(){return yield m(),SUCypress.trace("setUserAuthentication",e),!0}))}disconnect(){return p(this,void 0,void 0,(function*(){return this.connectionState.connected=!1,yield m(),this.connectionState.disconnected=!0,SUCypress.trace("disconnectMateriaEngine"),!1}))}subscribeToNotification(e,t){return p(this,void 0,void 0,(function*(){yield m(),this.subscriptions.has(e)||this.subscriptions.set(e,[]);let n=this.subscriptions.get(e);return n.push(t),new y(e,t,n)}))}clear(){return p(this,void 0,void 0,(function*(){return yield m(),SUCypress.trace("materiaEngineCleared"),!0}))}}var w=n(9315),S=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};let _=e=>new Promise((t=>setTimeout(t,e)));class x extends Error{}function C(e,t){return n=this,void 0,i=function*(){let n=yield e();if(t.isCancelled)throw new x;return n},new((r=void 0)||(r=Promise))((function(e,t){function o(e){try{a(i.next(e))}catch(e){t(e)}}function s(e){try{a(i.throw(e))}catch(e){t(e)}}function a(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(o,s)}a((i=i.apply(n,[])).next())}));var n,r,i}var E=n(7091),k=n.n(E),A=new URL(n(4623),n.b),N=new URL(n(1033),n.b),T=new URL(n(7122),n.b),P=new URL(n(601),n.b);const O='<html style="height:100%"> <head> <style>.materia-container-id-compact{display:none}#lcglue-error{justify-content:center;align-items:center;display:flex;flex-direction:column;text-align:center}#lcglue-loading{justify-content:center;align-items:center;display:flex;flex-direction:column}#lcglue-overlay{height:65%;display:flex;align-items:center;justify-content:center}#lcglue-loading-spinner{border-radius:50%;width:3rem;height:3rem;border-top:2px solid #eaeaef;border-right:2px solid #eaeaef;border-bottom:2px solid #eaeaef;border-left:2px solid #005f9e;animation:lcglue-spinning .7s infinite linear}#lcglue-parameters{height:100%}#reconnect-button{border:1px solid transparent;cursor:pointer;height:35px;font-size:14px;font-weight:400;line-height:35px;min-width:180px;outline:0;padding:0;text-align:center;user-select:none;border-radius:2px;border-color:#0d6aa8;background-color:#0d6aa8;color:#fff}#reconnect-button:active{border-color:#0c77be;background-color:#0c77be}#reconnect-button:hover{border-color:#197cb6;background-color:#197cb6}@keyframes lcglue-spinning{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}</style> <link rel="preload" as="style" href="https://modus.trimble.com/css/modus.min-0.9.0.css" onload=\'this.rel="stylesheet"\'/> <link rel="preload" as="style" href="https://modus.trimble.com/assets/0.5.0/fonts/modus-icons.css" onload=\'this.rel="stylesheet"\'/> <link rel="preload" as="style" href="https://fonts.googleapis.com/icon?family=Material+Icons" onload=\'this.rel="stylesheet"\'/> <link rel="preload" as="style" href="'+k()(A)+'" onload=\'this.rel="stylesheet"\'/> </head> <body style="height:100%;margin:0;background-color:#fff"> <div id="lcglue-overlay"> <div id="lcglue-loading"> <img src="'+k()(N)+'"/> <div style="padding:24px 0">Connecting to Server</div> <div id="lcglue-loading-spinner"></div> </div> <div id="lcglue-error" style="display:none"> <img src="'+k()(T)+'"/> <div style="padding:24px 12px"> This Live Component has timed out. <br/> Please try configuring the component again. If you\'re in 3D Warehouse, press the Configure button. </div> <button id="reconnect-button">Reconnect</button> </div> </div> <div id="lcglue-parameters" style="display:none"></div> <script src="https://code.jquery.com/jquery-3.4.1.min.js"><\/script> <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"><\/script> <script src="'+k()(P)+'"><\/script> <style>.materia-container-id-compact{text-overflow:ellipsis;overflow:hidden}.materia-container-name-compact{text-overflow:ellipsis;overflow:hidden}</style> </body> </html> ';class I extends Error{constructor(){super("the parameter pane was unexpectedly removed")}}class R{constructor(){this.frame=document.createElement("iframe"),this.frame.srcdoc=O,this.frame.style.position="absolute",this.frame.style.width="100%",this.frame.style.height="100%",this.frame.style.border="none",this.iframeLoaded=new Promise((e=>this.frame.addEventListener("load",e))),this.loaded=new Promise((e=>{this.resolveLoaded=e}))}setup(e){return t=this,void 0,i=function*(){try{if(this.engine===e)return;if(null!=this.engine)throw Error("setup can not be called again with a new engine");this.engine=e,yield this.iframeLoaded;let t=this.frame.contentDocument;if(null==t)throw null==this.frame.parentElement?new I:Error("the parameter pane document is missing");let r=t.getElementById("lcglue-overlay"),i=t.getElementById("lcglue-parameters");yield e.subscribeToNotification("compute.graph.builtParameters",(()=>{setTimeout((()=>{r.style.display="none",i.style.display="unset"}))}));const o=this.lib.Constants.View.ContainerView.SHOULD_HIDE_TITLES;this.lib.setConfiguration({flags:{[o]:!0}});let s=new this.lib.ParameterViewer(i);if(e instanceof b)return void this.resolveLoaded(!0);let a=new this.lib.ParameterServiceMateria(e,yield Promise.resolve().then(n.bind(n,9315)),!1);s.setup(a,null),this.resolveLoaded(!0)}catch(e){this.resolveLoaded(!1),e instanceof I||this.showReconnect()}},new((r=void 0)||(r=Promise))((function(e,n){function o(e){try{a(i.next(e))}catch(e){n(e)}}function s(e){try{a(i.throw(e))}catch(e){n(e)}}function a(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(o,s)}a((i=i.apply(t,[])).next())}));var t,r,i}setBaseUnits(e){this.lengthUnit=e,this.areaUnit=e+"2",this.volumeUnit=e+"3",this.updateUnits()}showReconnect(){if(this.frame){let e=this.frame.contentDocument;if(e){let t=e.getElementById("lcglue-error"),n=e.getElementById("lcglue-loading"),r=e.getElementById("lcglue-overlay"),i=e.getElementById("lcglue-parameters");i&&(i.style.display="none"),r&&(r.style.display="flex",n.style.display="none",t.style.display="flex"),e.getElementById("reconnect-button").onclick=()=>{n.style.display="flex",t.style.display="none",dispatchEvent(new Event("reconnect"))}}}}get lib(){let e=this.frame.contentWindow;if(null!=e&&"parameterViewer"in e)return e.parameterViewer;throw null==this.frame.parentElement?new I:Error("the parameter-viewer library is missing")}updateUnits(){this.loaded.then((e=>{if(e)try{let e={};this.addUnitMapping(this.lengthUnit,e),this.addUnitMapping(this.areaUnit,e),this.addUnitMapping(this.volumeUnit,e),this.lib.Units.Settings.displayMap.set(e)}catch(e){if(!(e instanceof I))throw e}}))}addUnitMapping(e,t){if(null==e)return;let n=this.lib.Units.Definitions.getAcceptableUnitsForMapping(e);if(null!=n)for(const r of n)t[r]=e}}var L=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};class M{constructor(e,t){if(this.assetUri="",this.hasShutdownRun=!1,this.isCancelled=!1,this.settings=e,this.engineManager=t,"assetUri"in this.settings)this.assetUri=this.settings.assetUri;else try{let e=JSON.parse(this.settings.definitionJson);this.assetUri=e.assetUri,this.graphParams={};for(let{name:t,value:n}of e.parameters)this.graphParams[t]=n}catch(e){if(!this.settings.onError)throw e;this.settings.onError(e)}this.materiaAdapter=this.createNewAdapterConnection()}sendCancelSignal(){this.isCancelled=!0,this.materiaAdapter.kill(t.CANCEL_RECONNECT)}createNewAdapterConnection(){let e=new s(this.graphParams,this.settings.connectionTimeoutSeconds,this.settings.reauthIntervalSeconds,this.settings.onParameterCounterAnalyticsEvent,this.settings.onGraphLoaded,this.settings.onPacket.bind(this.settings));return this.settings.onBuilt&&e.addBuiltListener(this.settings.onBuilt),e.addDeathListener((e=>L(this,void 0,void 0,(function*(){this.doShutdown(e),e==t.TIMEOUT&&(yield this.engineManager.disconnectEngine())})))),e}doShutdown(e){var t;f("Shutting down connection driver."),this.hasShutdownRun||(this.hasShutdownRun=!0,null===(t=this.materiaAdapter)||void 0===t||t.kill(e),null!=this.settings.beforeShutdown&&this.settings.beforeShutdown(this.materiaAdapter,e))}getAuthenticationFromLoginServer(e){return L(this,void 0,void 0,(function*(){let t=`${e}/users/oauthtoken?checkIdTokenExpiration=true`,n=new XMLHttpRequest,r=new Promise((e=>n.addEventListener("load",e)));if(n.withCredentials=!0,n.open("GET",t),n.send(),yield r,200!=n.status)throw Error("When fetching oauth token for Materia: "+n.responseText);let i=JSON.parse(n.responseText);return{id_token:i.idToken,refresh_token:i.refreshToken,expires_in:i.tokenExpiresAtMillis-Date.now(),access_token:i.accessToken,token_type:"Bearer"}}))}connectEngineAndSetupPane(){return L(this,void 0,void 0,(function*(){if(this.getAuth=this.settings.getAuthentication,!this.getAuth){if(!this.settings.loginServer)return;{let e=this.settings.loginServer;this.getAuth=()=>this.getAuthenticationFromLoginServer(e)}}if(!this.getAuth)throw new Error("Auth function should be set by now");try{let e=yield this.engineManager.connectToEngine(this.getAuth);if(this.settings.pane){let t=this.settings.pane;yield t.setup(e)}this.materiaAdapter.startConnectionTimers(e,this.getAuth)}catch(e){this.doShutdown(t.INTERNAL_ERROR),this.settings.onError&&this.settings.onError(e)}}))}doDrive(){var e,n;return L(this,void 0,void 0,(function*(){try{if(null===(n=(e=this.settings).beforeStartup)||void 0===n||n.call(e,this.materiaAdapter),this.settings.pane){let e=this.settings.pane;this.materiaAdapter.addDeathListener((n=>L(this,void 0,void 0,(function*(){n!=t.CANCEL_RECONNECT&&e.showReconnect()}))))}yield C(this.connectEngineAndSetupPane.bind(this),this),yield C((()=>L(this,void 0,void 0,(function*(){this.settings.pane&&(yield this.settings.pane.loaded)}))),this);let r=this.engineManager.getEngine(),i=yield C((()=>L(this,void 0,void 0,(function*(){var e;if(!r)throw new Error("Something went wrong resolving engine.");let t=null!==(e=this.settings.version)&&void 0!==e?e:"exact",n=yield r.assets.get(this.assetUri,t);if(0==n.length)throw Error("asset uri has no versions.");return n}))),this);yield C((()=>L(this,void 0,void 0,(function*(){if(!r)throw Error("Something went wrong resolving engine.");yield this.materiaAdapter.startup(i[0],r)}))),this)}catch(e){if(e instanceof x)return yield this.materiaAdapter.doShutdown();this.doShutdown(t.INTERNAL_ERROR),f(JSON.stringify(e),c.ERROR),this.settings.onError&&this.settings.onError(e)}}))}}var D=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};let j,F,B,q=new class{constructor(){this.mock=!1}getEngine(){return this.engine}disconnectEngine(){return S(this,void 0,void 0,(function*(){this.engine?(f("Disconnecting from the engine."),yield this.engine.disconnect()):f("Tried to disconnect an engine that was not initialized.")}))}initializeForNewConfigurationSession(e,t,n){!this.engine||this.applicationKey==e&&n==this.mock||(this.engine=void 0),this.engine||(f("Creating a new engine instance."),this.applicationKey=e,this.mock=n,this.engine=n?new b:new w.Engine({applicationKey:e})),this.onEngineUpdate=t}connectToEngine(e){return S(this,void 0,void 0,(function*(){if(!this.engine)throw new Error("Engine should be initialized by now.");if(!this.engine.connectionState.connected){let t=0;f("Starting engine connection process with retries...");do{yield this.authAndInitEngine(e),this.engine.connectionState.connected||(f("Failed to establish engine connection, retrying..."),yield _(1e3)),t++}while(!this.engine.connectionState.connected&&t<=10)}if(!this.engine.connectionState.connected)throw new Error("Engine should be connected by now.");return f("Clearing engine of all graphs again, just in case."),yield this.engine.clear(),this.engine}))}authAndInitEngine(e){var t;return S(this,void 0,void 0,(function*(){if(!this.engine)throw new Error("Engine should be initialized by now");try{if(this.engine.connectionState.disconnected){let n=yield e();f("Attempting to connect to the engine."),yield this.engine.connect(n),f("Engine connection successful."),null===(t=this.onEngineUpdate)||void 0===t||t.call(this,this.engine)}}catch(e){f(`${e}`,c.WARN)}}))}};function U(e){return D(this,void 0,void 0,(function*(){yield $(e)}))}function z(e){return D(this,void 0,void 0,(function*(){yield $(e)}))}function $(e){return D(this,void 0,void 0,(function*(){q.initializeForNewConfigurationSession(e.applicationKey,e.onEngineUpdate,Boolean(e.mock)),F&&j==e?f("performConfiguration: Persistent session still open and settings unchanged, no action required"):(j=e,F&&F.sendCancelSignal(),F=new M(e,q),yield B,removeEventListener("reconnect",G),f("Subscribing to reconnect event."),window.addEventListener("reconnect",G),B=(()=>D(this,void 0,void 0,(function*(){f("Starting drive process."),yield F.doDrive()})))())}))}function H(){return q.getEngine()}function G(){return D(this,void 0,void 0,(function*(){if(f("Performing reconnect."),!j)throw new Error("Settings should have been initialized by now. Contact developer.");if(j.definitionJson){let e=yield j.getDefinitionJsonForReconnect();if(e)return void $(Object.assign(Object.assign({},j),{definitionJson:e}));f("Failed to obtain updated json definition, must use previous settings")}$(j)}))}window.onunload=()=>{window.removeEventListener("reconnect",G)};class V{}function W(e){return D(this,void 0,void 0,(function*(){switch(e.type){case"setVectors":!function(e){var t,n,r;D(this,void 0,void 0,(function*(){const i=yield H(),o=yield null===(t=null==i?void 0:i.graphs)||void 0===t?void 0:t.get(),s=o?o[0]:void 0,a=yield null===(n=null==s?void 0:s.nodes)||void 0===n?void 0:n.get(),c=null!==(r=null==a?void 0:a.filter((e=>"inputVectorList"===e.name.toString()))[0])&&void 0!==r?r:null;yield null==c?void 0:c.input.set({list:e})}))}(e.input);break;case"setGraphLocalCopyName":!function(e){var t;D(this,void 0,void 0,(function*(){const n=H(),r=yield null===(t=null==n?void 0:n.graphs)||void 0===t?void 0:t.get(),i=r?r[0]:void 0;yield null==i?void 0:i.properties.set({name:e})}))}(e.input);case"logMessage":f(e.input)}}))}function K(){return"3.0.0"}})(),r})()},65913:(e,t)=>{"use strict";var n;t.P=void 0,(n=t.P||(t.P={})).Download="Downloaded Model - 3DW",n.DownloadLiveComponent="Downloaded Model - Live Component",n.Upload="Uploaded Model - 3DW",n.Search="Searched 3D Warehouse",n.LogIn="Logged In",n.LogOut="Logged Out",n.UpdatedProfile="Updated Profile",n.TrySketchup="Clicked Try SketchUp"},81482:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSketchUpBinary=t.binaryNamesToTypeList=t.getLargeWebpThumbnail=t.getSmallWebpThumbnail=t.getTinyWebpThumbnail=t.getBestLargeThumbnail=t.getBestSmallThumbnail=t.getBestTinyThumbnail=void 0;const r=n(25809),i=n(66708);function o(e,t){if(t)for(let n of e){let e=n;if(t.indexOf(e)>=0)return e}return null}t.getBestTinyThumbnail=function(e){return o([r.enums.BinaryType.Small_Thumbnail_Custom,r.enums.BinaryType.Featured_Thumbnail_Custom,r.enums.BinaryType.Tiny_Thumbnail_Bot,r.enums.BinaryType.Small_Thumbnail_Bot],e)},t.getBestSmallThumbnail=function(e){return o([r.enums.BinaryType.Featured_Thumbnail_Custom,r.enums.BinaryType.Small_Thumbnail_Custom,r.enums.BinaryType.Small_Webp_Thumbnail_Bot,r.enums.BinaryType.Small_Thumbnail_Bot,r.enums.BinaryType.Small_Thumbnail],e)},t.getBestLargeThumbnail=function(e){return o([r.enums.BinaryType.Featured_Thumbnail_Custom,r.enums.BinaryType.Large_Webp_Thumbnail_Bot,r.enums.BinaryType.Large_Thumbnail_Bot,r.enums.BinaryType.Large_Thumbnail],e)},t.getTinyWebpThumbnail=function(e){return o([r.enums.BinaryType.Tiny_Webp_Thumbnail_Bot],e)},t.getSmallWebpThumbnail=function(e){return o([r.enums.BinaryType.Small_Webp_Thumbnail_Bot],e)},t.getLargeWebpThumbnail=function(e){return o([r.enums.BinaryType.Large_Webp_Thumbnail_Bot],e)},t.binaryNamesToTypeList=function(e){let t=[];if(e)for(let n of e){const e=i.BinaryProperties.lookupByString(n);null!=e&&t.push(e.value)}return t},t.isSketchUpBinary=function(e){return e===r.enums.BinaryType.Skp_Unknown||null!==e.match(/^s\d*$/g)}},66708:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BinaryProperties=void 0;const r=n(25809),i="jpg",o="skp",s=[i,"jpeg","png"];class a{static sortBinaryTypeArray(e){return e.sort(((e,t)=>{const n=a.lookupByBinaryType(e),r=a.lookupByBinaryType(t);return null==n||null==r?null==n&&null==r?0:null==n?1:-1:null==n.relativeOrder||null==r.relativeOrder?null==n.relativeOrder&&null==r.relativeOrder?0:null==n.relativeOrder?1:-1:r.relativeOrder-n.relativeOrder}))}static lookupByBinaryType(e){for(let t of a.properties)if(t.value===e)return t;return null}static lookupByString(e){for(let t of a.properties)if(t.value===e)return t;return null}static isBinaryTypeDownloadable(e){const t=a.lookupByBinaryType(e);return!!t&&t.downloadable}static getBinaryExtensions(e){if(null!=e){const t=a.lookupByBinaryType(e);if(null!=t&&null!=t.extensions)return t.extensions}return[]}}t.BinaryProperties=a,a.properties=[{value:r.enums.BinaryType.Small_Thumbnail,downloadable:!1,uploadable:!0,extensions:[i]},{value:r.enums.BinaryType.Large_Thumbnail,downloadable:!1,uploadable:!0,extensions:[i]},{value:r.enums.BinaryType.Small_Thumbnail_Bot,downloadable:!1,uploadable:!1,extensions:[i]},{value:r.enums.BinaryType.Large_Thumbnail_Bot,downloadable:!1,uploadable:!1,extensions:[i]},{value:r.enums.BinaryType.Small_Thumbnail_Custom,downloadable:!1,uploadable:!0,extensions:s},{value:r.enums.BinaryType.Featured_Thumbnail_Custom,downloadable:!1,uploadable:!0,extensions:s},{value:r.enums.BinaryType.Catalog_Banner,downloadable:!1,uploadable:!1,extensions:[i]},{value:r.enums.BinaryType.Avatar,downloadable:!1,uploadable:!1,extensions:s},{value:r.enums.BinaryType.Swivel,downloadable:!1,uploadable:!1,extensions:[i],frameWidth:400,frameHeight:300},{value:r.enums.BinaryType.Swivel_Bot,downloadable:!1,uploadable:!1,extensions:[i],frameWidth:654,frameHeight:368},{value:r.enums.BinaryType.Skp_Unknown,downloadable:!1,uploadable:!1,extensions:[o]},{value:r.enums.BinaryType.Sketchup_5,downloadable:!1,uploadable:!0,extensions:[o],relativeOrder:2009},{value:r.enums.BinaryType.Sketchup_6,downloadable:!1,uploadable:!0,extensions:[o],relativeOrder:2010},{value:r.enums.BinaryType.Sketchup_7,downloadable:!1,uploadable:!0,extensions:[o],relativeOrder:2011},{value:r.enums.BinaryType.Sketchup_8,downloadable:!1,uploadable:!0,extensions:[o],relativeOrder:2012},{value:r.enums.BinaryType.Sketchup_2013,downloadable:!1,uploadable:!0,extensions:[o],relativeOrder:2013},{value:r.enums.BinaryType.Sketchup_2014,downloadable:!1,uploadable:!0,extensions:[o],relativeOrder:2014},{value:r.enums.BinaryType.Sketchup_2015,downloadable:!1,uploadable:!0,extensions:[o],relativeOrder:2015},{value:r.enums.BinaryType.Sketchup_2016,downloadable:!1,uploadable:!0,extensions:[o],relativeOrder:2016},{value:r.enums.BinaryType.Sketchup_2017,downloadable:!1,uploadable:!0,extensions:[o],relativeOrder:2017},{value:r.enums.BinaryType.Sketchup_2018,downloadable:!1,uploadable:!0,extensions:[o],relativeOrder:2018},{value:r.enums.BinaryType.Sketchup_2019,downloadable:!0,uploadable:!0,extensions:[o],relativeOrder:2019},{value:r.enums.BinaryType.Sketchup_2020,downloadable:!0,uploadable:!0,extensions:[o],relativeOrder:2020},{value:r.enums.BinaryType.Sketchup_2021,downloadable:!0,uploadable:!0,extensions:[o],relativeOrder:2021},{value:r.enums.BinaryType.Sketchup_2022,downloadable:!0,uploadable:!0,extensions:[o],relativeOrder:2022},{value:r.enums.BinaryType.Sketchup_2023,downloadable:!1,uploadable:!1,extensions:[o],relativeOrder:2023},{value:r.enums.BinaryType.Server_Gen_Kmz,downloadable:!1,uploadable:!1,extensions:["kmz"],relativeOrder:100},{value:r.enums.BinaryType.Sketchup_Gen_Kmz,downloadable:!1,uploadable:!0,extensions:["kmz"],relativeOrder:100},{value:r.enums.BinaryType.Collada,downloadable:!0,uploadable:!0,extensions:["zip"],relativeOrder:110},{value:r.enums.BinaryType.Stl,downloadable:!1,uploadable:!1,extensions:["stl"],relativeOrder:120},{value:r.enums.BinaryType.Gltf_Binary,downloadable:!0,uploadable:!1,extensions:["glb"],relativeOrder:130},{value:r.enums.BinaryType.Usdz,downloadable:!0,uploadable:!1,extensions:["usdz"],relativeOrder:140},{value:r.enums.BinaryType.Featured_Logo,downloadable:!1,uploadable:!0,extensions:[i]}]},66681:(e,t,n)=>{"use strict";t.fk=void 0;const r=n(84242),i=n(461),o=n(25809),s=n(81482),a=n(66708);t.fk=function(e,t,n,c){if(!((n=n||[]).length>0))return function(e,t,n){let c=0,u=null;const l=(0,i.parseSketchUpVersion)(n),h=(0,r.isSketchupMobileClient)(n);let d;if(l&&l.major&&(d=l.major),null!=d&&h&&d<5)return u;for(let n of e){if(-1!==t.indexOf(n))continue;const e=n+"";if((0,s.isSketchUpBinary)(e)){const t=parseInt(e.substr(1),10)||5;if(t>c){if(null!=d&&t>d&&!h)continue;a.BinaryProperties.isBinaryTypeDownloadable(n)&&(c=t,u=n)}}}return null!=u||h||(e.indexOf(o.enums.BinaryType.Server_Gen_Kmz)>=0?u=o.enums.BinaryType.Server_Gen_Kmz:e.indexOf(o.enums.BinaryType.Sketchup_Gen_Kmz)>=0&&(u=o.enums.BinaryType.Sketchup_Gen_Kmz)),u}(e,c||[],t);for(let t of n){const n=e.find((e=>e===t));if(null!=n)return n}return null}},97891:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLocaleInfo=t.isSameOrAfter=t.isBetween=t.subtract=t.add=t.isValidDate=t.startOfDate=t.getWeekDayNamesShort=t.getWeekDayNames=t.getMonthNamesShort=t.getMonthNames=t.convertYMDObjToYMDString=t.convertStringToYMDObj=t.convertYMDObjToMDYString=t.secondsSinceEpoch=t.nowAsYearMonthDayInUTC=t.nowAsYearMonthDay=t.toISOString=t.format=t.convertToYearMonthDay=t.convertToDate=t.daysBetween=t.addDays=void 0;const r=n(97e3);n(23634),n(29104),n(43769),n(89238),n(71249),n(53271),n(92318),n(94152),n(77986),n(69915),n(6909),n(11336),n(54385),n(69517);const i=n(19538),o=n(94149),s=n(91242);function a(e){return e instanceof Date?e:new Date(Date.UTC(e.year,e.month-1,e.day))}function c(e){return{year:e.getUTCFullYear(),month:e.getUTCMonth()+1,day:e.getUTCDate()}}r.extend(i),r.extend(o),r.extend(s),t.addDays=function(e,t){let n;if(e instanceof Date)n=new Date(e);else{const t=`${e.month}/${e.day}/${e.year}/`;n=new Date(t)}return n.setDate(n.getDate()+t),n},t.daysBetween=function(e,t){let n=r(a(e));return r(a(t)).diff(n,"days")},t.convertToDate=a,t.convertToYearMonthDay=c,t.format=function e(t,n=r().valueOf()){return n instanceof Date?e(t,r(n).valueOf()):"number"!=typeof n?e(t,a(n)):r(n).utc().format(t)},t.toISOString=function(e){return a(e).toISOString()},t.nowAsYearMonthDay=function(){return c(new Date)},t.nowAsYearMonthDayInUTC=function(){return c(new Date(Date.now()))},t.secondsSinceEpoch=function(){return Math.floor(Date.now()/1e3)},t.convertYMDObjToMDYString=function(e){return`${e.month}/${e.day}/${e.year}`},t.convertStringToYMDObj=function(e){return c(r.utc(e||"","YYYY-MM-DD").toDate())},t.convertYMDObjToYMDString=function(e){return null!=e?`${e.year}-${e.month}-${e.day}`:null},t.getMonthNames=function(){return["January","February","March","April","May","June","July","August","September","October","November","December"]},t.getMonthNamesShort=function(){return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},t.getWeekDayNames=function(){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},t.getWeekDayNamesShort=function(){return["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},t.startOfDate=function(e,t){return new Date(r(e).utc().startOf(t).valueOf())},t.isValidDate=function(e){return r(e).utc().isValid()},t.add=function(e,t,n){return new Date(r(e).utc().add(t,n).valueOf())},t.subtract=function(e,t,n){return new Date(r(e).utc().subtract(t,n).valueOf())},t.isBetween=function(e,t,n){return r(e).isAfter(t)&&r(e).isBefore(n)},t.isSameOrAfter=function(e,t){return e.getTime()>=t.getTime()},t.getLocaleInfo=function(e){const t=r().locale(e);return{longDateFormat:t.localeData().longDateFormat("L"),shortDateFormat:t.localeData().longDateFormat("l")}}},84242:(e,t)=>{"use strict";function n(e){let n=/(?:https?:\/\/)?(.+)?-(.+).sketchup.com/.exec(e),r="";if(null!==n&&3===n.length)null!==n[1]&&n[1].length>1&&(r=n[1]);else if(e.includes(t.LOCALDEV))return t.LOCALDEV;return r}Object.defineProperty(t,"__esModule",{value:!0}),t.parseStack=t.isProduction=t.isSketchupMobileClient=t.isSketchupClient=t.BASEWAREHOUSE=t.SANDBOX=t.LOCALDEV=t.STG=t.DEV=void 0,t.DEV="dev",t.STG="stg",t.LOCALDEV="localdev",t.SANDBOX="sandbox",t.BASEWAREHOUSE="3dwarehouse.sketchup.com",t.isSketchupClient=function(e){let t=e.toLowerCase();return t.indexOf("sketchup")>=0&&!(t.indexOf("mxr mobile sketchup")>=0)},t.isSketchupMobileClient=function(e){return e.toLowerCase().indexOf("mxr mobile sketchup")>=0},t.isProduction=function(e){let t=n(e.toString().toLowerCase());return e.getDomain().toLowerCase().indexOf("sketchup.com")>=0&&""===t},t.parseStack=n},95234:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.currencyForDisplay=t.numberForDisplay=t.setCurrencyDefaultFormat=t.setNumberDefaultFormat=void 0;const r=n(98302),i=n(94960);t.setNumberDefaultFormat=function(e=0,t=",",n="."){r.settings.number.precision=e,r.settings.number.thousand=t,r.settings.number.decimal=n},t.setCurrencyDefaultFormat=function(e=2,t=",",n=".",i="$",o=""){r.settings.currency.precision=e,r.settings.currency.thousand=t,r.settings.currency.decimal=n,r.settings.currency.symbol=i,r.settings.currency.format={pos:"%s%v",neg:"%s(%v)",zero:o}},t.numberForDisplay=function(e,t,n,o){let s="string"==typeof e?i(e).value():e;return null!=t||null!=n||null!=o?(t=t||r.settings.number.precision,n=n||r.settings.number.thousand,o=o||r.settings.number.decimal,null!==s?r.formatNumber(s,t,n,o):""):null!==s?r.formatNumber(s):""},t.currencyForDisplay=function(e,t,n,o,s){let a=i(e).value();return null!=t||null!=n||null!=o||null!=s?(t=t||r.settings.currency.precision,n=n||r.settings.currency.thousand,o=o||r.settings.currency.decimal,s=s||r.settings.currency.symbol,null!==a?r.formatMoney(a,s,t,n,o):""):null!==a?r.formatMoney(a):""}},22251:(e,t)=>{"use strict";function n(e){if(!e)return!1;let n=e.toLowerCase();for(let e of t.LANGUAGES)if(n===e.code)return!0;return!1}Object.defineProperty(t,"__esModule",{value:!0}),t.AccountsLanguage=t.getSanitizedLanguage=t.isLanguageSupported=t.LANGUAGES=void 0,t.LANGUAGES=[{code:"cs",name:"Czech",native:"čeština"},{code:"de",name:"German",native:"Deutsch"},{code:"en",name:"English",native:"English"},{code:"es",name:"Spanish",native:"Español"},{code:"fr",name:"French",native:"Français"},{code:"it",name:"Italian",native:"Italiano"},{code:"nl",name:"Dutch",native:"Nederlands"},{code:"pl",name:"Polish",native:"Polski"},{code:"pt-br",name:"Portuguese",native:"Português (Brasil)"},{code:"sv",name:"Swedish",native:"Svenska"},{code:"tr",name:"Turkish",native:"Türkçe"},{code:"ru",name:"Russian",native:"Русский"},{code:"ja",name:"Japanese",native:"日本語"},{code:"ko",name:"Korean",native:"한국어"},{code:"zh-cn",name:"Simplified Chinese",native:"简体中文"},{code:"zh-tw",name:"Traditional Chinese",native:"繁體中文"}],t.isLanguageSupported=n,t.getSanitizedLanguage=function(e){return n(e)?e:"en"},t.AccountsLanguage={de:"de",en:"en",es:"es",fr:"fr",it:"it",ja:"ja",ko:"ko",nl:"nl","pt-br":"pt-BR",ru:"ru",sv:"sv","zh-cn":"zh-CN","zh-tw":"zh-TW"}},28008:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.merge=t.cloneDeep=t.isEmpty=t.isEqual=void 0;const r=n(30454),i=n(90104),o=n(56141),s=n(15409);t.isEqual=function(e,t){return o(e,t)},t.isEmpty=function(e){return i(e)},t.cloneDeep=function(e){return r(e)},t.merge=function(e,t){return s(e,t)}},93946:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateObject=t.configure=void 0;const r=n(21530);let i;t.configure=function(e){i=e},t.validateObject=function(e,t,n=!1){if(void 0===i)throw new Error("ObjectValidator.configure must be called with a schema loader before objects can be validated!");let o=i(t);if(void 0===o)throw new Error(`Unknown schema '${t}'!`);let s=new r.default;n&&(o.additionalProperties=!1);let a=s.compile(o);if(!a(e)){let e="Invalid input";return null!=a.errors&&(e+=": ",e+=a.errors.map((e=>e.instancePath?`${e.instancePath} ${e.message}`:e.schemaPath?`${e.schemaPath} ${e.message}`:e.message)).filter((e=>void 0!==e)).join(", ")),e}}},27286:(e,t,n)=>{"use strict";t.zq=t.Ej=t.RQ=t.ar=void 0;const r=n(81059);function i(e){const t=e.lastIndexOf("/")+1;return e.slice(t)}t.ar=function(e){const t=i(e).replace(/\.+/g,"."),n=t.lastIndexOf(".");return n<=0?"":t.substr(n+1)},t.RQ=function(...e){if(0!==e.length){let t=e[0];for(let n of e.slice(1))(0,r.startsWith)(n,"/")?t=n:""==t||(0,r.endsWith)(t,"/")?t+=n:t+="/"+n;return t}return""},t.Ej=i,t.zq=function(e){const t=e.lastIndexOf("/")+1;let n=e.slice(0,t);return/^\/+$/.test(n)||(n=n.replace(/\/+$/,"")),n}},461:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseSketchUpVersion=void 0,t.parseSketchUpVersion=function(e){let t={major:void 0,minor:void 0},n=/SketchUp (Pro|Make)\/\d+\.\d+/i,r=e.match(n);if(r&&0!==r.length||(n=/SketchUp\/\d+\.\d+/i,r=e.match(n)),r&&r.length>0){const e=r[0],n=e.substring(e.indexOf("/")+1).split(".");let i=parseInt(n[0],10);t.major=isNaN(i)?void 0:i,i=parseInt(n[1],10),t.minor=isNaN(i)?void 0:i}return t}},81059:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.camelize=t.containsFromArray=t.titleCase=t.toSelectorCase=t.trim=t.toUrlPathSegment=t.endsWith=t.startsWith=t.makeSafe=t.getRandomString=t.isEmptyOrWhiteSpace=t.capitalize=t.caseInsensitiveCompare=t.buildString=void 0;const r=n(90104),i=n(55663),o=n(76744);function s(e){return i(e)}t.buildString=function(...e){return Array.prototype.join.call(e,"")},t.caseInsensitiveCompare=function(e,t){let n=String(e).toLowerCase(),r=String(t).toLowerCase();return n<r?-1:n===r?0:1},t.capitalize=function(e){return o(e)},t.isEmptyOrWhiteSpace=function(e){return r(i(e))},t.getRandomString=function(){let e=2147483648;return Math.floor(Math.random()*e).toString(36)+Math.abs(Math.floor(Math.random()*e)^Date.now()).toString(36)},t.makeSafe=function(e){return null==e?"":String(e)},t.startsWith=function(e,t){return 0===e.lastIndexOf(t,0)},t.endsWith=function(e,t){let n=e.length-t.length;return n>=0&&e.indexOf(t,n)==n},t.toUrlPathSegment=function(e){return s(e).replace(/&/g,"-and-").replace(/[^a-zA-Z0-9]+/g,"-").replace(/([a-z])([A-Z])/g,"$1-$2").replace(/\s+/g,"-").replace(/^-+|-+$/g,"").replace(/-{2,}/,"-").toLowerCase()},t.trim=s,t.toSelectorCase=function(e){return String(e).replace(/([A-Z])/g,"-$1").toLowerCase()},t.titleCase=function(e){let t=e.toLowerCase().split(" ");for(let e=0;e<t.length;e++)t[e]=t[e][0].toUpperCase()+t[e].slice(1);return t.join(" ")},t.containsFromArray=function(e,t,n){if(null!=e&&e.length>0&&null!=t&&t.length>0){e=!0===n?e.toLowerCase():e;for(let r of t)if(r=!0===n?r.toLowerCase():r,e.indexOf(r)>-1)return!0}return!1},t.camelize=function(e){return e.replace(/(?:^\w|[A-Z]|\b\w|\s+)/g,((e,t)=>0==+e?"":0===t?e.toLowerCase():e.toUpperCase()))}},63318:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.doesUrlHaveDomain=t.ensureUrlHasProtocol=t.getUrlOrigin=t.decodeCustomBase64=t.encodeCustomBase64=t.setPath=t.getHost=t.parseQueryFromUri=t.parseQuery=t.Uri=t.isStagingStackQueryParam=t.STACK_QUERY_PARAM=t.Stacks=void 0;const r=n(92471),i=n(81059);var o;!function(e){e.Local="localdev",e.Dev="dev",e.Sandbox="sandbox",e.Stg="stg",e.Prod="prod"}(o=t.Stacks||(t.Stacks={})),t.STACK_QUERY_PARAM="use_stacks",t.isStagingStackQueryParam=function(e){return e===o.Stg||e===o.Dev},r.escapeQuerySpace=!1;class s{constructor(e){this.uriImpl_=new r(e),this.parsedQueryString_=this.parseQueryString(this.uriImpl_.query())}setQuery(e,t){this.uriImpl_.setQuery(e,t)}setQueryString(e){this.uriImpl_.query(e)}getQuery(){return this.uriImpl_.query().replace("?","")}getQueryParam(e){return Object.getOwnPropertyNames(this.parsedQueryString_).indexOf(e)>-1&&this.parsedQueryString_[e]||""}removeQueryParam(e){this.uriImpl_.removeQuery(e),this.parsedQueryString_=this.parseQueryString(this.uriImpl_.query())}setFragment(e){this.uriImpl_.fragment(e)}getframent(){return this.uriImpl_.fragment()}decode(e){return decodeURIComponent(e.replace(/\+/g," "))}parseQueryString(e){let t,n=/([^=?&]+)=?([^&]*)/g,r={};for(;t=n.exec(e);){let e=this.decode(t[1]),n=this.decode(t[2]);e in r||(r[e]=n)}return r}hasQuery(){return!i.isEmptyOrWhiteSpace(this.getQuery())}getScheme(){return(this.uriImpl_.protocol()||"").replace(/:$/,"")}setScheme(e){this.uriImpl_.protocol(e)}getSubdomain(){return this.uriImpl_.subdomain()}getDomain(){return this.uriImpl_.hostname()}getPath(){let e=this.uriImpl_.path();return"/"===e&&(e=""),e}setPath(e){this.uriImpl_.path(e)}getHost(){return`${this.getScheme()}://${this.uriImpl_.host()}`}toString(){return this.uriImpl_.href()}}function a(e){return r.parseQuery(e)}t.Uri=s,t.parseQuery=a,t.parseQueryFromUri=function(e){var t;return{query:a(null!==(t=r.parse(e).query)&&void 0!==t?t:"")}},t.getHost=function(e){return new s(e).getHost()},t.setPath=function(e,t){let n=new s(e);n.setPath(t);let r=n.getPath().replace("//","/");return n.setPath(r),n.toString()},t.encodeCustomBase64=function(e){let t="undefined"==typeof window?Buffer.from(e).toString("base64"):btoa(e||"");return t=t.replace(/\+/g,"-"),t=t.replace(/\//g,"."),t=t.replace(/=/g,"_"),t},t.decodeCustomBase64=function(e){let t=e||"";return t=t.replace(/-/g,"+"),t=t.replace(/\./g,"/"),t=t.replace(/_/g,"="),t="undefined"==typeof window?Buffer.from(e).toString("base64"):btoa(e||""),e},t.getUrlOrigin=function(e){let t=new s(e);return t.setPath(""),t.setQueryString(""),t.setFragment(""),(e=t.toString()).endsWith("/")&&(e=e.substr(0,e.length-1)),e},t.ensureUrlHasProtocol=function(e,t="http"){if(!e)return"";if(""===(e=e.trim()))return"";let n=new s(e);return n.getScheme()||n.setScheme(t),n.toString()},t.doesUrlHaveDomain=function(e,t){return!e||""!==(e=e.trim())&&-1!==e.indexOf(t)}},12449:(e,t)=>{"use strict";var n,r,i,o;t.wK=t.GM=t.F6=t.he=void 0,(o=t.he||(t.he={})).SketchUpWeb="su-web",o.SketchUpDesktop="su-desktop",o.TrimbleConnect="trimble-connect",o.Warehouse3D="3dw",o.ExtensionWarehouse="ew",o.SketchUpMobileViewer="su-mobile",o.SketchUpViewerHololens="su-ar",o.SketchUpViewer="su-vr",o.Layout="lo-desktop",o.Sefaira="sefaira",o.StyleBuilder="sb-desktop",o.DesktopViewer="viewer-desktop",o.Marketing="su-marketing",o.Test="test",(i=t.F6||(t.F6={})).Web="web",i.Desktop="desktop",i.Mobile="mobile",i.HL="hl",i.OCR="ocr",i.HTC="htcv",i.MR="mr",(r=t.GM||(t.GM={})).ClosedApplication="Closed Application",r.ClickedUpgrade="Clicked Upgrade",r.DownloadFile="Download File",r.ExportedFile="Exported File",r.ImportedFile="Imported File",r.InsertEvent="Insert Event",r.InsertedFile="Inserted File",r.LaunchedApplication="Launched Application",r.LoggedIn="Logged In",r.LoggedOut="Logged Out",r.SelectedTemplate="Selected Template",r.SentFileToLayOut="Sent File To LayOut",r.UserInteraction="User Interaction",r.WebpageVisit="Webpage Visit",r.SkuChanged="Sku Changed",r.SavedFile="Saved File",r.OpenedRevisedFile="Opened Revised File",r.OpenedRecentFile="Opened Recent File",(n=t.wK||(t.wK={})).Windows="Windows",n.Mac="macOS",n.Chrome="ChromeOS",n.Linux="Linux",n.Xbox="Xbox",n.iOS="iOS",n.Android="Android",n.Playstation="Playstation",n.UWP="Universal Windows Platform"},2483:(e,t)=>{"use strict";var n,r;t.GM=t.he=void 0,(r=t.he||(t.he={})).SketchUpWeb="su-web",r.SketchUpDesktop="su-desktop",r.SketchUpContext="sketchup-context",r.TrimbleConnect="trimble-connect",r.Warehouse3D="3dw",r.ExtensionWarehouse="ew",r.SketchUpMobileViewer="su-mobile",r.SketchUpViewerHololens="su-ar",r.SketchUpViewer="su-vr",r.Layout="lo-desktop",r.LMS="lms",r.Sefaira="sefaira",r.Thaw="thaw",r.StyleBuilder="sb-desktop",r.DesktopViewer="viewer-desktop",r.Marketing="su-marketing",r.ScanEssentials="scan-essentials",r.VRay="vray",r.AddLocation="add-location",r.EMS="ems",r.Spaces="spaces",r.RevitImporter="revit-importer",r.Campus="campus",r.Test="test",(n=t.GM||(t.GM={})).AppleTransactionIdToTid="AppleTransactionIdToTid",n.DownloadedModel3DW="Downloaded Model - 3DW",n.LaunchedApplication="Launched Application",n.UpdatedProfile="Updated Profile"},46587:(e,t)=>{"use strict";var n,r,i;t.rK=t.bN=t.Fc=void 0,(i=t.Fc||(t.Fc={})).NoError="NO_ERROR",i.LoginRequired="LOG_IN_REQUIRED",i.Expired="EXPIRED",i.ErrorRetrievingEntitlement="ERROR_RETRIEVING_ENTITLEMENT",i.MalformedRequest="MALFORMED_REQUEST",i.DeviceLimitReached="DEVICE_LIMIT_REACHED",i.DeviceNotAuthorized="DEVICE_NOT_AUTHORIZED",i.UserNotEntitled="USER_NOT_ENTITLED",i.UnknownError="UNKNOWN_ERROR",(r=t.bN||(t.bN={}))[r.ENTERPRISE=1]="ENTERPRISE",r[r.STUDIO_UNI=1.5]="STUDIO_UNI",r[r.STUDIO=2]="STUDIO",r[r.PRO_SCAN=2.5]="PRO_SCAN",r[r.PRO=3]="PRO",r[r.SHOP=4]="SHOP",r[r.TRIAL=4.5]="TRIAL",r[r.FREE=5]="FREE",r[r.UNKNOWN=Number.MAX_SAFE_INTEGER]="UNKNOWN",(n=t.rK||(t.rK={}))[n.CHANNEL=1]="CHANNEL",n[n.REP=2]="REP",n[n.DIRECT=3]="DIRECT",n[n.UNKNOWN=Number.MAX_SAFE_INTEGER]="UNKNOWN"},64817:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ApiHandler=void 0;const r=n(28008),i=n(81059),o=n(63318),s=n(66162);class a{constructor(e){this.defaultContentType=s.ContentType.Warehouse3D,this.performAs=null,this.requestHandler=e}setRequestHandler(e){this.requestHandler=e}defaultSearchParams(e){let t=e||{};return t.offset=t.offset?t.offset:0,t.count=t.count?t.count:50,t.contentType=t.contentType||this.defaultContentType,t}static defaultBinaryMetadataParams(e){let t=e||{recordEvent:!1};return t.download=!!t.download&&t.download,t.fileName=t.download&&t.fileName?t.fileName:void 0,t.recordEvent=!!t.recordEvent&&t.recordEvent,t}async performApiRequest(e,t,n){if((!n||null==n.performAs||n.performAs)&&null!=this.performAs&&!(0,i.isEmptyOrWhiteSpace)(this.performAs)){const t=new o.Uri(e);t.setQuery("performAs",this.performAs),e=t.toString()}let r="/warehouse/v1.0"+e;return this.requestHandler.performRequest(r,t,n)}async setAttribute(e){let t={};t[e.name]={dataType:e.dataType,value:e.value};let n={};n[e.category]=t;let r=JSON.stringify(n),i=this.performApiRequest(`/${e.endpoint}/${e.subjectId}/attributes`,r,{method:s.HttpMethod.Patch});return a.getResponseDataOnly(i)}async postBinary(e,t,n,i,o,a,c){let u=`/${e}/${t}/binaries`,l={name:n,isMetadata:!1};if(l.isMetadata=null!=c?c:this.doesBinaryEndpointNeedIsMetadata(e,n),i.constructor===File){l.originalFilename=i.name;const e=/(?:\.([^.]+))?$/.exec(l.originalFilename);e&&e[1]===s.FileExtensions.SKP&&(i=new File([i],l.originalFilename,{type:s.HttpContentType.SKP}))}let h,d=new FormData;d.append("dto",JSON.stringify(l)),d.append("file",i),o&&(h=function(){let e=new XMLHttpRequest;return e.upload.addEventListener("progress",(function(e){if(e.lengthComputable){let t=e.loaded/e.total;o(t)}}),!1),e});let f={method:s.HttpMethod.Post,processData:!1,xhr:h,contentType:!1};return null!=a&&(f=r.merge(a,f)),this.performApiRequest(u,d,f)}doesBinaryEndpointNeedIsMetadata(e,t){const n=s.BinaryEndpoint;return[n.Users,n.Organizations].includes(e)||t.includes("custom")&&[n.Entities,n.Collections].includes(e)}async checkFeatureToggle(e,t,n){let r=this.performApiRequest(`/featuretoggles/${e}/${t}`,n);return a.getResponseDataOnly(r)}async checkFeatureToggles(e,t){let n=this.performApiRequest(`/featuretoggles/${e}`,t);return a.getResponseDataOnly(n)}async fetchCurrentUser(e){const t=this.performApiRequest("/users/me",e,{performAs:!1});return a.getResponseDataOnly(t)}async fetchEntitlements(){const e={method:s.HttpMethod.Get,performAs:!1},t=this.performApiRequest("/users/me/entitlements",null,e);return a.getResponseDataOnly(t)}async fetchUserDefaults(e,t){let n=this.performApiRequest(`/users/${e}/defaults`,t);return a.getResponseDataOnly(n)}async getUsers(e,t){const n={performAs:t};let r=this.performApiRequest("/users/",e,n);return a.getResponseDataOnly(r)}async fetchUserById(e,t){let n=this.performApiRequest("/users/"+e,t);return a.getResponseDataOnly(n)}async getOrganizations(e){let t=this.performApiRequest("/organizations",e);return a.getResponseDataOnly(t)}async getUserOrganizations(e){const t=`/users/${e}/organizations`,n=this.performApiRequest(t,{recordEvent:!0},{performAs:!1});return a.getResponseDataOnly(n)}async fetchOrgById(e,t){let n=this.performApiRequest(`/organizations/${e}`,t);return a.getResponseDataOnly(n)}async getCollections(e,t={}){const n=this.defaultSearchParams(e),r=this.performApiRequest("/collections",n,t);return a.getResponseDataOnly(r)}async getEntities(e,t={}){const n=this.defaultSearchParams(e),r=this.performApiRequest("/entities",n,t);return a.getResponseDataOnly(r)}async getPackages(e,t={}){const n=this.defaultSearchParams(e),r=this.performApiRequest("/packages",n,t);return a.getResponseDataOnly(r)}async getItems(e,t={}){const n=this.defaultSearchParams(e),r=this.performApiRequest("/items",n,t);return a.getResponseDataOnly(r)}async getPackageChildren(e,t,n={}){const r=this.performApiRequest(`/packages/${e}/entities`,t,n);return a.getResponseDataOnly(r)}async getMaterials(e,t={}){const n=this.defaultSearchParams(e),r=this.performApiRequest("/materials",n,t);return a.getResponseDataOnly(r)}async getMaterial(e,t,n={}){const r=this.performApiRequest("/materials/"+e,t,n);return a.getResponseDataOnly(r)}async getEntity(e,t,n={}){const r=this.performApiRequest("/entities/"+e,t,n);return a.getResponseDataOnly(r)}async getPackage(e,t,n={}){const r=this.performApiRequest("/packages/"+e,t,n);return a.getResponseDataOnly(r)}async getCollection(e,t,n={}){const r=this.performApiRequest("/collections/"+e,t,n);return a.getResponseDataOnly(r)}async getAutoCompleteSuggestions(e){let t=this.performApiRequest("/suggestions",e);return a.getResponseDataOnly(t)}async getBinaryMetadata(e,t,n){let r=a.defaultBinaryMetadataParams(n);const i="/"+t+"/"+e+"/binaries";let o=this.performApiRequest(i,r);return a.getResponseDataOnly(o)}async migrateUserEvents(e,t){let n=this.getUserAnalyticsPath(e,"/migrateuserevents"),r=JSON.stringify({toCreatorId:t}),i=this.performApiRequest(n,r,{method:s.HttpMethod.Put});return a.getResponseDataOnly(i)}async getTotalUserEvents(e,t){let n=this.getUserAnalyticsPath(e,"/totaluserevents"),r=this.performApiRequest(n,t);return a.getResponseDataOnly(r)}async getAvailableDateRange(e,t){let n=this.getUserAnalyticsPath(e,"/availabledaterange"),r=this.performApiRequest(n,t);return a.getResponseDataOnly(r)}async getGeoData(e,t,n,r,i){let o=this.getUserAnalyticsPath(e,"/geodata"),s={recordEvent:!1,creatorId:e,startDate:t,endDate:n};r&&(s.itemId=r),i&&(s.countryCode=i);let c=this.performApiRequest(o,s);return a.getResponseDataOnly(c)}async getLineChartData(e,t,n,r,i){let o=this.getUserAnalyticsPath(e,"/linechart"),s={recordEvent:!1,creatorId:e,startDate:t,endDate:n};r&&(s.itemId=r),i&&(s.countryCode=i);let c=this.performApiRequest(o,s);return a.getResponseDataOnly(c)}async getTableData(e,t,n,r,i){let o=this.getUserAnalyticsPath(e,"/tabledata"),s={recordEvent:!1,creatorId:e,startDate:t,endDate:n};r&&(s.itemId=r),i&&(s.countryCode=i);let c=this.performApiRequest(o,s);return a.getResponseDataOnly(c)}async getTotalMetrics(e,t,n,r,i){let o=this.getUserAnalyticsPath(e,"/totalmetrics"),s={recordEvent:!1,creatorId:e,startDate:t,endDate:n};r&&(s.itemId=r),i&&(s.countryCode=i);let c=this.performApiRequest(o,s);return a.getResponseDataOnly(c)}getUserAnalyticsPath(e,t){return"/useranalytics/"+e+t}async create3dwEntity(e){let t={title:e.title,description:e.description,isPrivate:e.isPrivate,isHidden:!0,contentType:s.ContentType.Warehouse3D,details:"",type:"SKETCHUP_MODEL",attributes:e.attributes,externalUrl:e.externalUrl},n=JSON.stringify(t),r={method:s.HttpMethod.Post,dataType:"text"};return this.performApiRequest("/entities",n,r).then((e=>e.headers["whp-id"]))}async renderBinary(e,t){let n=JSON.stringify({entity:e,name:t,jobType:s.JobType.RenderBot,progress:0,status:s.JobStatus.NotStarted});return this.performApiRequest("/jobs/",n,{method:s.HttpMethod.Post})}async deleteEntity(e){let t="/entities/"+e;return this.performApiRequest(t,void 0,{method:s.HttpMethod.Delete})}async updateEntity(e,t){let n="/entities/"+e,r=JSON.stringify(t);return this.performApiRequest(n,r,{method:s.HttpMethod.Patch})}async postEntityBinary(e,t,n,r){return this.postBinary(s.BinaryEndpoint.Entities,e,t,n,r)}static async getResponseDataOnly(e){return e.then((e=>Promise.resolve(e.data)),(e=>Promise.reject(e.data)))}}t.ApiHandler=a},72001:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Analytics=void 0;const r=n(25809),i=n(97891),o=n(84242),s="analytics.sketchup.com";t.Analytics=class{constructor(e,t){this.requestHandler=e;let n="";n=(0,o.isProduction)(t)?`https://${s}`:`https://stg-${s}`,this.apiUrl=n+"/event"}sendEvent(e,t,n,o=null,s="v2"){const a=(0,i.secondsSinceEpoch)(),c={app_name:e,event_type:t,event_properties:n,api_version:s,session_id:o||a},u={method:r.enums.HttpMethod.Post};let l=JSON.stringify(c);return this.requestHandler.performRequest(this.apiUrl,l,u)}}},96538:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClientRequestHandler=void 0;const r=n(80704),i=n(66162),o=n(41515);class s extends o.RequestHandler{constructor(){super(),this._domain=s.defaultDomain}set domain(e){this._domain=e}async performRequest(e,t,n){let o=n||{};const s=o.method||i.HttpMethod.Get;let c=e,u=o.domain?o.domain:this._domain||"";u&&(c=u+e);let l,h=o.contentType;return s!==i.HttpMethod.Put&&s!==i.HttpMethod.Post&&s!==i.HttpMethod.Patch||void 0===h&&(h="application/json; charset=utf-8"),o.xhr&&(l=o.xhr),new Promise(((e,n)=>{r.ajax(c,{crossDomain:!0,contentType:h,data:t,dataType:o.dataType,headers:o.headers,method:s,processData:o.processData,xhr:l,xhrFields:{withCredentials:!0},success:(t,n,r)=>{let i={data:t,status:r.status,headers:a(r)};e(i)},error:e=>{let t={data:e,status:e.status,headers:a(e)};n(t)}})}))}static setDefaultDomain(e){s.defaultDomain=e}}function a(e){let t={},n=e.getAllResponseHeaders();return n&&n.trim().split(/[\r\n]+/).forEach((e=>{let n=e.split(": "),r=n.shift(),i=n.join(": ");t[r]=i})),t}t.ClientRequestHandler=s},98057:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.matchEmbeddedAppParams=t.isEmbeddedThirdParty=t.generateWhpSignOutUrl=t.generateWhpSignInUrl=t.SKETCHUP_IDP_LOGOUT=t.SKETCHUP_IDP_LOGIN=t.SKETCHUP_IDP_PREFIX_STAGE=t.SKETCHUP_IDP_PREFIX=t.WHP_V1_API_BASE=void 0;const r=n(87890),i=n(84242),o=n(22251);function s(e,t){let n="";return""!==(t=null!=t?t:i.parseStack(e.toString().toLowerCase()))?(t===i.LOCALDEV&&(t=i.DEV),n="https://"+t+"-"+i.BASEWAREHOUSE):n="https://"+i.BASEWAREHOUSE,n}function a(e){let t=e||"";return o.AccountsLanguage[t.toLowerCase()]||o.AccountsLanguage.en}function c(e,t){(i.isSketchupClient(t)||u(t))&&e.setQuery("skpActionType","SKETCHUP_CLIENT")}function u(e){if(null==(e=e.trim())||0===e.length)return!1;const t=l(e);return null!=t&&t.length>=3}function l(e){const t=e;t.replace(/[\n|\s]/g,"");const n=new RegExp(['{"3dw":({"appName":"w+",','"apiKey":"[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{3}-[0-9a-f]{3}-[0-9a-f]{12}"',',"preferredFormats":[(("w+",{1})*"w+"),?]})}'].join(""),"i");return t.match(n)||[]}t.WHP_V1_API_BASE="/warehouse/v1.0",t.SKETCHUP_IDP_PREFIX="https://login.sketchup.com/",t.SKETCHUP_IDP_PREFIX_STAGE="https://stg-login.sketchup.com/",t.SKETCHUP_IDP_LOGIN="/user/login",t.SKETCHUP_IDP_LOGOUT="/user/logout",t.generateWhpSignInUrl=function(e,n,o,u,l,h=!1){let d=a(u),f=new r.uri.Uri(e);f.setQuery("login","true"),"true"===f.getQueryParam("logout")&&f.removeQueryParam("logout");let p=function(e,n){let i=r.uri.encodeCustomBase64(e.toString()),o=s(e,n),a=new r.uri.Uri(r.uri.getUrlOrigin(o));return a.setPath(t.WHP_V1_API_BASE+"/loginflow/authenticateCallback"),a.setQuery("url",i),a.toString()}(f,l),m=new r.uri.Uri(n);m.setQuery("msg","Failed to sign in.");let g=t.SKETCHUP_IDP_PREFIX;h||i.isProduction(f)||(g=t.SKETCHUP_IDP_PREFIX_STAGE);let v=new r.uri.Uri(g);return v.setPath("/"+d+t.SKETCHUP_IDP_LOGIN),v.setQuery("destination64",r.uri.encodeCustomBase64(p)),v.setQuery("failureDestination64",r.uri.encodeCustomBase64(m.toString())),c(v,o),v.toString()},t.generateWhpSignOutUrl=function(e,n,o,u,l,h=!1){l=null!=l?l:i.parseStack(n.toString().toLowerCase());let d=a(u),f=new r.uri.Uri(n);f.setQuery("logout","true");let p=new r.uri.Uri(e),m=t.SKETCHUP_IDP_PREFIX;h||i.isProduction(p)||(m=t.SKETCHUP_IDP_PREFIX_STAGE);let g=new r.uri.Uri(m);g.setPath("/"+d+t.SKETCHUP_IDP_LOGOUT),g.setQuery("destination64",r.uri.encodeCustomBase64(f.toString()));let v=function(e,n){let i=s(e,n),o=new r.uri.Uri(r.uri.getUrlOrigin(i));return o.setPath(t.WHP_V1_API_BASE+"/loginflow/logout"),o.setQuery("successUrl",e.toString()),o.toString()}(g,l),y=new r.uri.Uri(v);return c(y,o),y.toString()},t.isEmbeddedThirdParty=u,t.matchEmbeddedAppParams=l},46168:(e,t,n)=>{"use strict";t.v9=void 0,n(98057);n(72001);var r=n(96538);Object.defineProperty(t,"v9",{enumerable:!0,get:function(){return r.ClientRequestHandler}})},66162:(e,t)=>{"use strict";var n,r,i,o,s,a,c,u,l,h,d,f,p;Object.defineProperty(t,"__esModule",{value:!0}),t.LcIframeEvent=t.UserRole=t.Region=t.PrivacyLevel=t.HttpMethod=t.JobType=t.JobStatus=t.ExternalResourceType=t.DataStoreSubjectClass=t.ContentType=t.HttpContentType=t.FileExtensions=t.BinaryType=t.BinaryEndpoint=t.AttributeEndpoint=void 0,(p=t.AttributeEndpoint||(t.AttributeEndpoint={})).Collections="collections",p.Entities="entities",p.Materials="materials",p.Organizations="organizations",p.Packages="packages",p.Users="users",(f=t.BinaryEndpoint||(t.BinaryEndpoint={})).Collections="collections",f.Entities="entities",f.Materials="materials",f.Organizations="organizations",f.Packages="packages",f.Users="users",(d=t.BinaryType||(t.BinaryType={})).Small_Thumbnail="st",d.Large_Thumbnail="lt",d.Tiny_Thumbnail_Bot="bot_tt",d.Small_Thumbnail_Bot="bot_st",d.Large_Thumbnail_Bot="bot_lt",d.Tiny_Webp_Thumbnail_Bot="bot_tt_wp",d.Small_Webp_Thumbnail_Bot="bot_st_wp",d.Large_Webp_Thumbnail_Bot="bot_lt_wp",d.Small_Thumbnail_Custom="custom_st",d.Featured_Thumbnail_Custom="custom_ft",d.Catalog_Banner="cbanner",d.Avatar="avatar",d.Avatar_Preview="avatar_preview",d.Stl="stl",d.Swivel="smontage",d.Swivel_Bot="bot_smontage",d.Skp_Unknown="skp_unknown",d.Sketchup_5="s",d.Sketchup_6="s6",d.Sketchup_7="s7",d.Sketchup_8="s8",d.Sketchup_2013="s13",d.Sketchup_2014="s14",d.Sketchup_2015="s15",d.Sketchup_2016="s16",d.Sketchup_2017="s17",d.Sketchup_2018="s18",d.Sketchup_2019="s19",d.Sketchup_2020="s20",d.Sketchup_2021="s21",d.Sketchup_2022="s22",d.Sketchup_2023="s23",d.Server_Gen_Kmz="ks",d.Sketchup_Gen_Kmz="k2",d.Collada="zip",d.Skm="skm",d.Gltf_Binary="glb",d.Featured_Logo="featured_logo",d.Usdz="usdz",d.User_Analytics_Csv="user_analytics_csv",d.Tekla_Thumbnail="thumbnail_3d",d.Skp_File_Thumbnail="skp_file_thumb",d.Live_Component="live_component",d.Featured_Content_Thumb_1="fc_thumb_1",d.Featured_Content_Thumb_2="fc_thumb_2",d.Profile_Banner="profile_banner",(t.FileExtensions||(t.FileExtensions={})).SKP="skp",(t.HttpContentType||(t.HttpContentType={})).SKP="application/vnd.sketchup.skp",(h=t.ContentType||(t.ContentType={})).MEP="mep",h.Warehouse3D="3dw",h.SEW="sew",h.CDG="cdg",h.Tekla="twh",(l=t.DataStoreSubjectClass||(t.DataStoreSubjectClass={})).Binary="binary",l.Collection="collection",l.Entity="entity",l.Material="material",l.Package="package",(u=t.ExternalResourceType||(t.ExternalResourceType={})).Entitlement="entitlement",u.Org="organization",u.User="user",u.Group="workGroup",(c=t.JobStatus||(t.JobStatus={})).NotStarted="NOT_STARTED",c.InProgress="IN_PROGRESS",c.Success="SUCCESS",c.Failure="FAILURE",(a=t.JobType||(t.JobType={})).RenderBot="RENDER_BOT",a.NewModel="NEW_MODEL",(s=t.HttpMethod||(t.HttpMethod={})).Get="GET",s.Post="POST",s.Put="PUT",s.Patch="PATCH",s.Delete="DELETE",(o=t.PrivacyLevel||(t.PrivacyLevel={})).Public="public",o.Private="private",o.All="all",(i=t.Region||(t.Region={})).USWest2="us-west-2",i.EUCentral1="eu-central-1",i.APSoutheast1="ap-southeast",(r=t.UserRole||(t.UserRole={})).Admin="admin",r.Manufacturer="manufacturer",(n=t.LcIframeEvent||(t.LcIframeEvent={})).LcLoadComplete="load-lc-complete",n.LcDownloadComplete="download-lc-complete"},83515:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},41515:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RequestHandler=void 0,t.RequestHandler=class{}},13135:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateGetBinaryPath=void 0;const r=n(25809);t.generateGetBinaryPath=function(e,t,n,i,o,s){const a=function(e){return e===r.enums.DataStoreSubjectClass.Entity?r.enums.BinaryEndpoint.Entities:e===r.enums.DataStoreSubjectClass.Collection?r.enums.BinaryEndpoint.Collections:e===r.enums.DataStoreSubjectClass.Material?r.enums.BinaryEndpoint.Materials:null}(t);let c=`download=${!!o}&recordEvent=${!!i}`;return c+=s?`&sharingToken=${s}`:"",`/warehouse/v1.0/${a}/${e}/binaries/${n}?${c}`}},42921:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},63918:(e,t)=>{"use strict";var n;function r(e,t){return null!=e&&0!==e.length&&e.indexOf(t)>=0}function i(e,t){for(let n of t)if(r(e,n))return!0;return!1}Object.defineProperty(t,"__esModule",{value:!0}),t.isAdminOrManufacturer=t.isVendor=t.isSales=t.isModerator=t.isManufacturer=t.isDeveloper=t.isBot=t.isBetaTester=t.isAnalyst=t.isAdmin=t.isInAnyRole=t.userHasRole=t.UserRoles=void 0,function(e){e.ADMIN="admin",e.ANALYST="analyst",e.BOT="bot",e.BETA_TESTER="betaTester",e.DEVELOPER="developer",e.MANUFACTURER="manufacturer",e.MODERATOR="moderator",e.SALES="sales",e.VENDOR="vendor"}(n=t.UserRoles||(t.UserRoles={})),t.userHasRole=r,t.isInAnyRole=i,t.isAdmin=function(e){return r(e,n.ADMIN)},t.isAnalyst=function(e){return r(e,n.ANALYST)},t.isBetaTester=function(e){return r(e,n.BETA_TESTER)},t.isBot=function(e){return r(e,n.BOT)},t.isDeveloper=function(e){return r(e,n.DEVELOPER)},t.isManufacturer=function(e){return r(e,n.MANUFACTURER)},t.isModerator=function(e){return r(e,n.MODERATOR)},t.isSales=function(e){return r(e,n.SALES)},t.isVendor=function(e){return r(e,n.VENDOR)},t.isAdminOrManufacturer=function(e){return i(e,[n.ADMIN,n.MANUFACTURER])}},25809:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.userUtils=t.userAnalytics=t.urlUtils=t.requestHandler=t.interfaces=t.enums=t.apiHandler=void 0;const r=n(64817);t.apiHandler=r;const i=n(66162);t.enums=i;const o=n(83515);t.interfaces=o;const s=n(41515);t.requestHandler=s;const a=n(13135);t.urlUtils=a;const c=n(42921);t.userAnalytics=c;const u=n(63918);t.userUtils=u},87890:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uri=t.string=t.objectValidator=t.object=t.languages=t.format=t.environment=t.dateUtil=void 0;const r=n(97891);t.dateUtil=r;const i=n(84242);t.environment=i;const o=n(95234);t.format=o;const s=n(22251);t.languages=s;const a=n(28008);t.object=a;const c=n(93946);t.objectValidator=c;const u=n(81059);t.string=u;const l=n(63318);t.uri=l},97e3:function(e){e.exports=function(){"use strict";var e=6e4,t=36e5,n="millisecond",r="second",i="minute",o="hour",s="day",a="week",c="month",u="quarter",l="year",h="date",d="Invalid Date",f=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,p=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},g=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},v={s:g,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),i=n%60;return(t<=0?"+":"-")+g(r,2,"0")+":"+g(i,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),i=t.clone().add(r,c),o=n-i<0,s=t.clone().add(r+(o?-1:1),c);return+(-(r+(n-i)/(o?i-s:s-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:c,y:l,w:a,d:s,D:h,h:o,m:i,s:r,ms:n,Q:u}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},y="en",b={};b[y]=m;var w=function(e){return e instanceof C},S=function e(t,n,r){var i;if(!t)return y;if("string"==typeof t){var o=t.toLowerCase();b[o]&&(i=o),n&&(b[o]=n,i=o);var s=t.split("-");if(!i&&s.length>1)return e(s[0])}else{var a=t.name;b[a]=t,i=a}return!r&&i&&(y=i),i||!r&&y},_=function(e,t){if(w(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new C(n)},x=v;x.l=S,x.i=w,x.w=function(e,t){return _(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var C=function(){function m(e){this.$L=S(e.locale,null,!0),this.parse(e)}var g=m.prototype;return g.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(x.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(f);if(r){var i=r[2]-1||0,o=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},g.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},g.$utils=function(){return x},g.isValid=function(){return!(this.$d.toString()===d)},g.isSame=function(e,t){var n=_(e);return this.startOf(t)<=n&&n<=this.endOf(t)},g.isAfter=function(e,t){return _(e)<this.startOf(t)},g.isBefore=function(e,t){return this.endOf(t)<_(e)},g.$g=function(e,t,n){return x.u(e)?this[t]:this.set(n,e)},g.unix=function(){return Math.floor(this.valueOf()/1e3)},g.valueOf=function(){return this.$d.getTime()},g.startOf=function(e,t){var n=this,u=!!x.u(t)||t,d=x.p(e),f=function(e,t){var r=x.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return u?r:r.endOf(s)},p=function(e,t){return x.w(n.toDate()[e].apply(n.toDate("s"),(u?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},m=this.$W,g=this.$M,v=this.$D,y="set"+(this.$u?"UTC":"");switch(d){case l:return u?f(1,0):f(31,11);case c:return u?f(1,g):f(0,g+1);case a:var b=this.$locale().weekStart||0,w=(m<b?m+7:m)-b;return f(u?v-w:v+(6-w),g);case s:case h:return p(y+"Hours",0);case o:return p(y+"Minutes",1);case i:return p(y+"Seconds",2);case r:return p(y+"Milliseconds",3);default:return this.clone()}},g.endOf=function(e){return this.startOf(e,!1)},g.$set=function(e,t){var a,u=x.p(e),d="set"+(this.$u?"UTC":""),f=(a={},a[s]=d+"Date",a[h]=d+"Date",a[c]=d+"Month",a[l]=d+"FullYear",a[o]=d+"Hours",a[i]=d+"Minutes",a[r]=d+"Seconds",a[n]=d+"Milliseconds",a)[u],p=u===s?this.$D+(t-this.$W):t;if(u===c||u===l){var m=this.clone().set(h,1);m.$d[f](p),m.init(),this.$d=m.set(h,Math.min(this.$D,m.daysInMonth())).$d}else f&&this.$d[f](p);return this.init(),this},g.set=function(e,t){return this.clone().$set(e,t)},g.get=function(e){return this[x.p(e)]()},g.add=function(n,u){var h,d=this;n=Number(n);var f=x.p(u),p=function(e){var t=_(d);return x.w(t.date(t.date()+Math.round(e*n)),d)};if(f===c)return this.set(c,this.$M+n);if(f===l)return this.set(l,this.$y+n);if(f===s)return p(1);if(f===a)return p(7);var m=(h={},h[i]=e,h[o]=t,h[r]=1e3,h)[f]||1,g=this.$d.getTime()+n*m;return x.w(g,this)},g.subtract=function(e,t){return this.add(-1*e,t)},g.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||d;var r=e||"YYYY-MM-DDTHH:mm:ssZ",i=x.z(this),o=this.$H,s=this.$m,a=this.$M,c=n.weekdays,u=n.months,l=function(e,n,i,o){return e&&(e[n]||e(t,r))||i[n].slice(0,o)},h=function(e){return x.s(o%12||12,e,"0")},f=n.meridiem||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r},m={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:x.s(a+1,2,"0"),MMM:l(n.monthsShort,a,u,3),MMMM:l(u,a),D:this.$D,DD:x.s(this.$D,2,"0"),d:String(this.$W),dd:l(n.weekdaysMin,this.$W,c,2),ddd:l(n.weekdaysShort,this.$W,c,3),dddd:c[this.$W],H:String(o),HH:x.s(o,2,"0"),h:h(1),hh:h(2),a:f(o,s,!0),A:f(o,s,!1),m:String(s),mm:x.s(s,2,"0"),s:String(this.$s),ss:x.s(this.$s,2,"0"),SSS:x.s(this.$ms,3,"0"),Z:i};return r.replace(p,(function(e,t){return t||m[e]||i.replace(":","")}))},g.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},g.diff=function(n,h,d){var f,p=x.p(h),m=_(n),g=(m.utcOffset()-this.utcOffset())*e,v=this-m,y=x.m(this,m);return y=(f={},f[l]=y/12,f[c]=y,f[u]=y/3,f[a]=(v-g)/6048e5,f[s]=(v-g)/864e5,f[o]=v/t,f[i]=v/e,f[r]=v/1e3,f)[p]||v,d?y:x.a(y)},g.daysInMonth=function(){return this.endOf(c).$D},g.$locale=function(){return b[this.$L]},g.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=S(e,t,!0);return r&&(n.$L=r),n},g.clone=function(){return x.w(this.$d,this)},g.toDate=function(){return new Date(this.valueOf())},g.toJSON=function(){return this.isValid()?this.toISOString():null},g.toISOString=function(){return this.$d.toISOString()},g.toString=function(){return this.$d.toUTCString()},m}(),E=C.prototype;return _.prototype=E,[["$ms",n],["$s",r],["$m",i],["$H",o],["$W",s],["$M",c],["$y",l],["$D",h]].forEach((function(e){E[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),_.extend=function(e,t){return e.$i||(e(t,C,_),e.$i=!0),_},_.locale=S,_.isDayjs=w,_.unix=function(e){return _(1e3*e)},_.en=b[y],_.Ls=b,_.p={},_}()},23634:function(e,t,n){e.exports=function(e){"use strict";var t=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(e),n={s:"ein paar Sekunden",m:["eine Minute","einer Minute"],mm:"%d Minuten",h:["eine Stunde","einer Stunde"],hh:"%d Stunden",d:["ein Tag","einem Tag"],dd:["%d Tage","%d Tagen"],M:["ein Monat","einem Monat"],MM:["%d Monate","%d Monaten"],y:["ein Jahr","einem Jahr"],yy:["%d Jahre","%d Jahren"]};function r(e,t,r){var i=n[r];return Array.isArray(i)&&(i=i[t?0:1]),i.replace("%d",e)}var i={name:"de",weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._März_Apr._Mai_Juni_Juli_Aug._Sept._Okt._Nov._Dez.".split("_"),ordinal:function(e){return e+"."},weekStart:1,yearStart:4,formats:{LTS:"HH:mm:ss",LT:"HH:mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},relativeTime:{future:"in %s",past:"vor %s",s:r,m:r,mm:r,h:r,hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r}};return t.default.locale(i,null,!0),i}(n(97e3))},43769:function(e,t,n){e.exports=function(e){"use strict";var t=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(e),n={name:"en-gb",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekStart:1,yearStart:4,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}};return t.default.locale(n,null,!0),n}(n(97e3))},29104:function(e){e.exports=function(){"use strict";return{name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}}}()},89238:function(e,t,n){e.exports=function(e){"use strict";var t=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(e),n={name:"es",monthsShort:"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),weekStart:1,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},ordinal:function(e){return e+"º"}};return t.default.locale(n,null,!0),n}(n(97e3))},71249:function(e,t,n){e.exports=function(e){"use strict";var t=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(e),n={name:"fr",weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinal:function(e){return e+(1===e?"er":"")}};return t.default.locale(n,null,!0),n}(n(97e3))},53271:function(e,t,n){e.exports=function(e){"use strict";var t=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(e),n={name:"it",weekdays:"domenica_lunedì_martedì_mercoledì_giovedì_venerdì_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),weekStart:1,monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"tra %s",past:"%s fa",s:"qualche secondo",m:"un minuto",mm:"%d minuti",h:"un' ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},ordinal:function(e){return e+"º"}};return t.default.locale(n,null,!0),n}(n(97e3))},92318:function(e,t,n){e.exports=function(e){"use strict";var t=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(e),n={name:"ja",weekdays:"日曜日_月曜日_火曜日_水曜日_木曜日_金曜日_土曜日".split("_"),weekdaysShort:"日_月_火_水_木_金_土".split("_"),weekdaysMin:"日_月_火_水_木_金_土".split("_"),months:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(e){return e+"日"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日 dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日(ddd) HH:mm"},meridiem:function(e){return e<12?"午前":"午後"},relativeTime:{future:"%s後",past:"%s前",s:"数秒",m:"1分",mm:"%d分",h:"1時間",hh:"%d時間",d:"1日",dd:"%d日",M:"1ヶ月",MM:"%dヶ月",y:"1年",yy:"%d年"}};return t.default.locale(n,null,!0),n}(n(97e3))},94152:function(e,t,n){e.exports=function(e){"use strict";var t=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(e),n={name:"ko",weekdays:"일요일_월요일_화요일_수요일_목요일_금요일_토요일".split("_"),weekdaysShort:"일_월_화_수_목_금_토".split("_"),weekdaysMin:"일_월_화_수_목_금_토".split("_"),months:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),monthsShort:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),ordinal:function(e){return e},formats:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY년 MMMM D일",LLL:"YYYY년 MMMM D일 A h:mm",LLLL:"YYYY년 MMMM D일 dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY년 MMMM D일",lll:"YYYY년 MMMM D일 A h:mm",llll:"YYYY년 MMMM D일 dddd A h:mm"},meridiem:function(e){return e<12?"오전":"오후"},relativeTime:{future:"%s 후",past:"%s 전",s:"몇 초",m:"1분",mm:"%d분",h:"한 시간",hh:"%d시간",d:"하루",dd:"%d일",M:"한 달",MM:"%d달",y:"일 년",yy:"%d년"}};return t.default.locale(n,null,!0),n}(n(97e3))},77986:function(e,t,n){e.exports=function(e){"use strict";var t=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(e),n={name:"nl",weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),ordinal:function(e){return"["+e+(1===e||8===e||e>=20?"ste":"de")+"]"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"een minuut",mm:"%d minuten",h:"een uur",hh:"%d uur",d:"een dag",dd:"%d dagen",M:"een maand",MM:"%d maanden",y:"een jaar",yy:"%d jaar"}};return t.default.locale(n,null,!0),n}(n(97e3))},69915:function(e,t,n){e.exports=function(e){"use strict";var t=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(e),n={name:"pt-br",weekdays:"domingo_segunda-feira_terça-feira_quarta-feira_quinta-feira_sexta-feira_sábado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sáb".split("_"),weekdaysMin:"Do_2ª_3ª_4ª_5ª_6ª_Sá".split("_"),months:"janeiro_fevereiro_março_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),ordinal:function(e){return e+"º"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [às] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [às] HH:mm"},relativeTime:{future:"em %s",past:"há %s",s:"poucos segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"}};return t.default.locale(n,null,!0),n}(n(97e3))},6909:function(e,t,n){e.exports=function(e){"use strict";var t=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(e),n="января_февраля_марта_апреля_мая_июня_июля_августа_сентября_октября_ноября_декабря".split("_"),r="январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_"),i="янв._февр._мар._апр._мая_июня_июля_авг._сент._окт._нояб._дек.".split("_"),o="янв._февр._март_апр._май_июнь_июль_авг._сент._окт._нояб._дек.".split("_"),s=/D[oD]?(\[[^[\]]*\]|\s)+MMMM?/;function a(e,t,n){var r,i;return"m"===n?t?"минута":"минуту":e+" "+(r=+e,i={mm:t?"минута_минуты_минут":"минуту_минуты_минут",hh:"час_часа_часов",dd:"день_дня_дней",MM:"месяц_месяца_месяцев",yy:"год_года_лет"}[n].split("_"),r%10==1&&r%100!=11?i[0]:r%10>=2&&r%10<=4&&(r%100<10||r%100>=20)?i[1]:i[2])}var c=function(e,t){return s.test(t)?n[e.month()]:r[e.month()]};c.s=r,c.f=n;var u=function(e,t){return s.test(t)?i[e.month()]:o[e.month()]};u.s=o,u.f=i;var l={name:"ru",weekdays:"воскресенье_понедельник_вторник_среда_четверг_пятница_суббота".split("_"),weekdaysShort:"вск_пнд_втр_срд_чтв_птн_сбт".split("_"),weekdaysMin:"вс_пн_вт_ср_чт_пт_сб".split("_"),months:c,monthsShort:u,weekStart:1,yearStart:4,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., H:mm",LLLL:"dddd, D MMMM YYYY г., H:mm"},relativeTime:{future:"через %s",past:"%s назад",s:"несколько секунд",m:a,mm:a,h:"час",hh:a,d:"день",dd:a,M:"месяц",MM:a,y:"год",yy:a},ordinal:function(e){return e},meridiem:function(e){return e<4?"ночи":e<12?"утра":e<17?"дня":"вечера"}};return t.default.locale(l,null,!0),l}(n(97e3))},11336:function(e,t,n){e.exports=function(e){"use strict";var t=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(e),n={name:"sv",weekdays:"söndag_måndag_tisdag_onsdag_torsdag_fredag_lördag".split("_"),weekdaysShort:"sön_mån_tis_ons_tor_fre_lör".split("_"),weekdaysMin:"sö_må_ti_on_to_fr_lö".split("_"),months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekStart:1,yearStart:4,ordinal:function(e){var t=e%10;return"["+e+(1===t||2===t?"a":"e")+"]"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},relativeTime:{future:"om %s",past:"för %s sedan",s:"några sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en månad",MM:"%d månader",y:"ett år",yy:"%d år"}};return t.default.locale(n,null,!0),n}(n(97e3))},54385:function(e,t,n){e.exports=function(e){"use strict";var t=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(e),n={name:"zh-cn",weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(e,t){return"W"===t?e+"周":e+"日"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah点mm分",LLLL:"YYYY年M月D日ddddAh点mm分",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},meridiem:function(e,t){var n=100*e+t;return n<600?"凌晨":n<900?"早上":n<1100?"上午":n<1300?"中午":n<1800?"下午":"晚上"}};return t.default.locale(n,null,!0),n}(n(97e3))},69517:function(e,t,n){e.exports=function(e){"use strict";var t=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(e),n={name:"zh-tw",weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(e,t){return"W"===t?e+"週":e+"日"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日dddd HH:mm",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s內",past:"%s前",s:"幾秒",m:"1 分鐘",mm:"%d 分鐘",h:"1 小時",hh:"%d 小時",d:"1 天",dd:"%d 天",M:"1 個月",MM:"%d 個月",y:"1 年",yy:"%d 年"}};return t.default.locale(n,null,!0),n}(n(97e3))},19538:function(e){e.exports=function(){"use strict";return function(e,t,n){var r=t.prototype,i=function(e){return e&&(e.indexOf?e:e.s)},o=function(e,t,n,r,o){var s=e.name?e:e.$locale(),a=i(s[t]),c=i(s[n]),u=a||c.map((function(e){return e.slice(0,r)}));if(!o)return u;var l=s.weekStart;return u.map((function(e,t){return u[(t+(l||0))%7]}))},s=function(){return n.Ls[n.locale()]},a=function(e,t){return e.formats[t]||function(e){return e.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,n){return t||n.slice(1)}))}(e.formats[t.toUpperCase()])},c=function(){var e=this;return{months:function(t){return t?t.format("MMMM"):o(e,"months")},monthsShort:function(t){return t?t.format("MMM"):o(e,"monthsShort","months",3)},firstDayOfWeek:function(){return e.$locale().weekStart||0},weekdays:function(t){return t?t.format("dddd"):o(e,"weekdays")},weekdaysMin:function(t){return t?t.format("dd"):o(e,"weekdaysMin","weekdays",2)},weekdaysShort:function(t){return t?t.format("ddd"):o(e,"weekdaysShort","weekdays",3)},longDateFormat:function(t){return a(e.$locale(),t)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};r.localeData=function(){return c.bind(this)()},n.localeData=function(){var e=s();return{firstDayOfWeek:function(){return e.weekStart||0},weekdays:function(){return n.weekdays()},weekdaysShort:function(){return n.weekdaysShort()},weekdaysMin:function(){return n.weekdaysMin()},months:function(){return n.months()},monthsShort:function(){return n.monthsShort()},longDateFormat:function(t){return a(e,t)},meridiem:e.meridiem,ordinal:e.ordinal}},n.months=function(){return o(s(),"months")},n.monthsShort=function(){return o(s(),"monthsShort","months",3)},n.weekdays=function(e){return o(s(),"weekdays",null,null,e)},n.weekdaysShort=function(e){return o(s(),"weekdaysShort","weekdays",3,e)},n.weekdaysMin=function(e){return o(s(),"weekdaysMin","weekdays",2,e)}}}()},94149:function(e){e.exports=function(){"use strict";var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(t,n,r){var i=n.prototype,o=i.format;r.en.formats=e,i.format=function(t){void 0===t&&(t="YYYY-MM-DDTHH:mm:ssZ");var n=this.$locale().formats,r=function(t,n){return t.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,r,i){var o=i&&i.toUpperCase();return r||n[i]||e[i]||n[o].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,n){return t||n.slice(1)}))}))}(t,void 0===n?{}:n);return o.call(this,r)}}}()},91242:function(e){e.exports=function(){"use strict";var e="minute",t=/[+-]\d\d(?::?\d\d)?/g,n=/([+-]|\d\d)/g;return function(r,i,o){var s=i.prototype;o.utc=function(e){return new i({date:e,utc:!0,args:arguments})},s.utc=function(t){var n=o(this.toDate(),{locale:this.$L,utc:!0});return t?n.add(this.utcOffset(),e):n},s.local=function(){return o(this.toDate(),{locale:this.$L,utc:!1})};var a=s.parse;s.parse=function(e){e.utc&&(this.$u=!0),this.$utils().u(e.$offset)||(this.$offset=e.$offset),a.call(this,e)};var c=s.init;s.init=function(){if(this.$u){var e=this.$d;this.$y=e.getUTCFullYear(),this.$M=e.getUTCMonth(),this.$D=e.getUTCDate(),this.$W=e.getUTCDay(),this.$H=e.getUTCHours(),this.$m=e.getUTCMinutes(),this.$s=e.getUTCSeconds(),this.$ms=e.getUTCMilliseconds()}else c.call(this)};var u=s.utcOffset;s.utcOffset=function(r,i){var o=this.$utils().u;if(o(r))return this.$u?0:o(this.$offset)?u.call(this):this.$offset;if("string"==typeof r&&(r=function(e){void 0===e&&(e="");var r=e.match(t);if(!r)return null;var i=(""+r[0]).match(n)||["-",0,0],o=i[0],s=60*+i[1]+ +i[2];return 0===s?0:"+"===o?s:-s}(r),null===r))return this;var s=Math.abs(r)<=16?60*r:r,a=this;if(i)return a.$offset=s,a.$u=0===r,a;if(0!==r){var c=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(a=this.local().add(s+c,e)).$offset=s,a.$x.$localOffset=c}else a=this.utc();return a};var l=s.format;s.format=function(e){var t=e||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return l.call(this,t)},s.valueOf=function(){var e=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*e},s.isUTC=function(){return!!this.$u},s.toISOString=function(){return this.toDate().toISOString()},s.toString=function(){return this.toDate().toUTCString()};var h=s.toDate;s.toDate=function(e){return"s"===e&&this.$offset?o(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():h.call(this)};var d=s.diff;s.diff=function(e,t,n){if(e&&this.$u===e.$u)return d.call(this,e,t,n);var r=this.local(),i=o(e).local();return d.call(r,i,t,n)}}}()},80704:function(e,t){var n;!function(t,n){"use strict";"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,(function(r,i){"use strict";var o=[],s=Object.getPrototypeOf,a=o.slice,c=o.flat?function(e){return o.flat.call(e)}:function(e){return o.concat.apply([],e)},u=o.push,l=o.indexOf,h={},d=h.toString,f=h.hasOwnProperty,p=f.toString,m=p.call(Object),g={},v=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},y=function(e){return null!=e&&e===e.window},b=r.document,w={type:!0,src:!0,nonce:!0,noModule:!0};function S(e,t,n){var r,i,o=(n=n||b).createElement("script");if(o.text=e,t)for(r in w)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function _(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?h[d.call(e)]||"object":typeof e}var x="3.6.1",C=function(e,t){return new C.fn.init(e,t)};function E(e){var t=!!e&&"length"in e&&e.length,n=_(e);return!v(e)&&!y(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}C.fn=C.prototype={jquery:x,constructor:C,length:0,toArray:function(){return a.call(this)},get:function(e){return null==e?a.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=C.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return C.each(this,e)},map:function(e){return this.pushStack(C.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(C.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(C.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:o.sort,splice:o.splice},C.extend=C.fn.extend=function(){var e,t,n,r,i,o,s=arguments[0]||{},a=1,c=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[a]||{},a++),"object"==typeof s||v(s)||(s={}),a===c&&(s=this,a--);a<c;a++)if(null!=(e=arguments[a]))for(t in e)r=e[t],"__proto__"!==t&&s!==r&&(u&&r&&(C.isPlainObject(r)||(i=Array.isArray(r)))?(n=s[t],o=i&&!Array.isArray(n)?[]:i||C.isPlainObject(n)?n:{},i=!1,s[t]=C.extend(u,o,r)):void 0!==r&&(s[t]=r));return s},C.extend({expando:"jQuery"+(x+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==d.call(e)||(t=s(e))&&("function"!=typeof(n=f.call(t,"constructor")&&t.constructor)||p.call(n)!==m))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){S(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(E(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(E(Object(e))?C.merge(n,"string"==typeof e?[e]:e):u.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:l.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,s=!n;i<o;i++)!t(e[i],i)!==s&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,s=[];if(E(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&s.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&s.push(i);return c(s)},guid:1,support:g}),"function"==typeof Symbol&&(C.fn[Symbol.iterator]=o[Symbol.iterator]),C.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){h["[object "+t+"]"]=t.toLowerCase()}));var k=function(e){var t,n,r,i,o,s,a,c,u,l,h,d,f,p,m,g,v,y,b,w="sizzle"+1*new Date,S=e.document,_=0,x=0,C=ce(),E=ce(),k=ce(),A=ce(),N=function(e,t){return e===t&&(h=!0),0},T={}.hasOwnProperty,P=[],O=P.pop,I=P.push,R=P.push,L=P.slice,M=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},D="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",j="[\\x20\\t\\r\\n\\f]",F="(?:\\\\[\\da-fA-F]{1,6}"+j+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",B="\\["+j+"*("+F+")(?:"+j+"*([*^$|!~]?=)"+j+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+F+"))|)"+j+"*\\]",q=":("+F+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+B+")*)|.*)\\)|)",U=new RegExp(j+"+","g"),z=new RegExp("^"+j+"+|((?:^|[^\\\\])(?:\\\\.)*)"+j+"+$","g"),$=new RegExp("^"+j+"*,"+j+"*"),H=new RegExp("^"+j+"*([>+~]|"+j+")"+j+"*"),G=new RegExp(j+"|>"),V=new RegExp(q),W=new RegExp("^"+F+"$"),K={ID:new RegExp("^#("+F+")"),CLASS:new RegExp("^\\.("+F+")"),TAG:new RegExp("^("+F+"|[*])"),ATTR:new RegExp("^"+B),PSEUDO:new RegExp("^"+q),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+j+"*(even|odd|(([+-]|)(\\d*)n|)"+j+"*(?:([+-]|)"+j+"*(\\d+)|))"+j+"*\\)|)","i"),bool:new RegExp("^(?:"+D+")$","i"),needsContext:new RegExp("^"+j+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+j+"*((?:-\\d)?\\d*)"+j+"*\\)|)(?=[^-]|$)","i")},Z=/HTML$/i,Y=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,X=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}"+j+"?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){d()},se=we((function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{R.apply(P=L.call(S.childNodes),S.childNodes),P[S.childNodes.length].nodeType}catch(e){R={apply:P.length?function(e,t){I.apply(e,L.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function ae(e,t,r,i){var o,a,u,l,h,p,v,y=t&&t.ownerDocument,S=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==S&&9!==S&&11!==S)return r;if(!i&&(d(t),t=t||f,m)){if(11!==S&&(h=X.exec(e)))if(o=h[1]){if(9===S){if(!(u=t.getElementById(o)))return r;if(u.id===o)return r.push(u),r}else if(y&&(u=y.getElementById(o))&&b(t,u)&&u.id===o)return r.push(u),r}else{if(h[2])return R.apply(r,t.getElementsByTagName(e)),r;if((o=h[3])&&n.getElementsByClassName&&t.getElementsByClassName)return R.apply(r,t.getElementsByClassName(o)),r}if(n.qsa&&!A[e+" "]&&(!g||!g.test(e))&&(1!==S||"object"!==t.nodeName.toLowerCase())){if(v=e,y=t,1===S&&(G.test(e)||H.test(e))){for((y=ee.test(e)&&ve(t.parentNode)||t)===t&&n.scope||((l=t.getAttribute("id"))?l=l.replace(re,ie):t.setAttribute("id",l=w)),a=(p=s(e)).length;a--;)p[a]=(l?"#"+l:":scope")+" "+be(p[a]);v=p.join(",")}try{return R.apply(r,y.querySelectorAll(v)),r}catch(t){A(e,!0)}finally{l===w&&t.removeAttribute("id")}}}return c(e.replace(z,"$1"),t,r,i)}function ce(){var e=[];return function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}}function ue(e){return e[w]=!0,e}function le(e){var t=f.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function he(e,t){for(var n=e.split("|"),i=n.length;i--;)r.attrHandle[n[i]]=t}function de(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function fe(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function pe(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function me(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&se(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function ge(e){return ue((function(t){return t=+t,ue((function(n,r){for(var i,o=e([],n.length,t),s=o.length;s--;)n[i=o[s]]&&(n[i]=!(r[i]=n[i]))}))}))}function ve(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=ae.support={},o=ae.isXML=function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!Z.test(t||n&&n.nodeName||"HTML")},d=ae.setDocument=function(e){var t,i,s=e?e.ownerDocument||e:S;return s!=f&&9===s.nodeType&&s.documentElement?(p=(f=s).documentElement,m=!o(f),S!=f&&(i=f.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",oe,!1):i.attachEvent&&i.attachEvent("onunload",oe)),n.scope=le((function(e){return p.appendChild(e).appendChild(f.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length})),n.attributes=le((function(e){return e.className="i",!e.getAttribute("className")})),n.getElementsByTagName=le((function(e){return e.appendChild(f.createComment("")),!e.getElementsByTagName("*").length})),n.getElementsByClassName=Q.test(f.getElementsByClassName),n.getById=le((function(e){return p.appendChild(e).id=w,!f.getElementsByName||!f.getElementsByName(w).length})),n.getById?(r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n=t.getElementById(e);return n?[n]:[]}}):(r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(i=t.getElementsByName(e),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),r.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&m)return t.getElementsByClassName(e)},v=[],g=[],(n.qsa=Q.test(f.querySelectorAll))&&(le((function(e){var t;p.appendChild(e).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+j+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\["+j+"*(?:value|"+D+")"),e.querySelectorAll("[id~="+w+"-]").length||g.push("~="),(t=f.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||g.push("\\["+j+"*name"+j+"*="+j+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+w+"+*").length||g.push(".#.+[+~]"),e.querySelectorAll("\\\f"),g.push("[\\r\\n\\f]")})),le((function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=f.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name"+j+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),p.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")}))),(n.matchesSelector=Q.test(y=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&le((function(e){n.disconnectedMatch=y.call(e,"*"),y.call(e,"[s!='']:x"),v.push("!=",q)})),g=g.length&&new RegExp(g.join("|")),v=v.length&&new RegExp(v.join("|")),t=Q.test(p.compareDocumentPosition),b=t||Q.test(p.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},N=t?function(e,t){if(e===t)return h=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e==f||e.ownerDocument==S&&b(S,e)?-1:t==f||t.ownerDocument==S&&b(S,t)?1:l?M(l,e)-M(l,t):0:4&r?-1:1)}:function(e,t){if(e===t)return h=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,s=[e],a=[t];if(!i||!o)return e==f?-1:t==f?1:i?-1:o?1:l?M(l,e)-M(l,t):0;if(i===o)return de(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)a.unshift(n);for(;s[r]===a[r];)r++;return r?de(s[r],a[r]):s[r]==S?-1:a[r]==S?1:0},f):f},ae.matches=function(e,t){return ae(e,null,null,t)},ae.matchesSelector=function(e,t){if(d(e),n.matchesSelector&&m&&!A[t+" "]&&(!v||!v.test(t))&&(!g||!g.test(t)))try{var r=y.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){A(t,!0)}return ae(t,f,null,[e]).length>0},ae.contains=function(e,t){return(e.ownerDocument||e)!=f&&d(e),b(e,t)},ae.attr=function(e,t){(e.ownerDocument||e)!=f&&d(e);var i=r.attrHandle[t.toLowerCase()],o=i&&T.call(r.attrHandle,t.toLowerCase())?i(e,t,!m):void 0;return void 0!==o?o:n.attributes||!m?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},ae.escape=function(e){return(e+"").replace(re,ie)},ae.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ae.uniqueSort=function(e){var t,r=[],i=0,o=0;if(h=!n.detectDuplicates,l=!n.sortStable&&e.slice(0),e.sort(N),h){for(;t=e[o++];)t===e[o]&&(i=r.push(o));for(;i--;)e.splice(r[i],1)}return l=null,e},i=ae.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=i(t);return n},r=ae.selectors={cacheLength:50,createPseudo:ue,match:K,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ae.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ae.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return K.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&V.test(n)&&(t=s(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=C[e+" "];return t||(t=new RegExp("(^|"+j+")"+e+"("+j+"|$)"))&&C(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(r){var i=ae.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace(U," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,c){var u,l,h,d,f,p,m=o!==s?"nextSibling":"previousSibling",g=t.parentNode,v=a&&t.nodeName.toLowerCase(),y=!c&&!a,b=!1;if(g){if(o){for(;m;){for(d=t;d=d[m];)if(a?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=m="only"===e&&!p&&"nextSibling"}return!0}if(p=[s?g.firstChild:g.lastChild],s&&y){for(b=(f=(u=(l=(h=(d=g)[w]||(d[w]={}))[d.uniqueID]||(h[d.uniqueID]={}))[e]||[])[0]===_&&u[1])&&u[2],d=f&&g.childNodes[f];d=++f&&d&&d[m]||(b=f=0)||p.pop();)if(1===d.nodeType&&++b&&d===t){l[e]=[_,f,b];break}}else if(y&&(b=f=(u=(l=(h=(d=t)[w]||(d[w]={}))[d.uniqueID]||(h[d.uniqueID]={}))[e]||[])[0]===_&&u[1]),!1===b)for(;(d=++f&&d&&d[m]||(b=f=0)||p.pop())&&((a?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++b||(y&&((l=(h=d[w]||(d[w]={}))[d.uniqueID]||(h[d.uniqueID]={}))[e]=[_,b]),d!==t)););return(b-=i)===r||b%r==0&&b/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||ae.error("unsupported pseudo: "+e);return i[w]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?ue((function(e,n){for(var r,o=i(e,t),s=o.length;s--;)e[r=M(e,o[s])]=!(n[r]=o[s])})):function(e){return i(e,0,n)}):i}},pseudos:{not:ue((function(e){var t=[],n=[],r=a(e.replace(z,"$1"));return r[w]?ue((function(e,t,n,i){for(var o,s=r(e,null,i,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))})):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}})),has:ue((function(e){return function(t){return ae(e,t).length>0}})),contains:ue((function(e){return e=e.replace(te,ne),function(t){return(t.textContent||i(t)).indexOf(e)>-1}})),lang:ue((function(e){return W.test(e||"")||ae.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=m?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===p},focus:function(e){return e===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:me(!1),disabled:me(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return J.test(e.nodeName)},input:function(e){return Y.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ge((function(){return[0]})),last:ge((function(e,t){return[t-1]})),eq:ge((function(e,t,n){return[n<0?n+t:n]})),even:ge((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:ge((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:ge((function(e,t,n){for(var r=n<0?n+t:n>t?t:n;--r>=0;)e.push(r);return e})),gt:ge((function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e}))}},r.pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=fe(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=pe(t);function ye(){}function be(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function we(e,t,n){var r=t.dir,i=t.next,o=i||r,s=n&&"parentNode"===o,a=x++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||s)return e(t,n,i);return!1}:function(t,n,c){var u,l,h,d=[_,a];if(c){for(;t=t[r];)if((1===t.nodeType||s)&&e(t,n,c))return!0}else for(;t=t[r];)if(1===t.nodeType||s)if(l=(h=t[w]||(t[w]={}))[t.uniqueID]||(h[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[r]||t;else{if((u=l[o])&&u[0]===_&&u[1]===a)return d[2]=u[2];if(l[o]=d,d[2]=e(t,n,c))return!0}return!1}}function Se(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function _e(e,t,n,r,i){for(var o,s=[],a=0,c=e.length,u=null!=t;a<c;a++)(o=e[a])&&(n&&!n(o,r,i)||(s.push(o),u&&t.push(a)));return s}function xe(e,t,n,r,i,o){return r&&!r[w]&&(r=xe(r)),i&&!i[w]&&(i=xe(i,o)),ue((function(o,s,a,c){var u,l,h,d=[],f=[],p=s.length,m=o||function(e,t,n){for(var r=0,i=t.length;r<i;r++)ae(e,t[r],n);return n}(t||"*",a.nodeType?[a]:a,[]),g=!e||!o&&t?m:_e(m,d,e,a,c),v=n?i||(o?e:p||r)?[]:s:g;if(n&&n(g,v,a,c),r)for(u=_e(v,f),r(u,[],a,c),l=u.length;l--;)(h=u[l])&&(v[f[l]]=!(g[f[l]]=h));if(o){if(i||e){if(i){for(u=[],l=v.length;l--;)(h=v[l])&&u.push(g[l]=h);i(null,v=[],u,c)}for(l=v.length;l--;)(h=v[l])&&(u=i?M(o,h):d[l])>-1&&(o[u]=!(s[u]=h))}}else v=_e(v===s?v.splice(p,v.length):v),i?i(null,s,v,c):R.apply(s,v)}))}function Ce(e){for(var t,n,i,o=e.length,s=r.relative[e[0].type],a=s||r.relative[" "],c=s?1:0,l=we((function(e){return e===t}),a,!0),h=we((function(e){return M(t,e)>-1}),a,!0),d=[function(e,n,r){var i=!s&&(r||n!==u)||((t=n).nodeType?l(e,n,r):h(e,n,r));return t=null,i}];c<o;c++)if(n=r.relative[e[c].type])d=[we(Se(d),n)];else{if((n=r.filter[e[c].type].apply(null,e[c].matches))[w]){for(i=++c;i<o&&!r.relative[e[i].type];i++);return xe(c>1&&Se(d),c>1&&be(e.slice(0,c-1).concat({value:" "===e[c-2].type?"*":""})).replace(z,"$1"),n,c<i&&Ce(e.slice(c,i)),i<o&&Ce(e=e.slice(i)),i<o&&be(e))}d.push(n)}return Se(d)}return ye.prototype=r.filters=r.pseudos,r.setFilters=new ye,s=ae.tokenize=function(e,t){var n,i,o,s,a,c,u,l=E[e+" "];if(l)return t?0:l.slice(0);for(a=e,c=[],u=r.preFilter;a;){for(s in n&&!(i=$.exec(a))||(i&&(a=a.slice(i[0].length)||a),c.push(o=[])),n=!1,(i=H.exec(a))&&(n=i.shift(),o.push({value:n,type:i[0].replace(z," ")}),a=a.slice(n.length)),r.filter)!(i=K[s].exec(a))||u[s]&&!(i=u[s](i))||(n=i.shift(),o.push({value:n,type:s,matches:i}),a=a.slice(n.length));if(!n)break}return t?a.length:a?ae.error(e):E(e,c).slice(0)},a=ae.compile=function(e,t){var n,i=[],o=[],a=k[e+" "];if(!a){for(t||(t=s(e)),n=t.length;n--;)(a=Ce(t[n]))[w]?i.push(a):o.push(a);a=k(e,function(e,t){var n=t.length>0,i=e.length>0,o=function(o,s,a,c,l){var h,p,g,v=0,y="0",b=o&&[],w=[],S=u,x=o||i&&r.find.TAG("*",l),C=_+=null==S?1:Math.random()||.1,E=x.length;for(l&&(u=s==f||s||l);y!==E&&null!=(h=x[y]);y++){if(i&&h){for(p=0,s||h.ownerDocument==f||(d(h),a=!m);g=e[p++];)if(g(h,s||f,a)){c.push(h);break}l&&(_=C)}n&&((h=!g&&h)&&v--,o&&b.push(h))}if(v+=y,n&&y!==v){for(p=0;g=t[p++];)g(b,w,s,a);if(o){if(v>0)for(;y--;)b[y]||w[y]||(w[y]=O.call(c));w=_e(w)}R.apply(c,w),l&&!o&&w.length>0&&v+t.length>1&&ae.uniqueSort(c)}return l&&(_=C,u=S),b};return n?ue(o):o}(o,i)),a.selector=e}return a},c=ae.select=function(e,t,n,i){var o,c,u,l,h,d="function"==typeof e&&e,f=!i&&s(e=d.selector||e);if(n=n||[],1===f.length){if((c=f[0]=f[0].slice(0)).length>2&&"ID"===(u=c[0]).type&&9===t.nodeType&&m&&r.relative[c[1].type]){if(!(t=(r.find.ID(u.matches[0].replace(te,ne),t)||[])[0]))return n;d&&(t=t.parentNode),e=e.slice(c.shift().value.length)}for(o=K.needsContext.test(e)?0:c.length;o--&&(u=c[o],!r.relative[l=u.type]);)if((h=r.find[l])&&(i=h(u.matches[0].replace(te,ne),ee.test(c[0].type)&&ve(t.parentNode)||t))){if(c.splice(o,1),!(e=i.length&&be(c)))return R.apply(n,i),n;break}}return(d||a(e,f))(i,t,!m,n,!t||ee.test(e)&&ve(t.parentNode)||t),n},n.sortStable=w.split("").sort(N).join("")===w,n.detectDuplicates=!!h,d(),n.sortDetached=le((function(e){return 1&e.compareDocumentPosition(f.createElement("fieldset"))})),le((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||he("type|href|height|width",(function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),n.attributes&&le((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||he("value",(function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),le((function(e){return null==e.getAttribute("disabled")}))||he(D,(function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null})),ae}(r);C.find=k,C.expr=k.selectors,C.expr[":"]=C.expr.pseudos,C.uniqueSort=C.unique=k.uniqueSort,C.text=k.getText,C.isXMLDoc=k.isXML,C.contains=k.contains,C.escapeSelector=k.escape;var A=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&C(e).is(n))break;r.push(e)}return r},N=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},T=C.expr.match.needsContext;function P(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var O=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function I(e,t,n){return v(t)?C.grep(e,(function(e,r){return!!t.call(e,r,e)!==n})):t.nodeType?C.grep(e,(function(e){return e===t!==n})):"string"!=typeof t?C.grep(e,(function(e){return l.call(t,e)>-1!==n})):C.filter(t,e,n)}C.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?C.find.matchesSelector(r,e)?[r]:[]:C.find.matches(e,C.grep(t,(function(e){return 1===e.nodeType})))},C.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(C(e).filter((function(){for(t=0;t<r;t++)if(C.contains(i[t],this))return!0})));for(n=this.pushStack([]),t=0;t<r;t++)C.find(e,i[t],n);return r>1?C.uniqueSort(n):n},filter:function(e){return this.pushStack(I(this,e||[],!1))},not:function(e){return this.pushStack(I(this,e||[],!0))},is:function(e){return!!I(this,"string"==typeof e&&T.test(e)?C(e):e||[],!1).length}});var R,L=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(C.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||R,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:L.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof C?t[0]:t,C.merge(this,C.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:b,!0)),O.test(r[1])&&C.isPlainObject(t))for(r in t)v(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=b.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):v(e)?void 0!==n.ready?n.ready(e):e(C):C.makeArray(e,this)}).prototype=C.fn,R=C(b);var M=/^(?:parents|prev(?:Until|All))/,D={children:!0,contents:!0,next:!0,prev:!0};function j(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}C.fn.extend({has:function(e){var t=C(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(C.contains(this,t[e]))return!0}))},closest:function(e,t){var n,r=0,i=this.length,o=[],s="string"!=typeof e&&C(e);if(!T.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&C.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?C.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?l.call(C(e),this[0]):l.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(C.uniqueSort(C.merge(this.get(),C(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),C.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return A(e,"parentNode")},parentsUntil:function(e,t,n){return A(e,"parentNode",n)},next:function(e){return j(e,"nextSibling")},prev:function(e){return j(e,"previousSibling")},nextAll:function(e){return A(e,"nextSibling")},prevAll:function(e){return A(e,"previousSibling")},nextUntil:function(e,t,n){return A(e,"nextSibling",n)},prevUntil:function(e,t,n){return A(e,"previousSibling",n)},siblings:function(e){return N((e.parentNode||{}).firstChild,e)},children:function(e){return N(e.firstChild)},contents:function(e){return null!=e.contentDocument&&s(e.contentDocument)?e.contentDocument:(P(e,"template")&&(e=e.content||e),C.merge([],e.childNodes))}},(function(e,t){C.fn[e]=function(n,r){var i=C.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=C.filter(r,i)),this.length>1&&(D[e]||C.uniqueSort(i),M.test(e)&&i.reverse()),this.pushStack(i)}}));var F=/[^\x20\t\r\n\f]+/g;function B(e){return e}function q(e){throw e}function U(e,t,n,r){var i;try{e&&v(i=e.promise)?i.call(e).done(t).fail(n):e&&v(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}C.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return C.each(e.match(F)||[],(function(e,n){t[n]=!0})),t}(e):C.extend({},e);var t,n,r,i,o=[],s=[],a=-1,c=function(){for(i=i||e.once,r=t=!0;s.length;a=-1)for(n=s.shift();++a<o.length;)!1===o[a].apply(n[0],n[1])&&e.stopOnFalse&&(a=o.length,n=!1);e.memory||(n=!1),t=!1,i&&(o=n?[]:"")},u={add:function(){return o&&(n&&!t&&(a=o.length-1,s.push(n)),function t(n){C.each(n,(function(n,r){v(r)?e.unique&&u.has(r)||o.push(r):r&&r.length&&"string"!==_(r)&&t(r)}))}(arguments),n&&!t&&c()),this},remove:function(){return C.each(arguments,(function(e,t){for(var n;(n=C.inArray(t,o,n))>-1;)o.splice(n,1),n<=a&&a--})),this},has:function(e){return e?C.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=s=[],n||t||(o=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=[e,(n=n||[]).slice?n.slice():n],s.push(n),t||c()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!r}};return u},C.extend({Deferred:function(e){var t=[["notify","progress",C.Callbacks("memory"),C.Callbacks("memory"),2],["resolve","done",C.Callbacks("once memory"),C.Callbacks("once memory"),0,"resolved"],["reject","fail",C.Callbacks("once memory"),C.Callbacks("once memory"),1,"rejected"]],n="pending",i={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return i.then(null,e)},pipe:function(){var e=arguments;return C.Deferred((function(n){C.each(t,(function(t,r){var i=v(e[r[4]])&&e[r[4]];o[r[1]]((function(){var e=i&&i.apply(this,arguments);e&&v(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,i?[e]:arguments)}))})),e=null})).promise()},then:function(e,n,i){var o=0;function s(e,t,n,i){return function(){var a=this,c=arguments,u=function(){var r,u;if(!(e<o)){if((r=n.apply(a,c))===t.promise())throw new TypeError("Thenable self-resolution");u=r&&("object"==typeof r||"function"==typeof r)&&r.then,v(u)?i?u.call(r,s(o,t,B,i),s(o,t,q,i)):(o++,u.call(r,s(o,t,B,i),s(o,t,q,i),s(o,t,B,t.notifyWith))):(n!==B&&(a=void 0,c=[r]),(i||t.resolveWith)(a,c))}},l=i?u:function(){try{u()}catch(r){C.Deferred.exceptionHook&&C.Deferred.exceptionHook(r,l.stackTrace),e+1>=o&&(n!==q&&(a=void 0,c=[r]),t.rejectWith(a,c))}};e?l():(C.Deferred.getStackHook&&(l.stackTrace=C.Deferred.getStackHook()),r.setTimeout(l))}}return C.Deferred((function(r){t[0][3].add(s(0,r,v(i)?i:B,r.notifyWith)),t[1][3].add(s(0,r,v(e)?e:B)),t[2][3].add(s(0,r,v(n)?n:q))})).promise()},promise:function(e){return null!=e?C.extend(e,i):i}},o={};return C.each(t,(function(e,r){var s=r[2],a=r[5];i[r[1]]=s.add,a&&s.add((function(){n=a}),t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),s.add(r[3].fire),o[r[0]]=function(){return o[r[0]+"With"](this===o?void 0:this,arguments),this},o[r[0]+"With"]=s.fireWith})),i.promise(o),e&&e.call(o,o),o},when:function(e){var t=arguments.length,n=t,r=Array(n),i=a.call(arguments),o=C.Deferred(),s=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?a.call(arguments):n,--t||o.resolveWith(r,i)}};if(t<=1&&(U(e,o.done(s(n)).resolve,o.reject,!t),"pending"===o.state()||v(i[n]&&i[n].then)))return o.then();for(;n--;)U(i[n],s(n),o.reject);return o.promise()}});var z=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;C.Deferred.exceptionHook=function(e,t){r.console&&r.console.warn&&e&&z.test(e.name)&&r.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},C.readyException=function(e){r.setTimeout((function(){throw e}))};var $=C.Deferred();function H(){b.removeEventListener("DOMContentLoaded",H),r.removeEventListener("load",H),C.ready()}C.fn.ready=function(e){return $.then(e).catch((function(e){C.readyException(e)})),this},C.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--C.readyWait:C.isReady)||(C.isReady=!0,!0!==e&&--C.readyWait>0||$.resolveWith(b,[C]))}}),C.ready.then=$.then,"complete"===b.readyState||"loading"!==b.readyState&&!b.documentElement.doScroll?r.setTimeout(C.ready):(b.addEventListener("DOMContentLoaded",H),r.addEventListener("load",H));var G=function(e,t,n,r,i,o,s){var a=0,c=e.length,u=null==n;if("object"===_(n))for(a in i=!0,n)G(e,t,a,n[a],!0,o,s);else if(void 0!==r&&(i=!0,v(r)||(s=!0),u&&(s?(t.call(e,r),t=null):(u=t,t=function(e,t,n){return u.call(C(e),n)})),t))for(;a<c;a++)t(e[a],n,s?r:r.call(e[a],a,t(e[a],n)));return i?e:u?t.call(e):c?t(e[0],n):o},V=/^-ms-/,W=/-([a-z])/g;function K(e,t){return t.toUpperCase()}function Z(e){return e.replace(V,"ms-").replace(W,K)}var Y=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function J(){this.expando=C.expando+J.uid++}J.uid=1,J.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Y(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[Z(t)]=n;else for(r in t)i[Z(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][Z(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(Z):(t=Z(t))in r?[t]:t.match(F)||[]).length;for(;n--;)delete r[t[n]]}(void 0===t||C.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!C.isEmptyObject(t)}};var Q=new J,X=new J,ee=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,te=/[A-Z]/g;function ne(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(te,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:ee.test(e)?JSON.parse(e):e)}(n)}catch(e){}X.set(e,t,n)}else n=void 0;return n}C.extend({hasData:function(e){return X.hasData(e)||Q.hasData(e)},data:function(e,t,n){return X.access(e,t,n)},removeData:function(e,t){X.remove(e,t)},_data:function(e,t,n){return Q.access(e,t,n)},_removeData:function(e,t){Q.remove(e,t)}}),C.fn.extend({data:function(e,t){var n,r,i,o=this[0],s=o&&o.attributes;if(void 0===e){if(this.length&&(i=X.get(o),1===o.nodeType&&!Q.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(r=s[n].name).indexOf("data-")&&(r=Z(r.slice(5)),ne(o,r,i[r]));Q.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each((function(){X.set(this,e)})):G(this,(function(t){var n;if(o&&void 0===t)return void 0!==(n=X.get(o,e))||void 0!==(n=ne(o,e))?n:void 0;this.each((function(){X.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){X.remove(this,e)}))}}),C.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Q.get(e,t),n&&(!r||Array.isArray(n)?r=Q.access(e,t,C.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=C.queue(e,t),r=n.length,i=n.shift(),o=C._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,(function(){C.dequeue(e,t)}),o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Q.get(e,n)||Q.access(e,n,{empty:C.Callbacks("once memory").add((function(){Q.remove(e,[t+"queue",n])}))})}}),C.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?C.queue(this[0],e):void 0===t?this:this.each((function(){var n=C.queue(this,e,t);C._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&C.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){C.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=C.Deferred(),o=this,s=this.length,a=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(n=Q.get(o[s],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(a));return a(),i.promise(t)}});var re=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ie=new RegExp("^(?:([+-])=|)("+re+")([a-z%]*)$","i"),oe=["Top","Right","Bottom","Left"],se=b.documentElement,ae=function(e){return C.contains(e.ownerDocument,e)},ce={composed:!0};se.getRootNode&&(ae=function(e){return C.contains(e.ownerDocument,e)||e.getRootNode(ce)===e.ownerDocument});var ue=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ae(e)&&"none"===C.css(e,"display")};function le(e,t,n,r){var i,o,s=20,a=r?function(){return r.cur()}:function(){return C.css(e,t,"")},c=a(),u=n&&n[3]||(C.cssNumber[t]?"":"px"),l=e.nodeType&&(C.cssNumber[t]||"px"!==u&&+c)&&ie.exec(C.css(e,t));if(l&&l[3]!==u){for(c/=2,u=u||l[3],l=+c||1;s--;)C.style(e,t,l+u),(1-o)*(1-(o=a()/c||.5))<=0&&(s=0),l/=o;l*=2,C.style(e,t,l+u),n=n||[]}return n&&(l=+l||+c||0,i=n[1]?l+(n[1]+1)*n[2]:+n[2],r&&(r.unit=u,r.start=l,r.end=i)),i}var he={};function de(e){var t,n=e.ownerDocument,r=e.nodeName,i=he[r];return i||(t=n.body.appendChild(n.createElement(r)),i=C.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),he[r]=i,i)}function fe(e,t){for(var n,r,i=[],o=0,s=e.length;o<s;o++)(r=e[o]).style&&(n=r.style.display,t?("none"===n&&(i[o]=Q.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&ue(r)&&(i[o]=de(r))):"none"!==n&&(i[o]="none",Q.set(r,"display",n)));for(o=0;o<s;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}C.fn.extend({show:function(){return fe(this,!0)},hide:function(){return fe(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){ue(this)?C(this).show():C(this).hide()}))}});var pe,me,ge=/^(?:checkbox|radio)$/i,ve=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ye=/^$|^module$|\/(?:java|ecma)script/i;pe=b.createDocumentFragment().appendChild(b.createElement("div")),(me=b.createElement("input")).setAttribute("type","radio"),me.setAttribute("checked","checked"),me.setAttribute("name","t"),pe.appendChild(me),g.checkClone=pe.cloneNode(!0).cloneNode(!0).lastChild.checked,pe.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!pe.cloneNode(!0).lastChild.defaultValue,pe.innerHTML="<option></option>",g.option=!!pe.lastChild;var be={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function we(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&P(e,t)?C.merge([e],n):n}function Se(e,t){for(var n=0,r=e.length;n<r;n++)Q.set(e[n],"globalEval",!t||Q.get(t[n],"globalEval"))}be.tbody=be.tfoot=be.colgroup=be.caption=be.thead,be.th=be.td,g.option||(be.optgroup=be.option=[1,"<select multiple='multiple'>","</select>"]);var _e=/<|&#?\w+;/;function xe(e,t,n,r,i){for(var o,s,a,c,u,l,h=t.createDocumentFragment(),d=[],f=0,p=e.length;f<p;f++)if((o=e[f])||0===o)if("object"===_(o))C.merge(d,o.nodeType?[o]:o);else if(_e.test(o)){for(s=s||h.appendChild(t.createElement("div")),a=(ve.exec(o)||["",""])[1].toLowerCase(),c=be[a]||be._default,s.innerHTML=c[1]+C.htmlPrefilter(o)+c[2],l=c[0];l--;)s=s.lastChild;C.merge(d,s.childNodes),(s=h.firstChild).textContent=""}else d.push(t.createTextNode(o));for(h.textContent="",f=0;o=d[f++];)if(r&&C.inArray(o,r)>-1)i&&i.push(o);else if(u=ae(o),s=we(h.appendChild(o),"script"),u&&Se(s),n)for(l=0;o=s[l++];)ye.test(o.type||"")&&n.push(o);return h}var Ce=/^([^.]*)(?:\.(.+)|)/;function Ee(){return!0}function ke(){return!1}function Ae(e,t){return e===function(){try{return b.activeElement}catch(e){}}()==("focus"===t)}function Ne(e,t,n,r,i,o){var s,a;if("object"==typeof t){for(a in"string"!=typeof n&&(r=r||n,n=void 0),t)Ne(e,a,n,r,t[a],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=ke;else if(!i)return e;return 1===o&&(s=i,i=function(e){return C().off(e),s.apply(this,arguments)},i.guid=s.guid||(s.guid=C.guid++)),e.each((function(){C.event.add(this,t,i,r,n)}))}function Te(e,t,n){n?(Q.set(e,t,!1),C.event.add(e,t,{namespace:!1,handler:function(e){var r,i,o=Q.get(this,t);if(1&e.isTrigger&&this[t]){if(o.length)(C.event.special[t]||{}).delegateType&&e.stopPropagation();else if(o=a.call(arguments),Q.set(this,t,o),r=n(this,t),this[t](),o!==(i=Q.get(this,t))||r?Q.set(this,t,!1):i={},o!==i)return e.stopImmediatePropagation(),e.preventDefault(),i&&i.value}else o.length&&(Q.set(this,t,{value:C.event.trigger(C.extend(o[0],C.Event.prototype),o.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===Q.get(e,t)&&C.event.add(e,t,Ee)}C.event={global:{},add:function(e,t,n,r,i){var o,s,a,c,u,l,h,d,f,p,m,g=Q.get(e);if(Y(e))for(n.handler&&(n=(o=n).handler,i=o.selector),i&&C.find.matchesSelector(se,i),n.guid||(n.guid=C.guid++),(c=g.events)||(c=g.events=Object.create(null)),(s=g.handle)||(s=g.handle=function(t){return void 0!==C&&C.event.triggered!==t.type?C.event.dispatch.apply(e,arguments):void 0}),u=(t=(t||"").match(F)||[""]).length;u--;)f=m=(a=Ce.exec(t[u])||[])[1],p=(a[2]||"").split(".").sort(),f&&(h=C.event.special[f]||{},f=(i?h.delegateType:h.bindType)||f,h=C.event.special[f]||{},l=C.extend({type:f,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&C.expr.match.needsContext.test(i),namespace:p.join(".")},o),(d=c[f])||((d=c[f]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(e,r,p,s)||e.addEventListener&&e.addEventListener(f,s)),h.add&&(h.add.call(e,l),l.handler.guid||(l.handler.guid=n.guid)),i?d.splice(d.delegateCount++,0,l):d.push(l),C.event.global[f]=!0)},remove:function(e,t,n,r,i){var o,s,a,c,u,l,h,d,f,p,m,g=Q.hasData(e)&&Q.get(e);if(g&&(c=g.events)){for(u=(t=(t||"").match(F)||[""]).length;u--;)if(f=m=(a=Ce.exec(t[u])||[])[1],p=(a[2]||"").split(".").sort(),f){for(h=C.event.special[f]||{},d=c[f=(r?h.delegateType:h.bindType)||f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=d.length;o--;)l=d[o],!i&&m!==l.origType||n&&n.guid!==l.guid||a&&!a.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(d.splice(o,1),l.selector&&d.delegateCount--,h.remove&&h.remove.call(e,l));s&&!d.length&&(h.teardown&&!1!==h.teardown.call(e,p,g.handle)||C.removeEvent(e,f,g.handle),delete c[f])}else for(f in c)C.event.remove(e,f+t[u],n,r,!0);C.isEmptyObject(c)&&Q.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,s,a=new Array(arguments.length),c=C.event.fix(e),u=(Q.get(this,"events")||Object.create(null))[c.type]||[],l=C.event.special[c.type]||{};for(a[0]=c,t=1;t<arguments.length;t++)a[t]=arguments[t];if(c.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,c)){for(s=C.event.handlers.call(this,c,u),t=0;(i=s[t++])&&!c.isPropagationStopped();)for(c.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!c.isImmediatePropagationStopped();)c.rnamespace&&!1!==o.namespace&&!c.rnamespace.test(o.namespace)||(c.handleObj=o,c.data=o.data,void 0!==(r=((C.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,a))&&!1===(c.result=r)&&(c.preventDefault(),c.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,c),c.result}},handlers:function(e,t){var n,r,i,o,s,a=[],c=t.delegateCount,u=e.target;if(c&&u.nodeType&&!("click"===e.type&&e.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==e.type||!0!==u.disabled)){for(o=[],s={},n=0;n<c;n++)void 0===s[i=(r=t[n]).selector+" "]&&(s[i]=r.needsContext?C(i,this).index(u)>-1:C.find(i,this,null,[u]).length),s[i]&&o.push(r);o.length&&a.push({elem:u,handlers:o})}return u=this,c<t.length&&a.push({elem:u,handlers:t.slice(c)}),a},addProp:function(e,t){Object.defineProperty(C.Event.prototype,e,{enumerable:!0,configurable:!0,get:v(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[C.expando]?e:new C.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return ge.test(t.type)&&t.click&&P(t,"input")&&Te(t,"click",Ee),!1},trigger:function(e){var t=this||e;return ge.test(t.type)&&t.click&&P(t,"input")&&Te(t,"click"),!0},_default:function(e){var t=e.target;return ge.test(t.type)&&t.click&&P(t,"input")&&Q.get(t,"click")||P(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},C.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},C.Event=function(e,t){if(!(this instanceof C.Event))return new C.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Ee:ke,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&C.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[C.expando]=!0},C.Event.prototype={constructor:C.Event,isDefaultPrevented:ke,isPropagationStopped:ke,isImmediatePropagationStopped:ke,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Ee,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Ee,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Ee,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},C.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},C.event.addProp),C.each({focus:"focusin",blur:"focusout"},(function(e,t){C.event.special[e]={setup:function(){return Te(this,e,Ae),!1},trigger:function(){return Te(this,e),!0},_default:function(t){return Q.get(t.target,e)},delegateType:t}})),C.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){C.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=e.relatedTarget,i=e.handleObj;return r&&(r===this||C.contains(this,r))||(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}})),C.fn.extend({on:function(e,t,n,r){return Ne(this,e,t,n,r)},one:function(e,t,n,r){return Ne(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,C(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=ke),this.each((function(){C.event.remove(this,e,n,t)}))}});var Pe=/<script|<style|<link/i,Oe=/checked\s*(?:[^=]|=\s*.checked.)/i,Ie=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Re(e,t){return P(e,"table")&&P(11!==t.nodeType?t:t.firstChild,"tr")&&C(e).children("tbody")[0]||e}function Le(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Me(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function De(e,t){var n,r,i,o,s,a;if(1===t.nodeType){if(Q.hasData(e)&&(a=Q.get(e).events))for(i in Q.remove(t,"handle events"),a)for(n=0,r=a[i].length;n<r;n++)C.event.add(t,i,a[i][n]);X.hasData(e)&&(o=X.access(e),s=C.extend({},o),X.set(t,s))}}function je(e,t){var n=t.nodeName.toLowerCase();"input"===n&&ge.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function Fe(e,t,n,r){t=c(t);var i,o,s,a,u,l,h=0,d=e.length,f=d-1,p=t[0],m=v(p);if(m||d>1&&"string"==typeof p&&!g.checkClone&&Oe.test(p))return e.each((function(i){var o=e.eq(i);m&&(t[0]=p.call(this,i,o.html())),Fe(o,t,n,r)}));if(d&&(o=(i=xe(t,e[0].ownerDocument,!1,e,r)).firstChild,1===i.childNodes.length&&(i=o),o||r)){for(a=(s=C.map(we(i,"script"),Le)).length;h<d;h++)u=i,h!==f&&(u=C.clone(u,!0,!0),a&&C.merge(s,we(u,"script"))),n.call(e[h],u,h);if(a)for(l=s[s.length-1].ownerDocument,C.map(s,Me),h=0;h<a;h++)u=s[h],ye.test(u.type||"")&&!Q.access(u,"globalEval")&&C.contains(l,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?C._evalUrl&&!u.noModule&&C._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},l):S(u.textContent.replace(Ie,""),u,l))}return e}function Be(e,t,n){for(var r,i=t?C.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||C.cleanData(we(r)),r.parentNode&&(n&&ae(r)&&Se(we(r,"script")),r.parentNode.removeChild(r));return e}C.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,o,s,a=e.cloneNode(!0),c=ae(e);if(!(g.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||C.isXMLDoc(e)))for(s=we(a),r=0,i=(o=we(e)).length;r<i;r++)je(o[r],s[r]);if(t)if(n)for(o=o||we(e),s=s||we(a),r=0,i=o.length;r<i;r++)De(o[r],s[r]);else De(e,a);return(s=we(a,"script")).length>0&&Se(s,!c&&we(e,"script")),a},cleanData:function(e){for(var t,n,r,i=C.event.special,o=0;void 0!==(n=e[o]);o++)if(Y(n)){if(t=n[Q.expando]){if(t.events)for(r in t.events)i[r]?C.event.remove(n,r):C.removeEvent(n,r,t.handle);n[Q.expando]=void 0}n[X.expando]&&(n[X.expando]=void 0)}}}),C.fn.extend({detach:function(e){return Be(this,e,!0)},remove:function(e){return Be(this,e)},text:function(e){return G(this,(function(e){return void 0===e?C.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return Fe(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Re(this,e).appendChild(e)}))},prepend:function(){return Fe(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Re(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return Fe(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return Fe(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(C.cleanData(we(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return C.clone(this,e,t)}))},html:function(e){return G(this,(function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Pe.test(e)&&!be[(ve.exec(e)||["",""])[1].toLowerCase()]){e=C.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(C.cleanData(we(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return Fe(this,arguments,(function(t){var n=this.parentNode;C.inArray(this,e)<0&&(C.cleanData(we(this)),n&&n.replaceChild(t,this))}),e)}}),C.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){C.fn[e]=function(e){for(var n,r=[],i=C(e),o=i.length-1,s=0;s<=o;s++)n=s===o?this:this.clone(!0),C(i[s])[t](n),u.apply(r,n.get());return this.pushStack(r)}}));var qe=new RegExp("^("+re+")(?!px)[a-z%]+$","i"),Ue=/^--/,ze=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=r),t.getComputedStyle(e)},$e=function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in r=n.call(e),t)e.style[i]=o[i];return r},He=new RegExp(oe.join("|"),"i"),Ge="[\\x20\\t\\r\\n\\f]",Ve=new RegExp("^"+Ge+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Ge+"+$","g");function We(e,t,n){var r,i,o,s,a=Ue.test(t),c=e.style;return(n=n||ze(e))&&(s=n.getPropertyValue(t)||n[t],a&&(s=s.replace(Ve,"$1")),""!==s||ae(e)||(s=C.style(e,t)),!g.pixelBoxStyles()&&qe.test(s)&&He.test(t)&&(r=c.width,i=c.minWidth,o=c.maxWidth,c.minWidth=c.maxWidth=c.width=s,s=n.width,c.width=r,c.minWidth=i,c.maxWidth=o)),void 0!==s?s+"":s}function Ke(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(l){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",se.appendChild(u).appendChild(l);var e=r.getComputedStyle(l);n="1%"!==e.top,c=12===t(e.marginLeft),l.style.right="60%",s=36===t(e.right),i=36===t(e.width),l.style.position="absolute",o=12===t(l.offsetWidth/3),se.removeChild(u),l=null}}function t(e){return Math.round(parseFloat(e))}var n,i,o,s,a,c,u=b.createElement("div"),l=b.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle="content-box"===l.style.backgroundClip,C.extend(g,{boxSizingReliable:function(){return e(),i},pixelBoxStyles:function(){return e(),s},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),c},scrollboxSize:function(){return e(),o},reliableTrDimensions:function(){var e,t,n,i;return null==a&&(e=b.createElement("table"),t=b.createElement("tr"),n=b.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",se.appendChild(e).appendChild(t).appendChild(n),i=r.getComputedStyle(t),a=parseInt(i.height,10)+parseInt(i.borderTopWidth,10)+parseInt(i.borderBottomWidth,10)===t.offsetHeight,se.removeChild(e)),a}}))}();var Ze=["Webkit","Moz","ms"],Ye=b.createElement("div").style,Je={};function Qe(e){return C.cssProps[e]||Je[e]||(e in Ye?e:Je[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=Ze.length;n--;)if((e=Ze[n]+t)in Ye)return e}(e)||e)}var Xe=/^(none|table(?!-c[ea]).+)/,et={position:"absolute",visibility:"hidden",display:"block"},tt={letterSpacing:"0",fontWeight:"400"};function nt(e,t,n){var r=ie.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function rt(e,t,n,r,i,o){var s="width"===t?1:0,a=0,c=0;if(n===(r?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(c+=C.css(e,n+oe[s],!0,i)),r?("content"===n&&(c-=C.css(e,"padding"+oe[s],!0,i)),"margin"!==n&&(c-=C.css(e,"border"+oe[s]+"Width",!0,i))):(c+=C.css(e,"padding"+oe[s],!0,i),"padding"!==n?c+=C.css(e,"border"+oe[s]+"Width",!0,i):a+=C.css(e,"border"+oe[s]+"Width",!0,i));return!r&&o>=0&&(c+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-c-a-.5))||0),c}function it(e,t,n){var r=ze(e),i=(!g.boxSizingReliable()||n)&&"border-box"===C.css(e,"boxSizing",!1,r),o=i,s=We(e,t,r),a="offset"+t[0].toUpperCase()+t.slice(1);if(qe.test(s)){if(!n)return s;s="auto"}return(!g.boxSizingReliable()&&i||!g.reliableTrDimensions()&&P(e,"tr")||"auto"===s||!parseFloat(s)&&"inline"===C.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===C.css(e,"boxSizing",!1,r),(o=a in e)&&(s=e[a])),(s=parseFloat(s)||0)+rt(e,t,n||(i?"border":"content"),o,r,s)+"px"}function ot(e,t,n,r,i){return new ot.prototype.init(e,t,n,r,i)}C.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=We(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,s,a=Z(t),c=Ue.test(t),u=e.style;if(c||(t=Qe(a)),s=C.cssHooks[t]||C.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(i=s.get(e,!1,r))?i:u[t];"string"==(o=typeof n)&&(i=ie.exec(n))&&i[1]&&(n=le(e,t,i),o="number"),null!=n&&n==n&&("number"!==o||c||(n+=i&&i[3]||(C.cssNumber[a]?"":"px")),g.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,r))||(c?u.setProperty(t,n):u[t]=n))}},css:function(e,t,n,r){var i,o,s,a=Z(t);return Ue.test(t)||(t=Qe(a)),(s=C.cssHooks[t]||C.cssHooks[a])&&"get"in s&&(i=s.get(e,!0,n)),void 0===i&&(i=We(e,t,r)),"normal"===i&&t in tt&&(i=tt[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),C.each(["height","width"],(function(e,t){C.cssHooks[t]={get:function(e,n,r){if(n)return!Xe.test(C.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?it(e,t,r):$e(e,et,(function(){return it(e,t,r)}))},set:function(e,n,r){var i,o=ze(e),s=!g.scrollboxSize()&&"absolute"===o.position,a=(s||r)&&"border-box"===C.css(e,"boxSizing",!1,o),c=r?rt(e,t,r,a,o):0;return a&&s&&(c-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-rt(e,t,"border",!1,o)-.5)),c&&(i=ie.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=C.css(e,t)),nt(0,n,c)}}})),C.cssHooks.marginLeft=Ke(g.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(We(e,"marginLeft"))||e.getBoundingClientRect().left-$e(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),C.each({margin:"",padding:"",border:"Width"},(function(e,t){C.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+oe[r]+t]=o[r]||o[r-2]||o[0];return i}},"margin"!==e&&(C.cssHooks[e+t].set=nt)})),C.fn.extend({css:function(e,t){return G(this,(function(e,t,n){var r,i,o={},s=0;if(Array.isArray(t)){for(r=ze(e),i=t.length;s<i;s++)o[t[s]]=C.css(e,t[s],!1,r);return o}return void 0!==n?C.style(e,t,n):C.css(e,t)}),e,t,arguments.length>1)}}),C.Tween=ot,ot.prototype={constructor:ot,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||C.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(C.cssNumber[n]?"":"px")},cur:function(){var e=ot.propHooks[this.prop];return e&&e.get?e.get(this):ot.propHooks._default.get(this)},run:function(e){var t,n=ot.propHooks[this.prop];return this.options.duration?this.pos=t=C.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ot.propHooks._default.set(this),this}},ot.prototype.init.prototype=ot.prototype,ot.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=C.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){C.fx.step[e.prop]?C.fx.step[e.prop](e):1!==e.elem.nodeType||!C.cssHooks[e.prop]&&null==e.elem.style[Qe(e.prop)]?e.elem[e.prop]=e.now:C.style(e.elem,e.prop,e.now+e.unit)}}},ot.propHooks.scrollTop=ot.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},C.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},C.fx=ot.prototype.init,C.fx.step={};var st,at,ct=/^(?:toggle|show|hide)$/,ut=/queueHooks$/;function lt(){at&&(!1===b.hidden&&r.requestAnimationFrame?r.requestAnimationFrame(lt):r.setTimeout(lt,C.fx.interval),C.fx.tick())}function ht(){return r.setTimeout((function(){st=void 0})),st=Date.now()}function dt(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=oe[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function ft(e,t,n){for(var r,i=(pt.tweeners[t]||[]).concat(pt.tweeners["*"]),o=0,s=i.length;o<s;o++)if(r=i[o].call(n,t,e))return r}function pt(e,t,n){var r,i,o=0,s=pt.prefilters.length,a=C.Deferred().always((function(){delete c.elem})),c=function(){if(i)return!1;for(var t=st||ht(),n=Math.max(0,u.startTime+u.duration-t),r=1-(n/u.duration||0),o=0,s=u.tweens.length;o<s;o++)u.tweens[o].run(r);return a.notifyWith(e,[u,r,n]),r<1&&s?n:(s||a.notifyWith(e,[u,1,0]),a.resolveWith(e,[u]),!1)},u=a.promise({elem:e,props:C.extend({},t),opts:C.extend(!0,{specialEasing:{},easing:C.easing._default},n),originalProperties:t,originalOptions:n,startTime:st||ht(),duration:n.duration,tweens:[],createTween:function(t,n){var r=C.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(r),r},stop:function(t){var n=0,r=t?u.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)u.tweens[n].run(1);return t?(a.notifyWith(e,[u,1,0]),a.resolveWith(e,[u,t])):a.rejectWith(e,[u,t]),this}}),l=u.props;for(function(e,t){var n,r,i,o,s;for(n in e)if(i=t[r=Z(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(s=C.cssHooks[r])&&"expand"in s)for(n in o=s.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(l,u.opts.specialEasing);o<s;o++)if(r=pt.prefilters[o].call(u,e,l,u.opts))return v(r.stop)&&(C._queueHooks(u.elem,u.opts.queue).stop=r.stop.bind(r)),r;return C.map(l,ft,u),v(u.opts.start)&&u.opts.start.call(e,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),C.fx.timer(C.extend(c,{elem:e,anim:u,queue:u.opts.queue})),u}C.Animation=C.extend(pt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return le(n.elem,e,ie.exec(t),n),n}]},tweener:function(e,t){v(e)?(t=e,e=["*"]):e=e.match(F);for(var n,r=0,i=e.length;r<i;r++)n=e[r],pt.tweeners[n]=pt.tweeners[n]||[],pt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,s,a,c,u,l,h="width"in t||"height"in t,d=this,f={},p=e.style,m=e.nodeType&&ue(e),g=Q.get(e,"fxshow");for(r in n.queue||(null==(s=C._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,d.always((function(){d.always((function(){s.unqueued--,C.queue(e,"fx").length||s.empty.fire()}))}))),t)if(i=t[r],ct.test(i)){if(delete t[r],o=o||"toggle"===i,i===(m?"hide":"show")){if("show"!==i||!g||void 0===g[r])continue;m=!0}f[r]=g&&g[r]||C.style(e,r)}if((c=!C.isEmptyObject(t))||!C.isEmptyObject(f))for(r in h&&1===e.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(u=g&&g.display)&&(u=Q.get(e,"display")),"none"===(l=C.css(e,"display"))&&(u?l=u:(fe([e],!0),u=e.style.display||u,l=C.css(e,"display"),fe([e]))),("inline"===l||"inline-block"===l&&null!=u)&&"none"===C.css(e,"float")&&(c||(d.done((function(){p.display=u})),null==u&&(l=p.display,u="none"===l?"":l)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",d.always((function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}))),c=!1,f)c||(g?"hidden"in g&&(m=g.hidden):g=Q.access(e,"fxshow",{display:u}),o&&(g.hidden=!m),m&&fe([e],!0),d.done((function(){for(r in m||fe([e]),Q.remove(e,"fxshow"),f)C.style(e,r,f[r])}))),c=ft(m?g[r]:0,r,d),r in g||(g[r]=c.start,m&&(c.end=c.start,c.start=0))}],prefilter:function(e,t){t?pt.prefilters.unshift(e):pt.prefilters.push(e)}}),C.speed=function(e,t,n){var r=e&&"object"==typeof e?C.extend({},e):{complete:n||!n&&t||v(e)&&e,duration:e,easing:n&&t||t&&!v(t)&&t};return C.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in C.fx.speeds?r.duration=C.fx.speeds[r.duration]:r.duration=C.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){v(r.old)&&r.old.call(this),r.queue&&C.dequeue(this,r.queue)},r},C.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ue).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=C.isEmptyObject(e),o=C.speed(t,n,r),s=function(){var t=pt(this,C.extend({},e),o);(i||Q.get(this,"finish"))&&t.stop(!0)};return s.finish=s,i||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,i=null!=e&&e+"queueHooks",o=C.timers,s=Q.get(this);if(i)s[i]&&s[i].stop&&r(s[i]);else for(i in s)s[i]&&s[i].stop&&ut.test(i)&&r(s[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||C.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=Q.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=C.timers,s=r?r.length:0;for(n.finish=!0,C.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<s;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish}))}}),C.each(["toggle","show","hide"],(function(e,t){var n=C.fn[t];C.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(dt(t,!0),e,r,i)}})),C.each({slideDown:dt("show"),slideUp:dt("hide"),slideToggle:dt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){C.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}})),C.timers=[],C.fx.tick=function(){var e,t=0,n=C.timers;for(st=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||C.fx.stop(),st=void 0},C.fx.timer=function(e){C.timers.push(e),C.fx.start()},C.fx.interval=13,C.fx.start=function(){at||(at=!0,lt())},C.fx.stop=function(){at=null},C.fx.speeds={slow:600,fast:200,_default:400},C.fn.delay=function(e,t){return e=C.fx&&C.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,n){var i=r.setTimeout(t,e);n.stop=function(){r.clearTimeout(i)}}))},function(){var e=b.createElement("input"),t=b.createElement("select").appendChild(b.createElement("option"));e.type="checkbox",g.checkOn=""!==e.value,g.optSelected=t.selected,(e=b.createElement("input")).value="t",e.type="radio",g.radioValue="t"===e.value}();var mt,gt=C.expr.attrHandle;C.fn.extend({attr:function(e,t){return G(this,C.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){C.removeAttr(this,e)}))}}),C.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?C.prop(e,t,n):(1===o&&C.isXMLDoc(e)||(i=C.attrHooks[t.toLowerCase()]||(C.expr.match.bool.test(t)?mt:void 0)),void 0!==n?null===n?void C.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=C.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!g.radioValue&&"radio"===t&&P(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(F);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),mt={set:function(e,t,n){return!1===t?C.removeAttr(e,n):e.setAttribute(n,n),n}},C.each(C.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=gt[t]||C.find.attr;gt[t]=function(e,t,r){var i,o,s=t.toLowerCase();return r||(o=gt[s],gt[s]=i,i=null!=n(e,t,r)?s:null,gt[s]=o),i}}));var vt=/^(?:input|select|textarea|button)$/i,yt=/^(?:a|area)$/i;function bt(e){return(e.match(F)||[]).join(" ")}function wt(e){return e.getAttribute&&e.getAttribute("class")||""}function St(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(F)||[]}C.fn.extend({prop:function(e,t){return G(this,C.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[C.propFix[e]||e]}))}}),C.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&C.isXMLDoc(e)||(t=C.propFix[t]||t,i=C.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=C.find.attr(e,"tabindex");return t?parseInt(t,10):vt.test(e.nodeName)||yt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(C.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),C.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){C.propFix[this.toLowerCase()]=this})),C.fn.extend({addClass:function(e){var t,n,r,i,o,s;return v(e)?this.each((function(t){C(this).addClass(e.call(this,t,wt(this)))})):(t=St(e)).length?this.each((function(){if(r=wt(this),n=1===this.nodeType&&" "+bt(r)+" "){for(o=0;o<t.length;o++)i=t[o],n.indexOf(" "+i+" ")<0&&(n+=i+" ");s=bt(n),r!==s&&this.setAttribute("class",s)}})):this},removeClass:function(e){var t,n,r,i,o,s;return v(e)?this.each((function(t){C(this).removeClass(e.call(this,t,wt(this)))})):arguments.length?(t=St(e)).length?this.each((function(){if(r=wt(this),n=1===this.nodeType&&" "+bt(r)+" "){for(o=0;o<t.length;o++)for(i=t[o];n.indexOf(" "+i+" ")>-1;)n=n.replace(" "+i+" "," ");s=bt(n),r!==s&&this.setAttribute("class",s)}})):this:this.attr("class","")},toggleClass:function(e,t){var n,r,i,o,s=typeof e,a="string"===s||Array.isArray(e);return v(e)?this.each((function(n){C(this).toggleClass(e.call(this,n,wt(this),t),t)})):"boolean"==typeof t&&a?t?this.addClass(e):this.removeClass(e):(n=St(e),this.each((function(){if(a)for(o=C(this),i=0;i<n.length;i++)r=n[i],o.hasClass(r)?o.removeClass(r):o.addClass(r);else void 0!==e&&"boolean"!==s||((r=wt(this))&&Q.set(this,"__className__",r),this.setAttribute&&this.setAttribute("class",r||!1===e?"":Q.get(this,"__className__")||""))})))},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+bt(wt(n))+" ").indexOf(t)>-1)return!0;return!1}});var _t=/\r/g;C.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=v(e),this.each((function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,C(this).val()):e)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=C.map(i,(function(e){return null==e?"":e+""}))),(t=C.valHooks[this.type]||C.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))}))):i?(t=C.valHooks[i.type]||C.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(_t,""):null==n?"":n:void 0}}),C.extend({valHooks:{option:{get:function(e){var t=C.find.attr(e,"value");return null!=t?t:bt(C.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,s="select-one"===e.type,a=s?null:[],c=s?o+1:i.length;for(r=o<0?c:s?o:0;r<c;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!P(n.parentNode,"optgroup"))){if(t=C(n).val(),s)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=C.makeArray(t),s=i.length;s--;)((r=i[s]).selected=C.inArray(C.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),C.each(["radio","checkbox"],(function(){C.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=C.inArray(C(e).val(),t)>-1}},g.checkOn||(C.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),g.focusin="onfocusin"in r;var xt=/^(?:focusinfocus|focusoutblur)$/,Ct=function(e){e.stopPropagation()};C.extend(C.event,{trigger:function(e,t,n,i){var o,s,a,c,u,l,h,d,p=[n||b],m=f.call(e,"type")?e.type:e,g=f.call(e,"namespace")?e.namespace.split("."):[];if(s=d=a=n=n||b,3!==n.nodeType&&8!==n.nodeType&&!xt.test(m+C.event.triggered)&&(m.indexOf(".")>-1&&(g=m.split("."),m=g.shift(),g.sort()),u=m.indexOf(":")<0&&"on"+m,(e=e[C.expando]?e:new C.Event(m,"object"==typeof e&&e)).isTrigger=i?2:3,e.namespace=g.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:C.makeArray(t,[e]),h=C.event.special[m]||{},i||!h.trigger||!1!==h.trigger.apply(n,t))){if(!i&&!h.noBubble&&!y(n)){for(c=h.delegateType||m,xt.test(c+m)||(s=s.parentNode);s;s=s.parentNode)p.push(s),a=s;a===(n.ownerDocument||b)&&p.push(a.defaultView||a.parentWindow||r)}for(o=0;(s=p[o++])&&!e.isPropagationStopped();)d=s,e.type=o>1?c:h.bindType||m,(l=(Q.get(s,"events")||Object.create(null))[e.type]&&Q.get(s,"handle"))&&l.apply(s,t),(l=u&&s[u])&&l.apply&&Y(s)&&(e.result=l.apply(s,t),!1===e.result&&e.preventDefault());return e.type=m,i||e.isDefaultPrevented()||h._default&&!1!==h._default.apply(p.pop(),t)||!Y(n)||u&&v(n[m])&&!y(n)&&((a=n[u])&&(n[u]=null),C.event.triggered=m,e.isPropagationStopped()&&d.addEventListener(m,Ct),n[m](),e.isPropagationStopped()&&d.removeEventListener(m,Ct),C.event.triggered=void 0,a&&(n[u]=a)),e.result}},simulate:function(e,t,n){var r=C.extend(new C.Event,n,{type:e,isSimulated:!0});C.event.trigger(r,null,t)}}),C.fn.extend({trigger:function(e,t){return this.each((function(){C.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return C.event.trigger(e,t,n,!0)}}),g.focusin||C.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=function(e){C.event.simulate(t,e.target,C.event.fix(e))};C.event.special[t]={setup:function(){var r=this.ownerDocument||this.document||this,i=Q.access(r,t);i||r.addEventListener(e,n,!0),Q.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this.document||this,i=Q.access(r,t)-1;i?Q.access(r,t,i):(r.removeEventListener(e,n,!0),Q.remove(r,t))}}}));var Et=r.location,kt={guid:Date.now()},At=/\?/;C.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new r.DOMParser).parseFromString(e,"text/xml")}catch(e){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||C.error("Invalid XML: "+(n?C.map(n.childNodes,(function(e){return e.textContent})).join("\n"):e)),t};var Nt=/\[\]$/,Tt=/\r?\n/g,Pt=/^(?:submit|button|image|reset|file)$/i,Ot=/^(?:input|select|textarea|keygen)/i;function It(e,t,n,r){var i;if(Array.isArray(t))C.each(t,(function(t,i){n||Nt.test(e)?r(e,i):It(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)}));else if(n||"object"!==_(t))r(e,t);else for(i in t)It(e+"["+i+"]",t[i],n,r)}C.param=function(e,t){var n,r=[],i=function(e,t){var n=v(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!C.isPlainObject(e))C.each(e,(function(){i(this.name,this.value)}));else for(n in e)It(n,e[n],t,i);return r.join("&")},C.fn.extend({serialize:function(){return C.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=C.prop(this,"elements");return e?C.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!C(this).is(":disabled")&&Ot.test(this.nodeName)&&!Pt.test(e)&&(this.checked||!ge.test(e))})).map((function(e,t){var n=C(this).val();return null==n?null:Array.isArray(n)?C.map(n,(function(e){return{name:t.name,value:e.replace(Tt,"\r\n")}})):{name:t.name,value:n.replace(Tt,"\r\n")}})).get()}});var Rt=/%20/g,Lt=/#.*$/,Mt=/([?&])_=[^&]*/,Dt=/^(.*?):[ \t]*([^\r\n]*)$/gm,jt=/^(?:GET|HEAD)$/,Ft=/^\/\//,Bt={},qt={},Ut="*/".concat("*"),zt=b.createElement("a");function $t(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(F)||[];if(v(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function Ht(e,t,n,r){var i={},o=e===qt;function s(a){var c;return i[a]=!0,C.each(e[a]||[],(function(e,a){var u=a(t,n,r);return"string"!=typeof u||o||i[u]?o?!(c=u):void 0:(t.dataTypes.unshift(u),s(u),!1)})),c}return s(t.dataTypes[0])||!i["*"]&&s("*")}function Gt(e,t){var n,r,i=C.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&C.extend(!0,e,r),e}zt.href=Et.href,C.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Et.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Et.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ut,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":C.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Gt(Gt(e,C.ajaxSettings),t):Gt(C.ajaxSettings,e)},ajaxPrefilter:$t(Bt),ajaxTransport:$t(qt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,i,o,s,a,c,u,l,h,d,f=C.ajaxSetup({},t),p=f.context||f,m=f.context&&(p.nodeType||p.jquery)?C(p):C.event,g=C.Deferred(),v=C.Callbacks("once memory"),y=f.statusCode||{},w={},S={},_="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(u){if(!s)for(s={};t=Dt.exec(o);)s[t[1].toLowerCase()+" "]=(s[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=s[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return u?o:null},setRequestHeader:function(e,t){return null==u&&(e=S[e.toLowerCase()]=S[e.toLowerCase()]||e,w[e]=t),this},overrideMimeType:function(e){return null==u&&(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(u)x.always(e[x.status]);else for(t in e)y[t]=[y[t],e[t]];return this},abort:function(e){var t=e||_;return n&&n.abort(t),E(0,t),this}};if(g.promise(x),f.url=((e||f.url||Et.href)+"").replace(Ft,Et.protocol+"//"),f.type=t.method||t.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(F)||[""],null==f.crossDomain){c=b.createElement("a");try{c.href=f.url,c.href=c.href,f.crossDomain=zt.protocol+"//"+zt.host!=c.protocol+"//"+c.host}catch(e){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=C.param(f.data,f.traditional)),Ht(Bt,f,t,x),u)return x;for(h in(l=C.event&&f.global)&&0==C.active++&&C.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!jt.test(f.type),i=f.url.replace(Lt,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(Rt,"+")):(d=f.url.slice(i.length),f.data&&(f.processData||"string"==typeof f.data)&&(i+=(At.test(i)?"&":"?")+f.data,delete f.data),!1===f.cache&&(i=i.replace(Mt,"$1"),d=(At.test(i)?"&":"?")+"_="+kt.guid+++d),f.url=i+d),f.ifModified&&(C.lastModified[i]&&x.setRequestHeader("If-Modified-Since",C.lastModified[i]),C.etag[i]&&x.setRequestHeader("If-None-Match",C.etag[i])),(f.data&&f.hasContent&&!1!==f.contentType||t.contentType)&&x.setRequestHeader("Content-Type",f.contentType),x.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Ut+"; q=0.01":""):f.accepts["*"]),f.headers)x.setRequestHeader(h,f.headers[h]);if(f.beforeSend&&(!1===f.beforeSend.call(p,x,f)||u))return x.abort();if(_="abort",v.add(f.complete),x.done(f.success),x.fail(f.error),n=Ht(qt,f,t,x)){if(x.readyState=1,l&&m.trigger("ajaxSend",[x,f]),u)return x;f.async&&f.timeout>0&&(a=r.setTimeout((function(){x.abort("timeout")}),f.timeout));try{u=!1,n.send(w,E)}catch(e){if(u)throw e;E(-1,e)}}else E(-1,"No Transport");function E(e,t,s,c){var h,d,b,w,S,_=t;u||(u=!0,a&&r.clearTimeout(a),n=void 0,o=c||"",x.readyState=e>0?4:0,h=e>=200&&e<300||304===e,s&&(w=function(e,t,n){for(var r,i,o,s,a=e.contents,c=e.dataTypes;"*"===c[0];)c.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in a)if(a[i]&&a[i].test(r)){c.unshift(i);break}if(c[0]in n)o=c[0];else{for(i in n){if(!c[0]||e.converters[i+" "+c[0]]){o=i;break}s||(s=i)}o=o||s}if(o)return o!==c[0]&&c.unshift(o),n[o]}(f,x,s)),!h&&C.inArray("script",f.dataTypes)>-1&&C.inArray("json",f.dataTypes)<0&&(f.converters["text script"]=function(){}),w=function(e,t,n,r){var i,o,s,a,c,u={},l=e.dataTypes.slice();if(l[1])for(s in e.converters)u[s.toLowerCase()]=e.converters[s];for(o=l.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!c&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),c=o,o=l.shift())if("*"===o)o=c;else if("*"!==c&&c!==o){if(!(s=u[c+" "+o]||u["* "+o]))for(i in u)if((a=i.split(" "))[1]===o&&(s=u[c+" "+a[0]]||u["* "+a[0]])){!0===s?s=u[i]:!0!==u[i]&&(o=a[0],l.unshift(a[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+c+" to "+o}}}return{state:"success",data:t}}(f,w,x,h),h?(f.ifModified&&((S=x.getResponseHeader("Last-Modified"))&&(C.lastModified[i]=S),(S=x.getResponseHeader("etag"))&&(C.etag[i]=S)),204===e||"HEAD"===f.type?_="nocontent":304===e?_="notmodified":(_=w.state,d=w.data,h=!(b=w.error))):(b=_,!e&&_||(_="error",e<0&&(e=0))),x.status=e,x.statusText=(t||_)+"",h?g.resolveWith(p,[d,_,x]):g.rejectWith(p,[x,_,b]),x.statusCode(y),y=void 0,l&&m.trigger(h?"ajaxSuccess":"ajaxError",[x,f,h?d:b]),v.fireWith(p,[x,_]),l&&(m.trigger("ajaxComplete",[x,f]),--C.active||C.event.trigger("ajaxStop")))}return x},getJSON:function(e,t,n){return C.get(e,t,n,"json")},getScript:function(e,t){return C.get(e,void 0,t,"script")}}),C.each(["get","post"],(function(e,t){C[t]=function(e,n,r,i){return v(n)&&(i=i||r,r=n,n=void 0),C.ajax(C.extend({url:e,type:t,dataType:i,data:n,success:r},C.isPlainObject(e)&&e))}})),C.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),C._evalUrl=function(e,t,n){return C.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){C.globalEval(e,t,n)}})},C.fn.extend({wrapAll:function(e){var t;return this[0]&&(v(e)&&(e=e.call(this[0])),t=C(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return v(e)?this.each((function(t){C(this).wrapInner(e.call(this,t))})):this.each((function(){var t=C(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=v(e);return this.each((function(n){C(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){C(this).replaceWith(this.childNodes)})),this}}),C.expr.pseudos.hidden=function(e){return!C.expr.pseudos.visible(e)},C.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},C.ajaxSettings.xhr=function(){try{return new r.XMLHttpRequest}catch(e){}};var Vt={0:200,1223:204},Wt=C.ajaxSettings.xhr();g.cors=!!Wt&&"withCredentials"in Wt,g.ajax=Wt=!!Wt,C.ajaxTransport((function(e){var t,n;if(g.cors||Wt&&!e.crossDomain)return{send:function(i,o){var s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)a[s]=e.xhrFields[s];for(s in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)a.setRequestHeader(s,i[s]);t=function(e){return function(){t&&(t=n=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(Vt[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=t(),n=a.onerror=a.ontimeout=t("error"),void 0!==a.onabort?a.onabort=n:a.onreadystatechange=function(){4===a.readyState&&r.setTimeout((function(){t&&n()}))},t=t("abort");try{a.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}})),C.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),C.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return C.globalEval(e),e}}}),C.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),C.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(r,i){t=C("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),b.head.appendChild(t[0])},abort:function(){n&&n()}}}));var Kt,Zt=[],Yt=/(=)\?(?=&|$)|\?\?/;C.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Zt.pop()||C.expando+"_"+kt.guid++;return this[e]=!0,e}}),C.ajaxPrefilter("json jsonp",(function(e,t,n){var i,o,s,a=!1!==e.jsonp&&(Yt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Yt.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=v(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Yt,"$1"+i):!1!==e.jsonp&&(e.url+=(At.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return s||C.error(i+" was not called"),s[0]},e.dataTypes[0]="json",o=r[i],r[i]=function(){s=arguments},n.always((function(){void 0===o?C(r).removeProp(i):r[i]=o,e[i]&&(e.jsonpCallback=t.jsonpCallback,Zt.push(i)),s&&v(o)&&o(s[0]),s=o=void 0})),"script"})),g.createHTMLDocument=((Kt=b.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Kt.childNodes.length),C.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(g.createHTMLDocument?((r=(t=b.implementation.createHTMLDocument("")).createElement("base")).href=b.location.href,t.head.appendChild(r)):t=b),o=!n&&[],(i=O.exec(e))?[t.createElement(i[1])]:(i=xe([e],t,o),o&&o.length&&C(o).remove(),C.merge([],i.childNodes)));var r,i,o},C.fn.load=function(e,t,n){var r,i,o,s=this,a=e.indexOf(" ");return a>-1&&(r=bt(e.slice(a)),e=e.slice(0,a)),v(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),s.length>0&&C.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done((function(e){o=arguments,s.html(r?C("<div>").append(C.parseHTML(e)).find(r):e)})).always(n&&function(e,t){s.each((function(){n.apply(this,o||[e.responseText,t,e])}))}),this},C.expr.pseudos.animated=function(e){return C.grep(C.timers,(function(t){return e===t.elem})).length},C.offset={setOffset:function(e,t,n){var r,i,o,s,a,c,u=C.css(e,"position"),l=C(e),h={};"static"===u&&(e.style.position="relative"),a=l.offset(),o=C.css(e,"top"),c=C.css(e,"left"),("absolute"===u||"fixed"===u)&&(o+c).indexOf("auto")>-1?(s=(r=l.position()).top,i=r.left):(s=parseFloat(o)||0,i=parseFloat(c)||0),v(t)&&(t=t.call(e,n,C.extend({},a))),null!=t.top&&(h.top=t.top-a.top+s),null!=t.left&&(h.left=t.left-a.left+i),"using"in t?t.using.call(e,h):l.css(h)}},C.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){C.offset.setOffset(this,e,t)}));var t,n,r=this[0];return r?r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===C.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===C.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=C(e).offset()).top+=C.css(e,"borderTopWidth",!0),i.left+=C.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-C.css(r,"marginTop",!0),left:t.left-i.left-C.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===C.css(e,"position");)e=e.offsetParent;return e||se}))}}),C.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;C.fn[e]=function(r){return G(this,(function(e,r,i){var o;if(y(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===i)return o?o[t]:e[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i}),e,r,arguments.length)}})),C.each(["top","left"],(function(e,t){C.cssHooks[t]=Ke(g.pixelPosition,(function(e,n){if(n)return n=We(e,t),qe.test(n)?C(e).position()[t]+"px":n}))})),C.each({Height:"height",Width:"width"},(function(e,t){C.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,r){C.fn[r]=function(i,o){var s=arguments.length&&(n||"boolean"!=typeof i),a=n||(!0===i||!0===o?"margin":"border");return G(this,(function(t,n,i){var o;return y(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?C.css(t,n,a):C.style(t,n,i,a)}),t,s?i:void 0,s)}}))})),C.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){C.fn[t]=function(e){return this.on(t,e)}})),C.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),C.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){C.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}));var Jt=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;C.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),v(e))return r=a.call(arguments,2),i=function(){return e.apply(t||this,r.concat(a.call(arguments)))},i.guid=e.guid=e.guid||C.guid++,i},C.holdReady=function(e){e?C.readyWait++:C.ready(!0)},C.isArray=Array.isArray,C.parseJSON=JSON.parse,C.nodeName=P,C.isFunction=v,C.isWindow=y,C.camelCase=Z,C.type=_,C.now=Date.now,C.isNumeric=function(e){var t=C.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},C.trim=function(e){return null==e?"":(e+"").replace(Jt,"$1")},void 0===(n=function(){return C}.apply(t,[]))||(e.exports=n);var Qt=r.jQuery,Xt=r.$;return C.noConflict=function(e){return r.$===C&&(r.$=Xt),e&&r.jQuery===C&&(r.jQuery=Qt),C},void 0===i&&(r.jQuery=r.$=C),C}))},28459:(e,t,n)=>{"use strict";n.d(t,{as:()=>Oc,vx:()=>qh,sc:()=>Pc,HT:()=>zl,jR:()=>oh,V2:()=>Uh,qO:()=>zh});var r={};n.r(r),n.d(r,{Decoder:()=>Xs,Encoder:()=>Js,PacketType:()=>Ys,protocol:()=>Zs});var i,o=n(20030),s=new Uint8Array(16);function a(){if(!i&&!(i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(s)}const c=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var u=[],l=0;l<256;++l)u.push((l+256).toString(16).substr(1));const h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(u[e[t+0]]+u[e[t+1]]+u[e[t+2]]+u[e[t+3]]+"-"+u[e[t+4]]+u[e[t+5]]+"-"+u[e[t+6]]+u[e[t+7]]+"-"+u[e[t+8]]+u[e[t+9]]+"-"+u[e[t+10]]+u[e[t+11]]+u[e[t+12]]+u[e[t+13]]+u[e[t+14]]+u[e[t+15]]).toLowerCase();if(!function(e){return"string"==typeof e&&c.test(e)}(n))throw TypeError("Stringified UUID is invalid");return n},d=function(e,t,n){var r=(e=e||{}).random||(e.rng||a)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return h(r)};var f=n(14318),p=n(44172),m=n(25017),g=n(81913);const v=e=>"fluid"===(null==e?void 0:e.type);function y(e){if(!v(e))throw new Error(`resolved is not a Fluid url. Type: ${null==e?void 0:e.type}`)}class b{constructor(e){this.urlResolvers=e}static create(e){return Array.isArray(e)?1===e.length?e[0]:new b(e):e}async resolve(e){return async function(e,t){let n;for(const r of e)if(n=await r.resolve(Object.assign({},t)),void 0!==n)return n}(this.urlResolvers,e)}async getAbsoluteUrl(e,t){throw new Error("Not implmented")}}var w=n(84760);class S{constructor(e){this.protocolName="none:",this.protocolToDocumentFactoryMap=new Map,e.forEach((e=>{this.protocolToDocumentFactoryMap.set(e.protocolName,e)}))}static create(e){if(Array.isArray(e)){const t=[];return e.forEach((e=>{const n=e;void 0!==n.protocolToDocumentFactoryMap?t.push(...n.protocolToDocumentFactoryMap.values()):t.push(e)})),1===t.length?t[0]:new S(t)}return e}async createDocumentService(e,t,n){y(e);const r=(0,w.Qc)(e.url);if(void 0===r.protocol||null===r.protocol)throw new Error("No protocol provided");const i=this.protocolToDocumentFactoryMap.get(r.protocol);if(void 0===i)throw new Error("Unknown Fluid protocol");return i.createDocumentService(e,t,n)}async createContainer(e,t,n,r){y(t);const i=(0,w.Qc)(t.url);if(void 0===i.protocol||null===i.protocol)throw new Error("No protocol provided");const o=this.protocolToDocumentFactoryMap.get(i.protocol);if(void 0===o)throw new Error("Unknown Fluid protocol");return o.createContainer(e,t,n,r)}}var _=n(15409),x=n.n(_),C=n(46985),E=n(36146),k=n(90088),A=n(53548),N=n(85703),T=n(8515);class P extends T.j4{constructor(e,t,n){super(e,n,new Set(["error"])),this.error=t,this.errorType=N.u.genericError}}class O extends T.j4{constructor(e,t,n){super(e,n),this.retryAfterSeconds=t,this.errorType=N.u.throttlingError}static wrap(e,t,n){return(0,T.bO)(e,(e=>new O(e,t)),n)}}class I extends T.j4{constructor(e){super(e,{usageError:!0}),this.errorType="usageError"}}class R extends T.j4{constructor(e,t){super(e,{timeoutMs:t}),this.expiryMs=t,this.errorType=N.u.clientSessionExpiredError}}class L extends T.j4{constructor(e,t){super(e,Object.assign(Object.assign({},t),{dataProcessingError:1})),this.errorType=N.u.dataCorruptionError,this.canRetry=!1}}class M extends T.j4{constructor(e){super(e),this.errorType=N.u.dataProcessingError,this.canRetry=!1}static create(e,t,n,r={}){const i=M.wrapIfUnrecognized(e,t,n);return i.addTelemetryProperties(r),i}static wrapIfUnrecognized(e,t,n){const r=Object.assign({dataProcessingError:1,dataProcessingCodepath:t},void 0===n?void 0:D(n)),i=(0,T.SC)(e,{props:r});if(!(0,T.XY)(i))return i;const o=(0,T.Jn)(i,(e=>new M(e)));return o.addTelemetryProperties(i.getTelemetryProperties()),o}}const D=e=>({messageClientId:e.clientId,messageSequenceNumber:e.sequenceNumber,messageClientSequenceNumber:e.clientSequenceNumber,messageReferenceSequenceNumber:e.referenceSequenceNumber,messageMinimumSequenceNumber:e.minimumSequenceNumber,messageTimestamp:e.timestamp});var j,F;function B(e,t){return{type:j.Tree,tree:{".protocol":t,".app":e}}}(F=j||(j={})).Tree=1,F.Blob=2,F.Handle=3,F.Attachment=4;var q,U,z,$=n(62707);function H(){return"object"==typeof navigator&&null!==navigator&&"boolean"==typeof navigator.onLine?navigator.onLine?z.Online:z.Offline:z.Unknown}!function(e){e.genericError="genericError",e.genericNetworkError="genericNetworkError",e.authorizationError="authorizationError",e.fileNotFoundOrAccessDeniedError="fileNotFoundOrAccessDeniedError",e.throttlingError="throttlingError",e.offlineError="offlineError",e.unsupportedClientProtocolVersion="unsupportedClientProtocolVersion",e.writeError="writeError",e.fetchFailure="fetchFailure",e.incorrectServerResponse="incorrectServerResponse",e.fileOverwrittenInStorage="fileOverwrittenInStorage",e.deltaStreamConnectionForbidden="deltaStreamConnectionForbidden",e.locationRedirection="locationRedirection"}(q||(q={})),function(e){e[e.Offline=0]="Offline",e[e.Online=1]="Online",e[e.Unknown=2]="Unknown"}(z||(z={}));class G extends T.j4{constructor(e,t,n){super(e,n),this.canRetry=t,this.errorType=q.genericNetworkError}}const V="deltaStreamConnectionForbidden";class W extends T.j4{constructor(e,t){super(e,Object.assign(Object.assign({},t),{statusCode:400})),this.errorType=W.errorType,this.canRetry=!1}}W.errorType=null!==(U=q[V])&&void 0!==U?U:V;class K extends T.j4{constructor(e,t,n,r){super(e,r,new Set(["claims","tenantId"])),this.claims=t,this.tenantId=n,this.errorType=q.authorizationError,this.canRetry=!1}}class Z extends T.j4{constructor(e,t,n,r){super(e,r),this.errorType=t,this.canRetry=n}}class Y extends Z{constructor(e,t,n){super(e,t,!1,n),this.errorType=t}}class J extends T.j4{constructor(e,t,n){super(e,n),this.retryAfterSeconds=t,this.errorType=q.throttlingError,this.canRetry=!0}}function Q(e,t,n){return void 0!==t.retryAfterMs&&t.canRetry?new J(e,t.retryAfterMs/1e3,n):new G(e,t.canRetry,n)}const X=e=>!0===(null==e?void 0:e.canRetry),ee=e=>null==e?void 0:e.retryAfterSeconds,te=e=>void 0!==(null==e?void 0:e.retryAfterSeconds)?1e3*e.retryAfterSeconds:void 0,ne="1.3.6";async function re(e,t,n,r){var i,o;let s,a=!1,c=1e3,u=0;const l=C.S.now();let h;do{try{s=await e(r.cancel),a=!0}catch(e){if(!X(e))throw n.sendTelemetryEvent({eventName:`${t}_cancel`,retry:u,duration:C.S.now()-l,fetchCallName:t},e),e;if(!0===(null===(i=r.cancel)||void 0===i?void 0:i.aborted))throw n.sendTelemetryEvent({eventName:`${t}_runWithRetryAborted`,retry:u,duration:C.S.now()-l,fetchCallName:t},e),new Y("runWithRetry was Aborted",q.genericError,{driverVersion:ne,fetchCallName:t});u++,h=e,c=null!==(o=te(e))&&void 0!==o?o:Math.min(2*c,8e3),r.onRetry&&r.onRetry(c,e),await(0,$.g)(c)}}while(!a);return u>0&&n.sendTelemetryEvent({eventName:`${t}_lastError`,retry:u,duration:C.S.now()-l,fetchCallName:t},h),s}var ie,oe,se,ae,ce,ue,le=n(99133);async function he(e,t){const n=await e.readBlob(t),r=(0,le.zT)(n,"utf8");return JSON.parse(r)}function de(e){return e.type===ie.Operation||e.type===ie.Summarize}function fe(e){return!!Object.values(se).includes(e.type)}(ue=ie||(ie={})).NoOp="noop",ue.ClientJoin="join",ue.ClientLeave="leave",ue.Propose="propose",ue.Reject="reject",ue.Summarize="summarize",ue.SummaryAck="summaryAck",ue.SummaryNack="summaryNack",ue.Operation="op",ue.RemoteHelp="remoteHelp",ue.NoClient="noClient",ue.RoundTrip="tripComplete",ue.Control="control",function(e){e.ThrottlingError="ThrottlingError",e.InvalidScopeError="InvalidScopeError",e.BadRequestError="BadRequestError",e.LimitExceededError="LimitExceededError"}(oe||(oe={})),function(e){e.FluidDataStoreOp="component",e.Attach="attach",e.ChunkedOp="chunkedOp",e.BlobAttach="blobAttach",e.Rejoin="rejoin",e.Alias="alias",e.Operation="op"}(se||(se={})),function(e){e.NoOp="noop",e.ClientJoin="join",e.ClientLeave="leave",e.Propose="propose",e.Reject="reject",e.Summarize="summarize",e.SummaryAck="summaryAck",e.SummaryNack="summaryNack",e.Operation="op",e.RemoteHelp="remoteHelp",e.NoClient="noClient",e.RoundTrip="tripComplete",e.Control="control"}(ae||(ae={})),function(e){e.ThrottlingError="ThrottlingError",e.InvalidScopeError="InvalidScopeError",e.BadRequestError="BadRequestError",e.LimitExceededError="LimitExceededError"}(ce||(ce={}));var pe,me,ge,ve=n(50343),ye=n(30454),be=n.n(ye),we=n(62653);class Se{constructor(e,t,n,r){this.sequenceNumber=e,this.key=t,this.value=n,this.local=r}}class _e extends we.L{constructor(e){super(),this.isDisposed=!1,this.members=new Map(e),this.snapshotCache=e}get disposed(){return this.isDisposed}snapshot(){var e;return null!==(e=this.snapshotCache)&&void 0!==e||(this.snapshotCache=be()(Array.from(this.members))),this.snapshotCache}addMember(e,t){(0,E.h)(!this.members.has(e),462),this.members.set(e,t),this.emit("addMember",e,t),this.snapshotCache=void 0}removeMember(e){(0,E.h)(this.members.has(e),463),this.members.delete(e),this.emit("removeMember",e),this.snapshotCache=void 0}getMembers(){return new Map(this.members)}getMember(e){return this.members.get(e)}dispose(){this.isDisposed=!0}}class xe extends we.L{constructor(e,t){super(),this.sendProposal=t,this.isDisposed=!1,this.stateEvents=new ve.EventEmitter,this.proposals=new Map(e.proposals.map((([,e])=>[e.sequenceNumber,new Se(e.sequenceNumber,e.key,e.value,!1)]))),this.values=new Map(e.values),this.proposalsSnapshotCache=e.proposals,this.valuesSnapshotCache=e.values}get disposed(){return this.isDisposed}snapshot(){var e,t;return null!==(e=this.proposalsSnapshotCache)&&void 0!==e||(this.proposalsSnapshotCache=Array.from(this.proposals).map((([e,t])=>[e,{sequenceNumber:e,key:t.key,value:t.value},[]]))),null!==(t=this.valuesSnapshotCache)&&void 0!==t||(this.valuesSnapshotCache=be()(Array.from(this.values))),{proposals:this.proposalsSnapshotCache,values:this.valuesSnapshotCache}}has(e){return this.values.has(e)}get(e){var t;return null===(t=this.values.get(e))||void 0===t?void 0:t.value}getApprovalData(e){const t=this.values.get(e);return t?be()(t):void 0}async propose(e,t){const n=this.sendProposal(e,t);if(n<0)throw this.emit("error",{eventName:"ProposalInDisconnectedState",key:e}),new Error("Can't propose in disconnected state");return new Promise(((e,t)=>{let r;const i=(e,t)=>{e===n&&(r=t,this.stateEvents.off("localProposalSequenced",i),this.stateEvents.off("disconnected",s),this.stateEvents.on("localProposalApproved",o))},o=t=>{t===r&&(e(),c())},s=()=>{void 0===r&&this.stateEvents.once("connected",(()=>{void 0===r&&(t(new Error("Client disconnected without successfully sending proposal")),c())}))},a=()=>{t(new Error("QuorumProposals was disposed")),c()},c=()=>{this.stateEvents.off("localProposalSequenced",i),this.stateEvents.off("localProposalApproved",o),this.stateEvents.off("disconnected",s),this.stateEvents.off("disposed",a)};this.stateEvents.on("localProposalSequenced",i),this.stateEvents.on("disconnected",s),this.stateEvents.on("disposed",a)}))}addProposal(e,t,n,r,i){(0,E.h)(!this.proposals.has(n),464);const o=new Se(n,e,t,r);this.proposals.set(n,o),this.emit("addProposal",o),r&&this.stateEvents.emit("localProposalSequenced",i,n),this.proposalsSnapshotCache=void 0}updateMinimumSequenceNumber(e){const t=e.minimumSequenceNumber,n=[];for(const[e,r]of this.proposals)e<=t&&n.push(r);n.sort(((e,t)=>e.sequenceNumber-t.sequenceNumber));for(const t of n){const n={approvalSequenceNumber:e.sequenceNumber,commitSequenceNumber:-1,key:t.key,sequenceNumber:t.sequenceNumber,value:t.value};this.values.set(n.key,n),this.valuesSnapshotCache=void 0,this.emit("approveProposal",n.sequenceNumber,n.key,n.value,n.approvalSequenceNumber),this.proposals.delete(t.sequenceNumber),this.proposalsSnapshotCache=void 0,t.local&&this.stateEvents.emit("localProposalApproved",t.sequenceNumber)}}setConnectionState(e){e?this.stateEvents.emit("connected"):this.stateEvents.emit("disconnected")}dispose(){this.isDisposed=!0,this.stateEvents.emit("disposed")}}class Ce extends we.L{constructor(e,t,n,r){super(),this.isDisposed=!1,this.quorumClients=new _e(e),this.quorumClients.on("addMember",((e,t)=>{this.emit("addMember",e,t)})),this.quorumClients.on("removeMember",(e=>{this.emit("removeMember",e)})),this.quorumProposals=new xe({proposals:t,values:n},r),this.quorumProposals.on("addProposal",(e=>{this.emit("addProposal",e)})),this.quorumProposals.on("approveProposal",((e,t,n,r)=>{this.emit("approveProposal",e,t,n,r)}))}get disposed(){return this.isDisposed}close(){this.removeAllListeners()}snapshot(){const e=this.quorumClients.snapshot(),{proposals:t,values:n}=this.quorumProposals.snapshot();return{members:e,proposals:t,values:n}}has(e){return this.quorumProposals.has(e)}get(e){return this.quorumProposals.get(e)}getApprovalData(e){return this.quorumProposals.getApprovalData(e)}addMember(e,t){this.quorumClients.addMember(e,t)}removeMember(e){this.quorumClients.removeMember(e)}getMembers(){return this.quorumClients.getMembers()}getMember(e){return this.quorumClients.getMember(e)}async propose(e,t){return this.quorumProposals.propose(e,t)}addProposal(e,t,n,r,i){return this.quorumProposals.addProposal(e,t,n,r,i)}updateMinimumSequenceNumber(e){this.quorumProposals.updateMinimumSequenceNumber(e)}setConnectionState(e,t){this.quorumProposals.setConnectionState(e)}dispose(){throw new Error("Not implemented.")}}class Ee{constructor(e,t,n,r,i,o,s){this.minimumSequenceNumber=e,this.sequenceNumber=t,this.term=null!=n?n:1,this._quorum=new Ce(r,i,o,s)}get quorum(){return this._quorum}get attributes(){return{minimumSequenceNumber:this.minimumSequenceNumber,sequenceNumber:this.sequenceNumber,term:this.term}}setConnectionState(e,t){this._quorum.setConnectionState(e,t)}snapshot(){return this._quorum.snapshot()}close(){this._quorum.close()}processMessage(e,t){if(e.sequenceNumber!==this.sequenceNumber+1)throw new Error(`Protocol state is not moving sequentially. Current is ${this.sequenceNumber}. Next is ${e.sequenceNumber}`);this.sequenceNumber=e.sequenceNumber,this.minimumSequenceNumber=e.minimumSequenceNumber;let n=!1;switch(e.type){case ae.ClientJoin:const r=e,i=JSON.parse(r.data),o={client:i.detail,sequenceNumber:r.sequenceNumber};this._quorum.addMember(i.clientId,o);break;case ae.ClientLeave:const s=e,a=JSON.parse(s.data);this._quorum.removeMember(a);break;case ae.Propose:const c=e.contents;this._quorum.addProposal(c.key,c.value,e.sequenceNumber,t,e.clientSequenceNumber),n=!0;break;case ae.Reject:throw new Error("Quorum rejection is removed.")}return this._quorum.updateMinimumSequenceNumber(e),{immediateNoOp:n}}getProtocolState(){return Object.assign({sequenceNumber:this.sequenceNumber,minimumSequenceNumber:this.minimumSequenceNumber},this._quorum.snapshot())}}class ke extends Ee{processMessage(e,t){const n=this._quorum.getMember(e.clientId);if(null!=e.clientId){if(void 0===n&&e.type!==ae.ClientJoin)throw new Error("Remote message's clientId is missing from the quorum");if(!0===(null==n?void 0:n.shouldHaveLeft)&&e.type!==ae.NoOp)throw new Error("Remote message's clientId already should have left")}return super.processMessage(e,t)}}!function(e){e.Tree=1,e.Blob=2,e.Handle=3,e.Attachment=4}(pe||(pe={})),function(e){e.NoOp="noop",e.ClientJoin="join",e.ClientLeave="leave",e.Propose="propose",e.Reject="reject",e.Summarize="summarize",e.SummaryAck="summaryAck",e.SummaryNack="summaryNack",e.Operation="op",e.RemoteHelp="remoteHelp",e.NoClient="noClient",e.RoundTrip="tripComplete",e.Control="control"}(me||(me={})),function(e){e.ThrottlingError="ThrottlingError",e.InvalidScopeError="InvalidScopeError",e.BadRequestError="BadRequestError",e.LimitExceededError="LimitExceededError"}(ge||(ge={}));var Ae=n(86653),Ne=n(51974),Te=n(96409);class Pe extends Te.EventEmitter{constructor(){super(...arguments),this.members=new Map}on(e,t){return super.on(e,t)}addMember(e,t){this.members.set(e,t),this.emit("addMember",e,t)}removeMember(e){const t=this.members.get(e);return void 0!==t&&(this.members.delete(e),this.emit("removeMember",e,t),!0)}getMembers(){return new Map(this.members)}getMember(e){return this.members.get(e)}clear(){const e=this.members.keys();for(const t of e)this.removeMember(t)}}var Oe,Ie=n(95091);class Re{constructor(e,t,n,r,i,o,s,a,c,u,l,h,d,f,p){this.container=e,this.scope=t,this.codeLoader=n,this._codeDetails=r,this._baseSnapshot=i,this.deltaManager=o,this.loader=a,this.submitFn=c,this.submitSignalFn=u,this.closeFn=l,this.version=h,this.updateDirtyContainerState=d,this.existing=f,this.pendingLocalState=p,this._disposed=!1,this._quorum=s,this.taggedLogger=e.subLogger,this._fluidModuleP=new Ie.d((async()=>this.loadCodeModule(r))),this.attachListener()}static async createOrLoad(e,t,n,r,i,o,s,a,c,u,l,h,d,f,p){const m=new Re(e,t,n,r,i,o,s,a,c,u,l,h,d,f,p);return await m.instantiateRuntime(f),m}get clientId(){return this.container.clientId}get id(){const e=this.container.resolvedUrl;return v(e)?e.id:""}get clientDetails(){return this.container.clientDetails}get connected(){return this.container.connected}get canSummarize(){return"summarize"in this.runtime}get serviceConfiguration(){return this.container.serviceConfiguration}get audience(){return this.container.audience}get options(){return this.container.options}get baseSnapshot(){return this._baseSnapshot}get storage(){return this.container.storage}get runtime(){if(void 0===this._runtime)throw new Error("Attempted to access runtime before it was defined");return this._runtime}get disposed(){return this._disposed}get codeDetails(){return this._codeDetails}get quorum(){return this._quorum}getSpecifiedCodeDetails(){var e;return null!==(e=this._quorum.get("code"))&&void 0!==e?e:this._quorum.get("code2")}dispose(e){this._disposed||(this._disposed=!0,this.runtime.dispose(e),this._quorum.dispose(),this.deltaManager.dispose())}getLoadedFromVersion(){return this.container.loadedFromVersion}get attachState(){return this.container.attachState}createSummary(e){return this.runtime.createSummary(e)}setConnectionState(e,t){const n=this.runtime;(0,E.h)(e===this.connected,222),n.setConnectionState(e,t)}process(e,t,n){this.runtime.process(e,t,n)}processSignal(e,t){this.runtime.processSignal(e,t)}async request(e){return this.runtime.request(e)}async getAbsoluteUrl(e){return this.container.getAbsoluteUrl(e)}getPendingLocalState(){return this.runtime.getPendingLocalState()}async satisfies(e){var t;const n=[],r=this.codeLoader;void 0!==r.IFluidCodeDetailsComparer&&n.push(r.IFluidCodeDetailsComparer);const i=await this._fluidModuleP,o=null===(t=i.module)||void 0===t?void 0:t.fluidExport;if(void 0!==(null==o?void 0:o.IFluidCodeDetailsComparer)&&n.push(o.IFluidCodeDetailsComparer),0===n.length)return!1;for(const t of n)if(!1===await t.satisfies(i.details,e))return!1;return!0}notifyAttaching(e){var t,n;this._baseSnapshot=e,null===(n=(t=this.runtime).notifyAttaching)||void 0===n||n.call(t,e),this.runtime.setAttachState(o.mB.Attaching)}async getRuntimeFactory(){var e;const t=null===(e=(await this._fluidModuleP).module)||void 0===e?void 0:e.fluidExport,n=null==t?void 0:t.IRuntimeFactory;if(void 0===n)throw new Error("Code package does not implement IRuntimeFactory");return n}async instantiateRuntime(e){const t=await this.getRuntimeFactory();this._runtime=await t.instantiateRuntime(this,e)}attachListener(){this.container.once("attached",(()=>{this.runtime.setAttachState(o.mB.Attached)}))}async loadCodeModule(e){const t=await g.Xr.timedExecAsync(this.taggedLogger,{eventName:"CodeLoad"},(async()=>this.codeLoader.load(e)));if("module"in t){const{module:n,details:r}=t;return{module:n,details:null!=r?r:e}}return this.taggedLogger.sendTelemetryEvent({eventName:"LegacyCodeLoader"}),t}}!function(e){e.Never="Never",e.Disabled="Disabled",e.Enabled="Enabled"}(Oe||(Oe={}));var Le=n(30473),Me=n.n(Le),De=n(18435),je=n(86213),Fe=n.n(je);class Be extends we.L{constructor(e){super(),this.worker=e,this.isDisposed=!1,this.q=new(Fe()),this.pauseCount=1}get disposed(){return this.isDisposed}get paused(){return 0!==this.pauseCount}get length(){return this.q.length}get idle(){return void 0===this.processingPromise&&0===this.q.length}async waitTillProcessingDone(){var e;return null!==(e=this.processingPromise)&&void 0!==e?e:{count:0,duration:0}}dispose(){throw new Error("Not implemented.")}clear(){this.q.clear()}peek(){return this.q.peekFront()}toArray(){return this.q.toArray()}push(e){try{this.q.push(e),this.emit("push",e),this.ensureProcessing()}catch(e){this.emit("error",e)}}async pause(){this.pauseCount++,await this.waitTillProcessingDone()}resume(){(0,E.h)(this.pauseCount>0,244),this.pauseCount--,this.ensureProcessing()}ensureProcessing(){this.anythingToProcess()&&void 0===this.processingPromise&&(this.processingPromise=Promise.resolve().then((()=>{(0,E.h)(void 0!==this.processingPromise,"reentrancy?");const e=this.processDeltas();return(0,E.h)(void 0!==this.processingPromise,"reentrancy?"),this.processingPromise=void 0,e})).catch((e=>(this.error=e,this.processingPromise=void 0,this.emit("error",e),{count:0,duration:0}))),(0,E.h)(void 0!==this.processingPromise,"processDeltas() should run async"))}anythingToProcess(){return 0!==this.q.length&&!this.paused&&void 0===this.error}processDeltas(){const e=C.S.now();let t=0;for(;this.anythingToProcess();){const e=this.q.shift();t++,this.worker(e),this.emit("op",e)}const n=C.S.now()-e;return 0===this.q.length&&this.emit("idle",t,n),{count:t,duration:n}}}class qe extends we.L{constructor(e,t,n,r){super(),this.serviceProvider=e,this.logger=t,this._active=n,this.pending=[],this.minSequenceNumber=0,this.lastQueuedSequenceNumber=0,this.lastObservedSeqNumber=0,this.lastProcessedSequenceNumber=0,this.baseTerm=0,this.opsSize=0,this.initSequenceNumber=0,this.closed=!1,this.throttlingIdSet=new Set,this.timeTillThrottling=0,this.closeAbortController=new(Me()),this.deltaStorageDelayId=d(),this.deltaStreamDelayId=d(),this.messageBuffer=[];const i={incomingOpHandler:(e,t)=>{try{this.enqueueMessages(e,t)}catch(e){this.logger.sendErrorEvent({eventName:"EnqueueMessages_Exception"},e),this.close((0,T.SC)(e))}},signalHandler:e=>this._inboundSignal.push(e),reconnectionDelayHandler:(e,t)=>this.emitDelayInfo(this.deltaStreamDelayId,e,t),closeHandler:e=>this.close(e),disconnectHandler:e=>this.disconnectHandler(e),connectHandler:e=>this.connectHandler(e),pongHandler:e=>this.emit("pong",e),readonlyChangeHandler:e=>(0,Ne.Eb)(this,this.logger,"readonly",e)};this.connectionManager=r(i),this._inbound=new Be((e=>{this.processInboundMessage(e)})),this._inbound.on("error",(e=>{this.close(M.wrapIfUnrecognized(e,"deltaManagerInboundErrorHandler",this.lastMessage))})),this._inboundSignal=new Be((e=>{if(void 0===this.handler)throw new Error("Attempted to process an inbound signal without a handler attached");this.handler.processSignal({clientId:e.clientId,content:JSON.parse(e.content)})})),this._inboundSignal.on("error",(e=>{this.close((0,T.SC)(e))}))}get active(){return this._active()}get disposed(){return this.closed}get IDeltaSender(){return this}get inbound(){return this._inbound}get inboundSignal(){return this._inboundSignal}get initialSequenceNumber(){return this.initSequenceNumber}get lastSequenceNumber(){return this.lastProcessedSequenceNumber}get lastMessage(){return this.lastProcessedMessage}get lastKnownSeqNumber(){return this.lastObservedSeqNumber}get referenceTerm(){return this.baseTerm}get minimumSequenceNumber(){return this.minSequenceNumber}get hasCheckpointSequenceNumber(){return(0,E.h)(this.connectionManager.connected,223),void 0!==this._checkpointSequenceNumber}get maxMessageSize(){return this.connectionManager.maxMessageSize}get version(){return this.connectionManager.version}get serviceConfiguration(){return this.connectionManager.serviceConfiguration}get outbound(){return this.connectionManager.outbound}get readOnlyInfo(){return this.connectionManager.readOnlyInfo}get clientDetails(){return this.connectionManager.clientDetails}submit(e,t,n=!1,r){const i={contents:JSON.stringify(t),metadata:r,referenceSequenceNumber:this.lastProcessedSequenceNumber,type:e};n||this.flush();const o=this.connectionManager.prepareMessageToSend(i);return void 0===o?-1:(this.opsSize+=o.contents.length,this.messageBuffer.push(o),this.emit("submitOp",o),n||this.flush(),o.clientSequenceNumber)}submitSignal(e){return this.connectionManager.submitSignal(e)}flush(){0!==this.messageBuffer.length&&(this.emit("prepareSend",this.messageBuffer),this.connectionManager.sendMessages(this.messageBuffer),this.messageBuffer=[])}get connectionProps(){return Object.assign({sequenceNumber:this.lastSequenceNumber,opsSize:this.opsSize>0?this.opsSize:void 0},this.connectionManager.connectionProps)}logConnectionIssue(e){var t;(0,E.h)(this.connectionManager.connected,568);const n=this.pending.sort(((e,t)=>e.sequenceNumber-t.sequenceNumber));this.logger.sendErrorEvent(Object.assign(Object.assign(Object.assign(Object.assign({},e),{fetchReason:this.fetchReason,lastQueuedSequenceNumber:this.lastQueuedSequenceNumber,lastProcessedSequenceNumber:this.lastProcessedSequenceNumber,lastObserved:this.lastObservedSeqNumber}),this.connectionManager.connectionVerboseProps),{pendingOps:this.pending.length,pendingFirst:null===(t=n[0])||void 0===t?void 0:t.sequenceNumber,haveHandler:void 0!==this.handler,inboundLength:this.inbound.length,inboundPaused:this.inbound.paused}))}connectHandler(e){this.refreshDelayInfo(this.deltaStreamDelayId);const t=this.connectionManager.connectionVerboseProps;t.connectionLastQueuedSequenceNumber=this.lastQueuedSequenceNumber,t.connectionLastObservedSeqNumber=this.lastObservedSeqNumber;const n=e.checkpointSequenceNumber;this._checkpointSequenceNumber=n,void 0!==n&&this.updateLatestKnownOpSeqNumber(n),(0,E.h)(0===this.messageBuffer.length,233),this.opsSize=0,this.emit("connect",e,void 0!==n?this.lastObservedSeqNumber-this.lastSequenceNumber:void 0),void 0!==n?n>this.lastQueuedSequenceNumber&&this.fetchMissingDeltas("AfterConnection"):"read"===e.mode&&this.fetchMissingDeltas("AfterReadConnection")}dispose(){throw new Error("Not implemented.")}async attachOpHandler(e,t,n,r,i="none"){if(this.initSequenceNumber=t,this.lastProcessedSequenceNumber=t,this.baseTerm=n,this.minSequenceNumber=e,this.lastQueuedSequenceNumber=t,this.lastObservedSeqNumber=t,(0,E.h)(void 0===this.handler,226),this.handler=r,(0,E.h)(!!this.handler,227),(0,E.h)(void 0===this.fetchReason,616),!this.closed){if(this._inbound.resume(),this._inboundSignal.resume(),"none"!==i){const e="cached"===i;await this.fetchMissingDeltasCore(`DocumentOpen_${i}`,e),e&&this.fetchMissingDeltas("PostDocumentOpen")}(0,E.h)(void 0!==this.fetchReason||0===this.pending.length,617)}}connect(e){var t;const n=null===(t=e.fetchOpsFromStorage)||void 0===t||t;(0,De.M)(void 0!==this.handler||!n,this.logger,"CantFetchWithoutBaseline"),n&&this.fetchMissingDeltas(e.reason),this.connectionManager.connect(e.mode)}async getDeltas(e,t,n,r,i){const o=this.serviceProvider();if(void 0===o)throw new Error("Delta manager is not attached");let s;if(void 0===this.deltaStorage&&(this.deltaStorage=await o.connectToDeltaStorage()),void 0!==t){const r=t-1;if(this.lastQueuedSequenceNumber>=r)return void this.logger.sendPerformanceEvent(Object.assign({reason:n,eventName:"ExtraStorageCall",early:!0,from:e,to:t},this.connectionManager.connectionVerboseProps));s=e=>e.sequenceNumber>=r}else s=e=>e.sequenceNumber>=this.lastObservedSeqNumber;const a=new(Me());let c=!1;const u=e=>{(0,E.h)(e.sequenceNumber===this.lastQueuedSequenceNumber,570),!c&&s(e)&&(a.abort(),this._inbound.off("push",u))};try{this._inbound.on("push",u),(0,E.h)(null===this.closeAbortController.signal.onabort,488),this.closeAbortController.signal.onabort=()=>a.abort();const o=this.deltaStorage.fetchMessages(e,t,a.signal,i,n);for(;;){const e=await o.read();if(e.done)break;try{c=!0,r(e.value)}finally{c=!1}}}finally{this.closeAbortController.signal.onabort=null,this._inbound.off("push",u),(0,E.h)(!c,649)}}close(e){this.closed||(this.closed=!0,this.connectionManager.dispose(e),this.closeAbortController.abort(),this._inbound.clear(),this._inboundSignal.clear(),this._inbound.pause(),this._inboundSignal.pause(),this.pending=[],this.emit("closed",e),this.removeAllListeners())}refreshDelayInfo(e){this.throttlingIdSet.delete(e),0===this.throttlingIdSet.size&&(this.timeTillThrottling=0)}disconnectHandler(e){this.messageBuffer.length=0,this.emit("disconnect",e)}emitDelayInfo(e,t,n){const r=Date.now();if(this.throttlingIdSet.add(e),t>0&&r+t>this.timeTillThrottling){this.timeTillThrottling=r+t;const e=O.wrap(n,t/1e3,this.logger);this.emit("throttled",e)}}comparableMessagePayload(e){return`${e.clientId}-${e.type}-${e.minimumSequenceNumber}-${e.referenceSequenceNumber}-${e.timestamp}`}enqueueMessages(e,t,n=!1){var r,i;if(void 0===this.handler)return void(this.pending=this.pending.concat(e));if((0,E.h)(0===this.pending.length||void 0!==this.fetchReason,489),0===e.length)return;const o=e[0].sequenceNumber,s=e[e.length-1].sequenceNumber;if(s>this.lastQueuedSequenceNumber){let r=o-1;const i=r-this.lastQueuedSequenceNumber;let a,c,u=0,l=0;for(const t of e)t.sequenceNumber===r?u++:t.sequenceNumber!==r+1&&(l++,void 0===a&&(a=r+1)),r=t.sequenceNumber;0!==u||0!==l&&!n||i>0&&void 0===this.fetchReason?c="enqueueMessages":void 0!==this.fetchReason&&this.fetchReason!==t&&o<=this.lastQueuedSequenceNumber+1&&s>this.lastQueuedSequenceNumber&&(c="enqueueMessagesExtraFetch"),void 0!==c&&this.logger.sendPerformanceEvent(Object.assign({eventName:c,reason:t,previousReason:this.prevEnqueueMessagesReason,from:o,to:s+1,length:e.length,fetchReason:this.fetchReason,duplicate:u>0?u:void 0,initialGap:0!==i?i:void 0,gap:l>0?l:void 0,firstMissing:a,dmInitialSeqNumber:this.initialSequenceNumber},this.connectionManager.connectionVerboseProps))}this.updateLatestKnownOpSeqNumber(e[e.length-1].sequenceNumber);const a=null===(r=this.previouslyProcessedMessage)||void 0===r?void 0:r.sequenceNumber;(0,E.h)(void 0===a||a===this.lastQueuedSequenceNumber,236);for(const n of e)if(n.sequenceNumber<=this.lastQueuedSequenceNumber){if((null===(i=this.previouslyProcessedMessage)||void 0===i?void 0:i.sequenceNumber)===n.sequenceNumber){const e=this.comparableMessagePayload(this.previouslyProcessedMessage),t=this.comparableMessagePayload(n);if(e!==t){const r=new Y("Found two messages with the same sequenceNumber but different payloads. Likely to be a service issue",q.fileOverwrittenInStorage,{clientId:this.connectionManager.clientId,sequenceNumber:n.sequenceNumber,message1:e,message2:t,driverVersion:void 0});this.close(r)}}}else n.sequenceNumber!==this.lastQueuedSequenceNumber+1?(this.pending.push(n),this.fetchMissingDeltas(t,n.sequenceNumber)):(this.lastQueuedSequenceNumber=n.sequenceNumber,this.previouslyProcessedMessage=n,this._inbound.push(n));this.prevEnqueueMessagesReason=this.pending.length>0?"unknown":t}processInboundMessage(e){const t=Date.now();if(this.lastProcessedMessage=e,(0,E.h)(void 0!==e.clientId||!function(e){if(de(e))return!0;switch(e.type){case ie.Propose:case ie.Reject:case ie.NoOp:return!0;default:return!1}}(e),237),"string"==typeof e.contents&&""!==e.contents&&e.type!==me.ClientLeave&&(e.contents=JSON.parse(e.contents)),this.connectionManager.beforeProcessingIncomingOp(e),this.minSequenceNumber>e.minimumSequenceNumber)throw new L("Found a lower minimumSequenceNumber (msn) than previously recorded",Object.assign(Object.assign({},D(e)),{clientId:this.connectionManager.clientId}));if(this.minSequenceNumber=e.minimumSequenceNumber,e.sequenceNumber!==this.lastProcessedSequenceNumber+1)throw new L("Found a non-Sequential sequenceNumber",Object.assign(Object.assign({},D(e)),{clientId:this.connectionManager.clientId}));if(this.lastProcessedSequenceNumber=e.sequenceNumber,(0,E.h)(this.lastProcessedSequenceNumber<=this.lastObservedSeqNumber,615),void 0===e.term&&(e.term=1),this.baseTerm=e.term,void 0===this.handler)throw new Error("Attempted to process an inbound message without a handler attached");this.handler.process(e);const n=Date.now();this.emit("op",e,n-t)}fetchMissingDeltas(e,t){this.fetchMissingDeltasCore(e,!1,t).catch((e=>{this.logger.sendErrorEvent({eventName:"fetchMissingDeltasException"},e)}))}async fetchMissingDeltasCore(e,t,n){var r;if(void 0===this.fetchReason)if(this.closed)this.logger.sendTelemetryEvent({eventName:"fetchMissingDeltasClosedConnection",reason:e});else if(void 0!==this.handler)try{let i=this.lastQueuedSequenceNumber+1;const o=null===(r=this.previouslyProcessedMessage)||void 0===r?void 0:r.sequenceNumber;void 0!==o&&((0,E.h)(o===this.lastQueuedSequenceNumber,242),(0,E.h)(i>1,243),i--);const s=`${e}_fetch`;this.fetchReason=s,await this.getDeltas(i,n,s,(e=>{this.refreshDelayInfo(this.deltaStorageDelayId),this.enqueueMessages(e,s)}),t)}catch(e){this.logger.sendErrorEvent({eventName:"GetDeltas_Exception"},e),this.close((0,T.SC)(e))}finally{this.refreshDelayInfo(this.deltaStorageDelayId),this.fetchReason=void 0,this.processPendingOps(e)}else(0,E.h)(0===this.lastQueuedSequenceNumber,619)}processPendingOps(e){if(this.closed)return;(0,E.h)(void 0!==this.handler,620);const t=this.pending.sort(((e,t)=>e.sequenceNumber-t.sequenceNumber));this.pending=[],this.enqueueMessages(t,`${e}_pending`,!0),void 0===this.fetchReason&&this.lastQueuedSequenceNumber<this.lastObservedSeqNumber&&this.fetchMissingDeltas("OpsBehind")}updateLatestKnownOpSeqNumber(e){this.lastObservedSeqNumber<e&&(this.lastObservedSeqNumber=e)}}var Ue=n(78119);class ze extends Ue._{constructor(e){super(e),this.queue=e}get paused(){return this.queue.paused}get length(){return this.queue.length}get idle(){return this.queue.idle}peek(){return this.queue.peek()}toArray(){return this.queue.toArray()}async systemPause(){return this.pause()}async pause(){return this.queue.pause()}async systemResume(){return this.resume()}async resume(){this.queue.resume()}async waitTillProcessingDone(){return this.queue.waitTillProcessingDone()}}class $e extends Ue._{constructor(e){super(e),this.deltaManager=e,this.inbound=new ze(e.inbound),this.outbound=new ze(e.outbound),this.inboundSignal=new ze(e.inboundSignal)}get IDeltaSender(){return this}get minimumSequenceNumber(){return this.deltaManager.minimumSequenceNumber}get lastSequenceNumber(){return this.deltaManager.lastSequenceNumber}get lastMessage(){return this.deltaManager.lastMessage}get lastKnownSeqNumber(){return this.deltaManager.lastKnownSeqNumber}get initialSequenceNumber(){return this.deltaManager.initialSequenceNumber}get hasCheckpointSequenceNumber(){return this.deltaManager.hasCheckpointSequenceNumber}get clientDetails(){return this.deltaManager.clientDetails}get version(){return this.deltaManager.version}get maxMessageSize(){return this.deltaManager.maxMessageSize}get serviceConfiguration(){return this.deltaManager.serviceConfiguration}get active(){return this.deltaManager.active}get readOnlyInfo(){return this.deltaManager.readOnlyInfo}dispose(){this.inbound.dispose(),this.outbound.dispose(),this.inboundSignal.dispose(),super.dispose()}submitSignal(e){return this.deltaManager.submitSignal(e)}flush(){return this.deltaManager.flush()}}const He="1.3.6";var Ge,Ve,We=n(5732);(Ve=Ge||(Ge={}))[Ve.Disconnected=0]="Disconnected",Ve[Ve.EstablishingConnection=3]="EstablishingConnection",Ve[Ve.Connecting=1]="Connecting",Ve[Ve.CatchingUp=1]="CatchingUp",Ve[Ve.Connected=2]="Connected";class Ke{constructor(e,t,n){var r;this.handler=e,this.logger=t,this._clientId=n,this._connectionState=Ge.Disconnected,this.prevClientLeftTimer=new We.B(null!==(r=this.handler.maxClientLeaveWaitTime)&&void 0!==r?r:3e5,(()=>{(0,E.h)(!this.connected,684),this.applyForConnectedState("timeout")})),this.joinOpTimer=new We.B(45e3,(()=>{var e;if(this.connectionState!==Ge.CatchingUp)return;const t=this.handler.quorumClients(),n={quorumInitialized:void 0!==t,hasPendingClientId:void 0!==this.pendingClientId,inQuorum:void 0!==(null==t?void 0:t.getMember(null!==(e=this.pendingClientId)&&void 0!==e?e:"")),waitingForLeaveOp:this.waitingForLeaveOp};this.handler.logConnectionIssue("NoJoinOp",n)}))}get connectionState(){return this._connectionState}get connected(){return this.connectionState===Ge.Connected}get clientId(){return this._clientId}get pendingClientId(){return this._pendingClientId}startJoinOpTimer(){(0,E.h)(!this.joinOpTimer.hasTimer,564),this.joinOpTimer.start()}stopJoinOpTimer(){(0,E.h)(this.joinOpTimer.hasTimer,565),this.joinOpTimer.clear()}get waitingForLeaveOp(){return this.prevClientLeftTimer.hasTimer}dispose(){(0,E.h)(!this.joinOpTimer.hasTimer,677),this.prevClientLeftTimer.clear()}containerSaved(){this.waitingForLeaveOp&&(this.prevClientLeftTimer.clear(),this.applyForConnectedState("containerSaved"))}receivedAddMemberEvent(e){e===this.pendingClientId&&(this.joinOpTimer.hasTimer?this.stopJoinOpTimer():this.handler.logConnectionIssue("ReceivedJoinOp"),this.waitingForLeaveOp&&(this.waitEvent=g.Xr.start(this.logger,{eventName:"WaitBeforeClientLeave",details:JSON.stringify({waitOnClientId:this._clientId,hadOutstandingOps:this.handler.shouldClientJoinWrite()})})),this.applyForConnectedState("addMemberEvent"))}applyForConnectedState(e){var t,n;const r=this.handler.quorumClients();(0,E.h)(void 0!==r,566),(0,E.h)(!1===this.waitingForLeaveOp||void 0!==this.clientId&&void 0!==r.getMember(this.clientId),738),this.pendingClientId===this.clientId||void 0===this.pendingClientId||void 0===r.getMember(this.pendingClientId)||this.waitingForLeaveOp?this.logger.sendTelemetryEvent({eventName:"connectedStateRejected",category:"timeout"===e?"error":"generic",details:JSON.stringify({source:e,pendingClientId:this.pendingClientId,clientId:this.clientId,waitingForLeaveOp:this.waitingForLeaveOp,inQuorum:void 0!==(null==r?void 0:r.getMember(null!==(n=this.pendingClientId)&&void 0!==n?n:""))})}):(null===(t=this.waitEvent)||void 0===t||t.end({source:e}),this.setConnectionState(Ge.Connected))}receivedRemoveMemberEvent(e){this.clientId===e&&(this.prevClientLeftTimer.clear(),this.applyForConnectedState("removeMemberEvent"))}receivedDisconnectEvent(e){this.joinOpTimer.hasTimer&&this.stopJoinOpTimer(),this.setConnectionState(Ge.Disconnected,e)}receivedConnectEvent(e,t){const n=this._connectionState;this._connectionState=Ge.CatchingUp;const r="write"===e;(0,E.h)(r||!this.handler.shouldClientJoinWrite(),778),(0,E.h)(r||!this.waitingForLeaveOp,678);const i=this.handler.quorumClients();this._pendingClientId=t.clientId,this.handler.logConnectionStateChangeTelemetry(Ge.CatchingUp,n),r&&void 0===(null==i?void 0:i.getMember(this._pendingClientId))?this.startJoinOpTimer():this.waitingForLeaveOp||this.setConnectionState(Ge.Connected)}setConnectionState(e,t){if(this.connectionState===e)return void this.logger.sendErrorEvent({eventName:"setConnectionStateSame",value:e});const n=this._connectionState;this._connectionState=e;const r=this.handler.quorumClients();let i;void 0!==this._clientId&&(i=null==r?void 0:r.getMember(this._clientId)),e===Ge.Connected?((0,E.h)(n===Ge.CatchingUp,472),void 0!==i&&(i.shouldHaveLeft=!0),this._clientId=this.pendingClientId):e===Ge.Disconnected&&(this._pendingClientId=void 0,void 0!==i&&this.handler.shouldClientJoinWrite()&&!1===this.prevClientLeftTimer.hasTimer?this.prevClientLeftTimer.restart():this.logger.sendTelemetryEvent({eventName:"noWaitOnDisconnected",details:JSON.stringify({inQuorum:void 0!==i,waitingForLeaveOp:this.waitingForLeaveOp,hadOutstandingOps:this.handler.shouldClientJoinWrite()})})),this.handler.logConnectionStateChangeTelemetry(this._connectionState,n,t),this.handler.connectionStateChanged()}initProtocol(e){e.quorum.on("addMember",((e,t)=>{this.receivedAddMemberEvent(e)})),e.quorum.on("removeMember",(e=>{this.receivedRemoveMemberEvent(e)})),void 0!==this.clientId&&void 0!==e.quorum.getMember(this.clientId)&&this.prevClientLeftTimer.restart()}}class Ze{constructor(e,t){this.internalStorageService=e,this.logger=t,this._disposed=!1}get policies(){return this.internalStorageService.policies}get disposed(){return this._disposed}dispose(){this._disposed=!0}get repositoryUrl(){return this.internalStorageService.repositoryUrl}async getSnapshotTree(e,t){return this.runWithRetry((async()=>this.internalStorageService.getSnapshotTree(e,t)),"storage_getSnapshotTree")}async readBlob(e){return this.runWithRetry((async()=>this.internalStorageService.readBlob(e)),"storage_readBlob")}async getVersions(e,t,n){return this.runWithRetry((async()=>this.internalStorageService.getVersions(e,t,n)),"storage_getVersions")}async uploadSummaryWithContext(e,t){return(0,E.h)(0===t.referenceSequenceNumber==(void 0===t.ackHandle),593),0!==t.referenceSequenceNumber?this.internalStorageService.uploadSummaryWithContext(e,t):this.runWithRetry((async()=>this.internalStorageService.uploadSummaryWithContext(e,t)),"storage_uploadSummaryWithContext")}async downloadSummary(e){return this.runWithRetry((async()=>this.internalStorageService.downloadSummary(e)),"storage_downloadSummary")}async createBlob(e){return this.runWithRetry((async()=>this.internalStorageService.createBlob(e)),"storage_createBlob")}checkStorageDisposed(){if(this._disposed)throw new P("Storage Service is disposed. Cannot retry",{canRetry:!1})}async runWithRetry(e,t){return re(e,t,this.logger,{onRetry:()=>this.checkStorageDisposed()})}}class Ye{constructor(e,t){this.internalStorageService=e,this.generateProtocolTree=t,this.getSnapshotTree=this.internalStorageService.getSnapshotTree.bind(this.internalStorageService),this.getVersions=this.internalStorageService.getVersions.bind(this.internalStorageService),this.createBlob=this.internalStorageService.createBlob.bind(this.internalStorageService),this.readBlob=this.internalStorageService.readBlob.bind(this.internalStorageService),this.downloadSummary=this.internalStorageService.downloadSummary.bind(this.internalStorageService),this.dispose=this.internalStorageService.dispose.bind(this.internalStorageService)}get policies(){return this.internalStorageService.policies}get repositoryUrl(){return this.internalStorageService.repositoryUrl}get disposed(){return this.internalStorageService.disposed}async uploadSummaryWithContext(e,t){return this.internalStorageService.uploadSummaryWithContext(B(e,this.generateProtocolTree()),t)}}class Je{constructor(e){this.storageGetter=e,this.blobContents={}}loadSnapshotForRehydratingContainer(e){this.getBlobContents(e)}getBlobContents(e){for(const[t,n]of Object.entries(e.blobsContents))this.blobContents[t]=n;for(const[t,n]of Object.entries(e.trees))this.getBlobContents(n)}get policies(){try{return this.storageGetter().policies}catch(e){}}get repositoryUrl(){return this.storageGetter().repositoryUrl}async getSnapshotTree(e,t){return this.storageGetter().getSnapshotTree(e,t)}async readBlob(e){const t=this.blobContents[e];return void 0!==t?t:this.storageGetter().readBlob(e)}async getVersions(e,t,n){return this.storageGetter().getVersions(e,t,n)}async uploadSummaryWithContext(e,t){return this.storageGetter().uploadSummaryWithContext(e,t)}async downloadSummary(e){return this.storageGetter().downloadSummary(e)}async createBlob(e){return this.storageGetter().createBlob(e)}}class Qe{constructor(e,t){this.blobStorage=e,this.logger=t,this.getSnapshotTree=this.notCalled,this.getVersions=this.notCalled,this.write=this.notCalled,this.uploadSummaryWithContext=this.notCalled,this.downloadSummary=this.notCalled}async createBlob(e){return this.blobStorage.createBlob(e)}async readBlob(e){return this.blobStorage.readBlob(e)}get policies(){return this.notCalled()}get repositoryUrl(){return this.notCalled()}notCalled(){try{throw new Error("BlobOnlyStorage not implemented method used")}catch(e){throw this.logger.sendErrorEvent({eventName:"BlobOnlyStorageWrongCall"},e),e}}}var Xe=n(31644);function et(e){var t;const n=(0,w.Qc)(e,!0);if("string"!=typeof n.pathname)throw new T.j4("Failed to parse pathname");const r=null!==(t=n.search)&&void 0!==t?t:"",i=/^\/([^/]*\/[^/]*)(\/?.*)$/.exec(n.pathname);return 3===(null==i?void 0:i.length)?{id:i[1],path:i[2],query:r,version:n.query.version}:void 0}function tt(e){const t={blobs:{},blobsContents:{},trees:{},id:d(),unreferenced:e.unreferenced},n=Object.keys(e.tree);for(const r of n){const n=e.tree[r];switch(n.type){case pe.Tree:t.trees[r]=tt(n);break;case pe.Attachment:t.blobs[r]=n.id;break;case pe.Blob:{const e=d();t.blobs[r]=e;const i="string"==typeof n.content?(0,le.k8)(n.content,"utf8"):(0,Xe.H)(n.content);t.blobsContents[e]=i;break}case pe.Handle:throw new T.j4("No handles should be there in summary in detached container!!");default:(0,k.U)(n,`Unknown tree type ${n.type}`)}}return t}function nt(e,t){const n={type:pe.Tree,tree:Object.assign({},t.tree)};return n.tree[".protocol"]=e,tt(n)}const rt=e=>{const t=e.tree[".protocol"],n=e.tree[".app"];return(0,E.h)(void 0!==t&&void 0!==n,480),nt(t,n)};function it(e){return".protocol"in e.trees?e.trees[".protocol"]:e}var ot,st=n(68582);class at extends Ue._{constructor(e){super(e),super.setMaxListeners(50),this.propose=(0,st.L)(this,e.propose.bind(e)),this.has=(0,st.L)(this,e.has.bind(e)),this.get=(0,st.L)(this,e.get.bind(e)),this.getMembers=(0,st.L)(this,e.getMembers.bind(e)),this.getMember=(0,st.L)(this,e.getMember.bind(e))}}function ct(e){return[["code",{key:"code",value:e,approvalSequenceNumber:0,commitSequenceNumber:0,sequenceNumber:0}]]}class ut{constructor(e,t=2e3,n=50){this.submit=e,this.NoopCountFrequency=n,this.opsCountSinceNoop=0,t!==1/0&&(this.timer=new We.B(t,(()=>{0!==this.opsCountSinceNoop&&this.submitNoop(!1)})))}scheduleSequenceNumberUpdate(e,t){t?this.submitNoop(!0):de(e)&&(this.opsCountSinceNoop++,this.opsCountSinceNoop>=this.NoopCountFrequency?this.submitNoop(!1):void 0!==this.timer&&(1===this.opsCountSinceNoop&&this.timer.restart(),(0,E.h)(this.timer.hasTimer,578)))}submitNoop(e){this.submit(me.NoOp,e?"":null),(0,E.h)(0===this.opsCountSinceNoop,579)}stopSequenceNumberUpdate(){this.opsCountSinceNoop=0}}function lt(e,t,n){var r,i;const o=Object.assign({},t),s=n.online;if(o.online="string"==typeof s?s:z[H()],"object"==typeof navigator&&null!==navigator){const e=navigator,t=null!==(i=null!==(r=e.connection)&&void 0!==r?r:e.mozConnection)&&void 0!==i?i:e.webkitConnection;null!==t&&"object"==typeof t&&(o.connectionType=t.type)}o.category=X(n)?"generic":"error",e.sendTelemetryEvent(o,n)}function ht(e){return new Promise((t=>{let n=t,r=e;H()===z.Offline&&void 0!==(null===window||void 0===window?void 0:window.addEventListener)&&(n=()=>{t(),window.removeEventListener("online",n)},window.addEventListener("online",n,!1),r=Math.max(e,3e4)),setTimeout(n,r)}))}!function(e){e.DocRead="doc:read",e.DocWrite="doc:write",e.SummaryWrite="summary:write"}(ot||(ot={}));const dt={fatalConnectError:!0};class ft extends we.L{constructor(){super(...arguments),this.clientId="storage-only client",this.claims={scopes:[ot.DocRead]},this.mode="read",this.existing=!0,this.maxMessageSize=0,this.version="",this.initialMessages=[],this.initialSignals=[],this.initialClients=[],this.serviceConfiguration={maxMessageSize:0,blockSize:0,summary:void 0},this.checkpointSequenceNumber=void 0,this._disposed=!1}submit(e){this.emit("nack",this.clientId,e.map((e=>({operation:e,content:{message:"Cannot submit with storage-only connection",code:403}}))))}submitSignal(e){this.emit("nack",this.clientId,{operation:e,content:{message:"Cannot submit signal with storage-only connection",code:403}})}get disposed(){return this._disposed}dispose(){this._disposed=!0}}class pt{constructor(e,t,n,r,i){this.serviceProvider=e,this.client=t,this.logger=r,this.props=i,this._forceReadonly=!1,this.pendingReconnect=!1,this.clientSequenceNumber=0,this.clientSequenceNumberObserved=0,this.trailingNoopCount=0,this.connectFirstConnection=!0,this._connectionVerboseProps={},this._connectionProps={},this.closed=!1,this.opHandler=(e,t)=>{const n=Array.isArray(t)?t:[t];this.props.incomingOpHandler(n,"opHandler")},this.nackHandler=(e,t)=>{const n=t[0];if(!0===this._readonlyPermissions)return void this.props.closeHandler(new Y("writeOnReadOnlyDocument",q.writeError,{driverVersion:void 0}));const r=Q(`Nack (${(i=n.content).type}): ${i.message}`,{canRetry:403!==i.code,retryAfterMs:void 0!==i.retryAfter?1e3*i.retryAfter:void 0},{statusCode:i.code,driverVersion:void 0});var i;r.canRetry?this.reconnectOnError("write",r):this.props.closeHandler(r)},this.disconnectHandlerInternal=e=>{this.reconnectOnError(this.defaultReconnectionMode,e)},this.errorHandler=e=>{this.reconnectOnError(this.defaultReconnectionMode,e)},this.clientDetails=this.client.details,this.defaultReconnectionMode=this.client.mode,this._reconnectMode=n?Oe.Enabled:Oe.Never,this._outbound=new Be((e=>{if(void 0===this.connection)throw new Error("Attempted to submit an outbound message without connection");this.connection.submit(e)})),this._outbound.on("error",(e=>{this.props.closeHandler((0,T.SC)(e))}))}get connectionVerboseProps(){return this._connectionVerboseProps}get connectionMode(){var e,t;return null!==(t=null===(e=this.connection)||void 0===e?void 0:e.mode)&&void 0!==t?t:"read"}get connected(){return void 0!==this.connection}get clientId(){var e;return null===(e=this.connection)||void 0===e?void 0:e.clientId}get reconnectMode(){return this._reconnectMode}get maxMessageSize(){var e,t,n;return null!==(n=null===(t=null===(e=this.connection)||void 0===e?void 0:e.serviceConfiguration)||void 0===t?void 0:t.maxMessageSize)&&void 0!==n?n:16384}get version(){if(void 0===this.connection)throw new Error("Cannot check version without a connection");return this.connection.version}get serviceConfiguration(){var e;return null===(e=this.connection)||void 0===e?void 0:e.serviceConfiguration}get scopes(){var e;return null===(e=this.connection)||void 0===e?void 0:e.claims.scopes}get outbound(){return this._outbound}get connectionProps(){return void 0!==this.connection?this._connectionProps:Object.assign(Object.assign({},this._connectionProps),{sentOps:this.clientSequenceNumber})}shouldJoinWrite(){return this.clientSequenceNumberObserved<this.clientSequenceNumber-this.trailingNoopCount}get readonly(){return!!this._forceReadonly||this._readonlyPermissions}get readOnlyInfo(){const e=void 0!==this.connection&&this.connection instanceof ft;return e||this._forceReadonly||!0===this._readonlyPermissions?{readonly:!0,forced:this._forceReadonly,permissions:this._readonlyPermissions,storageOnly:e}:{readonly:this._readonlyPermissions}}static detailsFromConnection(e){return{claims:e.claims,clientId:e.clientId,existing:e.existing,checkpointSequenceNumber:e.checkpointSequenceNumber,get initialClients(){return e.initialClients},mode:e.mode,serviceConfiguration:e.serviceConfiguration,version:e.version}}dispose(e){if(this.closed)return;this.closed=!0,this.pendingConnection=void 0,this._reconnectMode=Oe.Never,this._outbound.clear();const t=void 0!==e?`Closing DeltaManager (${e.message})`:"Closing DeltaManager";this.disconnectFromDeltaStream(t),this.set_readonlyPermissions(!0)}setAutoReconnect(e){(0,E.h)(e!==Oe.Never&&this._reconnectMode!==Oe.Never,632),this._reconnectMode=e,e!==Oe.Enabled&&this.disconnectFromDeltaStream("setAutoReconnect")}forceReadonly(e){e!==this._forceReadonly&&this.logger.sendTelemetryEvent({eventName:"ForceReadOnly",value:e});const t=this.readonly;if(this._forceReadonly=e,t!==this.readonly){if(this._reconnectMode===Oe.Never)throw new I("API is not supported for non-connecting or closed container");let e=!1;!0===this.readonly&&(this.shouldJoinWrite()&&this.logger.sendErrorEvent({eventName:"ForceReadonlyPendingChanged"}),e=this.disconnectFromDeltaStream("Force readonly")),this.props.readonlyChangeHandler(this.readonly),e&&this.triggerConnect("read")}}set_readonlyPermissions(e){const t=this.readonly;this._readonlyPermissions=e,t!==this.readonly&&this.props.readonlyChangeHandler(this.readonly)}connect(e){this.connectCore(e).catch((e=>{const t=(0,T.SC)(e,{props:dt});this.props.closeHandler(t)}))}async connectCore(e){var t,n;if((0,E.h)(!this.closed,618),void 0!==this.connection)return;let r;void 0!==this.pendingConnection&&(r=this.pendingConnection.connectionMode,this.cancelConnection(),(0,E.h)(void 0===this.pendingConnection,836));let i=null!==(t=null!=e?e:r)&&void 0!==t?t:this.defaultReconnectionMode;this.shouldJoinWrite()&&(i="write");const o=this.serviceProvider();let s;if((0,E.h)(void 0!==o,679),!0===(null===(n=o.policies)||void 0===n?void 0:n.storageOnly))return s=new ft,this.setupNewSuccessfulConnection(s,"read"),void(0,E.h)(void 0===this.pendingConnection,691);let a=1e3,c=0;const u=C.S.now();let l;const h=new(Me()),d=h.signal;for(this.pendingConnection={abort:()=>{h.abort()},connectionMode:i};void 0===s;){if(this.closed)throw new Error("Attempting to connect a closed DeltaManager");if(!0===d.aborted)return void this.logger.sendTelemetryEvent({eventName:"ConnectionAttemptCancelled",attempts:c,duration:g.hy.formatTick(C.S.now()-u),connectionEstablished:!1});c++;try{this.client.mode=i,s=await o.connectToDeltaStream(Object.assign(Object.assign({},this.client),{mode:i})),s.disposed&&(this.logger.sendTelemetryEvent({eventName:"ReceivedClosedConnection"}),s=void 0)}catch(e){if("object"==typeof e&&null!==e&&(null==e?void 0:e.errorType)===W.errorType){s=new ft,i="read";break}if(!X(e)){const t=(0,T.SC)(e,{props:dt});throw this.props.closeHandler(t),t}lt(this.logger,{attempts:c,delay:a,eventName:"DeltaConnectionFailureToConnect",duration:g.hy.formatTick(C.S.now()-u)},e),l=e;const t=te(e);a=null!=t?t:Math.min(2*a,8e3),void 0!==t&&this.props.reconnectionDelayHandler(t,e),await ht(a)}}if(c>1&&lt(this.logger,{eventName:"MultipleDeltaConnectionFailures",attempts:c,duration:g.hy.formatTick(C.S.now()-u)},l),!0===d.aborted)return s.dispose(),void this.logger.sendTelemetryEvent({eventName:"ConnectionAttemptCancelled",attempts:c,duration:g.hy.formatTick(C.S.now()-u),connectionEstablished:!0});this.setupNewSuccessfulConnection(s,i)}triggerConnect(e){(0,E.h)(void 0===this.connection,569),this.reconnectMode===Oe.Enabled&&this.connect(e)}disconnectFromDeltaStream(e){if(this.pendingReconnect=!1,void 0===this.connection)return void 0!==this.pendingConnection&&(this.cancelConnection(),!0);(0,E.h)(void 0===this.pendingConnection,635);const t=this.connection;return this.connection=void 0,t.off("op",this.opHandler),t.off("signal",this.props.signalHandler),t.off("nack",this.nackHandler),t.off("disconnect",this.disconnectHandlerInternal),t.off("error",this.errorHandler),t.off("pong",this.props.pongHandler),this._outbound.pause(),this._outbound.clear(),this.props.disconnectHandler(e),t.dispose(),this._connectionVerboseProps={},!0}cancelConnection(){(0,E.h)(void 0!==this.pendingConnection,837),this.pendingConnection.abort(),this.pendingConnection=void 0,this.logger.sendTelemetryEvent({eventName:"ConnectionCancelReceived"})}setupNewSuccessfulConnection(e,t){(0,E.h)(void 0===this.connection,230),(0,E.h)(!e.disposed,650),this.pendingConnection=void 0,this.connection=e;const n=!e.claims.scopes.includes(ot.DocWrite);if((0,E.h)("read"===t||n===("read"===this.connectionMode),231),(0,E.h)(!n||"read"===this.connectionMode,232),this.set_readonlyPermissions(n),this.closed)return void this.disconnectFromDeltaStream("ConnectionManager already closed");this._outbound.resume(),e.on("op",this.opHandler),e.on("signal",this.props.signalHandler),e.on("nack",this.nackHandler),e.on("disconnect",this.disconnectHandlerInternal),e.on("error",this.errorHandler),e.on("pong",this.props.pongHandler);const r=e.initialMessages.sort(((e,t)=>e.sequenceNumber-t.sequenceNumber));let i=e.checkpointSequenceNumber;this._connectionVerboseProps={clientId:e.clientId,mode:e.mode},this._connectionProps={},void 0!==e.relayServiceAgent&&(this._connectionVerboseProps.relayServiceAgent=e.relayServiceAgent,this._connectionProps.relayServiceAgent=e.relayServiceAgent),this._connectionProps.socketDocumentId=e.claims.documentId,this._connectionProps.connectionMode=e.mode;let o=-1;if(0!==r.length&&(this._connectionVerboseProps.connectionInitialOpsFrom=r[0].sequenceNumber,o=r[r.length-1].sequenceNumber,this._connectionVerboseProps.connectionInitialOpsTo=o+1,(void 0===i||i<o)&&(i=o)),this.props.incomingOpHandler(r,this.connectFirstConnection?"InitialOps":"ReconnectOps"),void 0!==e.initialSignals)for(const t of e.initialSignals)this.props.signalHandler(t);const s=pt.detailsFromConnection(e);s.checkpointSequenceNumber=i,this.props.connectHandler(s),this.connectFirstConnection=!1}reconnectOnError(e,t){this.reconnect(e,t.message,t).catch(this.props.closeHandler)}async reconnect(e,t,n){if((0,E.h)(void 0!==this.connection,235),this.disconnectFromDeltaStream(t),void 0===n||n.canRetry||this.logger.sendTelemetryEvent({eventName:"reconnectingDespiteFatalError",reconnectMode:this.reconnectMode},n),this.reconnectMode===Oe.Never&&this.props.closeHandler(),this.closed||this.reconnectMode!==Oe.Enabled)return;const r=te(n);void 0!==n&&void 0!==r&&(this.props.reconnectionDelayHandler(r,n),await ht(r)),this.triggerConnect(e)}prepareMessageToSend(e){var t,n;if(!0!==this.readonly)return(0,E.h)(!!this.connection,228),this.lastSubmittedClientId!==(null===(t=this.connection)||void 0===t?void 0:t.clientId)&&(this.lastSubmittedClientId=null===(n=this.connection)||void 0===n?void 0:n.clientId,this.clientSequenceNumber=0,this.clientSequenceNumberObserved=0),e.type===me.NoOp?this.trailingNoopCount++:this.trailingNoopCount=0,Object.assign(Object.assign({},e),{clientSequenceNumber:++this.clientSequenceNumber});{(0,E.h)(!0===this.readOnlyInfo.readonly,496);const e=new P("deltaManagerReadonlySubmit",void 0,{readonly:this.readOnlyInfo.readonly,forcedReadonly:this.readOnlyInfo.forced,readonlyPermissions:this.readOnlyInfo.permissions,storageOnly:this.readOnlyInfo.storageOnly});this.props.closeHandler(e)}}submitSignal(e){void 0!==this.connection?this.connection.submitSignal(e):this.logger.sendErrorEvent({eventName:"submitSignalDisconnected"})}sendMessages(e){(0,E.h)(this.connected,692),"read"!==this.connectionMode?((0,E.h)(!this.pendingReconnect,693),this._outbound.push(e)):this.pendingReconnect||(this.pendingReconnect=!0,Promise.resolve().then((async()=>{this.pendingReconnect&&await this.reconnect("write","Switch to write")})).catch((()=>{})))}beforeProcessingIncomingOp(e){if((0,E.h)(this.clientId!==e.clientId||this.lastSubmittedClientId===e.clientId,238),void 0!==this.lastSubmittedClientId&&this.lastSubmittedClientId===e.clientId){const t=e.clientSequenceNumber;(0,E.h)(this.clientSequenceNumberObserved<t,239),(0,E.h)(t<=this.clientSequenceNumber,240),this.clientSequenceNumberObserved=t}if(e.type===me.ClientLeave){const t=e;JSON.parse(t.data)===this.clientId&&(this.logger.sendPerformanceEvent({eventName:"ReadConnectionTransition"}),this.reconnect("read","Switch to read").catch((e=>{this.logger.sendErrorEvent({eventName:"SwitchToReadConnection"},e)})))}}}const mt="dirty",gt="saved";async function vt(e,t,n){const r=g.Xr.start(e,{eventName:t}),i=await n();r.duration>1e3&&r.end(i)}const yt="summarizer";class bt extends Ae.M{constructor(e,t){var n,r;super(((e,t)=>{this.mc.logger.sendErrorEvent({eventName:"ContainerEventHandlerException",name:"string"==typeof e?e:void 0},t)})),this.loader=e,this._canReconnect=!0,this._lifecycleState="loading",this._attachState=o.mB.Detached,this.inboundQueuePausedFromInit=!0,this.firstConnection=!0,this.connectionTransitionTimes=[],this.messageCountAfterDisconnection=0,this.attachStarted=!1,this._dirtyContainer=!1,this.setAutoReconnectTime=C.S.now(),this._audience=new Pe,this.clientDetailsOverride=t.clientDetailsOverride,this._resolvedUrl=t.resolvedUrl,void 0!==t.canReconnect&&(this._canReconnect=t.canReconnect);const i=this.client.details.type,s=`${this.client.details.capabilities.interactive?"interactive":"noninteractive"}${void 0!==i&&""!==i?`/${i}`:""}`;this.subLogger=g.G2.create(e.services.subLogger,void 0,{all:{clientType:s,containerId:d(),docId:()=>{var e,t;return null!==(t=null===(e=this._resolvedUrl)||void 0===e?void 0:e.id)&&void 0!==t?t:void 0},containerAttachState:()=>this._attachState,containerLifecycleState:()=>this._lifecycleState,containerConnectionState:()=>Ge[this.connectionState],serializedContainer:void 0!==t.serializedContainerState},error:{dmInitialSeqNumber:()=>{var e;return null===(e=this._deltaManager)||void 0===e?void 0:e.initialSequenceNumber},dmLastProcessedSeqNumber:()=>{var e;return null===(e=this._deltaManager)||void 0===e?void 0:e.lastSequenceNumber},dmLastKnownSeqNumber:()=>{var e;return null===(e=this._deltaManager)||void 0===e?void 0:e.lastKnownSeqNumber},containerLoadedFromVersionId:()=>{var e;return null===(e=this.loadedFromVersion)||void 0===e?void 0:e.id},containerLoadedFromVersionDate:()=>{var e;return null===(e=this.loadedFromVersion)||void 0===e?void 0:e.date},dmLastMsqSeqNumber:()=>{var e,t;return null===(t=null===(e=this.deltaManager)||void 0===e?void 0:e.lastMessage)||void 0===t?void 0:t.sequenceNumber},dmLastMsqSeqTimestamp:()=>{var e,t;return null===(t=null===(e=this.deltaManager)||void 0===e?void 0:e.lastMessage)||void 0===t?void 0:t.timestamp},dmLastMsqSeqClientId:()=>{var e,t;return null===(t=null===(e=this.deltaManager)||void 0===e?void 0:e.lastMessage)||void 0===t?void 0:t.clientId},connectionStateDuration:()=>C.S.now()-this.connectionTransitionTimes[this.connectionState]}}),this.mc=(0,p.rZ)(g.G2.create(this.subLogger,"Container"));const a=null!==(n=this.mc.config.getBoolean("Fluid.Container.summarizeProtocolTree"))&&void 0!==n?n:this.loader.services.options.summarizeProtocolTree;this.options=Object.assign(Object.assign({},this.loader.services.options),{summarizeProtocolTree:a}),this.connectionStateHandler=new Ke({quorumClients:()=>{var e;return null===(e=this._protocolHandler)||void 0===e?void 0:e.quorum},logConnectionStateChangeTelemetry:(e,t,n)=>this.logConnectionStateChangeTelemetry(e,t,n),shouldClientJoinWrite:()=>this._deltaManager.connectionManager.shouldJoinWrite(),maxClientLeaveWaitTime:this.loader.services.options.maxClientLeaveWaitTime,logConnectionIssue:(e,t)=>{this._deltaManager.logConnectionIssue(Object.assign({eventName:e,duration:C.S.now()-this.connectionTransitionTimes[Ge.CatchingUp]},void 0===t?{}:{details:JSON.stringify(t)}))},connectionStateChanged:()=>{"loaded"===this._lifecycleState&&this.propagateConnectionState()}},this.mc.logger,null===(r=t.serializedContainerState)||void 0===r?void 0:r.clientId),this.on(gt,(()=>{this.connectionStateHandler.containerSaved()})),this._deltaManager=this.createDeltaManager(),this._storage=new Je((()=>{if(this.attachState!==o.mB.Attached){if(void 0!==this.loader.services.detachedBlobStorage)return new Qe(this.loader.services.detachedBlobStorage,this.mc.logger);throw this.mc.logger.sendErrorEvent({eventName:"NoRealStorageInDetachedContainer"}),new Error("Real storage calls not allowed in Unattached container")}return this.storageService})),"object"==typeof document&&null!==document&&"function"==typeof document.addEventListener&&null!==document.addEventListener&&(this.lastVisible=document.hidden?C.S.now():void 0,this.visibilityEventHandler=()=>{document.hidden?this.lastVisible=C.S.now():setTimeout((()=>{this.lastVisible=void 0}),0)},document.addEventListener("visibilitychange",this.visibilityEventHandler)),this.on("newListener",((e,t)=>{Promise.resolve().then((()=>{switch(e){case mt:this._dirtyContainer&&t();break;case gt:this._dirtyContainer||t();break;case Ne.tZ:this.connected&&t(this.clientId);break;case Ne.h$:this.connected||t()}})).catch((e=>{this.mc.logger.sendErrorEvent({eventName:"RaiseConnectedEventError"},e)}))}))}static async load(e,t,n){const r=new bt(e,{clientDetailsOverride:t.clientDetailsOverride,resolvedUrl:t.resolvedUrl,canReconnect:t.canReconnect,serializedContainerState:n});return g.Xr.timedExecAsync(r.mc.logger,{eventName:"Load"},(async e=>new Promise(((i,o)=>{var s,a;const c=t.version,u={opsBeforeReturn:"cached"},l=n?Object.assign(Object.assign({},null!==(s=t.loadMode)&&void 0!==s?s:u),{opsBeforeReturn:void 0}):null!==(a=t.loadMode)&&void 0!==a?a:u,h=e=>{o(null!=e?e:new P("Container closed without error during load"))};r.on("closed",h),r.load(c,l,n).finally((()=>{r.removeListener("closed",h)})).then((n=>{e.end(Object.assign(Object.assign({},n),t.loadMode)),i(r)}),(e=>{const t=(0,T.SC)(e);r.close(t),h(t)}))}))),{start:!0,end:!0,cancel:"generic"})}static async createDetached(e,t){const n=new bt(e,{});return g.Xr.timedExecAsync(n.mc.logger,{eventName:"CreateDetached"},(async e=>(await n.createDetached(t),n)),{start:!0,end:!0,cancel:"generic"})}static async rehydrateDetachedFromSnapshot(e,t){const n=new bt(e,{});return g.Xr.timedExecAsync(n.mc.logger,{eventName:"RehydrateDetachedFromSnapshot"},(async e=>{const r=JSON.parse(t);return await n.rehydrateDetachedFromSnapshot(r),n}),{start:!0,end:!0,cancel:"generic"})}setLoaded(){"loading"===this._lifecycleState&&(this.propagateConnectionState(),this._lifecycleState="loaded")}get closed(){return"closing"===this._lifecycleState||"closed"===this._lifecycleState}get storage(){return this._storage}get storageService(){if(void 0===this._storageService)throw new Error("Attempted to access storageService before it was defined");return this._storageService}get context(){if(void 0===this._context)throw new P("Attempted to access context before it was defined");return this._context}get protocolHandler(){if(void 0===this._protocolHandler)throw new Error("Attempted to access protocolHandler before it was defined");return this._protocolHandler}get connectionMode(){return this._deltaManager.connectionManager.connectionMode}get IFluidRouter(){return this}get resolvedUrl(){return this._resolvedUrl}get loadedFromVersion(){return this._loadedFromVersion}get readOnlyInfo(){return this._deltaManager.readOnlyInfo}get closeSignal(){return this._deltaManager.closeAbortController.signal}forceReadonly(e){this._deltaManager.connectionManager.forceReadonly(e)}get deltaManager(){return this._deltaManager}get connectionState(){return this.connectionStateHandler.connectionState}get connected(){return this.connectionStateHandler.connected}get serviceConfiguration(){return this._deltaManager.serviceConfiguration}get clientId(){return this.connectionStateHandler.clientId}get scopes(){return this._deltaManager.connectionManager.scopes}get clientDetails(){return this._deltaManager.clientDetails}getSpecifiedCodeDetails(){return this.getCodeDetailsFromQuorum()}getLoadedCodeDetails(){var e;return null===(e=this._context)||void 0===e?void 0:e.codeDetails}get audience(){return this._audience}get isDirty(){return this._dirtyContainer}get serviceFactory(){return this.loader.services.documentServiceFactory}get urlResolver(){return this.loader.services.urlResolver}get scope(){return this.loader.services.scope}get codeLoader(){return this.loader.services.codeLoader}getQuorum(){return this.protocolHandler.quorum}close(e){this._deltaManager.close(e),(0,E.h)(this.connectionState===Ge.Disconnected,207),(0,E.h)("closed"===this._lifecycleState,788)}closeCore(e){var t,n,r,i;(0,E.h)(!this.closed,789);try{try{this.mc.logger.sendTelemetryEvent({eventName:"ContainerClose",category:void 0===e?"generic":"error"},e),this._lifecycleState="closing",null===(t=this._protocolHandler)||void 0===t||t.close(),this.connectionStateHandler.dispose(),null===(n=this._context)||void 0===n||n.dispose(void 0!==e?new Error(e.message):void 0),null===(r=this._storageService)||void 0===r||r.dispose(),null===(i=this.service)||void 0===i||i.dispose(e)}catch(e){this.mc.logger.sendErrorEvent({eventName:"ContainerCloseException"},e)}this.emit("closed",e),this.removeAllListeners(),void 0!==this.visibilityEventHandler&&document.removeEventListener("visibilitychange",this.visibilityEventHandler)}finally{this._lifecycleState="closed"}}closeAndGetPendingLocalState(){(0,E.h)(this.attachState===o.mB.Attached,209),(0,E.h)(void 0!==this.resolvedUrl&&"fluid"===this.resolvedUrl.type,210),(0,E.h)(!!this._protocolHandler,739),(0,E.h)(void 0!==this._protocolHandler.attributes.term,779);const e={pendingRuntimeState:this.context.getPendingLocalState(),url:this.resolvedUrl.url,protocol:this.protocolHandler.getProtocolState(),term:this._protocolHandler.attributes.term,clientId:this.clientId};return this.close(),JSON.stringify(e)}get attachState(){return this._attachState}serialize(){(0,E.h)(this.attachState===o.mB.Detached,211);const e=B(this.context.createSummary(),this.captureProtocolSummary());return this.loader.services.detachedBlobStorage&&this.loader.services.detachedBlobStorage.size>0&&(e.tree[".hasAttachmentBlobs"]={type:pe.Blob,content:"true"}),JSON.stringify(e)}async attach(e){await g.Xr.timedExecAsync(this.mc.logger,{eventName:"Attach"},(async()=>{if("loaded"!==this._lifecycleState)throw new I(`The Container is not in a valid state for attach [${this._lifecycleState}]`);(0,E.h)(this._attachState===o.mB.Detached&&!this.attachStarted,517),this.attachStarted=!0;const t=void 0!==this.loader.services.detachedBlobStorage&&this.loader.services.detachedBlobStorage.size>0;try{let n;if((0,E.h)(0===this.deltaManager.inbound.length,214),!t){const e=this.context.createSummary(),t=this.captureProtocolSummary();n=B(e,t),this._attachState=o.mB.Attaching,this.context.notifyAttaching(rt(n))}const r=await this.urlResolver.resolve(e);y(r),void 0===this.service&&((0,E.h)(this.client.details.type!==yt,708),this.service=await re((async()=>this.serviceFactory.createContainer(n,r,this.subLogger,!1)),"containerAttach",this.mc.logger,{cancel:this.closeSignal}));const i=this.service.resolvedUrl;if(y(i),this._resolvedUrl=i,await this.connectStorageService(),t){(0,E.h)(!!this.loader.services.detachedBlobStorage,590);const e=new Map;for(;e.size<this.loader.services.detachedBlobStorage.size;){const t=this.loader.services.detachedBlobStorage.getBlobIds().filter((t=>!e.has(t)));for(const n of t){const t=await this.loader.services.detachedBlobStorage.readBlob(n),r=await this.storageService.createBlob(t);e.set(n,r.id)}}const t=this.context.createSummary(e),r=this.captureProtocolSummary();n=B(t,r),this._attachState=o.mB.Attaching,this.context.notifyAttaching(rt(n)),await this.storageService.uploadSummaryWithContext(n,{referenceSequenceNumber:0,ackHandle:void 0,proposalHandle:void 0})}this._attachState=o.mB.Attached,this.emit("attached"),this.propagateConnectionState(),this.closed||this.resumeInternal({fetchOpsFromStorage:!1,reason:"createDetached"})}catch(e){const t=(0,T.SC)(e),n=this.resolvedUrl;throw v(n)&&t.addTelemetryProperties({resolvedUrl:n.url}),this.close(t),t}}),{start:!0,end:!0,cancel:"generic"})}async request(e){return g.Xr.timedExecAsync(this.mc.logger,{eventName:"Request"},(async()=>this.context.request(e)),{end:!0,cancel:"error"})}setAutoReconnectInternal(e){if(this._deltaManager.connectionManager.reconnectMode===e)return;const t=C.S.now(),n=t-this.setAutoReconnectTime;this.setAutoReconnectTime=t,this.mc.logger.sendTelemetryEvent({eventName:e===Oe.Enabled?"AutoReconnectEnabled":"AutoReconnectDisabled",connectionMode:this.connectionMode,connectionState:Ge[this.connectionState],duration:n}),this._deltaManager.connectionManager.setAutoReconnect(e)}connect(){if(this.closed)throw new I("The Container is closed and cannot be connected");if(this._attachState!==o.mB.Attached)throw new I("The Container is not attached and cannot be connected");this.connected||this.connectInternal({reason:"DocumentConnect",fetchOpsFromStorage:!1})}connectInternal(e){(0,E.h)(!this.closed,709),(0,E.h)(this._attachState===o.mB.Attached,710),this.resumeInternal(e);const t=Oe.Enabled;this.setAutoReconnectInternal(t)}disconnect(){if(this.closed)throw new I("The Container is closed and cannot be disconnected");this.disconnectInternal()}disconnectInternal(){(0,E.h)(!this.closed,711);const e=Oe.Disabled;this.setAutoReconnectInternal(e)}resumeInternal(e){(0,E.h)(!this.closed,217),this.inboundQueuePausedFromInit&&(this.inboundQueuePausedFromInit=!1,this._deltaManager.inbound.resume(),this._deltaManager.inboundSignal.resume()),this.connectToDeltaStream(e)}async getAbsoluteUrl(e){var t;if(void 0!==this.resolvedUrl)return this.urlResolver.getAbsoluteUrl(this.resolvedUrl,e,(e=>{let t;return t=e&&"name"in e?e:(0,A.s2)(null==e?void 0:e.package)?null==e?void 0:e.package.name:null==e?void 0:e.package,{name:t}})(null===(t=this._context)||void 0===t?void 0:t.codeDetails))}async proposeCodeDetails(e){if(!(0,A.Tr)(e))throw new Error("Provided codeDetails are not IFluidCodeDetails");if(this.codeLoader.IFluidCodeDetailsComparer){const t=await this.codeLoader.IFluidCodeDetailsComparer.compare(e,this.getCodeDetailsFromQuorum());if(void 0!==t&&t<=0)throw new Error("Proposed code details should be greater than the current")}return this.protocolHandler.quorum.propose("code",e).then((()=>!0)).catch((()=>!1))}async processCodeProposal(){const e=this.getCodeDetailsFromQuorum();if(await Promise.all([this.deltaManager.inbound.pause(),this.deltaManager.inboundSignal.pause()]),!0===await this.context.satisfies(e))return this.deltaManager.inbound.resume(),void this.deltaManager.inboundSignal.resume();this.close(new P("Existing context does not satisfy incoming proposal"))}async getVersion(e){return(await this.storageService.getVersions(e,1))[0]}recordConnectStartTime(){void 0===this.connectionTransitionTimes[Ge.Disconnected]&&(this.connectionTransitionTimes[Ge.Disconnected]=C.S.now())}connectToDeltaStream(e){this.recordConnectStartTime(),this._canReconnect&&this.client.details.capabilities.interactive||(e.mode="write"),this._deltaManager.connect(e)}async load(e,t,n){if(void 0===this._resolvedUrl)throw new Error("Attempting to load without a resolved url");this.service=await this.serviceFactory.createDocumentService(this._resolvedUrl,this.subLogger,this.client.details.type===yt);void 0===t.deltaConnection&&this.connectToDeltaStream({reason:"DocumentOpen",mode:"write",fetchOpsFromStorage:!1}),n?this.connectStorageService().catch((e=>this.close(e))):await this.connectStorageService(),this._attachState=o.mB.Attached;const{snapshot:r,versionId:i}=void 0===n?await this.fetchSnapshotTree(e):{snapshot:void 0,versionId:void 0};(0,E.h)(void 0!==r||void 0!==n,567);const s=void 0===n?await this.getDocumentAttributes(this.storageService,r):{sequenceNumber:n.protocol.sequenceNumber,minimumSequenceNumber:n.protocol.minimumSequenceNumber,term:n.term};let a;switch(t.opsBeforeReturn){case void 0:this.attachDeltaManagerOpHandler(s,"none"!==t.deltaConnection?"all":"none");break;case"cached":a=this.attachDeltaManagerOpHandler(s,"cached");break;case"all":a=this.attachDeltaManagerOpHandler(s,"all");break;default:(0,k.U)(t.opsBeforeReturn)}this._protocolHandler=void 0===n?await this.initializeProtocolStateFromSnapshot(s,this.storageService,r):await this.initializeProtocolState(s,n.protocol.members,n.protocol.proposals,n.protocol.values);const c=this.getCodeDetailsFromQuorum();if(await this.instantiateContext(!0,c,r,null==n?void 0:n.pendingRuntimeState),!this.closed)switch(void 0!==a&&(this._deltaManager.inbound.resume(),await vt(this.mc.logger,"WaitOps",(async()=>(await a,{}))),await vt(this.mc.logger,"WaitOpProcessing",(async()=>this._deltaManager.inbound.waitTillProcessingDone())),this._deltaManager.inbound.pause()),t.deltaConnection){case void 0:case"delayed":(0,E.h)(this.inboundQueuePausedFromInit,838),this.inboundQueuePausedFromInit=!1,this._deltaManager.inbound.resume(),this._deltaManager.inboundSignal.resume();break;case"none":break;default:(0,k.U)(t.deltaConnection)}if(this.closed)throw new Error("Container was closed while load()");return this.setLoaded(),{sequenceNumber:s.sequenceNumber,version:i,dmLastProcessedSeqNumber:this._deltaManager.lastSequenceNumber,dmLastKnownSeqNumber:this._deltaManager.lastKnownSeqNumber}}async createDetached(e){const t={sequenceNumber:0,term:1,minimumSequenceNumber:0};await this.attachDeltaManagerOpHandler(t);const n=ct(e);this._protocolHandler=await this.initializeProtocolState(t,[],[],n),await this.instantiateContextDetached(!1),this.setLoaded()}async rehydrateDetachedFromSnapshot(e){void 0!==e.tree[".hasAttachmentBlobs"]&&((0,E.h)(!!this.loader.services.detachedBlobStorage&&this.loader.services.detachedBlobStorage.size>0,592),delete e.tree[".hasAttachmentBlobs"]);const t=rt(e);this._storage.loadSnapshotForRehydratingContainer(t);const n=await this.getDocumentAttributes(this._storage,t);await this.attachDeltaManagerOpHandler(n);const r=it(t),i=function(e){const t=new Map(e).get("code");return(0,E.h)(void 0!==t,732),null==t?void 0:t.value}(await he(this._storage,r.blobs.quorumValues));this._protocolHandler=await this.initializeProtocolState(n,[],[],void 0!==i?ct(i):[]),await this.instantiateContextDetached(!0,t),this.setLoaded()}async connectStorageService(){var e,t;if(void 0!==this._storageService)return;(0,E.h)(void 0!==this.service,495);const n=await this.service.connectToStorage();this._storageService=new Ze(n,this.mc.logger),!0===this.options.summarizeProtocolTree&&(this.mc.logger.sendTelemetryEvent({eventName:"summarizeProtocolTreeEnabled"}),this._storageService=new Ye(this._storageService,(()=>this.captureProtocolSummary()))),(0,E.h)((null===(e=n.policies)||void 0===e?void 0:e.minBlobSize)===(null===(t=this.storageService.policies)||void 0===t?void 0:t.minBlobSize),224)}async getDocumentAttributes(e,t){if(void 0===t)return{minimumSequenceNumber:0,sequenceNumber:0,term:1};const n=".protocol"in t.trees?t.trees[".protocol"].blobs.attributes:t.blobs[".attributes"],r=await he(e,n);return void 0===r.term&&(r.term=1),r}async initializeProtocolStateFromSnapshot(e,t,n){let r=[],i=[],o=[];if(void 0!==n){const e=it(n);[r,i,o]=await Promise.all([he(t,e.blobs.quorumMembers),he(t,e.blobs.quorumProposals),he(t,e.blobs.quorumValues)])}return await this.initializeProtocolState(e,r,i,o)}async initializeProtocolState(e,t,n,r){const i=new ke(e.minimumSequenceNumber,e.sequenceNumber,e.term,t,n,r,((e,t)=>this.submitMessage(me.Propose,{key:e,value:t}))),o=g.G2.create(this.subLogger,"ProtocolHandler");return i.quorum.on("error",(e=>{o.sendErrorEvent(e)})),this.connectionStateHandler.initProtocol(i),i.quorum.on("addProposal",(e=>{"code"!==e.key&&"code2"!==e.key||this.emit("codeDetailsProposed",e.value,e)})),i.quorum.on("approveProposal",((e,t,n)=>{"code"!==t&&"code2"!==t||((0,A.Tr)(n)||this.mc.logger.sendErrorEvent({eventName:"CodeProposalNotIFluidCodeDetails"}),this.processCodeProposal().catch((e=>{throw this.close((0,T.SC)(e)),e})))})),i}captureProtocolSummary(){const e=this.protocolHandler.snapshot();return{tree:{attributes:{content:JSON.stringify(this.protocolHandler.attributes),type:pe.Blob},quorumMembers:{content:JSON.stringify(e.members),type:pe.Blob},quorumProposals:{content:JSON.stringify(e.proposals),type:pe.Blob},quorumValues:{content:JSON.stringify(e.values),type:pe.Blob}},type:pe.Tree}}getCodeDetailsFromQuorum(){const e=(e=>{var t;return null!==(t=e.get("code"))&&void 0!==t?t:e.get("code2")})(this.protocolHandler.quorum);return e}get client(){var e;const t=void 0!==(null===(e=this.options)||void 0===e?void 0:e.client)?this.options.client:{details:{capabilities:{interactive:!0}},mode:"read",permission:[],scopes:[],user:{id:""}};return void 0!==this.clientDetailsOverride&&x()(t.details,this.clientDetailsOverride),t.details.environment=[t.details.environment,` loaderVersion:${He}`].join(";"),t}activeConnection(){return this.connectionState===Ge.Connected&&"write"===this.connectionMode}createDeltaManager(){const e=()=>this.service,t=new qe(e,g.G2.create(this.subLogger,"DeltaManager"),(()=>this.activeConnection()),(t=>new pt(e,this.client,this._canReconnect,g.G2.create(this.subLogger,"ConnectionManager"),t)));return t.inbound.pause(),t.inboundSignal.pause(),t.on("connect",((e,t)=>{var n;this._audience.clear();for(const t of null!==(n=e.initialClients)&&void 0!==n?n:[])this._audience.addMember(t.clientId,t.client);this.connectionStateHandler.receivedConnectEvent(this.connectionMode,e)})),t.on("disconnect",(e=>{var t;null===(t=this.collabWindowTracker)||void 0===t||t.stopSequenceNumberUpdate(),this.connectionStateHandler.receivedDisconnectEvent(e)})),t.on("throttled",(e=>{const t=e;!0!==t.logged&&this.logContainerError(t),this.emit("warning",t)})),t.on("readonly",(e=>{this.emit("readonly",e)})),t.on("closed",(e=>{this.closeCore(e)})),t}async attachDeltaManagerOpHandler(e,t){var n;return this._deltaManager.attachOpHandler(e.minimumSequenceNumber,e.sequenceNumber,null!==(n=e.term)&&void 0!==n?n:1,{process:e=>this.processRemoteMessage(e),processSignal:e=>{this.processSignal(e)}},t)}logConnectionStateChangeTelemetry(e,t,n){var r;const i=C.S.now();this.connectionTransitionTimes[e]=i;const o=i-this.connectionTransitionTimes[t];let s,a,c,u,l;e===Ge.Disconnected?c=this._deltaManager.connectionManager.reconnectMode:(e===Ge.Connected?(s=i-this.connectionTransitionTimes[Ge.Disconnected],s=g.hy.formatTick(s)):(u=this.deltaManager.lastKnownSeqNumber,this.deltaManager.hasCheckpointSequenceNumber&&(l=u-this.deltaManager.lastSequenceNumber)),a=this.firstConnection?"InitialConnect":"AutoReconnect"),this.mc.logger.sendPerformanceEvent(Object.assign({eventName:`ConnectionStateChange_${Ge[e]}`,from:Ge[t],duration:o,durationFromDisconnected:s,reason:n,connectionInitiationReason:a,pendingClientId:this.connectionStateHandler.pendingClientId,clientId:this.clientId,autoReconnect:c,opsBehind:l,online:z[H()],lastVisible:void 0!==this.lastVisible?C.S.now()-this.lastVisible:void 0,checkpointSequenceNumber:u,quorumSize:null===(r=this._protocolHandler)||void 0===r?void 0:r.quorum.getMembers().size},this._deltaManager.connectionProps)),e===Ge.Connected&&(this.firstConnection=!1)}propagateConnectionState(){var e;const t=this.connectionState===Ge.Connected&&!this.firstConnection&&"write"===this.connectionMode;t&&(this.messageCountAfterDisconnection=0);const n=this.connectionState===Ge.Connected;!1===(null===(e=this._context)||void 0===e?void 0:e.disposed)&&this.context.setConnectionState(n,this.clientId),this.protocolHandler.setConnectionState(n,this.clientId),(0,Ne.Qq)(this.mc.logger,this,n,this.clientId),t&&this.mc.logger.sendTelemetryEvent({eventName:"OpsSentOnReconnect",count:this.messageCountAfterDisconnection})}submitContainerMessage(e,t,n,r){switch(e){case me.Operation:case me.RemoteHelp:break;case me.Summarize:{const e=t;void 0===e.details&&(e.details={}),e.details.includesProtocolTree=!0===this.options.summarizeProtocolTree;break}default:return this.close(new P("invalidContainerSubmitOpType",void 0,{messageType:e})),-1}return this.submitMessage(e,t,n,r)}submitMessage(e,t,n,r){var i;return this.connectionState!==Ge.Connected?(this.mc.logger.sendErrorEvent({eventName:"SubmitMessageWithNoConnection",type:e}),-1):(this.messageCountAfterDisconnection+=1,null===(i=this.collabWindowTracker)||void 0===i||i.stopSequenceNumberUpdate(),this._deltaManager.submit(e,t,n,r))}processRemoteMessage(e){const t=this.clientId===e.clientId;let n={immediateNoOp:!1};try{n=this.protocolHandler.processMessage(e,t)}catch(t){this.close((0,T.Jn)(t,(t=>new L(t,D(e)))))}return fe(e)&&!de(e)&&this.mc.logger.sendTelemetryEvent({eventName:"UnpackedRuntimeMessage",type:e.type}),(de(e)||fe(e))&&this.context.process(e,t,void 0),this.activeConnection()&&(void 0===this.collabWindowTracker&&((0,E.h)(void 0!==this.serviceConfiguration,740),this.collabWindowTracker=new ut(((e,t)=>{(0,E.h)(this.activeConnection(),577),this.submitMessage(e,t)}),this.serviceConfiguration.noopTimeFrequency,this.serviceConfiguration.noopCountFrequency)),this.collabWindowTracker.scheduleSequenceNumberUpdate(e,!0===n.immediateNoOp)),this.emit("op",e),n}submitSignal(e){this._deltaManager.submitSignal(JSON.stringify(e))}processSignal(e){if(null===e.clientId){const t=e.content;if(t.type===me.ClientJoin){const e=t.content;this._audience.addMember(e.clientId,e.client)}else if(t.type===me.ClientLeave){const e=t.content;this._audience.removeMember(e)}}else{const t=this.clientId===e.clientId;this.context.processSignal(e,t)}}async fetchSnapshotTree(e){var t;const n=await this.getVersion(null!=e?e:null);void 0===n&&void 0!==e&&this.mc.logger.sendErrorEvent({eventName:"NoVersionFoundWhenSpecified",id:e}),this._loadedFromVersion=n;const r=null!==(t=await this.storageService.getSnapshotTree(n))&&void 0!==t?t:void 0;return void 0===r&&void 0!==n&&this.mc.logger.sendErrorEvent({eventName:"getSnapshotTreeFailed",id:n.id}),{snapshot:r,versionId:null==n?void 0:n.id}}async instantiateContextDetached(e,t){const n=this.getCodeDetailsFromQuorum();if(void 0===n)throw new Error("pkg should be provided in create flow!!");await this.instantiateContext(e,n,t)}async instantiateContext(e,t,n,r){var i;(0,E.h)(!1!==(null===(i=this._context)||void 0===i?void 0:i.disposed),221);const o=new St(this,this.loader);this._context=await Re.createOrLoad(this,this.scope,this.codeLoader,t,n,new $e(this._deltaManager),new at(this.protocolHandler.quorum),o,((e,t,n,r)=>this.submitContainerMessage(e,t,n,r)),(e=>this.submitSignal(e)),(e=>this.close(e)),bt.version,(e=>this.updateDirtyContainerState(e)),e,r),this.emit("contextChanged",t)}updateDirtyContainerState(e){this._dirtyContainer!==e&&(this._dirtyContainer=e,this.emit(e?mt:gt))}logContainerError(e){this.mc.logger.sendErrorEvent({eventName:"ContainerWarning"},e)}}function wt(e){return void 0===e.headers||!1!==e.headers[f.A.cache]}bt.version="^0.1.0";class St{constructor(e,t){this.container=e,this.loader=t}get IFluidRouter(){return this}async resolve(e){var t,n,r,i,o;if(e.url.startsWith("/")){if(wt(e))return this.container;{const s=this.container.resolvedUrl;return y(s),await bt.load(this.loader,{canReconnect:null===(t=e.headers)||void 0===t?void 0:t[f.A.reconnect],clientDetailsOverride:null===(n=e.headers)||void 0===n?void 0:n[f.A.clientDetails],resolvedUrl:Object.assign({},s),version:null!==(i=null===(r=e.headers)||void 0===r?void 0:r[f.A.version])&&void 0!==i?i:void 0,loadMode:null===(o=e.headers)||void 0===o?void 0:o[f.A.loadMode]})}}if(void 0===this.loader)throw new Error("Cannot resolve external containers");return this.loader.resolve(e)}async request(e){return e.url.startsWith("/")?(await this.resolve(e)).request(e):void 0===this.loader?{status:404,value:"Cannot request external containers",mimeType:"plain/text"}:this.loader.request(e)}}function _t(e){const t=Object.create(e),n=new Map;return t.resolve=async t=>wt(t)?(n.has(t.url)||n.set(t.url,e.resolve(t)),n.get(t.url)):e.resolve(t),t}class xt{constructor(e){var t,n;this.containers=new Map;const r=Object.assign({},e.scope);!1!==(null===(t=e.options)||void 0===t?void 0:t.provideScopeLoader)&&(r.ILoader=this);const i={loaderId:d(),loaderVersion:He},o=(0,p.UK)(m.b.mixinDebugLogger("fluid:telemetry",e.logger,{all:i}),p.of.value,e.configProvider);this.services={urlResolver:_t(b.create(e.urlResolver)),documentServiceFactory:S.create(e.documentServiceFactory),codeLoader:e.codeLoader,options:null!==(n=e.options)&&void 0!==n?n:{},scope:r,subLogger:o.logger,detachedBlobStorage:e.detachedBlobStorage},this.mc=(0,p.rZ)(g.G2.create(this.services.subLogger,"Loader"))}get IFluidRouter(){return this}async createDetachedContainer(e){const t=await bt.createDetached(this,e);return this.cachingEnabled&&t.once("attached",(()=>{y(t.resolvedUrl);const e=et(t.resolvedUrl.url);void 0!==e&&this.addToContainerCache(e.id,Promise.resolve(t))})),t}async rehydrateDetachedContainerFromSnapshot(e){return bt.rehydrateDetachedFromSnapshot(this,e)}async resolve(e,t){const n=void 0===t?"Resolve":"ResolveWithPendingState";return g.Xr.timedExecAsync(this.mc.logger,{eventName:n},(async()=>(await this.resolveCore(e,void 0!==t?JSON.parse(t):void 0)).container))}async request(e){return g.Xr.timedExecAsync(this.mc.logger,{eventName:"Request"},(async()=>{const t=await this.resolveCore(e);return t.container.request(Object.assign(Object.assign({},e),{url:`${t.parsed.path}${t.parsed.query}`}))}))}getKeyForContainerCache(e,t){var n;return void 0!==(null===(n=e.headers)||void 0===n?void 0:n[f.A.version])?`${t.id}@${e.headers[f.A.version]}`:t.id}addToContainerCache(e,t){this.containers.set(e,t),t.then((t=>{t.closed?this.containers.delete(e):t.once("closed",(()=>{this.containers.delete(e)}))})).catch((e=>{}))}async resolveCore(e,t){const n=await this.services.urlResolver.resolve(e);y(n);const r=et(n.url);if(void 0===r)throw new Error(`Invalid URL ${n.url}`);if(void 0!==t){const e=et(t.url);if((null==e?void 0:e.id)!==r.id||(null==e?void 0:e.path.replace(/\/$/,""))!==r.path.replace(/\/$/,"")){const e=`URL ${n.url} does not match pending state URL ${t.url}`;throw new Error(e)}}const{canCache:i,fromSequenceNumber:o}=this.parseHeader(r,e);let s;if(void 0===t&&i){const t=this.getKeyForContainerCache(e,r),i=await this.containers.get(t);if(void 0!==i)s=i;else{const r=this.loadContainer(e,n);this.addToContainerCache(t,r),s=await r}}else s=await this.loadContainer(e,n,t);return s.deltaManager.lastSequenceNumber<=o&&await new Promise(((e,t)=>{s.on("op",(function t(n){n.sequenceNumber>o&&(e(),s.removeListener("op",t))}))})),{container:s,parsed:r}}get cachingEnabled(){return!1!==this.services.options.cache}canCacheForRequest(e){return this.cachingEnabled&&!1!==e[f.A.cache]}parseHeader(e,t){var n,r;let i=-1;t.headers=null!==(n=t.headers)&&void 0!==n?n:{};const o=t.headers[f.A.sequenceNumber];return void 0!==o&&(i=o),t.headers[f.A.version]=null!==(r=e.version)&&void 0!==r?r:t.headers[f.A.version],{canCache:this.canCacheForRequest(t.headers),fromSequenceNumber:i}}async loadContainer(e,t,n){var r,i,o,s,a;return bt.load(this,{canReconnect:null===(r=e.headers)||void 0===r?void 0:r[f.A.reconnect],clientDetailsOverride:null===(i=e.headers)||void 0===i?void 0:i[f.A.clientDetails],resolvedUrl:t,version:null!==(s=null===(o=e.headers)||void 0===o?void 0:o[f.A.version])&&void 0!==s?s:void 0,loadMode:null===(a=e.headers)||void 0===a?void 0:a[f.A.loadMode]},n)}}class Ct extends we.L{constructor(e,t){super(),this.container=e,this.rootDataObject=t,this.connectedHandler=()=>this.emit("connected"),this.disconnectedHandler=()=>this.emit("disconnected"),this.disposedHandler=e=>this.emit("disposed",e),this.savedHandler=()=>this.emit("saved"),this.dirtyHandler=()=>this.emit("dirty"),e.on("connected",this.connectedHandler),e.on("closed",this.disposedHandler),e.on("disconnected",this.disconnectedHandler),e.on("saved",this.savedHandler),e.on("dirty",this.dirtyHandler)}get isDirty(){return this.container.isDirty}get attachState(){return this.container.attachState}get disposed(){return this.container.closed}get connectionState(){return this.container.connectionState}get initialObjects(){return this.rootDataObject.initialObjects}async attach(){throw new Error("Cannot attach container. Container is not in detached state")}async connect(){var e,t;null===(t=(e=this.container).connect)||void 0===t||t.call(e)}async disconnect(){var e,t;null===(t=(e=this.container).disconnect)||void 0===t||t.call(e)}async create(e){return this.rootDataObject.create(e)}dispose(){this.container.close(),this.container.off("connected",this.connectedHandler),this.container.off("closed",this.disposedHandler),this.container.off("disconnected",this.disconnectedHandler),this.container.off("saved",this.savedHandler),this.container.off("dirty",this.dirtyHandler)}}var Et,kt,At;!function(e){e.NoOp="noop",e.ClientJoin="join",e.ClientLeave="leave",e.Propose="propose",e.Reject="reject",e.Summarize="summarize",e.SummaryAck="summaryAck",e.SummaryNack="summaryNack",e.Operation="op",e.RemoteHelp="remoteHelp",e.NoClient="noClient",e.RoundTrip="tripComplete",e.Control="control"}(Et||(Et={})),function(e){e.ThrottlingError="ThrottlingError",e.InvalidScopeError="InvalidScopeError",e.BadRequestError="BadRequestError",e.LimitExceededError="LimitExceededError"}(kt||(kt={}));var Nt=new Uint8Array(16);function Tt(){if(!At&&!(At="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return At(Nt)}const Pt=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var Ot=[],It=0;It<256;++It)Ot.push((It+256).toString(16).substr(1));const Rt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(Ot[e[t+0]]+Ot[e[t+1]]+Ot[e[t+2]]+Ot[e[t+3]]+"-"+Ot[e[t+4]]+Ot[e[t+5]]+"-"+Ot[e[t+6]]+Ot[e[t+7]]+"-"+Ot[e[t+8]]+Ot[e[t+9]]+"-"+Ot[e[t+10]]+Ot[e[t+11]]+Ot[e[t+12]]+Ot[e[t+13]]+Ot[e[t+14]]+Ot[e[t+15]]).toLowerCase();if(!function(e){return"string"==typeof e&&Pt.test(e)}(n))throw TypeError("Stringified UUID is invalid");return n},Lt=function(e,t,n){var r=(e=e||{}).random||(e.rng||Tt)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return Rt(r)};var Mt,Dt,jt,Ft,Bt=n(89730),qt=n(25530),Ut=n(36668),zt=n(97337);!function(e){e.summarizingClient="fluid-client-summarizer",e.createNew="createNew"}(Mt||(Mt={})),function(e){e.NoOp="noop",e.ClientJoin="join",e.ClientLeave="leave",e.Propose="propose",e.Reject="reject",e.Summarize="summarize",e.SummaryAck="summaryAck",e.SummaryNack="summaryNack",e.Operation="op",e.RemoteHelp="remoteHelp",e.NoClient="noClient",e.RoundTrip="tripComplete",e.Control="control"}(Dt||(Dt={})),function(e){e.ThrottlingError="ThrottlingError",e.InvalidScopeError="InvalidScopeError",e.BadRequestError="BadRequestError",e.LimitExceededError="LimitExceededError"}(jt||(jt={})),function(e){e.Tree=1,e.Blob=2,e.Handle=3,e.Attachment=4}(Ft||(Ft={}));var $t,Ht=n(37950),Gt=n(80578),Vt=n(73447),Wt=n(83814),Kt=n(72385),Zt=n(14244),Yt=new Uint8Array(16);function Jt(){if(!$t&&!($t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return $t(Yt)}const Qt=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var Xt=[],en=0;en<256;++en)Xt.push((en+256).toString(16).substr(1));const tn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(Xt[e[t+0]]+Xt[e[t+1]]+Xt[e[t+2]]+Xt[e[t+3]]+"-"+Xt[e[t+4]]+Xt[e[t+5]]+"-"+Xt[e[t+6]]+Xt[e[t+7]]+"-"+Xt[e[t+8]]+Xt[e[t+9]]+"-"+Xt[e[t+10]]+Xt[e[t+11]]+Xt[e[t+12]]+Xt[e[t+13]]+Xt[e[t+14]]+Xt[e[t+15]]).toLowerCase();if(!function(e){return"string"==typeof e&&Qt.test(e)}(n))throw TypeError("Stringified UUID is invalid");return n},nn=function(e,t,n){var r=(e=e||{}).random||(e.rng||Jt)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return tn(r)};class rn{constructor(e,t,n){this.path=e,this.runtime=t,this.routeContext=n,this.absolutePath=(0,Ut.H)(e,this.routeContext)}get IFluidHandleContext(){return this}attachGraph(){throw new Error("can't attach container runtime form within container!")}get isAttached(){return this.runtime.attachState!==o.mB.Detached}async resolveHandle(e){return this.runtime.resolveHandle(e)}}class on{constructor(e){this.map=new Map;for(const t of e){if(this.map.has(t[0]))throw new I("Duplicate entry names exist");this.map.set(t[0],t[1])}}get IFluidDataStoreRegistry(){return this}async get(e){if(this.map.has(e))return this.map.get(e)}}var sn=n(1283),an=n(47852);const cn="summarizer";class un extends we.L{constructor(e,t,n,r,i){super(),this.logger=e,this.summaryCollection=t,this.clientElection=n,this.maxOpsSinceLastSummary=r,this.electionEnabled=i,this.lastReportedSeq=0,this.summaryCollection.on("default",(({sequenceNumber:e})=>{var t,n,i;const o=this.electedClientId;if(void 0===o)return void(this.clientElection.eligibleCount>0&&this.clientElection.resetElectedClient(e));let s=this.clientElection.electionSequenceNumber;if(e-(null!==(t=this.lastSummaryAckSeqForClient)&&void 0!==t?t:s)>this.maxOpsSinceLastSummary){const t=e-this.lastReportedSeq;if(t>this.maxOpsSinceLastSummary&&(this.logger.sendErrorEvent({eventName:"ElectedClientNotSummarizing",electedClientId:o,lastSummaryAckSeqForClient:this.lastSummaryAckSeqForClient,electionSequenceNumber:s,nextElectedClientId:null===(n=this.clientElection.peekNextElectedClient())||void 0===n?void 0:n.clientId,electionEnabled:this.electionEnabled}),this.lastReportedSeq=e),this.electionEnabled){const n=this.electedParentId;this.clientElection.incrementElectedClient(e),s=this.clientElection.electionSequenceNumber,e>(null!==(i=this.lastSummaryAckSeqForClient)&&void 0!==i?i:s)&&t>this.maxOpsSinceLastSummary&&this.logger.sendErrorEvent({eventName:"UnexpectedElectionSequenceNumber",lastSummaryAckSeqForClient:this.lastSummaryAckSeqForClient,electionSequenceNumber:s,sequenceNumber:e,previousClientId:o,previousParentId:n,electedParentId:this.electedParentId,electedClientId:this.electedClientId,opsSinceLastReport:t,maxOpsSinceLastSummary:r})}}})),this.summaryCollection.on(Dt.SummaryAck,(e=>{this.lastSummaryAckSeqForClient=e.sequenceNumber})),this.clientElection.on("election",((e,t)=>{this.lastSummaryAckSeqForClient=void 0,void 0===e&&this.clientElection.eligibleCount>0&&this.clientElection.resetElectedClient(t),this.emit("electedSummarizerChanged")}))}get electedClientId(){var e;return null===(e=this.clientElection.electedClient)||void 0===e?void 0:e.clientId}get electedParentId(){var e;return null===(e=this.clientElection.electedParent)||void 0===e?void 0:e.clientId}serialize(){var e;const{electedClientId:t,electedParentId:n,electionSequenceNumber:r}=this.clientElection.serialize();return{electedClientId:t,electedParentId:n,electionSequenceNumber:null!==(e=this.lastSummaryAckSeqForClient)&&void 0!==e?e:r}}static isClientEligible(e){const t=e.client.details;return void 0===t||un.clientDetailsPermitElection(t)}}un.clientDetailsPermitElection=e=>e.capabilities.interactive||e.type===cn;class ln{constructor(e,t,n){this.value=e,this.path=t,this.routeContext=n,this.pendingHandlesToMakeVisible=new Set,this.locallyVisible=!1,this.absolutePath=(0,Ut.H)(t,this.routeContext)}get IFluidHandle(){return this}get isAttached(){return this.routeContext.isAttached}get visible(){return this.isAttached||this.locallyVisible}async get(){return this.value}attachGraph(){this.visible||(this.locallyVisible=!0,this.pendingHandlesToMakeVisible.forEach((e=>{e.attachGraph()})),this.pendingHandlesToMakeVisible.clear(),this.routeContext.attachGraph())}bind(e){this.visible?e.attachGraph():this.pendingHandlesToMakeVisible.add(e)}}class hn extends ln{async get(){throw Error("Do not try to get a summarizer object from the handle. Reference it directly.")}attach(){}bind(e){}}class dn{constructor(e,t){this.lastOpSequenceNumber=e,this._lastAttempt=t,this._lastSuccessfulSummary=Object.assign({},t)}get lastAttempt(){return this._lastAttempt}get lastSuccessfulSummary(){return this._lastSuccessfulSummary}updateWithLastSummaryAckInfo(e){this._lastAttempt=e,this._lastSuccessfulSummary=Object.assign({},e)}recordAttempt(e){this._lastAttempt={refSequenceNumber:null!=e?e:this.lastOpSequenceNumber,summaryTime:Date.now()}}markLastAttemptAsSuccessful(){this._lastSuccessfulSummary=Object.assign({},this.lastAttempt)}}class fn{constructor(e,t,n,r){this.heuristicData=e,this.configuration=t,this.trySummarize=n,this.logger=r,this.idleTimer=new We.B(this.configuration.idleTime,(()=>this.trySummarize("idle"))),this.minOpsForLastSummaryAttempt=this.configuration.minOpsForLastSummaryAttempt}get opsSinceLastAck(){return this.heuristicData.lastOpSequenceNumber-this.heuristicData.lastSuccessfulSummary.refSequenceNumber}run(){const e=Date.now()-this.heuristicData.lastSuccessfulSummary.summaryTime,t=this.opsSinceLastAck;e>this.configuration.maxTime?(this.idleTimer.clear(),this.trySummarize("maxTime")):t>this.configuration.maxOps?(this.idleTimer.clear(),this.trySummarize("maxOps")):this.idleTimer.restart()}shouldRunLastSummary(){const e=this.opsSinceLastAck,t=this.minOpsForLastSummaryAttempt;return this.logger.sendTelemetryEvent({eventName:"ShouldRunLastSummary",opsSinceLastAck:e,minOpsForLastSummaryAttempt:t}),e>=t}dispose(){this.idleTimer.clear()}}async function pn(e,t,n){const r=[e.then((e=>({result:"done",value:e}))),t.then((({timerResult:e})=>({result:e})))];return void 0!==n&&r.push(n.waitCancelled.then((()=>({result:"cancelled"})))),Promise.race(r)}const mn={submitSummaryFailure:"Error while generating, uploading, or submitting summary",summaryOpWaitTimeout:"Timeout while waiting for summarize op broadcast",summaryAckWaitTimeout:"Timeout while waiting for summaryAck/summaryNack op",summaryNack:"Server rejected summary via summaryNack op",disconnect:"Summary cancelled due to summarizer or main client disconnect"};class gn{constructor(){this.summarySubmitted=new Ie.B,this.summaryOpBroadcasted=new Ie.B,this.receivedSummaryAckOrNack=new Ie.B}fail(e,t,n,r){(0,E.h)(!this.receivedSummaryAckOrNack.isCompleted,606);const i={success:!1,message:e,data:void 0,error:t,retryAfterSeconds:r};this.summarySubmitted.resolve(i),this.summaryOpBroadcasted.resolve(i),this.receivedSummaryAckOrNack.resolve(Object.assign(Object.assign({},i),{data:n}))}build(){return{summarySubmitted:this.summarySubmitted.promise,summaryOpBroadcasted:this.summaryOpBroadcasted.promise,receivedSummaryAckOrNack:this.receivedSummaryAckOrNack.promise}}}class vn{constructor(e,t,n,r,i,o,s){this.pendingAckTimer=e,this.heuristicData=t,this.submitSummaryCallback=n,this.raiseSummarizingError=r,this.successfulSummaryCallback=i,this.summaryWatcher=o,this.logger=s,this.summarizeTimer=new We.B(2e4,(()=>this.summarizeTimerHandler(2e4,1)))}summarize(e,t,n,r=new gn){return this.summarizeCore(e,t,r,n).catch((t=>{const n="UnexpectedSummarizeError";this.logger.sendErrorEvent(Object.assign({eventName:n},e),t),r.fail(n,t)})),r.build()}async summarizeCore(e,t,n,r){const{refreshLatestAck:i,fullTree:o}=t,s=g.G2.create(this.logger,void 0,{all:e});let a={fullTree:o,timeSinceLastAttempt:Date.now()-this.heuristicData.lastAttempt.summaryTime,timeSinceLastSummary:Date.now()-this.heuristicData.lastSuccessfulSummary.summaryTime};const c=g.Xr.start(s,Object.assign({eventName:"Summarize",refreshLatestAck:i},a)),u=(e,t,i,o)=>{this.raiseSummarizingError(mn[e]);const s=ee(t),a=r.cancelled||(null==t?void 0:t.errorType)===q.offlineError?"generic":"error";c.cancel(Object.assign(Object.assign({},i),{reason:e,category:a,retryAfterSeconds:s}),t),n.fail((e=>`${e}: ${mn[e]}`)(e),t,o,s)};let l;this.summarizeTimer.start();try{l=await this.submitSummaryCallback({fullTree:o,refreshLatestAck:i,summaryLogger:s,cancellationToken:r});const e=l.referenceSequenceNumber,t=e-this.heuristicData.lastSuccessfulSummary.refSequenceNumber;if(a=Object.assign(Object.assign({},a),{referenceSequenceNumber:e,minimumSequenceNumber:l.minimumSequenceNumber,opsSinceLastAttempt:e-this.heuristicData.lastAttempt.refSequenceNumber,opsSinceLastSummary:t}),"base"!==l.stage&&(a=Object.assign(Object.assign(Object.assign({},a),l.summaryStats),{generateDuration:l.generateDuration}),"generate"!==l.stage&&(a=Object.assign(Object.assign({},a),{handle:l.handle,uploadDuration:l.uploadDuration}),"upload"!==l.stage&&(a=Object.assign(Object.assign({},a),{clientSequenceNumber:l.clientSequenceNumber})))),"submit"!==l.stage)return u("submitSummaryFailure",l.error,a);if(!o&&!l.forcedFullTree){const{summarizedDataStoreCount:e,gcStateUpdatedDataStoreCount:n=0}=l.summaryStats;e>n+t&&s.sendErrorEvent({eventName:"IncrementalSummaryViolation",summarizedDataStoreCount:e,gcStateUpdatedDataStoreCount:n,opsSinceLastSummary:t})}c.reportEvent("generate",Object.assign({},a)),n.summarySubmitted.resolve({success:!0,data:l})}catch(e){return u("submitSummaryFailure",e)}finally{this.heuristicData.recordAttempt(null==l?void 0:l.referenceSequenceNumber),this.summarizeTimer.clear()}try{const e=this.pendingAckTimer.start(),t=this.summaryWatcher.watchSummary(l.clientSequenceNumber),i=await pn(t.waitBroadcast(),e,r);if("cancelled"===i.result)return u("disconnect");if("done"!==i.result)return u("summaryOpWaitTimeout");const o=i.value,h=Date.now()-this.heuristicData.lastAttempt.summaryTime;n.summaryOpBroadcasted.resolve({success:!0,data:{summarizeOp:o,broadcastDuration:h}}),this.heuristicData.lastAttempt.summarySequenceNumber=o.sequenceNumber,s.sendTelemetryEvent({eventName:"Summarize_Op",duration:h,referenceSequenceNumber:o.referenceSequenceNumber,summarySequenceNumber:o.sequenceNumber,handle:o.contents.handle});const d=await pn(t.waitAckNack(),e,r);if("cancelled"===d.result)return u("disconnect");if("done"!==d.result)return u("summaryAckWaitTimeout");const f=d.value;this.pendingAckTimer.clear();const p=Date.now()-this.heuristicData.lastAttempt.summaryTime;if(a=Object.assign({ackWaitDuration:p,ackNackSequenceNumber:f.sequenceNumber,summarySequenceNumber:f.contents.summaryProposal.summarySequenceNumber},a),f.type!==Dt.SummaryAck){(0,E.h)(f.type===Dt.SummaryNack,628);const e=f.contents,t=null==e?void 0:e.message,n=null==e?void 0:e.retryAfter,r=new T.j4(`Received summaryNack: ${t}`,{retryAfterSeconds:n});return(0,E.h)(ee(r)===n,607),u("summaryNack",r,Object.assign(Object.assign({},a),{nackRetryAfter:n}),{summaryNackOp:f,ackNackDuration:p})}this.heuristicData.markLastAttemptAsSuccessful(),this.successfulSummaryCallback(),c.end(Object.assign(Object.assign({},a),{handle:f.contents.handle})),n.receivedSummaryAckOrNack.resolve({success:!0,data:{summaryAckOp:f,ackNackDuration:p}})}finally{this.pendingAckTimer.clear()}}summarizeTimerHandler(e,t){if(this.logger.sendPerformanceEvent({eventName:"SummarizeTimeout",timeoutTime:e,timeoutCount:t}),t<5){const n=2*e;this.summarizeTimer.start(n,(()=>this.summarizeTimerHandler(n,t+1)))}}dispose(){this.summarizeTimer.clear()}}var yn,bn=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};class wn{constructor(e,t,n,r,i,o,s,a,c){this.summaryWatcher=t,this.configuration=n,this.submitSummaryCallback=r,this.heuristicData=i,this.raiseSummarizingError=o,this.summaryCollection=s,this.cancellationToken=a,this.stopSummarizerCallback=c,this.stopping=!1,this._disposed=!1,this.tryWhileSummarizing=!1,this.summarizeCount=0,this.totalSuccessfulAttempts=0,this.tryGetCorrelatedLogger=e=>this.heuristicData.lastAttempt.refSequenceNumber===e?this.logger:void 0;const u={summarizeCount:()=>this.summarizeCount,summarizerSuccessfulAttempts:()=>this.totalSuccessfulAttempts};this.logger=g.G2.create(e,"Running",{all:u}),"disableHeuristics"!==n.state&&((0,E.h)("enabled"===this.configuration.state,746),this.heuristicRunner=new fn(i,this.configuration,(e=>this.trySummarize(e)),this.logger)),(0,E.h)("disabled"!==this.configuration.state,747);const l=Math.min(this.configuration.maxAckWaitTime,6e5);this.pendingAckTimer=new We.g(l,(()=>{this.raiseSummarizingError("Pending summary ack not received in time"),this.logger.sendErrorEvent({eventName:"SummaryAckWaitTimeout",maxAckWaitTime:l,referenceSequenceNumber:this.heuristicData.lastAttempt.refSequenceNumber,summarySequenceNumber:this.heuristicData.lastAttempt.summarySequenceNumber,timePending:Date.now()-this.heuristicData.lastAttempt.summaryTime})})),s.setPendingAckTimerTimeoutCallback(l,(()=>{this.pendingAckTimer.hasTimer&&(this.logger.sendTelemetryEvent({eventName:"MissingSummaryAckFoundByOps",referenceSequenceNumber:this.heuristicData.lastAttempt.refSequenceNumber,summarySequenceNumber:this.heuristicData.lastAttempt.summarySequenceNumber}),this.pendingAckTimer.clear())})),this.generator=new vn(this.pendingAckTimer,this.heuristicData,this.submitSummaryCallback,this.raiseSummarizingError,(()=>{this.totalSuccessfulAttempts++}),this.summaryWatcher,this.logger)}static async start(e,t,n,r,i,o,s,a,c){var u;const l=new wn(e,t,n,r,i,o,s,a,c);return await l.waitStart(),null===(u=l.heuristicRunner)||void 0===u||u.run(),l}get disposed(){return this._disposed}dispose(){var e;this.summaryWatcher.dispose(),null===(e=this.heuristicRunner)||void 0===e||e.dispose(),this.heuristicRunner=void 0,this.generator.dispose(),this.pendingAckTimer.clear(),this.disposeEnqueuedSummary(),this._disposed=!0,this.stopping=!0}handleSystemOp(e){switch(e.type){case Dt.ClientLeave:case Dt.ClientJoin:case Dt.Propose:return void this.handleOp(void 0,e);default:return}}handleOp(e,{sequenceNumber:t,type:n,clientId:r,contents:i}){var o;void 0===e&&(this.heuristicData.lastOpSequenceNumber=t,this.tryRunEnqueuedSummary()||null===(o=this.heuristicRunner)||void 0===o||o.run())}async waitStop(e){var t;this.stopping||(this.stopping=!0,this.disposeEnqueuedSummary(),e&&(null===(t=this.heuristicRunner)||void 0===t?void 0:t.shouldRunLastSummary())&&void 0===this.summarizingLock&&this.trySummarizeOnce({reason:"lastSummary"},{}),await this.summarizingLock)}async waitStart(){const e=await pn(this.summaryWatcher.waitFlushed(),this.pendingAckTimer.start());this.pendingAckTimer.clear(),this.summaryCollection.unsetPendingAckTimerTimeoutCallback(),"done"===e.result&&void 0!==e.value&&this.heuristicData.updateWithLastSummaryAckInfo({refSequenceNumber:e.value.summaryOp.referenceSequenceNumber,summaryTime:Date.now(),summarySequenceNumber:e.value.summaryOp.sequenceNumber})}async lockedRefreshSummaryAckAction(e){(0,E.h)(void 0===this.refreshSummaryAckLock,"Refresh Summary Ack - Caller is responsible for checking lock");const t=new Ie.B;return this.refreshSummaryAckLock=t.promise,e().finally((()=>{t.resolve(),this.refreshSummaryAckLock=void 0}))}async lockedSummaryAction(e){(0,E.h)(void 0===this.summarizingLock,603);const t=new Ie.B;return this.summarizingLock=t.promise,this.summarizeCount++,await this.refreshSummaryAckLock,e().finally((()=>{var e;t.resolve(),this.summarizingLock=void 0;const n=this.tryWhileSummarizing;this.tryWhileSummarizing=!1,this.stopping||this.tryRunEnqueuedSummary()||!n||null===(e=this.heuristicRunner)||void 0===e||e.run()}))}trySummarizeOnce(e,t,n=this.cancellationToken,r=new gn){return this.lockedSummaryAction((async()=>this.generator.summarize(e,t,n,r).receivedSummaryAckOrNack)).catch((e=>{})),r.build()}trySummarize(e,t=this.cancellationToken){void 0===this.summarizingLock?this.lockedSummaryAction((async()=>{const n=[{refreshLatestAck:!1,fullTree:!1},{refreshLatestAck:!0,fullTree:!1},{refreshLatestAck:!0,fullTree:!1,delaySeconds:120},{refreshLatestAck:!0,fullTree:!0,delaySeconds:600}];let r,i,o=0,s=0;for(let a=0;a<n.length;){if(this.cancellationToken.cancelled)return;if(++o>1&&"lastSummary"===e)return;s++;const c=n[a],{delaySeconds:u=0}=c,l=bn(c,["delaySeconds"]),h=null!=r?r:u,d=Object.assign({reason:e,summaryAttempts:o,summaryAttemptsPerPhase:s,summaryAttemptPhase:a+1},l);h>0&&(this.logger.sendPerformanceEvent(Object.assign({eventName:"SummarizeAttemptDelay",duration:h,summaryNackDelay:void 0!==r},d)),await(0,$.g)(1e3*h)),await this.refreshSummaryAckLock;const f=this.generator.summarize(d,l,t),p=await f.receivedSummaryAckOrNack;if(p.success)return;r=p.retryAfterSeconds,(void 0===r||s>1)&&(a++,s=0),i=p}this.logger.sendErrorEvent({eventName:"FailToSummarize",reason:e,message:null==i?void 0:i.message},null==i?void 0:i.error),this.stopSummarizerCallback("failToSummarize")})).catch((e=>{this.logger.sendErrorEvent({eventName:"UnexpectedSummarizeError"},e)})):this.tryWhileSummarizing=!0}summarizeOnDemand(e=new gn,t){var{reason:n}=t,r=bn(t,["reason"]);if(this.stopping)return e.fail("RunningSummarizer stopped or disposed",void 0),e.build();if(void 0!==this.summarizingLock)throw new I("Attempted to run an already-running summarizer on demand");return this.trySummarizeOnce({reason:`onDemand/${n}`},r,this.cancellationToken,e)}enqueueSummarize(e){var{reason:t,afterSequenceNumber:n=0,override:r=!1}=e,i=bn(e,["reason","afterSequenceNumber","override"]);const o=`enqueue;${t}`;let s=!1;if(void 0!==this.enqueuedSummary){if(!r)return{alreadyEnqueued:!0};this.enqueuedSummary.resultsBuilder.fail("Aborted; overridden by another enqueue summarize attempt",void 0),this.enqueuedSummary=void 0,s=!0}this.enqueuedSummary={reason:o,afterSequenceNumber:n,options:i,resultsBuilder:new gn};const a=this.enqueuedSummary.resultsBuilder.build();return this.tryRunEnqueuedSummary(),s?Object.assign(Object.assign({},a),{alreadyEnqueued:!0,overridden:!0}):a}tryRunEnqueuedSummary(){if(this.stopping)return this.disposeEnqueuedSummary(),!1;if(void 0===this.enqueuedSummary||this.heuristicData.lastOpSequenceNumber<this.enqueuedSummary.afterSequenceNumber||void 0!==this.summarizingLock)return!1;const{reason:e,resultsBuilder:t,options:n}=this.enqueuedSummary;return this.enqueuedSummary=void 0,this.trySummarizeOnce({reason:`enqueuedSummary/${e}`},n,this.cancellationToken,t),!0}disposeEnqueuedSummary(){void 0!==this.enqueuedSummary&&(this.enqueuedSummary.resultsBuilder.fail("RunningSummarizer stopped or disposed",void 0),this.enqueuedSummary=void 0)}}class Sn extends T.j4{constructor(e,t=!1){super(e),this.logged=t,this.errorType="summarizingError",this.canRetry=!0}static wrap(e,t=!1,n){return(0,T.bO)(e,(e=>new Sn(e,t)),n)}}class _n extends sn.EventEmitter{constructor(e,t,n,r,i,o,s){super(),this.runtime=t,this.configurationGetter=n,this.internalsProvider=r,this.summaryCollection=o,this.runCoordinatorCreateFn=s,this._disposed=!1,this.starting=!1,this.stopDeferred=new Ie.B,this.summarizeOnDemand=(...e)=>{var t;try{if(this._disposed||(null===(t=this.runningSummarizer)||void 0===t?void 0:t.disposed))throw new I("Summarizer is already disposed.");if(void 0!==this.runtime.summarizerClientId&&this.runtime.summarizerClientId!==this.runtime.clientId)throw new I("On-demand summary attempted while an elected summarizer is present");const n=new gn;return this.runningSummarizer?this.runningSummarizer.summarizeOnDemand(n,...e):(this.runCoordinatorCreateFn(this.runtime).then((t=>{this.start(this.runtime.clientId,t).then((async r=>{r.summarizeOnDemand(n,...e);const i=await Promise.race([this.stopDeferred.promise,t.waitCancelled]);await r.waitStop(!1),t.stop(i),this.close()})).catch((e=>{n.fail("Failed to start summarizer",e)}))})).catch((e=>{n.fail("Failed to create cancellation token",e)})),n.build())}catch(e){throw Sn.wrap(e,!1,this.logger)}},this.enqueueSummarize=(...e)=>{if(this._disposed||void 0===this.runningSummarizer||this.runningSummarizer.disposed)throw new I("Summarizer is not running or already disposed.");return this.runningSummarizer.enqueueSummarize(...e)},this.logger=g.G2.create(this.runtime.logger,"Summarizer"),this.innerHandle=new hn(this,e,i)}get IFluidLoadable(){return this}get ISummarizer(){return this}get handle(){return this.innerHandle}static async create(e,t){const n={headers:{[f.A.cache]:!1,[f.A.clientDetails]:{capabilities:{interactive:!1},type:cn},[Mt.summarizingClient]:!0,[f.A.reconnect]:!1},url:t},r=await e.resolve(n),i=await(0,Vt.bb)(r,{url:"_summarizer"});if(void 0===i.ISummarizer)throw new I("Fluid object does not implement ISummarizer");return i.ISummarizer}async run(e){try{return await this.runCore(e)}catch(e){throw this.stop("summarizerException"),Sn.wrap(e,!1,this.logger)}finally{this.close()}}stop(e){this.stopDeferred.resolve(e)}close(){this.dispose(),this.runtime.closeFn()}async runCore(e){const t=await this.runCoordinatorCreateFn(this.runtime),n=Promise.race([t.waitCancelled,this.stopDeferred.promise]);if(n.then((t=>{this.logger.sendTelemetryEvent({eventName:"StoppingSummarizer",onBehalfOf:e,reason:t})})),t.cancelled)return t.waitCancelled;const r=await this.start(e,t),i=await n;return await r.waitStop(!t.cancelled&&_n.stopReasonCanRunLastSummary(i)),t.stop(i),i}static stopReasonCanRunLastSummary(e){return"parentNotConnected"===e}async start(e,t){if(this.runningSummarizer){if(this.runningSummarizer.disposed)throw new I("Starting a disposed summarizer");return this.runningSummarizer}if(this.starting)throw new I("Attempting to start a summarizer that is already starting");this.starting=!0,this.logger.sendTelemetryEvent({eventName:"RunningSummarizer",onBehalfOf:e,initSummarySeqNumber:this.runtime.deltaManager.initialSequenceNumber,config:JSON.stringify(this.configurationGetter())});const n=this.runtime.clientId;if(void 0===n)throw new I("clientId should be defined if connected.");const r=await wn.start(this.logger,this.summaryCollection.createWatcher(n),this.configurationGetter(),(async(...e)=>this.internalsProvider.submitSummary(...e)),new dn(this.runtime.deltaManager.lastSequenceNumber,{refSequenceNumber:this.runtime.deltaManager.initialSequenceNumber,summaryTime:Date.now()}),(e=>{this._disposed||this.logger.sendErrorEvent({eventName:"summarizingError"},((e,t)=>new Sn(e,!0))(e))}),this.summaryCollection,t,(e=>t.stop(e)));return this.runningSummarizer=r,this.starting=!1,this.handleSummaryAcks().catch((e=>{this.logger.sendErrorEvent({eventName:"HandleSummaryAckFatalError"},e)})),this.systemOpListener=e=>r.handleSystemOp(e),this.runtime.deltaManager.inbound.on("op",this.systemOpListener),this.opListener=(e,t)=>r.handleOp(e,t),this.runtime.on("batchEnd",this.opListener),r}dispose(){this.stop("summarizerClientDisconnected"),this._disposed=!0,this.runningSummarizer&&(this.runningSummarizer.dispose(),this.runningSummarizer=void 0),this.systemOpListener&&this.runtime.deltaManager.inbound.off("op",this.systemOpListener),this.opListener&&this.runtime.removeListener("batchEnd",this.opListener)}async handleSummaryAcks(){var e,t,n,r,i;let o,s=this.runtime.deltaManager.initialSequenceNumber;for(;this.runningSummarizer;){const a=null!==(e=this.runningSummarizer.tryGetCorrelatedLogger(s))&&void 0!==e?e:this.logger;try{o=void 0,o=await this.summaryCollection.waitSummaryAck(s),s=o.summaryOp.referenceSequenceNumber;const e=o.summaryOp.contents.handle,t=o.summaryAck.contents.handle;await this.runningSummarizer.lockedRefreshSummaryAckAction((async()=>this.internalsProvider.refreshLatestSummaryAck(e,t,s,a).catch((async n=>{if(!(0,an.IR)(n)||n.errorType!==q.fileNotFoundOrAccessDeniedError)throw n;a.sendTelemetryEvent({eventName:"HandleSummaryAckErrorIgnored",referenceSequenceNumber:s,proposalHandle:e,ackHandle:t},n)}))))}catch(e){a.sendErrorEvent({eventName:"HandleSummaryAckError",referenceSequenceNumber:s,handle:null===(n=null===(t=null==o?void 0:o.summaryOp)||void 0===t?void 0:t.contents)||void 0===n?void 0:n.handle,ackHandle:null===(i=null===(r=null==o?void 0:o.summaryAck)||void 0===r?void 0:r.contents)||void 0===i?void 0:i.handle},e)}s++}}}!function(e){e[e.Off=0]="Off",e[e.Starting=1]="Starting",e[e.Running=2]="Running",e[e.Stopping=3]="Stopping"}(yn||(yn={}));class xn{constructor(e,t,n,r,i,o,{initialDelayMs:s=5e3,opsToBypassInitialDelay:a=4e3}={},c){this.clientElection=e,this.connectedState=t,this.summaryCollection=n,this.requestSummarizerFn=i,this.startThrottler=o,this.disableHeuristics=c,this.state=yn.Off,this._disposed=!1,this.handleConnected=e=>{this.latestClientId=e,this.refreshSummarizer()},this.handleDisconnected=()=>{this.refreshSummarizer()},this.refreshSummarizer=()=>{const e=this.getShouldSummarizeState();switch(this.state){case yn.Off:return void(e.shouldSummarize&&this.startSummarization());case yn.Starting:return;case yn.Running:return void(!1===e.shouldSummarize&&this.stop(e.stopReason));case yn.Stopping:default:return}},this.summarizeOnDemand=(...e)=>{if(void 0===this.summarizer)throw Error("No running summarizer client");return this.summarizer.summarizeOnDemand(...e)},this.enqueueSummarize=(...e)=>{if(void 0===this.summarizer)throw Error("No running summarizer client");return this.summarizer.enqueueSummarize(...e)},this.logger=g.G2.create(r,"SummaryManager",{all:{clientId:()=>this.latestClientId}}),this.connectedState.on("connected",this.handleConnected),this.connectedState.on("disconnected",this.handleDisconnected),this.latestClientId=this.connectedState.clientId,this.opsToBypassInitialDelay=a,this.initialDelayMs=s}get disposed(){return this._disposed}get currentState(){return this.state}start(){this.clientElection.on("electedSummarizerChanged",this.refreshSummarizer),this.refreshSummarizer()}getShouldSummarizeState(){return this.connectedState.clientId!==this.clientElection.electedParentId||this.state!==yn.Running&&this.connectedState.clientId!==this.clientElection.electedClientId?{shouldSummarize:!1,stopReason:"parentShouldNotSummarize"}:this.connectedState.connected?this.disposed?void(0,E.h)(!1,608):{shouldSummarize:!0}:{shouldSummarize:!1,stopReason:"parentNotConnected"}}startSummarization(){(0,E.h)(this.state===yn.Off,609),this.state=yn.Starting,(0,E.h)(void 0===this.summarizer,610),this.delayBeforeCreatingSummarizer().then((async e=>{if(e&&!1===this.getShouldSummarizeState().shouldSummarize)return"early exit";(0,E.h)(this.state===yn.Starting,611),this.state=yn.Running;const t=await this.requestSummarizerFn();this.summarizer=t;const n=this.getShouldSummarizeState();if(!1===n.shouldSummarize)return this.state=yn.Starting,t.stop(n.stopReason),"early exit after starting summarizer";const r=this.latestClientId;return g.Xr.timedExecAsync(this.logger,{eventName:"RunningSummarizer",attempt:this.startThrottler.numAttempts},(async()=>t.run(r,this.disableHeuristics)))})).then((e=>{this.logger.sendTelemetryEvent({eventName:"EndingSummarizer",reason:e})})).catch((e=>{if(this.logger.sendTelemetryEvent({eventName:"EndingSummarizer",reason:"exception"},e),this.getShouldSummarizeState().shouldSummarize||void 0!==this.summarizer){const t=(null==e?void 0:e.errorType)===q.offlineError?"generic":"error";this.logger.sendTelemetryEvent({eventName:"SummarizerException",category:t},e)}})).finally((()=>{var e;(0,E.h)(this.state!==yn.Off,612),this.state=yn.Off,null===(e=this.summarizer)||void 0===e||e.close(),this.summarizer=void 0,this.getShouldSummarizeState().shouldSummarize&&this.startSummarization()}))}stop(e){var t;xn.isStartingOrRunning(this.state)&&(this.state=yn.Stopping,null===(t=this.summarizer)||void 0===t||t.stop(e))}async delayBeforeCreatingSummarizer(){let e=this.startThrottler.getDelay();this.logger.sendTelemetryEvent({eventName:"CreatingSummarizer",throttlerDelay:e,initialDelay:this.initialDelayMs,startThrottlerMaxDelayMs:this.startThrottler.maxDelayMs,opsSinceLastAck:this.summaryCollection.opsSinceLastAck,opsToBypassInitialDelay:this.opsToBypassInitialDelay});let t=!1;if(this.summaryCollection.opsSinceLastAck<this.opsToBypassInitialDelay&&(t=!0,e=Math.max(e,this.initialDelayMs)),e>0){let t,n;const r=()=>{this.summaryCollection.opsSinceLastAck>=this.opsToBypassInitialDelay&&(clearTimeout(t),n())},i=new Promise((n=>{t=setTimeout((()=>n()),e)})),o=new Promise((e=>{n=e}));this.summaryCollection.addOpListener(r),await Promise.race([i,o]),this.summaryCollection.removeOpListener(r)}return t}dispose(){this.clientElection.off("electedSummarizerChanged",this.refreshSummarizer),this.connectedState.off("connected",this.handleConnected),this.connectedState.off("disconnected",this.handleDisconnected),this._disposed=!0}}xn.isStartingOrRunning=e=>e===yn.Starting||e===yn.Running;class Cn{constructor(e,t){this.logger=t,this.processingTimeIncrement=10,this.currentAllowedProcessingTimeForTurn=Cn.processingTime,this.schedulingCount=0,this.deltaManager=e,this.deltaManager.inbound.on("idle",(()=>{this.inboundQueueIdle()}))}batchBegin(e){this.processingStartTime||(this.processingStartTime=C.S.now()),void 0===this.schedulingLog&&this.schedulingCount%500==0&&(this.schedulingLog={opsRemainingToProcess:0,numberOfTurns:1,totalProcessingTime:0,numberOfBatchesProcessed:0,firstSequenceNumber:e.sequenceNumber,lastSequenceNumber:e.sequenceNumber,startTime:C.S.now()})}batchEnd(e){if(this.schedulingLog&&(this.schedulingLog.numberOfBatchesProcessed++,this.schedulingLog.lastSequenceNumber=e.sequenceNumber,this.schedulingLog.opsRemainingToProcess=this.deltaManager.inbound.length),this.shouldRunScheduler()){const e=C.S.now(),t=e-this.processingStartTime;t>this.currentAllowedProcessingTimeForTurn&&(this.deltaManager.inbound.pause(),this.currentAllowedProcessingTimeForTurn+=this.processingTimeIncrement,this.schedulingLog&&(this.schedulingLog.numberOfTurns++,this.schedulingLog.totalProcessingTime+=t),setTimeout((()=>{this.schedulingLog&&this.logger.sendTelemetryEvent({eventName:"InboundOpsPartialProcessingTime",duration:g.hy.formatTick(t),opsProcessed:this.schedulingLog.lastSequenceNumber-this.schedulingLog.firstSequenceNumber+1,opsRemainingToProcess:this.deltaManager.inbound.length,processingTime:g.hy.formatTick(this.schedulingLog.totalProcessingTime),numberOfTurns:this.schedulingLog.numberOfTurns,batchesProcessed:this.schedulingLog.numberOfBatchesProcessed,timeToResume:g.hy.formatTick(C.S.now()-e)}),this.deltaManager.inbound.resume()})),this.processingStartTime=void 0)}}inboundQueueIdle(){if(this.schedulingLog){const e=C.S.now();this.schedulingLog.totalProcessingTime+=e-this.processingStartTime,this.logger.sendTelemetryEvent({eventName:"InboundOpsProcessingTime",opsRemainingToProcess:this.schedulingLog.opsRemainingToProcess,numberOfTurns:this.schedulingLog.numberOfTurns,processingTime:g.hy.formatTick(this.schedulingLog.totalProcessingTime),opsProcessed:this.schedulingLog.lastSequenceNumber-this.schedulingLog.firstSequenceNumber+1,batchesProcessed:this.schedulingLog.numberOfBatchesProcessed,duration:g.hy.formatTick(e-this.schedulingLog.startTime),schedulingCount:this.schedulingCount}),this.schedulingLog=void 0}this.schedulingCount++,this.processingStartTime=void 0,this.currentAllowedProcessingTimeForTurn=Cn.processingTime}shouldRunScheduler(){return this.deltaManager.inbound.length>0}}Cn.processingTime=50;class En{constructor(e,t,n){this.clientId=e,this.deltaManager=t,this.pongCount=0,this.msnTrackingTimestamp=0,this.opProcessingTimes={},this.opPerfData={},this.firstConnection=!0,this.bootTime=C.S.now(),this.connectionStartTime=0,this.gap=0,this.logger=g.G2.create(n,"OpPerf"),this.deltaManager.on("pong",(e=>this.recordPingTime(e))),this.deltaManager.on("submitOp",(e=>this.beforeOpSubmit(e))),this.deltaManager.on("op",(e=>this.afterProcessingOp(e))),this.deltaManager.on("connect",((e,t)=>{this.clientId=e.clientId,void 0!==t&&(this.connectionOpSeqNumber=this.deltaManager.lastKnownSeqNumber,this.gap=t,this.connectionStartTime=C.S.now(),this.gap<=0&&this.reportGettingUpToDate())})),this.deltaManager.on("disconnect",(()=>{this.sequenceNumberForMsnTracking=void 0,this.clientSequenceNumberForLatencyStatistics=void 0,this.opProcessingTimes={},this.opPerfData={},this.connectionOpSeqNumber=void 0,this.firstConnection=!1,this.pongCount=0})),this.deltaManager.outbound.on("push",(e=>{for(const t of e)t.type===Dt.Operation&&this.clientSequenceNumberForLatencyStatistics===t.clientSequenceNumber&&((0,E.h)(void 0===this.opProcessingTimes.outboundPushEventTime,712),(0,E.h)(void 0===this.opPerfData.durationNetwork,713),this.opProcessingTimes.outboundPushEventTime=Date.now(),(0,E.h)(void 0===this.opPerfData.durationOutboundBatching,714),(0,E.h)(void 0!==this.opProcessingTimes.submitOpEventTime,715),this.opPerfData.durationOutboundBatching=this.opProcessingTimes.outboundPushEventTime-this.opProcessingTimes.submitOpEventTime)})),this.deltaManager.inbound.on("push",(e=>{this.clientId===e.clientId&&e.type===Dt.Operation&&this.clientSequenceNumberForLatencyStatistics===e.clientSequenceNumber&&void 0!==this.opProcessingTimes.outboundPushEventTime&&(this.opProcessingTimes.inboundPushEventTime=Date.now(),this.opPerfData.durationNetwork=this.opProcessingTimes.inboundPushEventTime-this.opProcessingTimes.outboundPushEventTime,this.opProcessingTimes.outboundPushEventTime=void 0,this.opPerfData.lengthInboundQueue=this.deltaManager.inbound.length)})),this.deltaManager.inbound.on("idle",((e,t)=>{"number"==typeof e&&e>=100&&this.logger.sendPerformanceEvent({eventName:"GetDeltas_OpProcessing",count:e,duration:t})}))}reportGettingUpToDate(){this.connectionOpSeqNumber=void 0,this.logger.sendPerformanceEvent({eventName:"ConnectionSpeed",duration:C.S.now()-this.connectionStartTime,ops:this.gap,timeToConnect:this.firstConnection?g.hy.formatTick(this.connectionStartTime-this.bootTime):void 0,firstConnection:this.firstConnection})}recordPingTime(e){this.pingLatency=e,this.pongCount%100==0&&this.deltaManager.active&&this.logger.sendPerformanceEvent({eventName:"DeltaLatency",duration:e}),this.pongCount++}beforeOpSubmit(e){void 0===this.clientSequenceNumberForLatencyStatistics&&e.clientSequenceNumber%500==1&&((0,E.h)(void 0===this.opProcessingTimes.outboundPushEventTime,716),(0,E.h)(void 0===this.opPerfData.durationNetwork,717),this.opProcessingTimes.submitOpEventTime=Date.now(),this.clientSequenceNumberForLatencyStatistics=e.clientSequenceNumber)}afterProcessingOp(e){const t=e.sequenceNumber;if(t===this.connectionOpSeqNumber&&this.reportGettingUpToDate(),void 0===this.sequenceNumberForMsnTracking&&t%1e3==0&&(this.sequenceNumberForMsnTracking=t,this.msnTrackingTimestamp=e.timestamp),void 0!==this.sequenceNumberForMsnTracking&&e.minimumSequenceNumber>=this.sequenceNumberForMsnTracking&&((0,E.h)(void 0!==this.msnTrackingTimestamp,718),this.logger.sendPerformanceEvent({eventName:"MsnStatistics",sequenceNumber:t,msnDistance:t-this.sequenceNumberForMsnTracking,duration:e.timestamp-this.msnTrackingTimestamp}),this.sequenceNumberForMsnTracking=void 0),this.clientId===e.clientId&&this.clientSequenceNumberForLatencyStatistics===e.clientSequenceNumber){(0,E.h)(void 0!==this.opProcessingTimes.submitOpEventTime,288);const n=Date.now();void 0!==this.opProcessingTimes.inboundPushEventTime&&(this.opPerfData.durationInboundToProcessing=n-this.opProcessingTimes.inboundPushEventTime);const r=n-this.opProcessingTimes.submitOpEventTime,i=r>5e3?"error":"performance";this.logger.sendPerformanceEvent(Object.assign({eventName:"OpRoundtripTime",sequenceNumber:t,referenceSequenceNumber:e.referenceSequenceNumber,duration:r,category:i,pingLatency:this.pingLatency,msnDistance:this.deltaManager.lastSequenceNumber-this.deltaManager.minimumSequenceNumber},this.opPerfData)),this.clientSequenceNumberForLatencyStatistics=void 0,this.opPerfData={}}}}var kn=n(51170);class An{constructor(e,t,n){var r;this.stateHandler=e,this.pendingStates=new(Fe()),this.disposeOnce=new kn.o((()=>{this.initialStates.clear(),this.pendingStates.clear()})),this._pendingMessagesCount=0,this.isProcessingBatch=!1,this.dispose=()=>this.disposeOnce.value,this.initialStates=new(Fe())(null!==(r=null==n?void 0:n.pendingStates)&&void 0!==r?r:[]),this.flushModeForNextMessage=t,this.onFlushModeUpdated(t)}get pendingMessagesCount(){return this._pendingMessagesCount}hasPendingMessages(){return 0!==this._pendingMessagesCount||!this.initialStates.isEmpty()}getLocalState(){if((0,E.h)(this.initialStates.isEmpty(),745),this.hasPendingMessages())return{pendingStates:this.pendingStates.toArray().map((e=>"message"===e.type?Object.assign(Object.assign({},e),{localOpMetadata:void 0}):e))}}get disposed(){return this.disposeOnce.evaluated}onSubmitMessage(e,t,n,r,i,o){const s={type:"message",messageType:e,clientSequenceNumber:t,referenceSequenceNumber:n,content:r,localOpMetadata:i,opMetadata:o};this.pendingStates.push(s),this._pendingMessagesCount++}onFlushModeUpdated(e){this.pendingStates.push({type:"flushMode",flushMode:e})}onFlush(){if(this.stateHandler.flushMode()===Bt.FlushMode.Immediate)return;const e=this.pendingStates.peekBack();"message"===(null==e?void 0:e.type)&&this.pendingStates.push({type:"flush"})}async applyStashedOpsAt(e){for(;!this.initialStates.isEmpty();){const t=this.initialStates.peekFront();if("message"===t.type){if(void 0!==e){if(t.referenceSequenceNumber>e)break;if(t.referenceSequenceNumber<e)throw new Error("loaded from snapshot too recent to apply stashed ops")}const n=await this.stateHandler.applyStashedOp(t.messageType,t.content);t.localOpMetadata=n}this.pendingStates.push(this.initialStates.shift())}}processPendingLocalMessage(e){this.maybeProcessBatchBegin(e);const t=this.peekNextPendingState();if((0,E.h)("message"===t.type,361),this.pendingStates.shift(),t.clientSequenceNumber===e.clientSequenceNumber)return this._pendingMessagesCount--,this.maybeProcessBatchEnd(e),t.localOpMetadata;{const n=M.create("pending local message clientSequenceNumber mismatch","unexpectedAckReceived",e,{expectedClientSequenceNumber:t.clientSequenceNumber});this.stateHandler.close(n)}}maybeProcessBatchBegin(e){let t,n=!1,r=this.peekNextPendingState();for(;"message"!==r.type;)"flushMode"===r.type&&(t=r.flushMode),"flush"===r.type&&(n=!0),this.pendingStates.shift(),r=this.peekNextPendingState();void 0!==t&&(this.flushModeForNextMessage=t),t!==Bt.FlushMode.Immediate&&(t===Bt.FlushMode.TurnBased||n)&&((0,E.h)(!this.isProcessingBatch&&void 0===this.pendingBatchBeginMessage,363),this.pendingBatchBeginMessage=e,this.isProcessingBatch=!0)}maybeProcessBatchEnd(e){var t,n;if(!this.isProcessingBatch)return;const r=this.peekNextPendingState();if("message"===r.type)return;(0,E.h)("flushMode"!==r.type,701),(0,E.h)(void 0!==this.pendingBatchBeginMessage,365);const i=null===(t=this.pendingBatchBeginMessage.metadata)||void 0===t?void 0:t.batch;if(this.pendingBatchBeginMessage===e)(0,E.h)(void 0===i,366);else{const t=null===(n=e.metadata)||void 0===n?void 0:n.batch;(0,E.h)(!0===i,367),(0,E.h)(!1===t,368)}this.pendingBatchBeginMessage=void 0,this.isProcessingBatch=!1}checkpoint(){const e=this.pendingStates.peekBack();return{rollback:()=>{try{for(;this.pendingStates.peekBack()!==e;)this.rollbackNextPendingState()}catch(e){const t=(0,T.Jn)(e,(e=>M.create(`RollbackError: ${e}`,"checkpointRollback",void 0)));throw this.stateHandler.close(t),t}}}}peekNextPendingState(){const e=this.pendingStates.peekFront();return(0,E.h)(!!e,369),e}rollbackNextPendingState(){if(0===this.pendingStates.length)return;this._pendingMessagesCount--;const e=this.pendingStates.pop();if("message"!==e.type)throw new Error(`Can't rollback state ${e.type}`);this.stateHandler.rollback(e.messageType,e.content,e.localOpMetadata)}replayPendingStates(){(0,E.h)(this.stateHandler.connected(),370),(0,E.h)(this.clientId!==this.stateHandler.clientId(),371),this.clientId=this.stateHandler.clientId(),(0,E.h)(this.initialStates.isEmpty(),372);let e=this.pendingStates.length;if(0===e)return;this._pendingMessagesCount=0;const t=this.stateHandler.flushMode();for(this.stateHandler.setFlushMode(this.flushModeForNextMessage);e>0;){const t=this.pendingStates.shift();switch(t.type){case"message":this.stateHandler.reSubmit(t.messageType,t.content,t.localOpMetadata,t.opMetadata);break;case"flushMode":this.stateHandler.setFlushMode(t.flushMode);break;case"flush":this.stateHandler.flush()}e--}this.stateHandler.setFlushMode(t)}}const Nn="1.3.6";class Tn{constructor(e,t,n){this.path=e,this.routeContext=t,this.get=n,this.attached=!1,this.absolutePath=(0,Ut.H)(e,this.routeContext)}get IFluidHandle(){return this}get isAttached(){return this.attached}attachGraph(){this.attached=!0}bind(e){throw new Error("Cannot bind to blob handle")}}class Pn{constructor(e,t,n,r,i,o,s){this.routeContext=e,this.getStorage=n,this.attachBlobCallback=r,this.gcNodeUpdated=i,this.runtime=o,this.logger=s,this.blobIds=new Set,this.pendingBlobIds=new Map,this.detachedBlobIds=new Set,this.runtime.once("dispose",(()=>{for(const e of this.pendingBlobIds.values())e.reject(new Error("runtime disposed while blobAttach op in flight"))})),this.load(t)}hasBlob(e){return this.blobIds.has(e)||this.detachedBlobIds.has(e)}getBlobGCNodePath(e){return`/${Pn.basePath}/${e}`}async getBlob(e){var t,n;const r=null!==(n=null===(t=this.redirectTable)||void 0===t?void 0:t.get(e))&&void 0!==n?n:e;return(0,E.h)(this.hasBlob(r),287),this.gcNodeUpdated(this.getBlobGCNodePath(e)),new Tn(`${Pn.basePath}/${r}`,this.routeContext,(async()=>g.Xr.timedExecAsync(this.logger,{eventName:"AttachmentReadBlob",id:r},(async()=>this.getStorage().readBlob(r)),{end:!0,cancel:"error"})))}async createBlob(e){var t,n;this.runtime.attachState===o.mB.Attaching&&(this.logger.sendTelemetryEvent({eventName:"CreateBlobWhileAttaching"}),await new Promise((e=>this.runtime.once("attached",e)))),this.runtime.connected||this.runtime.attachState!==o.mB.Attached||await new Promise((e=>this.runtime.once("connected",e)));const r=await g.Xr.timedExecAsync(this.logger,{eventName:"createBlob"},(async()=>this.getStorage().createBlob(e)),{end:!0,cancel:"error"}),i=new Tn(`${Pn.basePath}/${r.id}`,this.routeContext,(async()=>this.getBlob(r.id).then((async e=>e.get()))));return this.runtime.attachState===o.mB.Detached?(this.detachedBlobIds.add(r.id),i):(this.pendingBlobIds.has(r.id)?await(null===(t=this.pendingBlobIds.get(r.id))||void 0===t?void 0:t.promise):this.blobIds.has(r.id)||(this.pendingBlobIds.set(r.id,new Ie.B),this.attachBlobCallback(r.id),await(null===(n=this.pendingBlobIds.get(r.id))||void 0===n?void 0:n.promise)),i)}processBlobAttachOp(e,t){if(t){const t=this.pendingBlobIds.get(e);(0,E.h)(void 0!==t,504),t.resolve(),this.pendingBlobIds.delete(e)}this.blobIds.add(e)}static async load(e,t){if(!e)return{};let n;const r=e.blobs[this.redirectTableBlobName];return r&&(n=await t(r)),{ids:Object.entries(e.blobs).filter((([e,t])=>e!==this.redirectTableBlobName)).map((([e,t])=>t)),redirectTable:n}}load(e){var t,n,r;if(e.ids){const t=this.runtime.attachState===o.mB.Detached;e.ids.map((e=>t?this.detachedBlobIds.add(e):this.blobIds.add(e)))}e.redirectTable&&(this.redirectTable=new Map(e.redirectTable)),this.logger.sendTelemetryEvent({eventName:"AttachmentBlobsLoaded",count:null!==(n=null===(t=e.ids)||void 0===t?void 0:t.length)&&void 0!==n?n:0,redirectTable:null===(r=e.redirectTable)||void 0===r?void 0:r.length})}getGCData(e=!1){const t={gcNodes:{}};if(this.blobIds.forEach((e=>{t.gcNodes[this.getBlobGCNodePath(e)]=[]})),void 0!==this.redirectTable)for(const[e,n]of this.redirectTable)t.gcNodes[this.getBlobGCNodePath(e)]=[this.getBlobGCNodePath(n)];return t}deleteUnusedRoutes(e){var t;for(const n of e){const e=n.split("/");(0,E.h)(3===e.length&&e[1]===Pn.basePath,725);const r=e[2];(null===(t=this.redirectTable)||void 0===t?void 0:t.has(r))?this.redirectTable.delete(r):this.blobIds.delete(r)}}summarize(e){const t=this.redirectTable||this.runtime.attachState!==o.mB.Detached?this.blobIds:this.detachedBlobIds,n=new Wt.x1;return t.forEach((e=>{n.addAttachment(e)})),this.redirectTable&&this.redirectTable.size>0&&n.addBlob(Pn.redirectTableBlobName,JSON.stringify(Array.from(this.redirectTable.entries()))),n.getSummaryTree()}setRedirectTable(e){(0,E.h)(this.runtime.attachState===o.mB.Detached,594),(0,E.h)(!this.redirectTable,595);for(const[t,n]of e)(0,E.h)(this.detachedBlobIds.delete(t),596),this.blobIds.add(n);(0,E.h)(0===this.detachedBlobIds.size,597),this.redirectTable=e}}var On,In;Pn.basePath="_blobs",Pn.redirectTableBlobName=".redirectTable",function(e){e.File="100644",e.Executable="100755",e.Directory="040000",e.Symlink="120000"}(On||(On={})),function(e){e.Blob="Blob",e.Tree="Tree",e.Attachment="Attachment"}(In||(In={}));var Rn,Ln=n(86094),Mn=new Uint8Array(16);function Dn(){if(!Rn&&!(Rn="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Rn(Mn)}const jn=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var Fn=[],Bn=0;Bn<256;++Bn)Fn.push((Bn+256).toString(16).substr(1));const qn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(Fn[e[t+0]]+Fn[e[t+1]]+Fn[e[t+2]]+Fn[e[t+3]]+"-"+Fn[e[t+4]]+Fn[e[t+5]]+"-"+Fn[e[t+6]]+Fn[e[t+7]]+"-"+Fn[e[t+8]]+Fn[e[t+9]]+"-"+Fn[e[t+10]]+Fn[e[t+11]]+Fn[e[t+12]]+Fn[e[t+13]]+Fn[e[t+14]]+Fn[e[t+15]]).toLowerCase();if(!function(e){return"string"==typeof e&&jn.test(e)}(n))throw TypeError("Stringified UUID is invalid");return n},Un=function(e,t,n){var r=(e=e||{}).random||(e.rng||Dn)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return qn(r)};function zn(e,t,n){const r=[];for(const i of t){const t=`${e}${i.path}`;if(i.type===In.Blob){const e=i.value,o=(0,le.k8)(e.contents,e.encoding),s=Un();n.set(s,o);const a={mode:On[i.mode],path:t,sha:s,size:0,type:"blob",url:""};r.push(a)}else if(i.type===In.Tree){(0,E.h)(i.type===In.Tree,257);const e=i.value,o={mode:On[i.mode],path:t,sha:"",size:-1,type:"tree",url:""};r.push(o);const s=zn(`${t}/`,e.entries,n);r.push(...s)}}return r}function $n(e,t){const n=function(e,t){return{sha:"",tree:zn("",e,t),url:""}}(e,t);return(0,Ln.eB)(n)}class Hn{constructor(e){this.internalStorageService=e}set policies(e){this._policies=e}get policies(){var e;return null!==(e=this._policies)&&void 0!==e?e:this.internalStorageService.policies}get repositoryUrl(){return this.internalStorageService.repositoryUrl}async getSnapshotTree(e,t){return this.internalStorageService.getSnapshotTree(e,t)}async getVersions(e,t,n){return this.internalStorageService.getVersions(e,t,n)}async uploadSummaryWithContext(e,t){return this.internalStorageService.uploadSummaryWithContext(e,t)}async downloadSummary(e){return this.internalStorageService.downloadSummary(e)}async createBlob(e){return this.internalStorageService.createBlob(e)}async readBlob(e){return this.internalStorageService.readBlob(e)}}class Gn extends Hn{constructor(e,t){super(e),this.blobs=t}get policies(){return this.internalStorageService.policies}async readBlob(e){const t=this.blobs.get(e);return void 0!==t?t:this.internalStorageService.readBlob(e)}}class Vn{constructor(e){this.notBoundContexts=new Set,this._contexts=new Map,this.deferredContexts=new Map,this.disposeOnce=new kn.o((()=>{for(const[e,t]of this.deferredContexts)t.promise.then((e=>{e.dispose()})).catch((t=>{this._logger.sendErrorEvent({eventName:"FluidDataStoreContextDisposeError",fluidDataStoreId:e},t)}))})),this.dispose=()=>this.disposeOnce.value,this._logger=g.G2.create(e)}[Symbol.iterator](){return this._contexts.entries()}get size(){return this._contexts.size}get disposed(){return this.disposeOnce.evaluated}notBoundLength(){return this.notBoundContexts.size}isNotBound(e){return this.notBoundContexts.has(e)}has(e){return this._contexts.has(e)}get(e){return this._contexts.get(e)}delete(e){return this.deferredContexts.delete(e),this.notBoundContexts.delete(e),this._contexts.delete(e)}getUnbound(e){if(void 0!==this._contexts.get(e)&&this.notBoundContexts.has(e))return this._contexts.get(e)}addUnbound(e){const t=e.id;(0,E.h)(!this._contexts.has(t),344),this._contexts.set(t,e),this.notBoundContexts.add(t),this.ensureDeferred(t)}async getBoundOrRemoted(e,t){const n=this.ensureDeferred(e);if(t||n.isCompleted)return n.promise}ensureDeferred(e){const t=this.deferredContexts.get(e);if(t)return t;const n=new Ie.B;return this.deferredContexts.set(e,n),n}bind(e){const t=this.notBoundContexts.delete(e);(0,E.h)(t,345),this.resolveDeferred(e)}resolveDeferred(e){const t=this._contexts.get(e);(0,E.h)(!!t,346),(0,E.h)(!this.notBoundContexts.has(e),347);const n=this.deferredContexts.get(e);(0,E.h)(!!n,348),n.resolve(t)}addBoundOrRemoted(e){const t=e.id;(0,E.h)(!this._contexts.has(t),349),this._contexts.set(t,e),this.ensureDeferred(t),this.resolveDeferred(t)}}var Wn=n(14208);function Kn(e,t){const n=new Set,r=[...t];for(const t of r){if(n.has(t))continue;n.add(t);const i=e[t];void 0!==i&&r.push(...i)}const i=[],o=[];for(const t of Object.keys(e))n.has(t)?i.push(t):o.push(t);return{referencedNodeIds:i,deletedNodeIds:o}}var Zn=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const Yn="gc",Jn="__gc",Qn="DataStore",Xn="SubDataStore",er="Blob",tr="Active",nr="Inactive",rr="SweepReady";class ir{constructor(e,t,n,r){this.unreferencedTimestampMs=e,this.inactiveTimeoutMs=t,this.sweepTimeoutMs=n,this._state=tr,void 0!==r&&this.updateTracking(r)}get state(){return this._state}updateTracking(e){const t=e-this.unreferencedTimestampMs;if(void 0!==this.sweepTimeoutMs&&t>=this.sweepTimeoutMs)return this._state=rr,void this.clearTimers();if(t>=this.inactiveTimeoutMs)return this._state=nr,this.clearTimers(),void(void 0!==this.sweepTimeoutMs&&cr(this.sweepTimeoutMs-t,(()=>{this._state=rr}),(e=>{this.sweepTimer=e})));const n=this.inactiveTimeoutMs-t;if(void 0===this.inactiveTimer){const e=()=>{this._state=nr,void 0!==this.sweepTimeoutMs&&cr(this.sweepTimeoutMs-this.inactiveTimeoutMs,(()=>{this._state=rr}),(e=>{this.sweepTimer=e}))};this.inactiveTimer=new We.B(n,(()=>e()))}this.inactiveTimer.restart(n)}clearTimers(){var e;null===(e=this.inactiveTimer)||void 0===e||e.clear(),void 0!==this.sweepTimer&&clearTimeout(this.sweepTimer)}stopTracking(){this.clearTimers(),this._state=tr}}class or{constructor(e){var t,n,r,i,o,s,a;this._writeDataAtRoot=!0,this.initialStateNeedsReset=!1,this.currentGCVersion=1,this.newReferencesSinceLastRun=new Map,this.unreferencedNodesState=new Map,this.loggedUnreferencedEvents=new Set,this.pendingEventsQueue=[],this.completedRuns=0,this.runtime=e.runtime,this.isSummarizerClient=e.isSummarizerClient,this.gcOptions=e.gcOptions,this.getNodePackagePath=e.getNodePackagePath,this.getLastSummaryTimestampMs=e.getLastSummaryTimestampMs;const c=e.baseSnapshot,u=e.metadata,l=e.readAndParseBlob;let h;if(this.mc=(0,p.rZ)(g.G2.create(e.baseLogger,"GarbageCollector",{all:{completedGCRuns:()=>this.completedRuns}})),e.existing)h=gr(u),this.gcEnabled=h>0,this.sweepEnabled=null!==(t=null==u?void 0:u.sweepEnabled)&&void 0!==t&&t,this.sessionExpiryTimeoutMs=null==u?void 0:u.sessionExpiryTimeoutMs;else{if(this.gcOptions.sweepAllowed&&!1===this.gcOptions.gcAllowed)throw new I("GC sweep phase cannot be enabled without enabling GC mark phase");this.gcEnabled=!1!==this.gcOptions.gcAllowed,this.sweepEnabled=!0===this.gcOptions.sweepAllowed,this.mc.config.getBoolean("Fluid.GarbageCollection.RunSessionExpiry")&&this.gcEnabled&&(this.sessionExpiryTimeoutMs=2592e6)}if(void 0!==this.sessionExpiryTimeoutMs&&!0!==this.mc.config.getBoolean("Fluid.GarbageCollection.DisableSessionExpiry")){const t=this.mc.config.getNumber("Fluid.GarbageCollection.TestOverride.SessionExpiryMs"),n=null!=t?t:this.sessionExpiryTimeoutMs;cr(n,(()=>{this.runtime.closeFn(new R("Client session expired.",n))}),(e=>{this.sessionExpiryTimer=e})),void 0!==e.snapshotCacheExpiryMs&&(this.sweepTimeoutMs=this.sessionExpiryTimeoutMs+e.snapshotCacheExpiryMs+864e5)}if(this.latestSummaryGCVersion=null!=h?h:this.currentGCVersion,this.shouldRunGC=null!==(n=this.mc.config.getBoolean("Fluid.GarbageCollection.RunGC"))&&void 0!==n?n:this.gcEnabled&&!this.gcOptions.disableGC,this.shouldRunSweep=this.shouldRunGC&&void 0!==this.sweepTimeoutMs&&(null!==(r=this.mc.config.getBoolean("Fluid.GarbageCollection.RunSweep"))&&void 0!==r?r:this.sweepEnabled),this.trackGCState=!0===this.mc.config.getBoolean("Fluid.GarbageCollection.TrackGCState"),this.inactiveTimeoutMs=null!==(o=null!==(i=this.mc.config.getNumber("Fluid.GarbageCollection.TestOverride.InactiveTimeoutMs"))&&void 0!==i?i:this.gcOptions.inactiveTimeoutMs)&&void 0!==o?o:6048e5,void 0!==this.sweepTimeoutMs&&this.inactiveTimeoutMs>this.sweepTimeoutMs)throw new I("inactive timeout should not be greated than the sweep timeout");if(this.testMode=null!==(s=this.mc.config.getBoolean("Fluid.GarbageCollection.GCTestMode"))&&void 0!==s?s:!0===this.gcOptions.runGCInTestMode,this._writeDataAtRoot=null===(a=this.mc.config.getBoolean("Fluid.GarbageCollection.WriteDataAtRoot"))||void 0===a||a,this._writeDataAtRoot){const e=void 0!==(null==c?void 0:c.trees[Yn]);this.initialStateNeedsReset=e!==this.shouldRunGC}const d=new Ie.d((async()=>{var e;if(void 0===c)return;const t=c.trees[Yn];if(void 0!==t){this._writeDataAtRoot=!0;const e=await sr(t,l);return this.trackGCState&&(this.latestSerializedSummaryState=JSON.stringify(ar(e))),e}const n={gcNodes:{"/":{outboundRoutes:[]}}},r=Rr(c,u);(0,E.h)(void 0!==r,680);for(const[t,i]of Object.entries(r.trees)){const r=i.blobs[Bt.gcBlobKey];if(void 0===r)continue;const o=await l(r);if(void 0===(null===(e=o.gcData)||void 0===e?void 0:e.gcNodes))continue;const s=`/${t}`;(await l(i.blobs[yr])).isRootDataStore&&n.gcNodes["/"].outboundRoutes.push(s);for(const[e,t]of Object.entries(o.gcData.gcNodes)){const r="/"===e?s:`${s}${e}`;n.gcNodes[r]={outboundRoutes:Array.from(t)}}(0,E.h)(void 0!==n.gcNodes[s],681),n.gcNodes[s].unreferencedTimestampMs=o.unrefTimestamp}return 1===Object.keys(n.gcNodes).length?void 0:n}));this.initializeBaseStateP=new Ie.d((async()=>{const e=this.runtime.getCurrentReferenceTimestampMs(),t=await d;if(void 0===t)return;const n={};for(const[r,i]of Object.entries(t.gcNodes))void 0!==i.unreferencedTimestampMs&&this.unreferencedNodesState.set(r,new ir(i.unreferencedTimestampMs,this.inactiveTimeoutMs,this.sweepTimeoutMs,e)),n[r]=Array.from(i.outboundRoutes);this.previousGCDataFromLastRun={gcNodes:n}})),this.baseGCDetailsP=new Ie.d((async()=>{const e=await d;if(void 0===e)return new Map;const t={};for(const[n,r]of Object.entries(e.gcNodes))t[n]=Array.from(r.outboundRoutes);const n=Kn(t,["/"]).referencedNodeIds,r=(0,Zt.$I)({gcData:{gcNodes:t},usedRoutes:n});for(const[t,n]of Object.entries(e.gcNodes))if(void 0!==n.unreferencedTimestampMs){const e=r.get(t.slice(1));void 0!==e&&(e.unrefTimestamp=n.unreferencedTimestampMs)}return r}));const f=JSON.stringify(Object.assign({gcEnabled:this.gcEnabled,sweepEnabled:this.sweepEnabled,runGC:this.shouldRunGC,runSweep:this.shouldRunSweep,writeAtRoot:this._writeDataAtRoot,testMode:this.testMode,sessionExpiry:this.sessionExpiryTimeoutMs,inactiveTimeout:this.inactiveTimeoutMs,existing:e.existing,trackGCState:this.trackGCState},this.gcOptions));this.isSummarizerClient&&this.mc.logger.sendTelemetryEvent({eventName:"GarbageCollectorLoaded",gcConfigs:f}),this.shouldRunGC&&this.initializeBaseStateP.catch((e=>{const t=M.wrapIfUnrecognized(e,"FailedToInitializeGC");throw t.addTelemetryProperties({gcConfigs:f}),t}))}static create(e){return new or(e)}get summaryStateNeedsReset(){return this.initialStateNeedsReset||this.shouldRunGC&&this.latestSummaryGCVersion!==this.currentGCVersion}get writeDataAtRoot(){return this._writeDataAtRoot}async collectGarbage(e){const{fullGC:t=!0===this.gcOptions.runFullGC||this.summaryStateNeedsReset}=e,n=e.logger?g.G2.create(e.logger,void 0,{all:{completedGCRuns:()=>this.completedRuns}}):this.mc.logger;return g.Xr.timedExecAsync(n,{eventName:"GarbageCollection"},(async e=>{await this.runPreGCSteps();const r=await this.runtime.getGCData(t),i=Kn(r.gcNodes,["/"]),o=await this.runPostGCSteps(r,i,n);return e.end(Object.assign({},o)),this.completedRuns++,o}),{end:!0,cancel:"error"})}async runPreGCSteps(){await this.initializeBaseStateP,await this.runtime.updateStateBeforeGC()}async runPostGCSteps(e,t,n){const r=this.generateStats(t);this.updateStateSinceLastRun(e,n);const i=this.runtime.getCurrentReferenceTimestampMs();return this.updateCurrentState(e,t,i),this.runtime.updateUsedRoutes(t.referencedNodeIds,i),this.logSweepEvents(n,i),this.testMode&&this.runtime.deleteUnusedRoutes(t.deletedNodeIds),await this.logUnreferencedEvents(n),r}summarize(e,t,n){var r;if(!this.shouldRunGC||void 0===this.previousGCDataFromLastRun)return;const i={gcNodes:{}};for(const[e,t]of Object.entries(this.previousGCDataFromLastRun.gcNodes))i.gcNodes[e]={outboundRoutes:t,unreferencedTimestampMs:null===(r=this.unreferencedNodesState.get(e))||void 0===r?void 0:r.unreferencedTimestampMs};const o=JSON.stringify(ar(i));if(this.trackGCState&&(this.pendingSerializedSummaryState=o,void 0!==this.latestSerializedSummaryState&&this.latestSerializedSummaryState===o&&!e&&t)){const e=(0,Wt.Jz)();return e.handleNodeCount++,{summary:{type:Ft.Handle,handle:`/${Yn}`,handleType:Ft.Tree},stats:e}}const s=new Wt.x1;return s.addBlob(`${Jn}_root`,o),s.getSummaryTree()}getMetadata(){return{gcFeature:this.gcEnabled?this.currentGCVersion:0,sessionExpiryTimeoutMs:this.sessionExpiryTimeoutMs,sweepEnabled:this.sweepEnabled}}async getBaseGCDetails(){return this.baseGCDetailsP}async latestSummaryStateRefreshed(e,t){if(!this.shouldRunGC||!e.latestSummaryUpdated)return;if(e.wasSummaryTracked)return this.latestSummaryGCVersion=this.currentGCVersion,this.initialStateNeedsReset=!1,void(this.trackGCState&&(this.latestSerializedSummaryState=this.pendingSerializedSummaryState,this.pendingSerializedSummaryState=void 0));const n=e.snapshot,r=n.blobs[dr];if(r){const e=await t(r);this.latestSummaryGCVersion=gr(e)}const i=n.trees[Yn];if(void 0!==i&&this.trackGCState){const e=await sr(i,t);this.latestSerializedSummaryState=JSON.stringify(ar(e))}else this.latestSerializedSummaryState=void 0;this.pendingSerializedSummaryState=void 0}nodeUpdated(e,t,n,r,i){if(!this.shouldRunGC)return;const o=this.unreferencedNodesState.get(e);o&&o.state!==tr&&this.inactiveNodeUsed(t,e,o,void 0,r,n,i)}addedOutboundReference(e,t){var n;if(!this.shouldRunGC)return;const r=null!==(n=this.newReferencesSinceLastRun.get(e))&&void 0!==n?n:[];r.push(t),this.newReferencesSinceLastRun.set(e,r);const i=this.unreferencedNodesState.get(t);i&&i.state!==tr&&this.inactiveNodeUsed("Revived",t,i,e)}dispose(){void 0!==this.sessionExpiryTimer&&(clearTimeout(this.sessionExpiryTimer),this.sessionExpiryTimer=void 0)}updateCurrentState(e,t,n){this.previousGCDataFromLastRun=(0,Zt.rn)(e),this.newReferencesSinceLastRun.clear();for(const e of t.referencedNodeIds){const t=this.unreferencedNodesState.get(e);void 0!==t&&(t.stopTracking(),this.unreferencedNodesState.delete(e))}if(void 0!==n)for(const e of t.deletedNodeIds){const t=this.unreferencedNodesState.get(e);void 0===t?this.unreferencedNodesState.set(e,new ir(n,this.inactiveTimeoutMs,this.sweepTimeoutMs,n)):t.updateTracking(n)}}updateStateSinceLastRun(e,t){if(void 0===this.previousGCDataFromLastRun)return;const n=this.findMissingExplicitReferences(e,this.previousGCDataFromLastRun,this.newReferencesSinceLastRun);if(this.writeDataAtRoot&&n.length>0&&n.forEach((e=>{const n={eventName:"gcUnknownOutboundReferences",gcNodeId:e[0],gcRoutes:JSON.stringify(e[1])};t.sendPerformanceEvent(n)})),0===this.newReferencesSinceLastRun.size)return;const r=(0,Zt.$4)(this.previousGCDataFromLastRun,e);this.newReferencesSinceLastRun.forEach(((e,t)=>{void 0===r.gcNodes[t]?r.gcNodes[t]=e:r.gcNodes[t].push(...e)}));const i=Kn(r.gcNodes,["/"]);for(const e of i.referencedNodeIds){const t=this.unreferencedNodesState.get(e);void 0!==t&&(t.stopTracking(),this.unreferencedNodesState.delete(e))}}findMissingExplicitReferences(e,t,n){(0,E.h)(void 0!==t,695);const r=Object.entries(e.gcNodes),i=[];return r.forEach((([e,r])=>{var o,s;const a=null!==(o=t.gcNodes[e])&&void 0!==o?o:[],c=null!==(s=n.get(e))&&void 0!==s?s:[],u=[];r.forEach((t=>{const n=this.runtime.getNodeType(t)===er||this.runtime.getNodeType(t)===Qn,r=!e.startsWith(t);n&&r&&!a.includes(t)&&!c.includes(t)&&u.push(t)})),u.length>0&&i.push([e,u])})),i}generateStats(e){const t={nodeCount:0,dataStoreCount:0,attachmentBlobCount:0,unrefNodeCount:0,unrefDataStoreCount:0,unrefAttachmentBlobCount:0,updatedNodeCount:0,updatedDataStoreCount:0,updatedAttachmentBlobCount:0},n=(e,n)=>{t.nodeCount++;const r=void 0===this.previousGCDataFromLastRun||this.unreferencedNodesState.has(e)===n;r&&t.updatedNodeCount++,n||t.unrefNodeCount++,this.runtime.getNodeType(e)===Qn&&(t.dataStoreCount++,r&&t.updatedDataStoreCount++,n||t.unrefDataStoreCount++),this.runtime.getNodeType(e)===er&&(t.attachmentBlobCount++,r&&t.updatedAttachmentBlobCount++,n||t.unrefAttachmentBlobCount++)};for(const t of e.referencedNodeIds)n(t,!0);for(const t of e.deletedNodeIds)n(t,!1);return t}logSweepEvents(e,t){!0!==this.mc.config.getBoolean("Fluid.GarbageCollection.DisableSweepLog")&&void 0!==t&&void 0!==this.sweepTimeoutMs&&this.unreferencedNodesState.forEach(((n,r)=>{if(n.state!==rr)return;const i=this.runtime.getNodeType(r);if(i!==Qn&&i!==er)return;const o=`Deleted-${r}`;this.loggedUnreferencedEvents.has(o)||(this.loggedUnreferencedEvents.add(o),e.sendTelemetryEvent({eventName:"GCObjectDeleted",id:r,type:i,age:t-n.unreferencedTimestampMs,timeout:this.sweepTimeoutMs,completedGCRuns:this.completedRuns,lastSummaryTime:this.getLastSummaryTimestampMs()}))}))}inactiveNodeUsed(e,t,n,r,i,o=this.runtime.getCurrentReferenceTimestampMs(),s){if(void 0===o||n.state===tr)return;if(!this.isSummarizerClient&&"Loaded"!==e)return;const a=this.runtime.getNodeType(t);if(a!==Qn&&a!==er)return;const c=n.state,u=`${c}-${t}-${e}`;if(this.loggedUnreferencedEvents.has(u))return;this.loggedUnreferencedEvents.add(u);const l={id:t,type:a,unrefTime:n.unreferencedTimestampMs,age:o-n.unreferencedTimestampMs,timeout:n.state===nr?this.inactiveTimeoutMs:this.sweepTimeoutMs,completedGCRuns:this.completedRuns,lastSummaryTime:this.getLastSummaryTimestampMs(),externalRequest:null==s?void 0:s[Vr.externalRequest],viaHandle:null==s?void 0:s[Vr.viaHandle],fromId:r};this.isSummarizerClient?this.pendingEventsQueue.push(Object.assign(Object.assign({},l),{usageType:e,state:c})):this.mc.logger.sendErrorEvent(Object.assign(Object.assign({},l),{eventName:`${c}Object_${e}`,pkg:i?{value:i.join("/"),tag:g.XI.CodeArtifact}:void 0}))}async logUnreferencedEvents(e){for(const t of this.pendingEventsQueue){const{usageType:n,state:r}=t,i=Zn(t,["usageType","state"]),o=this.unreferencedNodesState.get(t.id);if("Revived"===n==(void 0===o||o.state===tr)){const o=await this.getNodePackagePath(t.id),s=t.fromId?await this.getNodePackagePath(t.fromId):void 0;e.sendErrorEvent(Object.assign(Object.assign({},i),{eventName:`${r}Object_${n}`,pkg:o?{value:o.join("/"),tag:g.XI.CodeArtifact}:void 0,fromPkg:s?{value:s.join("/"),tag:g.XI.CodeArtifact}:void 0}))}}this.pendingEventsQueue=[]}}async function sr(e,t){let n={gcNodes:{}};for(const r of Object.keys(e.blobs)){if(!r.startsWith(Jn))continue;const i=e.blobs[r];if(void 0===i)continue;const o=await t(i);(0,E.h)(void 0!==o,685),n=(0,Zt.eF)(n,o)}return n}function ar(e){const t=Object.entries(e.gcNodes);t.sort((([e],[t])=>e.localeCompare(t)));const n={gcNodes:{}};for(const[e,r]of t)r.outboundRoutes.sort(),n.gcNodes[e]=r;return n}function cr(e,t,n){const r=2147483647;let i;if(e>r){const o=e-r;i=setTimeout((()=>cr(o,t,n)),r)}else i=setTimeout((()=>t()),e);n(i)}function ur(e){return e.summaryFormatVersion?e.summaryFormatVersion:"0.1"===e.snapshotFormatVersion?1:0}function lr(e){return!!e.summaryFormatVersion&&!e.disableIsolatedChannels}const hr=".aliases",dr=".metadata",fr=".chunks",pr=".electedSummarizer",mr=".blobs";function gr(e){var t;return e&&null!==(t=e.gcFeature)&&void 0!==t?t:0}const vr=[".protocol",".logTail",".serviceProtocol",mr,Yn],yr=".component";function br(e){e.summary={type:Ft.Tree,tree:{[Bt.channelsTreeName]:e.summary}},e.stats.treeNodeCount++}function wr(e,t,n){const r=JSON.stringify(e);return n?{pkg:r,snapshotFormatVersion:"0.1",isRootDataStore:t}:{pkg:r,summaryFormatVersion:2,isRootDataStore:t}}function Sr(e,t,n){const r=wr(e,t,n);return new Ln.Qp(yr,JSON.stringify(r))}class _r extends we.L{constructor(e,t,n,r,i){super(),this.existing=t,this.bindState=n,this.isLocalDataStore=r,this.makeLocallyVisibleFn=i,this._disposed=!1,this.detachedRuntimeCreation=!1,this.loaded=!1,this.pending=[],this._isInMemoryRoot=!1,this._containerRuntime=e.runtime,this.id=e.id,this.storage=e.storage,this.scope=e.scope,this.writeGCDataAtRoot=e.writeGCDataAtRoot,this.disableIsolatedChannels=e.disableIsolatedChannels,this.pkg=e.pkg,(0,E.h)(!this.id.includes("/"),314),this._attachState=this.containerRuntime.attachState!==o.mB.Detached&&this.existing?this.containerRuntime.attachState:o.mB.Detached,this.bindToContext=()=>{(0,E.h)(this.bindState===o.xU.NotBound,315),this.bindState=o.xU.Binding,(0,E.h)(void 0!==this.channel,316),this.makeLocallyVisible(),this.bindState=o.xU.Bound},this.summarizerNode=e.createSummarizerNodeFn((async(e,t,n)=>this.summarizeInternal(e,t,n)),(async e=>this.getGCDataInternal(e)),(async()=>this.getBaseGCDetails())),this.subLogger=g.G2.create(this.logger,"FluidDataStoreContext"),this.thresholdOpsCounter=new Wn.z(_r.pendingOpsCountThreshold,this.subLogger)}get packagePath(){return(0,E.h)(void 0!==this.pkg,313),this.pkg}get options(){return this._containerRuntime.options}get clientId(){return this._containerRuntime.clientId}get clientDetails(){return this._containerRuntime.clientDetails}get logger(){return this._containerRuntime.logger}get deltaManager(){return this._containerRuntime.deltaManager}get connected(){return this._containerRuntime.connected}get IFluidHandleContext(){return this._containerRuntime.IFluidHandleContext}get containerRuntime(){return this._containerRuntime}get isLoaded(){return this.loaded}get baseSnapshot(){return this._baseSnapshot}get disposed(){return this._disposed}get attachState(){return this._attachState}get IFluidDataStoreRegistry(){return this.registry}async isRoot(){return this.isInMemoryRoot()||(await this.getInitialSnapshotDetails()).isRootDataStore}isInMemoryRoot(){return this._isInMemoryRoot}dispose(){this._disposed||(this._disposed=!0,this.channelDeferred&&this.channelDeferred.promise.then((e=>{e.dispose()})).catch((e=>{})))}rejectDeferredRealize(e,t){throw new T.j4(e,{packageName:{value:t,tag:g.XI.PackageData}})}async realize(){return(0,E.h)(!this.detachedRuntimeCreation,317),this.channelDeferred||(this.channelDeferred=new Ie.B,this.realizeCore(this.existing).catch((e=>{var t;const n=M.wrapIfUnrecognized(e,"realizeFluidDataStoreContext");n.addTelemetryProperties({fluidDataStoreId:{value:this.id,tag:"PackageData"}}),null===(t=this.channelDeferred)||void 0===t||t.reject(n),this.logger.sendErrorEvent({eventName:"RealizeError"},n)}))),this.channelDeferred.promise}async factoryFromPackagePath(e){let t;(0,E.h)(this.pkg===e,318),void 0===e&&this.rejectDeferredRealize("packages is undefined");let n,r=this._containerRuntime.IFluidDataStoreRegistry;for(const i of e)r||this.rejectDeferredRealize("No registry for package",n),n=i,t=await r.get(i),t||this.rejectDeferredRealize("Registry does not contain entry for the package",i),r=t.IFluidDataStoreRegistry;const i=null==t?void 0:t.IFluidDataStoreFactory;return void 0===i&&this.rejectDeferredRealize("Can't find factory for package",n),{factory:i,registry:r}}async realizeCore(e){const t=await this.getInitialSnapshotDetails();this._baseSnapshot=t.snapshot;const n=t.pkg,{factory:r,registry:i}=await this.factoryFromPackagePath(n);(0,E.h)(void 0===this.registry,319),this.registry=i;const o=await r.instantiateDataStore(this,e);(0,E.h)(void 0!==o,320),this.bindRuntime(o)}setConnectionState(e,t){this.verifyNotClosed(),this.loaded&&((0,E.h)(this.connected===e,321),this.channel.setConnectionState(e,t))}process(e,t,n){var r;this.verifyNotClosed();const i=e.contents,o=Object.assign(Object.assign({},e),{type:i.type,contents:i.content});if(this.summarizerNode.recordChange(o),this.loaded)return null===(r=this.channel)||void 0===r?void 0:r.process(o,t,n);(0,E.h)(!t,322),(0,E.h)(void 0!==this.pending,573),this.pending.push(o),this.thresholdOpsCounter.sendIfMultiple("StorePendingOps",this.pending.length)}processSignal(e,t){var n;this.verifyNotClosed(),this.loaded&&(null===(n=this.channel)||void 0===n||n.processSignal(e,t))}getQuorum(){return this._containerRuntime.getQuorum()}getAudience(){return this._containerRuntime.getAudience()}async summarize(e=!1,t=!0,n){return this.summarizerNode.summarize(e,t,n)}async summarizeInternal(e,t,n){await this.realize();const r=await this.channel.summarize(e,t,n);let i;this.disableIsolatedChannels||(br(r),i=[Bt.channelsTreeName]);const{pkg:o}=await this.getInitialSnapshotDetails(),s=wr(o,await this.isRoot(),this.disableIsolatedChannels);return(0,Wt.Rt)(r,yr,JSON.stringify(s)),this.writeGCDataAtRoot||(0,Wt.Rt)(r,Bt.gcBlobKey,JSON.stringify(this.summarizerNode.getGCSummaryDetails())),this.summarizerNode.isReferenced()||(r.summary.unreferenced=!0,r.stats.unreferencedBlobSize=r.stats.totalBlobSize),Object.assign(Object.assign({},r),{id:this.id,pathPartsForChildren:i})}async getGCData(e=!1){return this.summarizerNode.getGCData(e)}async getGCDataInternal(e=!1){return await this.realize(),(0,E.h)(void 0!==this.channel,323),this.channel.getGCData(e)}updateUsedRoutes(e,t){this.summarizerNode.updateUsedRoutes(e,t),this.lastUsedState={usedRoutes:e,gcTimestamp:t},this.loaded&&this.updateChannelUsedRoutes()}addedGCOutboundReference(e,t){this._containerRuntime.addedGCOutboundReference(e,t)}updateChannelUsedRoutes(){if((0,E.h)(this.loaded,324),(0,E.h)(void 0!==this.channel,325),void 0===this.lastUsedState)return;const e=this.lastUsedState.usedRoutes.filter((e=>"/"!==e&&""!==e));this.channel.updateUsedRoutes(e,this.lastUsedState.gcTimestamp)}async request(e){return(await this.realize()).request(e)}submitMessage(e,t,n){this.verifyNotClosed(),(0,E.h)(!!this.channel,326);const r={content:t,type:e};this._containerRuntime.submitDataStoreOp(this.id,r,n)}setChannelDirty(e){this.verifyNotClosed();const t=this.deltaManager.lastSequenceNumber;this.summarizerNode.invalidate(t);const n=this.summarizerNode.getChild(e);n&&n.invalidate(t)}submitSignal(e,t){return this.verifyNotClosed(),(0,E.h)(!!this.channel,327),this._containerRuntime.submitDataStoreSignal(this.id,e,t)}makeLocallyVisible(){(0,E.h)(void 0!==this.channel,719),this.makeLocallyVisibleFn()}bindRuntime(e){var t;if(this.channel)throw new Error("Runtime already bound");try{(0,E.h)(!this.detachedRuntimeCreation,328),(0,E.h)(void 0!==this.channelDeferred,329),(0,E.h)(void 0!==this.pkg,330);const t=this.pending;for(const n of t)e.process(n,!1,void 0);this.thresholdOpsCounter.send("ProcessPendingOps",t.length),this.pending=void 0,this.loaded=!0,this.channel=e,Object.freeze(this.pkg),this.updateChannelUsedRoutes(),this.channelDeferred.resolve(this.channel)}catch(e){null===(t=this.channelDeferred)||void 0===t||t.reject(e),this.logger.sendErrorEvent({eventName:"BindRuntimeError",fluidDataStoreId:{value:this.id,tag:"PackageData"}},e)}}async getAbsoluteUrl(e){if(this.attachState===o.mB.Attached)return this._containerRuntime.getAbsoluteUrl(e)}setInMemoryRoot(){this._isInMemoryRoot=!0}reSubmit(e,t){(0,E.h)(!!this.channel,331);const n=e;this.channel.reSubmit(n.type,n.content,t)}rollback(e,t){if(!this.channel)throw new Error("Channel must exist when rolling back ops");if(!this.channel.rollback)throw new Error("Channel doesn't support rollback");const n=e;this.channel.rollback(n.type,n.content,t)}async applyStashedOp(e){this.channel||await this.realize(),(0,E.h)(!!this.channel,332);const t=e;return this.channel.applyStashedOp(t.content)}verifyNotClosed(){if(this._disposed)throw new Error("Context is closed")}getCreateChildSummarizerNodeFn(e,t){return(n,r,i)=>this.summarizerNode.createChild(n,e,t,{throwOnFailure:!0},r,i)}async uploadBlob(e){return this.containerRuntime.uploadBlob(e)}}_r.pendingOpsCountThreshold=1e3;class xr extends _r{constructor(e){super(e,!0,o.xU.Bound,!1,(()=>{throw new Error("Already attached")})),this.initialSnapshotDetailsP=new Ie.d((async()=>{var e,t;let n,r=!0;if("string"==typeof this.initSnapshotValue){const t=(await this.storage.getVersions(this.initSnapshotValue,1))[0];n=null!==(e=await this.storage.getSnapshotTree(t))&&void 0!==e?e:void 0}else n=this.initSnapshotValue;const i=async e=>he(this.storage,e);if(n){const e=await this.summarizerNode.loadBaseSummary(n,i);n=e.baseSummary,this.pending=e.outstandingOps.concat(this.pending)}if(n&&void 0!==n.blobs[yr]){const e=await i(n.blobs[yr]);let o;o=ur(e)<1?e.pkg.startsWith('["')&&e.pkg.endsWith('"]')?JSON.parse(e.pkg):[e.pkg]:JSON.parse(e.pkg),this.pkg=o,r=null===(t=e.isRootDataStore)||void 0===t||t,lr(e)&&(n=n.trees[Bt.channelsTreeName],(0,E.h)(void 0!==n,510))}return{pkg:this.pkg,isRootDataStore:r,snapshot:n}})),this.initSnapshotValue=e.snapshotTree,this.baseGCDetailsP=new Ie.d((async()=>{var t;return null!==(t=await e.getBaseGCDetails())&&void 0!==t?t:{}}))}async getInitialSnapshotDetails(){return this.initialSnapshotDetailsP}async getInitialGCSummaryDetails(){return this.getBaseGCDetails()}async getBaseGCDetails(){return this.baseGCDetailsP}generateAttachMessage(){throw new Error("Cannot attach remote store")}}class Cr extends _r{constructor(e){super(e,void 0!==e.snapshotTree,e.snapshotTree?o.xU.Bound:o.xU.NotBound,!0,e.makeLocallyVisibleFn),this.snapshotTree=e.snapshotTree,!0===e.isRootDataStore&&this.setInMemoryRoot(),this.createProps=e.createProps,this.attachListeners()}attachListeners(){this.once("attaching",(()=>{(0,E.h)(this.attachState===o.mB.Detached,333),this._attachState=o.mB.Attaching})),this.once("attached",(()=>{(0,E.h)(this.attachState===o.mB.Attaching,334),this._attachState=o.mB.Attached}))}generateAttachMessage(){(0,E.h)(void 0!==this.channel,335),(0,E.h)(void 0!==this.pkg,336);const e=this.channel.getAttachSummary();this.disableIsolatedChannels||br(e);const t=wr(this.pkg,this.isInMemoryRoot(),this.disableIsolatedChannels);(0,Wt.Rt)(e,yr,JSON.stringify(t));const n=(0,Wt.H4)(e.summary);return{id:this.id,snapshot:n,type:this.pkg[this.pkg.length-1]}}async getInitialSnapshotDetails(){var e;let t,n=this.snapshotTree,r=!1;return void 0!==n&&(t=await async function(e,t){const n=await he(e,t.blobs[yr]),r=ur(n);return(0,E.h)(r>0,469),n}(this.storage,n),lr(t)&&(n=n.trees[Bt.channelsTreeName],(0,E.h)(void 0!==n,511)),void 0===this.pkg&&(this.pkg=JSON.parse(t.pkg),(null===(e=t.isRootDataStore)||void 0===e||e)&&(r=!0,this.setInMemoryRoot()))),(0,E.h)(void 0!==this.pkg,338),{pkg:this.pkg,isRootDataStore:r,snapshot:n}}async getInitialGCSummaryDetails(){return{}}async getBaseGCDetails(){return{}}}class Er extends Cr{constructor(e){super(e)}}class kr extends Cr{constructor(e){super(e),this.detachedRuntimeCreation=!0}async attachRuntime(e,t){(0,E.h)(this.detachedRuntimeCreation,340),(0,E.h)(void 0===this.channelDeferred,341);const n=e.IFluidDataStoreFactory,r=await this.factoryFromPackagePath(this.pkg);(0,E.h)(r.factory===n,342),(0,E.h)(void 0===this.registry,343),this.registry=r.registry,this.detachedRuntimeCreation=!1,this.channelDeferred=new Ie.B,super.bindRuntime(t),await this.isRoot()&&(void 0!==t.makeVisibleAndAttachGraph?t.makeVisibleAndAttachGraph():t.bindToContext())}async getInitialSnapshotDetails(){if(this.detachedRuntimeCreation)throw new Error("Detached Fluid Data Store context can't be realized! Please attach runtime first!");return super.getInitialSnapshotDetails()}}const Ar=e=>"string"==typeof(null==e?void 0:e.internalId)&&"string"==typeof(null==e?void 0:e.alias),Nr=(e,t,n,r,i)=>new Or(e,t,n,r,i);var Tr,Pr;!function(e){e.Aliased="Aliased",e.Aliasing="Aliasing",e.None="None"}(Tr||(Tr={}));class Or{constructor(e,t,n,r,i){this.fluidDataStoreChannel=e,this.internalId=t,this.runtime=n,this.datastores=r,this.logger=i,this.aliasState=Tr.None}async trySetAlias(e){if(e.includes("/"))throw new I(`The alias cannot contain slashes: '${e}'`);switch(this.aliasState){case Tr.Aliasing:return(0,E.h)(void 0!==this.aliasResult,790),await this.aliasResult,this.alias===e?"Success":"AlreadyAliased";case Tr.Aliased:return this.alias===e?"Success":"AlreadyAliased";case Tr.None:break;default:(0,k.U)(this.aliasState)}return this.aliasState=Tr.Aliasing,this.aliasResult=this.trySetAliasInternal(e),this.aliasResult}async trySetAliasInternal(e){const t={internalId:this.internalId,alias:e};if(void 0!==this.fluidDataStoreChannel.makeVisibleAndAttachGraph?this.fluidDataStoreChannel.makeVisibleAndAttachGraph():this.fluidDataStoreChannel.bindToContext(),this.runtime.attachState===o.mB.Detached){const e=this.datastores.processAliasMessageCore(t);return this.aliasState=Tr.Aliased,e?"Success":"Conflict"}return await this.ackBasedPromise((e=>{this.runtime.submitDataStoreAliasOp(t,e)})).then((t=>(this.aliasState=Tr.Aliased,t&&(this.alias=e),t))).catch((t=>(this.logger.sendErrorEvent({eventName:"AliasingException",alias:{value:e,tag:g.XI.UserData},internalId:{value:this.internalId,tag:g.XI.PackageData}},t),this.aliasState=Tr.None,!1)))?"Success":"Conflict"}async request(e){return this.fluidDataStoreChannel.request(e)}get IFluidRouter(){return this.fluidDataStoreChannel}async ackBasedPromise(e){let t;return new Promise(((n,r)=>{t=()=>r(new Error("ContainerRuntime disposed while this ack-based Promise was pending")),this.runtime.disposed?t():(this.runtime.on("dispose",t),e(n,r))})).finally((()=>{this.runtime.off("dispose",t)}))}}class Ir{constructor(e,t,n,r,i,s,a,c,u,l,h=new Vn(s)){this.baseSnapshot=e,this.runtime=t,this.submitAttachFn=n,this.getCreateChildSummarizerNodeFn=r,this.deleteChildSummarizerNodeFn=i,this.gcNodeUpdated=c,this.aliasMap=u,this.writeGCDataAtRoot=l,this.contexts=h,this.pendingAttach=new Map,this.attachOpFiredForDataStore=new Set,this.disposeOnce=new kn.o((()=>this.contexts.dispose())),this.dataStoresSinceLastGC=[],this.dispose=()=>this.disposeOnce.value,this.logger=g.G2.create(s),this.containerRuntimeHandle=new ln(this.runtime,"/",this.runtime.IFluidHandleContext);const d=new Ie.d((async()=>a())),f=async e=>(await d).get(e),p=new Map;if(e)for(const[t,n]of Object.entries(e.trees))p.set(t,n);let m=0;for(const[e,t]of p){let n;if(t.unreferenced&&m++,this.runtime.attachState!==o.mB.Detached)n=new xr({id:e,snapshotTree:t,getBaseGCDetails:async()=>f(e),runtime:this.runtime,storage:this.runtime.storage,scope:this.runtime.scope,createSummarizerNodeFn:this.getCreateChildSummarizerNodeFn(e,{type:Bt.CreateSummarizerNodeSource.FromSummary}),writeGCDataAtRoot:this.writeGCDataAtRoot,disableIsolatedChannels:this.runtime.disableIsolatedChannels});else{if("object"!=typeof t)throw new T.j4("Snapshot should be there to load from!!");const r=t;n=new Er({id:e,pkg:void 0,runtime:this.runtime,storage:this.runtime.storage,scope:this.runtime.scope,createSummarizerNodeFn:this.getCreateChildSummarizerNodeFn(e,{type:Bt.CreateSummarizerNodeSource.FromSummary}),makeLocallyVisibleFn:()=>this.makeDataStoreLocallyVisible(e),snapshotTree:r,isRootDataStore:void 0,writeGCDataAtRoot:this.writeGCDataAtRoot,disableIsolatedChannels:this.runtime.disableIsolatedChannels})}this.contexts.addBoundOrRemoted(n)}this.containerLoadStats={containerLoadDataStoreCount:p.size,referencedDataStoreCount:p.size-m}}aliases(){return this.aliasMap}processAttachMessage(e,t){var n,r;const i=e.contents;if(this.dataStoresSinceLastGC.push(i.id),t)return(0,E.h)(this.pendingAttach.has(i.id),350),null===(n=this.contexts.get(i.id))||void 0===n||n.emit("attached"),void this.pendingAttach.delete(i.id);if(this.alreadyProcessed(i.id))throw new L("Duplicate DataStore created with existing id",Object.assign(Object.assign({},D(e)),{dataStoreId:{value:i.id,tag:g.XI.PackageData}}));const o=new Map;let s;i.snapshot&&(s=$n(i.snapshot.entries,o));const a=[i.type],c=new xr({id:i.id,snapshotTree:s,getBaseGCDetails:async()=>({}),runtime:this.runtime,storage:new Gn(this.runtime.storage,o),scope:this.runtime.scope,createSummarizerNodeFn:this.getCreateChildSummarizerNodeFn(i.id,{type:Bt.CreateSummarizerNodeSource.FromAttach,sequenceNumber:e.sequenceNumber,snapshot:null!==(r=i.snapshot)&&void 0!==r?r:{entries:[Sr(a,!0,this.runtime.disableIsolatedChannels)]}}),writeGCDataAtRoot:this.writeGCDataAtRoot,disableIsolatedChannels:this.runtime.disableIsolatedChannels,pkg:a});this.contexts.addBoundOrRemoted(c)}processAliasMessage(e,t,n){const r=e.contents;if(!Ar(r))throw new L("malformedDataStoreAliasMessage",Object.assign({},D(e)));const i=t,o=this.processAliasMessageCore(r);n&&i(o)}processAliasMessageCore(e){if(this.alreadyProcessed(e.alias))return!1;const t=this.contexts.get(e.internalId);if(void 0===t)return this.logger.sendErrorEvent({eventName:"AliasFluidDataStoreNotFound",fluidDataStoreId:e.internalId}),!1;const n=new ln(t,e.internalId,this.runtime.IFluidHandleContext);return this.runtime.addedGCOutboundReference(this.containerRuntimeHandle,n),this.aliasMap.set(e.alias,t.id),t.setInMemoryRoot(),!0}alreadyProcessed(e){return void 0!==this.aliasMap.get(e)||void 0!==this.contexts.get(e)}makeDataStoreLocallyVisible(e){const t=this.contexts.getUnbound(e);if((0,E.h)(!!t,351),this.runtime.attachState!==o.mB.Detached){t.emit("attaching");const n=t.generateAttachMessage();this.pendingAttach.set(e,n),this.submitAttachFn(n),this.attachOpFiredForDataStore.add(e)}this.contexts.bind(e)}createDetachedDataStoreCore(e,t,n=nn()){(0,E.h)(!n.includes("/"),780);const r=new kr({id:n,pkg:e,runtime:this.runtime,storage:this.runtime.storage,scope:this.runtime.scope,createSummarizerNodeFn:this.getCreateChildSummarizerNodeFn(n,{type:Bt.CreateSummarizerNodeSource.Local}),makeLocallyVisibleFn:()=>this.makeDataStoreLocallyVisible(n),snapshotTree:void 0,isRootDataStore:t,writeGCDataAtRoot:this.writeGCDataAtRoot,disableIsolatedChannels:this.runtime.disableIsolatedChannels});return this.contexts.addUnbound(r),r}_createFluidDataStoreContext(e,t,n,r){(0,E.h)(!t.includes("/"),781);const i=new Er({id:t,pkg:e,runtime:this.runtime,storage:this.runtime.storage,scope:this.runtime.scope,createSummarizerNodeFn:this.getCreateChildSummarizerNodeFn(t,{type:Bt.CreateSummarizerNodeSource.Local}),makeLocallyVisibleFn:()=>this.makeDataStoreLocallyVisible(t),snapshotTree:void 0,isRootDataStore:n,writeGCDataAtRoot:this.writeGCDataAtRoot,disableIsolatedChannels:this.runtime.disableIsolatedChannels,createProps:r});return this.contexts.addUnbound(i),i}get disposed(){return this.disposeOnce.evaluated}resubmitDataStoreOp(e,t){const n=e,r=this.contexts.get(n.address);(0,E.h)(!!r,352),r.reSubmit(n.contents,t)}rollbackDataStoreOp(e,t){const n=e,r=this.contexts.get(n.address);(0,E.h)(!!r,744),r.rollback(n.contents,t)}async applyStashedOp(e){const t=e,n=this.contexts.get(t.address);return(0,E.h)(!!n,353),n.applyStashedOp(t.contents)}async applyStashedAttachOp(e){this.pendingAttach.set(e.id,e),this.processAttachMessage({contents:e},!1)}processFluidDataStoreOp(e,t,n){const r=e.contents,i=Object.assign(Object.assign({},e),{contents:r.contents}),o=this.contexts.get(r.address);(0,E.h)(!!o,354),o.process(i,t,n),this.gcNodeUpdated(`/${r.address}`,e.timestamp,o.isLoaded?o.packagePath:void 0)}async getDataStore(e,t){const n=await this.contexts.getBoundOrRemoted(e,t);if(void 0===n){const t={url:e};throw(0,Vt.fu)((0,Vt.I4)(t),t)}return n}processSignal(e,t,n){const r=this.contexts.get(e);if(!r)return(0,E.h)(!n,355),void this.logger.sendTelemetryEvent({eventName:"SignalFluidDataStoreNotFound",fluidDataStoreId:{value:e,tag:g.XI.PackageData}});r.processSignal(t,n)}setConnectionState(e,t){for(const[n,r]of this.contexts)try{r.setConnectionState(e,t)}catch(e){this.logger.sendErrorEvent({eventName:"SetConnectionStateError",clientId:t,fluidDataStore:n},e)}}setAttachState(e){let t;t=e===o.mB.Attaching?"attaching":"attached";for(const[,e]of this.contexts)this.contexts.isNotBound(e.id)||e.emit(t)}get size(){return this.contexts.size}async summarize(e,t,n){const r=new Wt.x1;return await Promise.all(Array.from(this.contexts).filter((([e,t])=>((0,E.h)(t.attachState!==o.mB.Attaching,357),t.attachState===o.mB.Attached))).map((async([i,o])=>{const s=await o.summarize(e,t,n);r.addWithStats(i,s)}))),r.getSummaryTree()}createSummary(e){const t=new Wt.x1;let n;do{const e=t.summary.tree;n=this.contexts.notBoundLength(),Array.from(this.contexts).filter((([t,n])=>!(this.contexts.isNotBound(t)||e[t]||this.attachOpFiredForDataStore.has(t)))).map((([e,n])=>{let r;if(n.isLoaded){const e=n.generateAttachMessage().snapshot;r=(0,Wt.j9)(e,!0)}else(0,E.h)(!!this.baseSnapshot,358),r=(0,Wt.S5)(this.baseSnapshot.trees[e]);t.addWithStats(e,r)}))}while(n!==this.contexts.notBoundLength());return t.getSummaryTree()}async updateStateBeforeGC(){for(const e of this.dataStoresSinceLastGC){const t=this.contexts.get(e);if((0,E.h)(void 0!==t,694),await t.isRoot()){const n=new ln(t,e,this.runtime.IFluidHandleContext);this.runtime.addedGCOutboundReference(this.containerRuntimeHandle,n)}}this.dataStoresSinceLastGC=[]}async getGCData(e=!1){const t=new Zt.iR;return await Promise.all(Array.from(this.contexts).filter((([e,t])=>t.attachState===o.mB.Attached)).map((async([n,r])=>{const i=await r.getGCData(e);t.prefixAndAddNodes(n,i.gcNodes)}))),t.addNode("/",await this.getOutboundRoutes()),t.getGCData()}updateUsedRoutes(e,t){var n;const r=(0,Zt.xu)(e);for(const[e]of r)(0,E.h)(this.contexts.has(e),359);for(const[e,i]of this.contexts)i.updateUsedRoutes(null!==(n=r.get(e))&&void 0!==n?n:[],t)}deleteUnusedRoutes(e){for(const t of e){const e=t.split("/");if(e.length>2)continue;const n=e[1];(0,E.h)(this.contexts.has(n),727),this.contexts.delete(n),this.deleteChildSummarizerNodeFn(n)}}async getOutboundRoutes(){const e=[];for(const[t,n]of this.contexts)await n.isRoot()&&e.push(`/${t}`);return e}async getDataStorePackagePath(e){var t;const n=this.contexts.get(e.split("/")[1]);return null===(t=await(null==n?void 0:n.getInitialSnapshotDetails()))||void 0===t?void 0:t.pkg}getGCNodeType(e){const t=e.split("/");if(this.contexts.has(t[1]))return 2===t.length?Qn:Xn}}function Rr(e,t){if(e){if(function(e){return!!e&&!e.disableIsolatedChannels}(t)){const t=e.trees[Bt.channelsTreeName];return(0,E.h)(!!t,360),t}{const t={};for(const[n,r]of Object.entries(e.trees))vr.includes(n)||(t[n]=r);return Object.assign(Object.assign({},e),{trees:t})}}}!function(e){e[e.Local=0]="Local",e[e.Broadcast=1]="Broadcast",e[e.Acked=2]="Acked",e[e.Nacked=-1]="Nacked"}(Pr||(Pr={}));class Lr{constructor(e,t){this.clientId=e,this.clientSequenceNumber=t,this.state=Pr.Local,this.defSummaryOp=new Ie.B,this.defSummaryAck=new Ie.B}static createLocal(e,t){return new Lr(e,t)}static createFromOp(e){const t=new Lr(e.clientId,e.clientSequenceNumber);return t.broadcast(e),t}get summaryOp(){return this._summaryOp}get summaryAckNack(){return this._summaryAckNack}hasBeenAcked(){return this.state===Pr.Acked}broadcast(e){return(0,E.h)(this.state===Pr.Local,373),this._summaryOp=e,this.defSummaryOp.resolve(),this.state=Pr.Broadcast,!0}ackNack(e){return(0,E.h)(this.state===Pr.Broadcast,374),this._summaryAckNack=e,this.defSummaryAck.resolve(),this.state=e.type===Dt.SummaryAck?Pr.Acked:Pr.Nacked,!0}async waitBroadcast(){return await this.defSummaryOp.promise,this._summaryOp}async waitAckNack(){return await this.defSummaryAck.promise,this._summaryAckNack}}class Mr{constructor(e,t){this.clientId=e,this.summaryCollection=t,this.localSummaries=new Map,this._disposed=!1}get disposed(){return this._disposed}watchSummary(e){let t=this.localSummaries.get(e);return t||(t=Lr.createLocal(this.clientId,e),this.localSummaries.set(t.clientSequenceNumber,t)),t}waitFlushed(){return this.summaryCollection.waitFlushed()}tryGetSummary(e){return this.localSummaries.get(e)}setSummary(e){this.localSummaries.set(e.clientSequenceNumber,e)}dispose(){this.summaryCollection.removeWatcher(this.clientId),this._disposed=!0}}class Dr extends we.L{constructor(e,t){super(),this.deltaManager=e,this.logger=t,this.summaryWatchers=new Map,this.pendingSummaries=new Map,this.refreshWaitNextAck=new Ie.B,this.deltaManager.on("op",(e=>this.handleOp(e)))}get latestAck(){return this.lastAck}emit(e,...t){return super.emit(e,...t)}get opsSinceLastAck(){var e,t;return this.deltaManager.lastSequenceNumber-(null!==(t=null===(e=this.lastAck)||void 0===e?void 0:e.summaryAck.sequenceNumber)&&void 0!==t?t:this.deltaManager.initialSequenceNumber)}addOpListener(e){this.deltaManager.on("op",e)}removeOpListener(e){this.deltaManager.off("op",e)}createWatcher(e){const t=new Mr(e,this);return this.summaryWatchers.set(e,t),t}removeWatcher(e){this.summaryWatchers.delete(e)}setPendingAckTimerTimeoutCallback(e,t){this.maxAckWaitTime=e,this.pendingAckTimerTimeoutCallback=t}unsetPendingAckTimerTimeoutCallback(){this.maxAckWaitTime=void 0,this.pendingAckTimerTimeoutCallback=void 0}async waitFlushed(){for(;this.pendingSummaries.size>0;){const e=Array.from(this.pendingSummaries,(([,e])=>e.waitAckNack()));await Promise.all(e)}return this.lastAck}async waitSummaryAck(e){for(;!this.lastAck||this.lastAck.summaryOp.referenceSequenceNumber<e;)await this.refreshWaitNextAck.promise;return this.lastAck}handleOp(e){var t;switch(e.type){case Dt.Summarize:return void this.handleSummaryOp(e);case Dt.SummaryAck:return void this.handleSummaryAck(e);case Dt.SummaryNack:return void this.handleSummaryNack(e);default:{const n=e.timestamp;return void 0!==this.lastSummaryTimestamp&&void 0!==this.maxAckWaitTime&&n-this.lastSummaryTimestamp>=this.maxAckWaitTime&&(null===(t=this.pendingAckTimerTimeoutCallback)||void 0===t||t.call(this)),void this.emit("default",e)}}}handleSummaryOp(e){let t;const n=this.summaryWatchers.get(e.clientId);n&&(t=n.tryGetSummary(e.clientSequenceNumber),t&&t.broadcast(e)),t||(t=Lr.createFromOp(e),n&&n.setSummary(t)),this.pendingSummaries.set(e.sequenceNumber,t),this.lastSummaryTimestamp=e.timestamp,this.emit(Dt.Summarize,e)}handleSummaryAck(e){const t=e.contents.summaryProposal.summarySequenceNumber,n=this.pendingSummaries.get(t);n&&void 0!==n.summaryOp?(n.ackNack(e),this.pendingSummaries.delete(t),(!this.lastAck||t>this.lastAck.summaryAck.contents.summaryProposal.summarySequenceNumber)&&(this.lastAck={summaryOp:n.summaryOp,summaryAck:e},this.refreshWaitNextAck.resolve(),this.refreshWaitNextAck=new Ie.B,this.emit(Dt.SummaryAck,e))):t>=this.deltaManager.initialSequenceNumber&&this.logger.sendErrorEvent({eventName:"SummaryAckWithoutOp",sequenceNumber:e.sequenceNumber,summarySequenceNumber:t,initialSequenceNumber:this.deltaManager.initialSequenceNumber})}handleSummaryNack(e){const t=e.contents.summaryProposal.summarySequenceNumber,n=this.pendingSummaries.get(t);n&&(n.ackNack(e),this.pendingSummaries.delete(t),this.emit(Dt.SummaryNack,e))}}class jr extends we.L{constructor(e,t,n){super(),this.clientMap=new Map,this.rootNode={sequenceNumber:-1,olderClient:void 0,youngerClient:void 0},this._youngestClient=this.rootNode,this.logger=g.G2.create(e,"OrderedClientCollection");const r=n.getMembers();for(const[e,t]of r)this.addClient(e,t);n.on("addMember",((e,n)=>{const r=this.addClient(e,n);this.emit("addClient",r,t.lastSequenceNumber)})),n.on("removeMember",(e=>{const n=t.lastSequenceNumber,r=this.removeClient(e);void 0===r?this.logger.sendErrorEvent({eventName:"ClientNotFound",clientId:e,sequenceNumber:n}):this.emit("removeClient",r,n)}))}get count(){return this.clientMap.size}get oldestClient(){return this.rootNode.youngerClient}addClient(e,t){(0,E.h)(t.sequenceNumber>-1,502);let n=this._youngestClient;for(;n.sequenceNumber>t.sequenceNumber;)(0,E.h)(void 0!==n.olderClient,503),n=n.olderClient;const r={clientId:e,sequenceNumber:t.sequenceNumber,client:Object.assign({},t.client),olderClient:n,youngerClient:n.youngerClient};return r.olderClient.youngerClient=r,void 0===r.youngerClient?this._youngestClient=r:r.youngerClient.olderClient=r,this.clientMap.set(e,r),r}removeClient(e){const t=this.clientMap.get(e);if(void 0!==t)return t.olderClient.youngerClient=t.youngerClient,void 0===t.youngerClient?this._youngestClient=t.olderClient:t.youngerClient.olderClient=t.olderClient,this.clientMap.delete(e),t}getAllClients(){const e=[];let t=this.rootNode;for(;void 0!==t.youngerClient;)e.push(t.youngerClient),t=t.youngerClient;return e}}class Fr extends we.L{constructor(e,t,n,r){let i,o;super(),this.orderedClientCollection=t,this.isEligibleFn=r,this._eligibleCount=0;for(const e of t.getAllClients())this.addClient(e,0),"number"!=typeof n&&(e.clientId===n.electedClientId&&(i=e,void 0===n.electedParentId&&e.client.details.type!==cn&&(o=e)),e.clientId===n.electedParentId&&(o=e));t.on("addClient",((e,t)=>this.addClient(e,t))),t.on("removeClient",((e,t)=>this.removeClient(e,t))),"number"==typeof n?this._electionSequenceNumber=n:((null==i?void 0:i.clientId)!==n.electedClientId?e.sendErrorEvent({eventName:"InitialElectedClientNotFound",electionSequenceNumber:n.electionSequenceNumber,expectedClientId:n.electedClientId,electedClientId:null==i?void 0:i.clientId,clientCount:t.count}):void 0===i||r(i)||(i=o=this.findFirstEligibleParent(o),e.sendErrorEvent({eventName:"InitialElectedClientIneligible",electionSequenceNumber:n.electionSequenceNumber,expectedClientId:n.electedClientId,electedClientId:null==i?void 0:i.clientId})),this._electedParent=o,this._electedClient=i,this._electionSequenceNumber=n.electionSequenceNumber)}get eligibleCount(){return this._eligibleCount}get electionSequenceNumber(){return this._electionSequenceNumber}get electedClient(){return this._electedClient}get electedParent(){return this._electedParent}tryElectingClient(e,t){let n=!1;const r=(null==e?void 0:e.client.details.type)===cn,i=this._electedClient;this._electedClient!==e&&(this._electionSequenceNumber=t,this._electedClient=e,n=!0),this._electedParent===e||r||(this._electedParent=e,n=!0),n&&this.emit("election",e,t,i)}tryElectingParent(e,t){this._electedParent!==e&&(this._electedParent=e,this.emit("election",this._electedClient,t,this._electedClient))}findFirstEligibleParent(e){let t=e;for(;void 0!==t&&(!this.isEligibleFn(t)||t.client.details.type===cn);)t=t.youngerClient;return t}addClient(e,t){var n;if(this.isEligibleFn(e)){this._eligibleCount++;const r=e.client.details.type===cn,i=(null===(n=this._electedClient)||void 0===n?void 0:n.client.details.type)===cn;void 0===this._electedClient||!i&&r?this.tryElectingClient(e,t):void 0!==this._electedParent||r||this.tryElectingParent(e,t)}}removeClient(e,t){var n,r,i,o,s;if(this.isEligibleFn(e))if(this._eligibleCount--,this._electedClient===e)if(this._electedParent!==e){if(this._electedClient.client.details.type!==cn)throw new I("Elected client should be a summarizer client 1");this.tryElectingClient(this._electedParent,t)}else{const e=null!==(r=this.findFirstEligibleParent(null===(n=this._electedParent)||void 0===n?void 0:n.youngerClient))&&void 0!==r?r:this.findFirstEligibleParent(this.orderedClientCollection.oldestClient);this.tryElectingClient(e,t)}else if(this._electedParent===e){if((null===(i=this._electedClient)||void 0===i?void 0:i.client.details.type)!==cn)throw new I("Elected client should be a summarizer client 2");const e=null!==(s=this.findFirstEligibleParent(null===(o=this._electedParent)||void 0===o?void 0:o.youngerClient))&&void 0!==s?s:this.findFirstEligibleParent(this.orderedClientCollection.oldestClient);this.tryElectingParent(e,t)}}getAllEligibleClients(){return this.orderedClientCollection.getAllClients().filter(this.isEligibleFn)}incrementElectedClient(e){var t,n;const r=null!==(n=this.findFirstEligibleParent(null===(t=this._electedParent)||void 0===t?void 0:t.youngerClient))&&void 0!==n?n:this.findFirstEligibleParent(this.orderedClientCollection.oldestClient);void 0===this._electedClient||this._electedClient===this._electedParent?this.tryElectingClient(r,e):this.tryElectingParent(r,e)}resetElectedClient(e){const t=this.findFirstEligibleParent(this.orderedClientCollection.oldestClient);void 0===this._electedClient||this._electedClient===this._electedParent?this.tryElectingClient(t,e):this.tryElectingParent(t,e)}peekNextElectedClient(){var e,t;return null!==(t=this.findFirstEligibleParent(null===(e=this._electedParent)||void 0===e?void 0:e.youngerClient))&&void 0!==t?t:this.findFirstEligibleParent(this.orderedClientCollection.oldestClient)}serialize(){var e,t;return{electionSequenceNumber:this.electionSequenceNumber,electedClientId:null===(e=this.electedClient)||void 0===e?void 0:e.clientId,electedParentId:null===(t=this.electedParent)||void 0===t?void 0:t.clientId}}}class Br{constructor(e,t,n){this.delayWindowMs=e,this.maxDelayMs=t,this.delayFn=n,this.startTimes=[]}get numAttempts(){return this.startTimes.length}getAttempts(){return[...this.startTimes]}get latestAttemptTime(){return this.startTimes.length>0?this.startTimes[this.startTimes.length-1]:void 0}getDelay(){const e=Date.now(),t=this.latestAttemptTime;if(void 0!==t){const n=t-e;n>0&&(this.startTimes=this.startTimes.map((e=>e-n)))}this.startTimes=this.startTimes.filter((t=>e-t<this.delayWindowMs));const n=Math.min(this.delayFn(this.startTimes.length),this.maxDelayMs);return this.startTimes.push(e),this.startTimes=this.startTimes.map((e=>e+n)),n===this.maxDelayMs&&this.startTimes.shift(),n}}new Promise((()=>{}));class qr{constructor(e){this.runtime=e,this._cancelled=!1,this.stopDeferred=new Ie.B}get cancelled(){return this._cancelled||(0,E.h)(this.runtime.deltaManager.active,605),this._cancelled}get waitCancelled(){return this.stopDeferred.promise}static async create(e){const t=new qr(e);return await t.waitStart(),t}async waitStart(){if(this.runtime.disposed)this.stop("summarizerClientDisconnected");else{if(this.runtime.once("dispose",(()=>this.stop("summarizerClientDisconnected"))),!this.runtime.connected){const e=new Promise((e=>this.runtime.once("connected",e)));await Promise.race([e,this.waitCancelled])}this.runtime.once("disconnected",(()=>this.stop("summarizerClientDisconnected")))}}stop(e){this._cancelled||(this._cancelled=!0,this.stopDeferred.resolve(e))}}class Ur{constructor(e,t,n,r,i=(()=>C.S.now())){this.batchEventEmitter=e,this.trackedBatchCount=0,this.logger=g.G2.create(t,"Batching"),this.batchEventEmitter.on("batchBegin",(e=>{this.startBatchSequenceNumber=e.sequenceNumber,this.batchProcessingStartTimeStamp=i(),this.trackedBatchCount++})),this.batchEventEmitter.on("batchEnd",((e,t)=>{(0,E.h)(void 0!==this.startBatchSequenceNumber&&void 0!==this.batchProcessingStartTimeStamp,698);const o=t.sequenceNumber-this.startBatchSequenceNumber+1;o>=n&&this.logger.sendErrorEvent({eventName:"LengthTooBig",length:o,threshold:n,batchEndSequenceNumber:t.sequenceNumber,duration:i()-this.batchProcessingStartTimeStamp,batchError:void 0!==e}),this.trackedBatchCount%r==0&&this.logger.sendPerformanceEvent({eventName:"Length",length:o,samplingRate:r,batchEndSequenceNumber:t.sequenceNumber,duration:i()-this.batchProcessingStartTimeStamp}),this.startBatchSequenceNumber=void 0,this.batchProcessingStartTimeStamp=void 0}))}}class zr{constructor(e,t){this.storageGetter=e,this.blobs=t}static async serializeTree(e,t){const n={};return await this.serializeTreeCore(e,n,t),n}static async serializeTreeCore(e,t,n){const r=[];for(const i of Object.values(e.trees))r.push(this.serializeTreeCore(i,t,n));for(const r of Object.values(e.blobs)){const e=await n.readBlob(r);t[r]=(0,le.zT)(e,"utf8")}return Promise.all(r)}static serializeTreeWithBlobContents(e){const t={};return this.serializeTreeWithBlobContentsCore(e,t),t}static serializeTreeWithBlobContentsCore(e,t){for(const n of Object.values(e.trees))this.serializeTreeWithBlobContentsCore(n,t);for(const n of Object.values(e.blobs)){const r=e.blobsContents[n];(0,E.h)(!!r,748),t[n]=(0,le.zT)(r,"utf8")}}get storage(){return this._storage||(this._storage=this.storageGetter()),this._storage}get repositoryUrl(){return this.storage.repositoryUrl}async readBlob(e){return void 0!==this.blobs[e]?(0,le.k8)(this.blobs[e],"utf8"):this.storage.readBlob(e)}async getSnapshotTree(e){return this.storage.getSnapshotTree(e)}async getVersions(e,t){return this.storage.getVersions(e,t)}async createBlob(e){return this.storage.createBlob(e)}async uploadSummaryWithContext(e,t){return this.storage.uploadSummaryWithContext(e,t)}async downloadSummary(e){return this.storage.downloadSummary(e)}}class $r{constructor(e,t){this.messageSize=new Map,this._nonSystemOpCount=0,this._opsSizeAccumulator=0,t||(e.inbound.on("push",(e=>{var t;const n="string"==typeof e.contents?e.contents:null!==(t=JSON.stringify(e.contents))&&void 0!==t?t:"",r=$r.messageHasData(e)?e.data:"";this.messageSize[$r.messageId(e)]=n.length+r.length})),e.on("op",(e=>{var t;this._nonSystemOpCount+=de(e)?1:0;const n=$r.messageId(e);this._opsSizeAccumulator+=null!==(t=this.messageSize[n])&&void 0!==t?t:0,this.messageSize.delete(n)})))}get nonSystemOpCount(){return this._nonSystemOpCount}get opsSizeAccumulator(){return this._opsSizeAccumulator}static messageId(e){return e.sequenceNumber}static messageHasData(e){return void 0!==e.data}reset(){this._nonSystemOpCount=0,this._opsSizeAccumulator=0}}var Hr;!function(e){e.FluidDataStoreOp="component",e.Attach="attach",e.ChunkedOp="chunkedOp",e.BlobAttach="blobAttach",e.Rejoin="rejoin",e.Alias="alias"}(Hr||(Hr={}));const Gr={state:"enabled",idleTime:15e3,maxTime:6e4,maxOps:100,minOpsForLastSummaryAttempt:10,maxAckWaitTime:6e4,maxOpsSinceLastSummary:7e3,initialSummarizerDelayMs:5e3,summarizerClientElection:!1};var Vr;!function(e){e.wait="wait",e.externalRequest="externalRequest",e.viaHandle="viaHandle"}(Vr||(Vr={}));const Wr=Bt.FlushMode.TurnBased;var Kr;!function(e){e.FluidDataStoreOp="component",e.Attach="attach",e.ChunkedOp="chunkedOp",e.BlobAttach="blobAttach",e.Rejoin="rejoin",e.Alias="alias",e.Operation="op"}(Kr||(Kr={}));class Zr{constructor(e,t){this.deltaManager=e,this.logger=t,this.localPaused=!1,this.timePaused=0,this.batchCount=0,this.deltaManager.on("prepareSend",(e=>{if(0===e.length)return;const t=e[0].metadata;if(!(null==t?void 0:t.batch))return;if(1===e.length)return void delete t.batch;const n=e[e.length-1];n.metadata=Object.assign(Object.assign({},n.metadata),{batch:!1})})),this.deltaManager.inbound.on("push",(e=>{this.trackPending(e)})),(0,E.h)(!this.localPaused,659);const n=this.deltaManager.inbound.toArray();for(const e of n)this.trackPending(e);this.deltaManager.on("op",(e=>this.afterOpProcessing(e.sequenceNumber)))}afterOpProcessing(e){(0,E.h)(!this.localPaused,660),0!==this.deltaManager.inbound.length?void 0!==this.pauseSequenceNumber&&((0,E.h)(e<this.pauseSequenceNumber,662),e+1===this.pauseSequenceNumber&&this.pauseQueue()):(0,E.h)(void 0===this.pauseSequenceNumber,661)}pauseQueue(){(0,E.h)(!this.localPaused,663),this.localPaused=!0,this.timePaused=C.S.now(),this.deltaManager.inbound.pause()}resumeQueue(e,t){const n=t.sequenceNumber,r=this.localPaused?C.S.now()-this.timePaused:void 0;this.batchCount++,this.batchCount%1e3==1&&this.logger.sendTelemetryEvent({eventName:"BatchStats",sequenceNumber:n,length:n-e+1,msnDistance:n-t.minimumSequenceNumber,duration:r,batchCount:this.batchCount,interrupted:this.localPaused}),this.localPaused&&(this.localPaused=!1,void 0!==r&&r>5e3&&this.logger.sendErrorEvent({eventName:"MaxBatchWaitTimeExceeded",duration:r,sequenceNumber:n,length:n-e}),this.deltaManager.inbound.resume())}trackPending(e){(0,E.h)(0!==this.deltaManager.inbound.length,664),(0,E.h)(void 0===this.currentBatchClientId==(void 0===this.pauseSequenceNumber),665);const t=e.metadata,n=null==t?void 0:t.batch;if(!fe(e))return(0,E.h)(void 0===this.currentBatchClientId,666),(0,E.h)(void 0===n,667),void(0,E.h)(!this.localPaused,668);if(void 0!==this.currentBatchClientId||void 0!==n){if((void 0!==this.currentBatchClientId||!1===n)&&this.currentBatchClientId!==e.clientId)throw new L("OpBatchIncomplete",Object.assign({runtimeVersion:Nn,batchClientId:this.currentBatchClientId},D(e)));n?((0,E.h)(void 0===this.currentBatchClientId,670),(0,E.h)(!this.localPaused,671),this.pauseSequenceNumber=e.sequenceNumber,this.currentBatchClientId=e.clientId,1===this.deltaManager.inbound.length&&this.pauseQueue()):!1===n?((0,E.h)(void 0!==this.pauseSequenceNumber,672),this.resumeQueue(this.pauseSequenceNumber,e),this.pauseSequenceNumber=void 0,this.currentBatchClientId=void 0):(0,E.h)(void 0!==this.currentBatchClientId,673)}else(0,E.h)(!this.localPaused,669)}}class Yr{constructor(e,t,n){this.deltaManager=e,this.emitter=t,this.logger=n,this.hitError=!1,this.deltaScheduler=new Cn(this.deltaManager,g.G2.create(this.logger,"DeltaScheduler")),new Zr(e,n)}beforeOpProcessing(e){var t;if(this.batchClientId!==e.clientId){(0,E.h)(void 0===this.batchClientId,674),this.emitter.emit("batchBegin",e),this.deltaScheduler.batchBegin(e);const n=null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.batch;this.batchClientId=n?e.clientId:void 0}}afterOpProcessing(e,t){var n;if((0,E.h)(!this.hitError,675),e)return this.hitError=!0,this.batchClientId=void 0,this.emitter.emit("batchEnd",e,t),void this.deltaScheduler.batchEnd(t);const r=null===(n=null==t?void 0:t.metadata)||void 0===n?void 0:n.batch;return void 0===this.batchClientId||!1===r?(this.batchClientId=void 0,this.emitter.emit("batchEnd",void 0,t),void this.deltaScheduler.batchEnd(t)):void 0}}const Jr="_scheduler";class Qr extends we.L{constructor(e,t,n,r,i,s,a,c,u,l,h,d,f,m){var v,y,b,w,S,_,x,C,k;void 0===m&&(m=Object.assign(Object.assign({},Gr),null===(v=a.summaryOptions)||void 0===v?void 0:v.summaryConfigOverrides)),super(),this.context=e,this.registry=t,this.runtimeOptions=a,this.containerScope=c,this.logger=u,this._storage=d,this.requestHandler=f,this.summaryConfiguration=m,this.defaultMaxConsecutiveReconnects=15,this._orderSequentiallyCalls=0,this.needsFlush=!1,this.flushTrigger=!1,this.savedOps=[],this.consecutiveReconnects=0,this._disposed=!1,this.emitDirtyDocumentEvent=!0,this.defaultTelemetrySignalSampleCount=100,this._perfSignalData={signalsLost:0,signalSequenceNumber:0,signalTimestamp:0,trackingSignalSequenceNumber:void 0},this.summarizeOnDemand=(...e)=>{if(this.clientDetails.type===cn)return this.summarizer.summarizeOnDemand(...e);if(void 0!==this.summaryManager)return this.summaryManager.summarizeOnDemand(...e);throw new I(`Can't summarize, disableSummaries: ${this.summariesDisabled}`)},this.enqueueSummarize=(...e)=>{if(this.clientDetails.type===cn)return this.summarizer.enqueueSummarize(...e);if(void 0!==this.summaryManager)return this.summaryManager.enqueueSummarize(...e);throw new I(`Can't summarize, disableSummaries: ${this.summariesDisabled}`)},this.messageAtLastSummary=null==n?void 0:n.message,this.disableIsolatedChannels=null!==(y=this.runtimeOptions.summaryOptions.disableIsolatedChannels)&&void 0!==y&&y,this._connected=this.context.connected,this.chunkMap=new Map(i),this.handleContext=new rn("",this),this.mc=(0,p.rZ)(g.G2.create(this.logger,"ContainerRuntime")),this.summariesDisabled=this.isSummariesDisabled(),this.heuristicsDisabled=this.isHeuristicsDisabled(),this.summarizerClientElectionEnabled=this.isSummarizerClientElectionEnabled(),this.maxOpsSinceLastSummary=this.getMaxOpsSinceLastSummary(),this.initialSummarizerDelayMs=this.getInitialSummarizerDelayMs(),this._aliasingEnabled=null!==(b=this.mc.config.getBoolean("Fluid.ContainerRuntime.UseDataStoreAliasing"))&&void 0!==b&&b||null!==(w=a.useDataStoreAliasing)&&void 0!==w&&w,this._maxOpSizeInBytes=null!==(S=this.mc.config.getNumber("Fluid.ContainerRuntime.MaxOpSizeInBytes"))&&void 0!==S?S:768e3,this.maxConsecutiveReconnects=null!==(_=this.mc.config.getNumber("Fluid.ContainerRuntime.MaxConsecutiveReconnects"))&&void 0!==_?_:this.defaultMaxConsecutiveReconnects,this._flushMode=a.flushMode;const A=e.pendingLocalState,N=null!==(x=null==A?void 0:A.baseSnapshot)&&void 0!==x?x:e.baseSnapshot;this.garbageCollector=or.create({runtime:this,gcOptions:this.runtimeOptions.gcOptions,baseSnapshot:N,baseLogger:this.mc.logger,existing:l,metadata:n,isSummarizerClient:this.context.clientDetails.type===cn,getNodePackagePath:async e=>this.getGCNodePackagePath(e),getLastSummaryTimestampMs:()=>{var e;return null===(e=this.messageAtLastSummary)||void 0===e?void 0:e.timestamp},readAndParseBlob:async e=>he(this.storage,e)});const T=this.deltaManager.initialSequenceNumber;if(this.summarizerNode=(0,Ht.G)(g.G2.create(this.logger,"SummarizerNode"),(async(e,t,n)=>this.summarizeInternal(e,t,n)),T,N?T:void 0,{canReuseHandle:!1,throwOnFailure:!0,gcDisabled:!this.garbageCollector.shouldRunGC}),N&&this.summarizerNode.loadBaseSummaryWithoutDifferential(N),this.dataStores=new Ir(Rr(N,n),this,(e=>this.submit(Hr.Attach,e)),((e,t)=>(n,r,i)=>this.summarizerNode.createChild(n,e,t,void 0,r,i)),(e=>this.summarizerNode.deleteChild(e)),this.mc.logger,(async()=>this.garbageCollector.getBaseGCDetails()),((e,t,n)=>this.garbageCollector.nodeUpdated(e,"Changed",t,n)),new Map(s),this.garbageCollector.writeDataAtRoot),this.blobManager=new Pn(this.handleContext,h,(()=>this.storage),(e=>this.submit(Hr.BlobAttach,void 0,void 0,{blobId:e})),(e=>this.garbageCollector.nodeUpdated(e,"Loaded")),this,this.logger),this.scheduleManager=new Yr(e.deltaManager,this,g.G2.create(this.logger,"ScheduleManager")),this.deltaSender=this.deltaManager,this.pendingStateManager=new An({applyStashedOp:this.applyStashedOp.bind(this),clientId:()=>this.clientId,close:this.closeFn,connected:()=>this.connected,flush:this.flush.bind(this),flushMode:()=>this.flushMode,reSubmit:this.reSubmit.bind(this),rollback:this.rollback.bind(this),setFlushMode:e=>this.setFlushMode(e)},this._flushMode,null==A?void 0:A.pending),this.context.quorum.on("removeMember",(e=>{this.clearPartialChunks(e)})),this.summaryCollection=new Dr(this.deltaManager,this.logger),this.dirtyContainer=this.context.attachState!==o.mB.Attached||this.pendingStateManager.hasPendingMessages(),this.context.updateDirtyContainerState(this.dirtyContainer),this.summariesDisabled)this.mc.logger.sendTelemetryEvent({eventName:"SummariesDisabled"});else{const e=g.G2.create(this.logger,"OrderedClientElection"),t=new jr(e,this.context.deltaManager,this.context.quorum),n=new Fr(e,t,null!=r?r:this.context.deltaManager.lastSequenceNumber,un.isClientEligible);if(this.summarizerClientElection=new un(e,this.summaryCollection,n,this.maxOpsSinceLastSummary,this.summarizerClientElectionEnabled),this.context.clientDetails.type===cn)this._summarizer=new _n("/_summarizer",this,(()=>this.summaryConfiguration),this,this.handleContext,this.summaryCollection,(async e=>qr.create(e)));else if(un.clientDetailsPermitElection(this.context.clientDetails)){const e=()=>{this.summaryCollection.opsSinceLastAck>this.maxOpsSinceLastSummary&&(this.logger.sendErrorEvent({eventName:"SummaryStatus:Behind"}),this.summaryCollection.once(Dt.SummaryAck,(()=>{this.logger.sendTelemetryEvent({eventName:"SummaryStatus:CaughtUp"}),this.summaryCollection.on("default",e)})),this.summaryCollection.off("default",e))};this.summaryCollection.on("default",e),this.summaryManager=new xn(this.summarizerClientElection,this,this.summaryCollection,this.logger,this.formRequestSummarizerFn(this.context.loader),new Br(6e4,3e4,(({multiplier:e=2,coefficient:t=1,offset:n=0,initialDelay:r}={})=>i=>Math.max(0,i<=0&&void 0!==r?r:t*Math.pow(e,i)+n))({coefficient:20,initialDelay:0})),{initialDelayMs:this.initialSummarizerDelayMs},this.heuristicsDisabled),this.summaryManager.start()}}let P;this.deltaManager.on("readonly",(e=>{(0,E.h)(e===this.deltaManager.readOnlyInfo.readonly,292),(0,E.h)(!e||!this.connected,293),this.replayPendingStates()})),u.sendTelemetryEvent(Object.assign({eventName:"DeviceSpec"},function(){try{if("object"==typeof navigator&&null!==navigator)return{deviceMemory:navigator.deviceMemory,hardwareConcurrency:navigator.hardwareConcurrency}}catch(e){}return{}}())),l?(this.createContainerMetadata={createContainerRuntimeVersion:null==n?void 0:n.createContainerRuntimeVersion,createContainerTimestamp:null==n?void 0:n.createContainerTimestamp},P=null!==(k=null!==(C=null==n?void 0:n.summaryNumber)&&void 0!==C?C:null==n?void 0:n.summaryCount)&&void 0!==k?k:0):(this.createContainerMetadata={createContainerRuntimeVersion:Nn,createContainerTimestamp:Date.now()},P=0),this.nextSummaryNumber=P+1,this.logger.sendTelemetryEvent(Object.assign(Object.assign(Object.assign({eventName:"ContainerLoadStats"},this.createContainerMetadata),this.dataStores.containerLoadStats),{summaryNumber:P,summaryFormatVersion:null==n?void 0:n.summaryFormatVersion,disableIsolatedChannels:null==n?void 0:n.disableIsolatedChannels,gcVersion:null==n?void 0:n.gcFeature})),function(e,t,n){new En(e,t,n)}(this.context.clientId,this.deltaManager,this.logger),((e,t,n=1e3,r=1e3)=>{new Ur(e,t,n,r)})(this,this.logger),this.opTracker=new $r(this.deltaManager,!0===this.mc.config.getBoolean("Fluid.ContainerRuntime.DisableOpTracking"))}get IContainerRuntime(){return this}get IFluidRouter(){return this}static async load(e,t,n,r={},i=e.scope,o){var s,a,c;const u=e,l=null!==(s=u.taggedLogger)&&void 0!==s?s:new g.cP(u.logger),h=g.G2.create(l,void 0,{all:{runtimeVersion:Nn}}),{summaryOptions:d={},gcOptions:f={},loadSequenceNumberVerification:p="close",useDataStoreAliasing:m=!1,flushMode:v=Wr,enableOfflineLoad:y=!1}=r,b=e.pendingLocalState,w=null!==(a=null==b?void 0:b.baseSnapshot)&&void 0!==a?a:e.baseSnapshot,S=b?new zr((()=>e.storage),b.snapshotBlobs):e.storage,_=new on(t),x=async e=>{const t=null==w?void 0:w.blobs[e];if(w&&t)return(0,E.h)(void 0!==S,501),he(S,t)},[C,k,A,N]=await Promise.all([x(fr),x(dr),x(pr),x(hr)]),T=!0===o||!0===e.existing,P=await Pn.load(null==w?void 0:w.trees[mr],(async e=>((0,E.h)(void 0!==S,598),he(S,e)))),O=null===(c=null==k?void 0:k.message)||void 0===c?void 0:c.sequenceNumber;if(!b&&void 0!==O){const t=e.deltaManager.initialSequenceNumber;if("bypass"!==p&&O!==t){const n=new L("Summary metadata mismatch",{runtimeVersion:Nn,runtimeSequenceNumber:O,protocolSequenceNumber:t});"log"===p?h.sendErrorEvent({eventName:"SequenceNumberMismatch"},n):e.closeFn(n)}}const I=new Qr(e,_,k,A,null!=C?C:[],null!=N?N:[],{summaryOptions:d,gcOptions:f,loadSequenceNumberVerification:p,useDataStoreAliasing:m,flushMode:v,enableOfflineLoad:y},i,h,T,P,S,n);return b&&(await I.processSavedOps(b),b.savedOps=[]),await I.getSnapshotBlobs(),I}get options(){return this.context.options}get clientId(){return this.context.clientId}get clientDetails(){return this.context.clientDetails}get deltaManager(){return this.context.deltaManager}get storage(){return this._storage}get reSubmitFn(){return this.reSubmit}get closeFn(){return this.context.closeFn}get flushMode(){return this._flushMode}get scope(){return this.containerScope}get IFluidDataStoreRegistry(){return this.registry}get attachState(){return this.context.attachState}get IFluidHandleContext(){return this.handleContext}get connected(){return this._connected}get summarizerClientId(){var e;return null===(e=this.summarizerClientElection)||void 0===e?void 0:e.electedClientId}get disposed(){return this._disposed}get summarizer(){return(0,E.h)(void 0!==this._summarizer,599),this._summarizer}isSummariesDisabled(){return!0===this.runtimeOptions.summaryOptions.disableSummaries||"disabled"===this.summaryConfiguration.state}isHeuristicsDisabled(){var e;return!0===(null===(e=this.runtimeOptions.summaryOptions.summarizerOptions)||void 0===e?void 0:e.disableHeuristics)||"disableHeuristics"===this.summaryConfiguration.state}isSummarizerClientElectionEnabled(){var e;return this.mc.config.getBoolean("Fluid.ContainerRuntime.summarizerClientElection")?null===(e=this.mc.config.getBoolean("Fluid.ContainerRuntime.summarizerClientElection"))||void 0===e||e:!0===this.runtimeOptions.summaryOptions.summarizerClientElection||"disabled"!==this.summaryConfiguration.state&&!0===this.summaryConfiguration.summarizerClientElection}getMaxOpsSinceLastSummary(){return void 0!==this.runtimeOptions.summaryOptions.maxOpsSinceLastSummary?this.runtimeOptions.summaryOptions.maxOpsSinceLastSummary:"disabled"!==this.summaryConfiguration.state?this.summaryConfiguration.maxOpsSinceLastSummary:0}getInitialSummarizerDelayMs(){return void 0!==this.runtimeOptions.summaryOptions.initialSummarizerDelayMs?this.runtimeOptions.summaryOptions.initialSummarizerDelayMs:"disabled"!==this.summaryConfiguration.state?this.summaryConfiguration.initialSummarizerDelayMs:0}dispose(e){var t;this._disposed||(this._disposed=!0,this.logger.sendTelemetryEvent({eventName:"ContainerRuntimeDisposed",isDirty:this.isDirty,lastSequenceNumber:this.deltaManager.lastSequenceNumber,attachState:this.attachState},e),void 0!==this.summaryManager&&this.summaryManager.dispose(),this.garbageCollector.dispose(),null===(t=this._summarizer)||void 0===t||t.dispose(),this.dataStores.dispose(),this.pendingStateManager.dispose(),this.emit("dispose"),this.removeAllListeners())}get IFluidTokenProvider(){var e;if(null===(e=this.options)||void 0===e?void 0:e.intelligence)return{intelligence:this.options.intelligence}}async request(e){try{const t=Gt.R.create(e);return"_summarizer"===t.pathParts[0]&&1===t.pathParts.length?void 0!==this._summarizer?{status:200,mimeType:"fluid/object",value:this.summarizer}:(0,Vt.I4)(e):void 0!==this.requestHandler?this.requestHandler(t,this):(0,Vt.I4)(e)}catch(e){return(0,Vt.Nj)(e)}}async resolveHandle(e){try{const t=Gt.R.create(e),n=t.pathParts[0];if("_channels"===n)return this.resolveHandle(t.createSubRequest(1));if(n===Pn.basePath&&t.isLeaf(2)){const n=await this.blobManager.getBlob(t.pathParts[1]);return n?{status:200,mimeType:"fluid/object",value:n.get()}:(0,Vt.I4)(e)}if(t.pathParts.length>0){const r=await this.getDataStoreFromRequest(n,e),i=t.createSubRequest(1);return(0,E.h)(i.url.startsWith("/"),294),r.IFluidRouter.request(i)}return(0,Vt.I4)(e)}catch(e){return(0,Vt.Nj)(e)}}internalId(e){var t;return null!==(t=this.dataStores.aliases().get(e))&&void 0!==t?t:e}async getDataStoreFromRequest(e,t){var n,r,i;const o="boolean"!=typeof(null===(n=t.headers)||void 0===n?void 0:n[Vr.wait])||(null===(r=t.headers)||void 0===r?void 0:r[Vr.wait]),s=this.internalId(e),a=await this.dataStores.getDataStore(s,o);if((null===(i=t.headers)||void 0===i?void 0:i[Vr.externalRequest])&&this.garbageCollector.shouldRunGC){const e=(await a.getBaseGCDetails()).usedRoutes;if(void 0!==e&&!e.includes("")&&!e.includes("/"))throw(0,Vt.fu)((0,Vt.I4)(t),t)}const c=await a.realize(),u=(0,Zt.aG)(t.url.split("?")[0]);return this.garbageCollector.nodeUpdated(`/${u}`,"Loaded",void 0,a.packagePath,null==t?void 0:t.headers),c}addMetadataToSummary(e){var t;const n=Object.assign(Object.assign(Object.assign(Object.assign({},this.createContainerMetadata),{summaryCount:this.nextSummaryNumber,summaryNumber:this.nextSummaryNumber++,summaryFormatVersion:1,disableIsolatedChannels:this.disableIsolatedChannels||void 0}),this.garbageCollector.getMetadata()),{message:null!==(r=this.deltaManager.lastMessage,t=void 0===r?void 0:{clientId:r.clientId,clientSequenceNumber:r.clientSequenceNumber,minimumSequenceNumber:r.minimumSequenceNumber,referenceSequenceNumber:r.referenceSequenceNumber,sequenceNumber:r.sequenceNumber,timestamp:r.timestamp,type:r.type})&&void 0!==t?t:this.messageAtLastSummary});var r;(0,Wt.Rt)(e,dr,JSON.stringify(n))}addContainerStateToSummary(e,t,n,r){var i;if(this.addMetadataToSummary(e),this.chunkMap.size>0){const t=JSON.stringify([...this.chunkMap]);(0,Wt.Rt)(e,fr,t)}const o=this.dataStores.aliases();if(o.size>0&&(0,Wt.Rt)(e,hr,JSON.stringify([...o])),this.summarizerClientElection){const t=JSON.stringify(null===(i=this.summarizerClientElection)||void 0===i?void 0:i.serialize());(0,Wt.Rt)(e,pr,t)}const s=this.blobManager.summarize();if(Object.keys(s.summary.tree).length>0&&(0,Wt.Jv)(e,mr,s),this.garbageCollector.writeDataAtRoot){const i=this.garbageCollector.summarize(t,n,r);void 0!==i&&(0,Wt.QA)(e,Yn,i)}}shouldContinueReconnecting(){return this.maxConsecutiveReconnects<=0||(this.pendingStateManager.hasPendingMessages()?(this.consecutiveReconnects===Math.floor(this.maxConsecutiveReconnects/2)&&this.mc.logger.sendTelemetryEvent({eventName:"ReconnectsWithNoProgress",attempts:this.consecutiveReconnects,pendingMessages:this.pendingStateManager.pendingMessagesCount}),this.consecutiveReconnects<this.maxConsecutiveReconnects):(this.resetReconnectCount(),!0))}resetReconnectCount(){this.consecutiveReconnects=0}replayPendingStates(){if(!this.canSendOps())return;const e=this.dirtyContainer;let t;this.dirtyContainer=!1,(0,E.h)(this.emitDirtyDocumentEvent,295),this.emitDirtyDocumentEvent=!1;try{this.pendingStateManager.replayPendingStates()}finally{t=this.dirtyContainer,this.dirtyContainer=e,this.emitDirtyDocumentEvent=!0}this.updateDocumentDirtyState(t)}async applyStashedOp(e,t){switch(e){case Hr.FluidDataStoreOp:return this.dataStores.applyStashedOp(t);case Hr.Attach:return this.dataStores.applyStashedAttachOp(t);case Hr.Alias:case Hr.BlobAttach:return;case Hr.ChunkedOp:throw new Error("chunkedOp not expected here");case Hr.Rejoin:throw new Error("rejoin not expected here");default:(0,k.U)(e,`Unknown ContainerMessageType: ${e}`)}}setConnectionState(e,t){this.verifyNotClosed();const n=this._connected!==e,r=n&&e;this._connected=e,e||(this._perfSignalData.signalsLost=0,this._perfSignalData.signalTimestamp=0,this._perfSignalData.trackingSignalSequenceNumber=void 0),!r||(this.consecutiveReconnects++,this.shouldContinueReconnecting())?(n&&this.replayPendingStates(),this.dataStores.setConnectionState(e,t),(0,Ne.Qq)(this.mc.logger,this,e,t)):this.closeFn(M.create("Runtime detected too many reconnects with no progress syncing local ops","setConnectionState",void 0,{dataLoss:1,attempts:this.consecutiveReconnects,pendingMessages:this.pendingStateManager.pendingMessagesCount}))}process(e,t){var n,r;if(this.verifyNotClosed(),!fe(e))return;(null!==(n=this.mc.config.getBoolean("enableOfflineLoad"))&&void 0!==n?n:this.runtimeOptions.enableOfflineLoad)&&this.savedOps.push(e);let i=Object.assign({},e);this.scheduleManager.beforeOpProcessing(i);try{let e;switch(i=function(e){if(e.type===Dt.Operation){if(void 0!==e.contents.address&&void 0===e.contents.type)e.type=Hr.FluidDataStoreOp;else{const t=e.contents;(0,E.h)(void 0!==t.type,289),e.type=t.type,e.contents=t.contents}(0,E.h)(fe(e),290)}return e}(i),i=this.processRemoteChunkedMessage(i),t&&i.type!==Hr.ChunkedOp&&(e=this.pendingStateManager.processPendingLocalMessage(i)),this.pendingStateManager.hasPendingMessages()||this.updateDocumentDirtyState(!1),i.type){case Hr.Attach:this.dataStores.processAttachMessage(i,t);break;case Hr.Alias:this.processAliasMessage(i,e,t);break;case Hr.FluidDataStoreOp:this.dataStores.processFluidDataStoreOp(i,t,e);break;case Hr.BlobAttach:(0,E.h)(null===(r=null==i?void 0:i.metadata)||void 0===r?void 0:r.blobId,298),this.blobManager.processBlobAttachOp(i.metadata.blobId,t)}this.emit("op",i),this.scheduleManager.afterOpProcessing(void 0,i),t&&this.resetReconnectCount()}catch(e){throw this.scheduleManager.afterOpProcessing(e,i),e}}processAliasMessage(e,t,n){this.dataStores.processAliasMessage(e,t,n)}sendSignalTelemetryEvent(e){const t=Date.now()-this._perfSignalData.signalTimestamp;this.logger.sendPerformanceEvent({eventName:"SignalLatency",duration:t,signalsLost:this._perfSignalData.signalsLost}),this._perfSignalData.signalsLost=0,this._perfSignalData.signalTimestamp=0}processSignal(e,t){const n=e.content,r={clientId:e.clientId,content:n.contents.content,type:n.contents.type};e.clientId===this.clientId&&this.connected&&(void 0!==this._perfSignalData.trackingSignalSequenceNumber&&n.clientSignalSequenceNumber>this._perfSignalData.trackingSignalSequenceNumber?(this._perfSignalData.signalsLost++,this._perfSignalData.trackingSignalSequenceNumber=void 0,this.logger.sendErrorEvent({eventName:"SignalLost",type:n.contents.type,signalsLost:this._perfSignalData.signalsLost,trackingSequenceNumber:this._perfSignalData.trackingSignalSequenceNumber,clientSignalSequenceNumber:n.clientSignalSequenceNumber})):n.clientSignalSequenceNumber===this._perfSignalData.trackingSignalSequenceNumber&&(this.sendSignalTelemetryEvent(n.clientSignalSequenceNumber),this._perfSignalData.trackingSignalSequenceNumber=void 0)),void 0!==n.address?this.dataStores.processSignal(n.address,r,t):this.emit("signal",r,t)}async getRootDataStore(e,t=!0){const n=this.internalId(e),r=await this.dataStores.getDataStore(n,t);return(0,E.h)(await r.isRoot(),299),r.realize()}setFlushMode(e){e!==this._flushMode&&(this.mc.logger.sendTelemetryEvent({eventName:"FlushMode Updated",old:this._flushMode,new:e}),e===Bt.FlushMode.Immediate&&this.flush(),this._flushMode=e,this.pendingStateManager.onFlushModeUpdated(e))}flush(){if((0,E.h)(0===this._orderSequentiallyCalls,588),this.deltaSender&&(this.pendingStateManager.onFlush(),this.needsFlush&&(this.needsFlush=!1,this.canSendOps())))return this.deltaSender.flush()}orderSequentially(e){if(this.flushMode===Bt.FlushMode.TurnBased)return void this.trackOrderSequentiallyCalls(e);const t=this.flushMode;this.setFlushMode(Bt.FlushMode.TurnBased);try{this.trackOrderSequentiallyCalls(e),this.flush()}finally{this.setFlushMode(t)}}trackOrderSequentiallyCalls(e){let t;this.mc.config.getBoolean("Fluid.ContainerRuntime.EnableRollback")&&(t=this.pendingStateManager.checkpoint());try{this._orderSequentiallyCalls++,e()}catch(e){throw t?t.rollback():this.closeFn(new P("orderSequentially callback exception",e)),e}finally{this._orderSequentiallyCalls--}}async createDataStore(e){const t=nn();return Nr(await this._createDataStore(e,!1,t),t,this,this.dataStores,this.mc.logger)}async createRootDataStoreLegacy(e,t){const n=await this._createDataStore(e,!0,t);return void 0!==n.makeVisibleAndAttachGraph?n.makeVisibleAndAttachGraph():n.bindToContext(),n}async createRootDataStore(e,t){if(t.includes("/"))throw new I(`Id cannot contain slashes: '${t}'`);return!0===this._aliasingEnabled?this.createAndAliasDataStore(e,t):this.createRootDataStoreLegacy(e,t)}async createAndAliasDataStore(e,t,n){const r=nn(),i=await this._createDataStore(e,!1,r,n),o=Nr(i,r,this,this.dataStores,this.mc.logger),s=await o.trySetAlias(t);if("Success"!==s)throw new P("dataStoreAliasFailure",void 0,{alias:{value:t,tag:g.XI.UserData},internalId:{value:r,tag:g.XI.PackageData},aliasResult:s});return o}createDetachedRootDataStore(e,t){if(t.includes("/"))throw new I(`Id cannot contain slashes: '${t}'`);return this.dataStores.createDetachedDataStoreCore(e,!0,t)}createDetachedDataStore(e){return this.dataStores.createDetachedDataStoreCore(e,!1)}async _createDataStoreWithPropsLegacy(e,t,n=nn(),r=!1){const i=await this.dataStores._createFluidDataStoreContext(Array.isArray(e)?e:[e],n,r,t).realize();return r&&(void 0!==i.makeVisibleAndAttachGraph?i.makeVisibleAndAttachGraph():i.bindToContext(),this.logger.sendTelemetryEvent({eventName:"Root datastore with props",hasProps:void 0!==t})),Nr(i,n,this,this.dataStores,this.mc.logger)}async _createDataStoreWithProps(e,t,n=nn(),r=!1){return!0===this._aliasingEnabled&&r?this.createAndAliasDataStore(e,n,t):this._createDataStoreWithPropsLegacy(e,t,n,r)}async _createDataStore(e,t,n=nn(),r){return this.dataStores._createFluidDataStoreContext(Array.isArray(e)?e:[e],n,t,r).realize()}canSendOps(){return this.connected&&!this.deltaManager.readOnlyInfo.readonly}getQuorum(){return this.context.quorum}getAudience(){return this.context.audience}get isDirty(){return this.dirtyContainer}isContainerMessageDirtyable(e,t){if(e===Hr.Attach){if(t.id===Jr)return!1}else if(e===Hr.FluidDataStoreOp&&t.address===Jr)return!1;return!0}createNewSignalEnvelope(e,t,n){const r=++this._perfSignalData.signalSequenceNumber,i={address:e,clientSignalSequenceNumber:r,contents:{type:t,content:n}};return r%this.defaultTelemetrySignalSampleCount==1&&void 0===this._perfSignalData.trackingSignalSequenceNumber&&(this._perfSignalData.signalTimestamp=Date.now(),this._perfSignalData.trackingSignalSequenceNumber=r),i}submitSignal(e,t){this.verifyNotClosed();const n=this.createNewSignalEnvelope(void 0,e,t);return this.context.submitSignalFn(n)}submitDataStoreSignal(e,t,n){const r=this.createNewSignalEnvelope(e,t,n);return this.context.submitSignalFn(r)}setAttachState(e){e===o.mB.Attaching?(0,E.h)(this.attachState===o.mB.Attaching,301):((0,E.h)(this.attachState===o.mB.Attached,302),this.emit("attached")),e!==o.mB.Attached||this.pendingStateManager.hasPendingMessages()||this.updateDocumentDirtyState(!1),this.dataStores.setAttachState(e)}createSummary(e,t){e&&this.blobManager.setRedirectTable(e);const n=this.dataStores.createSummary(t);return this.disableIsolatedChannels||br(n),this.addContainerStateToSummary(n,!0,!1,t),n.summary}async getAbsoluteUrl(e){if(void 0===this.context.getAbsoluteUrl)throw new Error("Driver does not implement getAbsoluteUrl");if(this.attachState===o.mB.Attached)return this.context.getAbsoluteUrl(e)}async summarizeInternal(e,t,n){const r=await this.dataStores.summarize(e,t,n);let i;return this.disableIsolatedChannels||(br(r),i=[Bt.channelsTreeName]),this.addContainerStateToSummary(r,e,t,n),Object.assign(Object.assign({},r),{id:"",pathPartsForChildren:i})}async summarize(e){this.verifyNotClosed();const{fullTree:t=!1,trackState:n=!0,summaryLogger:r=this.mc.logger,runGC:i=this.garbageCollector.shouldRunGC,runSweep:o,fullGC:s}=e;let a;i&&(a=await this.collectGarbage({logger:r,runSweep:o,fullGC:s}));const c=new Wt.TA,{stats:u,summary:l}=await this.summarizerNode.summarize(t,n,c);return this.logger.sendTelemetryEvent({eventName:"SummarizeTelemetry",details:c.serialize()}),(0,E.h)(l.type===Ft.Tree,303),{stats:u,summary:l,gcStats:a}}async updateStateBeforeGC(){return this.dataStores.updateStateBeforeGC()}async getGCData(e){const t=new Zt.iR,n=await this.dataStores.getGCData(e);t.addNodes(n.gcNodes);const r=this.blobManager.getGCData(e);return t.addNodes(r.gcNodes),t.getGCData()}updateUsedRoutes(e,t){this.summarizerNode.updateUsedRoutes([""]);const n=[];for(const t of e)t.split("/")[1]!==Pn.basePath&&n.push(t);return this.dataStores.updateUsedRoutes(n,t)}deleteUnusedRoutes(e){const t=[],n=[];for(const r of e)this.isBlobPath(r)?t.push(r):n.push(r);this.blobManager.deleteUnusedRoutes(t),this.dataStores.deleteUnusedRoutes(n)}getCurrentReferenceTimestampMs(){var e,t,n;return null!==(t=null===(e=this.deltaManager.lastMessage)||void 0===e?void 0:e.timestamp)&&void 0!==t?t:null===(n=this.messageAtLastSummary)||void 0===n?void 0:n.timestamp}getNodeType(e){var t;return this.isBlobPath(e)?er:null!==(t=this.dataStores.getGCNodeType(e))&&void 0!==t?t:"Other"}async getGCNodePackagePath(e){switch(this.getNodeType(e)){case er:return["_blobs"];case Qn:case Xn:return this.dataStores.getDataStorePackagePath(e);default:(0,E.h)(!1,734)}}isBlobPath(e){const t=e.split("/");return!(t.length<2||t[1]!==Pn.basePath)}async collectGarbage(e){return this.garbageCollector.collectGarbage(e)}addedGCOutboundReference(e,t){this.garbageCollector.addedOutboundReference(e.absolutePath,t.absolutePath)}async submitSummary(e){var t,n,r;const{fullTree:i,refreshLatestAck:o,summaryLogger:s}=e,a=this.nextSummaryNumber,c=g.G2.create(s,void 0,{all:{summaryNumber:a}});let u;if(o){const e=await this.refreshLatestSummaryAckFromServer(g.G2.create(c,void 0,{all:{safeSummary:!0}})),t=e.latestSnapshotRefSeq;u=e.latestSnapshotVersionId,t>this.deltaManager.lastSequenceNumber&&await g.Xr.timedExecAsync(c,{eventName:"WaitingForSeq",lastSequenceNumber:this.deltaManager.lastSequenceNumber,targetSequenceNumber:t,lastKnownSeqNumber:this.deltaManager.lastKnownSeqNumber},(async()=>Xr(this.deltaManager,t)),{start:!0,end:!0,cancel:"error"})}try{await this.deltaManager.inbound.pause();const o=this.deltaManager.lastSequenceNumber,s=this.deltaManager.minimumSequenceNumber,l=`Summary @${o}:${this.deltaManager.minimumSequenceNumber}`;o!==(null===(t=this.deltaManager.lastMessage)||void 0===t?void 0:t.sequenceNumber)&&c.sendErrorEvent({eventName:"LastSequenceMismatch",error:l}),this.summarizerNode.startSummary(o,c);const h=()=>e.cancellationToken.cancelled?{continue:!1,error:"disconnected"}:((0,E.h)(this.connected,600),this.deltaManager.lastSequenceNumber!==o?{continue:!1,error:`lastSequenceNumber changed before uploading to storage. ${this.deltaManager.lastSequenceNumber} !== ${o}`}:{continue:!0});let d=h();if(!d.continue)return{stage:"base",referenceSequenceNumber:o,minimumSequenceNumber:s,error:d.error};const f=zt.f.start();let p;const m=this.garbageCollector.summaryStateNeedsReset;try{p=await this.summarize({fullTree:i||m,trackState:!0,summaryLogger:c,runGC:this.garbageCollector.shouldRunGC})}catch(e){return{stage:"base",referenceSequenceNumber:o,minimumSequenceNumber:s,error:e}}const{summary:g,stats:v}=p;this.messageAtLastSummary=this.deltaManager.lastMessage;const y=this.disableIsolatedChannels?g:g.tree[Bt.channelsTreeName];(0,E.h)(y.type===Ft.Tree,508);const b=Object.values(y.tree).filter((e=>e.type===Ft.Handle)).length,w=g.tree[Yn]?(0,Wt.i6)(g.tree[Yn]):void 0,S=Object.assign({dataStoreCount:this.dataStores.size,summarizedDataStoreCount:this.dataStores.size-b,gcStateUpdatedDataStoreCount:null===(n=p.gcStats)||void 0===n?void 0:n.updatedDataStoreCount,gcBlobNodeCount:null==w?void 0:w.blobNodeCount,gcTotalBlobsSize:null==w?void 0:w.totalBlobSize,opsSizesSinceLastSummary:this.opTracker.opsSizeAccumulator,nonSystemOpsSinceLastSummary:this.opTracker.nonSystemOpCount,summaryNumber:a},v),_={referenceSequenceNumber:o,minimumSequenceNumber:s,summaryTree:g,summaryStats:S,generateDuration:f.trace().duration,forcedFullTree:m};if(d=h(),!d.continue)return Object.assign(Object.assign({stage:"generate"},_),{error:d.error});const x=this.summaryCollection.latestAck;let C,k;C=(null==x?void 0:x.summaryAck.contents.handle)!==u&&void 0!==u?{proposalHandle:void 0,ackHandle:u,referenceSequenceNumber:o}:void 0===x?{proposalHandle:void 0,ackHandle:null===(r=this.context.getLoadedFromVersion())||void 0===r?void 0:r.id,referenceSequenceNumber:o}:{proposalHandle:x.summaryOp.contents.handle,ackHandle:x.summaryAck.contents.handle,referenceSequenceNumber:o};try{k=await this.storage.uploadSummaryWithContext(p.summary,C)}catch(e){return Object.assign(Object.assign({stage:"generate"},_),{error:e})}const A=C.ackHandle,N={handle:k,head:A,message:l,parents:A?[A]:[]},T=Object.assign(Object.assign({},_),{handle:k,uploadDuration:f.trace().duration});if(d=h(),!d.continue)return Object.assign(Object.assign({stage:"upload"},T),{error:d.error});let P;try{P=this.submitSystemMessage(Dt.Summarize,N)}catch(e){return Object.assign(Object.assign({stage:"upload"},T),{error:e})}const O=Object.assign(Object.assign({stage:"submit"},T),{clientSequenceNumber:P,submitOpDuration:f.trace().duration});return this.summarizerNode.completeSummary(k),this.opTracker.reset(),O}finally{this.summarizerNode.clearSummary(),this.deltaManager.inbound.resume()}}processRemoteChunkedMessage(e){if(e.type!==Hr.ChunkedOp)return e;const t=e.clientId,n=e.contents;if(this.addChunk(t,n),n.chunkId===n.totalChunks){const r=Object.assign({},e),i=this.chunkMap.get(t).join("");return r.contents=JSON.parse(i),r.type=n.originalType,this.clearPartialChunks(t),r}return e}addChunk(e,t){let n=this.chunkMap.get(e);void 0===n&&(n=[],this.chunkMap.set(e,n)),(0,E.h)(t.chunkId===n.length+1,305),n.push(t.contents)}clearPartialChunks(e){this.chunkMap.has(e)&&this.chunkMap.delete(e)}updateDocumentDirtyState(e){this.dirtyContainer!==e&&(this.dirtyContainer=e,this.emitDirtyDocumentEvent&&(this.emit(e?"dirty":"saved"),this.context.updateDirtyContainerState(e)))}submitDataStoreOp(e,t,n=undefined){const r={address:e,contents:t};this.submit(Hr.FluidDataStoreOp,r,n)}submitDataStoreAliasOp(e,t){if(!Ar(e))throw new I("malformedDataStoreAliasMessage");this.submit(Hr.Alias,e,t)}async uploadBlob(e){return this.verifyNotClosed(),this.blobManager.createBlob(e)}submit(e,t,n=undefined,r=undefined){this.verifyNotClosed(),(0,E.h)(this.attachState!==o.mB.Detached,306);let i=-1,s=r;if(this.canSendOps()){const n=JSON.stringify(t),o=this.context.deltaManager.maxMessageSize;this.flushMode!==Bt.FlushMode.TurnBased||this.needsFlush||(s=Object.assign(Object.assign({},r),{batch:!0}),this.needsFlush=!0,this.flushTrigger||Promise.resolve().then((()=>{this.flushTrigger=!1,this.flush()}))),i=this.submitMaybeChunkedMessages(e,t,n,o,this._flushMode===Bt.FlushMode.TurnBased,s)}this.pendingStateManager.onSubmitMessage(e,i,this.deltaManager.lastSequenceNumber,t,n,s),this.isContainerMessageDirtyable(e,t)&&this.updateDocumentDirtyState(!0)}submitMaybeChunkedMessages(e,t,n,r,i,o=undefined){return this._maxOpSizeInBytes>=0?!n||n.length<=this._maxOpSizeInBytes?this.submitRuntimeMessage(e,t,i,o):(this.closeFn(new P("OpTooLarge",void 0,{length:{value:n.length,tag:g.XI.PackageData},limit:{value:this._maxOpSizeInBytes,tag:g.XI.PackageData}})),-1):!n||n.length<=r?this.submitRuntimeMessage(e,t,i,o):this.submitChunkedMessage(e,n,r)}submitChunkedMessage(e,t,n){const r=t.length,i=Math.floor((r-1)/n)+1;let o=0,s=0;for(let r=1;r<=i;r+=1){const a={chunkId:r,contents:t.substr(o,n),originalType:e,totalChunks:i};o+=n,s=this.submitRuntimeMessage(Hr.ChunkedOp,a,!1)}return s}submitSystemMessage(e,t){this.verifyNotClosed(),(0,E.h)(this.connected,307);const n=this.flushMode===Bt.FlushMode.TurnBased&&this.needsFlush;return n&&this.mc.logger.sendErrorEvent({eventName:"submitSystemMessageError",type:e}),this.context.submitFn(e,t,n)}submitRuntimeMessage(e,t,n,r){this.verifyNotClosed(),(0,E.h)(this.connected,601);const i={type:e,contents:t};return this.context.submitFn(Dt.Operation,i,n,r)}verifyNotClosed(){if(this._disposed)throw new Error("Runtime is closed")}reSubmit(e,t,n,r){switch(e){case Hr.FluidDataStoreOp:this.dataStores.resubmitDataStoreOp(t,n);break;case Hr.Attach:case Hr.Alias:this.submit(e,t,n);break;case Hr.ChunkedOp:throw new Error("chunkedOp not expected here");case Hr.BlobAttach:this.submit(e,t,n,r);break;case Hr.Rejoin:this.submit(e,t);break;default:(0,k.U)(e,`Unknown ContainerMessageType: ${e}`)}}rollback(e,t,n){if(e!==Hr.FluidDataStoreOp)throw new Error(`Can't rollback ${e}`);this.dataStores.rollbackDataStoreOp(t,n)}async refreshLatestSummaryAck(e,t,n,r){const i=async e=>he(this.storage,e),{snapshotTree:o}=await this.fetchSnapshotFromStorage(t,r,{eventName:"RefreshLatestSummaryGetSnapshot",ackHandle:t,summaryRefSeq:n,fetchLatest:!1}),s=await this.summarizerNode.refreshLatestSummary(e,n,(async()=>o),i,r);await this.garbageCollector.latestSummaryStateRefreshed(s,i)}async refreshLatestSummaryAckFromServer(e){const{snapshotTree:t,versionId:n}=await this.fetchSnapshotFromStorage(null,e,{eventName:"RefreshLatestSummaryGetSnapshot",fetchLatest:!0}),r=async e=>he(this.storage,e),i=await(0,Kt.G)(t,r),o=await this.summarizerNode.refreshLatestSummary(void 0,i,(async()=>t),r,e);return await this.garbageCollector.latestSummaryStateRefreshed(o,r),{latestSnapshotRefSeq:i,latestSnapshotVersionId:n}}async fetchSnapshotFromStorage(e,t,n){return g.Xr.timedExecAsync(t,n,(async t=>{const n={},r=zt.f.start(),i=await this.storage.getVersions(e,1);(0,E.h)(!!i&&!!i[0],311),n.getVersionDuration=r.trace().duration;const o=await this.storage.getSnapshotTree(i[0]);return(0,E.h)(!!o,312),n.getSnapshotDuration=r.trace().duration,t.end(n),{snapshotTree:o,versionId:i[0].id}}))}notifyAttaching(e){var t;(null!==(t=this.mc.config.getBoolean("enableOfflineLoad"))&&void 0!==t?t:this.runtimeOptions.enableOfflineLoad)&&(this.baseSnapshotBlobs=zr.serializeTreeWithBlobContents(e))}async getSnapshotBlobs(){var e;(null!==(e=this.mc.config.getBoolean("enableOfflineLoad"))&&void 0!==e?e:this.runtimeOptions.enableOfflineLoad)&&this.attachState===o.mB.Attached&&!this.context.pendingLocalState&&((0,E.h)(!!this.context.baseSnapshot,741),this.baseSnapshotBlobs=await zr.serializeTree(this.context.baseSnapshot,this.storage))}getPendingLocalState(){var e;if(!(null!==(e=this.mc.config.getBoolean("enableOfflineLoad"))&&void 0!==e?e:this.runtimeOptions.enableOfflineLoad))throw new I("can't get state when offline load disabled");const t=this.context.pendingLocalState;return t?{pending:this.pendingStateManager.getLocalState(),snapshotBlobs:t.snapshotBlobs,baseSnapshot:t.baseSnapshot,savedOps:this.savedOps}:((0,E.h)(!!this.context.baseSnapshot,742),(0,E.h)(!!this.baseSnapshotBlobs,743),{pending:this.pendingStateManager.getLocalState(),snapshotBlobs:this.baseSnapshotBlobs,baseSnapshot:this.context.baseSnapshot,savedOps:this.savedOps})}formRequestSummarizerFn(e){return async()=>{const t={headers:{[f.A.cache]:!1,[f.A.clientDetails]:{capabilities:{interactive:!1},type:cn},[Mt.summarizingClient]:!0,[f.A.reconnect]:!1},url:"/_summarizer"},n=(await(0,Vt.bb)(e,t)).ISummarizer;if(!n)throw new I("Fluid object does not implement ISummarizer");return n}}async processSavedOps(e){for(const t of e.savedOps)this.process(t,!1),await this.pendingStateManager.applyStashedOpsAt(t.sequenceNumber);await this.pendingStateManager.applyStashedOpsAt()}}const Xr=async(e,t)=>new Promise(((n,r)=>{e.on("closed",r);const i=r=>{r.sequenceNumber>=t&&(n(),e.off("op",i))};e.on("op",i)}));class ei{constructor(e,t){this.absolutePath=e,this.routeContext=t,this.isAttached=!0,(0,E.h)(e.startsWith("/"),413)}get IFluidRouter(){return this}get IFluidHandleContext(){return this}get IFluidHandle(){return this}async get(){if(void 0===this.objectP){const e={url:this.absolutePath,headers:{[Vr.viaHandle]:!0}};this.objectP=this.routeContext.resolveHandle(e).then((t=>{if("fluid/object"===t.mimeType)return t.value;throw(0,Vt.fu)(t,e)}))}return this.objectP}attachGraph(){}bind(e){e.attachGraph()}async request(e){try{const t=(await this.get()).IFluidRouter;return void 0!==t?t.request(e):(0,Vt.I4)(e)}catch(e){return(0,Vt.Nj)(e)}}}class ti{constructor(e,t){for(this.context=e,this.handleParsedCb=t,this.encodeValue=(e,t)=>{const n=null==e?void 0:e.IFluidHandle;return void 0!==n?this.serializeHandle(n,t):e},this.decodeValue=e=>{if((e=>"__fluid_handle__"===(null==e?void 0:e.type))(e)){const t=e.url.startsWith("/")?e.url:(0,Ut.H)(e.url,this.context),n=new ei(t,this.root);return this.handleParsedCb(n),n}return e},this.root=this.context;void 0!==this.root.routeContext;)this.root=this.root.routeContext}get IFluidSerializer(){return this}encode(e,t){return e&&"object"==typeof e?this.recursivelyReplace(e,this.encodeValue,t):e}decode(e){return e&&"object"==typeof e?this.recursivelyReplace(e,this.decodeValue):e}stringify(e,t){return JSON.stringify(e,((e,n)=>this.encodeValue(n,t)))}parse(e){return JSON.parse(e,((e,t)=>this.decodeValue(t)))}recursivelyReplace(e,t,n){const r=t(e,n);if(r!==e)return r;let i;for(const r of Object.keys(e)){const o=e[r];if(o&&"object"==typeof o){const s=this.recursivelyReplace(o,t,n);s!==o&&(i=null!=i?i:Array.isArray(e)?[...e]:Object.assign({},e),i[r]=s)}}return null!=i?i:e}serializeHandle(e,t){return t.bind(e),{type:"__fluid_handle__",url:e.absolutePath}}}class ni extends ln{get isAttached(){return this.value.isAttached()}constructor(e,t,n){super(e,t,n)}attachGraph(){this.value.bindToContext(),super.attachGraph()}}class ri extends ti{constructor(){super(...arguments),this.serializedRoutes=new Set}getSerializedRoutes(){return Array.from(this.serializedRoutes)}serializeHandle(e,t){return this.serializedRoutes.add(e.absolutePath),super.serializeHandle(e,t)}}class ii extends Ae.M{constructor(e,t,n){super(((e,t)=>this.eventListenerErrorHandler(e,t))),this.id=e,this.runtime=t,this.attributes=n,this._connected=!1,this._isBoundToContext=!1,(0,E.h)(!e.includes("/"),772),this.handle=new ni(this,e,t.IFluidHandleContext),this.logger=g.G2.create(t.logger,void 0,{all:{sharedObjectId:Lt(),ddsType:{value:this.attributes.type,tag:g.XI.CodeArtifact}}}),this.mc=(0,p.rZ)(this.logger),[this.opProcessingHelper,this.callbacksHelper]=this.setUpSampledTelemetryHelpers(),this.attachListeners()}get IFluidLoadable(){return this}get connected(){return this._connected}setUpSampledTelemetryHelpers(){var e,t;(0,E.h)(void 0!==this.mc&&void 0!==this.logger,"this.mc and/or this.logger has not been set");const n=new qt.E({eventName:"ddsOpProcessing",category:"performance"},this.logger,null!==(e=this.mc.config.getNumber("Fluid.SharedObject.OpProcessingTelemetrySampling"))&&void 0!==e?e:100,!0,new Map([["local",{localOp:!0}],["remote",{localOp:!1}]])),r=new qt.E({eventName:"ddsEventCallbacks",category:"performance"},this.logger,null!==(t=this.mc.config.getNumber("Fluid.SharedObject.DdsCallbacksTelemetrySampling"))&&void 0!==t?t:100,!0);return this.runtime.once("dispose",(()=>{this.callbacksHelper.dispose(),this.opProcessingHelper.dispose()})),[n,r]}closeWithError(e){void 0===this.closeError&&(this.closeError=e)}verifyNotClosed(){if(void 0!==this.closeError)throw this.closeError}eventListenerErrorHandler(e,t){const n=M.wrapIfUnrecognized(t,"SharedObjectEventListenerException");throw n.addTelemetryProperties({emittedEventName:String(e)}),this.closeWithError(n),n}attachListeners(){this.isAttached()||this.runtime.once("attaching",(()=>{this.didAttach()}))}async load(e){this.runtime.attachState!==o.mB.Detached&&(this.services=e),await this.loadCore(e.objectStorage),this.runtime.attachState!==o.mB.Detached&&this.attachDeltaHandler()}initializeLocal(){this.initializeLocalCore()}bindToContext(){this._isBoundToContext||(this._isBoundToContext=!0,this.runtime.bindChannel(this))}connect(e){this.services=e,this.attachDeltaHandler()}isAttached(){return void 0!==this.services&&this.runtime.attachState!==o.mB.Detached}handleDecoded(e){var t,n,r;this.isAttached()&&(null===(r=null===(t=this.services)||void 0===t?void 0:(n=t.deltaConnection).addedGCOutboundReference)||void 0===r||r.call(n,this.handle,e))}initializeLocalCore(){}didAttach(){}submitLocalMessage(e,t=undefined){this.verifyNotClosed(),this.isAttached()&&this.services.deltaConnection.submit(e,t)}dirty(){this.isAttached()&&this.services.deltaConnection.dirty()}onConnect(){}reSubmitCore(e,t){this.submitLocalMessage(e,t)}async newAckBasedPromise(e){let t;return new Promise(((n,r)=>{t=()=>r(new Error("FluidDataStoreRuntime disposed while this ack-based Promise was pending")),this.runtime.disposed?t():(this.runtime.on("dispose",t),e(n,r))})).finally((()=>{this.runtime.off("dispose",t)}))}attachDeltaHandler(){(0,E.h)(void 0!==this.services,122),this._isBoundToContext=!0,this.didAttach(),this.services.deltaConnection.attach({process:(e,t,n)=>{this.process(e,t,n)},setConnectionState:e=>{this.setConnectionState(e)},reSubmit:(e,t)=>{this.reSubmit(e,t)},applyStashedOp:e=>this.applyStashedOp(e),rollback:(e,t)=>{this.rollback(e,t)}}),this.setConnectionState(this.services.deltaConnection.connected)}setConnectionState(e){this._connected!==e&&(this._connected=e,e?this.onConnect():this.onDisconnect())}process(e,t,n){this.verifyNotClosed(),this.emitInternal("pre-op",e,t,this),this.opProcessingHelper.measure((()=>{this.processCore(e,t,n)}),t?"local":"remote"),this.emitInternal("op",e,t,this)}reSubmit(e,t){this.reSubmitCore(e,t)}rollback(e,t){throw new Error("rollback not supported")}emit(e,...t){return this.callbacksHelper.measure((()=>super.emit(e,...t)))}emitInternal(e,...t){return super.emit(e,...t)}}class oi extends ii{constructor(e,t,n,r){super(e,t,n),this.telemetryContextPrefix=r,this._isGCing=!1,this._serializer=new ti(this.runtime.channelsRoutingContext,(e=>this.handleDecoded(e)))}get serializer(){return(0,E.h)(!this._isGCing,117),this._serializer}getAttachSummary(e=!1,t=!1,n){const r=this.summarizeCore(this.serializer,n);return this.incrementTelemetryMetric(Bt.blobCountPropertyName,r.stats.blobNodeCount,n),this.incrementTelemetryMetric(Bt.totalBlobSizePropertyName,r.stats.totalBlobSize,n),r}async summarize(e=!1,t=!1,n){const r=this.summarizeCore(this.serializer,n);return this.incrementTelemetryMetric(Bt.blobCountPropertyName,r.stats.blobNodeCount,n),this.incrementTelemetryMetric(Bt.totalBlobSizePropertyName,r.stats.totalBlobSize,n),r}getGCData(e=!1){let t;(0,E.h)(!this._isGCing,120),this._isGCing=!0;try{const e=new ri(this.runtime.channelsRoutingContext,(e=>this.handleDecoded(e)));this.processGCDataCore(e),t={gcNodes:{"/":e.getSerializedRoutes()}},(0,E.h)(this._isGCing,121)}finally{this._isGCing=!1}return t}processGCDataCore(e){this.summarizeCore(e)}incrementTelemetryMetric(e,t,n){var r;const i=null!==(r=null==n?void 0:n.get(this.telemetryContextPrefix,e))&&void 0!==r?r:0;null==n||n.set(this.telemetryContextPrefix,e,i+t)}}var si;!function(e){e[e.Shared=0]="Shared",e[e.Plain=1]="Plain"}(si||(si={}));var ai=n(67425);function ci(e,t){return void 0!==e?t.parse(JSON.stringify(e)):e}function ui(e,t,n){const r=e.makeSerialized(t,n);return{type:r.type,value:r.value&&JSON.parse(r.value)}}class li{constructor(e){this.value=e}get type(){return si[si.Plain]}makeSerialized(e,t){const n=function(e,t,n){return void 0!==e?t.stringify(e,n):e}(this.value,e,t);return{type:this.type,value:n}}}class hi{constructor(e){this.serializer=e}fromSerializable(e){if(e.type===si[si.Shared]){e.type=si[si.Plain];const t={type:"__fluid_handle__",url:e.value};e.value=t}const t=ci(e.value,this.serializer);return new li(t)}fromInMemory(e){return new li(e)}}const di="1.3.6";var fi,pi;const mi=ai.posix,gi="header";class vi{get type(){return vi.Type}get attributes(){return vi.Attributes}async load(e,t,n,r){const i=new yi(t,e,r);return await i.load(n),i}create(e,t){const n=new yi(t,e,vi.Attributes);return n.initializeLocal(),n}}vi.Type="https://graph.microsoft.com/types/directory",vi.Attributes={type:vi.Type,snapshotFormatVersion:"0.1",packageVersion:di};class yi extends oi{constructor(e,t,n){super(e,t,n,"fluid_directory_"),this[fi]="SharedDirectory",this.root=new _i(this,this.runtime,this.serializer,mi.sep),this.messageHandlers=new Map,this.localValueMaker=new hi(this.serializer),this.setMessageHandlers(),this.root.on("containedValueChanged",((e,t)=>{this.emit("containedValueChanged",e,t,this)})),this.root.on("subDirectoryCreated",((e,t)=>{this.emit("subDirectoryCreated",e,t,this)})),this.root.on("subDirectoryDeleted",((e,t)=>{this.emit("subDirectoryDeleted",e,t,this)}))}static create(e,t){return e.createChannel(t,vi.Type)}static getFactory(){return new vi}get absolutePath(){return this.root.absolutePath}get(e){return this.root.get(e)}set(e,t){return this.root.set(e,t),this}dispose(e){this.root.dispose(e)}get disposed(){return this.root.disposed}delete(e){return this.root.delete(e)}clear(){this.root.clear()}has(e){return this.root.has(e)}get size(){return this.root.size}forEach(e){this.root.forEach(e)}[(fi=Symbol.toStringTag,Symbol.iterator)](){return this.root[Symbol.iterator]()}entries(){return this.root.entries()}countSubDirectory(){return this.root.countSubDirectory()}keys(){return this.root.keys()}values(){return this.root.values()}createSubDirectory(e){return this.root.createSubDirectory(e)}getSubDirectory(e){return this.root.getSubDirectory(e)}hasSubDirectory(e){return this.root.hasSubDirectory(e)}deleteSubDirectory(e){return this.root.deleteSubDirectory(e)}subdirectories(){return this.root.subdirectories()}getWorkingDirectory(e){const t=this.makeAbsolute(e);if(t===mi.sep)return this.root;let n=this.root;const r=t.substr(1).split(mi.sep);for(const e of r)if(n=n.getSubDirectory(e),!n)return;return n}summarizeCore(e,t){return this.serializeDirectory(this.root,e)}submitDirectoryMessage(e,t){this.submitLocalMessage(e,t)}onDisconnect(){}reSubmitCore(e,t){const n=e,r=this.messageHandlers.get(n.type);(0,E.h)(void 0!==r,13),r.submit(n,t)}async loadCore(e){const t=await he(e,gi),n=t;Array.isArray(n.blobs)?(this.populate(n.content),await Promise.all(n.blobs.map((async t=>{const n=await he(e,t);this.populate(n)})))):this.populate(t)}populate(e){const t=[];for(t.push([this.root,e]);t.length>0;){const[e,n]=t.pop();if(n.subdirectories)for(const[r,i]of Object.entries(n.subdirectories)){let n=e.getSubDirectory(r);n||(n=new _i(this,this.runtime,this.serializer,mi.join(e.absolutePath,r)),e.populateSubDirectory(r,n)),t.push([n,i])}if(n.storage)for(const[t,r]of Object.entries(n.storage)){const n=this.makeLocal(t,e.absolutePath,r);e.populateStorage(t,n)}}}processCore(e,t,n){if(e.type===Et.Operation){const r=e.contents,i=this.messageHandlers.get(r.type);(0,E.h)(void 0!==i,14),i.process(r,t,n)}}rollback(e,t){const n=e,r=this.getWorkingDirectory(n.path);r&&r.rollback(n,t)}makeAbsolute(e){return mi.resolve(mi.sep,e)}makeLocal(e,t,n){return(0,E.h)(n.type===si[si.Plain]||n.type===si[si.Shared],484),this.localValueMaker.fromSerializable(n)}setMessageHandlers(){this.messageHandlers.set("clear",{process:(e,t,n)=>{const r=this.getWorkingDirectory(e.path);r&&r.processClearMessage(e,t,n)},submit:(e,t)=>{const n=this.getWorkingDirectory(e.path);n&&n.resubmitClearMessage(e,t)}}),this.messageHandlers.set("delete",{process:(e,t,n)=>{const r=this.getWorkingDirectory(e.path);r&&r.processDeleteMessage(e,t,n)},submit:(e,t)=>{const n=this.getWorkingDirectory(e.path);n&&n.resubmitKeyMessage(e,t)}}),this.messageHandlers.set("set",{process:(e,t,n)=>{const r=this.getWorkingDirectory(e.path);if(r){const i=t?void 0:this.makeLocal(e.key,e.path,e.value);r.processSetMessage(e,i,t,n)}},submit:(e,t)=>{const n=this.getWorkingDirectory(e.path);n&&n.resubmitKeyMessage(e,t)}}),this.messageHandlers.set("createSubDirectory",{process:(e,t,n)=>{const r=this.getWorkingDirectory(e.path);r&&r.processCreateSubDirectoryMessage(e,t,n)},submit:(e,t)=>{const n=this.getWorkingDirectory(e.path);n&&n.resubmitSubDirectoryMessage(e,t)}}),this.messageHandlers.set("deleteSubDirectory",{process:(e,t,n)=>{const r=this.getWorkingDirectory(e.path);r&&r.processDeleteSubDirectoryMessage(e,t,n)},submit:(e,t)=>{const n=this.getWorkingDirectory(e.path);n&&n.resubmitSubDirectoryMessage(e,t)}})}applyStashedOp(){throw new Error("not implemented")}serializeDirectory(e,t,n){const r=new Wt.x1;let i=0;const o=[],s=[],a={};for(s.push([e,a]);s.length>0;){const[e,n]=s.pop();for(const[s,a]of e.getSerializedStorage(t)){n.storage||(n.storage={});const t={type:a.type,value:a.value&&JSON.parse(a.value)};if(a.value&&a.value.length>=8192){const n={};let a=n;if(e.absolutePath!==mi.sep)for(const t of e.absolutePath.substr(1).split(mi.sep)){const e={};a.subdirectories={[t]:e},a=e}a.storage={[s]:t};const c=`blob${i}`;i++,o.push(c),r.addBlob(c,JSON.stringify(n))}else n.storage[s]=t}for(const[t,r]of e.subdirectories()){n.subdirectories||(n.subdirectories={});const e={};n.subdirectories[t]=e,s.push([r,e])}}const c={blobs:o,content:a};return r.addBlob(gi,JSON.stringify(c)),r.getSummaryTree()}}function bi(e){return void 0!==e&&"number"==typeof e.pendingMessageId&&"edit"===e.type}function wi(e){return void 0!==e&&"clear"===e.type&&"number"==typeof e.pendingMessageId&&"object"==typeof e.previousStorage}function Si(e){return void 0!==e&&"number"==typeof e.pendingMessageId&&("createSubDir"===e.type&&"boolean"==typeof e.previouslyExisted||"deleteSubDir"===e.type)}class _i extends we.L{constructor(e,t,n,r){super(),this.directory=e,this.runtime=t,this.serializer=n,this.absolutePath=r,this._deleted=!1,this[pi]="SubDirectory",this._storage=new Map,this._subdirectories=new Map,this.pendingKeys=new Map,this.pendingSubDirectories=new Map,this.pendingMessageId=-1,this.pendingClearMessageIds=[]}dispose(e){this._deleted=!0,this.emit("disposed",this)}undispose(){this._deleted=!1}get disposed(){return this._deleted}throwIfDisposed(){if(this._deleted)throw new I("Cannot access Disposed subDirectory")}has(e){return this.throwIfDisposed(),this._storage.has(e)}get(e){var t;return this.throwIfDisposed(),null===(t=this._storage.get(e))||void 0===t?void 0:t.value}set(e,t){if(this.throwIfDisposed(),null==e)throw new Error("Undefined and null keys are not supported");const n=this.directory.localValueMaker.fromInMemory(t),r=ui(n,this.serializer,this.directory.handle),i=this.setCore(e,n,!0);if(!this.directory.isAttached())return this;const o={key:e,path:this.absolutePath,type:"set",value:r};return this.submitKeyMessage(o,i),this}countSubDirectory(){return this._subdirectories.size}createSubDirectory(e){if(this.throwIfDisposed(),null==e)throw new Error("SubDirectory name may not be undefined or null");if(e.includes(mi.sep))throw new Error(`SubDirectory name may not contain ${mi.sep}`);const t=this.createSubDirectoryCore(e,!0),n=this._subdirectories.get(e);if(!this.directory.isAttached())return n;const r={path:this.absolutePath,subdirName:e,type:"createSubDirectory"};return this.submitCreateSubDirectoryMessage(r,!t),n}getSubDirectory(e){return this.throwIfDisposed(),this._subdirectories.get(e)}hasSubDirectory(e){return this.throwIfDisposed(),this._subdirectories.has(e)}deleteSubDirectory(e){this.throwIfDisposed();const t=this.deleteSubDirectoryCore(e,!0);if(!this.directory.isAttached())return void 0!==t;const n={path:this.absolutePath,subdirName:e,type:"deleteSubDirectory"};return this.submitDeleteSubDirectoryMessage(n,t),void 0!==t}subdirectories(){return this.throwIfDisposed(),this._subdirectories.entries()}getWorkingDirectory(e){return this.throwIfDisposed(),this.directory.getWorkingDirectory(this.makeAbsolute(e))}delete(e){this.throwIfDisposed();const t=this.deleteCore(e,!0);if(!this.directory.isAttached())return void 0!==t;const n={key:e,path:this.absolutePath,type:"delete"};return this.submitKeyMessage(n,t),void 0!==t}clear(){if(this.throwIfDisposed(),!this.directory.isAttached())return void this.clearCore(!0);const e=new Map(this._storage);this.clearCore(!0);const t={path:this.absolutePath,type:"clear"};this.submitClearMessage(t,e)}forEach(e){this.throwIfDisposed(),this._storage.forEach(((t,n,r)=>{e(t.value,n,r)}))}get size(){return this.throwIfDisposed(),this._storage.size}entries(){this.throwIfDisposed();const e=this._storage.entries();return{next(){const t=e.next();return t.done?{value:void 0,done:!0}:{value:[t.value[0],t.value[1].value],done:!1}},[Symbol.iterator](){return this}}}keys(){return this.throwIfDisposed(),this._storage.keys()}values(){this.throwIfDisposed();const e=this._storage.values();return{next(){const t=e.next();return t.done?{value:void 0,done:!0}:{value:t.value.value,done:!1}},[Symbol.iterator](){return this}}}[(pi=Symbol.toStringTag,Symbol.iterator)](){return this.throwIfDisposed(),this.entries()}processClearMessage(e,t,n){if(this.throwIfDisposed(),t){(0,E.h)(wi(n),15);const e=this.pendingClearMessageIds.shift();(0,E.h)(e===n.pendingMessageId,810)}else this.clearExceptPendingKeys()}processDeleteMessage(e,t,n){this.throwIfDisposed(),this.needProcessStorageOperation(e,t,n)&&this.deleteCore(e.key,t)}processSetMessage(e,t,n,r){this.throwIfDisposed(),this.needProcessStorageOperation(e,n,r)&&this.setCore(e.key,t,n)}processCreateSubDirectoryMessage(e,t,n){this.throwIfDisposed(),this.needProcessSubDirectoryOperation(e,t,n)&&this.createSubDirectoryCore(e.subdirName,t)}processDeleteSubDirectoryMessage(e,t,n){this.throwIfDisposed(),this.needProcessSubDirectoryOperation(e,t,n)&&this.deleteSubDirectoryCore(e.subdirName,t)}submitClearMessage(e,t){this.throwIfDisposed();const n=++this.pendingMessageId;this.pendingClearMessageIds.push(n);const r={type:"clear",pendingMessageId:n,previousStorage:t};this.directory.submitDirectoryMessage(e,r)}resubmitClearMessage(e,t){(0,E.h)(wi(t),811);const n=this.pendingClearMessageIds.shift();(0,E.h)(n===t.pendingMessageId,812),this.submitClearMessage(e,t.previousStorage)}getKeyMessageId(e){const t=++this.pendingMessageId,n=this.pendingKeys.get(e.key);return void 0!==n?n.push(t):this.pendingKeys.set(e.key,[t]),t}submitKeyMessage(e,t){this.throwIfDisposed();const n={type:"edit",pendingMessageId:this.getKeyMessageId(e),previousValue:t};this.directory.submitDirectoryMessage(e,n)}resubmitKeyMessage(e,t){(0,E.h)(bi(t),813);const n=this.pendingKeys.get(e.key);(0,E.h)(void 0!==n&&n[0]===t.pendingMessageId,814),n.shift(),0===n.length&&this.pendingKeys.delete(e.key),this.submitKeyMessage(e,t.previousValue)}getSubDirMessageId(e){const t=++this.pendingMessageId,n=this.pendingSubDirectories.get(e.subdirName);return void 0!==n?n.push(t):this.pendingSubDirectories.set(e.subdirName,[t]),t}submitCreateSubDirectoryMessage(e,t){this.throwIfDisposed();const n={type:"createSubDir",pendingMessageId:this.getSubDirMessageId(e),previouslyExisted:t};this.directory.submitDirectoryMessage(e,n)}submitDeleteSubDirectoryMessage(e,t){this.throwIfDisposed();const n={type:"deleteSubDir",pendingMessageId:this.getSubDirMessageId(e),subDirectory:t};this.directory.submitDirectoryMessage(e,n)}resubmitSubDirectoryMessage(e,t){(0,E.h)(Si(t),815);const n=this.pendingSubDirectories.get(e.subdirName);(0,E.h)(void 0!==n&&n[0]===t.pendingMessageId,816),n.shift(),0===n.length&&this.pendingSubDirectories.delete(e.subdirName),"createSubDir"===t.type?this.submitCreateSubDirectoryMessage(e,t.previouslyExisted):this.submitDeleteSubDirectoryMessage(e,t.subDirectory)}*getSerializedStorage(e){this.throwIfDisposed();for(const[t,n]of this._storage){const r=[t,n.makeSerialized(e,this.directory.handle)];yield r}}populateStorage(e,t){this.throwIfDisposed(),this._storage.set(e,t)}populateSubDirectory(e,t){this.throwIfDisposed(),this._subdirectories.set(e,t)}getLocalValue(e){return this.throwIfDisposed(),this._storage.get(e)}rollbackPendingMessageId(e,t,n){const r=e.get(t),i=null==r?void 0:r.pop();if(!r||i!==n)throw new Error("Rollback op does not match last pending");0===r.length&&e.delete(t)}rollback(e,t){if(void 0===(n=t)||"number"!=typeof n.pendingMessageId||!("edit"===n.type||"deleteSubDir"===n.type||"clear"===n.type&&"object"==typeof n.previousStorage||"createSubDir"===n.type&&"boolean"==typeof n.previouslyExisted))throw new Error("Invalid localOpMetadata");var n;if("clear"===e.type&&"clear"===t.type){t.previousStorage.forEach(((e,t)=>{this.setCore(t,e,!0)}));const e=this.pendingClearMessageIds.pop();if(void 0===e||e!==t.pendingMessageId)throw new Error("Rollback op does match last clear")}else if("delete"!==e.type&&"set"!==e.type||"edit"!==t.type)if("createSubDirectory"===e.type&&"createSubDir"===t.type)t.previouslyExisted||this.deleteSubDirectoryCore(e.subdirName,!0),this.rollbackPendingMessageId(this.pendingSubDirectories,e.subdirName,t.pendingMessageId);else{if("deleteSubDirectory"!==e.type||"deleteSubDir"!==t.type)throw new Error("Unsupported op for rollback");void 0!==t.subDirectory&&(this.undeleteSubDirectoryTree(t.subDirectory),this._subdirectories.set(e.subdirName,t.subDirectory),this.emit("subDirectoryCreated",e.subdirName,!0,this)),this.rollbackPendingMessageId(this.pendingSubDirectories,e.subdirName,t.pendingMessageId)}else void 0===t.previousValue?this.deleteCore(e.key,!0):this.setCore(e.key,t.previousValue,!0),this.rollbackPendingMessageId(this.pendingKeys,e.key,t.pendingMessageId)}makeAbsolute(e){return mi.resolve(this.absolutePath,e)}needProcessStorageOperation(e,t,n){if(this.pendingClearMessageIds.length>0)return t&&(0,E.h)(void 0!==n&&bi(n)&&n.pendingMessageId<this.pendingClearMessageIds[0],16),!1;if(void 0!==this.pendingKeys.get(e.key)){if(t){(0,E.h)(void 0!==n&&bi(n),17);const t=this.pendingKeys.get(e.key);(0,E.h)(void 0!==t&&t[0]===n.pendingMessageId,817),t.shift(),0===t.length&&this.pendingKeys.delete(e.key)}return!1}return!t}needProcessSubDirectoryOperation(e,t,n){if(void 0!==this.pendingSubDirectories.get(e.subdirName)){if(t){(0,E.h)(Si(n),18);const t=this.pendingSubDirectories.get(e.subdirName);(0,E.h)(void 0!==t&&t[0]===n.pendingMessageId,818),t.shift(),0===t.length&&this.pendingSubDirectories.delete(e.subdirName)}return!1}return!t}clearExceptPendingKeys(){const e=new Map;this.pendingKeys.forEach(((t,n,r)=>{e.set(n,this._storage.get(n))})),this.clearCore(!1),e.forEach(((e,t,n)=>{this.setCore(t,e,!0)}))}clearCore(e){this._storage.clear(),this.directory.emit("clear",e,this.directory)}deleteCore(e,t){const n=this._storage.get(e),r=null==n?void 0:n.value;if(this._storage.delete(e)){const n={key:e,path:this.absolutePath,previousValue:r};this.directory.emit("valueChanged",n,t,this.directory);const i={key:e,previousValue:r};this.emit("containedValueChanged",i,t,this)}return n}setCore(e,t,n){const r=this._storage.get(e),i=null==r?void 0:r.value;this._storage.set(e,t);const o={key:e,path:this.absolutePath,previousValue:i};this.directory.emit("valueChanged",o,n,this.directory);const s={key:e,previousValue:i};return this.emit("containedValueChanged",s,n,this),r}createSubDirectoryCore(e,t){if(!this._subdirectories.has(e)){const n=mi.join(this.absolutePath,e),r=new _i(this.directory,this.runtime,this.serializer,n);return this.registerEventsOnSubDirectory(r,e),this._subdirectories.set(e,r),this.emit("subDirectoryCreated",e,t,this),!0}return!1}registerEventsOnSubDirectory(e,t){e.on("subDirectoryCreated",((e,n)=>{this.emit("subDirectoryCreated",mi.join(t,e),n,this)})),e.on("subDirectoryDeleted",((e,n)=>{this.emit("subDirectoryDeleted",mi.join(t,e),n,this)}))}deleteSubDirectoryCore(e,t){const n=this._subdirectories.get(e);return void 0!==n&&(this._subdirectories.delete(e),this.disposeSubDirectoryTree(n),this.emit("subDirectoryDeleted",e,t,this)),n}disposeSubDirectoryTree(e){if(!e)return;const t=e.subdirectories();for(const[e,n]of t)this.disposeSubDirectoryTree(n);"function"==typeof e.dispose&&e.dispose()}undeleteSubDirectoryTree(e){for(const[e,t]of this._subdirectories.entries())this.undeleteSubDirectoryTree(t);e.undispose()}}function xi(e){return void 0!==e&&"number"==typeof e.pendingMessageId&&("add"===e.type||"edit"===e.type)}function Ci(e){return void 0!==e&&"clear"===e.type&&"number"==typeof e.pendingMessageId}class Ei{constructor(e,t,n,r,i){this.serializer=e,this.handle=t,this.submitMessage=n,this.isAttached=r,this.eventEmitter=i,this.messageHandlers=new Map,this.data=new Map,this.pendingKeys=new Map,this.pendingMessageId=-1,this.pendingClearMessageIds=[],this.localValueMaker=new hi(e),this.messageHandlers=this.getMessageHandlers()}get size(){return this.data.size}keys(){return this.data.keys()}entries(){const e=this.data.entries();return{next(){const t=e.next();return t.done?{value:void 0,done:!0}:{value:[t.value[0],t.value[1].value],done:!1}},[Symbol.iterator](){return this}}}values(){const e=this.data.values();return{next(){const t=e.next();return t.done?{value:void 0,done:!0}:{value:t.value.value,done:!1}},[Symbol.iterator](){return this}}}[Symbol.iterator](){return this.entries()}forEach(e){this.data.forEach(((t,n,r)=>{e(t.value,n,r)}))}get(e){const t=this.data.get(e);return void 0===t?void 0:t.value}has(e){return this.data.has(e)}set(e,t){if(null==e)throw new Error("Undefined and null keys are not supported");const n=this.localValueMaker.fromInMemory(t),r=ui(n,this.serializer,this.handle),i=this.setCore(e,n,!0);if(!this.isAttached())return;const o={key:e,type:"set",value:r};this.submitMapKeyMessage(o,i)}delete(e){const t=this.deleteCore(e,!0);if(!this.isAttached())return void 0!==t;const n={key:e,type:"delete"};return this.submitMapKeyMessage(n,t),void 0!==t}clear(){const e=this.isAttached()?new Map(this.data):void 0;this.clearCore(!0),this.isAttached()&&this.submitMapClearMessage({type:"clear"},e)}getSerializedStorage(e){const t={};return this.data.forEach(((n,r)=>{t[r]=n.makeSerialized(e,this.handle)})),t}getSerializableStorage(e){const t={};return this.data.forEach(((n,r)=>{t[r]=ui(n,e,this.handle)})),t}serialize(e){return JSON.stringify(this.getSerializableStorage(e))}populateFromSerializable(e){for(const[t,n]of Object.entries(e)){const e={key:t,value:this.makeLocal(t,n)};this.data.set(e.key,e.value)}}populate(e){this.populateFromSerializable(JSON.parse(e))}trySubmitMessage(e,t){const n=this.messageHandlers.get(e.type);return void 0!==n&&(n.submit(e,t),!0)}tryGetStashedOpLocalMetadata(e){const t=this.messageHandlers.get(e.type);if(void 0===t)throw new Error("no apply stashed op handler");return t.getStashedOpLocalMetadata(e)}tryProcessMessage(e,t,n){const r=this.messageHandlers.get(e.type);return void 0!==r&&(r.process(e,t,n),!0)}rollback(e,t){if(void 0===(n=t)||"number"!=typeof n.pendingMessageId||"add"!==n.type&&"edit"!==n.type&&"clear"!==n.type)throw new Error("Invalid localOpMetadata");var n;if("clear"===e.type&&"clear"===t.type){if(void 0===t.previousMap)throw new Error("Cannot rollback without previous map");t.previousMap.forEach(((e,t)=>{this.setCore(t,e,!0)}));const e=this.pendingClearMessageIds.pop();if(void 0===e||e!==t.pendingMessageId)throw new Error("Rollback op does match last clear")}else{if("delete"!==e.type&&"set"!==e.type)throw new Error("Unsupported op for rollback");{if("add"===t.type)this.deleteCore(e.key,!0);else{if("edit"!==t.type||void 0===t.previousValue)throw new Error("Cannot rollback without previous value");this.setCore(e.key,t.previousValue,!0)}const n=this.pendingKeys.get(e.key),r=null==n?void 0:n.pop();if(!n||r!==t.pendingMessageId)throw new Error("Rollback op does not match last pending");0===n.length&&this.pendingKeys.delete(e.key)}}}setCore(e,t,n){const r=this.data.get(e),i=null==r?void 0:r.value;return this.data.set(e,t),this.eventEmitter.emit("valueChanged",{key:e,previousValue:i},n,this.eventEmitter),r}clearCore(e){this.data.clear(),this.eventEmitter.emit("clear",e,this.eventEmitter)}deleteCore(e,t){const n=this.data.get(e),r=null==n?void 0:n.value;return this.data.delete(e)&&this.eventEmitter.emit("valueChanged",{key:e,previousValue:r},t,this.eventEmitter),n}clearExceptPendingKeys(){const e=new Map;this.pendingKeys.forEach(((t,n)=>{e.set(n,this.data.get(n))})),this.clearCore(!1),e.forEach(((e,t)=>{this.setCore(t,e,!0)}))}makeLocal(e,t){if(t.type===si[si.Plain]||t.type===si[si.Shared])return this.localValueMaker.fromSerializable(t);throw new Error("Unknown local value type")}needProcessKeyOperation(e,t,n){if(this.pendingClearMessageIds.length>0)return t&&(0,E.h)(void 0!==n&&xi(n)&&n.pendingMessageId<this.pendingClearMessageIds[0],19),!1;if(void 0!==this.pendingKeys.get(e.key)){if(t){(0,E.h)(void 0!==n&&xi(n),20);const t=this.pendingKeys.get(e.key);(0,E.h)(void 0!==t&&t[0]===n.pendingMessageId,762),t.shift(),0===t.length&&this.pendingKeys.delete(e.key)}return!1}return!t}getMessageHandlers(){const e=new Map;return e.set("clear",{process:(e,t,n)=>{if(t){(0,E.h)(Ci(n),21);const e=this.pendingClearMessageIds.shift();(0,E.h)(e===n.pendingMessageId,763)}else 0===this.pendingKeys.size?this.clearCore(t):this.clearExceptPendingKeys()},submit:(e,t)=>{(0,E.h)(Ci(t),764);const n=this.pendingClearMessageIds.shift();(0,E.h)(n===t.pendingMessageId,765),this.submitMapClearMessage(e,t.previousMap)},getStashedOpLocalMetadata:e=>({type:"clear",pendingMessageId:this.getMapClearMessageId()})}),e.set("delete",{process:(e,t,n)=>{this.needProcessKeyOperation(e,t,n)&&this.deleteCore(e.key,t)},submit:(e,t)=>{this.resubmitMapKeyMessage(e,t)},getStashedOpLocalMetadata:e=>({type:"edit",pendingMessageId:this.getMapKeyMessageId(e)})}),e.set("set",{process:(e,t,n)=>{if(!this.needProcessKeyOperation(e,t,n))return;const r=this.makeLocal(e.key,e.value);this.setCore(e.key,r,t)},submit:(e,t)=>{this.resubmitMapKeyMessage(e,t)},getStashedOpLocalMetadata:e=>({type:"edit",pendingMessageId:this.getMapKeyMessageId(e)})}),e}getMapClearMessageId(){const e=++this.pendingMessageId;return this.pendingClearMessageIds.push(e),e}submitMapClearMessage(e,t){const n={type:"clear",pendingMessageId:this.getMapClearMessageId(),previousMap:t};this.submitMessage(e,n)}getMapKeyMessageId(e){const t=++this.pendingMessageId,n=this.pendingKeys.get(e.key);return void 0!==n?n.push(t):this.pendingKeys.set(e.key,[t]),t}submitMapKeyMessage(e,t){const n=this.getMapKeyMessageId(e),r=t?{type:"edit",pendingMessageId:n,previousValue:t}:{type:"add",pendingMessageId:n};this.submitMessage(e,r)}resubmitMapKeyMessage(e,t){(0,E.h)(xi(t),766);const n=this.pendingKeys.get(e.key);(0,E.h)(void 0!==n&&n[0]===t.pendingMessageId,767),n.shift(),0===n.length&&this.pendingKeys.delete(e.key);const r=this.getMapKeyMessageId(e),i="edit"===t.type?{type:"edit",pendingMessageId:r,previousValue:t.previousValue}:{type:"add",pendingMessageId:r};this.submitMessage(e,i)}}var ki;const Ai="header";class Ni{get type(){return Ni.Type}get attributes(){return Ni.Attributes}async load(e,t,n,r){const i=new Ti(t,e,r);return await i.load(n),i}create(e,t){const n=new Ti(t,e,Ni.Attributes);return n.initializeLocal(),n}}Ni.Type="https://graph.microsoft.com/types/map",Ni.Attributes={type:Ni.Type,snapshotFormatVersion:"0.2",packageVersion:di};class Ti extends oi{constructor(e,t,n){super(e,t,n,"fluid_map_"),this[ki]="SharedMap",this.kernel=new Ei(this.serializer,this.handle,((e,t)=>this.submitLocalMessage(e,t)),(()=>this.isAttached()),this)}static create(e,t){return e.createChannel(t,Ni.Type)}static getFactory(){return new Ni}keys(){return this.kernel.keys()}entries(){return this.kernel.entries()}values(){return this.kernel.values()}[(ki=Symbol.toStringTag,Symbol.iterator)](){return this.kernel.entries()}get size(){return this.kernel.size}forEach(e){this.kernel.forEach(e)}get(e){return this.kernel.get(e)}has(e){return this.kernel.has(e)}set(e,t){return this.kernel.set(e,t),this}delete(e){return this.kernel.delete(e)}clear(){this.kernel.clear()}summarizeCore(e,t){let n=0,r=0,i={};const o=[],s=new Wt.x1,a=this.kernel.getSerializedStorage(e);for(const e of Object.keys(a)){const t=a[e];if(t.value&&t.value.length>=8192){const n=`blob${r}`;r++,o.push(n);const i={[e]:{type:t.type,value:JSON.parse(t.value)}};s.addBlob(n,JSON.stringify(i))}else{if(n+=t.type.length+21,t.value&&(n+=t.value.length),n>16384){const e=`blob${r}`;r++,o.push(e),s.addBlob(e,JSON.stringify(i)),i={},n=0}i[e]={type:t.type,value:void 0===t.value?void 0:JSON.parse(t.value)}}}const c={blobs:o,content:i};return s.addBlob(Ai,JSON.stringify(c)),s.getSummaryTree()}async loadCore(e){const t=await he(e,Ai),n=t;Array.isArray(n.blobs)?(this.kernel.populateFromSerializable(n.content),await Promise.all(n.blobs.map((async t=>{const n=await he(e,t);this.kernel.populateFromSerializable(n)})))):this.kernel.populateFromSerializable(t)}onDisconnect(){}reSubmitCore(e,t){this.kernel.trySubmitMessage(e,t)}applyStashedOp(e){return this.kernel.tryProcessMessage(e,!1,void 0),this.kernel.tryGetStashedOpLocalMetadata(e)}processCore(e,t,n){e.type===Et.Operation&&this.kernel.tryProcessMessage(e.contents,t,n)}rollback(e,t){this.kernel.rollback(e,t)}}class Pi{constructor(e,t){this.absolutePath=e,this.runtime=t,this.isAttached=!0}get IFluidHandle(){return this}attachGraph(){(0,E.h)(!1,202)}async get(){const e=await this.runtime.IFluidHandleContext.resolveHandle({url:this.absolutePath});if(200===e.status&&"fluid/object"===e.mimeType)return e.value;throw new Error(`Failed to resolve container path ${this.absolutePath}`)}bind(e){throw new Error("Cannot bind to LegacyUriHandle")}}class Oi extends Ue._{constructor(e){super(),this._disposed=!1,this.runtime=e.runtime,this.context=e.context,this.providers=e.providers,this.initProps=e.initProps,(0,E.h)(void 0===this.runtime._dataObject,189),this.runtime._dataObject=this,this.innerHandle=new ln(this,"",this.runtime.objectsRoutingContext),this.runtime.once("dispose",(()=>{this._disposed=!0,this.dispose()}))}get disposed(){return this._disposed}get id(){return this.runtime.id}get IFluidRouter(){return this}get IFluidLoadable(){return this}get IFluidHandle(){return this.innerHandle}get handle(){return this.innerHandle}static async getDataObject(e){const t=e._dataObject;return(0,E.h)(void 0!==t,188),await t.finishInitialization(!0),t}async request(e){return function(e,t){return""===t.url||"/"===t.url||t.url.startsWith("/?")?{mimeType:"fluid/object",status:200,value:e}:(0,Vt.I4)(t)}(this,e)}async finishInitialization(e){return void 0!==this.initializeP||(this.initializeP=this.initializeInternal(e)),this.initializeP}async initializeInternal(e){var t;await this.preInitialize(),e?((0,E.h)(void 0===this.initProps,190),await this.initializingFromExisting()):await this.initializingFirstTime(null!==(t=this.context.createProps)&&void 0!==t?t:this.initProps),await this.hasInitialized()}async getFluidObjectFromDirectory(e,t,n){const r=n?n(e,t):t.get(e),i=null==r?void 0:r.IFluidHandle;if(i)return i.get()}async getService(e){return(t=`/_services/${e}`,n=this.context.containerRuntime,new Pi(t,n)).get();var t,n}async preInitialize(){}async initializingFirstTime(e){}async initializingFromExisting(){}async hasInitialized(){}dispose(){super.dispose()}}class Ii extends Oi{constructor(){super(...arguments),this.rootDirectoryId="root"}async request(e){const t=Gt.R.create(e);if("bigBlobs"===t.pathParts[0]){const e=this.root.get(t.pathParts.join("/"));return void 0===e?(0,Vt.I4)(t):{mimeType:"fluid/object",status:200,value:e}}return super.request(t)}get root(){if(!this.internalRoot)throw new Error(this.getUninitializedErrorString("root"));return this.internalRoot}async initializeInternal(e){e?(this.internalRoot=await this.runtime.getChannel(this.rootDirectoryId),this.internalRoot.attributes.type===Ni.Type&&this.runtime.logger.send({category:"generic",eventName:"MapDataObject",message:"Legacy document, SharedMap is masquerading as SharedDirectory in DataObject"})):(this.internalRoot=yi.create(this.runtime,this.rootDirectoryId),this.internalRoot.bindToContext()),await super.initializeInternal(e)}getUninitializedErrorString(e){return`${e} must be initialized before being accessed.`}}var Ri=n(94655);class Li{constructor(){this.handlers=[]}pushHandler(...e){void 0!==e&&this.handlers.push(...e)}async handleRequest(e,t){const n=Gt.R.create(e);for(const e of this.handlers){const r=await e(n,t);if(void 0!==r)return r}return(0,Vt.I4)(e)}}const Mi="IFluidDependencySynthesizer";class Di{constructor(...e){this.providers=new Map,this.parents=e.filter((e=>void 0!==e))}get IFluidDependencySynthesizer(){return this}register(e,t){if(this.providers.has(e))throw new Error(`Attempting to register a provider of type ${e} that already exists`);this.providers.set(e,t)}unregister(e){this.providers.has(e)&&this.providers.delete(e)}synthesize(e,t){const n={};return this.generateRequired(n,t),this.generateOptional(n,e),Object.defineProperty(n,Mi,{get:()=>this}),n}has(e,t){return!!this.providers.has(e)||!0!==t&&this.parents.some((t=>t.has(e)))}getProvider(e){if(this.has(e)){if(this.providers.has(e))return this.providers.get(e);for(const t of this.parents){if(t instanceof Di)return t.getProvider(e);{const n=t;if(void 0!==(null==n?void 0:n.getProvider))return n.getProvider(e)}}}}generateRequired(e,t){if(void 0!==t)for(const n of Object.keys(t)){const t=this.resolveProvider(n);if(void 0===t)throw new Error(`Object attempted to be created without registered required provider ${n}`);Object.defineProperty(e,n,t)}}generateOptional(e,t){var n;if(void 0!==t)for(const r of Object.keys(t)){const t=null!==(n=this.resolveProvider(r))&&void 0!==n?n:{get:async()=>{}};Object.defineProperty(e,r,t)}}resolveProvider(e){const t=this.providers.get(e);if(void 0!==t)return"function"==typeof t?{get(){if(t&&"function"==typeof t)return Promise.resolve(this[Mi]).then((async e=>t(e))).then((t=>null==t?void 0:t[e]))}}:{get(){if(t)return Promise.resolve(t).then((t=>{if(t)return t[e]}))}};for(const t of this.parents){const n={[e]:e},r=t.synthesize(n,{}),i=Object.getOwnPropertyDescriptor(r,e);if(void 0!==i)return i}}}var ji,Fi,Bi=n(15974);class qi extends Bi._{constructor(e,t,n=[],r){super(),this.registryEntries=e,this.dependencyContainer=t,this.requestHandlers=n,this.runtimeOptions=r,this.registry=new on(e)}get IFluidDataStoreRegistry(){return this.registry}async instantiateFirstTime(e){await this.containerInitializingFirstTime(e),await this.containerHasInitialized(e)}async instantiateFromExisting(e){await this.containerHasInitialized(e)}async preInitialize(e,t){const n=e.scope,r=new Di(this.dependencyContainer,n.IFluidDependencySynthesizer);n.IFluidDependencySynthesizer=r;const i=await Qr.load(e,this.registryEntries,function(...e){const t=new Li;return t.pushHandler(...e),async(e,n)=>t.handleRequest(e,n)}(...this.requestHandlers),this.runtimeOptions,n,t);return r.register(Ri.IContainerRuntime,i),i}async containerInitializingFirstTime(e){}async containerHasInitialized(e){}}!function(e){e.Tree=1,e.Blob=2,e.Handle=3,e.Attachment=4}(ji||(ji={}));var Ui=new Uint8Array(16);function zi(){if(!Fi&&!(Fi="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Fi(Ui)}const $i=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var Hi=[],Gi=0;Gi<256;++Gi)Hi.push((Gi+256).toString(16).substr(1));const Vi=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(Hi[e[t+0]]+Hi[e[t+1]]+Hi[e[t+2]]+Hi[e[t+3]]+"-"+Hi[e[t+4]]+Hi[e[t+5]]+"-"+Hi[e[t+6]]+Hi[e[t+7]]+"-"+Hi[e[t+8]]+Hi[e[t+9]]+"-"+Hi[e[t+10]]+Hi[e[t+11]]+Hi[e[t+12]]+Hi[e[t+13]]+Hi[e[t+14]]+Hi[e[t+15]]).toLowerCase();if(!function(e){return"string"==typeof e&&$i.test(e)}(n))throw TypeError("Stringified UUID is invalid");return n},Wi=function(e,t,n){var r=(e=e||{}).random||(e.rng||zi)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return Vi(r)};class Ki{constructor(e,t,n,r,i){this.objectId=e,this._connected=t,this.submit=n,this.dirty=r,this.addedGCOutboundReference=i}get handler(){return(0,E.h)(!!this._handler,375),this._handler}get connected(){return this._connected}attach(e){(0,E.h)(void 0===this._handler,376),this._handler=e}setConnectionState(e){this._connected=e,this.handler.setConnectionState(e)}process(e,t,n){try{this.handler.process(e,t,n)}catch(t){throw M.wrapIfUnrecognized(t,"channelDeltaConnectionFailedToProcessMessage",e)}}reSubmit(e,t){this.handler.reSubmit(e,t)}rollback(e,t){if(void 0===this.handler.rollback)throw new Error("Handler doesn't support rollback");this.handler.rollback(e,t)}applyStashedOp(e){return this.handler.applyStashedOp(e)}}var Zi=n(1792);class Yi{constructor(e,t,n,r){this.tree=e,this.storage=t,this.logger=n,this.extraBlobs=r,this.flattenedTree={},void 0!==e&&Yi.flattenTree("",e,this.flattenedTree)}static flattenTree(e,t,n){for(const r in t.trees)Yi.flattenTree(`${e}${r}/`,t.trees[r],n);for(const r in t.blobs)n[`${e}${r}`]=t.blobs[r]}async contains(e){return void 0!==this.flattenedTree[e]}async readBlob(e){const t=await this.getIdForPath(e),n=void 0!==this.extraBlobs?this.extraBlobs.get(t):void 0;if(void 0!==n)return n;const r=this.storage.readBlob(t);return r.catch((e=>this.logger.sendErrorEvent({eventName:"ChannelStorageBlobError"},e))),r}async list(e){var t;let n=this.tree;const r=(0,Zi.g)(e);for(;void 0!==n&&r.length>0;){const e=r.shift();n=n.trees[e]}if(void 0===n||0!==r.length)throw new Error("path does not exist");return Object.keys(null!==(t=null==n?void 0:n.blobs)&&void 0!==t?t:{})}async getIdForPath(e){return this.flattenedTree[e]}}const Ji=".attributes";function Qi(e,t,n,r,i,o,s,a,c){return{deltaConnection:new Ki(e,t,((e,t)=>n(e,t)),r,i),objectStorage:new Yi(a,o,s,c)}}function Xi(e,t=!1,n=!1,r){const i=e.getAttachSummary(t,n,r);return(0,Wt.Rt)(i,Ji,JSON.stringify(e.attributes)),i}async function eo(e,t=!1,n=!1,r){const i=await e.summarize(t,n,r);return(0,Wt.Rt)(i,Ji,JSON.stringify(e.attributes)),i}class to{constructor(e,t,n,r){this.id=e,this.registry=t,this.runtime=n,this.servicesGetter=r,this.globallyVisible=!1,this.pending=[],(0,E.h)(!this.id.includes("/"),783)}async getChannel(){return(0,E.h)(void 0!==this.channel,519),this.channel}get isLoaded(){return void 0!==this.channel}setConnectionState(e,t){this.globallyVisible&&this.isLoaded&&this.servicesGetter().value.deltaConnection.setConnectionState(e)}processOp(e,t,n){(0,E.h)(this.globallyVisible,723),this.isLoaded?this.servicesGetter().value.deltaConnection.process(e,t,n):((0,E.h)(!1===t,393),this.pending.push(e))}reSubmit(e,t){(0,E.h)(this.isLoaded,394),(0,E.h)(this.globallyVisible,724),this.servicesGetter().value.deltaConnection.reSubmit(e,t)}rollback(e,t){(0,E.h)(this.isLoaded,750),(0,E.h)(this.globallyVisible,751),this.servicesGetter().value.deltaConnection.rollback(e,t)}applyStashedOp(){throw new Error("no stashed ops on local channel")}async summarize(e=!1,t=!1,n){return(0,E.h)(this.isLoaded&&void 0!==this.channel,396),eo(this.channel,e,t,n)}getAttachSummary(e){return(0,E.h)(this.isLoaded&&void 0!==this.channel,397),Xi(this.channel,!0,!1,e)}makeVisible(){if(this.globallyVisible)throw new Error("Channel is already globally visible");this.isLoaded&&((0,E.h)(!!this.channel,402),this.channel.connect(this.servicesGetter().value)),this.globallyVisible=!0}async getGCData(e=!1){return(0,E.h)(this.isLoaded&&void 0!==this.channel,403),this.channel.getGCData(e)}updateUsedRoutes(e,t){}}class no extends to{constructor(e,t,n,r,i,o,s,a,c,u){super(e,t,n,(()=>this.services)),this.snapshotTree=u;const l=new Map,h=be()(this.snapshotTree);this.isSnapshotInOldFormatAndCollectBlobs(h,l)&&this.sanitizeSnapshot(h),this.services=new kn.o((()=>Qi(this.id,r.connected,s,this.dirtyFn,c,i,o,h,l))),this.dirtyFn=()=>{a(e)}}async getChannel(){return void 0===this.channel&&(this.channel=await this.loadChannel().catch((e=>{throw M.wrapIfUnrecognized(e,"rehydratedLocalChannelContextFailedToLoadChannel",void 0)}))),this.channel}async loadChannel(){(0,E.h)(!this.isLoaded,398),(0,E.h)(await this.services.value.objectStorage.contains(".attributes"),400);const e=await he(this.services.value.objectStorage,".attributes");if((0,E.h)(void 0===this.factory,520),this.factory=this.registry.get(e.type),void 0===this.factory)throw new Error(`Channel Factory ${e.type} not registered`);const t=await this.factory.load(this.runtime,this.id,this.services.value,e);this.channel=t;for(const e of this.pending)this.services.value.deltaConnection.process(e,!1,void 0);return this.channel}isSnapshotInOldFormatAndCollectBlobs(e,t){let n=!1;const r=e.blobsContents;Object.entries(r).forEach((([r,i])=>{t.set(r,i),void 0!==e.blobs[r]&&(n=!0)}));for(const r of Object.values(e.trees))n=n||this.isSnapshotInOldFormatAndCollectBlobs(r,t);return n}sanitizeSnapshot(e){const t=new Map(Object.entries(e.blobs));for(const[n,r]of t.entries())void 0===t.get(r)&&delete e.blobs[n];for(const t of Object.values(e.trees))this.sanitizeSnapshot(t)}}class ro extends to{constructor(e,t,n,r,i,o,s,a,c,u){if(super(e,t,r,(()=>this.services)),(0,E.h)(void 0!==n,521),this.factory=t.get(n),void 0===this.factory)throw new Error(`Channel Factory ${n} not registered`);this.channel=this.factory.create(r,e),this.services=new kn.o((()=>Qi(this.id,i.connected,a,this.dirtyFn,u,o,s))),this.dirtyFn=()=>{c(e)}}}class io{constructor(e,t,n,r,i,o,s,a,c,u,l,h,d){this.runtime=e,this.dataStoreContext=t,this.id=s,this.registry=c,this.attachMessageType=d,this.isLoaded=!1,this.pending=[],(0,E.h)(!this.id.includes("/"),784),this.subLogger=g.G2.create(this.runtime.logger,"RemoteChannelContext"),this.services=Qi(this.id,this.dataStoreContext.connected,r,(()=>i(this.id)),o,n,this.subLogger,a,u),this.summarizerNode=l((async(e,t,n)=>this.summarizeInternal(e,t,n)),(async e=>this.getGCDataInternal(e)),(async()=>h())),this.thresholdOpsCounter=new Wn.z(io.pendingOpsCountThreshold,this.subLogger)}getChannel(){return void 0===this.channelP&&(this.channelP=this.loadChannel()),this.channelP}setConnectionState(e,t){this.isLoaded&&this.services.deltaConnection.setConnectionState(e)}applyStashedOp(e){return(0,E.h)(this.isLoaded,404),this.services.deltaConnection.applyStashedOp(e)}processOp(e,t,n){this.summarizerNode.invalidate(e.sequenceNumber),this.isLoaded?this.services.deltaConnection.process(e,t,n):((0,E.h)(!t,405),(0,E.h)(void 0!==this.pending,574),this.pending.push(e),this.thresholdOpsCounter.sendIfMultiple("StorePendingOps",this.pending.length))}reSubmit(e,t){(0,E.h)(this.isLoaded,406),this.services.deltaConnection.reSubmit(e,t)}rollback(e,t){(0,E.h)(this.isLoaded,752),this.services.deltaConnection.rollback(e,t)}async summarize(e=!1,t=!0,n){return this.summarizerNode.summarize(e,t,n)}async summarizeInternal(e,t,n){const r=await this.getChannel(),i=await eo(r,e,t,n);return Object.assign(Object.assign({},i),{id:this.id})}async loadChannel(){let e,t;if((0,E.h)(!this.isLoaded,407),await this.services.objectStorage.contains(Ji)&&(e=await he(this.services.objectStorage,Ji)),void 0===e){if(void 0===this.attachMessageType)throw new L("channelTypeNotAvailable",{channelId:{value:this.id,tag:g.XI.PackageData},dataStoreId:{value:this.dataStoreContext.id,tag:g.XI.PackageData},dataStorePackagePath:this.dataStoreContext.packagePath.join("/")});if(t=this.registry.get(this.attachMessageType),void 0===t)throw new L("channelFactoryNotRegisteredForAttachMessageType",{channelId:{value:this.id,tag:g.XI.PackageData},dataStoreId:{value:this.dataStoreContext.id,tag:g.XI.PackageData},dataStorePackagePath:this.dataStoreContext.packagePath.join("/"),channelFactoryType:this.attachMessageType});e=t.attributes}else if(t=this.registry.get(e.type),void 0===t)throw new L("channelFactoryNotRegisteredForGivenType",{channelId:{value:this.id,tag:g.XI.PackageData},dataStoreId:{value:this.dataStoreContext.id,tag:g.XI.PackageData},dataStorePackagePath:this.dataStoreContext.packagePath.join("/"),channelFactoryType:e.type});void 0!==e.snapshotFormatVersion&&e.snapshotFormatVersion!==t.attributes.snapshotFormatVersion&&this.subLogger.sendTelemetryEvent({eventName:"ChannelAttributesVersionMismatch",channelType:{value:e.type,tag:g.XI.PackageData},channelSnapshotVersion:{value:`${e.snapshotFormatVersion}@${e.packageVersion}`,tag:g.XI.PackageData},channelCodeVersion:{value:`${t.attributes.snapshotFormatVersion}@${t.attributes.packageVersion}`,tag:g.XI.PackageData}});const n=await t.load(this.runtime,this.id,this.services,e);(0,E.h)(void 0!==this.pending,575);for(const e of this.pending)this.services.deltaConnection.process(e,!1,void 0);return this.thresholdOpsCounter.send("ProcessPendingOps",this.pending.length),this.channel=n,this.pending=void 0,this.isLoaded=!0,this.services.deltaConnection.setConnectionState(this.dataStoreContext.connected),this.channel}async getGCData(e=!1){return this.summarizerNode.getGCData(e)}async getGCDataInternal(e=!1){return(await this.getChannel()).getGCData(e)}updateUsedRoutes(e,t){this.summarizerNode.updateUsedRoutes([""])}}var oo;io.pendingOpsCountThreshold=1e3,function(e){e.Attach="attach",e.ChannelOp="op"}(oo||(oo={}));class so extends we.L{constructor(e,t,n){super(),this.dataStoreContext=e,this.sharedObjectRegistry=t,this._disposed=!1,this.contexts=new Map,this.contextsDeferred=new Map,this.pendingAttach=new Map,this.deferredAttached=new Ie.B,this.localChannelContextQueue=new Map,this.notBoundedChannelContextSet=new Set,this.pendingHandlesToMakeVisible=new Set,(0,E.h)(!e.id.includes("/"),782),this.logger=g.G2.create(e.logger,"FluidDataStoreRuntime",{all:{dataStoreId:Wi()}}),this.id=e.id,this.options=e.options,this.deltaManager=e.deltaManager,this.quorum=e.getQuorum(),this.audience=e.getAudience();const r=e.baseSnapshot;this.channelsBaseGCDetails=new Ie.d((async()=>{var e,t,n;const r=await(null!==(n=null===(t=(e=this.dataStoreContext).getBaseGCDetails)||void 0===t?void 0:t.call(e))&&void 0!==n?n:this.dataStoreContext.getInitialGCSummaryDetails());return(0,Zt.$I)(r)})),void 0!==(null==r?void 0:r.trees)&&Object.keys(r.trees).forEach((t=>{if("_search"===t)return;let n;e.isLocalDataStore?(n=new no(t,this.sharedObjectRegistry,this,this.dataStoreContext,this.dataStoreContext.storage,this.logger,((e,n)=>this.submitChannelOp(t,e,n)),(e=>this.setChannelDirty(e)),((e,t)=>this.addedGCOutboundReference(e,t)),r.trees[t]),e.attachState!==o.mB.Detached?n.makeVisible():this.localChannelContextQueue.set(t,n)):n=new io(this,e,e.storage,((e,n)=>this.submitChannelOp(t,e,n)),(e=>this.setChannelDirty(e)),((e,t)=>this.addedGCOutboundReference(e,t)),t,r.trees[t],this.sharedObjectRegistry,void 0,this.dataStoreContext.getCreateChildSummarizerNodeFn(t,{type:Bt.CreateSummarizerNodeSource.FromSummary}),(async()=>this.getChannelBaseGCDetails(t)));const i=new Ie.B;i.resolve(n),this.contexts.set(t,n),this.contextsDeferred.set(t,i)})),this.attachListener(),this.bindState=n?o.xU.Bound:o.xU.NotBound,this._attachState=e.attachState,this.visibilityState=n?e.attachState===o.mB.Detached?Bt.VisibilityState.LocallyVisible:Bt.VisibilityState.GloballyVisible:Bt.VisibilityState.NotVisible,n&&this.deferredAttached.resolve()}static load(e,t,n){return new so(e,t,n)}get IFluidRouter(){return this}get connected(){return this.dataStoreContext.connected}get clientId(){return this.dataStoreContext.clientId}get clientDetails(){return this.dataStoreContext.clientDetails}get isAttached(){return this.attachState!==o.mB.Detached}get attachState(){return this._attachState}get absolutePath(){return(0,Ut.H)(this.id,this.routeContext)}get routeContext(){return this.dataStoreContext.IFluidHandleContext}get IFluidHandleContext(){return this}get rootRoutingContext(){return this}get channelsRoutingContext(){return this}get objectsRoutingContext(){return this}get disposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this.emit("dispose"),this.removeAllListeners())}async resolveHandle(e){return this.request(e)}async request(e){try{const t=Gt.R.create(e),n=t.pathParts[0];if("_channels"===n||"_custom"===n)return this.request(t.createSubRequest(1));if(this.contextsDeferred.has(n)&&t.isLeaf(1))try{const e=await this.contextsDeferred.get(n).promise;return{mimeType:"fluid/object",status:200,value:await e.getChannel()}}catch(t){return this.logger.sendErrorEvent({eventName:"GetChannelFailedInRequest"},t),(0,Vt.Ys)(500,`Failed to get Channel: ${t}`,e)}return(0,Vt.I4)(e)}catch(e){return(0,Vt.Nj)(e)}}async getChannel(e){this.verifyNotClosed(),this.contextsDeferred.has(e)||this.contextsDeferred.set(e,new Ie.B);const t=await this.contextsDeferred.get(e).promise;return await t.getChannel()}createChannel(e=Wi(),t){if(e.includes("/"))throw new I(`Id cannot contain slashes: ${e}`);this.verifyNotClosed(),(0,E.h)(!this.contexts.has(e),377),this.notBoundedChannelContextSet.add(e);const n=new ro(e,this.sharedObjectRegistry,t,this,this.dataStoreContext,this.dataStoreContext.storage,this.logger,((t,n)=>this.submitChannelOp(e,t,n)),(e=>this.setChannelDirty(e)),((e,t)=>this.addedGCOutboundReference(e,t)));if(this.contexts.set(e,n),this.contextsDeferred.has(e))this.contextsDeferred.get(e).resolve(n);else{const t=new Ie.B;t.resolve(n),this.contextsDeferred.set(e,t)}return(0,E.h)(!!n.channel,378),n.channel}bindChannel(e){(0,E.h)(this.notBoundedChannelContextSet.has(e.id),379),this.notBoundedChannelContextSet.delete(e.id),this.isAttached?this.attachChannel(e):this.pendingHandlesToMakeVisible.has(e.handle)||(this.bind(e.handle),this.localChannelContextQueue.has(e.id)||this.localChannelContextQueue.set(e.id,this.contexts.get(e.id)))}makeVisibleAndAttachGraph(){this.visibilityState===Bt.VisibilityState.NotVisible&&(this.visibilityState=Bt.VisibilityState.LocallyVisible,this.pendingHandlesToMakeVisible.forEach((e=>{e.attachGraph()})),this.pendingHandlesToMakeVisible.clear(),this.bindToContext())}attachGraph(){this.makeVisibleAndAttachGraph()}bindToContext(){this.bindState===o.xU.NotBound&&(this.bindState=o.xU.Binding,this.dataStoreContext.bindToContext(),this.bindState=o.xU.Bound)}bind(e){this.visibilityState===Bt.VisibilityState.NotVisible?this.pendingHandlesToMakeVisible.add(e):e.attachGraph()}setConnectionState(e,t){this.verifyNotClosed();for(const[,n]of this.contexts)n.setConnectionState(e,t);(0,Ne.Qq)(this.logger,this,e,t)}getQuorum(){return this.quorum}getAudience(){return this.audience}async uploadBlob(e){return this.verifyNotClosed(),this.dataStoreContext.uploadBlob(e)}process(e,t,n){this.verifyNotClosed();try{switch(e.type){case oo.Attach:{const n=e.contents,r=n.id;if(t)(0,E.h)(this.pendingAttach.has(r),380),this.pendingAttach.delete(r);else{(0,E.h)(!this.contexts.has(r),381);const t=new Map,i=$n(n.snapshot.entries,t),o=new io(this,this.dataStoreContext,this.dataStoreContext.storage,((e,t)=>this.submitChannelOp(r,e,t)),(e=>this.setChannelDirty(e)),((e,t)=>this.addedGCOutboundReference(e,t)),r,i,this.sharedObjectRegistry,t,this.dataStoreContext.getCreateChildSummarizerNodeFn(r,{type:Bt.CreateSummarizerNodeSource.FromAttach,sequenceNumber:e.sequenceNumber,snapshot:n.snapshot}),(async()=>this.getChannelBaseGCDetails(r)),n.type);if(this.contexts.set(r,o),this.contextsDeferred.has(r))this.contextsDeferred.get(r).resolve(o);else{const e=new Ie.B;e.resolve(o),this.contextsDeferred.set(r,e)}}break}case oo.ChannelOp:this.processChannelOp(e,t,n)}this.emit("op",e)}catch(t){throw M.wrapIfUnrecognized(t,"fluidDataStoreRuntimeFailedToProcessMessage",e)}}processSignal(e,t){this.emit("signal",e,t)}isChannelAttached(e){return!this.notBoundedChannelContextSet.has(e)&&!this.localChannelContextQueue.has(e)&&!this.pendingAttach.has(e)}getOutboundRoutes(){const e=[];for(const[t]of this.contexts)e.push(`${this.absolutePath}/${t}`);return e}updateGCNodes(e){e.addRouteToAllNodes(this.absolutePath),e.addNode("/",this.getOutboundRoutes())}async getGCData(e=!1){const t=new Zt.iR;return await Promise.all(Array.from(this.contexts).filter((([e,t])=>this.isChannelAttached(e))).map((async([n,r])=>{const i=await r.getGCData(e);t.prefixAndAddNodes(n,i.gcNodes)}))),this.updateGCNodes(t),t.getGCData()}updateUsedRoutes(e,t){var n;const r=(0,Zt.xu)(e);for(const[e]of r)(0,E.h)(this.contexts.has(e),382);for(const[e,i]of this.contexts)i.updateUsedRoutes(null!==(n=r.get(e))&&void 0!==n?n:[],t)}addedGCOutboundReference(e,t){var n,r;null===(r=(n=this.dataStoreContext).addedGCOutboundReference)||void 0===r||r.call(n,e,t)}async getChannelBaseGCDetails(e){var t;let n=(await this.channelsBaseGCDetails).get(e);return void 0===n?n={}:void 0!==(null===(t=n.gcData)||void 0===t?void 0:t.gcNodes)&&(0,Zt.DJ)(n.gcData.gcNodes,this.absolutePath),void 0!==n.usedRoutes&&0!==n.usedRoutes.length||(n.usedRoutes=[""]),n}async summarize(e=!1,t=!0,n){const r=new Wt.x1;return await Promise.all(Array.from(this.contexts).filter((([e,t])=>{const n=this.isChannelAttached(e);return(0,E.h)(n,383),n})).map((async([i,o])=>{const s=await o.summarize(e,t,n);r.addWithStats(i,s)}))),r.getSummaryTree()}getAttachSummary(e){this.attachGraph();const t=new Wt.x1;for(const[n,r]of this.contexts){if(!(r instanceof to))throw new T.j4("Should only be called with local channel handles");if(!this.notBoundedChannelContextSet.has(n)){let i;if(r.isLoaded){const t=r.getAttachSummary(e);(0,E.h)(t.summary.type===ji.Tree,384),i={stats:t.stats,summary:t.summary}}else(0,E.h)(!!this.dataStoreContext.baseSnapshot,385),i=(0,Wt.S5)(this.dataStoreContext.baseSnapshot.trees[n]);t.addWithStats(n,i)}}return t.getSummaryTree()}submitMessage(e,t,n){this.submit(e,t,n)}submitSignal(e,t){return this.verifyNotClosed(),this.dataStoreContext.submitSignal(e,t)}async waitAttached(){return this.deferredAttached.promise}attachChannel(e){if(this.verifyNotClosed(),e.handle.isAttached)return;e.handle.attachGraph(),(0,E.h)(this.isAttached,386),(0,E.h)(this.visibilityState===Bt.VisibilityState.GloballyVisible,720);const t=Xi(e,!0,!1),n=(0,Wt.H4)(t.summary),r={id:e.id,snapshot:n,type:e.attributes.type};this.pendingAttach.set(e.id,r),this.submit(oo.Attach,r),this.contexts.get(e.id).makeVisible()}submitChannelOp(e,t,n){const r={address:e,contents:t};this.submit(oo.ChannelOp,r,n)}submit(e,t,n=undefined){this.verifyNotClosed(),this.dataStoreContext.submitMessage(e,t,n)}reSubmit(e,t,n){switch(this.verifyNotClosed(),e){case oo.ChannelOp:{const e=t,r=this.contexts.get(e.address);(0,E.h)(!!r,387),r.reSubmit(e.contents,n);break}case oo.Attach:this.submit(e,t,n);break;default:(0,k.U)(e)}}rollback(e,t,n){switch(this.verifyNotClosed(),e){case oo.ChannelOp:{const e=t,r=this.contexts.get(e.address);(0,E.h)(!!r,749),r.rollback(e.contents,n);break}default:throw new T.j4(`Can't rollback ${e} message`)}}async applyStashedOp(e){const t=e,n=this.contexts.get(t.address);return(0,E.h)(!!n,388),await n.getChannel(),n.applyStashedOp(t.contents)}setChannelDirty(e){this.verifyNotClosed(),this.dataStoreContext.setChannelDirty(e)}processChannelOp(e,t,n){this.verifyNotClosed();const r=e.contents,i=Object.assign(Object.assign({},e),{contents:r.contents}),o=this.contexts.get(r.address);return(0,E.h)(!!o,389),o.processOp(i,t,n),o}attachListener(){this.setMaxListeners(Number.MAX_SAFE_INTEGER),this.dataStoreContext.once("attaching",(()=>{this.attachGraph(),this._attachState=o.mB.Attaching,(0,E.h)(this.visibilityState===Bt.VisibilityState.LocallyVisible,721),this.visibilityState=Bt.VisibilityState.GloballyVisible,this.localChannelContextQueue.forEach((e=>{e.makeVisible()})),this.localChannelContextQueue.clear(),this.deferredAttached.resolve(),this.emit("attaching")})),this.dataStoreContext.once("attached",(()=>{(0,E.h)(this.visibilityState===Bt.VisibilityState.GloballyVisible,722),this._attachState=o.mB.Attached,this.emit("attached")}))}verifyNotClosed(){if(this._disposed)throw new T.j4("Runtime is closed")}}const ao=(e,t=so)=>class extends t{async request(t){const n=await super.request(t);return 404===n.status?e(t,this):n}};async function co(e,t,n,r,i,o,s){let a=i;a=ao((async(e,t)=>(await Oi.getDataObject(t)).request(e)),a);const c=new a(t,n,o),u=t.scope,l=new e({runtime:c,context:t,providers:new Di(u.IFluidDependencySynthesizer).synthesize(r,{}),initProps:s});return o||await l.finishInitialization(o),{instance:l,runtime:c}}class uo{constructor(e,t,n,r,i,o=so){if(this.type=e,this.ctor=t,this.optionalProviders=r,this.runtimeClass=o,""===this.type)throw new Error("undefined type member");void 0!==i&&(this.registry=new on(i)),this.sharedObjectRegistry=new Map(n.map((e=>[e.type,e])))}get IFluidDataStoreFactory(){return this}get IFluidDataStoreRegistry(){return this.registry}get registryEntry(){return[this.type,Promise.resolve(this)]}async instantiateDataStore(e,t){const{runtime:n}=await co(this.ctor,e,this.sharedObjectRegistry,this.optionalProviders,this.runtimeClass,t);return n}async createChildInstance(e,t){return this.createNonRootInstanceCore(e.containerRuntime,[...e.packagePath,this.type],t)}async createPeerInstance(e,t){return this.createNonRootInstanceCore(e.containerRuntime,e.packagePath,t)}async createInstance(e,t){return this.createNonRootInstanceCore(e,[this.type],t)}async createRootInstance(e,t,n){const r=t.createDetachedRootDataStore([this.type],e);return this.createInstanceCore(r,n)}async createNonRootInstanceCore(e,t,n){const r=e.createDetachedDataStore(t);return this.createInstanceCore(r,n)}async createInstanceCore(e,t){const{instance:n,runtime:r}=await co(this.ctor,e,this.sharedObjectRegistry,this.optionalProviders,this.runtimeClass,!1,t);return await e.attachRuntime(this,r),n}}class lo extends uo{constructor(e,t,n=[],r,i,o=so){const s=[...n];n.find((e=>e.type===vi.Type))||s.push(yi.getFactory()),n.find((e=>e.type===Ni.Type))||s.push(Ti.getFactory()),super(e,t,s,r,i,o)}}const ho=e=>void 0!==(null==e?void 0:e.factory),fo=e=>void 0!==(null==e?void 0:e.getFactory);class po extends Ii{constructor(){super(...arguments),this.initialObjectsDirKey="initial-objects-key",this._initialObjects={}}get initialObjectsDir(){const e=this.root.getSubDirectory(this.initialObjectsDirKey);if(void 0===e)throw new Error("InitialObjects sub-directory was not initialized");return e}async initializingFirstTime(e){this.root.createSubDirectory(this.initialObjectsDirKey);const t=[];Object.entries(e.initialObjects).forEach((([e,n])=>{t.push((async()=>{const t=await this.create(n);this.initialObjectsDir.set(e,t.handle)})())})),await Promise.all(t)}async hasInitialized(){const e=[];for(const[t,n]of Array.from(this.initialObjectsDir.entries())){const r=async()=>{const e=await n.get();Object.assign(this._initialObjects,{[t]:e})};e.push(r())}await Promise.all(e)}get initialObjects(){if(0===Object.keys(this._initialObjects).length)throw new Error("Initial Objects were not correctly initialized");return this._initialObjects}async create(e){if(ho(e))return this.createDataObject(e);if(fo(e))return this.createSharedObject(e);throw new Error("Could not create new Fluid object because an unknown object was passed")}async createDataObject(e){const t=e.factory,n=[...this.context.packagePath,t.type],r=await this.context.containerRuntime.createDataStore(n);return(0,Vt.bb)(r,"/")}createSharedObject(e){const t=e.getFactory();return this.runtime.createChannel(void 0,t.type)}}const mo="rootDOId";class go extends qi{constructor(e){const[t,n]=(e=>{var t;const n=new Set,r=new Set;if(new Set([...Object.values(e.initialObjects),...null!==(t=e.dynamicObjectTypes)&&void 0!==t?t:[]]).forEach((e=>{if(fo(e))r.add(e.getFactory());else{if(!ho(e))throw new Error("Entry is neither a DataObject or a SharedObject");n.add([e.factory.type,Promise.resolve(e.factory)])}})),0===n.size&&0===r.size)throw new Error("Container cannot be initialized without any DataTypes");return[Array.from(n),Array.from(r)]})(e),r=new lo("rootDO",po,n,{},t);var i;super([r.registryEntry],void 0,[(i=mo,async(e,t)=>{const n=Gt.R.create(e);if(0===n.pathParts.length)return t.IFluidHandleContext.resolveHandle({url:`/${i}${n.query}`,headers:e.headers})})],{flushMode:Bt.FlushMode.Immediate}),this.rootDataObjectFactory=r,this.initialObjects=e.initialObjects}async containerInitializingFirstTime(e){await this.rootDataObjectFactory.createRootInstance(mo,e,{initialObjects:this.initialObjects})}}var vo,yo;!function(e){e.Tree=1,e.Blob=2,e.Handle=3,e.Attachment=4}(vo||(vo={}));class bo{constructor(e){this.maxRequests=e,this.tasks=[],this.release=()=>{const e=this.tasks.shift();if(void 0!==e)return e();this.maxRequests++},(0,E.h)(e>0,174)}get waitQueueLength(){return this.tasks.length}async acquire(){if(!(this.maxRequests>0))return new Promise((e=>{this.tasks.push(e)}));this.maxRequests--}async schedule(e){return await this.acquire(),e().finally(this.release)}}!function(e){e[e.NoCaching=0]="NoCaching",e[e.Prefetch=1]="Prefetch"}(yo||(yo={}));var wo,So=n(87140),_o=n(48966),xo=n(93784),Co=n.n(xo),Eo=n(48794),ko=n.n(Eo),Ao=new Uint8Array(16);function No(){if(!wo&&!(wo="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return wo(Ao)}const To=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var Po=[],Oo=0;Oo<256;++Oo)Po.push((Oo+256).toString(16).substr(1));const Io=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(Po[e[t+0]]+Po[e[t+1]]+Po[e[t+2]]+Po[e[t+3]]+"-"+Po[e[t+4]]+Po[e[t+5]]+"-"+Po[e[t+6]]+Po[e[t+7]]+"-"+Po[e[t+8]]+Po[e[t+9]]+"-"+Po[e[t+10]]+Po[e[t+11]]+Po[e[t+12]]+Po[e[t+13]]+Po[e[t+14]]+Po[e[t+15]]).toLowerCase();if(!function(e){return"string"==typeof e&&To.test(e)}(n))throw TypeError("Stringified UUID is invalid");return n},Ro=function(e,t,n){var r=(e=e||{}).random||(e.rng||No)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return Io(r)},Lo=(0,n(96292).debug)("fluid:services-client");Lo("Package: @fluidframework/server-services-client - Version: 0.1036.5001");class Mo extends Error{constructor(e,t,n,r,i){super(t),this.code=e,this.canRetry=n,this.isFatal=r,this.retryAfterMs=i,this.name="NetworkError",this.retryAfter=void 0!==i?i/1e3:void 0}get details(){return void 0===this.canRetry&&void 0===this.isFatal&&void 0===this.retryAfterMs?this.message:{message:this.message,canRetry:this.canRetry,isFatal:this.isFatal,retryAfter:this.retryAfter,retryAfterMs:this.retryAfterMs}}toJSON(){return{code:this.code,message:this.message,canRetry:this.canRetry,isFatal:this.isFatal,retryAfterMs:this.retryAfterMs,retryAfter:this.retryAfter}}}function Do(e,t){var n;let r,i,o,s;switch(t&&"object"==typeof t?(r=null!==(n=t.message)&&void 0!==n?n:"Unknown Error",i=t.canRetry,o=t.isFatal,s=t.retryAfter):r=t&&"string"==typeof t?t:"Unknown Error",e){case 401:case 403:case 404:return new Mo(e,r,!1,!1);case 413:case 422:return new Mo(e,r,null!=i&&i,null!=o&&o,i?s:void 0);case 429:case 502:case 503:case 504:return new Mo(e,r,!0,!1,s);case 500:return new Mo(e,r,null==i||i,null!=o&&o,i?s:void 0);default:return new Mo(e,r,!1,!0)}}const jo="x-correlation-id";class Fo{constructor(e,t={},n=1048576e3,r=1048576e3){this.baseurl=e,this.defaultQueryString=t,this.maxBodyLength=n,this.maxContentLength=r}async get(e,t,n){const r={baseURL:this.baseurl,headers:n,maxBodyLength:this.maxBodyLength,maxContentLength:this.maxContentLength,method:"GET",url:`${e}${this.generateQueryString(t)}`};return this.request(r,200)}async post(e,t,n,r){const i={baseURL:this.baseurl,data:t,headers:r,maxBodyLength:this.maxBodyLength,maxContentLength:this.maxContentLength,method:"POST",url:`${e}${this.generateQueryString(n)}`};return this.request(i,201)}async delete(e,t,n){const r={baseURL:this.baseurl,headers:n,maxBodyLength:this.maxBodyLength,maxContentLength:this.maxContentLength,method:"DELETE",url:`${e}${this.generateQueryString(t)}`};return this.request(r,204)}async patch(e,t,n,r){const i={baseURL:this.baseurl,data:t,headers:r,maxBodyLength:this.maxBodyLength,maxContentLength:this.maxContentLength,method:"PATCH",url:`${e}${this.generateQueryString(n)}`};return this.request(i,200)}generateQueryString(e){if(this.defaultQueryString||e){const t=Object.assign(Object.assign({},this.defaultQueryString),e),n=_o.stringify(t);if(""!==n)return`?${n}`}return""}}class Bo extends Fo{constructor(e,t={},n=1048576e3,r=1048576e3,i={},o=ko(),s,a,c){super(e,t,n,r),this.defaultHeaders=i,this.axios=o,this.refreshDefaultQueryString=s,this.refreshDefaultHeaders=a,this.getCorrelationId=c}async request(e,t,n=!0){var r,i;const o=Object.assign({},e);return o.headers=this.generateHeaders(o.headers,null!==(i=null===(r=this.getCorrelationId)||void 0===r?void 0:r.call(this))&&void 0!==i?i:Ro()),new Promise(((r,i)=>{this.axios.request(o).then((e=>{r(e.data)})).catch((s=>{var a,c,u,l,h,d,f,p,m,g,v,y,b,w;if((null===(a=null==s?void 0:s.response)||void 0===a?void 0:a.status)===t&&r(null===(c=null==s?void 0:s.response)||void 0===c?void 0:c.data),(null==s?void 0:s.config)?Lo(`[${s.config.method}] request to [${null!==(u=s.config.baseURL)&&void 0!==u?u:""}${null!==(l=s.config.url)&&void 0!==l?l:""}] failed with [${null===(h=s.response)||void 0===h?void 0:h.status}] [${Co()(null===(d=s.response)||void 0===d?void 0:d.data,void 0,2)}]`):Lo(`request to ${o.url} failed ${s?s.message:""}`),429===(null===(f=null==s?void 0:s.response)||void 0===f?void 0:f.status)&&(null===(m=null===(p=null==s?void 0:s.response)||void 0===p?void 0:p.data)||void 0===m?void 0:m.retryAfter)>0&&n)setTimeout((()=>{this.request(o,t).then(r).catch(i)}),1e3*s.response.data.retryAfter);else if(401===(null===(g=null==s?void 0:s.response)||void 0===g?void 0:g.status)&&n&&this.refreshOnAuthError()){const n=Object.assign({},e);n.headers=this.generateHeaders(n.headers,o.headers[jo]),this.request(n,t,!1).then(r).catch(i)}else if(null==s?void 0:s.response)i(Do(null===(v=null==s?void 0:s.response)||void 0===v?void 0:v.status,null===(y=null==s?void 0:s.response)||void 0===y?void 0:y.data));else if(null==s?void 0:s.request)i(Do(502,`Network Error: ${null!==(b=null==s?void 0:s.message)&&void 0!==b?b:"undefined"}`));else{const e={canRetry:!1,isFatal:!1,message:null!==(w=null==s?void 0:s.message)&&void 0!==w?w:"Unknown Error"};i(Do(500,e))}}))}))}generateHeaders(e,t){let n=null!=e?e:{};return this.defaultHeaders&&(n=Object.assign(Object.assign({},this.defaultHeaders),e)),n[jo]?n:Object.assign({[jo]:t},n)}refreshOnAuthError(){return(void 0!==this.refreshDefaultQueryString||void 0!==this.refreshDefaultHeaders)&&(void 0!==this.refreshDefaultHeaders&&(this.defaultHeaders=this.refreshDefaultHeaders()),void 0!==this.refreshDefaultQueryString&&(this.defaultQueryString=this.refreshDefaultQueryString()),!0)}}function qo(e,t){for(const n of t)if(e.endsWith(n))return!0;return!1}class Uo{constructor(e,t,n,r){this.endpoint=e,this.historianApi=t,this.restWrapper=r,this.defaultQueryString={},n&&this.historianApi?(this.defaultQueryString.disableCache=n,this.cacheBust=!1):this.cacheBust=n,void 0===this.restWrapper&&(this.restWrapper=new Bo(this.endpoint))}async getHeader(e){return this.historianApi?this.restWrapper.get(`/headers/${encodeURIComponent(e)}`,this.getQueryString()):this.getHeaderDirect(e)}async getFullTree(e){return this.restWrapper.get(`/tree/${encodeURIComponent(e)}`,this.getQueryString())}async getBlob(e){return this.restWrapper.get(`/git/blobs/${encodeURIComponent(e)}`,this.getQueryString())}async createBlob(e){return this.restWrapper.post("/git/blobs",e,this.getQueryString())}async getContent(e,t){return this.restWrapper.get(`/contents/${e}`,this.getQueryString({ref:t}))}async getCommits(e,t){return this.restWrapper.get("/commits",this.getQueryString({count:t,sha:e})).catch((e=>400===e||404===e?[]:Promise.reject(e)))}async getCommit(e){return this.restWrapper.get(`/git/commits/${encodeURIComponent(e)}`,this.getQueryString())}async createCommit(e){return this.restWrapper.post("/git/commits",e,this.getQueryString())}async getRefs(){return this.restWrapper.get("/git/refs",this.getQueryString())}async getRef(e){return this.restWrapper.get(`/git/refs/${e}`,this.getQueryString())}async createRef(e){return this.restWrapper.post("/git/refs",e,this.getQueryString())}async updateRef(e,t){return this.restWrapper.patch(`/git/refs/${e}`,t,this.getQueryString())}async deleteRef(e){await this.restWrapper.delete(`/git/refs/${e}`,this.getQueryString())}async createTag(e){return this.restWrapper.post("/git/tags",e,this.getQueryString())}async getTag(e){return this.restWrapper.get(`/git/tags/${e}`,this.getQueryString())}async createTree(e){return this.restWrapper.post("/git/trees",e,this.getQueryString())}async getTree(e,t){return this.restWrapper.get(`/git/trees/${encodeURIComponent(e)}`,this.getQueryString({recursive:t?1:0}))}async createSummary(e){return this.restWrapper.post("/git/summaries",e,this.getQueryString())}async deleteSummary(e){const t={"Soft-Delete":e};return this.restWrapper.delete("/git/summaries",this.getQueryString(),t)}async getSummary(e){return this.restWrapper.get(`/git/summaries/${e}`,this.getQueryString())}async getHeaderDirect(e){const t=await this.getTree(e,!0),n=[".attributes",".blobs",".messages","header"],r=[];for(const e of t.tree)if("blob"===e.type&&qo(e.path,n)){const t=this.getBlob(e.sha);r.push(t)}return{blobs:await Promise.all(r),tree:t}}getQueryString(e){return this.cacheBust?Object.assign(Object.assign({cacheBust:Date.now()},this.defaultQueryString),e):Object.assign(Object.assign({},this.defaultQueryString),e)}}var zo,$o;!function(e){e.File="100644",e.Executable="100755",e.Directory="040000",e.Symlink="120000"}(zo||(zo={})),function(e){e.Blob="Blob",e.Tree="Tree",e.Attachment="Attachment"}($o||($o={}));class Ho{constructor(e){this.historian=e,this.blobCache=new Map,this.commitCache=new Map,this.treeCache=new Map,this.refCache=new Map}async getHeader(e,t){const n=await this.historian.getHeader(t);for(const e of n.blobs)this.blobCache.set(e.sha,e);return(0,Ln.eB)(n.tree)}async getFullTree(e){return this.historian.getFullTree(e)}async getCommit(e){return this.commitCache.has(e)?(Lo(`Cache hit on ${e}`),this.commitCache.get(e)):this.historian.getCommit(e)}async getCommits(e,t){let n=e;if(this.refCache.has(e)&&(Lo(`Commit cache hit on ${e}`),n=this.refCache.get(e),this.refCache.delete(e),!n))return[];if(this.commitCache.has(n)){const e=this.commitCache.get(n);return[{commit:{author:e.author,committer:e.committer,message:e.message,tree:e.tree,url:e.url},parents:e.parents,sha:e.sha,url:e.url}]}return this.historian.getCommits(n,t)}async getTree(e,t=!0){return this.treeCache.has(e)?(Lo(`Tree cache hit on ${e}`),this.treeCache.get(e)):this.historian.getTree(e,t)}async getBlob(e){return this.blobCache.has(e)?(Lo(`Blob cache hit on ${e}`),this.blobCache.get(e)):this.historian.getBlob(e)}getRawUrl(e){return`${this.historian.endpoint}/git/blobs/raw/${e}`}async getContent(e,t){return this.historian.getContent(t,e)}async createBlob(e,t){const n={content:e,encoding:t};return this.historian.createBlob(n)}async createGitTree(e){return this.historian.createTree(e)}async createTree(e){return this.createTreeCore(e,0)}async createCommit(e){return this.historian.createCommit(e)}async createSummary(e){return this.historian.createSummary(e)}async deleteSummary(e){return this.historian.deleteSummary(e)}async getSummary(e){return this.historian.getSummary(e)}async getRef(e){return this.historian.getRef(`heads/${e}`).catch((e=>{if(400===e||404===e)return null;throw e}))}async createRef(e,t){const n={ref:`refs/heads/${e}`,sha:t,config:{enabled:!0}};return this.historian.createRef(n)}async upsertRef(e,t){const n={force:!0,sha:t,config:{enabled:!0}};return this.historian.updateRef(`heads/${e}`,n)}addRef(e,t){this.refCache.set(e,t)}addCommit(e){this.commitCache.set(e.sha,e)}addTree(e){this.treeCache.set(e.sha,e)}addBlob(e){this.blobCache.set(e.sha,e)}async write(e,t,n,r){const i=await this.createTree(t),o={author:{date:(new Date).toISOString(),email:"kurtb@microsoft.com",name:"Kurt Berglund"},message:r,parents:n,tree:i.sha},s=await this.historian.createCommit(o);return await this.getRef(e)?await this.upsertRef(e,s.sha):await this.createRef(e,s.sha),s}async createTreeCore(e,t){if(e.id)return this.getTree(e.id);const n=[];for(const r of e.entries)switch($o[r.type]){case $o.Blob:{const e=r.value;r.mode===zo.Symlink&&(e.contents=this.translateSymlink(e.contents,t));const i=this.createBlob(e.contents,e.encoding);n.push(i);break}case $o.Tree:{const e=r.value,i=this.createTreeCore(e,t+1);n.push(i);break}default:throw new Error("Unknown entry type")}const r=await Promise.all(n),i=[];(0,E.h)(r.length===e.entries.length,"File entries length is not correct");for(let t=0;t<e.entries.length;t++){const n=e.entries[t].type===$o.Tree?"tree":e.entries[t].type===$o.Blob?"blob":"commit";i.push({mode:e.entries[t].mode,path:e.entries[t].path,sha:r[t].sha,type:n})}const o={tree:i};return this.historian.createTree(o)}translateSymlink(e,t){let n="";for(let e=0;e<=t;e++)n+="../";return`${n}${e}`}}const Go=Object.create(null);Go.open="0",Go.close="1",Go.ping="2",Go.pong="3",Go.message="4",Go.upgrade="5",Go.noop="6";const Vo=Object.create(null);Object.keys(Go).forEach((e=>{Vo[Go[e]]=e}));const Wo={type:"error",data:"parser error"},Ko="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),Zo="function"==typeof ArrayBuffer,Yo=(e,t)=>{const n=new FileReader;return n.onload=function(){const e=n.result.split(",")[1];t("b"+(e||""))},n.readAsDataURL(e)},Jo=({type:e,data:t},n,r)=>{return Ko&&t instanceof Blob?n?r(t):Yo(t,r):Zo&&(t instanceof ArrayBuffer||(i=t,"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(i):i&&i.buffer instanceof ArrayBuffer))?n?r(t):Yo(new Blob([t]),r):r(Go[e]+(t||""));var i},Qo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Xo="undefined"==typeof Uint8Array?[]:new Uint8Array(256);for(let e=0;e<Qo.length;e++)Xo[Qo.charCodeAt(e)]=e;const es="function"==typeof ArrayBuffer,ts=(e,t)=>{if(es){const n=(e=>{let t,n,r,i,o,s=.75*e.length,a=e.length,c=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);const u=new ArrayBuffer(s),l=new Uint8Array(u);for(t=0;t<a;t+=4)n=Xo[e.charCodeAt(t)],r=Xo[e.charCodeAt(t+1)],i=Xo[e.charCodeAt(t+2)],o=Xo[e.charCodeAt(t+3)],l[c++]=n<<2|r>>4,l[c++]=(15&r)<<4|i>>2,l[c++]=(3&i)<<6|63&o;return u})(e);return ns(n,t)}return{base64:!0,data:e}},ns=(e,t)=>"blob"===t&&e instanceof ArrayBuffer?new Blob([e]):e,rs=(e,t)=>{if("string"!=typeof e)return{type:"message",data:ns(e,t)};const n=e.charAt(0);return"b"===n?{type:"message",data:ts(e.substring(1),t)}:Vo[n]?e.length>1?{type:Vo[n],data:e.substring(1)}:{type:Vo[n]}:Wo},is=String.fromCharCode(30);function os(e){if(e)return function(e){for(var t in os.prototype)e[t]=os.prototype[t];return e}(e)}os.prototype.on=os.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},os.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},os.prototype.off=os.prototype.removeListener=os.prototype.removeAllListeners=os.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},os.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t)}return this},os.prototype.emitReserved=os.prototype.emit,os.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},os.prototype.hasListeners=function(e){return!!this.listeners(e).length};const ss="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();function as(e,...t){return t.reduce(((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t)),{})}const cs=ss.setTimeout,us=ss.clearTimeout;function ls(e,t){t.useNativeTimers?(e.setTimeoutFn=cs.bind(ss),e.clearTimeoutFn=us.bind(ss)):(e.setTimeoutFn=ss.setTimeout.bind(ss),e.clearTimeoutFn=ss.clearTimeout.bind(ss))}class hs extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}}class ds extends os{constructor(e){super(),this.writable=!1,ls(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,t,n){return super.emitReserved("error",new hs(e,t,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=rs(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}}const fs="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),ps=64,ms={};let gs,vs=0,ys=0;function bs(e){let t="";do{t=fs[e%ps]+t,e=Math.floor(e/ps)}while(e>0);return t}function ws(){const e=bs(+new Date);return e!==gs?(vs=0,gs=e):e+"."+bs(vs++)}for(;ys<ps;ys++)ms[fs[ys]]=ys;function Ss(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}let _s=!1;try{_s="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){}const xs=_s;function Cs(e){const t=e.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!t||xs))return new XMLHttpRequest}catch(e){}if(!t)try{return new(ss[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}function Es(){}const ks=null!=new Cs({xdomain:!1}).responseType;class As extends os{constructor(e,t){super(),ls(this,t),this.opts=t,this.method=t.method||"GET",this.uri=e,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.create()}create(){const e=as(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;const t=this.xhr=new Cs(e);try{t.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0);for(let e in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(e)&&t.setRequestHeader(e,this.opts.extraHeaders[e])}}catch(e){}if("POST"===this.method)try{t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{t.setRequestHeader("Accept","*/*")}catch(e){}"withCredentials"in t&&(t.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(t.timeout=this.opts.requestTimeout),t.onreadystatechange=()=>{4===t.readyState&&(200===t.status||1223===t.status?this.onLoad():this.setTimeoutFn((()=>{this.onError("number"==typeof t.status?t.status:0)}),0))},t.send(this.data)}catch(e){return void this.setTimeoutFn((()=>{this.onError(e)}),0)}"undefined"!=typeof document&&(this.index=As.requestsCount++,As.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=Es,e)try{this.xhr.abort()}catch(e){}"undefined"!=typeof document&&delete As.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}function Ns(){for(let e in As.requests)As.requests.hasOwnProperty(e)&&As.requests[e].abort()}As.requestsCount=0,As.requests={},"undefined"!=typeof document&&("function"==typeof attachEvent?attachEvent("onunload",Ns):"function"==typeof addEventListener&&addEventListener("onpagehide"in ss?"pagehide":"unload",Ns,!1));const Ts="function"==typeof Promise&&"function"==typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),Ps=ss.WebSocket||ss.MozWebSocket,Os="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),Is={websocket:class extends ds{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),t=this.opts.protocols,n=Os?{}:as(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=Os?new Ps(e,t,n):t?new Ps(e,t):new Ps(e)}catch(e){return this.emitReserved("error",e)}this.ws.binaryType=this.socket.binaryType||"arraybuffer",this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;Jo(n,this.supportsBinary,(e=>{try{this.ws.send(e)}catch(e){}r&&Ts((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}uri(){let e=this.query||{};const t=this.opts.secure?"wss":"ws";let n="";this.opts.port&&("wss"===t&&443!==Number(this.opts.port)||"ws"===t&&80!==Number(this.opts.port))&&(n=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=ws()),this.supportsBinary||(e.b64=1);const r=Ss(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(r.length?"?"+r:"")}check(){return!!Ps}},polling:class extends ds{constructor(e){if(super(e),this.polling=!1,"undefined"!=typeof location){const t="https:"===location.protocol;let n=location.port;n||(n=t?"443":"80"),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||n!==e.port,this.xs=e.secure!==t}const t=e&&e.forceBase64;this.supportsBinary=ks&&!t}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let e=0;this.polling&&(e++,this.once("pollComplete",(function(){--e||t()}))),this.writable||(e++,this.once("drain",(function(){--e||t()})))}else t()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{const n=e.split(is),r=[];for(let e=0;e<n.length;e++){const i=rs(n[e],t);if(r.push(i),"error"===i.type)break}return r})(e,this.socket.binaryType).forEach((e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const n=e.length,r=new Array(n);let i=0;e.forEach(((e,o)=>{Jo(e,!1,(e=>{r[o]=e,++i===n&&t(r.join(is))}))}))})(e,(e=>{this.doWrite(e,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){let e=this.query||{};const t=this.opts.secure?"https":"http";let n="";!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=ws()),this.supportsBinary||e.sid||(e.b64=1),this.opts.port&&("https"===t&&443!==Number(this.opts.port)||"http"===t&&80!==Number(this.opts.port))&&(n=":"+this.opts.port);const r=Ss(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(r.length?"?"+r:"")}request(e={}){return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new As(this.uri(),e)}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",((e,t)=>{this.onError("xhr post error",e,t)}))}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",((e,t)=>{this.onError("xhr poll error",e,t)})),this.pollXhr=e}}},Rs=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Ls=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Ms(e){const t=e,n=e.indexOf("["),r=e.indexOf("]");-1!=n&&-1!=r&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let i=Rs.exec(e||""),o={},s=14;for(;s--;)o[Ls[s]]=i[s]||"";return-1!=n&&-1!=r&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=function(e,t){const n=t.replace(/\/{2,9}/g,"/").split("/");return"/"!=t.slice(0,1)&&0!==t.length||n.splice(0,1),"/"==t.slice(-1)&&n.splice(n.length-1,1),n}(0,o.path),o.queryKey=function(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,r){t&&(n[t]=r)})),n}(0,o.query),o}class Ds extends os{constructor(e,t={}){super(),this.writeBuffer=[],e&&"object"==typeof e&&(t=e,e=null),e?(e=Ms(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=Ms(t.host).host),ls(this,t),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=t.transports||["polling","websocket"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"==typeof this.opts.query&&(this.opts.query=function(e){let t={},n=e.split("&");for(let e=0,r=n.length;e<r;e++){let r=n[e].split("=");t[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return t}(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts.transportOptions[e],this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new Is[e](n)}open(){let e;if(this.opts.rememberUpgrade&&Ds.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(e=>this.onClose("transport close",e)))}probe(e){let t=this.createTransport(e),n=!1;Ds.priorWebsocketSuccess=!1;const r=()=>{n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",(e=>{if(!n)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;Ds.priorWebsocketSuccess="websocket"===t.name,this.transport.pause((()=>{n||"closed"!==this.readyState&&(u(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())}))}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}})))};function i(){n||(n=!0,u(),t.close(),t=null)}const o=e=>{const n=new Error("probe error: "+e);n.transport=t.name,i(),this.emitReserved("upgradeError",n)};function s(){o("transport closed")}function a(){o("socket closed")}function c(e){t&&e.name!==t.name&&i()}const u=()=>{t.removeListener("open",r),t.removeListener("error",o),t.removeListener("close",s),this.off("close",a),this.off("upgrading",c)};t.once("open",r),t.once("error",o),t.once("close",s),this.once("close",a),this.once("upgrading",c),t.open()}onOpen(){if(this.readyState="open",Ds.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade){let e=0;const t=this.upgrades.length;for(;e<t;e++)this.probe(this.upgrades[e])}}onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn((()=>{this.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let n=0;n<this.writeBuffer.length;n++){const r=this.writeBuffer[n].data;if(r&&(e+="string"==typeof(t=r)?function(e){let t=0,n=0;for(let r=0,i=e.length;r<i;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}(t):Math.ceil(1.33*(t.byteLength||t.size))),n>0&&e>this.maxPayload)return this.writeBuffer.slice(0,n);e+=2}var t;return this.writeBuffer}write(e,t,n){return this.sendPacket("message",e,t,n),this}send(e,t,n){return this.sendPacket("message",e,t,n),this}sendPacket(e,t,n,r){if("function"==typeof t&&(r=t,t=void 0),"function"==typeof n&&(r=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const i={type:e,data:t,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?n():e()})):this.upgrading?n():e()),this}onError(e){Ds.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const t=[];let n=0;const r=e.length;for(;n<r;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}Ds.protocol=4,Ds.protocol;const js="function"==typeof ArrayBuffer,Fs=e=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,Bs=Object.prototype.toString,qs="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Bs.call(Blob),Us="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===Bs.call(File);function zs(e){return js&&(e instanceof ArrayBuffer||Fs(e))||qs&&e instanceof Blob||Us&&e instanceof File}function $s(e,t){if(!e||"object"!=typeof e)return!1;if(Array.isArray(e)){for(let t=0,n=e.length;t<n;t++)if($s(e[t]))return!0;return!1}if(zs(e))return!0;if(e.toJSON&&"function"==typeof e.toJSON&&1===arguments.length)return $s(e.toJSON(),!0);for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&$s(e[t]))return!0;return!1}function Hs(e){const t=[],n=e.data,r=e;return r.data=Gs(n,t),r.attachments=t.length,{packet:r,buffers:t}}function Gs(e,t){if(!e)return e;if(zs(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=Gs(e[r],t);return n}if("object"==typeof e&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=Gs(e[r],t));return n}return e}function Vs(e,t){return e.data=Ws(e.data,t),delete e.attachments,e}function Ws(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"==typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=Ws(e[n],t);else if("object"==typeof e)for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=Ws(e[n],t));return e}const Ks=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Zs=5;var Ys;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(Ys||(Ys={}));class Js{constructor(e){this.replacer=e}encode(e){return e.type!==Ys.EVENT&&e.type!==Ys.ACK||!$s(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===Ys.EVENT?Ys.BINARY_EVENT:Ys.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==Ys.BINARY_EVENT&&e.type!==Ys.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=Hs(e),n=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(n),r}}function Qs(e){return"[object Object]"===Object.prototype.toString.call(e)}class Xs extends os{constructor(e){super(),this.reviver=e}add(e){let t;if("string"==typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const n=t.type===Ys.BINARY_EVENT;n||t.type===Ys.BINARY_ACK?(t.type=n?Ys.EVENT:Ys.ACK,this.reconstructor=new ea(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!zs(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(void 0===Ys[n.type])throw new Error("unknown packet type "+n.type);if(n.type===Ys.BINARY_EVENT||n.type===Ys.BINARY_ACK){const r=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const i=e.substring(r,t);if(i!=Number(i)||"-"!==e.charAt(t))throw new Error("Illegal attachments");n.attachments=Number(i)}if("/"===e.charAt(t+1)){const r=t+1;for(;++t&&","!==e.charAt(t)&&t!==e.length;);n.nsp=e.substring(r,t)}else n.nsp="/";const r=e.charAt(t+1);if(""!==r&&Number(r)==r){const r=t+1;for(;++t;){const n=e.charAt(t);if(null==n||Number(n)!=n){--t;break}if(t===e.length)break}n.id=Number(e.substring(r,t+1))}if(e.charAt(++t)){const r=this.tryParse(e.substr(t));if(!Xs.isPayloadValid(n.type,r))throw new Error("invalid payload");n.data=r}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(e){return!1}}static isPayloadValid(e,t){switch(e){case Ys.CONNECT:return Qs(t);case Ys.DISCONNECT:return void 0===t;case Ys.CONNECT_ERROR:return"string"==typeof t||Qs(t);case Ys.EVENT:case Ys.BINARY_EVENT:return Array.isArray(t)&&("number"==typeof t[0]||"string"==typeof t[0]&&-1===Ks.indexOf(t[0]));case Ys.ACK:case Ys.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class ea{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=Vs(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function ta(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const na=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class ra extends os{constructor(e,t,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[ta(e,"open",this.onopen.bind(this)),ta(e,"packet",this.onpacket.bind(this)),ta(e,"error",this.onerror.bind(this)),ta(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){if(na.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const n={type:Ys.EVENT,data:t,options:{}};if(n.options.compress=!1!==this.flags.compress,"function"==typeof t[t.length-1]){const e=this.ids++,r=t.pop();this._registerAckCallback(e,r),n.id=e}const r=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!r||!this.connected)||(this.connected?(this.notifyOutgoingListeners(n),this.packet(n)):this.sendBuffer.push(n)),this.flags={},this}_registerAckCallback(e,t){var n;const r=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0===r)return void(this.acks[e]=t);const i=this.io.setTimeoutFn((()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))}),r);this.acks[e]=(...e)=>{this.io.clearTimeoutFn(i),t.apply(this,[null,...e])}}emitWithAck(e,...t){const n=void 0!==this.flags.timeout||void 0!==this._opts.ackTimeout;return new Promise(((r,i)=>{t.push(((e,t)=>n?e?i(e):r(t):r(e))),this.emit(e,...t)}))}_addToQueue(e){let t;"function"==typeof e[e.length-1]&&(t=e.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push(((e,...r)=>{if(n===this._queue[0])return null!==e?n.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(e)):(this._queue.shift(),t&&t(null,...r)),n.pending=!1,this._drainQueue()})),this._queue.push(n),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth((e=>{this._sendConnectPacket(e)})):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Ys.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Ys.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ys.EVENT:case Ys.BINARY_EVENT:this.onevent(e);break;case Ys.ACK:case Ys.BINARY_ACK:this.onack(e);break;case Ys.DISCONNECT:this.ondisconnect();break;case Ys.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"==typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let n=!1;return function(...r){n||(n=!0,t.packet({type:Ys.ACK,id:e,data:r}))}}onack(e){const t=this.acks[e.id];"function"==typeof t&&(t.apply(this,e.data),delete this.acks[e.id])}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach((e=>this.emitEvent(e))),this.receiveBuffer=[],this.sendBuffer.forEach((e=>{this.notifyOutgoingListeners(e),this.packet(e)})),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((e=>e())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ys.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,e.data)}}}function ia(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}ia.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},ia.prototype.reset=function(){this.attempts=0},ia.prototype.setMin=function(e){this.ms=e},ia.prototype.setMax=function(e){this.max=e},ia.prototype.setJitter=function(e){this.jitter=e};class oa extends os{constructor(e,t){var n;super(),this.nsps={},this.subs=[],e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,ls(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(n=t.randomizationFactor)&&void 0!==n?n:.5),this.backoff=new ia({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;const i=t.parser||r;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Ds(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const r=ta(t,"open",(function(){n.onopen(),e&&e()})),i=ta(t,"error",(t=>{n.cleanup(),n._readyState="closed",this.emitReserved("error",t),e?e(t):n.maybeReconnectOnOpen()}));if(!1!==this._timeout){const e=this._timeout;0===e&&r();const n=this.setTimeoutFn((()=>{r(),t.close(),t.emit("error",new Error("timeout"))}),e);this.opts.autoUnref&&n.unref(),this.subs.push((function(){clearTimeout(n)}))}return this.subs.push(r),this.subs.push(i),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(ta(e,"ping",this.onping.bind(this)),ta(e,"data",this.ondata.bind(this)),ta(e,"error",this.onerror.bind(this)),ta(e,"close",this.onclose.bind(this)),ta(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(e){this.onclose("parse error",e)}}ondecoded(e){Ts((()=>{this.emitReserved("packet",e)}),this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new ra(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const e of t)if(this.nsps[e].active)return;this._close()}_packet(e){const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){this.subs.forEach((e=>e())),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn((()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open((t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()})))}),t);this.opts.autoUnref&&n.unref(),this.subs.push((function(){clearTimeout(n)}))}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const sa={};function aa(e,t){"object"==typeof e&&(t=e,e=void 0);const n=function(e,t="",n){let r=e;n=n||"undefined"!=typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e=void 0!==n?n.protocol+"//"+e:"https://"+e),r=Ms(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const i=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+t,r.href=r.protocol+"://"+i+(n&&n.port===r.port?"":":"+r.port),r}(e,(t=t||{}).path||"/socket.io"),r=n.source,i=n.id,o=n.path,s=sa[i]&&o in sa[i].nsps;let a;return t.forceNew||t["force new connection"]||!1===t.multiplex||s?a=new oa(r,t):(sa[i]||(sa[i]=new oa(r,t)),a=sa[i]),n.query&&!t.query&&(t.query=n.queryKey),a.socket(n.path,t)}Object.assign(aa,{Manager:oa,Socket:ra,io:aa,connect:aa});const ca=1e4,ua=100;class la{constructor(e,t,n,r,i,o){this.to=t,this.payloadSize=n,this.logger=r,this.requestCallback=i,this.responseCallback=o,this.results=new Map,this.workingState="working",this.requestsInFlight=0,this.endEvent=new Ie.B,this.requests=0,this.latestRequested=e,this.nextToDeliver=e,this.knewTo=void 0!==t}get working(){return"working"===this.workingState}get canceled(){return"canceled"===this.workingState}cancel(){this.working&&(this.workingState="canceled",this.endEvent.resolve())}async run(e){(0,E.h)(e>0,258),(0,E.h)(this.working,259);let t=e;for(;t>0;)t--,this.addRequest();return this.dispatch(),this.endEvent.promise}done(){(0,E.h)(void 0!==this.to,260),(0,E.h)(this.nextToDeliver>=this.to,261),this.working&&(this.workingState="done",this.endEvent.resolve())}fail(e){this.working&&(this.workingState="done",this.endEvent.reject(e))}dispatch(){for(;this.working;){const e=this.results.get(this.nextToDeliver);if(void 0===e)break;this.results.delete(this.nextToDeliver),(0,E.h)(e.length<=this.payloadSize,473),this.nextToDeliver+=e.length,this.responseCallback(e)}this.working&&(0===this.requestsInFlight?((0,E.h)(0===this.results.size,263),this.done()):void 0!==this.to&&this.nextToDeliver>=this.to&&((0,E.h)(!this.knewTo,264),this.done()))}getNextChunk(){if(!this.working)return;const e=this.latestRequested;return void 0!==this.to&&this.to<=e?void 0:(this.latestRequested+=this.payloadSize,void 0!==this.to&&(this.latestRequested=Math.min(this.to,this.latestRequested)),(0,E.h)(e<this.latestRequested,265),{from:e,to:this.latestRequested})}addRequest(){const e=this.getNextChunk();void 0!==e&&this.addRequestCore(e.from,e.to).catch(this.fail.bind(this))}async addRequestCore(e,t){(0,E.h)(this.working,266);let n=e,r=t;for(this.requestsInFlight++;this.working;){const e=r-n;(0,E.h)(e>0,267),void 0!==this.to&&((0,E.h)(n<this.to,268),(0,E.h)(r<=this.to,269)),this.requests++;const t=this.requestCallback(this.requests,n,r,void 0!==this.to,{});this.dispatch();const{payload:i,cancel:o,partial:s}=await t;if(o&&this.cancel(),void 0!==this.to&&n>=this.to){(0,E.h)(!this.knewTo,270),0!==i.length&&this.logger.sendErrorEvent({eventName:"ParallelRequests_GotExtra",from:n,to:r,end:this.to,length:i.length});break}if(this.working){const t=n,o=i.length;let a=e<=o;if(0!==o){e<o&&this.logger.sendTelemetryEvent({eventName:"ParallelRequests_Over",from:n,to:r,length:o});const t=i.splice(0,e);this.results.set(n,t),n+=t.length}else(0,E.h)(!s,271),(0,E.h)(!this.knewTo,272);if(!s&&!a){if(!this.knewTo){(void 0===this.to||this.to>n)&&(this.to=n);break}this.logger.sendPerformanceEvent({eventName:"ParallelRequests_Partial",from:t,to:r,length:o})}if(r===this.latestRequested&&(0!==i.length&&(this.results.set(n,i),n+=i.length),this.latestRequested=n,a=!0),a){const e=this.getNextChunk();if(void 0===e)break;n=e.from,r=e.to}}}this.requestsInFlight--,this.dispatch()}}class ha{constructor(){this.queue=[],this.done=!1}pushValue(e){this.pushCore(Promise.resolve({done:!1,value:e}))}pushError(e){this.pushCore(Promise.reject(e)),this.done=!0}pushDone(){this.pushCore(Promise.resolve({done:!0})),this.done=!0}pushCore(e){(0,E.h)(!this.done,274),this.deferred?((0,E.h)(0===this.queue.length,275),this.deferred.resolve(e),this.deferred=void 0):this.queue.push(e)}async read(){(0,E.h)(void 0===this.deferred,276);const e=this.queue.shift();return void 0!==e?e:((0,E.h)(!this.done,277),this.deferred=new Ie.B,this.deferred.promise)}}const da={read:async()=>({done:!0})};var fa,pa=n(59822);class ma{constructor(e,t,n,r){this.tenantId=e,this.id=t,this.deltaStorageService=n,this.documentStorageService=r,this.logtailSha=this.documentStorageService.logTailSha}fetchMessages(e,t,n,r,i){return r?da:function(e,t,n,r,i,o,s,a){let c,u=0,l=0;const h=new ha,d={fromTotal:n,toTotal:r},f=g.Xr.start(o,Object.assign(Object.assign({eventName:"GetDeltas"},d),{reason:a})),p=new la(n,r,i,o,(async(t,n,r,i,c)=>(u++,async function(e,t,n,r,i,o){let s,a=0;const c=[];for(;!0!==(null==i?void 0:i.aborted);){a++;let i=Math.min(ca,ua*Math.pow(2,a));const u=C.S.now();try{const r=e(Object.assign(Object.assign({},t),{retry:a})),{messages:i,partialResult:o}=await r;if(c.push(...i),0!==i.length||!n)return{payload:c,cancel:!1,partial:o};if(void 0===s)s=C.S.now();else if(C.S.now()-s>3e4)throw Q("Failed to retrieve ops from storage (Too Many Retries)",{canRetry:!1},Object.assign({retry:a,driverVersion:ne},t))}catch(e){const n=X(e);s=void 0;const c=te(e);if(lt(r,Object.assign(Object.assign({eventName:"GetDeltas_Error"},t),{retry:a,duration:C.S.now()-u,retryAfter:c,reason:o}),e),!n)throw e;void 0!==c&&c>=0&&(i=c)}await ht(i)}return{partial:!1,cancel:!0,payload:[]}}((async t=>e(n,r,t)),Object.assign(Object.assign({request:t,from:n,to:r},d),c),i,o,s,a))),(e=>{void 0===c?(0,E.h)(e[0].sequenceNumber===n,621):(0,E.h)(e[0].sequenceNumber===c+1,622),c=e[e.length-1].sequenceNumber,(0,E.h)(c-e[0].sequenceNumber+1===e.length,623),l+=e.length,h.pushValue(e)})),m=e=>{p.cancel()};return void 0!==s&&s.addEventListener("abort",m),p.run(t).finally((()=>{void 0!==s&&s.removeEventListener("abort",m)})).then((()=>{const e={lastFetch:c,length:l,requests:u};p.canceled?f.cancel(Object.assign(Object.assign({},e),{error:"ops request cancelled by client"})):((0,E.h)(void 0===r||void 0!==c&&c>=r-1,624),f.end(e)),h.pushDone()})).catch((e=>{f.cancel({lastFetch:c,length:l,requests:u},e),h.pushError(e)})),h}(this.getCore.bind(this),1,e,t,2e3,new pa.e2,n,i)}async getCore(e,t){const n=this.logtailSha?await he(this.documentStorageService,this.logtailSha):[];if(this.logtailSha=void 0,n.length>0){const t=n.filter((t=>t.sequenceNumber>=e));if(t.length>0)return{messages:t,partialResult:!0}}return this.deltaStorageService.get(this.tenantId,this.id,e,t)}}class ga{constructor(e,t,n,r=(async()=>this.restWrapper),i=(()=>this.url)){this.url=e,this.restWrapper=t,this.logger=n,this.getRestWrapper=r,this.getDeltaStorageUrl=i}async get(e,t,n,r){return{messages:await g.Xr.timedExecAsync(this.logger,{eventName:"getDeltas",from:n,to:r},(async e=>{const t=await this.getRestWrapper(),i=this.getDeltaStorageUrl(),o=await t.get(i,{from:n-1,to:r});return e.end({count:o.length}),o})),partialResult:!1}}}class va extends Hn{constructor(){super(...arguments),this.prefetchCache=new Map,this.prefetchEnabled=!0}get policies(){const e=this.internalStorageService.policies;if(e)return Object.assign(Object.assign({},e),{caching:yo.NoCaching})}async getSnapshotTree(e){const t=this.internalStorageService.getSnapshotTree(e);return this.prefetchEnabled&&t.then((e=>{null!=e&&this.prefetchTree(e)})),t}async readBlob(e){return this.cachedRead(e)}stopPrefetch(){this.prefetchEnabled=!1,this.prefetchCache.clear()}async cachedRead(e){if(this.prefetchEnabled){const t=this.prefetchCache.get(e);if(void 0!==t)return t;const n=this.internalStorageService.readBlob(e);return this.prefetchCache.set(e,n.catch((t=>{throw X(t)&&this.prefetchCache.delete(e),t}))),n}return this.internalStorageService.readBlob(e)}prefetchTree(e){const t=[];this.prefetchTreeCore(e,t);for(const e of t)this.cachedRead(e)}prefetchTreeCore(e,t){for(const n of Object.keys(e.blobs)){const r=e.blobs[n];n.startsWith(".")||"header"===n||n.startsWith("quorum")?null!==r&&this.cachedRead(r):n.startsWith("deltas")||null!==r&&t.push(r)}for(const n of Object.keys(e.trees))this.prefetchTreeCore(e.trees[n],t)}}class ya{constructor(e){this.props=e,this.attachmentCounter=0,this.summaryTree={}}get summary(){var e;return{type:j.Tree,tree:Object.assign({},this.summaryTree),unreferenced:null===(e=this.props)||void 0===e?void 0:e.unreferenced}}addBlob(e,t){this.summaryTree[e]={type:j.Blob,content:t}}addHandle(e,t,n){this.summaryTree[e]={type:j.Handle,handleType:t,handle:n}}addTree(e,t){this.summaryTree[e]=t}addAttachment(e){this.summaryTree[this.attachmentCounter++]={id:e,type:j.Attachment}}}function ba(e,t){const n=new ya({unreferenced:e.unreferenced});for(const[r,i]of Object.entries(e.blobs)){const e=t.get(i);(0,E.h)(void 0!==e,733),n.addBlob(r,le.pv.from(e).toString("utf-8"))}for(const[r,i]of Object.entries(e.trees)){const e=ba(i,t);n.addTree(r,e)}return n.summary}!function(e){e.Tree=1,e.Blob=2,e.Handle=3,e.Attachment=4}(fa||(fa={}));const wa=(...e)=>e.map((e=>e.replace(/^\//,"").replace(/\/$/,""))).filter((e=>!!e)).join("/");function Sa(e,t,n="",r=""){const i={type:"tree",entries:[]},o=Object.keys(t.tree);for(const s of o){const o=t.tree[s];let a,c,u;const l=wa(""===n?r:n,s);switch(o.type){case fa.Tree:c=Sa(e,o,l,r),u=o.unreferenced||void 0;break;case fa.Blob:c="string"==typeof o.content?{type:"blob",content:o.content,encoding:"utf-8"}:{type:"blob",content:(0,le.IN)(o.content,"base64"),encoding:"base64"};break;case fa.Handle:if(o.embedded)a=o.handle;else{if(!e)throw Error("Parent summary does not exist to reference by handle.");a=wa(e,r,o.handle)}break;case fa.Attachment:a=o.id;break;default:(0,k.U)(o,`Unknown type: ${o.type}`)}const h={path:encodeURIComponent(s),type:(0,Ln.FE)(o)};let d;if(c)(0,E.h)(void 0===a,173),d=Object.assign({value:c,unreferenced:u},h);else{if(!a)throw new Error(`Invalid tree entry for ${o.type}`);d=Object.assign(Object.assign({},h),{id:a})}i.entries.push(d)}return i}function _a(e,t=".app"){var n;const r=new Map;e.blobs&&e.blobs.forEach((e=>{var t;r.set(e.id,(0,le.k8)(e.content,null!==(t=e.encoding)&&void 0!==t?t:"utf-8"))}));const i=null===(n=e.trees)||void 0===n?void 0:n[0],o=null==i?void 0:i.sequenceNumber,s=function(e,t){const n={},r={id:e.id,blobs:{},trees:{}};n[""]=r;for(const r of e.entries){const e=r.path.replace(new RegExp(`^${t}/`),""),i=e.lastIndexOf("/"),o=e.slice(0,Math.max(0,i)),s=e.slice(i+1),a=n[o];if("tree"===r.type){const t={blobs:{},trees:{},unreferenced:r.unreferenced};a.trees[decodeURIComponent(s)]=t,n[e]=t}else{if("blob"!==r.type)throw new Error("Unknown entry type!!");a.blobs[decodeURIComponent(s)]=r.id}}return r}(i,t);return{blobs:r,snapshotTree:s,sequenceNumber:o}}class xa{constructor(e){this.manager=e}async writeSummaryTree(e,t,n,r){const i=await this.writeSummaryTreeCore(t,e,n,null!=r?r:0);if(!i)throw new Error("Failed to write summary tree");return i}async writeSummaryTreeCore(e,t,n,r){const i={entries:Sa(e,t,"","channel"===n?".app":"").entries,message:void 0,sequenceNumber:r,type:n};return this.manager.createSummary(i).then((e=>e.id))}}class Ca{constructor(){this.cache=new Map}async get(e){return this.cache.get(e)}async put(e,t){this.cache.set(e,t)}}const Ea="latest";class ka{constructor(e,t,n,r={},i,o=new Ca,s=new Ca,a,c=(async e=>e&&void 0!==this.noCacheGitManager?this.noCacheGitManager:this.manager)){this.id=e,this.manager=t,this.logger=n,this.policies=r,this.driverPolicies=i,this.blobCache=o,this.snapshotTreeCache=s,this.noCacheGitManager=a,this.getStorageManager=c,this.firstVersionsCall=!0}get repositoryUrl(){return""}async getSummaryUploadManager(){const e=await this.getStorageManager();return new xa(e)}async getVersions(e,t){var n;if(e!==this.id&&null!==e)return[{id:e,treeId:void 0}];if(this.firstVersionsCall&&1===t){this.firstVersionsCall=!1;const{id:e,snapshotTree:t}=(null===(n=this.driverPolicies)||void 0===n?void 0:n.enableDiscovery)?await this.fetchAndCacheSnapshotTree(Ea,!0):await this.fetchAndCacheSnapshotTree(Ea,!1);return[{id:e,treeId:t.id}]}const r=e||this.id;return(await g.Xr.timedExecAsync(this.logger,{eventName:"getVersions",versionId:r,count:t},(async()=>(await this.getStorageManager()).getCommits(r,t)))).map((e=>({date:e.commit.author.date,id:e.sha,treeId:e.commit.tree.sha})))}async getSnapshotTree(e){let t=e;if(!t){const e=await this.getVersions(this.id,1);if(0===e.length)return null;t=e[0]}return(await this.fetchAndCacheSnapshotTree(t.id)).snapshotTree}async readBlob(e){const t=await this.blobCache.get(this.getCacheKey(e));if(void 0!==t)return t;const n=await g.Xr.timedExecAsync(this.logger,{eventName:"readBlob",blobId:e},(async t=>{const n=await this.getStorageManager(),r=await n.getBlob(e);return t.end({size:r.size}),r})),r=(0,le.k8)(n.content,n.encoding);return await this.blobCache.put(this.getCacheKey(n.sha),r),r}async uploadSummaryWithContext(e,t){const n=await g.Xr.timedExecAsync(this.logger,{eventName:"uploadSummaryWithContext"},(async()=>{var n;return(await this.getSummaryUploadManager()).writeSummaryTree(e,null!==(n=t.ackHandle)&&void 0!==n?n:"","channel")}));return n}async downloadSummary(e){const t=await g.Xr.timedExecAsync(this.logger,{eventName:"getWholeFlatSummary",treeId:e.handle},(async t=>{var n;const r=await this.getStorageManager(),i=await r.getSummary(e.handle);return t.end({size:null===(n=i.trees[0])||void 0===n?void 0:n.entries.length}),i})),{blobs:n,snapshotTree:r}=_a(t,"");return ba(r,n)}async createBlob(e){const t=new Uint8Array(e);return g.Xr.timedExecAsync(this.logger,{eventName:"createBlob",size:t.length},(async e=>{const n=await this.getStorageManager(),r=await n.createBlob((0,le.IN)(t,"base64"),"base64").then((e=>({id:e.sha,url:e.url})));return e.end({blobId:r.id}),r}))}async fetchAndCacheSnapshotTree(e,t){const n=await this.snapshotTreeCache.get(this.getCacheKey(e));if(void 0!==n)return{id:n.id,snapshotTree:n.snapshotTree};const r=await g.Xr.timedExecAsync(this.logger,{eventName:"getWholeFlatSummary",treeId:e},(async n=>{var r;const i=await this.getStorageManager(t),o=await i.getSummary(e);return n.end({size:null===(r=o.trees[0])||void 0===r?void 0:r.entries.length}),o})),i=_a(r),o=r.id,s=i.snapshotTree.id;(0,E.h)(void 0!==s,629);const a={id:o,snapshotTree:i.snapshotTree},c=[this.snapshotTreeCache.put(this.getCacheKey(s),a),this.initBlobCache(i.blobs)];return s!==e&&c.push(this.snapshotTreeCache.put(this.getCacheKey(e),a)),await Promise.all(c),a}async initBlobCache(e){const t=[];e.forEach(((e,n)=>{const r=this.getCacheKey(n);t.push(this.blobCache.put(r,e))})),await Promise.all(t)}getCacheKey(e){return`${this.id}:${e}`}}var Aa=n(11984);class Na{constructor(e,t,n){this.manager=e,this.blobsShaCache=t,this.getPreviousFullSnapshot=n}async writeSummaryTree(e,t,n,r){const i=await this.getPreviousFullSnapshot(t);return this.writeSummaryTreeCore(e,null!=i?i:void 0)}async writeSummaryTreeCore(e,t){const n=await Promise.all(Object.keys(e.tree).map((async n=>{const r=e.tree[n],i=await this.writeSummaryTreeObject(r,t);return{mode:(0,Ln.ZO)(r),path:encodeURIComponent(n),sha:i,type:(0,Ln.FE)(r)}})));return(await this.manager.createGitTree({tree:n})).sha}async writeSummaryTreeObject(e,t){switch(e.type){case fa.Blob:return this.writeSummaryBlob(e.content);case fa.Handle:if(void 0===t)throw Error("Parent summary does not exist to reference by handle.");return this.getIdFromPath(e.handleType,e.handle,t);case fa.Tree:return this.writeSummaryTreeCore(e,t);case fa.Attachment:return e.id;default:(0,k.U)(e,`Unknown type: ${e.type}`)}}async writeSummaryBlob(e){const{parsedContent:t,encoding:n}="string"==typeof e?{parsedContent:e,encoding:"utf-8"}:{parsedContent:(0,le.IN)(e,"base64"),encoding:"base64"},r=await(0,Aa.e)(le.pv.from(t,n));if(!this.blobsShaCache.has(r)){this.blobsShaCache.set(r,"");const e=await this.manager.createBlob(t,n);(0,E.h)(r===e.sha,182)}return r}getIdFromPath(e,t,n){const r=t.split("/").map((e=>decodeURIComponent(e)));return""===r[0]&&r.shift(),0===r.length?n.id:this.getIdFromPathCore(e,r,n)}getIdFromPathCore(e,t,n){var r;(0,E.h)(t.length>0,179);const i=t[0];if(1===t.length)switch(e){case fa.Blob:{const e=n.blobs[i];return(0,E.h)(!!e,180),e}case fa.Tree:{const e=null===(r=n.trees[i])||void 0===r?void 0:r.id;return(0,E.h)(!!e,181),e}default:throw Error(`Unexpected handle summary object type: "${e}".`)}return this.getIdFromPathCore(e,t.slice(1),n.trees[i])}}class Ta{constructor(e,t){this.internalGitManager=e,this.logger=t}async getHeader(e,t){return this.runWithRetry((async()=>this.internalGitManager.getHeader(e,t)),"gitManager_getHeader")}async getFullTree(e){return this.runWithRetry((async()=>this.internalGitManager.getFullTree(e)),"gitManager_getFullTree")}async getCommit(e){return this.runWithRetry((async()=>this.internalGitManager.getCommit(e)),"gitManager_getCommit")}async getCommits(e,t){return this.runWithRetry((async()=>this.internalGitManager.getCommits(e,t)),"gitManager_getCommits")}async getTree(e,t){return this.runWithRetry((async()=>this.internalGitManager.getTree(e,t)),"gitManager_getTree")}async getBlob(e){return this.runWithRetry((async()=>this.internalGitManager.getBlob(e)),"gitManager_getBlob")}getRawUrl(e){return this.internalGitManager.getRawUrl(e)}async getContent(e,t){return this.runWithRetry((async()=>this.internalGitManager.getContent(e,t)),"gitManager_getContent")}async createBlob(e,t){return this.runWithRetry((async()=>this.internalGitManager.createBlob(e,t)),"gitManager_createBlob")}async createGitTree(e){return this.runWithRetry((async()=>this.internalGitManager.createGitTree(e)),"gitManager_createGitTree")}async createTree(e){return this.runWithRetry((async()=>this.internalGitManager.createTree(e)),"gitManager_createTree")}async createCommit(e){return this.runWithRetry((async()=>this.internalGitManager.createCommit(e)),"gitManager_createCommit")}async getRef(e){return this.runWithRetry((async()=>this.internalGitManager.getRef(e)),"gitManager_getRef")}async createRef(e,t){return this.runWithRetry((async()=>this.internalGitManager.createRef(e,t)),"gitManager_createRef")}async upsertRef(e,t){return this.runWithRetry((async()=>this.internalGitManager.upsertRef(e,t)),"gitManager_upsertRef")}async write(e,t,n,r){return this.runWithRetry((async()=>this.internalGitManager.write(e,t,n,r)),"gitManager_write")}async createSummary(e){return this.runWithRetry((async()=>this.internalGitManager.createSummary(e)),"gitManager_createSummary")}async deleteSummary(e){return this.runWithRetry((async()=>this.internalGitManager.deleteSummary(e)),"gitManager_deleteSummary")}async getSummary(e){return this.runWithRetry((async()=>this.internalGitManager.getSummary(e)),"gitManager_getSummary")}async runWithRetry(e,t){return re(e,t,this.logger,{})}}const Pa="undefined"==typeof window;class Oa{constructor(e,t,n,r={},i,o,s,a=(async()=>this.manager)){this.id=e,this.manager=t,this.logger=n,this.policies=r,this.getStorageManager=a,this.blobsShaCache=new Map,(!0===(null==i?void 0:i.enableRestLess)||Pa)&&(this.blobCache=null!=o?o:new Ca,this.snapshotTreeCache=null!=s?s:new Ca)}get repositoryUrl(){return""}async getSummaryUploadManager(){const e=await this.getStorageManager();return new Na(new Ta(e,this.logger),this.blobsShaCache,this.getPreviousFullSnapshot.bind(this))}async getVersions(e,t){const n=e||this.id;return(await g.Xr.timedExecAsync(this.logger,{eventName:"getVersions",versionId:n,count:t},(async()=>(await this.getStorageManager()).getCommits(n,t)))).map((e=>({date:e.commit.author.date,id:e.sha,treeId:e.commit.tree.sha})))}async getSnapshotTree(e){var t,n;let r=e;if(!r){const e=await this.getVersions(this.id,1);if(0===e.length)return null;r=e[0]}const i=await(null===(t=this.snapshotTreeCache)||void 0===t?void 0:t.get(this.getCacheKey(r.treeId)));if(i)return i.snapshotTree;const o=await g.Xr.timedExecAsync(this.logger,{eventName:"getSnapshotTree",treeId:r.treeId},(async e=>{const t=await this.getStorageManager(),n=await t.getTree(r.treeId);return e.end({size:n.tree.length}),n})),s=(0,Ln.eB)(o,this.blobsShaCache,!0);return await(null===(n=this.snapshotTreeCache)||void 0===n?void 0:n.put(this.getCacheKey(s.id),{id:r.id,snapshotTree:s})),s}async readBlob(e){var t,n;const r=await(null===(t=this.blobCache)||void 0===t?void 0:t.get(this.getCacheKey(e)));if(r)return r;const i=await g.Xr.timedExecAsync(this.logger,{eventName:"readBlob",blobId:e},(async t=>{const n=await this.getStorageManager(),r=await n.getBlob(e);return t.end({size:r.size}),r}));this.blobsShaCache.set(i.sha,"");const o=(0,le.k8)(i.content,i.encoding);return await(null===(n=this.blobCache)||void 0===n?void 0:n.put(this.getCacheKey(i.sha),o)),o}async uploadSummaryWithContext(e,t){const n=await g.Xr.timedExecAsync(this.logger,{eventName:"uploadSummaryWithContext"},(async()=>{var n;return(await this.getSummaryUploadManager()).writeSummaryTree(e,null!==(n=t.ackHandle)&&void 0!==n?n:"","channel")}));return n}async downloadSummary(e){throw new Error("NOT IMPLEMENTED!")}async createBlob(e){const t=new Uint8Array(e);return g.Xr.timedExecAsync(this.logger,{eventName:"createBlob",size:t.length},(async e=>{const n=await this.getStorageManager(),r=await n.createBlob((0,le.IN)(t,"base64"),"base64").then((e=>({id:e.sha,url:e.url})));return e.end({blobId:r.id}),r}))}async getPreviousFullSnapshot(e){return e?this.getVersions(e,1).then((async e=>(this.blobsShaCache.clear(),this.getSnapshotTree(e[0])))):void 0}getCacheKey(e){return`${this.id}:${e}`}}class Ia extends Hn{constructor(e,t,n,r={},i,o,s,a,c){super(Ia.loadInternalDocumentStorageService(e,t,n,r,i,o,s,a,c)),this.id=e,this.manager=t,this.noCacheGitManager=a,this._logTailSha=void 0}get logTailSha(){return this._logTailSha}static loadInternalDocumentStorageService(e,t,n,r,i,o,s,a,c){const u=(null==i?void 0:i.enableWholeSummaryUpload)?new ka(e,t,n,r,i,o,s,a,c):new Oa(e,t,n,r,i,o,s,c);return(null==i?void 0:i.enableWholeSummaryUpload)||r.caching!==yo.Prefetch?u:new va(u)}async getSnapshotTree(e){const t=await this.internalStorageService.getSnapshotTree(e);return null!==t&&(this._logTailSha=".logTail"in t.trees?t.trees[".logTail"].blobs.logTail:void 0),t}}var Ra;!function(e){e.DocRead="doc:read",e.DocWrite="doc:write",e.SummaryWrite="summary:write"}(Ra||(Ra={}));const La="1.3.6";class Ma extends Ae.M{constructor(e,t,n,r=!1){super(((e,t)=>{n.sendErrorEvent({eventName:"DeltaConnection:EventException",name:e},t)})),this.socket=e,this.documentId=t,this.enableLongPollingDowngrades=r,this.queuedMessages=[],this.queuedSignals=[],this.earlyOpHandlerAttached=!1,this.connectionListeners=new Map,this.trackedListeners=new Map,this._disposed=!1,this.earlyOpHandler=(e,t)=>{this.queuedMessages.push(...t)},this.earlySignalHandler=e=>{this.queuedSignals.push(e)},this.mc=(0,p.rZ)(g.G2.create(n,"DeltaConnection")),this.on("newListener",((e,t)=>{if((0,E.h)(!this.disposed,522),Ma.eventsAlwaysForwarded.includes(e))(0,E.h)(this.trackedListeners.has(e),581);else{if(!Ma.eventsToForward.includes(e))throw new Error(`DocumentDeltaConnection: Registering for unknown event: ${e}`);(0,E.h)(0!==this.listeners(e).length===this.trackedListeners.has(e),523),this.trackedListeners.has(e)||this.addTrackedListener(e,((...t)=>{this.emit(e,...t)}))}}))}get hasDetails(){return!!this._details}get disposed(){return(0,E.h)(this._disposed||this.socket.connected,580),this._disposed}get logger(){return this.mc.logger}get details(){if(!this._details)throw new Error("Internal error: calling method before _details is initialized!");return this._details}get clientId(){return this.details.clientId}get mode(){return this.details.mode}get claims(){return this.details.claims}get existing(){return this.details.existing}get maxMessageSize(){return this.details.serviceConfiguration.maxMessageSize}get version(){return this.details.version}get serviceConfiguration(){return this.details.serviceConfiguration}checkNotClosed(){(0,E.h)(!this.disposed,524)}get initialMessages(){return this.checkNotClosed(),(0,E.h)(this.earlyOpHandlerAttached,142),(0,E.h)(0!==this.listeners("op").length,143),this.removeEarlyOpHandler(),this.queuedMessages.length>0&&(this.details.initialMessages.push(...this.queuedMessages),this.details.initialMessages.sort(((e,t)=>e.sequenceNumber-t.sequenceNumber)),this.queuedMessages.length=0),this.details.initialMessages}get initialSignals(){return this.checkNotClosed(),(0,E.h)(0!==this.listeners("signal").length,144),this.removeEarlySignalHandler(),this.queuedSignals.length>0&&(this.details.initialSignals.push(...this.queuedSignals),this.queuedSignals.length=0),this.details.initialSignals}get initialClients(){return this.checkNotClosed(),this.details.initialClients}emitMessages(e,t){this.disposed||this.socket.emit(e,this.clientId,t)}submitCore(e,t){this.emitMessages(e,[t])}submit(e){this.checkNotClosed(),this.submitCore("submitOp",e)}submitSignal(e){this.checkNotClosed(),this.submitCore("submitSignal",[e])}dispose(){this.disposeCore(!1,Q("Client closing delta connection",{canRetry:!0},{driverVersion:La}))}disposeCore(e,t){this._disposed||(this._disposed=!0,this.removeTrackedListeners(),this.disconnect(e,t))}disconnect(e,t){this.socket.disconnect()}async initialize(e,t){this.socket.on("op",this.earlyOpHandler),this.socket.on("signal",this.earlySignalHandler),this.earlyOpHandlerAttached=!0;let n=0;const r=()=>this.socket.io.reconnection(),i=()=>r()?this.socket.io.reconnectionAttempts():0;this._details=await new Promise(((o,s)=>{const a=(e,t)=>{this.disposeCore(e,t),s(t)};this.addConnectionListener("connect_error",(e=>{var t;n++;let o=!1;try{const t=null==e?void 0:e.description;t&&"object"==typeof t&&("TransportError"===e.type&&(o=!0),t.target=void 0)}catch(e){}o&&this.enableLongPollingDowngrades&&"polling"!==(null===(t=this.socket.io.opts.transports)||void 0===t?void 0:t[0])&&(this.socket.io.opts.transports=["polling","websocket"],r()||(this.socket.io.reconnection(!0),this.socket.io.reconnectionAttempts(1))),r()&&n<i()+1||a(!0,this.createErrorObject("connect_error",e))})),this.addConnectionListener("connect_timeout",(()=>{a(!0,this.createErrorObject("connect_timeout"))})),this.addConnectionListener("connect_document_success",(t=>{if(void 0!==e.nonce&&void 0!==t.nonce&&t.nonce!==e.nonce)return;const n=e.mode,r=t.mode;if(t.claims.scopes.includes(Ra.DocWrite)){if(r!==n)return void a(!1,this.createErrorObject("connect_document_success","Connected in a different mode than was requested",!1))}else if("write"===r)return void a(!1,this.createErrorObject("connect_document_success","Connected in write mode without write permissions",!1));this.checkpointSequenceNumber=t.checkpointSequenceNumber,this.removeConnectionListeners(),o(t)})),this.addTrackedListener("disconnect",(e=>{const t=this.createErrorObject("disconnect",e);this.emit("disconnect",t),a(!0,t)})),this.addTrackedListener("error",(e=>{const t=this.createErrorObject("error",e,"Invalid namespace"!==e);this.emit("error",t),a(!0,t)})),this.addConnectionListener("connect_document_error",(t=>{void 0!==e.nonce&&void 0!==t.nonce&&t.nonce!==e.nonce||a(!1,this.createErrorObject("connect_document_error",t))})),this.socket.emit("connect_document",e),this.socketConnectionTimeout=setTimeout((()=>{a(!1,this.createErrorObject("orderingServiceHandshakeTimeout"))}),t+2e3)})),(0,E.h)(!this.disposed,582)}removeEarlyOpHandler(){this.socket.removeListener("op",this.earlyOpHandler),this.earlyOpHandlerAttached=!1}removeEarlySignalHandler(){this.socket.removeListener("signal",this.earlySignalHandler)}addConnectionListener(e,t){(0,E.h)(!Ma.eventsAlwaysForwarded.includes(e),583),(0,E.h)(!Ma.eventsToForward.includes(e),584),this.socket.on(e,t),(0,E.h)(!this.connectionListeners.has(e),525),this.connectionListeners.set(e,t)}addTrackedListener(e,t){this.socket.on(e,t),(0,E.h)(!this.trackedListeners.has(e),526),this.trackedListeners.set(e,t)}removeTrackedListeners(){for(const[e,t]of this.trackedListeners.entries())this.socket.off(e,t);this.removeConnectionListeners(),this.removeEarlyOpHandler(),this.removeEarlySignalHandler(),this.trackedListeners.clear()}removeConnectionListeners(){void 0!==this.socketConnectionTimeout&&clearTimeout(this.socketConnectionTimeout);for(const[e,t]of this.connectionListeners.entries())this.socket.off(e,t);this.connectionListeners.clear()}createErrorObject(e,t,n=!0){let r;return r="TransportError"===(null==t?void 0:t.type)?`${void 0!==(null==t?void 0:t.message)?`${t.message}: `:""}${JSON.stringify(t,(0,T.fd)())}`:(0,pa.YC)(t).message,Q(`socket.io (${e}): ${r}`,{canRetry:n},{driverVersion:La})}}Ma.eventsToForward=["nack","op","signal","pong"],Ma.eventsAlwaysForwarded=["disconnect","error"];const Da="1.3.6";var ja;function Fa(e,t,n){const r={statusCode:t,driverVersion:Da};switch(t){case void 0:return new G(e,e.startsWith("NetworkError"),r);case 401:case 403:return new K(e,void 0,void 0,r);case 404:const t=ja.fileNotFoundOrAccessDeniedError;return new Y(e,t,r);case 429:return Q(e,{canRetry:!0,retryAfterMs:n},r);case 500:case 502:return new G(e,!0,r);default:return Q(e,{canRetry:void 0!==n,retryAfterMs:n},r)}}function Ba(e,t,n){throw Fa(e,t,n)}!function(e){e.fileNotFoundOrAccessDeniedError="fileNotFoundOrAccessDeniedError"}(ja||(ja={}));const qa=["^0.4.0","^0.3.0","^0.2.0","^0.1.0"];class Ua extends Ma{static async create(e,t,n,r,i,o,s,a=2e4){const c=r(o,{query:{documentId:t,tenantId:e},reconnection:!1,transports:["websocket"],timeout:a}),u={client:i,id:t,mode:i.mode,tenantId:e,token:n,versions:qa,relayUserAgent:[i.details.environment,` driverVersion:${Da}`].join(";")},l=new Ua(c,t,s,!0);return await l.initialize(u,a),l}createErrorObject(e,t,n=!0){return n&&Number.isInteger(null==t?void 0:t.code)&&"string"==typeof(null==t?void 0:t.message)?function(e,t){return Fa(`R11s socket error (${t}): ${e.message}`,e.code,e.retryAfterMs)}(t,e):super.createErrorObject(e,t,n)}}class za{get repositoryUrl(){throw new Error("Invalid operation")}async getSnapshotTree(e){return e?Promise.reject(new Error("Invalid operation")):null}async getVersions(e,t){return[]}async uploadSummaryWithContext(e,t){return Promise.reject(new Error("Invalid operation"))}async downloadSummary(e){return Promise.reject(new Error("Invalid operation"))}async createBlob(e){return Promise.reject(new Error("Null blob storage can not create blob"))}async readBlob(e){return Promise.reject(new Error("Null blob storage can not read blob"))}}var $a;!function(e){e.Method="method",e.Header="header",e.Body="body"}($a||($a={}));const Ha=(e,t)=>`${e}: ${t}`;class Ga{translate(e){var t,n;const r=Object.assign({},e),i=new URLSearchParams;if(i.append($a.Method,null!==(t=r.method)&&void 0!==t?t:"GET"),r.headers)for(const[e,t]of Object.entries(r.headers)){const n=Ha(e,t);i.append($a.Header,n)}if(r.data&&["post","put","patch"].includes(null===(n=r.method)||void 0===n?void 0:n.toLowerCase())){const e=JSON.stringify(r.data);i.append($a.Body,e)}return r.data=i.toString(),r.method="POST",r.headers={"Content-Type":"application/x-www-form-urlencoded;restless"},r}}var Va,Wa=n(89372),Ka=n.n(Wa),Za=new Uint8Array(16);function Ya(){if(!Va&&!(Va="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Va(Za)}const Ja=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var Qa=[],Xa=0;Xa<256;++Xa)Qa.push((Xa+256).toString(16).substr(1));const ec=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(Qa[e[t+0]]+Qa[e[t+1]]+Qa[e[t+2]]+Qa[e[t+3]]+"-"+Qa[e[t+4]]+Qa[e[t+5]]+"-"+Qa[e[t+6]]+Qa[e[t+7]]+"-"+Qa[e[t+8]]+Qa[e[t+9]]+"-"+Qa[e[t+10]]+Qa[e[t+11]]+Qa[e[t+12]]+Qa[e[t+13]]+Qa[e[t+14]]+Qa[e[t+15]]).toLowerCase();if(!function(e){return"string"==typeof e&&Ja.test(e)}(n))throw TypeError("Stringified UUID is invalid");return n},tc=function(e,t,n){var r=(e=e||{}).random||(e.rng||Ya)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return ec(r)};class nc extends Fo{constructor(e,t,n,r,i,o={}){super(i,o),this.rateLimiter=t,this.getAuthorizationHeader=n,this.useRestLess=r,this.restLess=new Ga}async load(){this.authorizationHeader=await this.getAuthorizationHeader()}async request(e,t,n=!0){var r;const i=Object.assign(Object.assign({},e),{headers:this.generateHeaders(e.headers)}),o=(e=>{var t,n;return[void 0!==e.baseURL?`${e.baseURL}${null!==(t=e.url)&&void 0!==t?t:""}`:null!==(n=e.url)&&void 0!==n?n:"",{method:e.method,headers:e.headers,body:e.data}]})(this.useRestLess?this.restLess.translate(i):i),s=await this.rateLimiter.schedule((async()=>Ka()(...o).catch((async e=>{Ba(["TypeError","FetchError"].includes(null==e?void 0:e.name)?`NetworkError: ${e.message}`:Co()(e))})))),a=(null===(r=s.headers.get("content-type"))||void 0===r?void 0:r.includes("application/json"))?await s.json():await s.text();return s.ok||s.status===t?a:401===s.status&&n?(this.authorizationHeader=await this.getAuthorizationHeader(!0),this.request(i,t,!1)):429===s.status&&(null==a?void 0:a.retryAfter)>0?new Promise(((e,n)=>setTimeout((()=>{this.request(i,t).then(e).catch(n)}),1e3*a.retryAfter))):void Ba(`R11s fetch error: ${void 0!==a?"string"==typeof a?a:Co()(a):s.statusText}`,s.status,null==a?void 0:a.retryAfter)}generateHeaders(e){const t=(null==e?void 0:e["x-correlation-id"])||tc();return Object.assign(Object.assign({},e),{"x-correlation-id":t,"x-driver-version":Da,Authorization:this.authorizationHeader})}}class rc extends nc{constructor(e,t,n,r,i,o={}){super(e,t,n,r,i,o)}static async load(e,t,n,r,i,o,s){const a={token:`${(0,So.d3)(e)}`},c=new rc(r,i,(async r=>{return i={password:(await n.fetchStorageToken(e,t,r)).jwt,user:e},`Basic ${(0,So.d3)(`${i.user}:${i.password}`)}`;var i}),o,s,a);try{await c.load()}catch(e){r.sendErrorEvent({eventName:"R11sRestWrapperLoadFailure"},e),await c.load()}return c}}class ic extends nc{constructor(e,t,n,r,i,o={}){super(e,t,n,r,i,o)}static async load(e,t,n,r,i,o,s){const a=new ic(r,i,(async r=>`Basic ${(await n.fetchOrdererToken(e,t,r)).jwt}`),o,s);try{await a.load()}catch(e){r.sendErrorEvent({eventName:"R11sRestWrapperLoadFailure"},e),await a.load()}return a}}class oc{constructor(e,t,n,r,i,o,s,a,c,u,l,h){this._resolvedUrl=e,this.ordererUrl=t,this.deltaStorageUrl=n,this.storageUrl=r,this.logger=i,this.tokenProvider=o,this.tenantId=s,this.documentId=a,this.driverPolicies=c,this.blobCache=u,this.snapshotTreeCache=l,this.discoverFluidResolvedUrl=h,this.lastDiscoveredAt=Date.now()}get resolvedUrl(){return this._resolvedUrl}dispose(){}async connectToStorage(){if(void 0!==this.documentStorageService)return this.documentStorageService;if(void 0===this.storageUrl)return new za;const e=async e=>{const t=this.shouldUpdateDiscoveredSessionInfo();if(t&&await this.refreshDiscovery(),!this.storageManager||!this.noCacheStorageManager||t){const e=new bo(this.driverPolicies.maxConcurrentStorageRequests),t=await rc.load(this.tenantId,this.documentId,this.tokenProvider,this.logger,e,this.driverPolicies.enableRestLess,this.storageUrl),n=new Uo(this.storageUrl,!0,!1,t);this.storageManager=new Ho(n);const r=new Uo(this.storageUrl,!0,!0,t);this.noCacheStorageManager=new Ho(r)}return e?this.noCacheStorageManager:this.storageManager},t=await e(),n=await e(!0),r={caching:this.driverPolicies.enablePrefetch?yo.Prefetch:yo.NoCaching,minBlobSize:this.driverPolicies.aggregateBlobsSmallerThanBytes};return this.documentStorageService=new Ia(this.documentId,t,this.logger,r,this.driverPolicies,this.blobCache,this.snapshotTreeCache,n,e),this.documentStorageService}async connectToDeltaStorage(){await this.connectToStorage(),(0,E.h)(!!this.documentStorageService,177);const e=async()=>{const e=this.shouldUpdateDiscoveredSessionInfo();if(e&&await this.refreshDiscovery(),!this.ordererRestWrapper||e){const e=new bo(this.driverPolicies.maxConcurrentOrdererRequests);this.ordererRestWrapper=await ic.load(this.tenantId,this.documentId,this.tokenProvider,this.logger,e,this.driverPolicies.enableRestLess)}return this.ordererRestWrapper},t=await e(),n=new ga(this.deltaStorageUrl,t,this.logger,e,(()=>this.deltaStorageUrl));return new ma(this.tenantId,this.documentId,n,this.documentStorageService)}async connectToDeltaStream(e){const t=async t=>{this.shouldUpdateDiscoveredSessionInfo()&&await this.refreshDiscovery();const n=await this.tokenProvider.fetchOrdererToken(this.tenantId,this.documentId,t);return Ua.create(this.tenantId,this.documentId,n.jwt,aa,e,this.ordererUrl,this.logger)};try{return await t()}catch(e){if(401===(null==e?void 0:e.statusCode))return t(!0);throw e}}async refreshDiscovery(){return this.discoverP||(this.discoverP=g.Xr.timedExecAsync(this.logger,{eventName:"refreshSessionDiscovery"},(async()=>this.refreshDiscoveryCore()))),this.discoverP}async refreshDiscoveryCore(){const e=await this.discoverFluidResolvedUrl();this._resolvedUrl=e,this.storageUrl=e.endpoints.storageUrl,this.ordererUrl=e.endpoints.ordererUrl,this.deltaStorageUrl=e.endpoints.deltaStorageUrl}shouldUpdateDiscoveredSessionInfo(){if(!this.driverPolicies.enableDiscovery)return!1;const e=Date.now()-this.lastDiscoveredAt>3e5;return e&&(this.lastDiscoveredAt=Date.now(),this.discoverP=void 0,this.refreshDiscovery().catch((()=>{this.lastDiscoveredAt=0}))),e}}var sc;function ac(e){const t=Object.keys(e.tree);for(const n of t){const t=e.tree[n];switch(t.type){case sc.Tree:e.tree[n]=ac(t);break;case sc.Blob:t.content="string"==typeof t.content?t.content:(0,le.IN)(t.content,"utf8");break;case sc.Handle:throw new Error("No handle should be present for first summary!!");default:throw new Error(`Unknown tree type ${t.type}`)}}return e}!function(e){e.Tree=1,e.Blob=2,e.Handle=3,e.Attachment=4}(sc||(sc={}));var cc=n(80899),uc=n.n(cc);const lc=e=>new(uc())(e,!0),hc=(e,t)=>e.split("/").slice(0,-1).concat([t]).join("/"),dc=(e,t)=>{if(t){const n=new(uc())(t.ordererUrl),r=new(uc())(e.endpoints.deltaStorageUrl);r.set("host",n.host);const i=new(uc())(t.historianUrl),o=new(uc())(e.endpoints.storageUrl);o.set("host",i.host);const s=lc(e.url);return{endpoints:{deltaStorageUrl:r.toString(),ordererUrl:t.ordererUrl,storageUrl:o.toString()},id:e.id,tokens:e.tokens,type:e.type,url:new(uc())(`fluid://${n.host}${s.pathname}`).toString()}}return e},fc={enablePrefetch:!0,maxConcurrentStorageRequests:100,maxConcurrentOrdererRequests:100,aggregateBlobsSmallerThanBytes:void 0,enableDiscovery:!1,enableWholeSummaryUpload:!1,enableRestLess:!0};class pc{constructor(e,t={}){this.tokenProvider=e,this.protocolName="fluid:",this.blobCache=new Ca,this.snapshotTreeCache=new Ca,this.driverPolicies=Object.assign(Object.assign({},fc),t)}async createContainer(e,t,n,r){if(y(t),void 0===e)throw new Error("Empty file summary creation isn't supported in this driver.");(0,E.h)(!!t.endpoints.ordererUrl,178);let i=lc(t.url);if(!i.pathname)throw new Error("Parsed url should contain tenant and doc Id!!");const[,o]=i.pathname.split("/"),s=e.tree[".protocol"],a=e.tree[".app"];if(!s||!a)throw new Error("Protocol and App Summary required in the full summary");const c=function(e){var t;const n=e.tree.attributes,r=JSON.parse(n.content);return r.term=null!==(t=r.term)&&void 0!==t?t:1,r}(s),u=function(e){const t=e.tree.quorumValues;return JSON.parse(t.content)}(s),l=g.G2.create(n,"RouterliciousDriver"),h=new bo(this.driverPolicies.maxConcurrentOrdererRequests),d=await ic.load(o,void 0,this.tokenProvider,l,h,this.driverPolicies.enableRestLess,t.endpoints.ordererUrl),f=await d.post(`/documents/${o}`,{summary:ac(a),sequenceNumber:c.sequenceNumber,values:u,enableDiscovery:this.driverPolicies.enableDiscovery,generateToken:void 0!==this.tokenProvider.documentPostCreateCallback});let p,m,v;if("string"==typeof f?p=f:(p=f.id,m=f.token,v=this.driverPolicies.enableDiscovery?f.session:void 0),i=lc(t.url),m&&void 0!==this.tokenProvider.documentPostCreateCallback)try{await this.tokenProvider.documentPostCreateCallback(p,m)}catch(e){throw new mc(e)}i.set("pathname",hc(i.pathname,p));const b=t.endpoints.deltaStorageUrl;if(!b)throw new Error(`All endpoints urls must be provided. [deltaStorageUrl:${b}]`);const w=new URL(b);return w.pathname=hc(w.pathname,p),this.createDocumentService(Object.assign(Object.assign({},t),{url:i.toString(),id:p,endpoints:Object.assign(Object.assign({},t.endpoints),{deltaStorageUrl:w.toString()})}),n,r,v)}async createDocumentService(e,t,n,r){y(e);const i=lc(e.url),[,o,s]=i.pathname.split("/");if(!s||!o)throw new Error(`Couldn't parse documentId and/or tenantId. [documentId:${s}][tenantId:${o}]`);const a=g.G2.create(t,"RouterliciousDriver",{all:{driverVersion:Da}}),c=async()=>{if(!this.driverPolicies.enableDiscovery)return e;const t=new bo(this.driverPolicies.maxConcurrentOrdererRequests),n=await ic.load(o,s,this.tokenProvider,a,t,this.driverPolicies.enableRestLess,e.endpoints.ordererUrl),r=await n.get(`/documents/${o}/session/${s}`);return dc(e,r)},u=void 0!==r?dc(e,r):await c(),l=u.endpoints.storageUrl,h=u.endpoints.ordererUrl,d=u.endpoints.deltaStorageUrl;if(!h||!d)throw new Error(`All endpoints urls must be provided. [ordererUrl:${h}][deltaStorageUrl:${d}]`);return new oc(u,h,d,l,a,this.tokenProvider,o,s,this.driverPolicies,this.blobCache,this.snapshotTreeCache,c)}}class mc extends Error{constructor(e){super(e.message),this.innerError=e,this.name="DocumentPostCreateError"}get stack(){return this.innerError.stack}}class gc extends we.L{constructor(e){super(),this.container=e,this.lastMembers=new Map,this.audience=e.audience,this.getMembers(),this.audience.on("addMember",((e,t)=>{if(this.shouldIncludeAsMember(t)){const t=this.getMember(e);this.emit("memberAdded",e,t),this.emit("membersChanged")}})),this.audience.on("removeMember",(e=>{this.lastMembers.has(e)&&(this.emit("memberRemoved",e,this.lastMembers.get(e)),this.emit("membersChanged"))})),this.container.on("connected",(()=>this.emit("membersChanged")))}getMembers(){const e=new Map,t=new Map;return this.audience.getMembers().forEach(((n,r)=>{if(this.shouldIncludeAsMember(n)){const i=n.user.id;let o=e.get(i);void 0===o&&(o=this.createServiceMember(n),e.set(i,o)),o.connections.push({id:r,mode:n.mode}),t.set(r,o)}})),this.lastMembers=t,e}getMyself(){const e=this.container.clientId;if(void 0!==e)return this.getMember(e)}getMember(e){const t=this.audience.getMember(e);if(void 0===t)return;const n=this.getMembers().get(null==t?void 0:t.user.id);if(void 0===n)throw Error(`Attempted to fetch client ${e} that is not part of the current member list`);return n}shouldIncludeAsMember(e){return e.details.capabilities.interactive}}class vc extends gc{createServiceMember(e){const t=e.user;return function(e,t){if(!e)throw new Error(t)}(void 0!==(null==t?void 0:t.name),'Provided user was not an "AzureUser".'),{userId:e.user.id,userName:t.name,connections:[],additionalDetails:t.additionalDetails}}}class yc{constructor(){}async resolve(e){const{ordererUrl:t,storageUrl:n,tenantId:r,containerId:i}=function(e){const t=new URL(e),n=t.origin,r=t.searchParams,i=r.get("storage");if(null===i)throw new Error("Azure URL did not contain a storage URL");const o=r.get("tenantId");if(null===o)throw new Error("Azure URL did not contain a tenant ID");const s=decodeURIComponent(i),a=decodeURIComponent(o),c=r.get("containerId");return{ordererUrl:n,storageUrl:s,tenantId:a,containerId:null!==c?decodeURIComponent(c):void 0}}(e.url);if(e.headers&&!0===e.headers[Mt.createNew])return{endpoints:{deltaStorageUrl:`${t}/deltas/${r}/new`,ordererUrl:t,storageUrl:`${n}/repos/${r}`},id:"",tokens:{},type:"fluid",url:`${t}/${r}/new`};if(void 0===i)throw new Error("Azure URL did not contain containerId");return{endpoints:{deltaStorageUrl:`${t}/deltas/${r}/${i}`,ordererUrl:t,storageUrl:`${n}/repos/${r}`},id:i,tokens:{},type:"fluid",url:`${t}/${r}/${i}`}}async getAbsoluteUrl(e,t){if("fluid"!==e.type)throw new Error("Invalid Resolved Url");return`${e.url}/${t}`}}function bc(e){return"remote"===e.type}const wc=e=>bc(e)?e.tenantId:"local";class Sc{constructor(e){this.props=e,e.connection.endpoint=e.connection.endpoint.replace(/\/$/,""),this.urlResolver=new yc;const t=bc(this.props.connection);this.documentServiceFactory=new pc(this.props.connection.tokenProvider,{enableWholeSummaryUpload:t,enableDiscovery:t})}async createContainer(e){const t=this.createLoader(e),n=await t.createDetachedContainer({package:"no-dynamic-package",config:{}});return{container:await this.createFluidContainer(n,this.props.connection),services:this.getContainerServices(n)}}async copyContainer(e,t,n){var r;const i=this.createLoader(t),o=new URL(this.props.connection.endpoint);o.searchParams.append("storage",encodeURIComponent(this.props.connection.endpoint)),o.searchParams.append("tenantId",encodeURIComponent(wc(this.props.connection))),o.searchParams.append("containerId",encodeURIComponent(e));const s=await i.resolve({url:o.href});if(void 0===s.resolvedUrl)throw new Error("Source container cannot resolve URL.");const a=await this.documentServiceFactory.createDocumentService(s.resolvedUrl),c=await a.connectToStorage(),u={type:vo.Handle,handleType:vo.Tree,handle:null!==(r=null==n?void 0:n.id)&&void 0!==r?r:"latest"},l=await c.downloadSummary(u),h=await i.rehydrateDetachedContainerFromSnapshot(JSON.stringify(l));return{container:await this.createFluidContainer(h,this.props.connection),services:this.getContainerServices(h)}}async getContainer(e,t){const n=this.createLoader(t),r=new URL(this.props.connection.endpoint);r.searchParams.append("storage",encodeURIComponent(this.props.connection.endpoint)),r.searchParams.append("tenantId",encodeURIComponent(wc(this.props.connection))),r.searchParams.append("containerId",encodeURIComponent(e));const i=await n.resolve({url:r.href}),o=await(0,Vt.bb)(i,"/");return{container:new Ct(i,o),services:this.getContainerServices(i)}}async getContainerVersions(e,t){var n;const r=new URL(this.props.connection.endpoint);r.searchParams.append("storage",encodeURIComponent(this.props.connection.endpoint)),r.searchParams.append("tenantId",encodeURIComponent(wc(this.props.connection))),r.searchParams.append("containerId",encodeURIComponent(e));const i=await this.urlResolver.resolve({url:r.href});if(!i)throw new Error("Unable to resolved URL");const o=await this.documentServiceFactory.createDocumentService(i),s=await o.connectToStorage();return(await s.getVersions(null,null!==(n=null==t?void 0:t.maxCount)&&void 0!==n?n:5)).map((e=>({id:e.id,date:e.date})))}getContainerServices(e){return{audience:new vc(e)}}createLoader(e){const t=new go(e),n={load:async()=>({module:{fluidExport:t},details:{package:"no-dynamic-package",config:{}}})};return new xt({urlResolver:this.urlResolver,documentServiceFactory:this.documentServiceFactory,codeLoader:n,logger:this.props.logger})}async createFluidContainer(e,t){const n=((e,t)=>{const n=new URL(e);return n.searchParams.append("storage",encodeURIComponent(e)),n.searchParams.append("tenantId",encodeURIComponent(t)),{url:n.href,headers:{[Mt.createNew]:!0}}})(t.endpoint,wc(t)),r=await(0,Vt.bb)(e,"/"),i=new Ct(e,r);return i.attach=async()=>{if(e.attachState!==o.mB.Detached)throw new Error("Cannot attach container. Container is not in detached state");await e.attach(n);const t=e.resolvedUrl;return y(t),t.id},i}}var _c,xc=new Uint8Array(16);function Cc(){if(!_c&&!(_c="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return _c(xc)}const Ec=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var kc=[],Ac=0;Ac<256;++Ac)kc.push((Ac+256).toString(16).substr(1));const Nc=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(kc[e[t+0]]+kc[e[t+1]]+kc[e[t+2]]+kc[e[t+3]]+"-"+kc[e[t+4]]+kc[e[t+5]]+"-"+kc[e[t+6]]+kc[e[t+7]]+"-"+kc[e[t+8]]+kc[e[t+9]]+"-"+kc[e[t+10]]+kc[e[t+11]]+kc[e[t+12]]+kc[e[t+13]]+kc[e[t+14]]+kc[e[t+15]]).toLowerCase();if(!function(e){return"string"==typeof e&&Ec.test(e)}(n))throw TypeError("Stringified UUID is invalid");return n},Tc=function(e,t,n){var r=(e=e||{}).random||(e.rng||Cc)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return Nc(r)};class Pc{type="";format="";data="";constructor(e,t,n){this.type=e,this.format=t,this.data=n}}class Oc{modelId="";data;id=Tc();created=new Date;createdBy="";createdByUuid="";constructor(e,t){this.modelId=e,this.data=t}}let Ic=null;if(function(){if(void 0===n.g||!n.g||!n.g.process||void 0===n.g.process)return!1;let e=!1;try{e="[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}return e}()){console.log("Running in Node context, using node-fetch."),fetch=n(40759);const e=n(13498);Ic=new e.Agent({rejectUnauthorized:!1})}else console.log("Running in Browser context, using browser fetch."),Ic=null;const Rc=async(e,t,n,r,i)=>{let o=new Headers({"Content-Type":"application/json"});if(i?.forEach(((e,t)=>o.set(t,e))),n&&n.length>0){const e=`Bearer ${n}`;o.set("Authorization",e)}for(let n=0;n<2;n++)try{const n={body:r&&JSON.stringify(r),headers:o,method:e,agent:Ic},i=await fetch(t,n);if(i.ok){if(204===i.status)return;return i.json()}if(401!==i.status)throw new Error(i.statusText)}catch(e){throw e}throw new Error("Unauthorized")};var Lc,Mc=n(26601);!function(e){e.SessionCreate="session-create",e.SessionUpdate="session-update",e.SessionRemove="session-remove",e.SessionList="session-list",e.SessionConnect="session-connect",e.SessionDisconnect="session-disconnect",e.ChangeSetAdd="changeset-add",e.ChangeSetsClear="changesets-clear",e.FluidTelemetry="fluid-telemetry",e.Metrics="(M)"}(Lc||(Lc={}));const Dc={us:"https://log-api.newrelic.com/log/v1",eu:"https://log-api.eu.newrelic.com/log/v1"};class jc{_apiUrl="";_component=void 0;_scope=void 0;_version=void 0;_apiKey="5c11804754a6c27d7982447f589cee7e17a0NRAL";constructor(e,t,n,r){this._apiUrl=Dc[e],this._component=t,this._scope=n?this.decodeScopeFromJwt(n):void 0,this._version=r}log(e,t,n,r,i){return this.sendLogMessage(e,"Log",t,n,r,i)}info(e,t,n,r,i){return this.sendLogMessage(e,"Info",t,n,r,i)}warn(e,t,n,r,i){return this.sendLogMessage(e,"Warn",t,n,r,i)}error(e,t,n,r,i){return this.sendLogMessage(e,"Error",t,n,r,i)}fluidLog(e,t,n,r,i,o){return this.sendLogMessage(e,"Log",t,n,r,i,o)}fluidError(e,t,n,r,i,o){return this.sendLogMessage(e,"Error",t,n,r,i,o)}async sendLogMessage(e,t,n,r,i,o,s){if("undefined"==typeof window)return;let a={timestamp:Date.now(),component:this._component,scope:this._scope,version:this._version,service:"trimble-live-sharing",level:t,hostname:location.hostname,pathname:location.pathname,message:e,session:r,event:n,user:o,fluidEvent:s};i&&(a.changeset=new Oc(i.modelId,new Pc(i.data.type,i.data.format,"")),a.changeset.createdBy=i.createdBy,a.changeset.createdByUuid=i.createdByUuid,a.changeset.data.size=i.data.data?i.data.data.length:0,delete a.changeset.data.data);const c=new Map;c.set("Api-Key",this._apiKey);try{return await Rc("POST",`${this._apiUrl}`,"",a,c)}catch(e){return void console.error("Live Sharing New Relic Log: Error sending log",e)}}decodeScopeFromJwt(e){if(e)try{return(0,Mc.Z)(e).scope}catch(e){console.error("Error parsing JWT: ",e)}}}var Fc,Bc=n(22176);!function(e){e[e.Simple=0]="Simple",e[e.Tile=1]="Tile",e[e.NestBegin=2]="NestBegin",e[e.NestEnd=4]="NestEnd",e[e.RangeBegin=16]="RangeBegin",e[e.RangeEnd=32]="RangeEnd",e[e.SlideOnRemove=64]="SlideOnRemove",e[e.StayOnRemove=128]="StayOnRemove",e[e.Transient=256]="Transient"}(Fc||(Fc={}));const qc={INSERT:0,REMOVE:1,ANNOTATE:2,GROUP:3};var Uc;!function(e){e[e.spliceCols=0]="spliceCols",e[e.spliceRows=1]="spliceRows",e[e.set=2]="set"}(Uc||(Uc={}));class zc{constructor(){this.items=[]}push(e){this.items.push(e)}empty(){return 0===this.items.length}top(){return this.items[this.items.length-1]}pop(){return this.items.pop()}}function $c(e){if(void 0!==e&&!e.isHead)return e.next.prev=e.prev,e.prev.next=e.next,e}function Hc(e){return new Vc(!1,e)}function Gc(){return new Vc(!0,void 0)}class Vc{constructor(e,t){this.isHead=e,this.data=t,this.prev=this,this.next=this}clear(){this.isHead&&(this.prev=this,this.next=this)}add(e){const t=Hc(e);return this.prev.next=t,t.next=this,t.prev=this.prev,this.prev=t,t}dequeue(){if(!this.empty())return $c(this.next).data}enqueue(e){return this.add(e)}walk(e){for(let t=this.next;!t.isHead;t=t.next)e(t.data,t)}some(e,t){const n=[];for(let r=t?this.prev:this.next;!r.isHead;r=t?r.prev:r.next){const i=r.data;e(i,r)&&(t?n.unshift(i):n.push(i))}return n}count(){let e,t;for(e=this.next,t=0;!e.isHead;t++)e=e.next;return t}first(){if(!this.empty())return this.next.data}last(){if(!this.empty())return this.prev.data}empty(){return this.next===this}push(e){this.unshift(e)}unshift(e){const t=Hc(e);t.data=e,t.isHead=!1,t.next=this.next,t.prev=this,this.next=t,t.next.prev=t}[Symbol.iterator](){let e=this;return{next(){for(;e&&!1===e.next.isHead;)if(e=e.next,void 0!==e.data)return{value:e.data,done:!1};return{value:void 0,done:!0}},[Symbol.iterator](){return this}}}}class Wc{constructor(e,t){this.comp=t,this.L=[t.min];for(let t=0,n=e.length;t<n;t++)this.add(e[t])}count(){return this.L.length-1}peek(){return this.L[1]}get(){const e=this.L[1];return this.L[1]=this.L[this.count()],this.L.pop(),this.fixDown(1),e}add(e){this.L.push(e),this.fixup(this.count())}fixup(e){let t=e;for(;t>1&&this.comp.compare(this.L[t>>1],this.L[t])>0;){const e=this.L[t>>1];this.L[t>>1]=this.L[t],this.L[t]=e,t>>=1}}fixDown(e){let t=e;for(;t<<1<=this.count();){let e=t<<1;if(e<this.count()&&this.comp.compare(this.L[e],this.L[e+1])>0&&e++,this.comp.compare(this.L[t],this.L[e])<=0)break;const n=this.L[t];this.L[t]=this.L[e],this.L[e]=n,t=e}}}class Kc{constructor(e,t){this.compareKeys=e,this.aug=t}makeNode(e,t,n,r){return{key:e,data:t,color:n,size:r}}isRed(e){return!!e&&0===e.color}nodeSize(e){return e?e.size:0}size(){return this.nodeSize(this.root)}isEmpty(){return!this.root}get(e){if(void 0!==e)return this.nodeGet(this.root,e)}nodeGet(e,t){let n=e;for(;n;){const e=this.compareKeys(t,n.key);if(e<0)n=n.left;else{if(!(e>0))return n;n=n.right}}}contains(e){return this.get(e)}gather(e,t){const n=[];return void 0!==e&&this.nodeGather(this.root,n,e,t),n}nodeGather(e,t,n,r){e&&(r.continueSubtree(e.left,n)&&this.nodeGather(e.left,t,n,r),r.matchNode(e,n)&&t.push(e),r.continueSubtree(e.right,n)&&this.nodeGather(e.right,t,n,r))}walkExactMatchesForward(e,t,n,r){this.nodeWalkExactMatchesForward(this.root,e,t,n,r)}nodeWalkExactMatchesForward(e,t,n,r,i){if(!e)return;const o=t(e);r(o)&&this.nodeWalkExactMatchesForward(e.left,t,n,r,i),0===o&&n(e),i(o)&&this.nodeWalkExactMatchesForward(e.right,t,n,r,i)}walkExactMatchesBackward(e,t,n,r){this.nodeWalkExactMatchesBackward(this.root,e,t,n,r)}nodeWalkExactMatchesBackward(e,t,n,r,i){if(!e)return;const o=t(e);i(o)&&this.nodeWalkExactMatchesBackward(e.right,t,n,r,i),0===o&&n(e),r(o)&&this.nodeWalkExactMatchesBackward(e.left,t,n,r,i)}put(e,t,n){void 0!==e&&(void 0===t?this.remove(e):(this.root=this.nodePut(this.root,e,t,n),this.root.color=1))}nodePut(e,t,n,r){let i=e;if(i){const e=this.compareKeys(t,i.key);if(e<0)i.left=this.nodePut(i.left,t,n,r);else if(e>0)i.right=this.nodePut(i.right,t,n,r);else if(r){const e=r(t,i.key,n,i.data);e.key&&(i.key=e.key),e.data?i.data=e.data:i.data=n}else i.data=n;return this.isRed(i.right)&&!this.isRed(i.left)&&(i=this.rotateLeft(i)),this.isRed(i.left)&&this.isRed(i.left.left)&&(i=this.rotateRight(i)),this.isRed(i.left)&&this.isRed(i.right)&&this.flipColors(i),i.size=this.nodeSize(i.left)+this.nodeSize(i.right)+1,this.aug&&this.updateLocal(i),i}return this.makeNode(t,n,0,1)}updateLocal(e){this.aug&&(this.isRed(e.left)&&this.aug.update(e.left),this.isRed(e.right)&&this.aug.update(e.right),this.aug.update(e))}nodeRemoveMin(e){let t=e;if(t.left)return this.isRed(t.left)||this.isRed(t.left.left)||(t=this.moveRedLeft(t)),t.left=this.nodeRemoveMin(t.left),this.balance(t)}remove(e){if(void 0!==e){if(!this.contains(e))return;this.removeExisting(e)}}removeExisting(e){this.isRed(this.root.left)||this.isRed(this.root.right)||(this.root.color=0),this.root=this.nodeRemove(this.root,e)}nodeRemove(e,t){let n=e;if(this.compareKeys(t,n.key)<0)this.isRed(n.left)||this.isRed(n.left.left)||(n=this.moveRedLeft(n)),n.left=this.nodeRemove(n.left,t);else{if(this.isRed(n.left)&&(n=this.rotateRight(n)),0===this.compareKeys(t,n.key)&&!n.right)return;if(this.isRed(n.right)||this.isRed(n.right.left)||(n=this.moveRedRight(n)),0===this.compareKeys(t,n.key)){const e=this.nodeMin(n.right);n.key=e.key,n.data=e.data,n.right=this.nodeRemoveMin(n.right)}else n.right=this.nodeRemove(n.right,t)}return this.balance(n)}floor(e){if(!this.isEmpty())return this.nodeFloor(this.root,e)}nodeFloor(e,t){if(e){const n=this.compareKeys(t,e.key);if(0===n)return e;if(n<0)return this.nodeFloor(e.left,t);return this.nodeFloor(e.right,t)||e}}ceil(e){if(!this.isEmpty())return this.nodeCeil(this.root,e)}nodeCeil(e,t){if(e){const n=this.compareKeys(t,e.key);if(0===n)return e;if(n>0)return this.nodeCeil(e.right,t);return this.nodeCeil(e.left,t)||e}}min(){if(this.root)return this.nodeMin(this.root)}nodeMin(e){return e.left?this.nodeMin(e.left):e}max(){if(this.root)return this.nodeMax(this.root)}nodeMax(e){return e.right?this.nodeMax(e.right):e}rotateRight(e){const t=e.left;return e.left=t.right,t.right=e,t.color=t.right.color,t.right.color=0,t.size=e.size,e.size=this.nodeSize(e.left)+this.nodeSize(e.right)+1,this.aug&&(this.updateLocal(e),this.updateLocal(t)),t}rotateLeft(e){const t=e.right;return e.right=t.left,t.left=e,t.color=t.left.color,t.left.color=0,t.size=e.size,e.size=this.nodeSize(e.left)+this.nodeSize(e.right)+1,this.aug&&(this.updateLocal(e),this.updateLocal(t)),t}oppositeColor(e){return 1===e?0:1}flipColors(e){e.color=this.oppositeColor(e.color),e.left.color=this.oppositeColor(e.left.color),e.right.color=this.oppositeColor(e.right.color)}moveRedLeft(e){let t=e;return this.flipColors(t),this.isRed(t.right.left)&&(t.right=this.rotateRight(t.right),t=this.rotateLeft(t),this.flipColors(t)),t}moveRedRight(e){let t=e;return this.flipColors(t),this.isRed(t.left.left)&&(t=this.rotateRight(t),this.flipColors(t)),t}balance(e){let t=e;return this.isRed(t.right)&&(t=this.rotateLeft(t)),this.isRed(t.left)&&this.isRed(t.left.left)&&(t=this.rotateRight(t)),this.isRed(t.left)&&this.isRed(t.right)&&this.flipColors(t),t.size=this.nodeSize(t.left)+this.nodeSize(t.right)+1,this.aug&&this.aug.update(t),t}mapRange(e,t,n,r){this.nodeMap(this.root,e,n,r)}map(e,t){this.nodeMap(this.root,e,t)}keys(){const e=[],t={showStructure:!0,infix:t=>(e.push(t.key),!0)};return this.walk(t),e}walk(e){this.nodeWalk(this.root,e)}walkBackward(e){this.nodeWalkBackward(this.root,e)}nodeWalk(e,t){let n=!0;return e&&(t.pre&&(t.showStructure||1===e.color)&&(n=t.pre(e)),e.left&&(n=this.nodeWalk(e.left,t)),n&&t.infix&&(t.showStructure||1===e.color)&&(n=t.infix(e)),n&&(n=this.nodeWalk(e.right,t)),n&&t.post&&(t.showStructure||1===e.color)&&(n=t.post(e))),n}nodeWalkBackward(e,t){let n=!0;return e&&(t.pre&&(t.showStructure||1===e.color)&&(n=t.pre(e)),e.right&&(n=this.nodeWalkBackward(e.right,t)),n&&t.infix&&(t.showStructure||1===e.color)&&(n=t.infix(e)),n&&(n=this.nodeWalkBackward(e.left,t)),n&&t.post&&(t.showStructure||1===e.color)&&(n=t.post(e))),n}nodeMap(e,t,n,r,i){let o=r,s=i;if(!e)return!0;void 0===o&&(o=this.nodeMin(e).key),void 0===s&&(s=this.nodeMax(e).key);const a=this.compareKeys(o,e.key),c=this.compareKeys(s,e.key);let u=!0;return a<0&&(u=this.nodeMap(e.left,t,n,o,s)),u&&a<=0&&c>=0&&(u=t(e,n)),u&&c>0&&(u=this.nodeMap(e.right,t,n,o,s)),u}}const Zc=-1,Yc=-2,Jc=-1,Qc=-2;function Xc(e,t,n,r){let i=t;switch(void 0===i&&(i=e.defaultValue),e.name){case"incr":i+=n,e.minValue&&i<e.minValue&&(i=e.minValue);break;case"consensus":if(void 0===i)i={value:n,seq:r};else{const e=i;-1===e.seq&&(e.seq=r)}}return i}function eu(e,t){if(e){if(!t)return!1;for(const n in e){if(void 0===t[n])return!1;if("object"==typeof t[n]){if(!eu(e[n],t[n]))return!1}else if(t[n]!==e[n])return!1}for(const n in t)if(void 0===e[n])return!1}else if(t)return!1;return!0}function tu(e,t,n,r){if(void 0!==t)for(const i in t){const o=t[i];null===o?delete e[i]:n&&"rewrite"!==n.name?e[i]=Xc(n,e[i],o,r):e[i]=o}return e}function nu(){return Object.create(null)}function ru(e,t){return 0!=(("number"==typeof e?e:e.refType)&t)}const iu=e=>ru(e,Fc.Tile)&&e.properties?e.properties.referenceTileLabels:void 0,ou=e=>ru(e,Fc.NestBegin|Fc.NestEnd)&&e.properties?e.properties.referenceRangeLabels:void 0;function su(e,t){const n=iu(e);if(n)for(const e of n)if(t===e)return!0;return!1}function au(e,t){const n=ou(e);if(n)for(const e of n)if(t===e)return!0;return!1}function cu(e){return void 0!==iu(e)}function uu(e){return void 0!==ou(e)}function lu(e,t){const n=e.getSegment(),r=t.getSegment();return n===r?e.getOffset()-t.getOffset():void 0===n||void 0!==r&&n.ordinal<r.ordinal?-1:1}class hu{constructor(e,t,n=0,r=Fc.Simple,i){this.client=e,this.offset=n,this.refType=r,function(e){let t=0;if(ru(e,Fc.Transient)&&++t,ru(e,Fc.SlideOnRemove)&&++t,ru(e,Fc.StayOnRemove)&&++t,t>1)throw new I("Reference types can only be one of Transient, SlideOnRemove, and StayOnRemove")}(r),this.segment=t,this.properties=i}min(e){return function(e,t){return lu(e,t)<0?e:t}(this,e)}max(e){return function(e,t){return lu(e,t)>0?e:t}(this,e)}compare(e){return lu(this,e)}toPosition(){return this.getClient().localReferencePositionToPosition(this)}hasTileLabels(){return cu(this)}hasRangeLabels(){return uu(this)}hasTileLabel(e){return su(this,e)}hasRangeLabel(e){return au(this,e)}getTileLabels(){return iu(this)}getRangeLabels(){return ou(this)}isLeaf(){return!1}addProperties(e,t){this.properties=function(e,t,n,r){let i=e;return(!i||n&&"rewrite"===n.name)&&(i=nu()),tu(i,t,n,void 0),i}(this.properties,e,t)}getClient(){return this.client}getSegment(){return this.segment}getOffset(){return this.offset}getProperties(){return this.properties}}function du(e){(0,E.h)(e instanceof hu,736)}hu.DetachedPosition=-1;class fu{constructor(e,t=new Array(e.cachedLength)){this.segment=e,this.hierRefCount=0,this.refCount=0,this.refsByOffset=t}static append(e,t){t.localRefs&&!t.localRefs.empty?(e.localRefs||(e.localRefs=new fu(e)),(0,E.h)(e.localRefs.refsByOffset.length===e.cachedLength,702),e.localRefs.append(t.localRefs)):e.localRefs&&(e.localRefs.refsByOffset.length+=t.cachedLength)}[Symbol.iterator](){const e=[];for(const t of this.refsByOffset)t&&(t.before&&e.push(t.before[Symbol.iterator]()),t.at&&e.push(t.at[Symbol.iterator]()),t.after&&e.push(t.after[Symbol.iterator]()));return{next(){for(;e.length>0;){const t=e[0].next();if(!0!==t.done)return t;e.shift()}return{value:void 0,done:!0}},[Symbol.iterator](){return this}}}clear(){this.refCount=0,this.hierRefCount=0;const e=e=>{if(e)for(const t of e)t.segment===this.segment&&(t.segment=void 0)};for(let t=0;t<this.refsByOffset.length;t++){const n=this.refsByOffset[t];n&&(e(n.before),e(n.at),e(n.before),this.refsByOffset[t]=void 0)}}get empty(){return 0===this.refCount}createLocalRef(e,t,n,r){const i=new hu(r,this.segment,e,t,n);return ru(i,Fc.Transient)||this.addLocalRef(i),i}addLocalRef(e){var t,n;(0,E.h)(!ru(e,Fc.Transient),735),du(e);const r=this.refsByOffset[e.offset]=null!==(t=this.refsByOffset[e.offset])&&void 0!==t?t:{at:Gc()};(r.at=null!==(n=r.at)&&void 0!==n?n:Gc()).enqueue(e),(uu(e)||cu(e))&&this.hierRefCount++,this.refCount++}removeLocalRef(e){du(e);const t=t=>{if(t){let n=t;do{if(n=n.next,n.data===e)return $c(n),(uu(e)||cu(e))&&this.hierRefCount--,this.refCount--,e}while(!n.isHead)}},n=this.refsByOffset[e.offset];if(void 0!==n){let e=t(n.before);if(e)return e;if(e=t(n.at),e)return e;if(e=t(n.after),e)return e}}append(e){if(e&&!e.empty){this.hierRefCount+=e.hierRefCount,this.refCount+=e.refCount,e.hierRefCount=0;for(const t of e)t.segment=this.segment,t.offset+=this.refsByOffset.length;this.refsByOffset.push(...e.refsByOffset)}}split(e,t){if(this.empty)this.refsByOffset.length=e;else{const n=new fu(t,this.refsByOffset.splice(e,this.refsByOffset.length-e));t.localRefs=n;for(const r of n)r.segment=t,r.offset-=e,(uu(r)||cu(r))&&(this.hierRefCount--,n.hierRefCount++),this.refCount--,n.refCount++}}addBeforeTombstones(...e){var t,n,r,i,o;const s=null!==(n=null===(t=this.refsByOffset[0])||void 0===t?void 0:t.before)&&void 0!==n?n:Gc();for(const t of e)for(const e of t)du(e),ru(e,Fc.SlideOnRemove)?(s.push(e),e.segment=this.segment,e.offset=0,(uu(e)||cu(e))&&this.hierRefCount++,this.refCount++):e.segment=void 0;if(!s.empty()&&void 0===(null===(r=this.refsByOffset[0])||void 0===r?void 0:r.before)){const e=this.refsByOffset[0]=null!==(i=this.refsByOffset[0])&&void 0!==i?i:{before:s};e.before=null!==(o=e.before)&&void 0!==o?o:s}}addAfterTombstones(...e){var t,n,r,i,o;const s=this.refsByOffset.length-1,a=null!==(n=null===(t=this.refsByOffset[s])||void 0===t?void 0:t.after)&&void 0!==n?n:Gc();for(const t of e)for(const e of t)du(e),ru(e,Fc.SlideOnRemove)?(a.push(e),e.segment=this.segment,e.offset=this.segment.cachedLength-1,(uu(e)||cu(e))&&this.hierRefCount++,this.refCount++):e.segment=void 0;if(!a.empty()&&void 0===(null===(r=this.refsByOffset[s])||void 0===r?void 0:r.after)){const e=this.refsByOffset[s]=null!==(i=this.refsByOffset[s])&&void 0!==i?i:{after:a};e.after=null!==(o=e.after)&&void 0!==o?o:a}}}class pu{constructor(){this.ordinalSortedItems=[]}get size(){return this.ordinalSortedItems.length}get items(){return this.ordinalSortedItems}addOrUpdate(e,t){const n=this.findOrdinalPosition(this.getOrdinal(e));n.exists?t&&t(this.ordinalSortedItems[n.index],e):this.ordinalSortedItems.splice(n.index,0,e)}remove(e){const t=this.findOrdinalPosition(this.getOrdinal(e));return!!t.exists&&(this.ordinalSortedItems.splice(t.index,1),!0)}has(e){return this.findOrdinalPosition(this.getOrdinal(e)).exists}getOrdinal(e){const t=e;return(null==t?void 0:t.segment)?t.segment.ordinal:e.ordinal}findOrdinalPosition(e,t,n){if(0===this.ordinalSortedItems.length)return{exists:!1,index:0};if(void 0===t||void 0===n)return this.findOrdinalPosition(e,0,this.ordinalSortedItems.length-1);const r=t+Math.floor((n-t)/2);return this.getOrdinal(this.ordinalSortedItems[r])>e?t===r?{exists:!1,index:r}:this.findOrdinalPosition(e,t,r-1):this.getOrdinal(this.ordinalSortedItems[r])<e?r===n?{exists:!1,index:r+1}:this.findOrdinalPosition(e,r+1,n):{exists:!0,index:r}}}class mu{constructor(){this.segmentSet=new pu}get segments(){return this.segmentSet.items}get size(){return this.segmentSet.size}has(e){return this.segmentSet.has(e)}link(e){this.segmentSet.has(e)||(this.segmentSet.addOrUpdate(e),e.trackingCollection.link(this))}unlink(e){this.segmentSet.remove(e)&&e.trackingCollection.unlink(this)}}class gu{constructor(e){this.segment=e,this.trackingGroups=new Set}link(e){e&&(this.trackingGroups.has(e)||this.trackingGroups.add(e),e.has(this.segment)||e.link(this.segment))}unlink(e){e.has(this.segment)&&e.unlink(this.segment),this.trackingGroups.delete(e)}copyTo(e){this.trackingGroups.forEach((t=>e.trackingCollection.link(t)))}get empty(){return 0===this.trackingGroups.size}matches(e){if(!e||this.trackingGroups.size!==e.trackingGroups.size)return!1;for(const t of this.trackingGroups.values())if(!e.trackingGroups.has(t))return!1;return!0}}function vu(e,t){let n=-1,r=0,i=e.length-1;for(;r<=i;){const o=r+Math.floor((i-r)/2);e[o].seq<=t?((n<0||e[n].seq<e[o].seq)&&(n=o),r=o+1):i=o-1}return n}class yu{constructor(e){this.minSeq=e,this.minLength=0,this.segmentCount=0,this.partialLengths=[],this.clientSeqNumbers=[]}static combine(e,t,n,r=!1){return yu.combineBranch(e,t,n,r)}static combineBranch(e,t,n,r=!1){let i,o=new yu(n.minSeq);function s(e){if(!e)return;const t=new Kc(Du);return e.map((e=>(t.put(e.data.clientId,Object.assign({},e.data)),!0))),t}function a(e){const t=e.seq;let n=0;if(i){if(i.seq===e.seq)return i.seglen+=e.seglen,i.len+=e.seglen,void function(e,t){const n=e.overlapRemoveClients;n?t.overlapRemoveClients&&t.overlapRemoveClients.map((e=>{const t=n.get(e.key);return t?t.data.seglen+=e.data.seglen:n.put(e.data.clientId,Object.assign({},e.data)),!0})):e.overlapRemoveClients=s(t.overlapRemoveClients)}(i,e);n=i.len,o.addClientSeqNumberFromPartial(i)}i={clientId:e.clientId,len:n+e.seglen,overlapRemoveClients:s(e.overlapRemoveClients),seglen:e.seglen,seq:t},o.partialLengths.push(i)}yu.fromLeaves(o,t,n);const c=[];for(let i=0;i<t.childCount;i++){const o=t.children[i];if(!o.isLeaf()){const t=o;r&&(t.partialLengths=yu.combine(e,t,n,!0)),c.push(t.partialLengths)}}let u=c.length;if(0!==u){o.partialLengths.length>0&&(c.push(o),u++,o=new yu(n.minSeq));const e=new Array(u),t=new Array(u);for(let n=0;n<u;n++)e[n]=0,t[n]=c[n].partialLengths.length,o.minLength+=c[n].minLength,o.segmentCount+=c[n].segmentCount;let r,s=0;for(;s>=0;){s=-1;for(let n=0;n<u;n++)if(e[n]<t[n]){const t=c[n].partialLengths[e[n]];(s<0||t.seq<r.seq)&&(s=n,r=t)}s>=0&&(a(r),e[s]++)}i&&o.addClientSeqNumberFromPartial(i)}return yu.options.zamboni&&o.zamboni(n),yu.options.verify&&o.verify(),o}static fromLeaves(e,t,n){function r(e,t){return void 0!==e&&e!==Zc&&e<=t}e.minLength=0,e.segmentCount=t.childCount;for(let i=0;i<t.childCount;i++){const o=t.children[i];if(o.isLeaf()){const t=o;r(t.seq,n.minSeq)?e.minLength+=t.cachedLength:t.seq!==Zc&&yu.insertSegment(e,t);const i=Su(t);r(null==i?void 0:i.removedSeq,n.minSeq)?e.minLength-=t.cachedLength:void 0!==i&&i.removedSeq!==Zc&&yu.insertSegment(e,t,i)}}const i=e.partialLengths,o=i.length;let s=0;for(let t=0;t<o;t++)i[t].len=s+i[t].seglen,s=i[t].len,e.addClientSeqNumberFromPartial(i[t]);yu.options.verify&&e.verify()}static getOverlapClients(e,t){const n=new Kc(Du);for(const r of e)n.put(r,{clientId:r,seglen:t});return n}static accumulateRemoveClientOverlap(e,t,n){if(e.overlapRemoveClients)for(const r of t){const t=e.overlapRemoveClients.get(r);t?t.data.seglen+=n:e.overlapRemoveClients.put(r,{clientId:r,seglen:n})}else e.overlapRemoveClients=yu.getOverlapClients(t,n)}static insertSegment(e,t,n){let r,i=t.seq,o=t.cachedLength,s=t.clientId;n&&(i=n.removedSeq,o=-o,s=n.removedClientIds[0],r=n.removedClientIds.length>1?n.removedClientIds.slice(1):void 0);const a=e.partialLengths,c=a.length;let u=0;for(;u<c&&!(a[u].seq>=i);u++);if(u<c&&a[u].seq===i)a[u].seglen+=o,r&&yu.accumulateRemoveClientOverlap(a[u],r,o);else{let e;if(e=r?{seq:i,clientId:s,len:0,seglen:o,overlapRemoveClients:yu.getOverlapClients(r,o)}:{seq:i,clientId:s,len:0,seglen:o},u<c){for(let e=c;e>u;e--)a[e]=a[e-1];a[u]=e}else a.push(e)}}static addSeq(e,t,n,r){let i,o,s=vu(e,t);if(s>=0){const n=e[s];n.seq===t?(i=n,s=vu(e,t-1),s>=0&&(o=e[s])):o=n}void 0===i?(i={clientId:r,seglen:n,seq:t},e.push(i)):i.seglen=n,i.len=void 0!==o?i.seglen+o.len:i.seglen}update(e,t,n,r,i){let o=0,s=0;for(let e=0;e<t.childCount;e++){const r=t.children[e];if(r.isLeaf()){const e=r,t=Su(e);e.seq===n?(null==t?void 0:t.removedSeq)!==n&&(o+=e.cachedLength):(null==t?void 0:t.removedSeq)===n&&(o-=e.cachedLength),s++}else{const e=r.partialLengths,t=e.partialLengths,i=vu(t,n);if(i>=0){const e=t[i];e.seq===n&&(o+=e.seglen)}s+=e.segmentCount}}this.segmentCount=s,yu.addSeq(this.partialLengths,n,o,r),void 0===this.clientSeqNumbers[r]&&(this.clientSeqNumbers[r]=[]),yu.addSeq(this.clientSeqNumbers[r],n,o),yu.options.zamboni&&this.zamboni(i),yu.options.verify&&this.verify()}getPartialLength(e,t){let n=this.minLength;const r=vu(this.partialLengths,e),i=this.cliLatest(t),o=this.clientSeqNumbers[t];if(r>=0){if(n+=this.partialLengths[r].len,i>=0){const r=o[i];if(r.seq>e){n+=r.len;const i=this.cliLatestLEQ(t,e);i>=0&&(n-=o[i].len)}}}else i>=0&&(n+=o[i].len);return n}toString(e,t=0){let n="";for(const e of this.partialLengths)n+=`(${e.seq},${e.len}) `;for(const t in this.clientSeqNumbers)if(this.clientSeqNumbers[t].length>0){n+="Client ",n+=e?`${e(+t)}`:`${t}`,n+="[";for(const e of this.clientSeqNumbers[t])n+=`(${e.seq},${e.len})`;n+="]"}return n=`min(seq ${this.minSeq}): ${this.minLength}; sc: ${this.segmentCount};${n}`,n}zamboni(e){function t(t){const n=vu(t,e.minSeq);let r=0;if(n>=0){r=t[n].len;const e=t.length;if(n<=e-1){const i=e-n-1;for(let e=0;e<i;e++)t[e]=t[e+n+1],t[e].len-=r;t.length=i}}return r}this.minLength+=t(this.partialLengths);for(const e in this.clientSeqNumbers){const n=this.clientSeqNumbers[e];n&&t(n)}}addClientSeqNumber(e,t,n){void 0===this.clientSeqNumbers[e]&&(this.clientSeqNumbers[e]=[]);const r=this.clientSeqNumbers[e];let i=n;r.length>0&&(i+=r[r.length-1].len),r.push({seq:t,len:i,seglen:n})}addClientSeqNumberFromPartial(e){this.addClientSeqNumber(e.clientId,e.seq,e.seglen),e.overlapRemoveClients&&e.overlapRemoveClients.map((t=>(this.addClientSeqNumber(t.data.clientId,e.seq,t.data.seglen),!0)))}cliLatestLEQ(e,t){const n=this.clientSeqNumbers[e];return n?vu(n,t):-1}cliLatest(e){const t=this.clientSeqNumbers[e];return t&&t.length>0?t.length-1:-1}verifyPartialLengths(e,t){if(0===e.length)return 0;let n=0,r=0,i=0;for(const o of e)i++,(0,E.h)(this.minSeq<=o.seq,84),(0,E.h)(n<o.seq,85),n=o.seq,r+=o.seglen,r!==o.len&&(0,E.h)(!1,86),t||this.minLength+o.len<0&&(0,E.h)(!1,87),o.overlapRemoveClients&&((0,E.h)(!t,88),i+=o.overlapRemoveClients.size());return i}verify(){if(this.clientSeqNumbers){let e=0;for(const t of this.clientSeqNumbers)t&&(e+=this.verifyPartialLengths(t,!0));(0,E.h)(!!this.partialLengths,89);const t=this.verifyPartialLengths(this.partialLengths,!1);(0,E.h)(t===e,90)}else(0,E.h)(!this.partialLengths,91)}}yu.options={verify:!1,zamboni:!0};class bu{constructor(e){this.segment=e,this.segmentGroups=Gc()}get size(){return this.segmentGroups.count()}get empty(){return this.segmentGroups.empty()}enqueue(e){this.segmentGroups.enqueue(e),e.segments.push(this.segment)}dequeue(){return this.segmentGroups.dequeue()}clear(){this.segmentGroups.clear()}copyTo(e){this.segmentGroups.walk((t=>e.segmentGroups.enqueue(t)))}}class wu{constructor(){this.pendingRewriteCount=0}ackPendingProperties(e){var t,n;e.combiningOp&&"rewrite"===e.combiningOp.name&&this.pendingRewriteCount--;for(const r of Object.keys(e.props))void 0!==(null===(t=this.pendingKeyUpdateCount)||void 0===t?void 0:t[r])&&((0,E.h)(this.pendingKeyUpdateCount[r]>0,92),this.pendingKeyUpdateCount[r]--,0===(null===(n=this.pendingKeyUpdateCount)||void 0===n?void 0:n[r])&&delete this.pendingKeyUpdateCount[r])}addProperties(e,t,n,r,i=!1){var o;if(this.pendingKeyUpdateCount||(this.pendingKeyUpdateCount=nu()),this.pendingRewriteCount>0&&r!==Zc&&i)return;const s=n&&"rewrite"===n.name,a=s?void 0:n||void 0,c=e=>{var t;return!(r!==Zc&&void 0!==(null===(t=this.pendingKeyUpdateCount)||void 0===t?void 0:t[e])&&!a)},u={};if(s){i&&r===Zc&&this.pendingRewriteCount++;for(const n of Object.keys(e))!t[n]&&c(n)&&(u[n]=e[n],delete e[n])}for(const n of Object.keys(t)){if(i)if(r===Zc)void 0===(null===(o=this.pendingKeyUpdateCount)||void 0===o?void 0:o[n])&&(this.pendingKeyUpdateCount[n]=0),this.pendingKeyUpdateCount[n]++;else if(!c(n))continue;const s=e[n];let l;u[n]=void 0===s?null:s,l=a?Xc(a,s,l,r):t[n],null===l?delete e[n]:e[n]=l}return u}copyTo(e,t,n){if(e){if(t||(t=nu()),!n)throw new Error("Must provide new PropertyManager");for(const n of Object.keys(e))t[n]=e[n];n.pendingRewriteCount=this.pendingRewriteCount,n.pendingKeyUpdateCount=nu();for(const e of Object.keys(this.pendingKeyUpdateCount))n.pendingKeyUpdateCount[e]=this.pendingKeyUpdateCount[e]}return t}hasPendingProperties(){return this.pendingRewriteCount>0||Object.keys(this.pendingKeyUpdateCount).length>0}}function Su(e){if(void 0!==(null==e?void 0:e.removedClientIds)&&void 0!==(null==e?void 0:e.removedSeq))return e;(0,E.h)(void 0===(null==e?void 0:e.removedClientIds)&&void 0===(null==e?void 0:e.removedSeq),703)}function _u(e){const t=Su(e);return void 0!==t&&t.removedSeq!==Zc}class xu{constructor(){this.index=0,this.ordinal="",this.cachedLength=0}isLeaf(){return!1}}function Cu(e,t){const n=iu(e);if(n)for(const r of n)t[r]=e}function Eu(e,t){const n=iu(e);if(n)for(const r of n)void 0===t[r]&&(t[r]=e)}function ku(e,t){for(const n in t){const r=t[n];if(!r.empty()){let t=e[n];void 0===t&&(t=new zc,e[n]=t);for(const e of r.items)Au(t,e)}}}function Au(e,t){if(ru(t,Fc.NestBegin))return e.push(t),!0;{const n=e.top();return n&&ru(n,Fc.NestBegin)?e.pop():e.push(t),!1}}class Nu extends xu{constructor(e){super(),this.childCount=e,this.children=new Array(8)}hierBlock(){}setOrdinal(e,t){let n,r=this.childCount;8===r&&(r=7),(0,E.h)(r>=1&&r<=7,64);const i=1<<8-(r+1);if(0===t)n=i-1;else{const e=this.children[t-1].ordinal;n=e.charCodeAt(e.length-1)+i}e.ordinal=this.ordinal+String.fromCharCode(n),(0,E.h)(e.ordinal.length===this.ordinal.length+1,65),t>0&&(0,E.h)(e.ordinal>this.children[t-1].ordinal,66)}assignChild(e,t,n=!0){e.parent=this,e.index=t,n&&this.setOrdinal(e,t),this.children[t]=e}}class Tu extends Nu{constructor(e){super(e),this.rightmostTiles=nu(),this.leftmostTiles=nu(),this.rangeStacks=nu()}addNodeReferences(e,t){!function(e,t,n,r,i){var o;function s(e,t){let n=i[e];void 0===n&&(n=new zc,i[e]=n),Au(n,t)}if(t.isLeaf()){const i=t;if((null!==(o=e.localNetLength(i))&&void 0!==o?o:0)>0)if(Iu.is(i)){const t=i.getId();if(t&&e.mapIdToSegment(t,i),ru(i,Fc.Tile)&&(Cu(i,n),Eu(i,r)),i.refType&(Fc.NestBegin|Fc.NestEnd)){const e=ou(i);if(e)for(const t of e)s(t,i)}}else{const e=t;if(e.localRefs&&void 0!==e.localRefs.hierRefCount&&e.localRefs.hierRefCount>0)for(const t of e.localRefs)if(ru(t,Fc.Tile)&&(Cu(t,n),Eu(t,r)),t.refType&(Fc.NestBegin|Fc.NestEnd))for(const e of ou(t))s(e,t)}}else{const e=t;ku(i,e.rangeStacks),tu(n,e.rightmostTiles),function(e,t){if(void 0!==t)for(const n in t)void 0===e[n]&&(e[n]=t[n])}(r,e.leftmostTiles)}}(e,t,this.rightmostTiles,this.leftmostTiles,this.rangeStacks)}hierBlock(){return this}hierToString(e){let t="";for(const n in this.rangeStacks){const r=this.rangeStacks[n];t+=Bu(e),t+=`${n}: `;for(const e of r.items)t+=`${e.toString()} `;t+="\n"}return t}}class Pu extends xu{constructor(){super(...arguments),this.clientId=Jc,this.seq=0,this.segmentGroups=new bu(this),this.trackingCollection=new gu(this)}addProperties(e,t,n,r){return this.propertyManager||(this.propertyManager=new wu),this.properties||(this.properties=nu()),this.propertyManager.addProperties(this.properties,e,t,n,r&&r.collaborating)}hasProperty(e){return!!this.properties&&void 0!==this.properties[e]}isLeaf(){return!0}cloneInto(e){var t;e.clientId=this.clientId,e.properties=function(e){if(void 0===e)return;const t=nu();for(const n in e){const r=e[n];null!==r&&(t[n]=r)}return t}(this.properties),e.removedClientIds=null===(t=this.removedClientIds)||void 0===t?void 0:t.slice(),e.removedSeq=this.removedSeq,e.seq=this.seq}canAppend(e){return!1}addSerializedProps(e){this.properties&&(e.props=this.properties)}ack(e,t,n){const r=this.segmentGroups.dequeue();switch((0,E.h)(r===e,67),t.op.type){case qc.ANNOTATE:return(0,E.h)(!!this.propertyManager,68),this.propertyManager.ackPendingProperties(t.op),!0;case qc.INSERT:return(0,E.h)(this.seq===Zc,69),this.seq=t.sequencedMessage.sequenceNumber,this.localSeq=void 0,!0;case qc.REMOVE:const e=Su(this);return(0,E.h)(void 0!==e,70),this.localRemovedSeq=void 0,e.removedSeq===Zc&&(e.removedSeq=t.sequencedMessage.sequenceNumber,!0);default:throw new Error(`${t.op.type} is in unrecognized operation type`)}}splitAt(e){var t;if(e>0){const n=this.createSplitSegmentAt(e);return n&&(this.copyPropertiesTo(n),n.parent=this.parent,n.ordinal=this.ordinal+String.fromCharCode(0),n.removedClientIds=null===(t=this.removedClientIds)||void 0===t?void 0:t.slice(),n.removedSeq=this.removedSeq,n.localRemovedSeq=this.localRemovedSeq,n.seq=this.seq,n.localSeq=this.localSeq,n.clientId=this.clientId,this.segmentGroups.copyTo(n),this.trackingCollection.copyTo(n),this.localRefs&&this.localRefs.split(e,n)),n}}copyPropertiesTo(e){this.propertyManager&&this.properties&&(e.propertyManager=new wu,e.properties=this.propertyManager.copyTo(this.properties,e.properties,e.propertyManager))}}const Ou="markerId";class Iu extends Pu{constructor(e){super(),this.refType=e,this.type=Iu.type,this.cachedLength=1}static is(e){return e.type===Iu.type}static make(e,t){const n=new Iu(e);return t&&n.addProperties(t),n}toJSONObject(){const e={marker:{refType:this.refType}};return super.addSerializedProps(e),e}static fromJSONObject(e){if(e&&"object"==typeof e&&"marker"in e)return Iu.make(e.marker.refType,e.props)}clone(){const e=Iu.make(this.refType,this.properties);return this.cloneInto(e),e}getSegment(){return this}getOffset(){return 0}hasSimpleType(e){return!!this.properties&&this.properties.markerSimpleType===e}getProperties(){return this.properties}getId(){if(this.properties&&this.properties[Ou])return this.properties[Ou]}hasTileLabels(){return cu(this)}hasRangeLabels(){return uu(this)}hasTileLabel(e){return su(this,e)}hasRangeLabel(e){return au(this,e)}getTileLabels(){return iu(this)}getRangeLabels(){return ou(this)}toString(){let e="";ru(this,Fc.Tile)&&(e+="Tile"),ru(this,Fc.NestBegin)&&(e.length>0&&(e+="; "),e+="RangeBegin"),ru(this,Fc.NestEnd)&&(e.length>0&&(e+="; "),e+="RangeEnd");let t="";const n=this.getId();n&&(e+=` (${n}) `);const r=iu(this);if(r){t+="tile -- ";for(let e=0,n=r.length;e<n;e++)e>0&&(t+="; "),t+=r[e]}const i=ou(this);if(i){let e="begin";ru(this,Fc.NestEnd)&&(e="end"),r&&(t+=" "),t+=`range ${e} -- `;const n=i;for(let e=0,r=n.length;e<r;e++)e>0&&(t+="; "),t+=n[e]}let o="";return this.properties&&(o+=JSON.stringify(this.properties,((e,t)=>{const n=!!t&&t.IFluidHandle;return n?`#Handle(${n.routeContext.path}/${n.path})`:t}))),`M ${e}: ${t} ${o}`}createSplitSegmentAt(e){}canAppend(e){return!1}append(){throw new Error("Can not append to marker")}}var Ru;Iu.type="Marker",function(e){e[e.Go=0]="Go",e[e.Stop=1]="Stop",e[e.Yield=2]="Yield"}(Ru||(Ru={}));class Lu{constructor(e,t,n,r,i,o,s,a,c=0){this.block=e,this.actions=t,this.pos=n,this.refSeq=r,this.clientId=i,this.context=o,this.start=s,this.end=a,this.childIndex=c,this.op=Ru.Go}}class Mu{constructor(){this.clientId=Jc,this.collaborating=!1,this.minSeq=0,this.currentSeq=0,this.localSeq=0}loadFrom(e){this.clientId=e.clientId,this.collaborating=e.collaborating,this.minSeq=e.minSeq,this.currentSeq=e.currentSeq}}const Du=(e,t)=>e-t,ju=(e,t)=>e.localeCompare(t),Fu=[""," ","  "];function Bu(e){if(void 0===Fu[e]){Fu[e]="";for(let t=0;t<e;t++)Fu[e]+=" "}return Fu[e]}const qu={min:{maxSeq:-2},compare:(e,t)=>e.maxSeq-t.maxSeq};function Uu(e,t){for(const n of t.rangeLabels)if(au(e,n)){let r=t.stacks[n];void 0===r&&(r=new zc,t.stacks[n]=r),Au(r,e)}}function zu(e,t,n,r,i,o,s){return Iu.is(e)&&e.refType&(Fc.NestBegin|Fc.NestEnd)&&Uu(e,s),!1}function $u(e,t,n,r,i,o,s){var a;if(e.isLeaf()){const t=e;(null!==(a=s.mergeTree.localNetLength(t))&&void 0!==a?a:0)>0&&Iu.is(t)&&t.refType&(Fc.NestBegin|Fc.NestEnd)&&Uu(t,s)}else{const t=e;ku(s.stacks,t.rangeStacks)}return!0}function Hu(e,t,n,r,i,o,s){return Iu.is(e)&&su(e,s.tileLabel)&&(s.tile=e),!1}function Gu(e,t,n,r,i,o,s){if(e.isLeaf()){const t=e;s.mergeTree.localNetLength(t)>0&&Iu.is(t)&&su(t,s.tileLabel)&&(s.tile=t)}else{const t=e;let n;n=s.posPrecedesTile?t.rightmostTiles[s.tileLabel]:t.leftmostTiles[s.tileLabel],void 0!==n&&(s.tile=n)}return!0}const Vu={min:{minRequired:Number.MIN_VALUE,onMinGE:()=>{(0,E.h)(!1,72)}},compare:(e,t)=>e.minRequired-t.minRequired};class Wu{constructor(e){this.options=e,this.blockUpdateActions=Wu.initBlockUpdateActions,this.collabWindow=new Mu,this.idToSegment=new Map,this.splitLeafSegment=(e,t)=>{if(!(t>0&&e))return{};const n=e.splitAt(t);return this.mergeTreeMaintenanceCallback&&this.mergeTreeMaintenanceCallback({operation:-2,deltaSegments:[{segment:e},{segment:n}]},void 0),{next:n}},this.root=this.makeBlock(0)}makeBlock(e){const t=new Tu(e);return t.ordinal="",t}clone(){const e=new Wu(this.options);e.root=e.blockClone(this.root)}blockClone(e,t){const n=this.makeBlock(e.childCount);for(let r=0;r<e.childCount;r++){const i=e.children[r];if(i.isLeaf()){const e=this.segmentClone(i);n.assignChild(e,r),t&&t.push(e)}else n.assignChild(this.blockClone(i,t),r)}return this.nodeUpdateLengthNewStructure(n),this.nodeUpdateOrdinals(n),n}segmentClone(e){return e.clone()}localNetLength(e){return void 0!==Su(e)?0:e.cachedLength}mapIdToSegment(e,t){this.idToSegment.set(e,t)}addNode(e,t){const n=e.childCount++;return e.assignChild(t,n,!1),n}reloadFromSegments(e){(0,E.h)(!this.collabWindow.collaborating,73);const t=e=>{const n=Math.ceil(e.length/7),r=new Array(n);for(let t=0,i=0;i<n;i++){const n=r[i]=this.makeBlock(0);for(let r=0;r<7&&t<e.length;r++,t++)this.addNode(n,e[t]);this.blockUpdate(n)}return 1===r.length?r[0]:t(r)};e.length>0?(this.root=t(e),this.nodeUpdateOrdinals(this.root)):this.root=this.makeBlock(0)}startCollaboration(e,t,n){this.collabWindow.clientId=e,this.collabWindow.minSeq=t,this.collabWindow.collaborating=!0,this.collabWindow.currentSeq=n,this.segmentsToScour=new Wc([],qu),this.pendingSegments=Gc(),this.nodeUpdateLengthNewStructure(this.root,!0)}addToLRUSet(e,t){!0!==e.parent.needsScour&&t>this.collabWindow.currentSeq&&(e.parent.needsScour=!0,this.segmentsToScour.add({segment:e,maxSeq:t}))}underflow(e){return e.childCount<4}scourNode(e,t){let n;for(let r=0;r<e.childCount;r++){const i=e.children[r];if(i.isLeaf()){const e=i;e.segmentGroups.empty?void 0!==e.removedSeq?(e.removedSeq>this.collabWindow.minSeq?t.push(e):e.trackingCollection.empty?(this.mergeTreeMaintenanceCallback&&this.mergeTreeMaintenanceCallback({operation:-3,deltaSegments:[{segment:e}]},void 0),e.parent=void 0):t.push(e),n=void 0):e.seq<=this.collabWindow.minSeq?n&&n.canAppend(e)&&eu(n.properties,e.properties)&&n.trackingCollection.matches(e.trackingCollection)&&this.localNetLength(e)>0?(n.append(e),this.mergeTreeMaintenanceCallback&&this.mergeTreeMaintenanceCallback({operation:-1,deltaSegments:[{segment:n},{segment:e}]},void 0),e.parent=void 0,e.trackingCollection.trackingGroups.forEach((t=>t.unlink(e)))):(t.push(e),n=this.localNetLength(e)>0?e:void 0):(t.push(e),n=void 0):(t.push(e),n=void 0)}else t.push(i),n=void 0}}packParent(e){const t=e.children;let n,r;const i=[];for(n=0;n<e.childCount;n++)r=t[n],this.scourNode(r,i),r.parent=void 0;const o=i.length;let s=Math.min(7,Math.floor(o/4));s<1&&(s=1);const a=Math.floor(o/s);let c=o%s;const u=new Array(8);let l=0;for(let t=0;t<s;t++){let n=a;c>0&&(n++,c--);const r=this.makeBlock(n);for(let e=0;e<n;e++){const t=i[l++];r.assignChild(t,e,!1)}r.parent=e,u[t]=r,this.nodeUpdateLengthNewStructure(r)}e.children=u;for(let t=0;t<s;t++)e.assignChild(u[t],t,!1);e.childCount=s,this.underflow(e)&&e.parent?this.packParent(e.parent):(this.nodeUpdateOrdinals(e),this.blockUpdatePathLengths(e,Zc,-1,!0))}zamboniSegments(e=Wu.zamboniSegmentsMaxCount){if(this.collabWindow.collaborating)for(let t=0;t<e;t++){let e=this.segmentsToScour.peek();if(!e||e.maxSeq>this.collabWindow.minSeq)break;if(e=this.segmentsToScour.get(),e.segment.parent&&!1!==e.segment.parent.needsScour){const t=e.segment.parent,n=[];this.scourNode(t,n),t.needsScour=!1;const r=n.length;if(r<t.childCount){t.childCount=r,t.children=n;for(let e=0;e<r;e++)t.assignChild(n[e],e,!1);this.underflow(t)&&t.parent?this.packParent(t.parent):(this.nodeUpdateOrdinals(t),this.blockUpdatePathLengths(t,Zc,-1,!0))}}}}getCollabWindow(){return this.collabWindow}getStats(){const e=t=>{const n={maxHeight:0,nodeCount:0,leafCount:0,removedLeafCount:0,liveCount:0,histo:[]};for(let e=0;e<8;e++)n.histo[e]=0;for(let r=0;r<t.childCount;r++){const i=t.children[r];let o=1;if(i.isLeaf())n.leafCount++,void 0!==i.removedSeq&&n.removedLeafCount++;else{const t=e(i);o=1+t.maxHeight,n.nodeCount+=t.nodeCount,n.leafCount+=t.leafCount,n.removedLeafCount+=t.removedLeafCount,n.liveCount+=t.liveCount;for(let e=0;e<8;e++)n.histo[e]+=t.histo[e]}o>n.maxHeight&&(n.maxHeight=o)}return n.histo[t.childCount]++,n.nodeCount++,n.liveCount+=t.childCount,n};return e(this.root)}getLength(e,t){return this.blockLength(this.root,e,t)}get length(){return this.root.cachedLength}getPosition(e,t,n){var r;let i,o=0,s=e.parent;for(;s;){const a=s.children;for(let c=0;c<s.childCount;c++){const s=a[c];if(i&&s===i||s===e)break;o+=null!==(r=this.nodeLength(s,t,n))&&void 0!==r?r:0}i=s,s=s.parent}return o}getContainingSegment(e,t,n){let r,i;return this.searchBlock(this.root,e,0,t,n,{leaf:(e,t,n,o,s)=>(r=e,i=s,!1)},void 0),{segment:r,offset:i}}_getSlideToSegment(e){if(!e.segment||!_u(e.segment))return e;let t;const n=e=>!(e.seq!==Zc&&!_u(e)&&(t=e,1));return this.rightExcursion(e.segment,n),t?{segment:t,offset:0}:(this.leftExcursion(e.segment,n),t?{segment:t,offset:t.cachedLength-1}:{segment:void 0,offset:0})}slideReferences(e,t){var n,r,i,o,s;(0,E.h)(_u(e),753),(0,E.h)(!!e.localRefs,754);const a=this._getSlideToSegment({segment:e,offset:0}),c=a.segment;c&&!c.localRefs&&(c.localRefs=new fu(c));for(const u of t){null===(r=null===(n=u.callbacks)||void 0===n?void 0:n.beforeSlide)||void 0===r||r.call(n);const t=e.localRefs.removeLocalRef(u);(0,E.h)(u===t,755),c?(u.segment=c,u.offset=null!==(i=a.offset)&&void 0!==i?i:0,(0,E.h)(!!c.localRefs,756),c.localRefs.addLocalRef(u)):(u.segment=void 0,u.offset=0),null===(s=null===(o=u.callbacks)||void 0===o?void 0:o.afterSlide)||void 0===s||s.call(o)}c&&this.blockUpdatePathLengths(c.parent,Yc,Jc)}updateSegmentRefsAfterMarkRemoved(e,t){if(!e.localRefs||e.localRefs.empty)return;const n=[],r=[];for(const i of e.localRefs)ru(i,Fc.StayOnRemove)?r.push(i):ru(i,Fc.SlideOnRemove)&&(t?r.push(i):n.push(i));t||this.slideReferences(e,n),e.localRefs.clear();for(const t of r)t.segment=e,e.localRefs.addLocalRef(t)}blockLength(e,t,n){return this.collabWindow.collaborating&&n!==this.collabWindow.clientId?e.partialLengths.getPartialLength(t,n):e.cachedLength}nodeLength(e,t,n){if(this.collabWindow.collaborating&&this.collabWindow.clientId!==n){if(e.isLeaf()){const r=e,i=Su(r);if(void 0!==i&&i.removedSeq!==Zc&&i.removedSeq<=t)return;if(r.clientId===n||r.seq!==Zc&&r.seq<=t)return void 0!==i&&i.removedClientIds.includes(n)?0:r.cachedLength;if(void 0!==i&&i.removedSeq!==Zc)return;return 0}return e.partialLengths.getPartialLength(t,n)}return e.isLeaf()?this.localNetLength(e):e.cachedLength}addMinSeqListener(e,t){this.minSeqListeners||(this.minSeqListeners=new Wc([],Vu)),this.minSeqListeners.add({minRequired:e,onMinGE:t})}notifyMinSeqListeners(){if(this.minSeqListeners)for(;this.minSeqListeners.count()>0&&this.minSeqListeners.peek().minRequired<=this.collabWindow.minSeq;)this.minSeqListeners.get().onMinGE(this.collabWindow.minSeq)}setMinSeq(e){(0,E.h)(e<=this.collabWindow.currentSeq,78),(0,E.h)(this.collabWindow.minSeq<=e,79),e>this.collabWindow.minSeq&&(this.collabWindow.minSeq=e,Wu.options.zamboniSegments&&this.zamboniSegments(),this.notifyMinSeqListeners())}referencePositionToLocalPosition(e,t=this.collabWindow.currentSeq,n=this.collabWindow.clientId){const r=e.getSegment();return r&&r.parent?(r.removedSeq?0:e.getOffset())+this.getPosition(r,t,n):hu.DetachedPosition}getStackContext(e,t,n){const r={mergeTree:this,stacks:nu(),rangeLabels:n};return this.search(e,0,t,{leaf:zu,shift:$u},r),r.stacks}findTile(e,t,n,r=!0){const i={mergeTree:this,posPrecedesTile:r,tileLabel:n};if(r?this.search(e,0,t,{leaf:Hu,shift:Gu},i):this.backwardSearch(e,0,t,{leaf:Hu,shift:Gu},i),i.tile){let e;if(i.tile.isLeaf()){const n=i.tile;e=this.getPosition(n,0,t)}else e=i.tile.toPosition();return{tile:i.tile,pos:e}}}search(e,t,n,r,i){return this.searchBlock(this.root,e,0,t,n,r,i)}searchBlock(e,t,n,r,i,o,s){var a;let c=t,u=n;const l=e.children;o&&o.pre&&o.pre(e,u,r,i,void 0,void 0,s);const h=o&&o.contains;for(let t=0;t<e.childCount;t++){const e=l[t],n=null!==(a=this.nodeLength(e,r,i))&&void 0!==a?a:0;if(!h&&c<n||h&&h(e,c,r,i,void 0,void 0,s))return e.isLeaf()?(o&&o.leaf&&o.leaf(e,u,r,i,c,-1,s),e):this.searchBlock(e,c,u,r,i,o,s);o&&o.shift&&o.shift(e,u,r,i,c,void 0,s),c-=n,u+=n}o&&o.post&&o.post(e,u,r,i,void 0,void 0,s)}backwardSearch(e,t,n,r,i){const o=this.getLength(t,n);if(!(e>o))return this.backwardSearchBlock(this.root,e,o,t,n,r,i)}backwardSearchBlock(e,t,n,r,i,o,s){var a;let c=n;const u=e.children;o&&o.pre&&o.pre(e,c,r,i,void 0,void 0,s);const l=o&&o.contains;for(let n=e.childCount-1;n>=0;n--){const e=u[n],h=c-(null!==(a=this.nodeLength(e,r,i))&&void 0!==a?a:0);if(!l&&t>=h||l&&l(e,t,r,i,void 0,void 0,s))return e.isLeaf()?(o&&o.leaf&&o.leaf(e,h,r,i,t,-1,s),e):this.backwardSearchBlock(e,t,c,r,i,o,s);o&&o.shift&&o.shift(e,h,r,i,t,void 0,s),c=h}o&&o.post&&o.post(e,c,r,i,void 0,void 0,s)}updateRoot(e){if(void 0!==e){const t=this.makeBlock(2);t.assignChild(this.root,0,!1),t.assignChild(e,1,!1),this.root=t,this.nodeUpdateOrdinals(this.root),this.nodeUpdateLengthNewStructure(this.root)}}ackPendingSegment(e){const t=e.sequencedMessage.sequenceNumber,n=this.pendingSegments.dequeue(),r=[];let i=!1;if(void 0!==n){const o=[];n.segments.map((s=>{const a=!s.ack(n,e,this);i=a||i,a||e.op.type!==qc.REMOVE||this.updateSegmentRefsAfterMarkRemoved(s,!1),Wu.options.zamboniSegments&&this.addToLRUSet(s,t),r.includes(s.parent)||r.push(s.parent),o.push({segment:s})})),this.mergeTreeMaintenanceCallback&&this.mergeTreeMaintenanceCallback({deltaSegments:o,operation:-4},e);const s=this.collabWindow.clientId;for(const e of r)this.blockUpdatePathLengths(e,t,s,i)}Wu.options.zamboniSegments&&this.zamboniSegments()}addToPendingList(e,t,n){let r=t;return void 0===r&&(r={segments:[],localSeq:n},this.pendingSegments.enqueue(r)),e.segmentGroups.enqueue(r),r}getMarkerFromId(e){return this.idToSegment.get(e)}posFromRelativePos(e,t=this.collabWindow.currentSeq,n=this.collabWindow.clientId){let r,i=-1;return e.id&&(r=this.getMarkerFromId(e.id)),r&&(i=this.getPosition(r,t,n),e.before?void 0!==e.offset&&(i-=e.offset):(i+=r.cachedLength,void 0!==e.offset&&(i+=e.offset))),i}insertSegments(e,t,n,r,i,o){this.ensureIntervalBoundary(e,n,r);const s=i===Zc?++this.collabWindow.localSeq:void 0;this.blockInsert(e,n,r,i,s,t),this.mergeTreeDeltaCallback&&void 0!==o&&this.mergeTreeDeltaCallback(o,{operation:qc.INSERT,deltaSegments:t.map((e=>({segment:e})))}),this.collabWindow.collaborating&&Wu.options.zamboniSegments&&i!==Zc&&this.zamboniSegments()}insertAtReferencePosition(e,t,n){if(0===t.cachedLength)return;if(t.parent||t.removedSeq||0!==t.seq)throw new Error("Cannot insert segment that has already been inserted.");const r=e=>{let t=e.parent,n=t;for(;void 0!==t;){if(t.childCount>=8){const e=this.split(t);t===this.root?(this.updateRoot(e),n=void 0):(this.insertChildNode(t.parent,e,t.index+1),n=e.parent,this.blockUpdateLength(t.parent,Zc,i))}else this.blockUpdateLength(t,Zc,i);t=t.parent}n&&this.nodeUpdateOrdinals(n)},i=this.collabWindow.clientId,o=e.getSegment(),s=e.getOffset(),a=this.nodeLength(o,this.collabWindow.currentSeq,i);let c=o;if(0!==s&&void 0!==a&&0!==a){const e=this.splitLeafSegment(o,s);(0,E.h)(!!e.next,80),this.insertChildNode(o.parent,e.next,o.index+1),r(e.next),c=e.next}if(this.leftExcursion(c,(e=>{if(!e.isLeaf())return!0;const t=this.nodeLength(e,this.collabWindow.currentSeq,i);return void 0===t||0===t&&(this.breakTie(0,e,Zc)&&(c=e),!0)})),this.collabWindow.collaborating?(t.localSeq=++this.collabWindow.localSeq,t.seq=Zc):t.seq=0,t.clientId=i,Iu.is(t)){const e=t.getId();e&&this.mapIdToSegment(e,t)}this.insertChildNode(c.parent,t,c.index),r(t),this.mergeTreeDeltaCallback&&this.mergeTreeDeltaCallback(n,{deltaSegments:[{segment:t}],operation:qc.INSERT}),this.collabWindow.collaborating&&this.addToPendingList(t,void 0,t.localSeq)}resolveRemoteClientPosition(e,t,n){if(t<this.collabWindow.minSeq)return;const r=this.getContainingSegment(e,t,n),i=this.getCollabWindow();return r&&r.segment?this.getPosition(r.segment,i.currentSeq,i.clientId)+r.offset:e===this.getLength(t,n)?this.getLength(i.currentSeq,i.clientId):void 0}insertChildNode(e,t,n){(0,E.h)(e.childCount<8,81);for(let t=e.childCount;t>n;t--)e.children[t]=e.children[t-1],e.children[t].index=t;e.childCount++,e.assignChild(t,n,!1)}blockInsert(e,t,n,r,i,o){let s=!1;const a=e=>(e.seq===Zc&&(s=!0),!1),c=e=>(s=!1,this.rightExcursion(e,a),s);let u;const l=e=>{this.collabWindow.collaborating&&(e.seq===Zc&&n===this.collabWindow.clientId?u=this.addToPendingList(e,u,i):e.seq>this.collabWindow.minSeq&&Wu.options.zamboniSegments&&this.addToLRUSet(e,e.seq))},h=(e,t,n)=>{const r={};return e?(r.replaceCurrent=n.candidateSegment,r.next=e):r.next=n.candidateSegment,r};let d=e;for(const e of o)if(s=!1,e.cachedLength>0){if(e.seq=r,e.localSeq=i,e.clientId=n,Iu.is(e)){const t=e.getId();t&&this.mapIdToSegment(t,e)}const o=this.insertingWalk(this.root,d,t,n,r,{leaf:h,candidateSegment:e,continuePredicate:c});if(void 0===e.parent)throw new Error(`MergeTree insert failed: ${JSON.stringify({currentSeq:this.collabWindow.currentSeq,minSeq:this.collabWindow.minSeq,segSeq:e.seq})}`);this.updateRoot(o),l(e),d+=e.cachedLength}}ensureIntervalBoundary(e,t,n){const r=this.insertingWalk(this.root,e,t,n,Yc,{leaf:this.splitLeafSegment});this.updateRoot(r)}breakTie(e,t,n){var r;return!t.isLeaf()||0===e&&(n===Zc?Number.MAX_SAFE_INTEGER:n)>(t.seq===Zc?Number.MAX_SAFE_INTEGER-1:null!==(r=t.seq)&&void 0!==r?r:0)}leftExcursion(e,t){let n=!0,r=e,i=r.parent;for(;i;){const e=i.children;let o,s,a=!1;for(o=i.childCount-1;o>=0;o--)if(s=e[o],a){if(s.isLeaf())n=t(s,0,0,this.collabWindow.clientId,0,0,void 0);else{const e=s;n=this.nodeMapReverse(e,t,0,0,this.collabWindow.clientId)}if(!n)return}else a=r===s;r=i,i=i.parent}}rightExcursion(e,t){let n=!0,r=e,i=r.parent;for(;i;){const e=i.children;let o,s,a=!1;for(o=0;o<i.childCount;o++)if(s=e[o],a){if(s.isLeaf())n=t(s);else{const e=s;n=this.walkAllSegments(e,t)}if(!n)return}else a=r===s;r=i,i=i.parent}}insertingWalk(e,t,n,r,i,o){let s=t;const a=e.children;let c,u,l,h;for(c=0;c<e.childCount;c++){u=a[c];const t=this.nodeLength(u,n,r);if(void 0!==t){if(s<t||s===t&&this.breakTie(s,u,i)){if(u.isLeaf()){const t=u,n=o.leaf(t,s,o);if(n.replaceCurrent&&(e.assignChild(n.replaceCurrent,c,!1),n.replaceCurrent.ordinal=u.ordinal),!n.next)return void(o.structureChange&&this.nodeUpdateLengthNewStructure(e));l=n.next,c++}else{const a=u,d=this.insertingWalk(a,s,n,r,i,o);if(void 0===d)return void(o.structureChange?this.nodeUpdateLengthNewStructure(e):this.blockUpdateLength(e,i,r));if(d===Wu.theUnfinishedNode){s-=t;continue}l=d,h=d,c++}break}s-=t}}if(!l&&0===s){if(i!==Zc&&o.continuePredicate&&o.continuePredicate(e))return Wu.theUnfinishedNode;l=o.leaf(void 0,s,o).next}if(l){for(let t=e.childCount;t>c;t--)e.children[t]=e.children[t-1],e.children[t].index=t;return e.assignChild(l,c,!1),e.childCount++,e.setOrdinal(l,c),e.childCount<8?(h&&this.nodeUpdateOrdinals(h),void(o.structureChange?this.nodeUpdateLengthNewStructure(e):this.blockUpdateLength(e,i,r))):this.split(e)}}split(e){const t=this.makeBlock(4);e.childCount=4,this.nodeUpdateOrdinals(e);for(let n=0;n<4;n++)t.assignChild(e.children[4+n],n,!1),e.children[4+n]=void 0;return this.nodeUpdateLengthNewStructure(e),this.nodeUpdateLengthNewStructure(t),t}nodeUpdateOrdinals(e){for(let t=0;t<e.childCount;t++){const n=e.children[t];e.setOrdinal(n,t),n.isLeaf()||this.nodeUpdateOrdinals(n)}}annotateRange(e,t,n,r,i,o,s,a){this.ensureIntervalBoundary(e,i,o),this.ensureIntervalBoundary(t,i,o);const c=[],u=s===Zc?++this.collabWindow.localSeq:void 0;let l;this.mapRange({leaf:e=>{const t=e.addProperties(n,r,s,this.collabWindow);return c.push({segment:e,propertyDeltas:t}),this.collabWindow.collaborating&&(s===Zc?l=this.addToPendingList(e,l,u):Wu.options.zamboniSegments&&this.addToLRUSet(e,s)),!0}},i,o,void 0,e,t),this.mergeTreeDeltaCallback&&c.length>0&&this.mergeTreeDeltaCallback(a,{operation:qc.ANNOTATE,deltaSegments:c}),this.collabWindow.collaborating&&s!==Zc&&Wu.options.zamboniSegments&&this.zamboniSegments()}markRangeRemoved(e,t,n,r,i,o=!1,s){let a,c=o;this.ensureIntervalBoundary(e,n,r),this.ensureIntervalBoundary(t,n,r);const u=[],l=[],h=i===Zc?++this.collabWindow.localSeq:void 0;this.mapRange({leaf:(e,t,n,o)=>{const s=Su(e);return void 0!==s?(c=!0,s.removedSeq===Zc?(s.removedClientIds.unshift(r),s.removedSeq=i,e.localRemovedSeq=void 0):s.removedClientIds.push(r)):(e.removedClientIds=[r],e.removedSeq=i,e.localRemovedSeq=h,u.push({segment:e})),e.localRefs&&!e.localRefs.empty&&l.push(e),this.collabWindow.collaborating&&(e.removedSeq===Zc&&r===this.collabWindow.clientId?a=this.addToPendingList(e,a,h):Wu.options.zamboniSegments&&this.addToLRUSet(e,i)),!0},post:(e,t,n,o)=>(c?this.nodeUpdateLengthNewStructure(e):this.blockUpdateLength(e,i,r),!0)},n,r,void 0,e,t);const d=this.collabWindow.collaborating&&r===this.collabWindow.clientId;for(const e of l)this.updateSegmentRefsAfterMarkRemoved(e,d);this.mergeTreeDeltaCallback&&u.length>0&&this.mergeTreeDeltaCallback(s,{operation:qc.REMOVE,deltaSegments:u}),this.collabWindow.collaborating&&i!==Zc&&Wu.options.zamboniSegments&&this.zamboniSegments()}nodeUpdateLengthNewStructure(e,t=!1){this.blockUpdate(e),this.collabWindow.collaborating&&(e.partialLengths=yu.combine(this,e,this.collabWindow,t))}removeLocalReferencePosition(e){var t;const n=e.getSegment();if(n){const r=null===(t=null==n?void 0:n.localRefs)||void 0===t?void 0:t.removeLocalRef(e);return void 0!==r&&this.blockUpdatePathLengths(n.parent,Yc,Jc),r}}createLocalReferencePosition(e,t,n,r,i){var o;if(function(e){return void 0!==Su(e)}(e)&&!ru(n,Fc.SlideOnRemove|Fc.Transient))throw new I("Can only create SlideOnRemove or Transient local reference position on a removed segment");const s=null!==(o=e.localRefs)&&void 0!==o?o:new fu(e);e.localRefs=s;const a=s.createLocalRef(t,n,r,i);return this.blockUpdatePathLengths(e.parent,Yc,Jc),a}removeLocalReference(e,t){e.localRefs&&e.localRefs.removeLocalRef(t)&&this.blockUpdatePathLengths(e.parent,Yc,Jc)}addLocalReference(e){const t=e.segment;let n=t.localRefs;n||(n=new fu(t),t.localRefs=n),n.addLocalRef(e),this.blockUpdatePathLengths(t.parent,Yc,Jc)}blockUpdate(e){var t;let n=0;const r=e.hierBlock();r&&(r.rightmostTiles=nu(),r.leftmostTiles=nu(),r.rangeStacks={});for(let s=0;s<e.childCount;s++){const a=e.children[s];n+=null!==(i=this,t=(o=a).isLeaf()?i.localNetLength(o):o.cachedLength)&&void 0!==t?t:0,r&&r.addNodeReferences(this,a),this.blockUpdateActions&&this.blockUpdateActions.child(e,s)}var i,o;e.cachedLength=n}blockUpdatePathLengths(e,t,n,r=!1){let i=e;for(;void 0!==i;)r?this.nodeUpdateLengthNewStructure(i):this.blockUpdateLength(i,t,n),i=i.parent}blockUpdateLength(e,t,n){this.blockUpdate(e),this.collabWindow.collaborating&&t!==Zc&&t!==Yc&&(void 0!==e.partialLengths&&Wu.options.incrementalUpdate&&n!==Qc?e.partialLengths.update(this,e,t,n,this.collabWindow):e.partialLengths=yu.combine(this,e,this.collabWindow))}map(e,t,n,r){this.nodeMap(this.root,e,0,t,n,r)}mapRange(e,t,n,r,i,o,s=!1){s&&(i&&this.ensureIntervalBoundary(i,t,n),o&&this.ensureIntervalBoundary(o,t,n)),this.nodeMap(this.root,e,0,t,n,r,i,o)}incrementalBlockMap(e){for(var t;!e.empty();){const n=e.top();if(n.op!==Ru.Go)return;if(0===n.childIndex&&(void 0===n.start&&(n.start=0),void 0===n.end&&(n.end=this.blockLength(n.block,n.refSeq,n.clientId)),n.actions.pre&&n.actions.pre(n)),n.op===Ru.Go&&n.childIndex<n.block.childCount){const r=n.block.children[n.childIndex],i=null!==(t=this.nodeLength(r,n.refSeq,n.clientId))&&void 0!==t?t:0;if(i>0&&n.start<i&&n.end>0)if(r.isLeaf())n.actions.leaf(r,n);else{const t=new Lu(r,n.actions,n.pos,n.refSeq,n.clientId,n.context,n.start,n.end,0);e.push(t)}n.pos+=i,n.start-=i,n.end-=i,n.childIndex++}else n.childIndex===n.block.childCount&&(n.op===Ru.Go&&n.actions.post&&n.actions.post(n),e.pop())}}nodeMap(e,t,n,r,i,o,s,a){var c;let u=s,l=a,h=n;void 0===u&&(u=0),void 0===l&&(l=this.blockLength(e,r,i));let d=!0;if(t.pre&&(d=t.pre(e,h,r,i,u,l,o),!d))return!0;const f=e.children;for(let n=0;n<e.childCount;n++){const e=f[n],s=null!==(c=this.nodeLength(e,r,i))&&void 0!==c?c:0;if(d&&l>0&&s>0&&u<s&&(e.isLeaf()?t.leaf&&(d=t.leaf(e,h,r,i,u,l,o)):d&&(d=this.nodeMap(e,t,h,r,i,o,u,l))),!d)break;t.shift&&t.shift(e,h,r,i,u,l,o),h+=s,u-=s,l-=s}return d&&t.post&&(d=t.post(e,h,r,i,u,l,o)),d}walkAllSegments(e,t,n){let r=!0;const i=e.children;for(let o=0;r&&o<e.childCount;o++){const e=i[o];r=e.isLeaf()?t(e,n):this.walkAllSegments(e,t,n)}return r}nodeMapReverse(e,t,n,r,i){let o=!0;const s=e.children;for(let a=e.childCount-1;a>=0;a--){const e=s[a];if(o&&(e.isLeaf()?o=t(e,n,r,i,0,0,void 0):o&&(o=this.nodeMapReverse(e,t,n,r,i))),!o)break}return o}}var Ku,Zu;function Yu(e,t,n,r){return{combiningOp:r,pos1:e,pos2:t,props:n,type:qc.ANNOTATE}}function Ju(e,t){return{pos1:e,pos2:t,type:qc.REMOVE}}function Qu(e,t){return function(e,t){return{pos1:e,seg:t,type:qc.INSERT}}(e,t.toJSONObject())}function Xu(e,t,n,r,i,o){let s;switch(void 0!==t.version&&n.send({eventName:"MergeTreeChunk:serializeAsMinSupportedVersion",category:"generic",fromChunkVersion:t.version,toChunkVersion:void 0}),t.version){case void 0:s=t,s.headerMetadata=nl(e,s);break;case"1":const n=t,r=e===rl.header?n.headerMetadata:void 0;s={version:void 0,chunkStartSegmentIndex:n.startIndex,chunkLengthChars:n.length,chunkSegmentCount:n.segmentCount,segmentTexts:n.segments,totalLengthChars:null==r?void 0:r.totalLength,totalSegmentCount:null==r?void 0:r.totalSegmentCount,chunkSequenceNumber:null==r?void 0:r.sequenceNumber,chunkMinSequenceNumber:null==r?void 0:r.minSequenceNumber,headerMetadata:r};break;default:throw new Error(`Unsupported chunk path: ${e} version: ${t.version}`)}return i.stringify(s,o)}function el(e,t,n,r,i,o){const s=tl(e,t,0,r);return i.stringify(s,o)}function tl(e,t,n,r){switch(t.version){case void 0:{const n=t;return{version:"1",length:n.chunkLengthChars,segmentCount:n.chunkSegmentCount,headerMetadata:nl(e,n),segments:n.segmentTexts,startIndex:n.chunkStartSegmentIndex}}case"1":return t;default:throw new Error(`Unsupported chunk path: ${e} version: ${t.version}`)}}function nl(e,t,n){if(e===rl.header){if(void 0!==t.headerMetadata)return t.headerMetadata;const e=[{id:rl.header}];return t.chunkLengthChars<t.totalLengthChars&&e.push({id:rl.body}),{orderedChunkMetadata:e,minSequenceNumber:t.chunkMinSequenceNumber,sequenceNumber:t.chunkSequenceNumber,totalLength:t.totalLengthChars,totalSegmentCount:t.totalSegmentCount}}}Wu.zamboniSegmentsMaxCount=2,Wu.options={incrementalUpdate:!0,insertAfterRemovedSegs:!0,zamboniSegments:!0},Wu.theUnfinishedNode={childCount:-1},function(e){e.NoOp="noop",e.ClientJoin="join",e.ClientLeave="leave",e.Propose="propose",e.Reject="reject",e.Summarize="summarize",e.SummaryAck="summaryAck",e.SummaryNack="summaryNack",e.Operation="op",e.RemoteHelp="remoteHelp",e.NoClient="noClient",e.RoundTrip="tripComplete",e.Control="control"}(Ku||(Ku={})),function(e){e.ThrottlingError="ThrottlingError",e.InvalidScopeError="InvalidScopeError",e.BadRequestError="BadRequestError",e.LimitExceededError="LimitExceededError"}(Zu||(Zu={}));class rl{constructor(e,t,n,r){var i,o;this.mergeTree=e,this.filename=n,this.onCompletion=r,this.logger=g.G2.create(t,"Snapshot"),this.chunkSize=null!==(o=null===(i=null==e?void 0:e.options)||void 0===i?void 0:i.mergeTreeSnapshotChunkSize)&&void 0!==o?o:rl.sizeOfFirstChunk}getSeqLengthSegs(e,t,n,r=0){const i=[];let o=0,s=0;for(;o<n&&r+s<e.length;){const n=e[r+s];i.push(n),o+=t[r+s],s++}return{version:void 0,chunkStartSegmentIndex:r,chunkSegmentCount:s,chunkLengthChars:o,totalLengthChars:this.header.segmentsTotalLength,totalSegmentCount:e.length,chunkSequenceNumber:this.header.seq,segmentTexts:i}}emit(e,t,n){var r,i;const o=this.getSeqLengthSegs(this.segments,this.segmentLengths,this.chunkSize);let s=o.chunkLengthChars,a=o.chunkSegmentCount;const c=new Wt.x1;if(c.addBlob(rl.header,Xu(rl.header,o,this.logger,this.mergeTree.options,t,n)),o.chunkSegmentCount<o.totalSegmentCount){const e=this.getSeqLengthSegs(this.segments,this.segmentLengths,this.header.segmentsTotalLength,o.chunkSegmentCount);s+=e.chunkLengthChars,a+=e.chunkSegmentCount,c.addBlob(rl.body,Xu(rl.body,e,this.logger,this.mergeTree.options,t,n))}return(0,E.h)(s===this.header.segmentsTotalLength,93),(0,E.h)(a===o.totalSegmentCount,94),void 0!==e&&e.length>0&&c.addBlob(null!==(i=null===(r=this.mergeTree.options)||void 0===r?void 0:r.catchUpBlobName)&&void 0!==i?i:rl.catchupOps,t?t.stringify(e,n):JSON.stringify(e)),c.getSummaryTree()}extractSync(){const e=this.mergeTree.getCollabWindow();this.seq=e.minSeq,this.header={segmentsTotalLength:this.mergeTree.getLength(this.mergeTree.collabWindow.minSeq,Qc),seq:this.mergeTree.collabWindow.minSeq};const t=[];let n;this.mergeTree.map({leaf:(e,r,i,o,s,a)=>(e.seq!==Zc&&e.seq<=this.seq&&(void 0===e.removedSeq||e.removedSeq===Zc||e.removedSeq>this.seq)&&((null==n?void 0:n.canAppend(e))&&eu(n.properties,e.properties)?(n=n.clone(),n.append(e.clone())):(n&&t.push(n),n=e)),!0)},this.seq,Qc,void 0),n&&t.push(n),this.segments=[],this.segmentLengths=[];let r=0;return t.map((e=>{r+=e.cachedLength,this.segments.push(e.toJSONObject()),this.segmentLengths.push(e.cachedLength)})),this.header.segmentsTotalLength!==r&&(this.logger.sendErrorEvent({eventName:"SegmentsTotalLengthMismatch",totalLength:r,segmentsTotalLength:this.header.segmentsTotalLength}),this.header.segmentsTotalLength=r),this.segments}}rl.header="header",rl.body="body",rl.catchupOps="catchupOps",rl.sizeOfFirstChunk=1e4;class il{constructor(e,t,n,r,i){var o,s;this.mergeTree=e,this.getLongClientId=n,this.filename=r,this.onCompletion=i,this.logger=g.G2.create(t,"Snapshot"),this.chunkSize=null!==(s=null===(o=null==e?void 0:e.options)||void 0===o?void 0:o.mergeTreeSnapshotChunkSize)&&void 0!==s?s:il.chunkSize;const{currentSeq:a,minSeq:c}=e.getCollabWindow();this.header={minSequenceNumber:c,sequenceNumber:a,orderedChunkMetadata:[],totalLength:0,totalSegmentCount:0},this.segments=[],this.segmentLengths=[]}getSeqLengthSegs(e,t,n,r=0){const i=[];let o=0,s=0;for(;o<n&&r+s<e.length;){const n=e[r+s];i.push(n),o+=t[r+s],s++}return{version:"1",segmentCount:s,length:o,segments:i,startIndex:r,headerMetadata:void 0}}emit(e,t){const n=[];this.header.totalSegmentCount=0,this.header.totalLength=0;do{const e=this.getSeqLengthSegs(this.segments,this.segmentLengths,this.chunkSize,this.header.totalSegmentCount);n.push(e),this.header.totalSegmentCount+=e.segmentCount,this.header.totalLength+=e.length}while(this.header.totalSegmentCount<this.segments.length);const r=n.shift();r.headerMetadata=this.header,r.headerMetadata.orderedChunkMetadata=[{id:rl.header}];const i=[];n.forEach(((n,r)=>{const o=`${rl.body}_${r}`;this.header.orderedChunkMetadata.push({id:o}),i.push([o,el(o,n,this.logger,this.mergeTree.options,e,t)])}));const o=new Wt.x1;return o.addBlob(rl.header,el(rl.header,r,this.logger,this.mergeTree.options,e,t)),i.forEach((e=>{o.addBlob(e[0],e[1])})),o.getSummaryTree()}extractSync(){const e=this.mergeTree,t=this.header.minSequenceNumber,n=(e,t)=>{this.segments.push(e),this.segmentLengths.push(t)},r=e=>{e&&n(e.toJSONObject(),e.cachedLength)};let i;return e.walkAllSegments(e.root,(e=>{var o;if(e.seq===Zc||e.removedSeq<=t)return!0;if(e.seq<=t&&(void 0===e.removedSeq||e.removedSeq===Zc))i?i.canAppend(e)&&eu(i.properties,e.properties)?(i=i.clone(),i.append(e.clone())):(r(i),i=e):i=e;else{r(i),i=void 0;const s={json:e.toJSONObject()};e.seq>t&&(s.seq=e.seq,s.client=this.getLongClientId(e.clientId)),void 0!==e.removedSeq&&((0,E.h)(e.removedSeq!==Zc&&e.removedSeq>t,101),s.removedSeq=e.removedSeq,s.removedClient=void 0!==e.removedClientIds?this.getLongClientId(e.removedClientIds[0]):void 0,s.removedClientIds=null===(o=e.removedClientIds)||void 0===o?void 0:o.map((e=>this.getLongClientId(e)))),(0,E.h)(void 0!==s.seq&&void 0!==s.client||void 0!==s.removedSeq&&void 0!==s.removedClient,102),n(s,e.cachedLength)}return!0}),this),r(i),this.segments}static async loadChunk(e,t,n,r,i){const o=await e.readBlob(t),s=(0,le.zT)(o,"utf8");return il.processChunk(t,s,n,r,i)}static processChunk(e,t,n,r,i){return tl(e,i?i.parse(t):JSON.parse(t))}}il.chunkSize=1e4;class ol{constructor(e,t,n,r,i){this.runtime=e,this.client=t,this.mergeTree=n,this.serializer=i,this.specToSegment=e=>{var t;let n;return function(e){return!!e&&"object"==typeof e&&"json"in e}(e)?(n=this.client.specToSegment(e.json),n.clientId=void 0!==e.client?this.client.getOrAddShortClientId(e.client):Qc,n.seq=void 0!==e.seq?e.seq:0,void 0!==e.removedSeq&&(n.removedSeq=e.removedSeq),void 0!==e.removedClient&&(n.removedClientIds=[this.client.getOrAddShortClientId(e.removedClient)]),void 0!==e.removedClientIds&&(n.removedClientIds=null===(t=e.removedClientIds)||void 0===t?void 0:t.map((e=>this.client.getOrAddShortClientId(e))))):(n=this.client.specToSegment(e),n.seq=0,n.clientId=Qc),n},this.logger=g.G2.create(r,"SnapshotLoader")}async initialize(e){const t=e.readBlob(rl.header).then((e=>((0,E.h)(!!e,95),this.loadHeader((0,le.zT)(e,"utf8"))))),n=this.loadBodyAndCatchupOps(t,e);return n.catch((e=>this.logger.sendErrorEvent({eventName:"CatchupOpsLoadFailure"},e))),await t,{catchupOpsP:n}}async loadBodyAndCatchupOps(e,t){const n=t.list(""),r=await e;await this.loadBody(r,t);const i=await n;if(i.length===r.headerMetadata.orderedChunkMetadata.length+1)return r.headerMetadata.orderedChunkMetadata.forEach((e=>i.splice(i.indexOf(e.id),1))),(0,E.h)(1===i.length,96),this.loadCatchupOps(t.readBlob(i[0]));if(i.length!==r.headerMetadata.orderedChunkMetadata.length)throw new Error("Unexpected blobs in snapshot");return[]}loadHeader(e){var t;const n=il.processChunk(rl.header,e,this.logger,this.mergeTree.options,this.serializer),r=n.segments.map(this.specToSegment);if(this.mergeTree.reloadFromSegments(r),void 0===n.headerMetadata)throw new Error("header metadata not available");return this.runtime.attachState!==o.mB.Detached&&this.client.startOrUpdateCollaboration(null!==(t=this.runtime.clientId)&&void 0!==t?t:"snapshot",void 0!==n.headerMetadata.minSequenceNumber?n.headerMetadata.minSequenceNumber:n.headerMetadata.sequenceNumber,n.headerMetadata.sequenceNumber),n}async loadBody(e,t){if((0,E.h)(e.length<=e.headerMetadata.totalLength,97),(0,E.h)(e.segmentCount<=e.headerMetadata.totalSegmentCount,98),e.segmentCount===e.headerMetadata.totalSegmentCount)return;const n=[];let r=e.length;for(let i=1;i<e.headerMetadata.orderedChunkMetadata.length;i++){const o=await il.loadChunk(t,e.headerMetadata.orderedChunkMetadata[i].id,this.logger,this.mergeTree.options,this.serializer);r+=o.length,n.push(...o.segments.map(this.specToSegment))}(0,E.h)(r===e.headerMetadata.totalLength,99),(0,E.h)(e.segmentCount+n.length===e.headerMetadata.totalSegmentCount,100);const i=this.mergeTree,o=(e,t,n)=>{i.insertSegments(i.root.cachedLength,e,0,t,n,void 0)},s=[],a=()=>{s.length>0&&o(s,Qc,0)};for(const e of n){const t=e.clientId,n=e.seq;t===Qc&&0===n?s.push(e):(a(),o([e],t,n))}a()}async loadCatchupOps(e){return JSON.parse((0,le.zT)(await e,"utf8"))}}class sl extends Pu{constructor(e){super(),this.text=e,this.type=sl.type,this.cachedLength=e.length}static is(e){return e.type===sl.type}static make(e,t){const n=new sl(e);return t&&n.addProperties(t),n}static fromJSONObject(e){if("string"==typeof e)return new sl(e);if(e&&"object"==typeof e&&"text"in e){const t=e;return sl.make(t.text,t.props)}}toJSONObject(){return this.properties?{text:this.text,props:this.properties}:this.text}clone(e=0,t){const n=this.text.substring(e,t),r=sl.make(n,this.properties);return this.cloneInto(r),r}canAppend(e){return!this.text.endsWith("\n")&&sl.is(e)&&(this.cachedLength<=256||e.cachedLength<=256)}toString(){return this.text}append(e){if(!sl.is(e))throw new Error("can only append text segment");fu.append(this,e),this.text+=e.text,this.cachedLength=this.text.length}removeRange(e,t){let n="";const r=this.text.length;return e>0&&(n+=this.text.substring(0,e)),t<r&&(n+=this.text.substring(t)),this.text=n,this.cachedLength=n.length,0===n.length}createSplitSegmentAt(e){if(e>0){const t=this.text.substring(e);return this.text=this.text.substring(0,e),this.cachedLength=this.text.length,new sl(t)}}}function al(e){return!0===e.parallelArrays}sl.type="TextSegment";class cl{constructor(e){this.mergeTree=e,this.gatherText=(e,t,n,r,i,o,s)=>{var a,c;let u=i;if(sl.is(e)){let t="",n="";if(al(s)){const r=[],i=[];(null===(a=e.properties)||void 0===a?void 0:a["font-weight"])&&r.push("b"),(null===(c=e.properties)||void 0===c?void 0:c["text-decoration"])&&r.push("u");const o=[];if(r.length>0){for(const e of r)s.tagsInProgress.includes(e)||(t+=`<${e}>`,i.push(e));for(const e of s.tagsInProgress)r.includes(e)||(n+=`</${e}>`,o.push(e));for(const e of i.reverse())s.tagsInProgress.push(e)}else for(const e of s.tagsInProgress)n+=`</${e}>`,o.push(e);for(const e of o){const t=s.tagsInProgress.indexOf(e);t>=0&&s.tagsInProgress.splice(t,1)}}s.textSegment.text+=n,s.textSegment.text+=t,u<=0&&o>=e.text.length?s.textSegment.text+=e.text:(u<0&&(u=0),o>=e.text.length?s.textSegment.text+=e.text.substring(u):s.textSegment.text+=e.text.substring(u,o))}else if(s.placeholder&&s.placeholder.length>0)if("*"===s.placeholder){const t=e;s.textSegment.text+=`\n${t.toString()}`}else for(let t=0;t<e.cachedLength;t++)s.textSegment.text+=s.placeholder;else if(al(s)){const t=e;t.hasTileLabel(s.parallelMarkerLabel)&&(s.parallelMarkers.push(t),s.parallelText.push(s.textSegment.text),s.textSegment.text="")}return!0}}getTextAndMarkers(e,t,n,r,i){const o=this.getValidRange(r,i,e,t),s={parallelArrays:!0,parallelMarkerLabel:n,parallelMarkers:[],parallelText:[],tagsInProgress:[],textSegment:new sl("")};return this.mergeTree.mapRange({leaf:this.gatherText},e,t,s,o.start,o.end),{parallelText:s.parallelText,parallelMarkers:s.parallelMarkers}}getText(e,t,n="",r,i){const o=this.getValidRange(r,i,e,t),s={textSegment:new sl(""),placeholder:n};return this.mergeTree.mapRange({leaf:this.gatherText},e,t,s,o.start,o.end),s.textSegment.text}getValidRange(e,t,n,r){return{end:null!=t?t:this.mergeTree.getLength(n,r),start:null!=e?e:0}}}function ul(e){return 1e3*e.trace().duration}class ll{constructor(e,t,n){this.specToSegment=e,this.logger=t,this.measureOps=!1,this.accumTime=0,this.localTime=0,this.localOps=0,this.accumWindowTime=0,this.accumWindow=0,this.accumOps=0,this.maxWindowTime=0,this.clientNameToIds=new Kc(ju),this.shortClientIdMap=[],this.pendingConsensus=new Map,this.mergeTree=new Wu(n)}get mergeTreeDeltaCallback(){return this.mergeTree.mergeTreeDeltaCallback}set mergeTreeDeltaCallback(e){this.mergeTree.mergeTreeDeltaCallback=e}get mergeTreeMaintenanceCallback(){return this.mergeTree.mergeTreeMaintenanceCallback}set mergeTreeMaintenanceCallback(e){this.mergeTree.mergeTreeMaintenanceCallback=e}peekPendingSegmentGroups(e=1){var t,n;if(1===e)return null===(t=this.mergeTree.pendingSegments)||void 0===t?void 0:t.last();let r=0;return null===(n=this.mergeTree.pendingSegments)||void 0===n?void 0:n.some((()=>r<e&&(r++,!0)),!0)}annotateMarkerNotifyConsensus(e,t,n){const r=this.annotateMarker(e,t,{name:"consensus"});if(r){const t={callback:n,marker:e};return this.pendingConsensus.set(e.getId(),t),r}}annotateMarker(e,t,n){const r=function(e,t,n){const r=e.getId();if(r)return{combiningOp:n,props:t,relativePos1:{id:r,before:!0},relativePos2:{id:r},type:qc.ANNOTATE}}(e,t,n);return this.applyAnnotateRangeOp({op:r})?r:void 0}annotateRangeLocal(e,t,n,r){const i=Yu(e,t,n,r);if(this.applyAnnotateRangeOp({op:i}))return i}removeRangeLocal(e,t){const n=Ju(e,t);if(this.applyRemoveRangeOp({op:n}))return n}insertSegmentLocal(e,t){if(t.cachedLength<=0)return;const n=Qu(e,t);return this.applyInsertOp({op:n})?n:void 0}insertAtReferencePositionLocal(e,t){const n=this.mergeTree.referencePositionToLocalPosition(e,this.getCurrentSeq(),this.getClientId());if(n===hu.DetachedPosition)return;const r=Qu(n,t),i={op:r};let o;return this.measureOps&&(o=zt.f.start()),this.mergeTree.insertAtReferencePosition(e,t,i),this.completeAndLogOp(i,this.getClientSequenceArgs(i),{start:r.pos1},o),r}walkSegments(e,t,n,r,i=!1){this.mergeTree.mapRange({leaf:e},this.getCurrentSeq(),this.getClientId(),r,t,n,i)}serializeGCData(e,t){this.mergeTree.walkAllSegments(this.mergeTree.root,(n=>(void 0===n.removedSeq&&t.stringify(n.clone().toJSONObject(),e),!0)))}getCollabWindow(){return this.mergeTree.getCollabWindow()}getPosition(e){return void 0===(null==e?void 0:e.parent)?-1:this.mergeTree.getPosition(e,this.getCurrentSeq(),this.getClientId())}addLocalReference(e){return this.mergeTree.addLocalReference(e)}removeLocalReference(e){return this.removeLocalReferencePosition(e)}createLocalReferencePosition(e,t,n,r){return this.mergeTree.createLocalReferencePosition(e,t,n,r,this)}removeLocalReferencePosition(e){return this.mergeTree.removeLocalReferencePosition(e)}localReferencePositionToPosition(e){return this.mergeTree.referencePositionToLocalPosition(e)}posFromRelativePos(e){return this.mergeTree.posFromRelativePos(e)}getMarkerFromId(e){return this.mergeTree.getMarkerFromId(e)}applyRemoveRangeOp(e){(0,E.h)(e.op.type===qc.REMOVE,45);const t=e.op,n=this.getClientSequenceArgs(e),r=this.getValidOpRange(t,n);if(!r)return!1;let i;return this.measureOps&&(i=zt.f.start()),this.mergeTree.markRangeRemoved(r.start,r.end,n.referenceSequenceNumber,n.clientId,n.sequenceNumber,!1,e),this.completeAndLogOp(e,n,r,i),!0}applyAnnotateRangeOp(e){(0,E.h)(e.op.type===qc.ANNOTATE,46);const t=e.op,n=this.getClientSequenceArgs(e),r=this.getValidOpRange(t,n);if(!r)return!1;let i;return this.measureOps&&(i=zt.f.start()),this.mergeTree.annotateRange(r.start,r.end,t.props,t.combiningOp,n.referenceSequenceNumber,n.clientId,n.sequenceNumber,e),this.completeAndLogOp(e,n,r,i),!0}applyInsertOp(e){(0,E.h)(e.op.type===qc.INSERT,47);const t=e.op,n=this.getClientSequenceArgs(e),r=this.getValidOpRange(t,n);if(!r)return!1;let i,o;return t.seg&&(i=[this.specToSegment(t.seg)]),!(!i||0===i.length||(this.measureOps&&(o=zt.f.start()),this.mergeTree.insertSegments(r.start,i,n.referenceSequenceNumber,n.clientId,n.sequenceNumber,e),this.completeAndLogOp(e,n,r,o),0))}completeAndLogOp(e,t,n,r){e.sequencedMessage?((0,E.h)(this.mergeTree.getCollabWindow().currentSeq<t.sequenceNumber,48),(0,E.h)(this.mergeTree.getCollabWindow().minSeq<=e.sequencedMessage.minimumSequenceNumber,49),r&&(this.accumTime+=ul(r),this.accumOps++,this.accumWindow+=this.getCurrentSeq()-this.getCollabWindow().minSeq)):r&&(this.localTime+=ul(r),this.localOps++)}getValidOpRange(e,t){let n=e.pos1;void 0===n&&e.relativePos1&&(n=this.mergeTree.posFromRelativePos(e.relativePos1,t.referenceSequenceNumber,t.clientId));let r=e.pos2;if(void 0===r&&e.relativePos2&&(r=this.mergeTree.posFromRelativePos(e.relativePos2,t.referenceSequenceNumber,t.clientId)),t.clientId===this.getClientId()){const t=this.getLength(),i=[];if((void 0===n||n<0||n>t||n===t&&e.type!==qc.INSERT)&&i.push("start"),e.type===qc.INSERT&&void 0===r||(void 0===r||r<=n)&&i.push("end"),i.length>0)throw new T.j4("RangeOutOfBounds",{usageError:!0,end:r,invalidPositions:i.toString(),length:t,opPos1:e.pos1,opPos1Relative:void 0!==e.relativePos1,opPos2:e.pos2,opPos2Relative:void 0!==e.relativePos2,opType:e.type,start:n})}return{start:n,end:r}}getClientSequenceArgsForMessage(e){if(e)return{clientId:this.getOrAddShortClientId(e.clientId),referenceSequenceNumber:e.referenceSequenceNumber,sequenceNumber:e.sequenceNumber};{const e=this.getCollabWindow();return{clientId:e.clientId,referenceSequenceNumber:e.currentSeq,sequenceNumber:this.getLocalSequenceNumber()}}}getClientSequenceArgs(e){return this.getClientSequenceArgsForMessage(e.sequencedMessage)}ackPendingSegment(e){const t=e=>{let t;this.measureOps&&(t=zt.f.start()),this.mergeTree.ackPendingSegment(e),e.op.type===qc.ANNOTATE&&e.op.combiningOp&&"consensus"===e.op.combiningOp.name&&this.updateConsensusProperty(e.op,e.sequencedMessage),t&&(this.accumTime+=ul(t),this.accumOps++,this.accumWindow+=this.getCurrentSeq()-this.getCollabWindow().minSeq)};if(e.op.type===qc.GROUP)for(const n of e.op.ops)t({groupOp:e.op,op:n,sequencedMessage:e.sequencedMessage});else t(e)}cloneFromSegments(){const e=new ll(this.specToSegment,this.logger,this.mergeTree.options),t=this.mergeTree.blockClone(this.mergeTree.root,[]);return e.mergeTree.root=t,e}getOrAddShortClientId(e){return this.clientNameToIds.get(e)||this.addLongClientId(e),this.getShortClientId(e)}getShortClientId(e){return this.clientNameToIds.get(e).data}getLongClientId(e){return e>=0?this.shortClientIdMap[e]:"original"}addLongClientId(e){this.clientNameToIds.put(e,this.shortClientIdMap.length),this.shortClientIdMap.push(e)}findReconnectionPosition(e,t){(0,E.h)(t<=this.mergeTree.collabWindow.localSeq,50);let n=0;return this.mergeTree.walkAllSegments(this.mergeTree.root,(r=>r!==e&&((void 0===r.localSeq||r.localSeq<=t)&&(void 0===r.removedSeq||r.localRemovedSeq>t)&&(n+=r.cachedLength),!0))),n}rebasePosition(e,t,n){let r;(0,E.h)(n<=this.mergeTree.collabWindow.localSeq,768);let i=0,o=e;this.mergeTree.walkAllSegments(this.mergeTree.root,(s=>((0,E.h)(void 0!==s.seq||void 0!==s.localSeq,769),r=s,(e=>void 0!==e.seq&&e.seq!==Zc&&e.seq<=t||void 0!==e.localSeq&&e.localSeq<=n)(s)&&!(({removedSeq:e,localRemovedSeq:r})=>void 0!==e&&e!==Zc&&e<=t||void 0!==r&&r<=n)(s)&&(i+=s.cachedLength,o>=s.cachedLength&&(o-=s.cachedLength)),i<=e))),(0,E.h)(void 0!==r,770);const s=this.getCollabWindow().currentSeq;return(void 0!==r.removedSeq&&r.removedSeq!==Zc&&r.removedSeq<=s||void 0!==r.localRemovedSeq&&r.localRemovedSeq<=n)&&(o=0),(0,E.h)(0<=o&&o<r.cachedLength,771),this.findReconnectionPosition(r,n)+o}resetPendingDeltaToOps(e,t){var n,r;(0,E.h)(!!t,51);const i=null===(n=this.mergeTree.pendingSegments)||void 0===n?void 0:n.dequeue();(0,E.h)(t===i,52);const o=[];for(const n of t.segments.sort(((e,t)=>e.ordinal<t.ordinal?-1:1))){const i=n.segmentGroups.dequeue();(0,E.h)(t===i,53);const s=this.findReconnectionPosition(n,t.localSeq);let a;switch(e.type){case qc.ANNOTATE:(0,E.h)(!0===(null===(r=n.propertyManager)||void 0===r?void 0:r.hasPendingProperties()),54),void 0!==n.removedSeq&&void 0===n.localRemovedSeq||(a=Yu(s,s+n.cachedLength,e.props,e.combiningOp));break;case qc.INSERT:(0,E.h)(n.seq===Zc,55);let t=n;"object"==typeof e.seg&&void 0!==e.seg.props&&(t=n.clone(),t.properties=e.seg.props),a=Qu(s,t);break;case qc.REMOVE:void 0!==n.localRemovedSeq&&(a=Ju(s,s+n.cachedLength));break;default:throw new Error("Invalid op type")}if(a){const e={segments:[],localSeq:t.localSeq};n.segmentGroups.enqueue(e),this.mergeTree.pendingSegments.enqueue(e),o.push(a)}}return o}applyRemoteOp(e){const t=e.op,n=e.sequencedMessage;switch(this.getOrAddShortClientId(n.clientId),t.type){case qc.INSERT:this.applyInsertOp(e);break;case qc.REMOVE:this.applyRemoveRangeOp(e);break;case qc.ANNOTATE:this.applyAnnotateRangeOp(e);break;case qc.GROUP:for(const e of t.ops)this.applyRemoteOp({op:e,groupOp:t,sequencedMessage:n})}}applyStashedOp(e){let t;switch(e.type){case qc.INSERT:this.applyInsertOp({op:e}),t=this.peekPendingSegmentGroups();break;case qc.REMOVE:this.applyRemoveRangeOp({op:e}),t=this.peekPendingSegmentGroups();break;case qc.ANNOTATE:this.applyAnnotateRangeOp({op:e}),t=this.peekPendingSegmentGroups();break;case qc.GROUP:return e.ops.map((e=>this.applyStashedOp(e)));default:(0,k.U)(e,"unrecognized op type")}return(0,E.h)(!!t,731),t}applyMsg(e,t=!1){var n;if(this.getOrAddShortClientId(e.clientId),e.type===Ku.Operation){const r={op:e.contents,sequencedMessage:e};(null===(n=r.sequencedMessage)||void 0===n?void 0:n.clientId)===this.longClientId||t?this.ackPendingSegment(r):this.applyRemoteOp(r)}this.updateSeqNumbers(e.minimumSequenceNumber,e.sequenceNumber)}updateSeqNumbers(e,t){const n=this.mergeTree.getCollabWindow();(0,E.h)(n.currentSeq<=t,56),n.currentSeq=t,(0,E.h)(e<=t,57),this.updateMinSeq(e)}resolveRemoteClientPosition(e,t,n){const r=this.getOrAddShortClientId(n);return this.mergeTree.resolveRemoteClientPosition(e,t,r)}regeneratePendingOp(e,t){const n=[];if(e.type===qc.GROUP)if(Array.isArray(t)){(0,E.h)(e.ops.length===t.length,58);for(let r=0;r<e.ops.length;r++)n.push(...this.resetPendingDeltaToOps(e.ops[r],t[r]))}else(0,E.h)(1===e.ops.length,59),n.push(...this.resetPendingDeltaToOps(e.ops[0],t));else(0,E.h)(e.type!==qc.GROUP,60),(0,E.h)(!Array.isArray(t),61),n.push(...this.resetPendingDeltaToOps(e,t));return 1===n.length?n[0]:function(...e){return{ops:e,type:qc.GROUP}}(...n)}createTextHelper(){return new cl(this.mergeTree)}summarize(e,t,n,r){var i;const o=e.deltaManager,s=o.minimumSequenceNumber;if(this.updateSeqNumbers(s,o.lastSequenceNumber),(0,E.h)(this.getCollabWindow().minSeq===s,62),!0===(null===(i=this.mergeTree.options)||void 0===i?void 0:i.newMergeTreeSnapshotFormat)){(0,E.h)(void 0===r||0===r.length,63);const e=new il(this.mergeTree,this.logger,(e=>this.getLongClientId(e)));return e.extractSync(),e.emit(n,t)}{const e=new rl(this.mergeTree,this.logger);return e.extractSync(),e.emit(r,n,t)}}async load(e,t,n){return new ol(e,this,this.mergeTree,this.logger,n).initialize(t)}getStackContext(e,t){return this.mergeTree.getStackContext(e,this.getCollabWindow().clientId,t)}getLocalSequenceNumber(){return this.getCollabWindow().collaborating?Zc:0}localTransaction(e){for(const t of e.ops){const n={op:t,groupOp:e};switch(t.type){case qc.INSERT:this.applyInsertOp(n);break;case qc.ANNOTATE:this.applyAnnotateRangeOp(n);break;case qc.REMOVE:this.applyRemoveRangeOp(n)}}}updateConsensusProperty(e,t){const n=e.relativePos1.id,r=this.pendingConsensus.get(n);r&&r.marker.addProperties(e.props,e.combiningOp,t.sequenceNumber),this.mergeTree.addMinSeqListener(t.sequenceNumber,(()=>r.callback(r.marker)))}updateMinSeq(e){let t;if(this.measureOps&&(t=zt.f.start()),this.mergeTree.setMinSeq(e),t){const e=ul(t);this.accumWindowTime+=e,e>this.maxWindowTime&&(this.maxWindowTime=e)}}getContainingSegment(e,t){const n=this.getClientSequenceArgsForMessage(t);return this.mergeTree.getContainingSegment(e,n.referenceSequenceNumber,n.clientId)}getSlideToSegment(e){return this.mergeTree._getSlideToSegment(e)}getPropertiesAtPosition(e){let t;const n=this.getContainingSegment(e).segment;return n&&(t=n.properties),t}getRangeExtentsOfPosition(e){let t,n;const r=this.getContainingSegment(e).segment;return r&&(t=this.getPosition(r),n=t+r.cachedLength),{posStart:t,posAfterEnd:n}}getCurrentSeq(){return this.getCollabWindow().currentSeq}getClientId(){return this.getCollabWindow().clientId}getLength(){return this.mergeTree.length}startOrUpdateCollaboration(e,t=0,n=0){if(void 0!==e)if(void 0===this.longClientId)this.longClientId=e,this.addLongClientId(this.longClientId),this.mergeTree.startCollaboration(this.getShortClientId(this.longClientId),t,n);else{const t=this.longClientId,n=this.clientNameToIds.get(t).data;this.longClientId=e,this.clientNameToIds.put(e,n),this.shortClientIdMap[n]=e}}findTile(e,t,n=!0){const r=this.getClientId();return this.mergeTree.findTile(e,r,t,n)}}const hl=e=>e>=1;class dl{constructor(e=[1]){this.handles=e}clear(){this.handles.splice(0,this.handles.length,1)}allocate(){var e;const t=this.next;return this.next=null!==(e=this.handles[t])&&void 0!==e?e:t+1,this.handles[t]=0,t}allocateMany(e){const t=new Uint32Array(e);for(let n=0;n<e;n++)t[n]=this.allocate();return t}free(e){this.handles[e]=this.next,this.next=e}get(e){return this.handles[e]}set(e,t){this.handles[e]=t}get next(){return this.handles[0]}set next(e){this.handles[0]=e}getSummaryContent(){return this.handles}static load(e){return new dl(e)}}async function fl(e,t,n){const r=await e.readBlob(t),i=(0,le.zT)(r,"utf8");return n.parse(i)}function pl(e,t){if(e>>>0>=t)throw new RangeError("Invalid (row, col) coordinate.")}class ml{constructor(e){this.vector=e,this.handles=[],this.start=0}getIndex(e){return e-this.start>>>0}getHandle(e){const t=this.getIndex(e);return t<this.handles.length?this.handles[t]:this.cacheMiss(e)}addHandle(e,t){(0,E.h)(hl(t),23);const n=this.getIndex(e);n<this.handles.length&&((0,E.h)(!hl(this.handles[n]),24),this.handles[n]=t)}getHandles(e,t){const n=[],{vector:r}=this;for(let i=e;i<t;i++){const{segment:e,offset:t}=r.getContainingSegment(i),o=e;n.push(o.start+t)}return n}cacheMiss(e){const t=e>>>0;return t<this.start?(this.handles=this.getHandles(t,this.start).concat(this.handles),this.start=t,this.handles[0]):(pl(t,this.vector.getLength()),this.handles=this.handles.concat(this.getHandles(this.start+this.handles.length,t+1)),this.handles[this.handles.length-1])}itemsChanged(e,t,n){const r=this.getIndex(e);r<this.handles.length&&(this.handles.length=r)}}class gl extends Pu{constructor(e,t=-2147483648){super(),this._start=-2147483648,this.type=gl.typeString,this._start=t,this.cachedLength=e}static fromJSONObject(e){const[t,n]=e;return new gl(t,n)}get start(){return this._start}set start(e){(0,E.h)(-2147483648===this._start,36),(0,E.h)(hl(e),37),this._start=e}transferToReplacement(e){for(const t of this.trackingCollection.trackingGroups)t.link(e);for(const e of this.trackingCollection.trackingGroups)e.unlink(this);e._start=this._start,this.reset()}reset(){this._start=-2147483648}toJSONObject(){return[this.cachedLength,this.start]}clone(e=0,t=this.cachedLength){const n=new gl(t-e,this.start+e);return this.cloneInto(n),n}canAppend(e){const t=e;return-2147483648===this.start?-2147483648===t.start:t.start===this.start+this.cachedLength}append(e){fu.append(this,e),this.cachedLength+=e.cachedLength}createSplitSegmentAt(e){(0,E.h)(0<e&&e<this.cachedLength,38);const t=new gl(this.cachedLength-e,-2147483648===this.start?-2147483648:this.start+e);return this.cachedLength=e,t}toString(){return-2147483648===this.start?`<${this.cachedLength} empty>`:`<${this.cachedLength}: ${this.start}..${this.start+this.cachedLength-1}>`}}gl.typeString="PermutationSegment";class vl extends ll{constructor(e,t,n,r,i){super(gl.fromJSONObject,g.G2.create(t,`Matrix.${e}.MergeTreeClient`),Object.assign(Object.assign({},n.options),{newMergeTreeSnapshotFormat:!0})),this.deltaCallback=r,this.handlesRecycledCallback=i,this.handleTable=new dl,this.handleCache=new ml(this),this.onDelta=(e,{operation:t,deltaSegments:n})=>{const r=n.map((({segment:e})=>({segment:e,position:this.getPosition(e)}))).sort(((e,t)=>e.position-t.position)),i=void 0===e.sequencedMessage;switch(void 0!==this.undo&&i&&this.undo.record(t,r),t){case qc.INSERT:for(const{segment:e,position:t}of r)e.reset(),this.handleCache.itemsChanged(t,0,e.cachedLength);for(const{segment:e,position:t}of r)this.deltaCallback(t,0,e.cachedLength);break;case qc.REMOVE:for(const{segment:e,position:t}of r)this.handleCache.itemsChanged(t,e.cachedLength,0);for(const{segment:e,position:t}of r)this.deltaCallback(t,e.cachedLength,0);break;default:throw new Error("Unhandled MergeTreeDeltaType")}},this.onMaintenance=e=>{if(-3===e.operation){let t=[];for(const{segment:n}of e.deltaSegments){const e=n;hl(e.start)&&(t=t.concat(new Array(e.cachedLength).fill(0).map(((t,n)=>n+e.start))))}this.handlesRecycledCallback(t);for(const e of t)this.handleTable.free(e)}},this.mergeTreeDeltaCallback=this.onDelta,this.mergeTreeMaintenanceCallback=this.onMaintenance}insert(e,t){return this.insertSegmentLocal(e,new gl(t))}insertRelative(e,t){const n=new gl(t);return{op:this.insertAtReferencePositionLocal(new hu(this,e,0,Fc.Transient),n),inserted:n}}remove(e,t){return this.removeRangeLocal(e,e+t)}getMaybeHandle(e){return(0,E.h)(0<=e&&e<this.getLength(),39),this.handleCache.getHandle(e)}getAllocatedHandle(e){let t=this.getMaybeHandle(e);return hl(t)||(this.walkSegments((e=>(e.start=t=this.handleTable.allocate(),!0)),e,e+1,void 0,!0),this.handleCache.addHandle(e,t)),t}adjustPosition(e,t,n){const{segment:r,offset:i}=this.mergeTree.getContainingSegment(e,t,n);if(void 0!==r&&void 0===r.removedSeq)return this.getPosition(r)+i}handleToPosition(e,t=this.mergeTree.collabWindow.localSeq){let n,r;return(0,E.h)(t<=this.mergeTree.collabWindow.localSeq,40),this.mergeTree.walkAllSegments(this.mergeTree.root,(t=>{const{start:i,cachedLength:o}=t;return!hl(i)||!(i<=e&&e<i+o&&(n=t,r=e-i,1))})),(0,E.h)(hl(n.start),41),this.findReconnectionPosition(n,t)+r}summarize(e,t,n){const r=new Wt.x1;return r.addWithStats("segments",super.summarize(e,t,n,[])),r.addBlob("handleTable",n.stringify(this.handleTable.getSummaryContent(),t)),r.getSummaryTree()}async load(e,t,n){const r=await fl(t,"handleTable",n);return this.handleTable=dl.load(r),super.load(e,new Bc.M(t,"segments"),n)}toString(){const e=[];return this.walkSegments((t=>(e.push(`${t}`),!0))),e.join("")}}const yl=new Array(256).fill(0).map(((e,t)=>{let n=t;return n=3855&(n|n<<4),n=13107&(n|n<<2),n=21845&(n|n<<1),n})),bl=e=>e>>>24,wl=e=>e<<8>>>24,Sl=e=>e<<16>>>24,_l=e=>e<<24>>>24,xl=e=>yl[Sl(e)]<<16|yl[_l(e)],Cl=e=>xl(e)<<1>>>0,El=e=>xl(e)>>>0,kl=(e,t)=>(Cl(e)|El(t))>>>0,Al=e=>e.map((e=>null===e?void 0:Array.isArray(e)?Al(e):e));class Nl{constructor(e=[void 0]){this.root=e}get rowCount(){return 4294967295}get colCount(){return 4294967295}getCell(e,t){const n=kl(e>>>16,t>>>16),r=this.root[n];if(void 0!==r){const n=kl(e,t),i=r[bl(n)];if(void 0!==i){const e=i[wl(n)];if(void 0!==e){const t=e[Sl(n)];if(void 0!==t)return t[_l(n)]}}}}get matrixProducer(){}setCell(e,t,n){const r=kl(e>>>16,t>>>16),i=kl(e,t),o=this.getLevel(this.root,r),s=this.getLevel(o,bl(i)),a=this.getLevel(s,wl(i));this.getLevel(a,Sl(i))[_l(i)]=n}forEachKeyInRow(e,t){for(let n=0;n<16;n++)t((e|El(n))>>>0)}forEachKeyInCol(e,t){for(let n=0;n<16;n++)t((Cl(n)|e)>>>0)}forEachInRow(e,t,n){this.forEachKeyInRow(t,(t=>{const r=e[t];void 0!==r&&n(r)}))}forEachInCol(e,t,n){this.forEachKeyInCol(t,(t=>{const r=e[t];void 0!==r&&n(r)}))}clearRows(e,t){const n=e+t;for(let t=e;t<n;t++){const e=Cl(t>>>16);for(let n=0;n<65536;n++){const r=(e|El(n))>>>0,i=this.root[r];if(void 0!==i){const e=Cl(t);this.forEachInRow(i,bl(e),(t=>{this.forEachInRow(t,wl(e),(t=>{this.forEachInRow(t,Sl(e),(t=>{this.forEachKeyInRow(_l(e),(e=>{t[e]=void 0}))}))}))}))}}}}clearCols(e,t){const n=e+t;for(let t=e;t<n;t++){const e=El(t>>>16);for(let n=0;n<65536;n++){const r=(e|Cl(n))>>>0,i=this.root[r];if(void 0!==i){const e=El(t);this.forEachInCol(i,bl(e),(t=>{this.forEachInCol(t,wl(e),(t=>{this.forEachInCol(t,Sl(e),(t=>{this.forEachKeyInCol(_l(e),(e=>{t[e]=void 0}))}))}))}))}}}}getLevel(e,t){const n=e[t];return void 0===n?e[t]=new Array(256).fill(void 0):n}snapshot(){return this.root}static load(e){return new Nl(Al(e))}}class Tl{get type(){return Tl.Type}get attributes(){return Tl.Attributes}async load(e,t,n,r){const i=new Il(e,t,r);return await i.load(n),i}create(e,t){const n=new Il(e,t,this.attributes);return n.initializeLocal(),n}}Tl.Type="https://graph.microsoft.com/types/sharedmatrix",Tl.Attributes={type:Tl.Type,snapshotFormatVersion:"0.1",packageVersion:"1.3.6"};class Pl{constructor(e,t,n){this.manager=e,this.undoInsert=t,this.undoRemove=n}record(e,t){var n;if(t.length>0){const r=null!==(n=this.currentGroup)&&void 0!==n?n:new mu;for(const e of t)r.link(e.segment);switch((0,E.h)(void 0===this.currentOp||this.currentOp===e,42),e){case qc.INSERT:this.currentOp!==qc.INSERT&&this.pushRevertible(r,this.undoInsert);break;case qc.REMOVE:this.currentOp!==qc.REMOVE&&this.pushRevertible(r,this.undoRemove);break;default:throw new Error("operation type not revertible")}void 0!==this.currentGroup&&(this.currentOp=e)}}pushRevertible(e,t){const n={revert:()=>{(0,E.h)(void 0===this.currentGroup&&void 0===this.currentOp,43),this.currentGroup=new mu;try{for(;e.size>0;){const n=e.segments[0];n.trackingCollection.unlink(e),t(n)}}finally{this.currentOp=void 0,this.currentGroup=void 0}},discard:()=>{for(;e.size>0;)e.unlink(e.segments[0])}};return this.manager.pushToCurrentOperation(n),n}}class Ol{constructor(e,t,n,r){this.consumer=e,this.matrix=t,this.rows=n,this.cols=r,n.undo=new Pl(e,(e=>{const t=this.rows.getPosition(e);this.matrix.removeRows(t,e.cachedLength)}),(e=>{this.matrix._undoRemoveRows(e)})),r.undo=new Pl(e,(e=>{const t=this.cols.getPosition(e);this.matrix.removeCols(t,e.cachedLength)}),(e=>{this.matrix._undoRemoveCols(e)}))}cellSet(e,t,n){(0,E.h)(hl(e)&&hl(t),44),void 0!==this.consumer&&this.consumer.pushToCurrentOperation({revert:()=>{this.matrix.setCell(this.rows.handleToPosition(e),this.cols.handleToPosition(t),n)},discard:()=>{}})}}class Il extends oi{constructor(e,t,n){super(t,e,n,"fluid_matrix_"),this.id=t,this.consumers=new Set,this.cells=new Nl,this.pending=new Nl,this.onRowDelta=(e,t,n)=>{for(const r of this.consumers)r.rowsChanged(e,t,n,this)},this.onColDelta=(e,t,n)=>{for(const r of this.consumers)r.colsChanged(e,t,n,this)},this.onRowHandlesRecycled=e=>{for(const t of e)this.cells.clearRows(t,1),this.pending.clearRows(t,1)},this.onColHandlesRecycled=e=>{for(const t of e)this.cells.clearCols(t,1),this.pending.clearCols(t,1)},this.rows=new vl("rows",this.logger,e,this.onRowDelta,this.onRowHandlesRecycled),this.cols=new vl("cols",this.logger,e,this.onColDelta,this.onColHandlesRecycled)}static getFactory(){return new Tl}openUndo(e){(0,E.h)(void 0===this.undo,25),this.undo=new Ol(e,this,this.rows,this.cols)}get rowHandles(){return this.rows.handleCache}get colHandles(){return this.cols.handleCache}static create(e,t){return e.createChannel(t,Tl.Type)}openMatrix(e){return this.consumers.add(e),this}closeMatrix(e){this.consumers.delete(e)}get rowCount(){return this.rows.getLength()}get colCount(){return this.cols.getLength()}getCell(e,t){const n=this.rowHandles.getHandle(e);if(hl(n)){const e=this.colHandles.getHandle(t);if(hl(e))return this.cells.getCell(n,e)}else pl(t,this.cols.getLength())}get matrixProducer(){return this}setCell(e,t,n){(0,E.h)(0<=e&&e<this.rowCount&&0<=t&&t<this.colCount,26),this.setCellCore(e,t,n);for(const n of this.consumers.values())n.cellsChanged(e,t,1,1,this)}setCells(e,t,n,r){const i=Math.ceil(r.length/n);(0,E.h)(0<=e&&e<this.rowCount&&0<=t&&t<this.colCount&&1<=n&&n<=this.colCount-t&&i<=this.rowCount-e,27);const o=t+n;let s=e,a=t;for(const e of r)this.setCellCore(s,a,e),++a===o&&(a=t,s++);for(const r of this.consumers.values())r.cellsChanged(e,t,i,n,this)}setCellCore(e,t,n,r=this.rows.getAllocatedHandle(e),i=this.cols.getAllocatedHandle(t)){if(void 0!==this.undo){let e=this.cells.getCell(r,i);null===e&&(e=void 0),this.undo.cellSet(r,i,e)}this.cells.setCell(r,i,n),this.isAttached()&&this.sendSetCellOp(e,t,n,r,i)}sendSetCellOp(e,t,n,r,i,o=this.nextLocalSeq()){(0,E.h)(this.isAttached(),482);const s={type:Uc.set,row:e,col:t,value:n},a={rowHandle:r,colHandle:i,localSeq:o};this.submitLocalMessage(s,a),this.pending.setCell(r,i,o)}submitVectorMessage(e,t,n,r){const i=e.getCollabWindow().localSeq,o=t.getCollabWindow();(0,E.h)(i>=o.localSeq,28),o.localSeq=i,this.isAttached()&&(r.target=n,this.submitLocalMessage(r,e.peekPendingSegmentGroups(r.type===qc.GROUP?r.ops.length:1)))}submitColMessage(e){this.submitVectorMessage(this.cols,this.rows,"cols",e)}insertCols(e,t){this.submitColMessage(this.cols.insert(e,t))}removeCols(e,t){this.submitColMessage(this.cols.remove(e,t))}submitRowMessage(e){this.submitVectorMessage(this.rows,this.cols,"rows",e)}insertRows(e,t){this.submitRowMessage(this.rows.insert(e,t))}removeRows(e,t){this.submitRowMessage(this.rows.remove(e,t))}_undoRemoveRows(e){const t=e,{op:n,inserted:r}=this.rows.insertRelative(t,t.cachedLength);this.submitRowMessage(n),t.transferToReplacement(r);const i=this.rows.getPosition(r);this.rows.handleCache.itemsChanged(i,0,r.cachedLength);let o=r.start;const s=r.cachedLength;for(let e=i;e<i+s;e++,o++)for(let t=0;t<this.colCount;t++){const n=this.colHandles.getHandle(t),r=this.cells.getCell(o,n);this.isAttached()&&null!=r&&this.sendSetCellOp(e,t,r,o,n)}for(const e of this.consumers.values())e.cellsChanged(i,0,s,this.colCount,this)}_undoRemoveCols(e){const t=e,{op:n,inserted:r}=this.cols.insertRelative(t,t.cachedLength);this.submitColMessage(n),t.transferToReplacement(r);const i=this.cols.getPosition(r);this.cols.handleCache.itemsChanged(i,0,r.cachedLength);let o=r.start;const s=r.cachedLength;for(let e=i;e<i+s;e++,o++)for(let t=0;t<this.rowCount;t++){const n=this.rowHandles.getHandle(t),r=this.cells.getCell(n,o);this.isAttached()&&null!=r&&this.sendSetCellOp(t,e,r,n,o)}for(const e of this.consumers.values())e.cellsChanged(0,i,this.rowCount,s,this)}summarizeCore(e){const t=new Wt.x1;return t.addWithStats("rows",this.rows.summarize(this.runtime,this.handle,e)),t.addWithStats("cols",this.cols.summarize(this.runtime,this.handle,e)),t.addBlob("cells",e.stringify([this.cells.snapshot(),this.pending.snapshot()],this.handle)),t.getSummaryTree()}processGCDataCore(e){for(let t=0;t<this.rowCount;t++)for(let n=0;n<this.colCount;n++)e.stringify(this.getCell(t,n),this.handle)}nextLocalSeq(){return this.cols.getCollabWindow().localSeq++,++this.rows.getCollabWindow().localSeq}submitLocalMessage(e,t){(0,E.h)(!0===this.isAttached(),29),super.submitLocalMessage(function(e,t,n){return t.encode(e,n)}(e,this.serializer,this.handle),t),(0,E.h)(this.rows.getCollabWindow().localSeq===this.cols.getCollabWindow().localSeq,30)}didAttach(){var e,t;this.isAttached()&&(this.rows.startOrUpdateCollaboration(null!==(e=this.runtime.clientId)&&void 0!==e?e:"attached"),this.cols.startOrUpdateCollaboration(null!==(t=this.runtime.clientId)&&void 0!==t?t:"attached"))}onConnect(){(0,E.h)(this.rows.getCollabWindow().collaborating===this.cols.getCollabWindow().collaborating,31),this.rows.startOrUpdateCollaboration(this.runtime.clientId),this.cols.startOrUpdateCollaboration(this.runtime.clientId)}reSubmitCore(e,t){switch(e.target){case"cols":this.submitColMessage(this.cols.regeneratePendingOp(e,t));break;case"rows":this.submitRowMessage(this.rows.regeneratePendingOp(e,t));break;default:{(0,E.h)(e.type===Uc.set,32);const n=e,{rowHandle:r,colHandle:i,localSeq:o}=t;if(this.isLatestPendingWrite(r,i,o)){const e=this.rows.handleToPosition(r,o),t=this.cols.handleToPosition(i,o);e>=0&&t>=0&&this.sendSetCellOp(e,t,n.value,r,i,o)}break}}}onDisconnect(){}async loadCore(e){try{await this.rows.load(this.runtime,new Bc.M(e,"rows"),this.serializer),await this.cols.load(this.runtime,new Bc.M(e,"cols"),this.serializer);const[t,n]=await fl(e,"cells",this.serializer);this.cells=Nl.load(t),this.pending=Nl.load(n)}catch(e){this.logger.sendErrorEvent({eventName:"MatrixLoadFailed"},e)}}processCore(e,t,n){const r=ci(e,this.serializer),i=r.contents;switch(i.target){case"cols":this.cols.applyMsg(r,t);break;case"rows":this.rows.applyMsg(r,t);break;default:{(0,E.h)(i.type===Uc.set,33);const{referenceSequenceNumber:r,clientId:o}=e,{row:s,col:a}=i;if(t){const{rowHandle:e,colHandle:t,localSeq:r}=n;this.isLatestPendingWrite(e,t,r)&&this.pending.setCell(e,t,void 0)}else{const e=this.rows.getOrAddShortClientId(o),t=this.rows.adjustPosition(s,r,e);if(void 0!==t){const e=this.cols.getOrAddShortClientId(o),n=this.cols.adjustPosition(a,r,e);if(void 0!==n){const e=this.rows.getAllocatedHandle(t),r=this.cols.getAllocatedHandle(n);if((0,E.h)(hl(e)&&hl(r),34),void 0===this.pending.getCell(e,r)){const{value:o}=i;this.cells.setCell(e,r,o);for(const e of this.consumers.values())e.cellsChanged(t,n,1,1,this)}}}}}}}isLatestPendingWrite(e,t,n){const r=this.pending.getCell(e,t);return(0,E.h)(!(r<n),35),r===n}toString(){let e=`client:${this.runtime.clientId}\nrows: ${this.rows.toString()}\ncols: ${this.cols.toString()}\n\n`;for(let t=0;t<this.rowCount;t++){e+="  [";for(let n=0;n<this.colCount;n++)n>0&&(e+=", "),e+=`${this.serializer.stringify(this.getCell(t,n),this.handle)}`;e+="]\n"}return`${e}\n`}applyStashedOp(e){if("cols"===e.target||"rows"===e.target){const t=e,n="cols"===e.target?this.cols:this.rows,r="cols"===e.target?this.rows:this.cols,i=n.applyStashedOp(t),o=n.getCollabWindow().localSeq,s=r.getCollabWindow();return(0,E.h)(o>s.localSeq,729),s.localSeq=o,i}{(0,E.h)(e.type===Uc.set,730);const t=e,n=this.rows.getAllocatedHandle(t.row),r=this.cols.getAllocatedHandle(t.col);if(void 0!==this.undo){let e=this.cells.getCell(n,r);null===e&&(e=void 0),this.undo.cellSet(n,r,e)}this.cells.setCell(n,r,t.value);const i=this.nextLocalSeq(),o={rowHandle:n,colHandle:r,localSeq:i};return this.pending.setCell(n,r,i),o}}}var Rl=n(12213);class Ll extends we.L{constructor(e,t){super(),this.signaler=e,this.emitter=new Rl.EventEmitter,this.emitter.on("error",(e=>{this.emit("error",e)})),this.managerId=t?`#${t}`:void 0,this.signaler.on("signal",((e,t)=>{const n=e.clientId;this.signaler.connected&&null!==n&&this.emitter.emit(e.type,n,t,e.content)}))}getManagerSignalName(e){return this.managerId?`${e}${this.managerId}`:e}onSignal(e,t){const n=this.getManagerSignalName(e);return this.emitter.on(n,t),this}offSignal(e,t){const n=this.getManagerSignalName(e);return this.emitter.off(n,t),this}submitSignal(e,t){const n=this.getManagerSignalName(e);this.signaler.connected&&this.signaler.submitSignal(n,t)}}class Ml extends Ii{get manager(){return(0,E.h)(void 0!==this._manager,587),this._manager}static get Name(){return"@fluid-example/signal-manager"}async hasInitialized(){this._manager=new Ll(this.runtime),this.manager.on("error",(e=>{this.emit("error",e)}))}onSignal(e,t){return this.manager.onSignal(e,t),this}offSignal(e,t){return this.manager.offSignal(e,t),this}submitSignal(e,t){this.manager.submitSignal(e,t)}}Ml.factory=new lo(Ml.Name,Ml,[],{});const Dl={initialObjects:{changesets:Ti,changesetSequence:Il,signalManager:Ml}};async function jl(e,t,n){return new Promise(((r,i)=>{const o=setTimeout((()=>i(new Error(n))),t);e((e=>{clearTimeout(o),r(e)}))}))}class Fl{_name;_eventType;constructor(e,t){this._eventType=e,this._name=t}get eventType(){return this._eventType}get name(){return this._name}}class Bl{_projectTenantId=void 0;_fluidServiceType=void 0;_apiUrl=void 0;_accessToken=void 0;_userDetails=void 0;_api=void 0;_signals=[];_sessionLifetime=void 0;get projectTenantId(){return this._projectTenantId}set projectTenantId(e){this._projectTenantId=e}get fluidServiceType(){return this._fluidServiceType}set fluidServiceType(e){this._fluidServiceType=e}get apiUrl(){return this._apiUrl}set apiUrl(e){this._apiUrl=e}get accessToken(){return this._accessToken}set accessToken(e){this._accessToken=e}get userDetails(){return this._userDetails}set userDetails(e){this._userDetails=e}get api(){return this._api}set api(e){this._api=e}get sessionLifetime(){return this._sessionLifetime}set sessionLifetime(e){this._sessionLifetime=e}get signals(){return this._signals}addSignal(e,t){var n=new Fl(e,t);this._signals.push(n)}clearSignals(){this._signals=[]}isEmpty(){return!(this._accessToken||this._api||this._apiUrl||this._fluidServiceType||this._userDetails)}assign(e){this._projectTenantId=e.projectTenantId,this._accessToken=e.accessToken,this._api=e._api,this._apiUrl=e._apiUrl,this._fluidServiceType=e._fluidServiceType,this._userDetails=e._userDetails,this._sessionLifetime=e.sessionLifetime,this._signals=[],e.signals.forEach((e=>this._signals.push(new Fl(e.eventType,e.name))))}}class ql{_apiUrl="";_accessToken=void 0;constructor(e){this._apiUrl=e}get accessToken(){return this._accessToken}set accessToken(e){this._accessToken=e}async getSessions(e,t,n){if(n){return await Rc("GET",`${this._apiUrl}/sessions/${e}/${t}?customId=${n}`,await this.getAccessToken())||new Array}return await Rc("GET",`${this._apiUrl}/sessions/${e}/${t}`,await this.getAccessToken())||new Array}async getSession(e,t,n){return await Rc("GET",`${this._apiUrl}/sessions/${e}/${t}/${n}`,await this.getAccessToken())}async createSession(e,t,n){return await Rc("POST",`${this._apiUrl}/sessions/${e}/${t}`,await this.getAccessToken(),n)}async updateSession(e,t,n,r){return await Rc("PUT",`${this._apiUrl}/sessions/${e}/${t}/${n}`,await this.getAccessToken(),r)}async removeSession(e,t,n){return await Rc("DELETE",`${this._apiUrl}/sessions/${e}/${t}/${n}`,await this.getAccessToken())}async getFRSToken(e,t,n,r){const i=n?`&documentId=${n}`:"";return await Rc("POST",`${this._apiUrl}/frstokenprovider/${e}/generateToken?tenantId=${t}${i}`,await this.getAccessToken(),r)}async getFRSTenantId(e){return await Rc("GET",`${this._apiUrl}/settings/${e}/tenantId`,await this.getAccessToken())}async getFRSEndPoint(e){return await Rc("GET",`${this._apiUrl}/settings/${e}/endPoint`,await this.getAccessToken())}async getSessionLifetime(e){return await Rc("GET",`${this._apiUrl}/settings/${e}/sessionLifetime`,await this.getAccessToken())}async getTenantSettings(e){return await Rc("GET",`${this._apiUrl}/settings/${e}`,await this.getAccessToken())}async getAccessToken(){if("function"==typeof this._accessToken){var e=this._accessToken;return await e()}return this._accessToken?this._accessToken:""}}class Ul{projectTenantId;livesharingApi;user;constructor(e,t,n){this.projectTenantId=e,this.livesharingApi=t,this.user=n}async fetchOrdererToken(e,t){return{jwt:await this.getToken(e,t)}}async fetchStorageToken(e,t){return{jwt:await this.getToken(e,t)}}async getToken(e,t){return await this.livesharingApi.getFRSToken(this.projectTenantId,e,t,this.user)}}var zl,$l;!function(e){e.Local="azure-local-service",e.Azure="azure"}(zl||(zl={}));var Hl=new Uint8Array(16);function Gl(){if(!$l&&!($l="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return $l(Hl)}const Vl=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var Wl=[],Kl=0;Kl<256;++Kl)Wl.push((Kl+256).toString(16).substr(1));const Zl=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(Wl[e[t+0]]+Wl[e[t+1]]+Wl[e[t+2]]+Wl[e[t+3]]+"-"+Wl[e[t+4]]+Wl[e[t+5]]+"-"+Wl[e[t+6]]+Wl[e[t+7]]+"-"+Wl[e[t+8]]+Wl[e[t+9]]+"-"+Wl[e[t+10]]+Wl[e[t+11]]+Wl[e[t+12]]+Wl[e[t+13]]+Wl[e[t+14]]+Wl[e[t+15]]).toLowerCase();if(!function(e){return"string"==typeof e&&Vl.test(e)}(n))throw TypeError("Stringified UUID is invalid");return n},Yl=function(e,t,n){var r=(e=e||{}).random||(e.rng||Gl)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return Zl(r)};class Jl{_userConfig;_sessions=new Map;accessToken;constructor(e){this._userConfig=e}async getSessions(e,t,n){const r=this._sessions.get(t);return r?structuredClone(r):new Array}async getSession(e,t,n){const r=this._sessions.get(t);if(!r)throw`Project ${t} not found.`;const i=r.filter((e=>e.id===n));if(1!==i.length)throw`Session ${n} in project ${t} not found.`;return structuredClone(i[0])}async createSession(e,t,n){const r=structuredClone(n);r.id=Yl(),r.creationAuthor=n.creationAuthor?n.creationAuthor:this._userConfig.additionalDetails.email?this._userConfig.additionalDetails.email:this._userConfig.id?this._userConfig.id:"John Smith",r.creationDate=n.creationDate?n.creationDate:new Date,r.creationAuthorUuid=n.creationAuthorUuid?n.creationAuthorUuid:this._userConfig.id;let i=this._sessions.get(t);return i||(this._sessions.set(t,new Array),i=this._sessions.get(t)),i?.push(r),structuredClone(r)}async updateSession(e,t,n,r){throw"Not implemented yet."}async removeSession(e,t,n){const r=this._sessions.get(t);if(!r)throw`Project ${t} not found.`;const i=r.filter((e=>e.id===n));if(1!==i.length)throw`Session ${n} in project ${t} not found.`;const o=i[0],s=r.findIndex((e=>e.id===o.id));return r.splice(s,1),structuredClone(o)}async getFRSToken(e,t,n,r){throw"Not implemented yet."}async getFRSTenantId(e){throw"Not implemented yet."}async getFRSEndPoint(e){throw"Not implemented yet."}async getSessionLifetime(e){return 1e3}async getTenantSettings(e){throw"Not implemented yet."}}var Ql=n(11496);class Xl{createConnectionConfigForUser(e){return{type:"local",tokenProvider:new Ql.V8("fooBar",e),endpoint:"http://localhost:7070"}}}class eh{static async Create(e,t,n){var r=await n.getTenantSettings(e),i=new Ul(e,n,t);return{type:"remote",tenantId:r.fluidTenantId,tokenProvider:i,endpoint:r.fluidEndPoint}}}class th{static CLIENT_ID=void 0;_configuration;_tidOAuthUserInfoEndpoint="https://id.trimble.com/oauth/userinfo";constructor(e){this._configuration=e,th.CLIENT_ID||(th.CLIENT_ID=Yl())}get fluidServiceType(){return this._configuration.fluidServiceType?this._configuration.fluidServiceType:zl.Local}get isRemote(){return this.fluidServiceType==zl.Azure}get isLocal(){return void 0===this.fluidServiceType||this.fluidServiceType===zl.Local}getFluidEndpoint(e){return e.endpoint}getFluidTanantId(e){return this.isLocal?"LocalFluidTenant":e.tenantId}get projectTenantId(){return this._configuration.projectTenantId?this._configuration.projectTenantId:""}async getConnectionConfig(e,t){var n=e.config,r=e.instanceId;const i=structuredClone(n);i.id=r;var o="",s="";let a,c;return this.isLocal?(a=new Xl,c=a?.createConnectionConfigForUser(i),o=c.endpoint,s="LocalFluidTenant"):this.isRemote?(c=await eh.Create(this.projectTenantId,i,t),o=c.endpoint,s=c.tenantId):console.error(`Internal Error: unsupported service type '${this._configuration.fluidServiceType}' for Fluid client.`),{endPoint:o,tenantId:s,config:c}}async getUserDetails(){var e,t=void 0,n=void 0,r=void 0,i=void 0,o=await this.getAccessToken();if(o&&""!=o)try{const e=await Rc("GET",`${this._tidOAuthUserInfoEndpoint}`,await this.getAccessToken());t=e.sub,n=`${e.given_name} ${e.family_name}`,r=`${e.email}`,i=e.sub}catch(e){console.error(`Error: Could not retrieve userinfo from ${this._tidOAuthUserInfoEndpoint} with the current accessToken`,e)}else{var s=this._configuration.userDetails;i=s.id,n=s.name,(r=s.email)||(r=s.additionalDetails.email)}if(!i)throw new Error("No userId");return e=`${i}_${th.CLIENT_ID}`,{config:this.createUserConfig(i,n,r,this._configuration.userDetails),uuid:t,name:n,email:r,instanceId:e}}createUserConfig(e,t,n,r){var i={id:e},o=i;if(o.name=t,o.additionalDetails={},o.additionalDetails.email=n,r)for(const e in r){if("id"==e||"name"==e||"email"==e)continue;const t=r[e];o.additionalDetails[e]=t}return i}getApi(){if(this._configuration.api)return this._configuration.api;if(this._configuration.apiUrl&&""!=this._configuration.apiUrl){var e=new ql(this._configuration.apiUrl);return this._configuration.accessToken&&(e.accessToken=this._configuration.accessToken),e}return this.isLocal?new Jl(this._configuration.userDetails):void 0}static emptyUser(){return{config:{id:""},uuid:void 0,name:void 0,email:void 0,instanceId:""}}async getSessionLifetime(e){var t=this._configuration.sessionLifetime;if(!t&&e)try{t=await e.getSessionLifetime(this.projectTenantId)}catch(e){console.error("Error retrieving session lifetime")}return t}async getAccessToken(){if("function"==typeof this._configuration.accessToken){var e=this._configuration.accessToken;return await e()}return this._configuration.accessToken?this._configuration.accessToken:""}}const nh="0.3.5123";class rh{_prefix="(M)";_uuid;_newrelicAPI=void 0;constructor(e){this._uuid=e,this._newrelicAPI=new jc("us","sdk-js",void 0,nh)}OnCreateSession(e,t){var n=`createSession ${e} ${t}`;this.metrics(n)}OnUpdateSession(e,t){var n=`updateSession ${e} ${t}`;this.metrics(n)}OnDeleteSession(e,t){var n=`deleteSession ${e} ${t}`;this.metrics(n)}OnJoinSession(e,t){var n=`joinSession ${this._uuid} ${e} ${t}`;this.metrics(n)}OnLeaveSession(e,t){var n=`leaveSession ${e} ${t}`;this.metrics(n)}OnParticipantEvent(e,t,n,r){var i=`participantEvent ${e} ${t} ${n} ${r}`;this.metrics(i)}OnChangeSet(e,t,n,r){var i=`addChangeSet ${e} ${t} ${n} ${r}`;this.metrics(i)}OnClearChangeSets(e,t){var n=`clearChangeSets ${e} ${t}}`;this.metrics(n)}metrics(e){}}class ih{_newrelicAPI=void 0;_uuid=void 0;_sessionFunc=void 0;_accessTokenFunc=void 0;constructor(e,t,n){this._newrelicAPI=new jc("us","sdk-js",n,nh),this._uuid=e,this._sessionFunc=t}supportsTags;send(e){const t=`${e.eventName}`,n=this._sessionFunc?this._sessionFunc():void 0;switch(e.category){case"generic":this._newrelicAPI?.fluidLog(t,Lc.FluidTelemetry,n,void 0,this._uuid,e);break;case"error":console.error(e),this._newrelicAPI?.fluidError(t,Lc.FluidTelemetry,n,void 0,this._uuid,e)}}}class oh{_accessToken=void 0;projectTenantId="";_livesharingAPI=void 0;_newrelicAPI=void 0;_fluidContainerId="";_fluidContainer;_fluidServices;_fluidClient;_fluidTenantId="";_fluidEndPoint="";_azureClientProps;_userData=th.emptyUser();_configuration=new Bl;_metrics=void 0;_fluidLogger=void 0;get container(){return this._fluidContainer}get services(){return this._fluidServices}get serviceAudience(){return this._fluidServices?.audience}get configuration(){var e=new Bl;return e.assign(this._configuration),e}configure(e){var t=new Bl;e(t),this._configuration.assign(t)}async initialize(){console.log(`LiveSharingClient build version: ${nh}`),this._accessToken=this._configuration.accessToken,this._configuration.projectTenantId&&(this.projectTenantId=this._configuration.projectTenantId);var e=new th(this._configuration);this._livesharingAPI=e.getApi(),this._newrelicAPI=new jc("us","sdk-js",await this.getAccessToken(),nh),this._userData=await e.getUserDetails(),this._userData&&this._userData.uuid&&(this._metrics=new rh(this._userData.uuid));var t=await e.getConnectionConfig(this._userData,this._livesharingAPI);this._fluidEndPoint=t.endPoint,this._fluidTenantId=t.tenantId,this._fluidLogger=new ih(this._userData.uuid,void 0,await this.getAccessToken());const n={connection:t.config,logger:this._fluidLogger};this._azureClientProps=n,this._fluidClient=new Sc(this._azureClientProps)}get accessToken(){return this._accessToken}set accessToken(e){this._accessToken=e,this._livesharingAPI&&(this._livesharingAPI.accessToken=e||""),console.log(`AccessToken updated to: ${this._accessToken}`)}async getSession(e,t){try{const n=await(this._livesharingAPI?.getSession(this.projectTenantId,e,t));return console.log(`LiveSharing API get sessions response: ${JSON.stringify(n,null,2)}`),n}catch(e){const t=`Error retrieving sessions: ${e}`;return console.error(t),void this._newrelicAPI?.error(t,Lc.SessionList,void 0,void 0,this._userData.uuid)}}async getSessions(e,t){try{return await(this._livesharingAPI?.getSessions(this.projectTenantId,e,t))||new Array}catch(e){const t=`Error retrieving sessions: ${e}`;return console.error(t),this._newrelicAPI?.error(t,Lc.SessionList,void 0,void 0,this._userData.uuid),new Array}}async updateSession(e,t,n){try{const r=await(this._livesharingAPI?.updateSession(this.projectTenantId,e,t,n));return this._metrics&&this._metrics.OnUpdateSession(e,t),r}catch(e){const t=`Error retrieving sessions: ${e}`;return console.error(t),void this._newrelicAPI?.error(t,Lc.SessionUpdate,void 0,void 0,this._userData.uuid)}}async createSession(e,t){if(!this._fluidClient){const e="Internal Error: Fluid client is undefined.";return console.error(e),void this._newrelicAPI?.error(e,Lc.SessionCreate,void 0,void 0,this._userData.uuid)}if(0===e.length)return void console.error("Project id needs to be provided for creating a session.");if(t.name&&0!==t.name.length||(t.name=`Automatic session ${this._fluidContainerId}`),!await this.createFluidContainer()){const e="Error creating fluid container.";return console.error(e),void this._newrelicAPI?.error(e,Lc.SessionCreate,void 0,void 0,this._userData.uuid)}if(!this._fluidContainer){const e="Internal Error: Fluid container is undefined and should have been created.";return console.error(e),void this._newrelicAPI?.error(e,Lc.SessionCreate,void 0,void 0,this._userData.uuid)}if(this._fluidContainerId=await this._fluidContainer.attach(),0===this._fluidContainerId.length)return;const n=await this.registerSession(this.projectTenantId,e,this._fluidContainerId,t);if(n)return await this.disconnectFluidContainer(),this._metrics&&this._metrics.OnCreateSession(n.projectId,n.id),n;await this.disconnectFluidContainer()}async removeSession(e,t){try{const n=await(this._livesharingAPI?.getSession(this.projectTenantId,e,t));return console.log(`LiveSharing API session get response: ${JSON.stringify(n,null,2)}`),n?(await(this._livesharingAPI?.removeSession(this.projectTenantId,e,t)),this._metrics&&this._metrics.OnDeleteSession(e,t),!0):(console.log("LiveSharing API session not found for removal."),!1)}catch(e){const t=`Error removing session: ${e}`;return console.error(t),this._newrelicAPI?.error(t,Lc.SessionRemove,void 0,void 0,this._userData.uuid),!1}}async createFluidContainer(){if(!this._fluidClient){const e="Internal Error: Fluid client is undefined.";return console.error(e),this._newrelicAPI?.error(e,Lc.SessionCreate,void 0,void 0,this._userData.uuid),!1}const{container:e,services:t}=await(this._fluidClient?.createContainer(Dl));this._fluidContainer=e,this._fluidServices=t;const n=this.container?.initialObjects.changesetSequence;return n.insertRows(0,1),!0}async registerSession(e,t,n,r){r.containerId=n,r.fluidTenantId=this._fluidTenantId,r.fluidEndPoint=this._fluidEndPoint;try{const n=await(this._livesharingAPI?.createSession(e,t,r));return console.log(`LiveSharing API session create response: ${JSON.stringify(n,null,2)}`),n}catch(e){const t=`Error registering session: ${e}`;return console.error(t),void this._newrelicAPI?.error(t,Lc.SessionCreate,r,void 0,this._userData.uuid)}}async disconnectFluidContainer(){if(!this._fluidContainer)return console.error("Internal Error: Fluid container is undefined."),!1;try{const e=2e3;this._fluidContainer.isDirty&&await jl((e=>this._fluidContainer?.once("saved",(()=>e()))),e,"Container save timeout")}catch(e){if(this._fluidContainer.isDirty)return console.error(e),!1;console.log(`Container ID: ${this._fluidContainerId} successfully saved operations after subscribing to "saved" event. Continuing with disposal.`)}return this._fluidContainer?.dispose(),this._fluidContainerId="",this._fluidContainer=void 0,this._fluidServices=void 0,!0}async getAccessToken(){if("function"==typeof this._accessToken){var e=this._accessToken;return await e()}return this._accessToken?this._accessToken:""}}var sh=n(59312);function ah(e){return"function"==typeof e}function ch(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var uh=ch((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}));function lh(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var hh=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var e,t,n,r,i;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var s=(0,sh.XA)(o),a=s.next();!a.done;a=s.next())a.value.remove(this)}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}else o.remove(this);var c=this.initialTeardown;if(ah(c))try{c()}catch(e){i=e instanceof uh?e.errors:[e]}var u=this._finalizers;if(u){this._finalizers=null;try{for(var l=(0,sh.XA)(u),h=l.next();!h.done;h=l.next()){var d=h.value;try{ph(d)}catch(e){i=null!=i?i:[],e instanceof uh?i=(0,sh.ev)((0,sh.ev)([],(0,sh.CR)(i)),(0,sh.CR)(e.errors)):i.push(e)}}}catch(e){n={error:e}}finally{try{h&&!h.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}if(i)throw new uh(i)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)ph(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&lh(t,e)},e.prototype.remove=function(t){var n=this._finalizers;n&&lh(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),dh=hh.EMPTY;function fh(e){return e instanceof hh||e&&"closed"in e&&ah(e.remove)&&ah(e.add)&&ah(e.unsubscribe)}function ph(e){ah(e)?e():e.unsubscribe()}var mh={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},gh={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=gh.delegate;return(null==i?void 0:i.setTimeout)?i.setTimeout.apply(i,(0,sh.ev)([e,t],(0,sh.CR)(n))):setTimeout.apply(void 0,(0,sh.ev)([e,t],(0,sh.CR)(n)))},clearTimeout:function(e){var t=gh.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function vh(){}var yh=bh("C",void 0,void 0);function bh(e,t,n){return{kind:e,value:t,error:n}}var wh=null;function Sh(e){if(mh.useDeprecatedSynchronousErrorHandling){var t=!wh;if(t&&(wh={errorThrown:!1,error:null}),e(),t){var n=wh,r=n.errorThrown,i=n.error;if(wh=null,r)throw i}}else e()}var _h=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,fh(t)&&t.add(n)):n.destination=Th,n}return(0,sh.ZT)(t,e),t.create=function(e,t,n){return new kh(e,t,n)},t.prototype.next=function(e){this.isStopped?Nh(function(e){return bh("N",e,void 0)}(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?Nh(bh("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?Nh(yh,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(hh),xh=Function.prototype.bind;function Ch(e,t){return xh.call(e,t)}var Eh=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){Ah(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){Ah(e)}else Ah(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){Ah(e)}},e}(),kh=function(e){function t(t,n,r){var i,o,s=e.call(this)||this;return ah(t)||!t?i={next:null!=t?t:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0}:s&&mh.useDeprecatedNextContext?((o=Object.create(t)).unsubscribe=function(){return s.unsubscribe()},i={next:t.next&&Ch(t.next,o),error:t.error&&Ch(t.error,o),complete:t.complete&&Ch(t.complete,o)}):i=t,s.destination=new Eh(i),s}return(0,sh.ZT)(t,e),t}(_h);function Ah(e){var t;mh.useDeprecatedSynchronousErrorHandling?(t=e,mh.useDeprecatedSynchronousErrorHandling&&wh&&(wh.errorThrown=!0,wh.error=t)):function(e){gh.setTimeout((function(){var t=mh.onUnhandledError;if(!t)throw e;t(e)}))}(e)}function Nh(e,t){var n=mh.onStoppedNotification;n&&gh.setTimeout((function(){return n(e,t)}))}var Th={closed:!0,next:vh,error:function(e){throw e},complete:vh},Ph="function"==typeof Symbol&&Symbol.observable||"@@observable";function Oh(e){return e}var Ih=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this,i=function(e){return e&&e instanceof _h||function(e){return e&&ah(e.next)&&ah(e.error)&&ah(e.complete)}(e)&&fh(e)}(e)?e:new kh(e,t,n);return Sh((function(){var e=r,t=e.operator,n=e.source;i.add(t?t.call(i,n):n?r._subscribe(i):r._trySubscribe(i))})),i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=Rh(t))((function(t,r){var i=new kh({next:function(t){try{e(t)}catch(e){r(e),i.unsubscribe()}},error:r,complete:t});n.subscribe(i)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[Ph]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0===(n=e).length?Oh:1===n.length?n[0]:function(e){return n.reduce((function(e,t){return t(e)}),e)})(this);var n},e.prototype.toPromise=function(e){var t=this;return new(e=Rh(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function Rh(e){var t;return null!==(t=null!=e?e:mh.Promise)&&void 0!==t?t:Promise}var Lh=ch((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),Mh=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return(0,sh.ZT)(t,e),t.prototype.lift=function(e){var t=new Dh(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new Lh},t.prototype.next=function(e){var t=this;Sh((function(){var n,r;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var i=(0,sh.XA)(t.currentObservers),o=i.next();!o.done;o=i.next())o.value.next(e)}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}}))},t.prototype.error=function(e){var t=this;Sh((function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var n=t.observers;n.length;)n.shift().error(e)}}))},t.prototype.complete=function(){var e=this;Sh((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}}))},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,n=this,r=n.hasError,i=n.isStopped,o=n.observers;return r||i?dh:(this.currentObservers=null,o.push(e),new hh((function(){t.currentObservers=null,lh(o,e)})))},t.prototype._checkFinalizedStatuses=function(e){var t=this,n=t.hasError,r=t.thrownError,i=t.isStopped;n?e.error(r):i&&e.complete()},t.prototype.asObservable=function(){var e=new Ih;return e.source=this,e},t.create=function(e,t){return new Dh(e,t)},t}(Ih),Dh=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return(0,sh.ZT)(t,e),t.prototype.next=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)},t.prototype.error=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:dh},t}(Mh);class jh{id="";userId="";userName="";connectionId="";additionalDetails=void 0;constructor(e,t,n,r){this.id=e,this.userId=t,this.userName=n,this.connectionId=r}}class Fh{_changeSetSequence;_liveSharingObservable;_ignoreClearEvent=!1;constructor(e,t){this._changeSetSequence=e,this._liveSharingObservable=t}get ignoreClearEvent(){return this._ignoreClearEvent}set ignoreClearEvent(e){this._ignoreClearEvent=e}rowsChanged(e,t,n,r){}colsChanged(e,t,n,r){!this._ignoreClearEvent&&t>0&&0===this._changeSetSequence.colCount&&(this.ignoreClearEvent=!0,this._liveSharingObservable.changeSetsCleared.next())}cellsChanged(e,t,n,r,i){console.log(`cellchanged r${e} c${t} rc${n} cc${r}`),this.ignoreClearEvent=!1;const o=this._changeSetSequence.getCell(e,t),s=new qh(o,t);this._liveSharingObservable.changeSetAdded.next(s)}}class Bh{_sendDelegate;_subject=new Mh;constructor(e){this._sendDelegate=e}get subject(){return this._subject}send(e){this._sendDelegate(e)}}class qh{changeSetId=void 0;index=void 0;constructor(e,t){this.changeSetId=e,this.index=t}}class Uh{_accessToken=void 0;projectTenantId="";_livesharingAPI=void 0;_newrelicAPI=void 0;_session=void 0;_fluidClient;_azureClientProps;_fluidContainerId="";_fluidContainer;_fluidServices;_participantMap=new Map;_participants=new Array;_changesetSequenceMatrixObserver=void 0;_signalMap=new Map;_configuration=new Bl;_userData=th.emptyUser();_timeout=void 0;_sessionLifetime=void 0;_metrics=void 0;get container(){return this._fluidContainer}get services(){return this._fluidServices}get serviceAudience(){return this._fluidServices?.audience}sessionConnected=new Mh;sessionDisconnected=new Mh;changeSetAdded=new Mh;changeSetsCleared=new Mh;participantsChanged=new Mh;participantAdded=new Mh;participantRemoved=new Mh;get accessToken(){return this._accessToken}set accessToken(e){this._accessToken=e,this._livesharingAPI&&(this._livesharingAPI.accessToken=e)}get configuration(){var e=new Bl;return e.assign(this._configuration),e}get connected(){return void 0!==this._session}get session(){return this._session}get participants(){return this._participants}get userInstanceId(){return this._userData.instanceId}configure(e){var t=new Bl;e(t),this._configuration.assign(t)}async initialize(){console.log("----- LiveSharingSessionContext initialize() ------"),this._accessToken=this._configuration.accessToken,this._configuration.projectTenantId&&(this.projectTenantId=this._configuration.projectTenantId);var e=new th(this._configuration);this._livesharingAPI=e.getApi(),this._newrelicAPI=new jc("us","sdk-js",await this.getAccessToken(),nh),this._userData=await e.getUserDetails(),this._userData&&this._userData.uuid&&(this._metrics=new rh(this._userData.uuid));var t=await e.getConnectionConfig(this._userData,this._livesharingAPI),n=new ih(this._userData.uuid,(()=>this._session),await this.getAccessToken());const r={connection:t.config,logger:n};this._azureClientProps=r,this._fluidClient=new Sc(this._azureClientProps),this._signalMap.clear(),this._configuration.signals.forEach((e=>this.ensureSignal(e.eventType,e.name))),this._sessionLifetime=await e.getSessionLifetime(this._livesharingAPI)}async connectToSession(e,t){if(this.connected)return!1;if(console.log(`----- connectToSession pId ${e} sId ${t}`),this.deinit(),this._session=await this.findSession(e,t),!this._session)return!1;if(!this._session.containerId||!this._session.fluidEndPoint||!this._session.fluidTenantId){const e="Error connecting to session: missing Fluid details";return console.error(e),this._newrelicAPI?.error(e,Lc.SessionConnect,this._session,void 0,this._userData.uuid),this.deinit(),!1}if(!await this.connectToFluidContainer(this._session.containerId)){const e="Error connecting to fluid container.";return console.error(e),this._newrelicAPI?.error(e,Lc.SessionConnect,this._session,void 0,this._userData.uuid),this.deinit(),!1}return console.debug(`Fluid container '${this._fluidContainerId}' connectionState after container connect: ${this.container.connectionState}`),await this.init(),await this.connectToEvents(),console.debug(`Fluid container '${this._fluidContainerId}' connectionState before connected notification: ${this.container.connectionState}`),this.sessionConnected.next(),this._newrelicAPI?.log(`Connected to session ${this._session.id}`,Lc.SessionConnect,this._session,void 0,this._userData.uuid),this._session.keepAlive||this._timeout||!this._sessionLifetime||(this.updateSessionEndDate(this._session,this._sessionLifetime,this._livesharingAPI),this._timeout=setInterval((()=>{this.updateSessionEndDate(this._session,this._sessionLifetime,this._livesharingAPI)}),this._sessionLifetime/2*1e3)),this._metrics&&this._metrics.OnJoinSession(e,t),!0}async disconnectFromSession(){return!!this.connected&&(this._fluidClient?this._session?(this._metrics&&this._metrics.OnLeaveSession(this._session.projectId,this._session.id),await this.disconnectFromEvents(),await this.disconnectFluidContainer()?(this._newrelicAPI?.log(`Disconnected from session ${this._session.id}`,Lc.SessionDisconnect,this._session,void 0,this._userData.uuid),await this.deinit(),clearInterval(this._timeout),this._timeout=void 0,this.sessionDisconnected.next(),!0):(console.error("Error disconnecting from fluid container."),!1)):(console.warn("Not connected to a session, thus ignoring disconnection request."),!1):(console.error("Internal Error: Fluid client is undefined."),!1))}getMyself(){const e=this.services?.audience.getMyself();if(!e)return void console.warn("Warning: Could not find myself as Fluid is returning undefined.");const t=this.findParticipantsForMyself(e);if(0!==t.length){if(!(t.length>1))return t[0];console.error(`Internal Error: Found existing ${t.length} participant(s) for myself using userId '${e?.userId}'.`)}else console.error(`Internal Error: Could not find participant for myself using userId '${e?.userId}'.`)}getParticipant(e){const t=this.findParticipant(e);if(0!==t.length){if(!(t.length>1))return t[0];console.warn(`Warning: Participant found multiple times '${e}'.`)}else console.warn(`Participant not found '${e}'.`)}async getAllChangeSetIds(){if(!this.container)return new Array;let e=new Array;const t=this.container?.initialObjects.changesetSequence;for(let n=0;n<t.colCount;n++){const r=t.getCell(0,n);e.push(r)}return console.log(`[matrix row 0] changeset ids: ${e}`),e}async getChangeSet(e){const t=this.container?.initialObjects.changesets;this.container?.initialObjects.changesetSequence;let n,r=await(t.get(e)?.get());if(r){let e=new Pc(r.get("dataType"),r.get("dataFormat"),r.get("data"));n=new Oc(r.get("modelId"),e),n.id=r.get("id"),n.created=new Date(r.get("created")),n.createdBy=r.get("createdBy"),n.createdByUuid=r.get("createdByUuid")}return n}async addChangeSet(e){e.createdBy=this._userData.instanceId,this._userData.uuid&&(e.createdByUuid=this._userData.uuid),e.created=new Date,e.id=Yl();const t=await this.createChangeSet(this.container,e);if(!t)return"";const n=t.get("id"),r=this.container?.initialObjects.changesets,i=this.container?.initialObjects.changesetSequence;r.set(n,t.handle);const o=i.colCount;return i.insertCols(o,1),i.setCell(0,o,n),console.log(`Changeset sequence matrix updated: #rows=${i.rowCount} #cols=${i.colCount}`),this._newrelicAPI?.log(`Changeset ${e.id} added to ${this._session?.id}`,Lc.ChangeSetAdd,this._session,e,this._userData.uuid),this._metrics&&this.session&&this._metrics.OnChangeSet(this._session?.projectId,this._session?.id,e.id,e.data.data.length),e.id}async clearChangeSets(){const e=this.container?.initialObjects.changesets,t=this.container?.initialObjects.changesetSequence;t.colCount>0&&(t.removeCols(0,t.colCount),e.clear()),this._metrics&&this.session&&this._metrics.OnClearChangeSets(this._session?.projectId,this._session?.id),this._newrelicAPI?.log(`Changesets cleared in ${this._session?.id}`,Lc.ChangeSetsClear,this._session,void 0,this._userData.uuid)}getSignal(e,t){const n=this.getSignalName(e,t);if(this._signalMap.has(n))return this._signalMap.get(n)}ensureSignal(e,t){const n=this.getSignalName(e,t);if(this._signalMap.has(n))return this._signalMap.get(n);let r=new Bh((e=>this.sendParticipantEvent(n,e)));return this._signalMap.set(n,r),this.registerSignalListener(r.subject,n),r}async findSession(e,t){try{const n=await(this._livesharingAPI?.getSession(this.projectTenantId,e,t));return console.log(`LiveSharing API session get response: ${JSON.stringify(n,null,2)}`),n}catch(e){return void console.error(`Error finding session: ${e}`)}}async connectToFluidContainer(e){if(!this._fluidClient)return!1;this._fluidClient=new Sc(this._azureClientProps);try{const{container:t,services:n}=await this._fluidClient.getContainer(e,Dl);this._fluidContainerId=e,this._fluidContainer=t,this._fluidServices=n}catch(t){return console.error(`Error getting Fluid container ${e}: ${t}`),!1}this._fluidContainer.on("connected",(()=>{console.debug(`###### Fluid container '${this._fluidContainerId}' connected event, connectionState: ${this.container.connectionState}`)})),this._fluidContainer.on("disconnected",(()=>{console.debug(`****** Fluid container '${this._fluidContainerId}' disconnected event, connectionState: ${this.container.connectionState}`)}));for(var t=1;t<=50&&2!==this._fluidContainer.connectionState&&!this._fluidServices.audience.getMyself();){var n=new Date;if(console.log(`[${n.toTimeString()} (${n.getMilliseconds()})] In connectToFluidContainer for ${this._fluidContainerId} waiting for container connection, current state: ${this._fluidContainer.connectionState}...`),await this.sleep(100),++t>50)return console.error(`Unable to successfully connect to container ${this._fluidContainerId} after waiting for connection in connectToFluidContainer.`),!1}return console.log(`In connectToFluidContainer FINISHED waiting for container connection, current state: ${this._fluidContainer.connectionState}...`),!0}sleep(e){return new Promise((t=>setTimeout(t,e)))}async init(){const e=this.container?.initialObjects.changesetSequence;this._changesetSequenceMatrixObserver=new Fh(e,this),this.initParticipants()}initParticipants(){const e=this.services.audience.getMembers();0===e.size&&console.warn("Warning: Could not create any participants during initialisation as Fluid is returning no members.");for(let[t,n]of e)if(t in this._participantMap){const e=this._participantMap.get(t);console.log(`Skipping existing participant '${e?.id}' with connectionId '${e?.connectionId}' during initialisation.`)}else{const e=this.createParticipantFromMember(n);console.log(`Creating participant '${e?.id}' with connectionId '${e?.connectionId}' during initialisation.`),this._participantMap.set(e.id,e),this.participants.push(e)}}createParticipantFromMember(e){var t=e.userId,n=e.userId,r=e.userId,i="",o=void 0;if(void 0!==e){const s=e,a=e.userId.split("_");n=a[0],r=a[1],t=e.userId,i=s.userName,o=s.additionalDetails}else console.error(`Internal Error: Trying to create a new participant from unsupported Member using userId '${e.userId}' and participantId '${t}': ${JSON.stringify(e,null,2)}`);const s=new jh(t,n,i,r);return s.additionalDetails=o,s}async connectToEvents(){this.serviceAudience.on("membersChanged",(async()=>{console.log(`Participants changed, # of participants: ${this.participants.length}: ${JSON.stringify(this.participants.map((e=>`${e.userId} [${e.connectionId.substring(0,4)}]`)),null,2)}`),this.participantsChanged.next(this.participants)})),this.serviceAudience.on("memberAdded",(async(e,t)=>{const n=this.findParticipantsForMember(t);if(n.length>0)console.error(`Internal Error: Trying to add a new participant but found existing ${n.length} of the same participant using userId '${t.userId}'. Something is seriously sideways.`);else{0===this.findUsersForMember(t).length?console.log(`New user joining as new participant using userId '${t.userId}'.`):console.log(`Existing user joining as new participant using userId '${t.userId}'.`);const e=this.createParticipantFromMember(t);this._participantMap.set(e.id,e),this.participants.push(e),console.log(`Participant added, # of participants: ${this.participants.length}: ${JSON.stringify(this.participants.map((e=>`${e.userId} [${e.connectionId.substring(0,4)}]`)),null,2)}`),this.participantAdded.next(e)}})),this.serviceAudience.on("memberRemoved",(async(e,t)=>{const n=this.findParticipantsForMember(t);0===n.length&&console.error(`Internal Error: Trying to remove a participant but found NO existing participant using userId '${t.userId}'. Something is seriously sideways.`),n.length>1&&console.error(`Internal Error: Trying to remove a participant but found existing ${n.length} participant(s) of the same participant using userId '${t.userId}'. Something is seriously sideways.`),n.forEach((e=>{console.log(`Removing participant for userId '${e.userId}' and connectionId '${e.connectionId}'.`);const t=this.participants.findIndex((t=>t.userId===e.userId&&t.connectionId===e.connectionId));this._participantMap.delete(e.id),this.participants.splice(t,1),this.participantRemoved.next(e)})),console.log(`Participants removed, # of participants: ${this.participants.length}: ${JSON.stringify(this.participants.map((e=>`${e.userId} [${e.connectionId.substring(0,4)}]`)),null,2)}`)})),this.container?.initialObjects.changesets;const e=this.container?.initialObjects.changesetSequence;e.openMatrix(this._changesetSequenceMatrixObserver);const t=this.container?.initialObjects.signalManager;t.on("error",(e=>{console.error(`Signal error: ${e}`)})),this.registerSignalListeners()}findParticipantsForMember(e){return this.participants.filter((t=>t.id===e.userId))}findUsersForMember(e){const t=e.userId.split("_");return this.participants.filter((e=>e.userId===t[0]))}async disconnectFromEvents(){const e=this._fluidContainer?.initialObjects.changesetSequence;this._changesetSequenceMatrixObserver&&e.closeMatrix(this._changesetSequenceMatrixObserver)}async disconnectFluidContainer(){if(!this._fluidContainer)return console.error("Internal Error: Fluid container is undefined."),!1;try{const e=2e3;this._fluidContainer.isDirty&&await jl((e=>this._fluidContainer?.once("saved",(()=>e()))),e,"Container save timeout")}catch(e){if(this._fluidContainer.isDirty)return console.error(e),!1;console.log(`Container ID: ${this._fluidContainerId} successfully saved operations after subscribing to "saved" event. Continuing with disposal.`)}return this._fluidContainer?.dispose(),this._fluidContainerId="",this._fluidContainer=void 0,this._fluidServices=void 0,!0}async deinit(){this._changesetSequenceMatrixObserver=void 0,this._session=void 0,this._participantMap=new Map,this._participants=new Array}findParticipantsForMyself(e){return e?(e.userId.split("_"),this.participants.filter((t=>t.id===e.userId))):new Array}findParticipant(e){return this.participants.filter((t=>t.id===e))}async createChangeSet(e,t){if(!e)return;const n=await e.create(Ti);return n.set("modelId",t.modelId),n.set("id",t.id),n.set("created",t.created),n.set("createdBy",t.createdBy),n.set("createdByUuid",t.createdByUuid),n.set("dataType",t.data.type),n.set("dataFormat",t.data.format),n.set("data",t.data.data),n}registerSignalListener(e,t){if(!this.container)return;const n=this.container?.initialObjects.signalManager;n.onSignal(t,((n,r,i)=>{const o=i.participantId,s=this.getMyself();if(s&&s.id===o)return void console.log(`Ignoring data for event '${t}' from myself as '${s.id}'.`);const a=this.findParticipant(o);if(0===a.length)return void console.warn(`Warning: Received data for event '${t}' for unknown participant '${o}'.`);a.length>1&&console.warn(`Warning: Found existing ${a.length} participant(s) for data for event '${t}' for participant '${o}'.`);const c=i.data;a.forEach((n=>{console.log(`Notifying data for event '${t}' for '${n.id}'...`);const r=new zh(o,c);e.next(r)}))}))}registerSignalListeners(){this._signalMap.forEach(((e,t)=>{const n=e.subject;this.registerSignalListener(n,t)}))}sendParticipantEvent(e,t){if(0===e.length)return void console.error("Error: Could not send data for an empty signal name.");const n=this.getMyself();if(!n)return void console.error(`Error: Could not send '${e}' data as I am not defined.`);console.log(`Sending '${e}' data from myself as '${n?.id}'.`);const r=e,i=this.container?.initialObjects.signalManager;i.submitSignal(r,{participantId:n.id,data:t})}getSignalName(e,t){return`trimble.livesharing.${e}.${t}`}async getAccessToken(){if("function"==typeof this._accessToken){var e=this._accessToken;return await e()}return this._accessToken?this._accessToken:""}async updateSessionEndDate(e,t,n){if(e&&t&&n){var r=await(this._livesharingAPI?.getSession(this.projectTenantId,e.projectId,e.id));r&&(r.endDate=new Date((new Date).getTime()+1e3*t),await n.updateSession(this.projectTenantId,e.projectId,e.id,r))}}}class zh{participantId;data=void 0;constructor(e,t){this.participantId=e,this.data=t}}},30473:e=>{"use strict";const{AbortController:t,AbortSignal:n}="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0;e.exports=t,e.exports.AbortSignal=n,e.exports.default=t},98302:function(e,t){!function(n,r){var i={version:"0.4.1",settings:{currency:{symbol:"$",format:"%s%v",decimal:".",thousand:",",precision:2,grouping:3},number:{precision:0,grouping:3,thousand:",",decimal:"."}}},o=Array.prototype.map,s=Array.isArray,a=Object.prototype.toString;function c(e){return!!(""===e||e&&e.charCodeAt&&e.substr)}function u(e){return s?s(e):"[object Array]"===a.call(e)}function l(e){return e&&"[object Object]"===a.call(e)}function h(e,t){var n;for(n in e=e||{},t=t||{})t.hasOwnProperty(n)&&null==e[n]&&(e[n]=t[n]);return e}function d(e,t,n){var r,i,s=[];if(!e)return s;if(o&&e.map===o)return e.map(t,n);for(r=0,i=e.length;r<i;r++)s[r]=t.call(n,e[r],r,e);return s}function f(e,t){return e=Math.round(Math.abs(e)),isNaN(e)?t:e}function p(e){var t=i.settings.currency.format;return"function"==typeof e&&(e=e()),c(e)&&e.match("%v")?{pos:e,neg:e.replace("-","").replace("%v","-%v"),zero:e}:e&&e.pos&&e.pos.match("%v")?e:c(t)?i.settings.currency.format={pos:t,neg:t.replace("%v","-%v"),zero:t}:t}var m=i.unformat=i.parse=function(e,t){if(u(e))return d(e,(function(e){return m(e,t)}));if("number"==typeof(e=e||0))return e;t=t||i.settings.number.decimal;var n=new RegExp("[^0-9-"+t+"]",["g"]),r=parseFloat((""+e).replace(/\((.*)\)/,"-$1").replace(n,"").replace(t,"."));return isNaN(r)?0:r},g=i.toFixed=function(e,t){t=f(t,i.settings.number.precision);var n=Math.pow(10,t);return(Math.round(i.unformat(e)*n)/n).toFixed(t)},v=i.formatNumber=i.format=function(e,t,n,r){if(u(e))return d(e,(function(e){return v(e,t,n,r)}));e=m(e);var o=h(l(t)?t:{precision:t,thousand:n,decimal:r},i.settings.number),s=f(o.precision),a=e<0?"-":"",c=parseInt(g(Math.abs(e||0),s),10)+"",p=c.length>3?c.length%3:0;return a+(p?c.substr(0,p)+o.thousand:"")+c.substr(p).replace(/(\d{3})(?=\d)/g,"$1"+o.thousand)+(s?o.decimal+g(Math.abs(e),s).split(".")[1]:"")},y=i.formatMoney=function(e,t,n,r,o,s){if(u(e))return d(e,(function(e){return y(e,t,n,r,o,s)}));e=m(e);var a=h(l(t)?t:{symbol:t,precision:n,thousand:r,decimal:o,format:s},i.settings.currency),c=p(a.format);return(e>0?c.pos:e<0?c.neg:c.zero).replace("%s",a.symbol).replace("%v",v(Math.abs(e),f(a.precision),a.thousand,a.decimal))};i.formatColumn=function(e,t,n,r,o,s){if(!e)return[];var a=h(l(t)?t:{symbol:t,precision:n,thousand:r,decimal:o,format:s},i.settings.currency),g=p(a.format),y=g.pos.indexOf("%s")<g.pos.indexOf("%v"),b=0,w=d(e,(function(e,t){if(u(e))return i.formatColumn(e,a);var n=((e=m(e))>0?g.pos:e<0?g.neg:g.zero).replace("%s",a.symbol).replace("%v",v(Math.abs(e),f(a.precision),a.thousand,a.decimal));return n.length>b&&(b=n.length),n}));return d(w,(function(e,t){return c(e)&&e.length<b?y?e.replace(a.symbol,a.symbol+new Array(b-e.length+1).join(" ")):new Array(b-e.length+1).join(" ")+e:e}))},e.exports&&(t=e.exports=i),t.accounting=i}()},21530:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const r=n(38355),i=n(35671),o=n(37250),s=n(96015),a=n(9774),c=n(30002),u=n(71297),l="https://json-schema.org/draft/2019-09/schema";class h extends r.default{constructor(e={}){super({...e,dynamicRef:!0,next:!0,unevaluated:!0})}_addVocabularies(){super._addVocabularies(),this.addVocabulary(o.default),i.default.forEach((e=>this.addVocabulary(e))),this.addVocabulary(s.default),this.addVocabulary(a.default),this.opts.discriminator&&this.addKeyword(c.default)}_addDefaultMetaSchema(){super._addDefaultMetaSchema();const{$data:e,meta:t}=this.opts;t&&(u.default.call(this,e),this.refs["http://json-schema.org/schema"]=l)}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(l)?l:void 0)}}e.exports=t=h,Object.defineProperty(t,"__esModule",{value:!0}),t.default=h;var d=n(91686);Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return d.KeywordCxt}});var f=n(15669);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return f._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return f.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return f.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return f.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return f.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return f.CodeGen}});var p=n(46448);Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return p.default}});var m=n(91578);Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return m.default}})},66545:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class n{}t._CodeOrName=n,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends n{constructor(e){if(super(),!t.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=r;class i extends n{constructor(e){super(),this._items="string"==typeof e?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const e=this._items[0];return""===e||'""'===e}get str(){var e;return null!==(e=this._str)&&void 0!==e?e:this._str=this._items.reduce(((e,t)=>`${e}${t}`),"")}get names(){var e;return null!==(e=this._names)&&void 0!==e?e:this._names=this._items.reduce(((e,t)=>(t instanceof r&&(e[t.str]=(e[t.str]||0)+1),e)),{})}}function o(e,...t){const n=[e[0]];let r=0;for(;r<t.length;)c(n,t[r]),n.push(e[++r]);return new i(n)}t._Code=i,t.nil=new i(""),t._=o;const s=new i("+");function a(e,...t){const n=[l(e[0])];let r=0;for(;r<t.length;)n.push(s),c(n,t[r]),n.push(s,l(e[++r]));return function(e){let t=1;for(;t<e.length-1;){if(e[t]===s){const n=u(e[t-1],e[t+1]);if(void 0!==n){e.splice(t-1,3,n);continue}e[t++]="+"}t++}}(n),new i(n)}function c(e,t){var n;t instanceof i?e.push(...t._items):t instanceof r?e.push(t):e.push("number"==typeof(n=t)||"boolean"==typeof n||null===n?n:l(Array.isArray(n)?n.join(","):n))}function u(e,t){if('""'===t)return e;if('""'===e)return t;if("string"==typeof e){if(t instanceof r||'"'!==e[e.length-1])return;return"string"!=typeof t?`${e.slice(0,-1)}${t}"`:'"'===t[0]?e.slice(0,-1)+t.slice(1):void 0}return"string"!=typeof t||'"'!==t[0]||e instanceof r?void 0:`"${e}${t.slice(1)}`}function l(e){return JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.str=a,t.addCodeArg=c,t.strConcat=function(e,t){return t.emptyStr()?e:e.emptyStr()?t:a`${e}${t}`},t.stringify=function(e){return new i(l(e))},t.safeStringify=l,t.getProperty=function(e){return"string"==typeof e&&t.IDENTIFIER.test(e)?new i(`.${e}`):o`[${e}]`},t.getEsmExportName=function(e){if("string"==typeof e&&t.IDENTIFIER.test(e))return new i(`${e}`);throw new Error(`CodeGen: invalid export name: ${e}, use explicit $id name mapping`)},t.regexpCode=function(e){return new i(e.toString())}},15669:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const r=n(66545),i=n(59187);var o=n(66545);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return o._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return o.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return o.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return o.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return o.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return o.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return o.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return o.Name}});var s=n(59187);Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return s.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return s.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return s.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return s.varKinds}}),t.operators={GT:new r._Code(">"),GTE:new r._Code(">="),LT:new r._Code("<"),LTE:new r._Code("<="),EQ:new r._Code("==="),NEQ:new r._Code("!=="),NOT:new r._Code("!"),OR:new r._Code("||"),AND:new r._Code("&&"),ADD:new r._Code("+")};class a{optimizeNodes(){return this}optimizeNames(e,t){return this}}class c extends a{constructor(e,t,n){super(),this.varKind=e,this.name=t,this.rhs=n}render({es5:e,_n:t}){const n=e?i.varKinds.var:this.varKind,r=void 0===this.rhs?"":` = ${this.rhs}`;return`${n} ${this.name}${r};`+t}optimizeNames(e,t){if(e[this.name.str])return this.rhs&&(this.rhs=O(this.rhs,e,t)),this}get names(){return this.rhs instanceof r._CodeOrName?this.rhs.names:{}}}class u extends a{constructor(e,t,n){super(),this.lhs=e,this.rhs=t,this.sideEffects=n}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,t){if(!(this.lhs instanceof r.Name)||e[this.lhs.str]||this.sideEffects)return this.rhs=O(this.rhs,e,t),this}get names(){return P(this.lhs instanceof r.Name?{}:{...this.lhs.names},this.rhs)}}class l extends u{constructor(e,t,n,r){super(e,n,r),this.op=t}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}}class h extends a{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}}class d extends a{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`break${this.label?` ${this.label}`:""};`+e}}class f extends a{constructor(e){super(),this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}}class p extends a{constructor(e){super(),this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,t){return this.code=O(this.code,e,t),this}get names(){return this.code instanceof r._CodeOrName?this.code.names:{}}}class m extends a{constructor(e=[]){super(),this.nodes=e}render(e){return this.nodes.reduce(((t,n)=>t+n.render(e)),"")}optimizeNodes(){const{nodes:e}=this;let t=e.length;for(;t--;){const n=e[t].optimizeNodes();Array.isArray(n)?e.splice(t,1,...n):n?e[t]=n:e.splice(t,1)}return e.length>0?this:void 0}optimizeNames(e,t){const{nodes:n}=this;let r=n.length;for(;r--;){const i=n[r];i.optimizeNames(e,t)||(I(e,i.names),n.splice(r,1))}return n.length>0?this:void 0}get names(){return this.nodes.reduce(((e,t)=>T(e,t.names)),{})}}class g extends m{render(e){return"{"+e._n+super.render(e)+"}"+e._n}}class v extends m{}class y extends g{}y.kind="else";class b extends g{constructor(e,t){super(t),this.condition=e}render(e){let t=`if(${this.condition})`+super.render(e);return this.else&&(t+="else "+this.else.render(e)),t}optimizeNodes(){super.optimizeNodes();const e=this.condition;if(!0===e)return this.nodes;let t=this.else;if(t){const e=t.optimizeNodes();t=this.else=Array.isArray(e)?new y(e):e}return t?!1===e?t instanceof b?t:t.nodes:this.nodes.length?this:new b(R(e),t instanceof b?[t]:t.nodes):!1!==e&&this.nodes.length?this:void 0}optimizeNames(e,t){var n;if(this.else=null===(n=this.else)||void 0===n?void 0:n.optimizeNames(e,t),super.optimizeNames(e,t)||this.else)return this.condition=O(this.condition,e,t),this}get names(){const e=super.names;return P(e,this.condition),this.else&&T(e,this.else.names),e}}b.kind="if";class w extends g{}w.kind="for";class S extends w{constructor(e){super(),this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iteration=O(this.iteration,e,t),this}get names(){return T(super.names,this.iteration.names)}}class _ extends w{constructor(e,t,n,r){super(),this.varKind=e,this.name=t,this.from=n,this.to=r}render(e){const t=e.es5?i.varKinds.var:this.varKind,{name:n,from:r,to:o}=this;return`for(${t} ${n}=${r}; ${n}<${o}; ${n}++)`+super.render(e)}get names(){const e=P(super.names,this.from);return P(e,this.to)}}class x extends w{constructor(e,t,n,r){super(),this.loop=e,this.varKind=t,this.name=n,this.iterable=r}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iterable=O(this.iterable,e,t),this}get names(){return T(super.names,this.iterable.names)}}class C extends g{constructor(e,t,n){super(),this.name=e,this.args=t,this.async=n}render(e){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(e)}}C.kind="func";class E extends m{render(e){return"return "+super.render(e)}}E.kind="return";class k extends g{render(e){let t="try"+super.render(e);return this.catch&&(t+=this.catch.render(e)),this.finally&&(t+=this.finally.render(e)),t}optimizeNodes(){var e,t;return super.optimizeNodes(),null===(e=this.catch)||void 0===e||e.optimizeNodes(),null===(t=this.finally)||void 0===t||t.optimizeNodes(),this}optimizeNames(e,t){var n,r;return super.optimizeNames(e,t),null===(n=this.catch)||void 0===n||n.optimizeNames(e,t),null===(r=this.finally)||void 0===r||r.optimizeNames(e,t),this}get names(){const e=super.names;return this.catch&&T(e,this.catch.names),this.finally&&T(e,this.finally.names),e}}class A extends g{constructor(e){super(),this.error=e}render(e){return`catch(${this.error})`+super.render(e)}}A.kind="catch";class N extends g{render(e){return"finally"+super.render(e)}}function T(e,t){for(const n in t)e[n]=(e[n]||0)+(t[n]||0);return e}function P(e,t){return t instanceof r._CodeOrName?T(e,t.names):e}function O(e,t,n){return e instanceof r.Name?o(e):(i=e)instanceof r._Code&&i._items.some((e=>e instanceof r.Name&&1===t[e.str]&&void 0!==n[e.str]))?new r._Code(e._items.reduce(((e,t)=>(t instanceof r.Name&&(t=o(t)),t instanceof r._Code?e.push(...t._items):e.push(t),e)),[])):e;var i;function o(e){const r=n[e.str];return void 0===r||1!==t[e.str]?e:(delete t[e.str],r)}}function I(e,t){for(const n in t)e[n]=(e[n]||0)-(t[n]||0)}function R(e){return"boolean"==typeof e||"number"==typeof e||null===e?!e:r._`!${j(e)}`}N.kind="finally",t.CodeGen=class{constructor(e,t={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...t,_n:t.lines?"\n":""},this._extScope=e,this._scope=new i.Scope({parent:e}),this._nodes=[new v]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,t){const n=this._extScope.value(e,t);return(this._values[n.prefix]||(this._values[n.prefix]=new Set)).add(n),n}getScopeValue(e,t){return this._extScope.getValue(e,t)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,t,n,r){const i=this._scope.toName(t);return void 0!==n&&r&&(this._constants[i.str]=n),this._leafNode(new c(e,i,n)),i}const(e,t,n){return this._def(i.varKinds.const,e,t,n)}let(e,t,n){return this._def(i.varKinds.let,e,t,n)}var(e,t,n){return this._def(i.varKinds.var,e,t,n)}assign(e,t,n){return this._leafNode(new u(e,t,n))}add(e,n){return this._leafNode(new l(e,t.operators.ADD,n))}code(e){return"function"==typeof e?e():e!==r.nil&&this._leafNode(new p(e)),this}object(...e){const t=["{"];for(const[n,i]of e)t.length>1&&t.push(","),t.push(n),(n!==i||this.opts.es5)&&(t.push(":"),(0,r.addCodeArg)(t,i));return t.push("}"),new r._Code(t)}if(e,t,n){if(this._blockNode(new b(e)),t&&n)this.code(t).else().code(n).endIf();else if(t)this.code(t).endIf();else if(n)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new b(e))}else(){return this._elseNode(new y)}endIf(){return this._endBlockNode(b,y)}_for(e,t){return this._blockNode(e),t&&this.code(t).endFor(),this}for(e,t){return this._for(new S(e),t)}forRange(e,t,n,r,o=(this.opts.es5?i.varKinds.var:i.varKinds.let)){const s=this._scope.toName(e);return this._for(new _(o,s,t,n),(()=>r(s)))}forOf(e,t,n,o=i.varKinds.const){const s=this._scope.toName(e);if(this.opts.es5){const e=t instanceof r.Name?t:this.var("_arr",t);return this.forRange("_i",0,r._`${e}.length`,(t=>{this.var(s,r._`${e}[${t}]`),n(s)}))}return this._for(new x("of",o,s,t),(()=>n(s)))}forIn(e,t,n,o=(this.opts.es5?i.varKinds.var:i.varKinds.const)){if(this.opts.ownProperties)return this.forOf(e,r._`Object.keys(${t})`,n);const s=this._scope.toName(e);return this._for(new x("in",o,s,t),(()=>n(s)))}endFor(){return this._endBlockNode(w)}label(e){return this._leafNode(new h(e))}break(e){return this._leafNode(new d(e))}return(e){const t=new E;if(this._blockNode(t),this.code(e),1!==t.nodes.length)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(E)}try(e,t,n){if(!t&&!n)throw new Error('CodeGen: "try" without "catch" and "finally"');const r=new k;if(this._blockNode(r),this.code(e),t){const e=this.name("e");this._currNode=r.catch=new A(e),t(e)}return n&&(this._currNode=r.finally=new N,this.code(n)),this._endBlockNode(A,N)}throw(e){return this._leafNode(new f(e))}block(e,t){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(t),this}endBlock(e){const t=this._blockStarts.pop();if(void 0===t)throw new Error("CodeGen: not in self-balancing block");const n=this._nodes.length-t;if(n<0||void 0!==e&&n!==e)throw new Error(`CodeGen: wrong number of nodes: ${n} vs ${e} expected`);return this._nodes.length=t,this}func(e,t=r.nil,n,i){return this._blockNode(new C(e,t,n)),i&&this.code(i).endFunc(),this}endFunc(){return this._endBlockNode(C)}optimize(e=1){for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,t){const n=this._currNode;if(n instanceof e||t&&n instanceof t)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${t?`${e.kind}/${t.kind}`:e.kind}"`)}_elseNode(e){const t=this._currNode;if(!(t instanceof b))throw new Error('CodeGen: "else" without "if"');return this._currNode=t.else=e,this}get _root(){return this._nodes[0]}get _currNode(){const e=this._nodes;return e[e.length-1]}set _currNode(e){const t=this._nodes;t[t.length-1]=e}},t.not=R;const L=D(t.operators.AND);t.and=function(...e){return e.reduce(L)};const M=D(t.operators.OR);function D(e){return(t,n)=>t===r.nil?n:n===r.nil?t:r._`${j(t)} ${e} ${j(n)}`}function j(e){return e instanceof r.Name?e:r._`(${e})`}t.or=function(...e){return e.reduce(M)}},59187:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const r=n(66545);class i extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`),this.value=e.value}}var o;!function(e){e[e.Started=0]="Started",e[e.Completed=1]="Completed"}(o=t.UsedValueState||(t.UsedValueState={})),t.varKinds={const:new r.Name("const"),let:new r.Name("let"),var:new r.Name("var")};class s{constructor({prefixes:e,parent:t}={}){this._names={},this._prefixes=e,this._parent=t}toName(e){return e instanceof r.Name?e:this.name(e)}name(e){return new r.Name(this._newName(e))}_newName(e){return`${e}${(this._names[e]||this._nameGroup(e)).index++}`}_nameGroup(e){var t,n;if((null===(n=null===(t=this._parent)||void 0===t?void 0:t._prefixes)||void 0===n?void 0:n.has(e))||this._prefixes&&!this._prefixes.has(e))throw new Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}}t.Scope=s;class a extends r.Name{constructor(e,t){super(t),this.prefix=e}setValue(e,{property:t,itemIndex:n}){this.value=e,this.scopePath=r._`.${new r.Name(t)}[${n}]`}}t.ValueScopeName=a;const c=r._`\n`;t.ValueScope=class extends s{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts={...e,_n:e.lines?c:r.nil}}get(){return this._scope}name(e){return new a(e,this._newName(e))}value(e,t){var n;if(void 0===t.ref)throw new Error("CodeGen: ref must be passed in value");const r=this.toName(e),{prefix:i}=r,o=null!==(n=t.key)&&void 0!==n?n:t.ref;let s=this._values[i];if(s){const e=s.get(o);if(e)return e}else s=this._values[i]=new Map;s.set(o,r);const a=this._scope[i]||(this._scope[i]=[]),c=a.length;return a[c]=t.ref,r.setValue(t,{property:i,itemIndex:c}),r}getValue(e,t){const n=this._values[e];if(n)return n.get(t)}scopeRefs(e,t=this._values){return this._reduceValues(t,(t=>{if(void 0===t.scopePath)throw new Error(`CodeGen: name "${t}" has no value`);return r._`${e}${t.scopePath}`}))}scopeCode(e=this._values,t,n){return this._reduceValues(e,(e=>{if(void 0===e.value)throw new Error(`CodeGen: name "${e}" has no value`);return e.value.code}),t,n)}_reduceValues(e,n,s={},a){let c=r.nil;for(const u in e){const l=e[u];if(!l)continue;const h=s[u]=s[u]||new Map;l.forEach((e=>{if(h.has(e))return;h.set(e,o.Started);let s=n(e);if(s){const n=this.opts.es5?t.varKinds.var:t.varKinds.const;c=r._`${c}${n} ${e} = ${s};${this.opts._n}`}else{if(!(s=null==a?void 0:a(e)))throw new i(e);c=r._`${c}${s}${this.opts._n}`}h.set(e,o.Completed)}))}return c}}},6930:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const r=n(15669),i=n(88936),o=n(17250);function s(e,t){const n=e.const("err",t);e.if(r._`${o.default.vErrors} === null`,(()=>e.assign(o.default.vErrors,r._`[${n}]`)),r._`${o.default.vErrors}.push(${n})`),e.code(r._`${o.default.errors}++`)}function a(e,t){const{gen:n,validateName:i,schemaEnv:o}=e;o.$async?n.throw(r._`new ${e.ValidationError}(${t})`):(n.assign(r._`${i}.errors`,t),n.return(!1))}t.keywordError={message:({keyword:e})=>r.str`must pass "${e}" keyword validation`},t.keyword$DataError={message:({keyword:e,schemaType:t})=>t?r.str`"${e}" keyword must be ${t} ($data)`:r.str`"${e}" keyword is invalid ($data)`},t.reportError=function(e,n=t.keywordError,i,o){const{it:c}=e,{gen:l,compositeRule:h,allErrors:d}=c,f=u(e,n,i);(null!=o?o:h||d)?s(l,f):a(c,r._`[${f}]`)},t.reportExtraError=function(e,n=t.keywordError,r){const{it:i}=e,{gen:c,compositeRule:l,allErrors:h}=i;s(c,u(e,n,r)),l||h||a(i,o.default.vErrors)},t.resetErrorsCount=function(e,t){e.assign(o.default.errors,t),e.if(r._`${o.default.vErrors} !== null`,(()=>e.if(t,(()=>e.assign(r._`${o.default.vErrors}.length`,t)),(()=>e.assign(o.default.vErrors,null)))))},t.extendErrors=function({gen:e,keyword:t,schemaValue:n,data:i,errsCount:s,it:a}){if(void 0===s)throw new Error("ajv implementation error");const c=e.name("err");e.forRange("i",s,o.default.errors,(s=>{e.const(c,r._`${o.default.vErrors}[${s}]`),e.if(r._`${c}.instancePath === undefined`,(()=>e.assign(r._`${c}.instancePath`,(0,r.strConcat)(o.default.instancePath,a.errorPath)))),e.assign(r._`${c}.schemaPath`,r.str`${a.errSchemaPath}/${t}`),a.opts.verbose&&(e.assign(r._`${c}.schema`,n),e.assign(r._`${c}.data`,i))}))};const c={keyword:new r.Name("keyword"),schemaPath:new r.Name("schemaPath"),params:new r.Name("params"),propertyName:new r.Name("propertyName"),message:new r.Name("message"),schema:new r.Name("schema"),parentSchema:new r.Name("parentSchema")};function u(e,t,n){const{createErrors:i}=e.it;return!1===i?r._`{}`:function(e,t,n={}){const{gen:i,it:s}=e,a=[l(s,n),h(e,n)];return function(e,{params:t,message:n},i){const{keyword:s,data:a,schemaValue:u,it:l}=e,{opts:h,propertyName:d,topSchemaRef:f,schemaPath:p}=l;i.push([c.keyword,s],[c.params,"function"==typeof t?t(e):t||r._`{}`]),h.messages&&i.push([c.message,"function"==typeof n?n(e):n]),h.verbose&&i.push([c.schema,u],[c.parentSchema,r._`${f}${p}`],[o.default.data,a]),d&&i.push([c.propertyName,d])}(e,t,a),i.object(...a)}(e,t,n)}function l({errorPath:e},{instancePath:t}){const n=t?r.str`${e}${(0,i.getErrorPath)(t,i.Type.Str)}`:e;return[o.default.instancePath,(0,r.strConcat)(o.default.instancePath,n)]}function h({keyword:e,it:{errSchemaPath:t}},{schemaPath:n,parentSchema:o}){let s=o?t:r.str`${t}/${e}`;return n&&(s=r.str`${s}${(0,i.getErrorPath)(n,i.Type.Str)}`),[c.schemaPath,s]}},87382:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveSchema=t.getCompilingSchema=t.resolveRef=t.compileSchema=t.SchemaEnv=void 0;const r=n(15669),i=n(46448),o=n(17250),s=n(96696),a=n(88936),c=n(91686);class u{constructor(e){var t;let n;this.refs={},this.dynamicAnchors={},"object"==typeof e.schema&&(n=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=null!==(t=e.baseId)&&void 0!==t?t:(0,s.normalizeId)(null==n?void 0:n[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=null==n?void 0:n.$async,this.refs={}}}function l(e){const t=d.call(this,e);if(t)return t;const n=(0,s.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:a,lines:u}=this.opts.code,{ownProperties:l}=this.opts,h=new r.CodeGen(this.scope,{es5:a,lines:u,ownProperties:l});let f;e.$async&&(f=h.scopeValue("Error",{ref:i.default,code:r._`require("ajv/dist/runtime/validation_error").default`}));const p=h.scopeName("validate");e.validateName=p;const m={gen:h,allErrors:this.opts.allErrors,data:o.default.data,parentData:o.default.parentData,parentDataProperty:o.default.parentDataProperty,dataNames:[o.default.data],dataPathArr:[r.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:h.scopeValue("schema",!0===this.opts.code.source?{ref:e.schema,code:(0,r.stringify)(e.schema)}:{ref:e.schema}),validateName:p,ValidationError:f,schema:e.schema,schemaEnv:e,rootId:n,baseId:e.baseId||n,schemaPath:r.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:r._`""`,opts:this.opts,self:this};let g;try{this._compilations.add(e),(0,c.validateFunctionCode)(m),h.optimize(this.opts.code.optimize);const t=h.toString();g=`${h.scopeRefs(o.default.scope)}return ${t}`,this.opts.code.process&&(g=this.opts.code.process(g,e));const n=new Function(`${o.default.self}`,`${o.default.scope}`,g)(this,this.scope.get());if(this.scope.value(p,{ref:n}),n.errors=null,n.schema=e.schema,n.schemaEnv=e,e.$async&&(n.$async=!0),!0===this.opts.code.source&&(n.source={validateName:p,validateCode:t,scopeValues:h._values}),this.opts.unevaluated){const{props:e,items:t}=m;n.evaluated={props:e instanceof r.Name?void 0:e,items:t instanceof r.Name?void 0:t,dynamicProps:e instanceof r.Name,dynamicItems:t instanceof r.Name},n.source&&(n.source.evaluated=(0,r.stringify)(n.evaluated))}return e.validate=n,e}catch(t){throw delete e.validate,delete e.validateName,g&&this.logger.error("Error compiling schema, function code:",g),t}finally{this._compilations.delete(e)}}function h(e){return(0,s.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:l.call(this,e)}function d(e){for(const r of this._compilations)if(n=e,(t=r).schema===n.schema&&t.root===n.root&&t.baseId===n.baseId)return r;var t,n}function f(e,t){let n;for(;"string"==typeof(n=this.refs[t]);)t=n;return n||this.schemas[t]||p.call(this,e,t)}function p(e,t){const n=this.opts.uriResolver.parse(t),r=(0,s._getFullPath)(this.opts.uriResolver,n);let i=(0,s.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&r===i)return g.call(this,n,e);const o=(0,s.normalizeId)(r),a=this.refs[o]||this.schemas[o];if("string"==typeof a){const t=p.call(this,e,a);if("object"!=typeof(null==t?void 0:t.schema))return;return g.call(this,n,t)}if("object"==typeof(null==a?void 0:a.schema)){if(a.validate||l.call(this,a),o===(0,s.normalizeId)(t)){const{schema:t}=a,{schemaId:n}=this.opts,r=t[n];return r&&(i=(0,s.resolveUrl)(this.opts.uriResolver,i,r)),new u({schema:t,schemaId:n,root:e,baseId:i})}return g.call(this,n,a)}}t.SchemaEnv=u,t.compileSchema=l,t.resolveRef=function(e,t,n){var r;n=(0,s.resolveUrl)(this.opts.uriResolver,t,n);const i=e.refs[n];if(i)return i;let o=f.call(this,e,n);if(void 0===o){const i=null===(r=e.localRefs)||void 0===r?void 0:r[n],{schemaId:s}=this.opts;i&&(o=new u({schema:i,schemaId:s,root:e,baseId:t}))}return void 0!==o?e.refs[n]=h.call(this,o):void 0},t.getCompilingSchema=d,t.resolveSchema=p;const m=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function g(e,{baseId:t,schema:n,root:r}){var i;if("/"!==(null===(i=e.fragment)||void 0===i?void 0:i[0]))return;for(const r of e.fragment.slice(1).split("/")){if("boolean"==typeof n)return;const e=n[(0,a.unescapeFragment)(r)];if(void 0===e)return;const i="object"==typeof(n=e)&&n[this.opts.schemaId];!m.has(r)&&i&&(t=(0,s.resolveUrl)(this.opts.uriResolver,t,i))}let o;if("boolean"!=typeof n&&n.$ref&&!(0,a.schemaHasRulesButRef)(n,this.RULES)){const e=(0,s.resolveUrl)(this.opts.uriResolver,t,n.$ref);o=p.call(this,r,e)}const{schemaId:c}=this.opts;return o=o||new u({schema:n,schemaId:c,root:r,baseId:t}),o.schema!==o.root.schema?o:void 0}},17250:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(15669),i={data:new r.Name("data"),valCxt:new r.Name("valCxt"),instancePath:new r.Name("instancePath"),parentData:new r.Name("parentData"),parentDataProperty:new r.Name("parentDataProperty"),rootData:new r.Name("rootData"),dynamicAnchors:new r.Name("dynamicAnchors"),vErrors:new r.Name("vErrors"),errors:new r.Name("errors"),this:new r.Name("this"),self:new r.Name("self"),scope:new r.Name("scope"),json:new r.Name("json"),jsonPos:new r.Name("jsonPos"),jsonLen:new r.Name("jsonLen"),jsonPart:new r.Name("jsonPart")};t.default=i},91578:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(96696);class i extends Error{constructor(e,t,n,i){super(i||`can't resolve reference ${n} from id ${t}`),this.missingRef=(0,r.resolveUrl)(e,t,n),this.missingSchema=(0,r.normalizeId)((0,r.getFullPath)(e,this.missingRef))}}t.default=i},96696:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSchemaRefs=t.resolveUrl=t.normalizeId=t._getFullPath=t.getFullPath=t.inlineRef=void 0;const r=n(88936),i=n(66471),o=n(25127),s=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);t.inlineRef=function(e,t=!0){return"boolean"==typeof e||(!0===t?!c(e):!!t&&u(e)<=t)};const a=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function c(e){for(const t in e){if(a.has(t))return!0;const n=e[t];if(Array.isArray(n)&&n.some(c))return!0;if("object"==typeof n&&c(n))return!0}return!1}function u(e){let t=0;for(const n in e){if("$ref"===n)return 1/0;if(t++,!s.has(n)&&("object"==typeof e[n]&&(0,r.eachItem)(e[n],(e=>t+=u(e))),t===1/0))return 1/0}return t}function l(e,t="",n){!1!==n&&(t=f(t));const r=e.parse(t);return h(e,r)}function h(e,t){return e.serialize(t).split("#")[0]+"#"}t.getFullPath=l,t._getFullPath=h;const d=/#\/?$/;function f(e){return e?e.replace(d,""):""}t.normalizeId=f,t.resolveUrl=function(e,t,n){return n=f(n),e.resolve(t,n)};const p=/^[a-z_][-a-z0-9._]*$/i;t.getSchemaRefs=function(e,t){if("boolean"==typeof e)return{};const{schemaId:n,uriResolver:r}=this.opts,s=f(e[n]||t),a={"":s},c=l(r,s,!1),u={},h=new Set;return o(e,{allKeys:!0},((e,t,r,i)=>{if(void 0===i)return;const o=c+t;let s=a[i];function l(t){const n=this.opts.uriResolver.resolve;if(t=f(s?n(s,t):t),h.has(t))throw m(t);h.add(t);let r=this.refs[t];return"string"==typeof r&&(r=this.refs[r]),"object"==typeof r?d(e,r.schema,t):t!==f(o)&&("#"===t[0]?(d(e,u[t],t),u[t]=e):this.refs[t]=o),t}function g(e){if("string"==typeof e){if(!p.test(e))throw new Error(`invalid anchor "${e}"`);l.call(this,`#${e}`)}}"string"==typeof e[n]&&(s=l.call(this,e[n])),g.call(this,e.$anchor),g.call(this,e.$dynamicAnchor),a[t]=s})),u;function d(e,t,n){if(void 0!==t&&!i(e,t))throw m(n)}function m(e){return new Error(`reference "${e}" resolves to more than one schema`)}}},82881:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRules=t.isJSONType=void 0;const n=new Set(["string","number","integer","boolean","null","object","array"]);t.isJSONType=function(e){return"string"==typeof e&&n.has(e)},t.getRules=function(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}},88936:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkStrictMode=t.getErrorPath=t.Type=t.useFunc=t.setEvaluated=t.evaluatedPropsToName=t.mergeEvaluated=t.eachItem=t.unescapeJsonPointer=t.escapeJsonPointer=t.escapeFragment=t.unescapeFragment=t.schemaRefOrVal=t.schemaHasRulesButRef=t.schemaHasRules=t.checkUnknownRules=t.alwaysValidSchema=t.toHash=void 0;const r=n(15669),i=n(66545);function o(e,t=e.schema){const{opts:n,self:r}=e;if(!n.strictSchema)return;if("boolean"==typeof t)return;const i=r.RULES.keywords;for(const n in t)i[n]||p(e,`unknown keyword: "${n}"`)}function s(e,t){if("boolean"==typeof e)return!e;for(const n in e)if(t[n])return!0;return!1}function a(e){return"number"==typeof e?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}function c(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function u({mergeNames:e,mergeToName:t,mergeValues:n,resultToName:i}){return(o,s,a,c)=>{const u=void 0===a?s:a instanceof r.Name?(s instanceof r.Name?e(o,s,a):t(o,s,a),a):s instanceof r.Name?(t(o,a,s),s):n(s,a);return c!==r.Name||u instanceof r.Name?u:i(o,u)}}function l(e,t){if(!0===t)return e.var("props",!0);const n=e.var("props",r._`{}`);return void 0!==t&&h(e,n,t),n}function h(e,t,n){Object.keys(n).forEach((n=>e.assign(r._`${t}${(0,r.getProperty)(n)}`,!0)))}t.toHash=function(e){const t={};for(const n of e)t[n]=!0;return t},t.alwaysValidSchema=function(e,t){return"boolean"==typeof t?t:0===Object.keys(t).length||(o(e,t),!s(t,e.self.RULES.all))},t.checkUnknownRules=o,t.schemaHasRules=s,t.schemaHasRulesButRef=function(e,t){if("boolean"==typeof e)return!e;for(const n in e)if("$ref"!==n&&t.all[n])return!0;return!1},t.schemaRefOrVal=function({topSchemaRef:e,schemaPath:t},n,i,o){if(!o){if("number"==typeof n||"boolean"==typeof n)return n;if("string"==typeof n)return r._`${n}`}return r._`${e}${t}${(0,r.getProperty)(i)}`},t.unescapeFragment=function(e){return c(decodeURIComponent(e))},t.escapeFragment=function(e){return encodeURIComponent(a(e))},t.escapeJsonPointer=a,t.unescapeJsonPointer=c,t.eachItem=function(e,t){if(Array.isArray(e))for(const n of e)t(n);else t(e)},t.mergeEvaluated={props:u({mergeNames:(e,t,n)=>e.if(r._`${n} !== true && ${t} !== undefined`,(()=>{e.if(r._`${t} === true`,(()=>e.assign(n,!0)),(()=>e.assign(n,r._`${n} || {}`).code(r._`Object.assign(${n}, ${t})`)))})),mergeToName:(e,t,n)=>e.if(r._`${n} !== true`,(()=>{!0===t?e.assign(n,!0):(e.assign(n,r._`${n} || {}`),h(e,n,t))})),mergeValues:(e,t)=>!0===e||{...e,...t},resultToName:l}),items:u({mergeNames:(e,t,n)=>e.if(r._`${n} !== true && ${t} !== undefined`,(()=>e.assign(n,r._`${t} === true ? true : ${n} > ${t} ? ${n} : ${t}`))),mergeToName:(e,t,n)=>e.if(r._`${n} !== true`,(()=>e.assign(n,!0===t||r._`${n} > ${t} ? ${n} : ${t}`))),mergeValues:(e,t)=>!0===e||Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})},t.evaluatedPropsToName=l,t.setEvaluated=h;const d={};var f;function p(e,t,n=e.opts.strictSchema){if(n){if(t=`strict mode: ${t}`,!0===n)throw new Error(t);e.self.logger.warn(t)}}t.useFunc=function(e,t){return e.scopeValue("func",{ref:t,code:d[t.code]||(d[t.code]=new i._Code(t.code))})},function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"}(f=t.Type||(t.Type={})),t.getErrorPath=function(e,t,n){if(e instanceof r.Name){const i=t===f.Num;return n?i?r._`"[" + ${e} + "]"`:r._`"['" + ${e} + "']"`:i?r._`"/" + ${e}`:r._`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return n?(0,r.getProperty)(e).toString():"/"+a(e)},t.checkStrictMode=p},89073:(e,t)=>{"use strict";function n(e,t){return t.rules.some((t=>r(e,t)))}function r(e,t){var n;return void 0!==e[t.keyword]||(null===(n=t.definition.implements)||void 0===n?void 0:n.some((t=>void 0!==e[t])))}Object.defineProperty(t,"__esModule",{value:!0}),t.shouldUseRule=t.shouldUseGroup=t.schemaHasRulesForType=void 0,t.schemaHasRulesForType=function({schema:e,self:t},r){const i=t.RULES.types[r];return i&&!0!==i&&n(e,i)},t.shouldUseGroup=n,t.shouldUseRule=r},12171:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.boolOrEmptySchema=t.topBoolOrEmptySchema=void 0;const r=n(6930),i=n(15669),o=n(17250),s={message:"boolean schema is false"};function a(e,t){const{gen:n,data:i}=e,o={gen:n,keyword:"false schema",data:i,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,r.reportError)(o,s,void 0,t)}t.topBoolOrEmptySchema=function(e){const{gen:t,schema:n,validateName:r}=e;!1===n?a(e,!1):"object"==typeof n&&!0===n.$async?t.return(o.default.data):(t.assign(i._`${r}.errors`,null),t.return(!0))},t.boolOrEmptySchema=function(e,t){const{gen:n,schema:r}=e;!1===r?(n.var(t,!1),a(e)):n.var(t,!0)}},97332:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reportTypeError=t.checkDataTypes=t.checkDataType=t.coerceAndCheckDataType=t.getJSONTypes=t.getSchemaTypes=t.DataType=void 0;const r=n(82881),i=n(89073),o=n(6930),s=n(15669),a=n(88936);var c;function u(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(r.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}!function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"}(c=t.DataType||(t.DataType={})),t.getSchemaTypes=function(e){const t=u(e.type);if(t.includes("null")){if(!1===e.nullable)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&void 0!==e.nullable)throw new Error('"nullable" cannot be used without "type"');!0===e.nullable&&t.push("null")}return t},t.getJSONTypes=u,t.coerceAndCheckDataType=function(e,t){const{gen:n,data:r,opts:o}=e,a=function(e,t){return t?e.filter((e=>l.has(e)||"array"===t&&"array"===e)):[]}(t,o.coerceTypes),u=t.length>0&&!(0===a.length&&1===t.length&&(0,i.schemaHasRulesForType)(e,t[0]));if(u){const i=d(t,r,o.strictNumbers,c.Wrong);n.if(i,(()=>{a.length?function(e,t,n){const{gen:r,data:i,opts:o}=e,a=r.let("dataType",s._`typeof ${i}`),c=r.let("coerced",s._`undefined`);"array"===o.coerceTypes&&r.if(s._`${a} == 'object' && Array.isArray(${i}) && ${i}.length == 1`,(()=>r.assign(i,s._`${i}[0]`).assign(a,s._`typeof ${i}`).if(d(t,i,o.strictNumbers),(()=>r.assign(c,i))))),r.if(s._`${c} !== undefined`);for(const e of n)(l.has(e)||"array"===e&&"array"===o.coerceTypes)&&u(e);function u(e){switch(e){case"string":return void r.elseIf(s._`${a} == "number" || ${a} == "boolean"`).assign(c,s._`"" + ${i}`).elseIf(s._`${i} === null`).assign(c,s._`""`);case"number":return void r.elseIf(s._`${a} == "boolean" || ${i} === null
              || (${a} == "string" && ${i} && ${i} == +${i})`).assign(c,s._`+${i}`);case"integer":return void r.elseIf(s._`${a} === "boolean" || ${i} === null
              || (${a} === "string" && ${i} && ${i} == +${i} && !(${i} % 1))`).assign(c,s._`+${i}`);case"boolean":return void r.elseIf(s._`${i} === "false" || ${i} === 0 || ${i} === null`).assign(c,!1).elseIf(s._`${i} === "true" || ${i} === 1`).assign(c,!0);case"null":return r.elseIf(s._`${i} === "" || ${i} === 0 || ${i} === false`),void r.assign(c,null);case"array":r.elseIf(s._`${a} === "string" || ${a} === "number"
              || ${a} === "boolean" || ${i} === null`).assign(c,s._`[${i}]`)}}r.else(),p(e),r.endIf(),r.if(s._`${c} !== undefined`,(()=>{r.assign(i,c),function({gen:e,parentData:t,parentDataProperty:n},r){e.if(s._`${t} !== undefined`,(()=>e.assign(s._`${t}[${n}]`,r)))}(e,c)}))}(e,t,a):p(e)}))}return u};const l=new Set(["string","number","integer","boolean","null"]);function h(e,t,n,r=c.Correct){const i=r===c.Correct?s.operators.EQ:s.operators.NEQ;let o;switch(e){case"null":return s._`${t} ${i} null`;case"array":o=s._`Array.isArray(${t})`;break;case"object":o=s._`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":o=a(s._`!(${t} % 1) && !isNaN(${t})`);break;case"number":o=a();break;default:return s._`typeof ${t} ${i} ${e}`}return r===c.Correct?o:(0,s.not)(o);function a(e=s.nil){return(0,s.and)(s._`typeof ${t} == "number"`,e,n?s._`isFinite(${t})`:s.nil)}}function d(e,t,n,r){if(1===e.length)return h(e[0],t,n,r);let i;const o=(0,a.toHash)(e);if(o.array&&o.object){const e=s._`typeof ${t} != "object"`;i=o.null?e:s._`!${t} || ${e}`,delete o.null,delete o.array,delete o.object}else i=s.nil;o.number&&delete o.integer;for(const e in o)i=(0,s.and)(i,h(e,t,n,r));return i}t.checkDataType=h,t.checkDataTypes=d;const f={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>"string"==typeof e?s._`{type: ${e}}`:s._`{type: ${t}}`};function p(e){const t=function(e){const{gen:t,data:n,schema:r}=e,i=(0,a.schemaRefOrVal)(e,r,"type");return{gen:t,keyword:"type",data:n,schema:r.type,schemaCode:i,schemaValue:i,parentSchema:r,params:{},it:e}}(e);(0,o.reportError)(t,f)}t.reportTypeError=p},91481:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assignDefaults=void 0;const r=n(15669),i=n(88936);function o(e,t,n){const{gen:o,compositeRule:s,data:a,opts:c}=e;if(void 0===n)return;const u=r._`${a}${(0,r.getProperty)(t)}`;if(s)return void(0,i.checkStrictMode)(e,`default is ignored for: ${u}`);let l=r._`${u} === undefined`;"empty"===c.useDefaults&&(l=r._`${l} || ${u} === null || ${u} === ""`),o.if(l,r._`${u} = ${(0,r.stringify)(n)}`)}t.assignDefaults=function(e,t){const{properties:n,items:r}=e.schema;if("object"===t&&n)for(const t in n)o(e,t,n[t].default);else"array"===t&&Array.isArray(r)&&r.forEach(((t,n)=>o(e,n,t.default)))}},91686:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getData=t.KeywordCxt=t.validateFunctionCode=void 0;const r=n(12171),i=n(97332),o=n(89073),s=n(97332),a=n(91481),c=n(95782),u=n(38878),l=n(15669),h=n(17250),d=n(96696),f=n(88936),p=n(6930);function m({gen:e,validateName:t,schema:n,schemaEnv:r,opts:i},o){i.code.es5?e.func(t,l._`${h.default.data}, ${h.default.valCxt}`,r.$async,(()=>{e.code(l._`"use strict"; ${g(n,i)}`),function(e,t){e.if(h.default.valCxt,(()=>{e.var(h.default.instancePath,l._`${h.default.valCxt}.${h.default.instancePath}`),e.var(h.default.parentData,l._`${h.default.valCxt}.${h.default.parentData}`),e.var(h.default.parentDataProperty,l._`${h.default.valCxt}.${h.default.parentDataProperty}`),e.var(h.default.rootData,l._`${h.default.valCxt}.${h.default.rootData}`),t.dynamicRef&&e.var(h.default.dynamicAnchors,l._`${h.default.valCxt}.${h.default.dynamicAnchors}`)}),(()=>{e.var(h.default.instancePath,l._`""`),e.var(h.default.parentData,l._`undefined`),e.var(h.default.parentDataProperty,l._`undefined`),e.var(h.default.rootData,h.default.data),t.dynamicRef&&e.var(h.default.dynamicAnchors,l._`{}`)}))}(e,i),e.code(o)})):e.func(t,l._`${h.default.data}, ${function(e){return l._`{${h.default.instancePath}="", ${h.default.parentData}, ${h.default.parentDataProperty}, ${h.default.rootData}=${h.default.data}${e.dynamicRef?l._`, ${h.default.dynamicAnchors}={}`:l.nil}}={}`}(i)}`,r.$async,(()=>e.code(g(n,i)).code(o)))}function g(e,t){const n="object"==typeof e&&e[t.schemaId];return n&&(t.code.source||t.code.process)?l._`/*# sourceURL=${n} */`:l.nil}function v({schema:e,self:t}){if("boolean"==typeof e)return!e;for(const n in e)if(t.RULES.all[n])return!0;return!1}function y(e){return"boolean"!=typeof e.schema}function b(e){(0,f.checkUnknownRules)(e),function(e){const{schema:t,errSchemaPath:n,opts:r,self:i}=e;t.$ref&&r.ignoreKeywordsWithRef&&(0,f.schemaHasRulesButRef)(t,i.RULES)&&i.logger.warn(`$ref: keywords ignored in schema at path "${n}"`)}(e)}function w(e,t){if(e.opts.jtd)return _(e,[],!1,t);const n=(0,i.getSchemaTypes)(e.schema);_(e,n,!(0,i.coerceAndCheckDataType)(e,n),t)}function S({gen:e,schemaEnv:t,schema:n,errSchemaPath:r,opts:i}){const o=n.$comment;if(!0===i.$comment)e.code(l._`${h.default.self}.logger.log(${o})`);else if("function"==typeof i.$comment){const n=l.str`${r}/$comment`,i=e.scopeValue("root",{ref:t.root});e.code(l._`${h.default.self}.opts.$comment(${o}, ${n}, ${i}.schema)`)}}function _(e,t,n,r){const{gen:i,schema:a,data:c,allErrors:u,opts:d,self:p}=e,{RULES:m}=p;function g(f){(0,o.shouldUseGroup)(a,f)&&(f.type?(i.if((0,s.checkDataType)(f.type,c,d.strictNumbers)),x(e,f),1===t.length&&t[0]===f.type&&n&&(i.else(),(0,s.reportTypeError)(e)),i.endIf()):x(e,f),u||i.if(l._`${h.default.errors} === ${r||0}`))}!a.$ref||!d.ignoreKeywordsWithRef&&(0,f.schemaHasRulesButRef)(a,m)?(d.jtd||function(e,t){!e.schemaEnv.meta&&e.opts.strictTypes&&(function(e,t){t.length&&(e.dataTypes.length?(t.forEach((t=>{C(e.dataTypes,t)||E(e,`type "${t}" not allowed by context "${e.dataTypes.join(",")}"`)})),e.dataTypes=e.dataTypes.filter((e=>C(t,e)))):e.dataTypes=t)}(e,t),e.opts.allowUnionTypes||function(e,t){t.length>1&&(2!==t.length||!t.includes("null"))&&E(e,"use allowUnionTypes to allow union type keyword")}(e,t),function(e,t){const n=e.self.RULES.all;for(const r in n){const i=n[r];if("object"==typeof i&&(0,o.shouldUseRule)(e.schema,i)){const{type:n}=i.definition;n.length&&!n.some((e=>{return r=e,(n=t).includes(r)||"number"===r&&n.includes("integer");var n,r}))&&E(e,`missing type "${n.join(",")}" for keyword "${r}"`)}}}(e,e.dataTypes))}(e,t),i.block((()=>{for(const e of m.rules)g(e);g(m.post)}))):i.block((()=>A(e,"$ref",m.all.$ref.definition)))}function x(e,t){const{gen:n,schema:r,opts:{useDefaults:i}}=e;i&&(0,a.assignDefaults)(e,t.type),n.block((()=>{for(const n of t.rules)(0,o.shouldUseRule)(r,n)&&A(e,n.keyword,n.definition,t.type)}))}function C(e,t){return e.includes(t)||"integer"===t&&e.includes("number")}function E(e,t){t+=` at "${e.schemaEnv.baseId+e.errSchemaPath}" (strictTypes)`,(0,f.checkStrictMode)(e,t,e.opts.strictTypes)}t.validateFunctionCode=function(e){y(e)&&(b(e),v(e))?function(e){const{schema:t,opts:n,gen:r}=e;m(e,(()=>{n.$comment&&t.$comment&&S(e),function(e){const{schema:t,opts:n}=e;void 0!==t.default&&n.useDefaults&&n.strictSchema&&(0,f.checkStrictMode)(e,"default is ignored in the schema root")}(e),r.let(h.default.vErrors,null),r.let(h.default.errors,0),n.unevaluated&&function(e){const{gen:t,validateName:n}=e;e.evaluated=t.const("evaluated",l._`${n}.evaluated`),t.if(l._`${e.evaluated}.dynamicProps`,(()=>t.assign(l._`${e.evaluated}.props`,l._`undefined`))),t.if(l._`${e.evaluated}.dynamicItems`,(()=>t.assign(l._`${e.evaluated}.items`,l._`undefined`)))}(e),w(e),function(e){const{gen:t,schemaEnv:n,validateName:r,ValidationError:i,opts:o}=e;n.$async?t.if(l._`${h.default.errors} === 0`,(()=>t.return(h.default.data)),(()=>t.throw(l._`new ${i}(${h.default.vErrors})`))):(t.assign(l._`${r}.errors`,h.default.vErrors),o.unevaluated&&function({gen:e,evaluated:t,props:n,items:r}){n instanceof l.Name&&e.assign(l._`${t}.props`,n),r instanceof l.Name&&e.assign(l._`${t}.items`,r)}(e),t.return(l._`${h.default.errors} === 0`))}(e)}))}(e):m(e,(()=>(0,r.topBoolOrEmptySchema)(e)))};class k{constructor(e,t,n){if((0,c.validateKeywordUsage)(e,t,n),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=n,this.data=e.data,this.schema=e.schema[n],this.$data=t.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,f.schemaRefOrVal)(e,this.schema,n,this.$data),this.schemaType=t.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=t,this.$data)this.schemaCode=e.gen.const("vSchema",P(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,c.validSchemaType)(this.schema,t.schemaType,t.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(t.schemaType)}`);("code"in t?t.trackErrors:!1!==t.errors)&&(this.errsCount=e.gen.const("_errs",h.default.errors))}result(e,t,n){this.failResult((0,l.not)(e),t,n)}failResult(e,t,n){this.gen.if(e),n?n():this.error(),t?(this.gen.else(),t(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,t){this.failResult((0,l.not)(e),void 0,t)}fail(e){if(void 0===e)return this.error(),void(this.allErrors||this.gen.if(!1));this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);const{schemaCode:t}=this;this.fail(l._`${t} !== undefined && (${(0,l.or)(this.invalid$data(),e)})`)}error(e,t,n){if(t)return this.setParams(t),this._error(e,n),void this.setParams({});this._error(e,n)}_error(e,t){(e?p.reportExtraError:p.reportError)(this,this.def.error,t)}$dataError(){(0,p.reportError)(this,this.def.$dataError||p.keyword$DataError)}reset(){if(void 0===this.errsCount)throw new Error('add "trackErrors" to keyword definition');(0,p.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,t){t?Object.assign(this.params,e):this.params=e}block$data(e,t,n=l.nil){this.gen.block((()=>{this.check$data(e,n),t()}))}check$data(e=l.nil,t=l.nil){if(!this.$data)return;const{gen:n,schemaCode:r,schemaType:i,def:o}=this;n.if((0,l.or)(l._`${r} === undefined`,t)),e!==l.nil&&n.assign(e,!0),(i.length||o.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),e!==l.nil&&n.assign(e,!1)),n.else()}invalid$data(){const{gen:e,schemaCode:t,schemaType:n,def:r,it:i}=this;return(0,l.or)(function(){if(n.length){if(!(t instanceof l.Name))throw new Error("ajv implementation error");const e=Array.isArray(n)?n:[n];return l._`${(0,s.checkDataTypes)(e,t,i.opts.strictNumbers,s.DataType.Wrong)}`}return l.nil}(),function(){if(r.validateSchema){const n=e.scopeValue("validate$data",{ref:r.validateSchema});return l._`!${n}(${t})`}return l.nil}())}subschema(e,t){const n=(0,u.getSubschema)(this.it,e);(0,u.extendSubschemaData)(n,this.it,e),(0,u.extendSubschemaMode)(n,e);const i={...this.it,...n,items:void 0,props:void 0};return function(e,t){y(e)&&(b(e),v(e))?function(e,t){const{schema:n,gen:r,opts:i}=e;i.$comment&&n.$comment&&S(e),function(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,d.resolveUrl)(e.opts.uriResolver,e.baseId,t))}(e),function(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}(e);const o=r.const("_errs",h.default.errors);w(e,o),r.var(t,l._`${o} === ${h.default.errors}`)}(e,t):(0,r.boolOrEmptySchema)(e,t)}(i,t),i}mergeEvaluated(e,t){const{it:n,gen:r}=this;n.opts.unevaluated&&(!0!==n.props&&void 0!==e.props&&(n.props=f.mergeEvaluated.props(r,e.props,n.props,t)),!0!==n.items&&void 0!==e.items&&(n.items=f.mergeEvaluated.items(r,e.items,n.items,t)))}mergeValidEvaluated(e,t){const{it:n,gen:r}=this;if(n.opts.unevaluated&&(!0!==n.props||!0!==n.items))return r.if(t,(()=>this.mergeEvaluated(e,l.Name))),!0}}function A(e,t,n,r){const i=new k(e,n,t);"code"in n?n.code(i,r):i.$data&&n.validate?(0,c.funcKeywordCode)(i,n):"macro"in n?(0,c.macroKeywordCode)(i,n):(n.compile||n.validate)&&(0,c.funcKeywordCode)(i,n)}t.KeywordCxt=k;const N=/^\/(?:[^~]|~0|~1)*$/,T=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function P(e,{dataLevel:t,dataNames:n,dataPathArr:r}){let i,o;if(""===e)return h.default.rootData;if("/"===e[0]){if(!N.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);i=e,o=h.default.rootData}else{const s=T.exec(e);if(!s)throw new Error(`Invalid JSON-pointer: ${e}`);const a=+s[1];if(i=s[2],"#"===i){if(a>=t)throw new Error(c("property/index",a));return r[t-a]}if(a>t)throw new Error(c("data",a));if(o=n[t-a],!i)return o}let s=o;const a=i.split("/");for(const e of a)e&&(o=l._`${o}${(0,l.getProperty)((0,f.unescapeJsonPointer)(e))}`,s=l._`${s} && ${o}`);return s;function c(e,n){return`Cannot access ${e} ${n} levels up, current level is ${t}`}}t.getData=P},95782:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateKeywordUsage=t.validSchemaType=t.funcKeywordCode=t.macroKeywordCode=void 0;const r=n(15669),i=n(17250),o=n(3499),s=n(6930);function a(e){const{gen:t,data:n,it:i}=e;t.if(i.parentData,(()=>t.assign(n,r._`${i.parentData}[${i.parentDataProperty}]`)))}function c(e,t,n){if(void 0===n)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword","function"==typeof n?{ref:n}:{ref:n,code:(0,r.stringify)(n)})}t.macroKeywordCode=function(e,t){const{gen:n,keyword:i,schema:o,parentSchema:s,it:a}=e,u=t.macro.call(a.self,o,s,a),l=c(n,i,u);!1!==a.opts.validateSchema&&a.self.validateSchema(u,!0);const h=n.name("valid");e.subschema({schema:u,schemaPath:r.nil,errSchemaPath:`${a.errSchemaPath}/${i}`,topSchemaRef:l,compositeRule:!0},h),e.pass(h,(()=>e.error(!0)))},t.funcKeywordCode=function(e,t){var n;const{gen:u,keyword:l,schema:h,parentSchema:d,$data:f,it:p}=e;!function({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}(p,t);const m=!f&&t.compile?t.compile.call(p.self,h,d,p):t.validate,g=c(u,l,m),v=u.let("valid");function y(n=(t.async?r._`await `:r.nil)){const s=p.opts.passContext?i.default.this:i.default.self,a=!("compile"in t&&!f||!1===t.schema);u.assign(v,r._`${n}${(0,o.callValidateCode)(e,g,s,a)}`,t.modifying)}function b(e){var n;u.if((0,r.not)(null!==(n=t.valid)&&void 0!==n?n:v),e)}e.block$data(v,(function(){if(!1===t.errors)y(),t.modifying&&a(e),b((()=>e.error()));else{const n=t.async?function(){const e=u.let("ruleErrs",null);return u.try((()=>y(r._`await `)),(t=>u.assign(v,!1).if(r._`${t} instanceof ${p.ValidationError}`,(()=>u.assign(e,r._`${t}.errors`)),(()=>u.throw(t))))),e}():function(){const e=r._`${g}.errors`;return u.assign(e,null),y(r.nil),e}();t.modifying&&a(e),b((()=>function(e,t){const{gen:n}=e;n.if(r._`Array.isArray(${t})`,(()=>{n.assign(i.default.vErrors,r._`${i.default.vErrors} === null ? ${t} : ${i.default.vErrors}.concat(${t})`).assign(i.default.errors,r._`${i.default.vErrors}.length`),(0,s.extendErrors)(e)}),(()=>e.error()))}(e,n)))}})),e.ok(null!==(n=t.valid)&&void 0!==n?n:v)},t.validSchemaType=function(e,t,n=!1){return!t.length||t.some((t=>"array"===t?Array.isArray(e):"object"===t?e&&"object"==typeof e&&!Array.isArray(e):typeof e==t||n&&void 0===e))},t.validateKeywordUsage=function({schema:e,opts:t,self:n,errSchemaPath:r},i,o){if(Array.isArray(i.keyword)?!i.keyword.includes(o):i.keyword!==o)throw new Error("ajv implementation error");const s=i.dependencies;if(null==s?void 0:s.some((t=>!Object.prototype.hasOwnProperty.call(e,t))))throw new Error(`parent schema must have dependencies of ${o}: ${s.join(",")}`);if(i.validateSchema&&!i.validateSchema(e[o])){const e=`keyword "${o}" value is invalid at path "${r}": `+n.errorsText(i.validateSchema.errors);if("log"!==t.validateSchema)throw new Error(e);n.logger.error(e)}}},38878:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extendSubschemaMode=t.extendSubschemaData=t.getSubschema=void 0;const r=n(15669),i=n(88936);t.getSubschema=function(e,{keyword:t,schemaProp:n,schema:o,schemaPath:s,errSchemaPath:a,topSchemaRef:c}){if(void 0!==t&&void 0!==o)throw new Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==t){const o=e.schema[t];return void 0===n?{schema:o,schemaPath:r._`${e.schemaPath}${(0,r.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:o[n],schemaPath:r._`${e.schemaPath}${(0,r.getProperty)(t)}${(0,r.getProperty)(n)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,i.escapeFragment)(n)}`}}if(void 0!==o){if(void 0===s||void 0===a||void 0===c)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:o,schemaPath:s,topSchemaRef:c,errSchemaPath:a}}throw new Error('either "keyword" or "schema" must be passed')},t.extendSubschemaData=function(e,t,{dataProp:n,dataPropType:o,data:s,dataTypes:a,propertyName:c}){if(void 0!==s&&void 0!==n)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:u}=t;if(void 0!==n){const{errorPath:s,dataPathArr:a,opts:c}=t;l(u.let("data",r._`${t.data}${(0,r.getProperty)(n)}`,!0)),e.errorPath=r.str`${s}${(0,i.getErrorPath)(n,o,c.jsPropertySyntax)}`,e.parentDataProperty=r._`${n}`,e.dataPathArr=[...a,e.parentDataProperty]}function l(n){e.data=n,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,n]}void 0!==s&&(l(s instanceof r.Name?s:u.let("data",s,!0)),void 0!==c&&(e.propertyName=c)),a&&(e.dataTypes=a)},t.extendSubschemaMode=function(e,{jtdDiscriminator:t,jtdMetadata:n,compositeRule:r,createErrors:i,allErrors:o}){void 0!==r&&(e.compositeRule=r),void 0!==i&&(e.createErrors=i),void 0!==o&&(e.allErrors=o),e.jtdDiscriminator=t,e.jtdMetadata=n}},38355:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var r=n(91686);Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return r.KeywordCxt}});var i=n(15669);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return i._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return i.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return i.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return i.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return i.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return i.CodeGen}});const o=n(46448),s=n(91578),a=n(82881),c=n(87382),u=n(15669),l=n(96696),h=n(97332),d=n(88936),f=n(71143),p=n(10407),m=(e,t)=>new RegExp(e,t);m.code="new RegExp";const g=["removeAdditional","useDefaults","coerceTypes"],v=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),y={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},b={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},w=200;function S(e){var t,n,r,i,o,s,a,c,u,l,h,d,f,g,v,y,b,S,_,x,C,E,k,A,N;const T=e.strict,P=null===(t=e.code)||void 0===t?void 0:t.optimize,O=!0===P||void 0===P?1:P||0,I=null!==(r=null===(n=e.code)||void 0===n?void 0:n.regExp)&&void 0!==r?r:m,R=null!==(i=e.uriResolver)&&void 0!==i?i:p.default;return{strictSchema:null===(s=null!==(o=e.strictSchema)&&void 0!==o?o:T)||void 0===s||s,strictNumbers:null===(c=null!==(a=e.strictNumbers)&&void 0!==a?a:T)||void 0===c||c,strictTypes:null!==(l=null!==(u=e.strictTypes)&&void 0!==u?u:T)&&void 0!==l?l:"log",strictTuples:null!==(d=null!==(h=e.strictTuples)&&void 0!==h?h:T)&&void 0!==d?d:"log",strictRequired:null!==(g=null!==(f=e.strictRequired)&&void 0!==f?f:T)&&void 0!==g&&g,code:e.code?{...e.code,optimize:O,regExp:I}:{optimize:O,regExp:I},loopRequired:null!==(v=e.loopRequired)&&void 0!==v?v:w,loopEnum:null!==(y=e.loopEnum)&&void 0!==y?y:w,meta:null===(b=e.meta)||void 0===b||b,messages:null===(S=e.messages)||void 0===S||S,inlineRefs:null===(_=e.inlineRefs)||void 0===_||_,schemaId:null!==(x=e.schemaId)&&void 0!==x?x:"$id",addUsedSchema:null===(C=e.addUsedSchema)||void 0===C||C,validateSchema:null===(E=e.validateSchema)||void 0===E||E,validateFormats:null===(k=e.validateFormats)||void 0===k||k,unicodeRegExp:null===(A=e.unicodeRegExp)||void 0===A||A,int32range:null===(N=e.int32range)||void 0===N||N,uriResolver:R}}class _{constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts={...e,...S(e)};const{es5:t,lines:n}=this.opts.code;this.scope=new u.ValueScope({scope:{},prefixes:v,es5:t,lines:n}),this.logger=function(e){if(!1===e)return T;if(void 0===e)return console;if(e.log&&e.warn&&e.error)return e;throw new Error("logger must implement log, warn and error methods")}(e.logger);const r=e.validateFormats;e.validateFormats=!1,this.RULES=(0,a.getRules)(),x.call(this,y,e,"NOT SUPPORTED"),x.call(this,b,e,"DEPRECATED","warn"),this._metaOpts=N.call(this),e.formats&&k.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&A.call(this,e.keywords),"object"==typeof e.meta&&this.addMetaSchema(e.meta),E.call(this),e.validateFormats=r}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:e,meta:t,schemaId:n}=this.opts;let r=f;"id"===n&&(r={...f},r.id=r.$id,delete r.$id),t&&e&&this.addMetaSchema(r,r[n],!1)}defaultMeta(){const{meta:e,schemaId:t}=this.opts;return this.opts.defaultMeta="object"==typeof e?e[t]||e:void 0}validate(e,t){let n;if("string"==typeof e){if(n=this.getSchema(e),!n)throw new Error(`no schema with key or ref "${e}"`)}else n=this.compile(e);const r=n(t);return"$async"in n||(this.errors=n.errors),r}compile(e,t){const n=this._addSchema(e,t);return n.validate||this._compileSchemaEnv(n)}compileAsync(e,t){if("function"!=typeof this.opts.loadSchema)throw new Error("options.loadSchema should be a function");const{loadSchema:n}=this.opts;return r.call(this,e,t);async function r(e,t){await i.call(this,e.$schema);const n=this._addSchema(e,t);return n.validate||o.call(this,n)}async function i(e){e&&!this.getSchema(e)&&await r.call(this,{$ref:e},!0)}async function o(e){try{return this._compileSchemaEnv(e)}catch(t){if(!(t instanceof s.default))throw t;return a.call(this,t),await c.call(this,t.missingSchema),o.call(this,e)}}function a({missingSchema:e,missingRef:t}){if(this.refs[e])throw new Error(`AnySchema ${e} is loaded but ${t} cannot be resolved`)}async function c(e){const n=await u.call(this,e);this.refs[e]||await i.call(this,n.$schema),this.refs[e]||this.addSchema(n,e,t)}async function u(e){const t=this._loading[e];if(t)return t;try{return await(this._loading[e]=n(e))}finally{delete this._loading[e]}}}addSchema(e,t,n,r=this.opts.validateSchema){if(Array.isArray(e)){for(const t of e)this.addSchema(t,void 0,n,r);return this}let i;if("object"==typeof e){const{schemaId:t}=this.opts;if(i=e[t],void 0!==i&&"string"!=typeof i)throw new Error(`schema ${t} must be string`)}return t=(0,l.normalizeId)(t||i),this._checkUnique(t),this.schemas[t]=this._addSchema(e,n,t,r,!0),this}addMetaSchema(e,t,n=this.opts.validateSchema){return this.addSchema(e,t,!0,n),this}validateSchema(e,t){if("boolean"==typeof e)return!0;let n;if(n=e.$schema,void 0!==n&&"string"!=typeof n)throw new Error("$schema must be a string");if(n=n||this.opts.defaultMeta||this.defaultMeta(),!n)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const r=this.validate(n,e);if(!r&&t){const e="schema is invalid: "+this.errorsText();if("log"!==this.opts.validateSchema)throw new Error(e);this.logger.error(e)}return r}getSchema(e){let t;for(;"string"==typeof(t=C.call(this,e));)e=t;if(void 0===t){const{schemaId:n}=this.opts,r=new c.SchemaEnv({schema:{},schemaId:n});if(t=c.resolveSchema.call(this,r,e),!t)return;this.refs[e]=t}return t.validate||this._compileSchemaEnv(t)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const t=C.call(this,e);return"object"==typeof t&&this._cache.delete(t.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{const t=e;this._cache.delete(t);let n=e[this.opts.schemaId];return n&&(n=(0,l.normalizeId)(n),delete this.schemas[n],delete this.refs[n]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(const t of e)this.addKeyword(t);return this}addKeyword(e,t){let n;if("string"==typeof e)n=e,"object"==typeof t&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),t.keyword=n);else{if("object"!=typeof e||void 0!==t)throw new Error("invalid addKeywords parameters");if(n=(t=e).keyword,Array.isArray(n)&&!n.length)throw new Error("addKeywords: keyword must be string or non-empty array")}if(O.call(this,n,t),!t)return(0,d.eachItem)(n,(e=>I.call(this,e))),this;L.call(this,t);const r={...t,type:(0,h.getJSONTypes)(t.type),schemaType:(0,h.getJSONTypes)(t.schemaType)};return(0,d.eachItem)(n,0===r.type.length?e=>I.call(this,e,r):e=>r.type.forEach((t=>I.call(this,e,r,t)))),this}getKeyword(e){const t=this.RULES.all[e];return"object"==typeof t?t.definition:!!t}removeKeyword(e){const{RULES:t}=this;delete t.keywords[e],delete t.all[e];for(const n of t.rules){const t=n.rules.findIndex((t=>t.keyword===e));t>=0&&n.rules.splice(t,1)}return this}addFormat(e,t){return"string"==typeof t&&(t=new RegExp(t)),this.formats[e]=t,this}errorsText(e=this.errors,{separator:t=", ",dataVar:n="data"}={}){return e&&0!==e.length?e.map((e=>`${n}${e.instancePath} ${e.message}`)).reduce(((e,n)=>e+t+n)):"No errors"}$dataMetaSchema(e,t){const n=this.RULES.all;e=JSON.parse(JSON.stringify(e));for(const r of t){const t=r.split("/").slice(1);let i=e;for(const e of t)i=i[e];for(const e in n){const t=n[e];if("object"!=typeof t)continue;const{$data:r}=t.definition,o=i[e];r&&o&&(i[e]=D(o))}}return e}_removeAllSchemas(e,t){for(const n in e){const r=e[n];t&&!t.test(n)||("string"==typeof r?delete e[n]:r&&!r.meta&&(this._cache.delete(r.schema),delete e[n]))}}_addSchema(e,t,n,r=this.opts.validateSchema,i=this.opts.addUsedSchema){let o;const{schemaId:s}=this.opts;if("object"==typeof e)o=e[s];else{if(this.opts.jtd)throw new Error("schema must be object");if("boolean"!=typeof e)throw new Error("schema must be object or boolean")}let a=this._cache.get(e);if(void 0!==a)return a;n=(0,l.normalizeId)(o||n);const u=l.getSchemaRefs.call(this,e,n);return a=new c.SchemaEnv({schema:e,schemaId:s,meta:t,baseId:n,localRefs:u}),this._cache.set(a.schema,a),i&&!n.startsWith("#")&&(n&&this._checkUnique(n),this.refs[n]=a),r&&this.validateSchema(e,!0),a}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw new Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):c.compileSchema.call(this,e),!e.validate)throw new Error("ajv implementation error");return e.validate}_compileMetaSchema(e){const t=this.opts;this.opts=this._metaOpts;try{c.compileSchema.call(this,e)}finally{this.opts=t}}}function x(e,t,n,r="error"){for(const i in e){const o=i;o in t&&this.logger[r](`${n}: option ${i}. ${e[o]}`)}}function C(e){return e=(0,l.normalizeId)(e),this.schemas[e]||this.refs[e]}function E(){const e=this.opts.schemas;if(e)if(Array.isArray(e))this.addSchema(e);else for(const t in e)this.addSchema(e[t],t)}function k(){for(const e in this.opts.formats){const t=this.opts.formats[e];t&&this.addFormat(e,t)}}function A(e){if(Array.isArray(e))this.addVocabulary(e);else{this.logger.warn("keywords option as map is deprecated, pass array");for(const t in e){const n=e[t];n.keyword||(n.keyword=t),this.addKeyword(n)}}}function N(){const e={...this.opts};for(const t of g)delete e[t];return e}t.default=_,_.ValidationError=o.default,_.MissingRefError=s.default;const T={log(){},warn(){},error(){}},P=/^[a-z_$][a-z0-9_$:-]*$/i;function O(e,t){const{RULES:n}=this;if((0,d.eachItem)(e,(e=>{if(n.keywords[e])throw new Error(`Keyword ${e} is already defined`);if(!P.test(e))throw new Error(`Keyword ${e} has invalid name`)})),t&&t.$data&&!("code"in t)&&!("validate"in t))throw new Error('$data keyword must have "code" or "validate" function')}function I(e,t,n){var r;const i=null==t?void 0:t.post;if(n&&i)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:o}=this;let s=i?o.post:o.rules.find((({type:e})=>e===n));if(s||(s={type:n,rules:[]},o.rules.push(s)),o.keywords[e]=!0,!t)return;const a={keyword:e,definition:{...t,type:(0,h.getJSONTypes)(t.type),schemaType:(0,h.getJSONTypes)(t.schemaType)}};t.before?R.call(this,s,a,t.before):s.rules.push(a),o.all[e]=a,null===(r=t.implements)||void 0===r||r.forEach((e=>this.addKeyword(e)))}function R(e,t,n){const r=e.rules.findIndex((e=>e.keyword===n));r>=0?e.rules.splice(r,0,t):(e.rules.push(t),this.logger.warn(`rule ${n} is not defined`))}function L(e){let{metaSchema:t}=e;void 0!==t&&(e.$data&&this.opts.$data&&(t=D(t)),e.validateSchema=this.compile(t,!0))}const M={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function D(e){return{anyOf:[e,M]}}},71297:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(89695),i=n(54181),o=n(54089),s=n(71103),a=n(56516),c=n(80504),u=n(9879),l=["/properties"];t.default=function(e){return[r,i,o,s,t(this,a),c,t(this,u)].forEach((e=>this.addMetaSchema(e,void 0,!1))),this;function t(t,n){return e?t.$dataMetaSchema(n,l):n}}},94285:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(66471);r.code='require("ajv/dist/runtime/equal").default',t.default=r},49161:(e,t)=>{"use strict";function n(e){const t=e.length;let n,r=0,i=0;for(;i<t;)r++,n=e.charCodeAt(i++),n>=55296&&n<=56319&&i<t&&(n=e.charCodeAt(i),56320==(64512&n)&&i++);return r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,n.code='require("ajv/dist/runtime/ucs2length").default'},10407:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(22371);r.code='require("ajv/dist/runtime/uri").default',t.default=r},46448:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}}t.default=n},78891:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateAdditionalItems=void 0;const r=n(15669),i=n(88936),o={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:e}})=>r.str`must NOT have more than ${e} items`,params:({params:{len:e}})=>r._`{limit: ${e}}`},code(e){const{parentSchema:t,it:n}=e,{items:r}=t;Array.isArray(r)?s(e,r):(0,i.checkStrictMode)(n,'"additionalItems" is ignored when "items" is not an array of schemas')}};function s(e,t){const{gen:n,schema:o,data:s,keyword:a,it:c}=e;c.items=!0;const u=n.const("len",r._`${s}.length`);if(!1===o)e.setParams({len:t.length}),e.pass(r._`${u} <= ${t.length}`);else if("object"==typeof o&&!(0,i.alwaysValidSchema)(c,o)){const o=n.var("valid",r._`${u} <= ${t.length}`);n.if((0,r.not)(o),(()=>function(o){n.forRange("i",t.length,u,(t=>{e.subschema({keyword:a,dataProp:t,dataPropType:i.Type.Num},o),c.allErrors||n.if((0,r.not)(o),(()=>n.break()))}))}(o))),e.ok(o)}}t.validateAdditionalItems=s,t.default=o},24943:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3499),i=n(15669),o=n(17250),s=n(88936),a={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:e})=>i._`{additionalProperty: ${e.additionalProperty}}`},code(e){const{gen:t,schema:n,parentSchema:a,data:c,errsCount:u,it:l}=e;if(!u)throw new Error("ajv implementation error");const{allErrors:h,opts:d}=l;if(l.props=!0,"all"!==d.removeAdditional&&(0,s.alwaysValidSchema)(l,n))return;const f=(0,r.allSchemaProperties)(a.properties),p=(0,r.allSchemaProperties)(a.patternProperties);function m(e){t.code(i._`delete ${c}[${e}]`)}function g(r){if("all"===d.removeAdditional||d.removeAdditional&&!1===n)m(r);else{if(!1===n)return e.setParams({additionalProperty:r}),e.error(),void(h||t.break());if("object"==typeof n&&!(0,s.alwaysValidSchema)(l,n)){const n=t.name("valid");"failing"===d.removeAdditional?(v(r,n,!1),t.if((0,i.not)(n),(()=>{e.reset(),m(r)}))):(v(r,n),h||t.if((0,i.not)(n),(()=>t.break())))}}}function v(t,n,r){const i={keyword:"additionalProperties",dataProp:t,dataPropType:s.Type.Str};!1===r&&Object.assign(i,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(i,n)}t.forIn("key",c,(n=>{f.length||p.length?t.if(function(n){let o;if(f.length>8){const e=(0,s.schemaRefOrVal)(l,a.properties,"properties");o=(0,r.isOwnProperty)(t,e,n)}else o=f.length?(0,i.or)(...f.map((e=>i._`${n} === ${e}`))):i.nil;return p.length&&(o=(0,i.or)(o,...p.map((t=>i._`${(0,r.usePattern)(e,t)}.test(${n})`)))),(0,i.not)(o)}(n),(()=>g(n))):g(n)})),e.ok(i._`${u} === ${o.default.errors}`)}};t.default=a},22609:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(88936),i={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:n,it:i}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");const o=t.name("valid");n.forEach(((t,n)=>{if((0,r.alwaysValidSchema)(i,t))return;const s=e.subschema({keyword:"allOf",schemaProp:n},o);e.ok(o),e.mergeEvaluated(s)}))}};t.default=i},54279:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:n(3499).validateUnion,error:{message:"must match a schema in anyOf"}};t.default=r},95609:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(15669),i=n(88936),o={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:e,max:t}})=>void 0===t?r.str`must contain at least ${e} valid item(s)`:r.str`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>void 0===t?r._`{minContains: ${e}}`:r._`{minContains: ${e}, maxContains: ${t}}`},code(e){const{gen:t,schema:n,parentSchema:o,data:s,it:a}=e;let c,u;const{minContains:l,maxContains:h}=o;a.opts.next?(c=void 0===l?1:l,u=h):c=1;const d=t.const("len",r._`${s}.length`);if(e.setParams({min:c,max:u}),void 0===u&&0===c)return void(0,i.checkStrictMode)(a,'"minContains" == 0 without "maxContains": "contains" keyword ignored');if(void 0!==u&&c>u)return(0,i.checkStrictMode)(a,'"minContains" > "maxContains" is always invalid'),void e.fail();if((0,i.alwaysValidSchema)(a,n)){let t=r._`${d} >= ${c}`;return void 0!==u&&(t=r._`${t} && ${d} <= ${u}`),void e.pass(t)}a.items=!0;const f=t.name("valid");function p(){const e=t.name("_valid"),n=t.let("count",0);m(e,(()=>t.if(e,(()=>function(e){t.code(r._`${e}++`),void 0===u?t.if(r._`${e} >= ${c}`,(()=>t.assign(f,!0).break())):(t.if(r._`${e} > ${u}`,(()=>t.assign(f,!1).break())),1===c?t.assign(f,!0):t.if(r._`${e} >= ${c}`,(()=>t.assign(f,!0))))}(n)))))}function m(n,r){t.forRange("i",0,d,(t=>{e.subschema({keyword:"contains",dataProp:t,dataPropType:i.Type.Num,compositeRule:!0},n),r()}))}void 0===u&&1===c?m(f,(()=>t.if(f,(()=>t.break())))):0===c?(t.let(f,!0),void 0!==u&&t.if(r._`${s}.length > 0`,p)):(t.let(f,!1),p()),e.result(f,(()=>e.reset()))}};t.default=o},5463:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const r=n(15669),i=n(88936),o=n(3499);t.error={message:({params:{property:e,depsCount:t,deps:n}})=>{const i=1===t?"property":"properties";return r.str`must have ${i} ${n} when property ${e} is present`},params:({params:{property:e,depsCount:t,deps:n,missingProperty:i}})=>r._`{property: ${e},
    missingProperty: ${i},
    depsCount: ${t},
    deps: ${n}}`};const s={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(e){const[t,n]=function({schema:e}){const t={},n={};for(const r in e)"__proto__"!==r&&((Array.isArray(e[r])?t:n)[r]=e[r]);return[t,n]}(e);a(e,t),c(e,n)}};function a(e,t=e.schema){const{gen:n,data:i,it:s}=e;if(0===Object.keys(t).length)return;const a=n.let("missing");for(const c in t){const u=t[c];if(0===u.length)continue;const l=(0,o.propertyInData)(n,i,c,s.opts.ownProperties);e.setParams({property:c,depsCount:u.length,deps:u.join(", ")}),s.allErrors?n.if(l,(()=>{for(const t of u)(0,o.checkReportMissingProp)(e,t)})):(n.if(r._`${l} && (${(0,o.checkMissingProp)(e,u,a)})`),(0,o.reportMissingProp)(e,a),n.else())}}function c(e,t=e.schema){const{gen:n,data:r,keyword:s,it:a}=e,c=n.name("valid");for(const u in t)(0,i.alwaysValidSchema)(a,t[u])||(n.if((0,o.propertyInData)(n,r,u,a.opts.ownProperties),(()=>{const t=e.subschema({keyword:s,schemaProp:u},c);e.mergeValidEvaluated(t,c)}),(()=>n.var(c,!0))),e.ok(c))}t.validatePropertyDeps=a,t.validateSchemaDeps=c,t.default=s},18850:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(5463),i={keyword:"dependentSchemas",type:"object",schemaType:"object",code:e=>(0,r.validateSchemaDeps)(e)};t.default=i},50076:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(15669),i=n(88936),o={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:e})=>r.str`must match "${e.ifClause}" schema`,params:({params:e})=>r._`{failingKeyword: ${e.ifClause}}`},code(e){const{gen:t,parentSchema:n,it:o}=e;void 0===n.then&&void 0===n.else&&(0,i.checkStrictMode)(o,'"if" without "then" and "else" is ignored');const a=s(o,"then"),c=s(o,"else");if(!a&&!c)return;const u=t.let("valid",!0),l=t.name("_valid");if(function(){const t=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},l);e.mergeEvaluated(t)}(),e.reset(),a&&c){const n=t.let("ifClause");e.setParams({ifClause:n}),t.if(l,h("then",n),h("else",n))}else a?t.if(l,h("then")):t.if((0,r.not)(l),h("else"));function h(n,i){return()=>{const o=e.subschema({keyword:n},l);t.assign(u,l),e.mergeValidEvaluated(o,u),i?t.assign(i,r._`${n}`):e.setParams({ifClause:n})}}e.pass(u,(()=>e.error(!0)))}};function s(e,t){const n=e.schema[t];return void 0!==n&&!(0,i.alwaysValidSchema)(e,n)}t.default=o},46951:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(78891),i=n(21162),o=n(98634),s=n(65151),a=n(95609),c=n(5463),u=n(53021),l=n(24943),h=n(34243),d=n(98103),f=n(72869),p=n(54279),m=n(14880),g=n(22609),v=n(50076),y=n(25316);t.default=function(e=!1){const t=[f.default,p.default,m.default,g.default,v.default,y.default,u.default,l.default,c.default,h.default,d.default];return e?t.push(i.default,s.default):t.push(r.default,o.default),t.push(a.default),t}},98634:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateTuple=void 0;const r=n(15669),i=n(88936),o=n(3499),s={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:n}=e;if(Array.isArray(t))return a(e,"additionalItems",t);n.items=!0,(0,i.alwaysValidSchema)(n,t)||e.ok((0,o.validateArray)(e))}};function a(e,t,n=e.schema){const{gen:o,parentSchema:s,data:a,keyword:c,it:u}=e;!function(e){const{opts:r,errSchemaPath:o}=u,s=n.length,a=s===e.minItems&&(s===e.maxItems||!1===e[t]);if(r.strictTuples&&!a){const e=`"${c}" is ${s}-tuple, but minItems or maxItems/${t} are not specified or different at path "${o}"`;(0,i.checkStrictMode)(u,e,r.strictTuples)}}(s),u.opts.unevaluated&&n.length&&!0!==u.items&&(u.items=i.mergeEvaluated.items(o,n.length,u.items));const l=o.name("valid"),h=o.const("len",r._`${a}.length`);n.forEach(((t,n)=>{(0,i.alwaysValidSchema)(u,t)||(o.if(r._`${h} > ${n}`,(()=>e.subschema({keyword:c,schemaProp:n,dataProp:n},l))),e.ok(l))}))}t.validateTuple=a,t.default=s},65151:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(15669),i=n(88936),o=n(3499),s=n(78891),a={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:e}})=>r.str`must NOT have more than ${e} items`,params:({params:{len:e}})=>r._`{limit: ${e}}`},code(e){const{schema:t,parentSchema:n,it:r}=e,{prefixItems:a}=n;r.items=!0,(0,i.alwaysValidSchema)(r,t)||(a?(0,s.validateAdditionalItems)(e,a):e.ok((0,o.validateArray)(e)))}};t.default=a},72869:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(88936),i={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:n,it:i}=e;if((0,r.alwaysValidSchema)(i,n))return void e.fail();const o=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},o),e.failResult(o,(()=>e.reset()),(()=>e.error()))},error:{message:"must NOT be valid"}};t.default=i},14880:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(15669),i=n(88936),o={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:e})=>r._`{passingSchemas: ${e.passing}}`},code(e){const{gen:t,schema:n,parentSchema:o,it:s}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(s.opts.discriminator&&o.discriminator)return;const a=n,c=t.let("valid",!1),u=t.let("passing",null),l=t.name("_valid");e.setParams({passing:u}),t.block((function(){a.forEach(((n,o)=>{let a;(0,i.alwaysValidSchema)(s,n)?t.var(l,!0):a=e.subschema({keyword:"oneOf",schemaProp:o,compositeRule:!0},l),o>0&&t.if(r._`${l} && ${c}`).assign(c,!1).assign(u,r._`[${u}, ${o}]`).else(),t.if(l,(()=>{t.assign(c,!0),t.assign(u,o),a&&e.mergeEvaluated(a,r.Name)}))}))})),e.result(c,(()=>e.reset()),(()=>e.error(!0)))}};t.default=o},98103:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3499),i=n(15669),o=n(88936),s=n(88936),a={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,data:a,parentSchema:c,it:u}=e,{opts:l}=u,h=(0,r.allSchemaProperties)(n),d=h.filter((e=>(0,o.alwaysValidSchema)(u,n[e])));if(0===h.length||d.length===h.length&&(!u.opts.unevaluated||!0===u.props))return;const f=l.strictSchema&&!l.allowMatchingProperties&&c.properties,p=t.name("valid");!0===u.props||u.props instanceof i.Name||(u.props=(0,s.evaluatedPropsToName)(t,u.props));const{props:m}=u;function g(e){for(const t in f)new RegExp(e).test(t)&&(0,o.checkStrictMode)(u,`property ${t} matches pattern ${e} (use allowMatchingProperties)`)}function v(n){t.forIn("key",a,(o=>{t.if(i._`${(0,r.usePattern)(e,n)}.test(${o})`,(()=>{const r=d.includes(n);r||e.subschema({keyword:"patternProperties",schemaProp:n,dataProp:o,dataPropType:s.Type.Str},p),u.opts.unevaluated&&!0!==m?t.assign(i._`${m}[${o}]`,!0):r||u.allErrors||t.if((0,i.not)(p),(()=>t.break()))}))}))}!function(){for(const e of h)f&&g(e),u.allErrors?v(e):(t.var(p,!0),v(e),t.if(p))}()}};t.default=a},21162:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(98634),i={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,r.validateTuple)(e,"items")};t.default=i},34243:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(91686),i=n(3499),o=n(88936),s=n(24943),a={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,parentSchema:a,data:c,it:u}=e;"all"===u.opts.removeAdditional&&void 0===a.additionalProperties&&s.default.code(new r.KeywordCxt(u,s.default,"additionalProperties"));const l=(0,i.allSchemaProperties)(n);for(const e of l)u.definedProperties.add(e);u.opts.unevaluated&&l.length&&!0!==u.props&&(u.props=o.mergeEvaluated.props(t,(0,o.toHash)(l),u.props));const h=l.filter((e=>!(0,o.alwaysValidSchema)(u,n[e])));if(0===h.length)return;const d=t.name("valid");for(const n of h)f(n)?p(n):(t.if((0,i.propertyInData)(t,c,n,u.opts.ownProperties)),p(n),u.allErrors||t.else().var(d,!0),t.endIf()),e.it.definedProperties.add(n),e.ok(d);function f(e){return u.opts.useDefaults&&!u.compositeRule&&void 0!==n[e].default}function p(t){e.subschema({keyword:"properties",schemaProp:t,dataProp:t},d)}}};t.default=a},53021:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(15669),i=n(88936),o={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:e})=>r._`{propertyName: ${e.propertyName}}`},code(e){const{gen:t,schema:n,data:o,it:s}=e;if((0,i.alwaysValidSchema)(s,n))return;const a=t.name("valid");t.forIn("key",o,(n=>{e.setParams({propertyName:n}),e.subschema({keyword:"propertyNames",data:n,dataTypes:["string"],propertyName:n,compositeRule:!0},a),t.if((0,r.not)(a),(()=>{e.error(!0),s.allErrors||t.break()}))})),e.ok(a)}};t.default=o},25316:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(88936),i={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:n}){void 0===t.if&&(0,r.checkStrictMode)(n,`"${e}" without "if" is ignored`)}};t.default=i},3499:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateUnion=t.validateArray=t.usePattern=t.callValidateCode=t.schemaProperties=t.allSchemaProperties=t.noPropertyInData=t.propertyInData=t.isOwnProperty=t.hasPropFunc=t.reportMissingProp=t.checkMissingProp=t.checkReportMissingProp=void 0;const r=n(15669),i=n(88936),o=n(17250),s=n(88936);function a(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:r._`Object.prototype.hasOwnProperty`})}function c(e,t,n){return r._`${a(e)}.call(${t}, ${n})`}function u(e,t,n,i){const o=r._`${t}${(0,r.getProperty)(n)} === undefined`;return i?(0,r.or)(o,(0,r.not)(c(e,t,n))):o}function l(e){return e?Object.keys(e).filter((e=>"__proto__"!==e)):[]}t.checkReportMissingProp=function(e,t){const{gen:n,data:i,it:o}=e;n.if(u(n,i,t,o.opts.ownProperties),(()=>{e.setParams({missingProperty:r._`${t}`},!0),e.error()}))},t.checkMissingProp=function({gen:e,data:t,it:{opts:n}},i,o){return(0,r.or)(...i.map((i=>(0,r.and)(u(e,t,i,n.ownProperties),r._`${o} = ${i}`))))},t.reportMissingProp=function(e,t){e.setParams({missingProperty:t},!0),e.error()},t.hasPropFunc=a,t.isOwnProperty=c,t.propertyInData=function(e,t,n,i){const o=r._`${t}${(0,r.getProperty)(n)} !== undefined`;return i?r._`${o} && ${c(e,t,n)}`:o},t.noPropertyInData=u,t.allSchemaProperties=l,t.schemaProperties=function(e,t){return l(t).filter((n=>!(0,i.alwaysValidSchema)(e,t[n])))},t.callValidateCode=function({schemaCode:e,data:t,it:{gen:n,topSchemaRef:i,schemaPath:s,errorPath:a},it:c},u,l,h){const d=h?r._`${e}, ${t}, ${i}${s}`:t,f=[[o.default.instancePath,(0,r.strConcat)(o.default.instancePath,a)],[o.default.parentData,c.parentData],[o.default.parentDataProperty,c.parentDataProperty],[o.default.rootData,o.default.rootData]];c.opts.dynamicRef&&f.push([o.default.dynamicAnchors,o.default.dynamicAnchors]);const p=r._`${d}, ${n.object(...f)}`;return l!==r.nil?r._`${u}.call(${l}, ${p})`:r._`${u}(${p})`};const h=r._`new RegExp`;t.usePattern=function({gen:e,it:{opts:t}},n){const i=t.unicodeRegExp?"u":"",{regExp:o}=t.code,a=o(n,i);return e.scopeValue("pattern",{key:a.toString(),ref:a,code:r._`${"new RegExp"===o.code?h:(0,s.useFunc)(e,o)}(${n}, ${i})`})},t.validateArray=function(e){const{gen:t,data:n,keyword:o,it:s}=e,a=t.name("valid");if(s.allErrors){const e=t.let("valid",!0);return c((()=>t.assign(e,!1))),e}return t.var(a,!0),c((()=>t.break())),a;function c(s){const c=t.const("len",r._`${n}.length`);t.forRange("i",0,c,(n=>{e.subschema({keyword:o,dataProp:n,dataPropType:i.Type.Num},a),t.if((0,r.not)(a),s)}))}},t.validateUnion=function(e){const{gen:t,schema:n,keyword:o,it:s}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(n.some((e=>(0,i.alwaysValidSchema)(s,e)))&&!s.opts.unevaluated)return;const a=t.let("valid",!1),c=t.name("_valid");t.block((()=>n.forEach(((n,i)=>{const s=e.subschema({keyword:o,schemaProp:i,compositeRule:!0},c);t.assign(a,r._`${a} || ${c}`),e.mergeValidEvaluated(s,c)||t.if((0,r.not)(a))})))),e.result(a,(()=>e.reset()),(()=>e.error(!0)))}},71018:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};t.default=n},32101:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(71018),i=n(41939),o=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",r.default,i.default];t.default=o},41939:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.callRef=t.getValidate=void 0;const r=n(91578),i=n(3499),o=n(15669),s=n(17250),a=n(87382),c=n(88936),u={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:n,it:i}=e,{baseId:s,schemaEnv:c,validateName:u,opts:d,self:f}=i,{root:p}=c;if(("#"===n||"#/"===n)&&s===p.baseId)return function(){if(c===p)return h(e,u,c,c.$async);const n=t.scopeValue("root",{ref:p});return h(e,o._`${n}.validate`,p,p.$async)}();const m=a.resolveRef.call(f,p,s,n);if(void 0===m)throw new r.default(i.opts.uriResolver,s,n);return m instanceof a.SchemaEnv?function(t){const n=l(e,t);h(e,n,t,t.$async)}(m):function(r){const i=t.scopeValue("schema",!0===d.code.source?{ref:r,code:(0,o.stringify)(r)}:{ref:r}),s=t.name("valid"),a=e.subschema({schema:r,dataTypes:[],schemaPath:o.nil,topSchemaRef:i,errSchemaPath:n},s);e.mergeEvaluated(a),e.ok(s)}(m)}};function l(e,t){const{gen:n}=e;return t.validate?n.scopeValue("validate",{ref:t.validate}):o._`${n.scopeValue("wrapper",{ref:t})}.validate`}function h(e,t,n,r){const{gen:a,it:u}=e,{allErrors:l,schemaEnv:h,opts:d}=u,f=d.passContext?s.default.this:o.nil;function p(e){const t=o._`${e}.errors`;a.assign(s.default.vErrors,o._`${s.default.vErrors} === null ? ${t} : ${s.default.vErrors}.concat(${t})`),a.assign(s.default.errors,o._`${s.default.vErrors}.length`)}function m(e){var t;if(!u.opts.unevaluated)return;const r=null===(t=null==n?void 0:n.validate)||void 0===t?void 0:t.evaluated;if(!0!==u.props)if(r&&!r.dynamicProps)void 0!==r.props&&(u.props=c.mergeEvaluated.props(a,r.props,u.props));else{const t=a.var("props",o._`${e}.evaluated.props`);u.props=c.mergeEvaluated.props(a,t,u.props,o.Name)}if(!0!==u.items)if(r&&!r.dynamicItems)void 0!==r.items&&(u.items=c.mergeEvaluated.items(a,r.items,u.items));else{const t=a.var("items",o._`${e}.evaluated.items`);u.items=c.mergeEvaluated.items(a,t,u.items,o.Name)}}r?function(){if(!h.$async)throw new Error("async schema referenced by sync schema");const n=a.let("valid");a.try((()=>{a.code(o._`await ${(0,i.callValidateCode)(e,t,f)}`),m(t),l||a.assign(n,!0)}),(e=>{a.if(o._`!(${e} instanceof ${u.ValidationError})`,(()=>a.throw(e))),p(e),l||a.assign(n,!1)})),e.ok(n)}():e.result((0,i.callValidateCode)(e,t,f),(()=>m(t)),(()=>p(t)))}t.getValidate=l,t.callRef=h,t.default=u},30002:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(15669),i=n(77421),o=n(87382),s=n(88936),a={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:e,tagName:t}})=>e===i.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:n}})=>r._`{error: ${e}, tag: ${n}, tagValue: ${t}}`},code(e){const{gen:t,data:n,schema:a,parentSchema:c,it:u}=e,{oneOf:l}=c;if(!u.opts.discriminator)throw new Error("discriminator: requires discriminator option");const h=a.propertyName;if("string"!=typeof h)throw new Error("discriminator: requires propertyName");if(a.mapping)throw new Error("discriminator: mapping is not supported");if(!l)throw new Error("discriminator: requires oneOf keyword");const d=t.let("valid",!1),f=t.const("tag",r._`${n}${(0,r.getProperty)(h)}`);function p(n){const i=t.name("valid"),o=e.subschema({keyword:"oneOf",schemaProp:n},i);return e.mergeEvaluated(o,r.Name),i}t.if(r._`typeof ${f} == "string"`,(()=>function(){const n=function(){var e;const t={},n=i(c);let r=!0;for(let t=0;t<l.length;t++){let c=l[t];(null==c?void 0:c.$ref)&&!(0,s.schemaHasRulesButRef)(c,u.self.RULES)&&(c=o.resolveRef.call(u.self,u.schemaEnv.root,u.baseId,null==c?void 0:c.$ref),c instanceof o.SchemaEnv&&(c=c.schema));const d=null===(e=null==c?void 0:c.properties)||void 0===e?void 0:e[h];if("object"!=typeof d)throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${h}"`);r=r&&(n||i(c)),a(d,t)}if(!r)throw new Error(`discriminator: "${h}" must be required`);return t;function i({required:e}){return Array.isArray(e)&&e.includes(h)}function a(e,t){if(e.const)d(e.const,t);else{if(!e.enum)throw new Error(`discriminator: "properties/${h}" must have "const" or "enum"`);for(const n of e.enum)d(n,t)}}function d(e,n){if("string"!=typeof e||e in t)throw new Error(`discriminator: "${h}" values must be unique strings`);t[e]=n}}();t.if(!1);for(const e in n)t.elseIf(r._`${f} === ${e}`),t.assign(d,p(n[e]));t.else(),e.error(!1,{discrError:i.DiscrError.Mapping,tag:f,tagName:h}),t.endIf()}()),(()=>e.error(!1,{discrError:i.DiscrError.Tag,tag:f,tagName:h}))),e.ok(d)}};t.default=a},77421:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.DiscrError=void 0,(n=t.DiscrError||(t.DiscrError={})).Tag="tag",n.Mapping="mapping"},35671:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(32101),i=n(37499),o=n(46951),s=n(4480),a=n(32480),c=[r.default,i.default,(0,o.default)(),s.default,a.metadataVocabulary,a.contentVocabulary];t.default=c},1876:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dynamicAnchor=void 0;const r=n(15669),i=n(17250),o=n(87382),s=n(41939),a={keyword:"$dynamicAnchor",schemaType:"string",code:e=>c(e,e.schema)};function c(e,t){const{gen:n,it:a}=e;a.schemaEnv.root.dynamicAnchors[t]=!0;const c=r._`${i.default.dynamicAnchors}${(0,r.getProperty)(t)}`,u="#"===a.errSchemaPath?a.validateName:function(e){const{schemaEnv:t,schema:n,self:r}=e.it,{root:i,baseId:a,localRefs:c,meta:u}=t.root,{schemaId:l}=r.opts,h=new o.SchemaEnv({schema:n,schemaId:l,root:i,baseId:a,localRefs:c,meta:u});return o.compileSchema.call(r,h),(0,s.getValidate)(e,h)}(e);n.if(r._`!${c}`,(()=>n.assign(c,u)))}t.dynamicAnchor=c,t.default=a},90615:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dynamicRef=void 0;const r=n(15669),i=n(17250),o=n(41939),s={keyword:"$dynamicRef",schemaType:"string",code:e=>a(e,e.schema)};function a(e,t){const{gen:n,keyword:s,it:a}=e;if("#"!==t[0])throw new Error(`"${s}" only supports hash fragment reference`);const c=t.slice(1);if(a.allErrors)u();else{const t=n.let("valid",!1);u(t),e.ok(t)}function u(e){if(a.schemaEnv.root.dynamicAnchors[c]){const t=n.let("_v",r._`${i.default.dynamicAnchors}${(0,r.getProperty)(c)}`);n.if(t,l(t,e),l(a.validateName,e))}else l(a.validateName,e)()}function l(t,r){return r?()=>n.block((()=>{(0,o.callRef)(e,t),n.let(r,!0)})):()=>(0,o.callRef)(e,t)}}t.dynamicRef=a,t.default=s},37250:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1876),i=n(90615),o=n(77025),s=n(66655),a=[r.default,i.default,o.default,s.default];t.default=a},77025:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1876),i=n(88936),o={keyword:"$recursiveAnchor",schemaType:"boolean",code(e){e.schema?(0,r.dynamicAnchor)(e,""):(0,i.checkStrictMode)(e.it,"$recursiveAnchor: false is ignored")}};t.default=o},66655:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(90615),i={keyword:"$recursiveRef",schemaType:"string",code:e=>(0,r.dynamicRef)(e,e.schema)};t.default=i},73599:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(15669),i={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>r.str`must match format "${e}"`,params:({schemaCode:e})=>r._`{format: ${e}}`},code(e,t){const{gen:n,data:i,$data:o,schema:s,schemaCode:a,it:c}=e,{opts:u,errSchemaPath:l,schemaEnv:h,self:d}=c;u.validateFormats&&(o?function(){const o=n.scopeValue("formats",{ref:d.formats,code:u.code.formats}),s=n.const("fDef",r._`${o}[${a}]`),c=n.let("fType"),l=n.let("format");n.if(r._`typeof ${s} == "object" && !(${s} instanceof RegExp)`,(()=>n.assign(c,r._`${s}.type || "string"`).assign(l,r._`${s}.validate`)),(()=>n.assign(c,r._`"string"`).assign(l,s))),e.fail$data((0,r.or)(!1===u.strictSchema?r.nil:r._`${a} && !${l}`,function(){const e=h.$async?r._`(${s}.async ? await ${l}(${i}) : ${l}(${i}))`:r._`${l}(${i})`,n=r._`(typeof ${l} == "function" ? ${e} : ${l}.test(${i}))`;return r._`${l} && ${l} !== true && ${c} === ${t} && !${n}`}()))}():function(){const o=d.formats[s];if(!o)return void function(){if(!1!==u.strictSchema)throw new Error(e());function e(){return`unknown format "${s}" ignored in schema at path "${l}"`}d.logger.warn(e())}();if(!0===o)return;const[a,c,f]=function(e){const t=e instanceof RegExp?(0,r.regexpCode)(e):u.code.formats?r._`${u.code.formats}${(0,r.getProperty)(s)}`:void 0,i=n.scopeValue("formats",{key:s,ref:e,code:t});return"object"!=typeof e||e instanceof RegExp?["string",e,i]:[e.type||"string",e.validate,r._`${i}.validate`]}(o);a===t&&e.pass(function(){if("object"==typeof o&&!(o instanceof RegExp)&&o.async){if(!h.$async)throw new Error("async format in sync schema");return r._`await ${f}(${i})`}return"function"==typeof c?r._`${f}(${i})`:r._`${f}.test(${i})`}())}())}};t.default=i},4480:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=[n(73599).default];t.default=r},32480:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.contentVocabulary=t.metadataVocabulary=void 0,t.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],t.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},96015:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(51469),i=n(18850),o=n(19869),s=[r.default,i.default,o.default];t.default=s},9774:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(95214),i=n(97098),o=[r.default,i.default];t.default=o},97098:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(15669),i=n(88936),o={keyword:"unevaluatedItems",type:"array",schemaType:["boolean","object"],error:{message:({params:{len:e}})=>r.str`must NOT have more than ${e} items`,params:({params:{len:e}})=>r._`{limit: ${e}}`},code(e){const{gen:t,schema:n,data:o,it:s}=e,a=s.items||0;if(!0===a)return;const c=t.const("len",r._`${o}.length`);if(!1===n)e.setParams({len:a}),e.fail(r._`${c} > ${a}`);else if("object"==typeof n&&!(0,i.alwaysValidSchema)(s,n)){const n=t.var("valid",r._`${c} <= ${a}`);t.if((0,r.not)(n),(()=>function(n,o){t.forRange("i",o,c,(o=>{e.subschema({keyword:"unevaluatedItems",dataProp:o,dataPropType:i.Type.Num},n),s.allErrors||t.if((0,r.not)(n),(()=>t.break()))}))}(n,a))),e.ok(n)}s.items=!0}};t.default=o},95214:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(15669),i=n(88936),o=n(17250),s={keyword:"unevaluatedProperties",type:"object",schemaType:["boolean","object"],trackErrors:!0,error:{message:"must NOT have unevaluated properties",params:({params:e})=>r._`{unevaluatedProperty: ${e.unevaluatedProperty}}`},code(e){const{gen:t,schema:n,data:s,errsCount:a,it:c}=e;if(!a)throw new Error("ajv implementation error");const{allErrors:u,props:l}=c;function h(o){if(!1===n)return e.setParams({unevaluatedProperty:o}),e.error(),void(u||t.break());if(!(0,i.alwaysValidSchema)(c,n)){const n=t.name("valid");e.subschema({keyword:"unevaluatedProperties",dataProp:o,dataPropType:i.Type.Str},n),u||t.if((0,r.not)(n),(()=>t.break()))}}l instanceof r.Name?t.if(r._`${l} !== true`,(()=>t.forIn("key",s,(e=>t.if(function(e,t){return r._`!${e} || !${e}[${t}]`}(l,e),(()=>h(e))))))):!0!==l&&t.forIn("key",s,(e=>void 0===l?h(e):t.if(function(e,t){const n=[];for(const i in e)!0===e[i]&&n.push(r._`${t} !== ${i}`);return(0,r.and)(...n)}(l,e),(()=>h(e))))),c.props=!0,e.ok(r._`${a} === ${o.default.errors}`)}};t.default=s},36577:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(15669),i=n(88936),o=n(94285),s={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:e})=>r._`{allowedValue: ${e}}`},code(e){const{gen:t,data:n,$data:s,schemaCode:a,schema:c}=e;s||c&&"object"==typeof c?e.fail$data(r._`!${(0,i.useFunc)(t,o.default)}(${n}, ${a})`):e.fail(r._`${c} !== ${n}`)}};t.default=s},51469:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(5463),i={keyword:"dependentRequired",type:"object",schemaType:"object",error:r.error,code:e=>(0,r.validatePropertyDeps)(e)};t.default=i},59450:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(15669),i=n(88936),o=n(94285),s={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:e})=>r._`{allowedValues: ${e}}`},code(e){const{gen:t,data:n,$data:s,schema:a,schemaCode:c,it:u}=e;if(!s&&0===a.length)throw new Error("enum must have non-empty array");const l=a.length>=u.opts.loopEnum;let h;const d=()=>null!=h?h:h=(0,i.useFunc)(t,o.default);let f;if(l||s)f=t.let("valid"),e.block$data(f,(function(){t.assign(f,!1),t.forOf("v",c,(e=>t.if(r._`${d()}(${n}, ${e})`,(()=>t.assign(f,!0).break()))))}));else{if(!Array.isArray(a))throw new Error("ajv implementation error");const e=t.const("vSchema",c);f=(0,r.or)(...a.map(((t,i)=>function(e,t){const i=a[t];return"object"==typeof i&&null!==i?r._`${d()}(${n}, ${e}[${t}])`:r._`${n} === ${i}`}(e,i))))}e.pass(f)}};t.default=s},37499:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(31337),i=n(59706),o=n(99507),s=n(51216),a=n(70034),c=n(96962),u=n(61135),l=n(10194),h=n(36577),d=n(59450),f=[r.default,i.default,o.default,s.default,a.default,c.default,u.default,l.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},h.default,d.default];t.default=f},19869:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(88936),i={keyword:["maxContains","minContains"],type:"array",schemaType:"number",code({keyword:e,parentSchema:t,it:n}){void 0===t.contains&&(0,r.checkStrictMode)(n,`"${e}" without "contains" is ignored`)}};t.default=i},61135:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(15669),i={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const n="maxItems"===e?"more":"fewer";return r.str`must NOT have ${n} than ${t} items`},params:({schemaCode:e})=>r._`{limit: ${e}}`},code(e){const{keyword:t,data:n,schemaCode:i}=e,o="maxItems"===t?r.operators.GT:r.operators.LT;e.fail$data(r._`${n}.length ${o} ${i}`)}};t.default=i},99507:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(15669),i=n(88936),o=n(49161),s={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const n="maxLength"===e?"more":"fewer";return r.str`must NOT have ${n} than ${t} characters`},params:({schemaCode:e})=>r._`{limit: ${e}}`},code(e){const{keyword:t,data:n,schemaCode:s,it:a}=e,c="maxLength"===t?r.operators.GT:r.operators.LT,u=!1===a.opts.unicode?r._`${n}.length`:r._`${(0,i.useFunc)(e.gen,o.default)}(${n})`;e.fail$data(r._`${u} ${c} ${s}`)}};t.default=s},31337:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(15669),i=r.operators,o={maximum:{okStr:"<=",ok:i.LTE,fail:i.GT},minimum:{okStr:">=",ok:i.GTE,fail:i.LT},exclusiveMaximum:{okStr:"<",ok:i.LT,fail:i.GTE},exclusiveMinimum:{okStr:">",ok:i.GT,fail:i.LTE}},s={message:({keyword:e,schemaCode:t})=>r.str`must be ${o[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>r._`{comparison: ${o[e].okStr}, limit: ${t}}`},a={keyword:Object.keys(o),type:"number",schemaType:"number",$data:!0,error:s,code(e){const{keyword:t,data:n,schemaCode:i}=e;e.fail$data(r._`${n} ${o[t].fail} ${i} || isNaN(${n})`)}};t.default=a},70034:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(15669),i={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const n="maxProperties"===e?"more":"fewer";return r.str`must NOT have ${n} than ${t} properties`},params:({schemaCode:e})=>r._`{limit: ${e}}`},code(e){const{keyword:t,data:n,schemaCode:i}=e,o="maxProperties"===t?r.operators.GT:r.operators.LT;e.fail$data(r._`Object.keys(${n}).length ${o} ${i}`)}};t.default=i},59706:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(15669),i={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:e})=>r.str`must be multiple of ${e}`,params:({schemaCode:e})=>r._`{multipleOf: ${e}}`},code(e){const{gen:t,data:n,schemaCode:i,it:o}=e,s=o.opts.multipleOfPrecision,a=t.let("res"),c=s?r._`Math.abs(Math.round(${a}) - ${a}) > 1e-${s}`:r._`${a} !== parseInt(${a})`;e.fail$data(r._`(${i} === 0 || (${a} = ${n}/${i}, ${c}))`)}};t.default=i},51216:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3499),i=n(15669),o={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>i.str`must match pattern "${e}"`,params:({schemaCode:e})=>i._`{pattern: ${e}}`},code(e){const{data:t,$data:n,schema:o,schemaCode:s,it:a}=e,c=a.opts.unicodeRegExp?"u":"",u=n?i._`(new RegExp(${s}, ${c}))`:(0,r.usePattern)(e,o);e.fail$data(i._`!${u}.test(${t})`)}};t.default=o},96962:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3499),i=n(15669),o=n(88936),s={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:e}})=>i.str`must have required property '${e}'`,params:({params:{missingProperty:e}})=>i._`{missingProperty: ${e}}`},code(e){const{gen:t,schema:n,schemaCode:s,data:a,$data:c,it:u}=e,{opts:l}=u;if(!c&&0===n.length)return;const h=n.length>=l.loopRequired;if(u.allErrors?function(){if(h||c)e.block$data(i.nil,d);else for(const t of n)(0,r.checkReportMissingProp)(e,t)}():function(){const o=t.let("missing");if(h||c){const n=t.let("valid",!0);e.block$data(n,(()=>function(n,o){e.setParams({missingProperty:n}),t.forOf(n,s,(()=>{t.assign(o,(0,r.propertyInData)(t,a,n,l.ownProperties)),t.if((0,i.not)(o),(()=>{e.error(),t.break()}))}),i.nil)}(o,n))),e.ok(n)}else t.if((0,r.checkMissingProp)(e,n,o)),(0,r.reportMissingProp)(e,o),t.else()}(),l.strictRequired){const t=e.parentSchema.properties,{definedProperties:r}=e.it;for(const e of n)if(void 0===(null==t?void 0:t[e])&&!r.has(e)){const t=`required property "${e}" is not defined at "${u.schemaEnv.baseId+u.errSchemaPath}" (strictRequired)`;(0,o.checkStrictMode)(u,t,u.opts.strictRequired)}}function d(){t.forOf("prop",s,(n=>{e.setParams({missingProperty:n}),t.if((0,r.noPropertyInData)(t,a,n,l.ownProperties),(()=>e.error()))}))}}};t.default=s},10194:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(97332),i=n(15669),o=n(88936),s=n(94285),a={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:e,j:t}})=>i.str`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>i._`{i: ${e}, j: ${t}}`},code(e){const{gen:t,data:n,$data:a,schema:c,parentSchema:u,schemaCode:l,it:h}=e;if(!a&&!c)return;const d=t.let("valid"),f=u.items?(0,r.getSchemaTypes)(u.items):[];function p(o,s){const a=t.name("item"),c=(0,r.checkDataTypes)(f,a,h.opts.strictNumbers,r.DataType.Wrong),u=t.const("indices",i._`{}`);t.for(i._`;${o}--;`,(()=>{t.let(a,i._`${n}[${o}]`),t.if(c,i._`continue`),f.length>1&&t.if(i._`typeof ${a} == "string"`,i._`${a} += "_"`),t.if(i._`typeof ${u}[${a}] == "number"`,(()=>{t.assign(s,i._`${u}[${a}]`),e.error(),t.assign(d,!1).break()})).code(i._`${u}[${a}] = ${o}`)}))}function m(r,a){const c=(0,o.useFunc)(t,s.default),u=t.name("outer");t.label(u).for(i._`;${r}--;`,(()=>t.for(i._`${a} = ${r}; ${a}--;`,(()=>t.if(i._`${c}(${n}[${r}], ${n}[${a}])`,(()=>{e.error(),t.assign(d,!1).break(u)}))))))}e.block$data(d,(function(){const r=t.let("i",i._`${n}.length`),o=t.let("j");e.setParams({i:r,j:o}),t.assign(d,!0),t.if(i._`${r} > 1`,(()=>(f.length>0&&!f.some((e=>"object"===e||"array"===e))?p:m)(r,o)))}),i._`${l} === false`),e.ok(d)}};t.default=a},14206:(e,t,n)=>{e.exports=n(8057)},14387:(e,t,n)=>{"use strict";var r=n(67485),i=n(94570),o=n(12940),s=n(60581),a=n(30574),c=n(53845),u=n(38338),l=n(68524),h=n(73141),d=n(37132);e.exports=function(e){return new Promise((function(t,n){var f,p=e.data,m=e.headers,g=e.responseType;function v(){e.cancelToken&&e.cancelToken.unsubscribe(f),e.signal&&e.signal.removeEventListener("abort",f)}r.isFormData(p)&&delete m["Content-Type"];var y=new XMLHttpRequest;if(e.auth){var b=e.auth.username||"",w=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";m.Authorization="Basic "+btoa(b+":"+w)}var S=a(e.baseURL,e.url);function _(){if(y){var r="getAllResponseHeaders"in y?c(y.getAllResponseHeaders()):null,o={data:g&&"text"!==g&&"json"!==g?y.response:y.responseText,status:y.status,statusText:y.statusText,headers:r,config:e,request:y};i((function(e){t(e),v()}),(function(e){n(e),v()}),o),y=null}}if(y.open(e.method.toUpperCase(),s(S,e.params,e.paramsSerializer),!0),y.timeout=e.timeout,"onloadend"in y?y.onloadend=_:y.onreadystatechange=function(){y&&4===y.readyState&&(0!==y.status||y.responseURL&&0===y.responseURL.indexOf("file:"))&&setTimeout(_)},y.onabort=function(){y&&(n(l("Request aborted",e,"ECONNABORTED",y)),y=null)},y.onerror=function(){n(l("Network Error",e,null,y)),y=null},y.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||h.transitional;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(l(t,e,r.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",y)),y=null},r.isStandardBrowserEnv()){var x=(e.withCredentials||u(S))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;x&&(m[e.xsrfHeaderName]=x)}"setRequestHeader"in y&&r.forEach(m,(function(e,t){void 0===p&&"content-type"===t.toLowerCase()?delete m[t]:y.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(y.withCredentials=!!e.withCredentials),g&&"json"!==g&&(y.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&y.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&y.upload&&y.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(f=function(e){y&&(n(!e||e&&e.type?new d("canceled"):e),y.abort(),y=null)},e.cancelToken&&e.cancelToken.subscribe(f),e.signal&&(e.signal.aborted?f():e.signal.addEventListener("abort",f))),p||(p=null),y.send(p)}))}},8057:(e,t,n)=>{"use strict";var r=n(67485),i=n(875),o=n(25029),s=n(44941),a=function e(t){var n=new o(t),a=i(o.prototype.request,n);return r.extend(a,o.prototype,n),r.extend(a,n),a.create=function(n){return e(s(t,n))},a}(n(73141));a.Axios=o,a.Cancel=n(37132),a.CancelToken=n(34603),a.isCancel=n(21475),a.VERSION=n(73345).version,a.all=function(e){return Promise.all(e)},a.spread=n(35739),a.isAxiosError=n(35835),e.exports=a,e.exports.default=a},37132:e=>{"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},34603:(e,t,n)=>{"use strict";var r=n(37132);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},i.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},21475:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},25029:(e,t,n)=>{"use strict";var r=n(67485),i=n(60581),o=n(68096),s=n(55009),a=n(44941),c=n(36144),u=c.validators;function l(e){this.defaults=e,this.interceptors={request:new o,response:new o}}l.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=a(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&c.assertOptions(t,{silentJSONParsing:u.transitional(u.boolean),forcedJSONParsing:u.transitional(u.boolean),clarifyTimeoutError:u.transitional(u.boolean)},!1);var n=[],r=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(r=r&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var i,o=[];if(this.interceptors.response.forEach((function(e){o.push(e.fulfilled,e.rejected)})),!r){var l=[s,void 0];for(Array.prototype.unshift.apply(l,n),l=l.concat(o),i=Promise.resolve(e);l.length;)i=i.then(l.shift(),l.shift());return i}for(var h=e;n.length;){var d=n.shift(),f=n.shift();try{h=d(h)}catch(e){f(e);break}}try{i=s(h)}catch(e){return Promise.reject(e)}for(;o.length;)i=i.then(o.shift(),o.shift());return i},l.prototype.getUri=function(e){return e=a(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,n){return this.request(a(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,n,r){return this.request(a(r||{},{method:e,url:t,data:n}))}})),e.exports=l},68096:(e,t,n)=>{"use strict";var r=n(67485);function i(){this.handlers=[]}i.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},30574:(e,t,n)=>{"use strict";var r=n(32642),i=n(72288);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},68524:(e,t,n)=>{"use strict";var r=n(69953);e.exports=function(e,t,n,i,o){var s=new Error(e);return r(s,t,n,i,o)}},55009:(e,t,n)=>{"use strict";var r=n(67485),i=n(9212),o=n(21475),s=n(73141),a=n(37132);function c(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new a("canceled")}e.exports=function(e){return c(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||s.adapter)(e).then((function(t){return c(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(c(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},69953:e=>{"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},44941:(e,t,n)=>{"use strict";var r=n(67485);e.exports=function(e,t){t=t||{};var n={};function i(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function o(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(e[n],t[n])}function s(e){if(!r.isUndefined(t[e]))return i(void 0,t[e])}function a(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(void 0,t[n])}function c(n){return n in t?i(e[n],t[n]):n in e?i(void 0,e[n]):void 0}var u={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=u[e]||o,i=t(e);r.isUndefined(i)&&t!==c||(n[e]=i)})),n}},94570:(e,t,n)=>{"use strict";var r=n(68524);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},9212:(e,t,n)=>{"use strict";var r=n(67485),i=n(73141);e.exports=function(e,t,n){var o=this||i;return r.forEach(n,(function(n){e=n.call(o,e,t)})),e}},73141:(e,t,n)=>{"use strict";var r=n(67485),i=n(51446),o=n(69953),s={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var c,u={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(c=n(14387)),c),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)||t&&"application/json"===t["Content-Type"]?(a(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(0,JSON.parse)(e),r.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||u.transitional,n=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,s=!n&&"json"===this.responseType;if(s||i&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(s){if("SyntaxError"===e.name)throw o(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){u.headers[e]=r.merge(s)})),e.exports=u},73345:e=>{e.exports={version:"0.24.0"}},875:e=>{"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},60581:(e,t,n)=>{"use strict";var r=n(67485);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var s=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),s.push(i(t)+"="+i(e))})))})),o=s.join("&")}if(o){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},72288:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},12940:(e,t,n)=>{"use strict";var r=n(67485);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,o,s){var a=[];a.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(i)&&a.push("path="+i),r.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},32642:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},35835:e=>{"use strict";e.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}},38338:(e,t,n)=>{"use strict";var r=n(67485);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},51446:(e,t,n)=>{"use strict";var r=n(67485);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},53845:(e,t,n)=>{"use strict";var r=n(67485),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,s={};return e?(r.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(s[t]&&i.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([n]):s[t]?s[t]+", "+n:n}})),s):s}},35739:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},36144:(e,t,n)=>{"use strict";var r=n(73345).version,i={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){i[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var o={};i.transitional=function(e,t,n){function i(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,s){if(!1===e)throw new Error(i(r," has been removed"+(t?" in "+t:"")));return t&&!o[r]&&(o[r]=!0,console.warn(i(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,s)}},e.exports={assertOptions:function(e,t,n){if("object"!=typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),i=r.length;i-- >0;){var o=r[i],s=t[o];if(s){var a=e[o],c=void 0===a||s(a,o,e);if(!0!==c)throw new TypeError("option "+o+" must be "+c)}else if(!0!==n)throw Error("Unknown option "+o)}},validators:i}},67485:(e,t,n)=>{"use strict";var r=n(875),i=Object.prototype.toString;function o(e){return"[object Array]"===i.call(e)}function s(e){return void 0===e}function a(e){return null!==e&&"object"==typeof e}function c(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function u(e){return"[object Function]"===i.call(e)}function l(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),o(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:o,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:function(e){return null!==e&&!s(e)&&null!==e.constructor&&!s(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:a,isPlainObject:c,isUndefined:s,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:u,isStream:function(e){return a(e)&&u(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:l,merge:function e(){var t={};function n(n,r){c(t[r])&&c(n)?t[r]=e(t[r],n):c(n)?t[r]=e({},n):o(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)l(arguments[r],n);return t},extend:function(e,t,n){return l(t,(function(t,i){e[i]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},24782:(e,t)=>{"use strict";t.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,o=c(e),s=o[0],a=o[1],u=new i(function(e,t,n){return 3*(t+n)/4-n}(0,s,a)),l=0,h=a>0?s-4:s;for(n=0;n<h;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;return 2===a&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,u[l++]=255&t),1===a&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t),u},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],s=16383,a=0,c=r-i;a<c;a+=s)o.push(u(e,a,a+s>c?c:a+s));return 1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),o.join("")};for(var n=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=o.length;s<a;++s)n[s]=o[s],r[o.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e,t,r){for(var i,o,s=[],a=t;a<r;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},23630:function(e){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=90)}({17:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(18),i=function(){function e(){}return e.getFirstMatch=function(e,t){var n=t.match(e);return n&&n.length>0&&n[1]||""},e.getSecondMatch=function(e,t){var n=t.match(e);return n&&n.length>1&&n[2]||""},e.matchAndReturnConst=function(e,t,n){if(e.test(t))return n},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,n,r){void 0===r&&(r=!1);var i=e.getVersionPrecision(t),o=e.getVersionPrecision(n),s=Math.max(i,o),a=0,c=e.map([t,n],(function(t){var n=s-e.getVersionPrecision(t),r=t+new Array(n+1).join(".0");return e.map(r.split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));for(r&&(a=s-Math.min(i,o)),s-=1;s>=a;){if(c[0][s]>c[1][s])return 1;if(c[0][s]===c[1][s]){if(s===a)return 0;s-=1}else if(c[0][s]<c[1][s])return-1}},e.map=function(e,t){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n+=1)r.push(t(e[n]));return r},e.find=function(e,t){var n,r;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(n=0,r=e.length;n<r;n+=1){var i=e[n];if(t(i,n))return i}},e.assign=function(e){for(var t,n,r=e,i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];if(Object.assign)return Object.assign.apply(Object,[e].concat(o));var a=function(){var e=o[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){r[t]=e[t]}))};for(t=0,n=o.length;t<n;t+=1)a();return e},e.getBrowserAlias=function(e){return r.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return r.BROWSER_MAP[e]||""},e}();t.default=i,e.exports=t.default},18:function(e,t,n){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(91))&&r.__esModule?r:{default:r},o=n(18);function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(){}var t,n;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new i.default(e,t)},e.parse=function(e){return new i.default(e).getResult()},t=e,n=[{key:"BROWSER_MAP",get:function(){return o.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return o.ENGINE_MAP}},{key:"OS_MAP",get:function(){return o.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return o.PLATFORMS_MAP}}],null&&s(t.prototype,null),n&&s(t,n),e}();t.default=a,e.exports=t.default},91:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=c(n(92)),i=c(n(93)),o=c(n(94)),s=c(n(95)),a=c(n(17));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=a.default.find(r.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=a.default.find(i.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=a.default.find(o.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=a.default.find(s.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return a.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,n={},r=0,i={},o=0;if(Object.keys(e).forEach((function(t){var s=e[t];"string"==typeof s?(i[t]=s,o+=1):"object"==typeof s&&(n[t]=s,r+=1)})),r>0){var s=Object.keys(n),c=a.default.find(s,(function(e){return t.isOS(e)}));if(c){var u=this.satisfies(n[c]);if(void 0!==u)return u}var l=a.default.find(s,(function(e){return t.isPlatform(e)}));if(l){var h=this.satisfies(n[l]);if(void 0!==h)return h}}if(o>0){var d=Object.keys(i),f=a.default.find(d,(function(e){return t.isBrowser(e,!0)}));if(void 0!==f)return this.compareVersion(i[f])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var n=this.getBrowserName().toLowerCase(),r=e.toLowerCase(),i=a.default.getBrowserTypeByAlias(r);return t&&i&&(r=i.toLowerCase()),r===n},t.compareVersion=function(e){var t=[0],n=e,r=!1,i=this.getBrowserVersion();if("string"==typeof i)return">"===e[0]||"<"===e[0]?(n=e.substr(1),"="===e[1]?(r=!0,n=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?n=e.substr(1):"~"===e[0]&&(r=!0,n=e.substr(1)),t.indexOf(a.default.compareVersions(i,n,r))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=u,e.exports=t.default},92:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=/version\/(\d+(\.?_?\d+)+)/i,s=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},n=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},n=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},n=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},n=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},n=i.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},n=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},n=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},n=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},n=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},n=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},n=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},n=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},n=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},n=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},n=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},n=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},n=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},n=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},n=i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},n=i.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},n=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},n=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},n=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t={name:"Android Browser"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(t,e),version:i.default.getSecondMatch(t,e)}}}];t.default=s,e.exports=t.default},93:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),s=[{test:[/Roku\/DVP/],describe:function(e){var t=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:o.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=i.default.getWindowsVersionName(t);return{name:o.OS_MAP.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:o.OS_MAP.iOS},n=i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe:function(e){var t=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=i.default.getMacOSVersionName(t),r={name:o.OS_MAP.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:o.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=i.default.getAndroidVersionName(t),r={name:o.OS_MAP.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:o.OS_MAP.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||i.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:o.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:o.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:o.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.PlayStation4,version:t}}}];t.default=s,e.exports=t.default},94:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),s=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=i.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:o.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe:function(e){var t=i.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:o.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}}];t.default=s,e.exports=t.default},95:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),s=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:o.ENGINE_MAP.Blink};var t=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:o.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:o.ENGINE_MAP.Trident},n=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:o.ENGINE_MAP.Presto},n=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe:function(e){var t={name:o.ENGINE_MAP.Gecko},n=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:o.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:o.ENGINE_MAP.WebKit},n=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];t.default=s,e.exports=t.default}})},45089:(e,t,n)=>{"use strict";var r=n(90930),i=n(9268),o=TypeError;e.exports=function(e){if(r(e))return e;throw o(i(e)+" is not a function")}},81378:(e,t,n)=>{"use strict";var r=n(90930),i=String,o=TypeError;e.exports=function(e){if("object"==typeof e||r(e))return e;throw o("Can't set "+i(e)+" as a prototype")}},51855:(e,t,n)=>{"use strict";var r=n(95516),i=TypeError;e.exports=function(e,t){if(r(t,e))return e;throw i("Incorrect invocation")}},56112:(e,t,n)=>{"use strict";var r=n(28759),i=String,o=TypeError;e.exports=function(e){if(r(e))return e;throw o(i(e)+" is not an object")}},33363:e=>{"use strict";e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},83466:(e,t,n)=>{"use strict";var r,i,o,s=n(33363),a=n(25283),c=n(22086),u=n(90930),l=n(28759),h=n(49606),d=n(90375),f=n(9268),p=n(72585),m=n(1343),g=n(38371),v=n(95516),y=n(62130),b=n(77530),w=n(50211),S=n(65422),_=n(83278),x=_.enforce,C=_.get,E=c.Int8Array,k=E&&E.prototype,A=c.Uint8ClampedArray,N=A&&A.prototype,T=E&&y(E),P=k&&y(k),O=Object.prototype,I=c.TypeError,R=w("toStringTag"),L=S("TYPED_ARRAY_TAG"),M="TypedArrayConstructor",D=s&&!!b&&"Opera"!==d(c.opera),j=!1,F={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},B={BigInt64Array:8,BigUint64Array:8},q=function(e){var t=y(e);if(l(t)){var n=C(t);return n&&h(n,M)?n[M]:q(t)}},U=function(e){if(!l(e))return!1;var t=d(e);return h(F,t)||h(B,t)};for(r in F)(o=(i=c[r])&&i.prototype)?x(o)[M]=i:D=!1;for(r in B)(o=(i=c[r])&&i.prototype)&&(x(o)[M]=i);if((!D||!u(T)||T===Function.prototype)&&(T=function(){throw I("Incorrect invocation")},D))for(r in F)c[r]&&b(c[r],T);if((!D||!P||P===O)&&(P=T.prototype,D))for(r in F)c[r]&&b(c[r].prototype,P);if(D&&y(N)!==P&&b(N,P),a&&!h(P,R))for(r in j=!0,g(P,R,{configurable:!0,get:function(){return l(this)?this[L]:void 0}}),F)c[r]&&p(c[r],L,r);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:D,TYPED_ARRAY_TAG:j&&L,aTypedArray:function(e){if(U(e))return e;throw I("Target is not a typed array")},aTypedArrayConstructor:function(e){if(u(e)&&(!b||v(T,e)))return e;throw I(f(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,n,r){if(a){if(n)for(var i in F){var o=c[i];if(o&&h(o.prototype,e))try{delete o.prototype[e]}catch(n){try{o.prototype[e]=t}catch(e){}}}P[e]&&!n||m(P,e,n?t:D&&k[e]||t,r)}},exportTypedArrayStaticMethod:function(e,t,n){var r,i;if(a){if(b){if(n)for(r in F)if((i=c[r])&&h(i,e))try{delete i[e]}catch(e){}if(T[e]&&!n)return;try{return m(T,e,n?t:D&&T[e]||t)}catch(e){}}for(r in F)!(i=c[r])||i[e]&&!n||m(i,e,t)}},getTypedArrayConstructor:q,isView:function(e){if(!l(e))return!1;var t=d(e);return"DataView"===t||h(F,t)||h(B,t)},isTypedArray:U,TypedArray:T,TypedArrayPrototype:P}},90702:(e,t,n)=>{"use strict";var r=n(82871);e.exports=function(e,t){for(var n=0,i=r(t),o=new e(i);i>n;)o[n]=t[n++];return o}},56198:(e,t,n)=>{"use strict";var r=n(64088),i=n(7740),o=n(82871),s=function(e){return function(t,n,s){var a,c=r(t),u=o(c),l=i(s,u);if(e&&n!=n){for(;u>l;)if((a=c[l++])!=a)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},52259:(e,t,n)=>{"use strict";var r=n(18516),i=n(95974),o=n(3060),s=n(82871),a=function(e){var t=1==e;return function(n,a,c){for(var u,l=o(n),h=i(l),d=r(a,c),f=s(h);f-- >0;)if(d(u=h[f],f,l))switch(e){case 0:return u;case 1:return f}return t?-1:void 0}};e.exports={findLast:a(0),findLastIndex:a(1)}},44710:(e,t,n)=>{"use strict";var r=n(25283),i=n(46526),o=TypeError,s=Object.getOwnPropertyDescriptor,a=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=a?function(e,t){if(i(e)&&!s(e,"length").writable)throw o("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},46804:(e,t,n)=>{"use strict";var r=n(82871);e.exports=function(e,t){for(var n=r(e),i=new t(n),o=0;o<n;o++)i[o]=e[n-o-1];return i}},25541:(e,t,n)=>{"use strict";var r=n(82871),i=n(69502),o=RangeError;e.exports=function(e,t,n,s){var a=r(e),c=i(n),u=c<0?a+c:c;if(u>=a||u<0)throw o("Incorrect index");for(var l=new t(a),h=0;h<a;h++)l[h]=h===u?s:e[h];return l}},52306:(e,t,n)=>{"use strict";var r=n(78240),i=r({}.toString),o=r("".slice);e.exports=function(e){return o(i(e),8,-1)}},90375:(e,t,n)=>{"use strict";var r=n(12371),i=n(90930),o=n(52306),s=n(50211)("toStringTag"),a=Object,c="Arguments"==o(function(){return arguments}());e.exports=r?o:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=a(e),s))?n:c?o(t):"Object"==(r=o(t))&&i(t.callee)?"Arguments":r}},48474:(e,t,n)=>{"use strict";var r=n(49606),i=n(46095),o=n(94399),s=n(77826);e.exports=function(e,t,n){for(var a=i(t),c=s.f,u=o.f,l=0;l<a.length;l++){var h=a[l];r(e,h)||n&&r(n,h)||c(e,h,u(t,h))}}},47209:(e,t,n)=>{"use strict";var r=n(63677);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},72585:(e,t,n)=>{"use strict";var r=n(25283),i=n(77826),o=n(55736);e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},55736:e=>{"use strict";e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},89720:(e,t,n)=>{"use strict";var r=n(2258),i=n(77826),o=n(55736);e.exports=function(e,t,n){var s=r(t);s in e?i.f(e,s,o(0,n)):e[s]=n}},38371:(e,t,n)=>{"use strict";var r=n(83712),i=n(77826);e.exports=function(e,t,n){return n.get&&r(n.get,t,{getter:!0}),n.set&&r(n.set,t,{setter:!0}),i.f(e,t,n)}},1343:(e,t,n)=>{"use strict";var r=n(90930),i=n(77826),o=n(83712),s=n(79444);e.exports=function(e,t,n,a){a||(a={});var c=a.enumerable,u=void 0!==a.name?a.name:t;if(r(n)&&o(n,u,a),a.global)c?e[t]=n:s(t,n);else{try{a.unsafe?e[t]&&(c=!0):delete e[t]}catch(e){}c?e[t]=n:i.f(e,t,{value:n,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return e}},79444:(e,t,n)=>{"use strict";var r=n(22086),i=Object.defineProperty;e.exports=function(e,t){try{i(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},58685:(e,t,n)=>{"use strict";var r=n(9268),i=TypeError;e.exports=function(e,t){if(!delete e[t])throw i("Cannot delete property "+r(t)+" of "+r(e))}},25283:(e,t,n)=>{"use strict";var r=n(63677);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},27886:e=>{"use strict";var t="object"==typeof document&&document.all,n=void 0===t&&void 0!==t;e.exports={all:t,IS_HTMLDDA:n}},20821:(e,t,n)=>{"use strict";var r=n(22086),i=n(28759),o=r.document,s=i(o)&&i(o.createElement);e.exports=function(e){return s?o.createElement(e):{}}},17620:e=>{"use strict";var t=TypeError;e.exports=function(e){if(e>9007199254740991)throw t("Maximum allowed index exceeded");return e}},23621:e=>{"use strict";e.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},70172:(e,t,n)=>{"use strict";var r=n(41767),i=n(81801);e.exports=!r&&!i&&"object"==typeof window&&"object"==typeof document},41767:e=>{"use strict";e.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},81801:(e,t,n)=>{"use strict";var r=n(52306);e.exports="undefined"!=typeof process&&"process"==r(process)},4999:e=>{"use strict";e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},21448:(e,t,n)=>{"use strict";var r,i,o=n(22086),s=n(4999),a=o.process,c=o.Deno,u=a&&a.versions||c&&c.version,l=u&&u.v8;l&&(i=(r=l.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&s&&(!(r=s.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/))&&(i=+r[1]),e.exports=i},58684:e=>{"use strict";e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},10079:(e,t,n)=>{"use strict";var r=n(78240),i=Error,o=r("".replace),s=String(i("zxcasd").stack),a=/\n\s*at [^:]*:[^\n]*/,c=a.test(s);e.exports=function(e,t){if(c&&"string"==typeof e&&!i.prepareStackTrace)for(;t--;)e=o(e,a,"");return e}},58395:(e,t,n)=>{"use strict";var r=n(72585),i=n(10079),o=n(52114),s=Error.captureStackTrace;e.exports=function(e,t,n,a){o&&(s?s(e,t):r(e,"stack",i(n,a)))}},52114:(e,t,n)=>{"use strict";var r=n(63677),i=n(55736);e.exports=!r((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",i(1,7)),7!==e.stack)}))},51695:(e,t,n)=>{"use strict";var r=n(22086),i=n(94399).f,o=n(72585),s=n(1343),a=n(79444),c=n(48474),u=n(67189);e.exports=function(e,t){var n,l,h,d,f,p=e.target,m=e.global,g=e.stat;if(n=m?r:g?r[p]||a(p,{}):(r[p]||{}).prototype)for(l in t){if(d=t[l],h=e.dontCallGetSet?(f=i(n,l))&&f.value:n[l],!u(m?l:p+(g?".":"#")+l,e.forced)&&void 0!==h){if(typeof d==typeof h)continue;c(d,h)}(e.sham||h&&h.sham)&&o(d,"sham",!0),s(n,l,d,e)}}},63677:e=>{"use strict";e.exports=function(e){try{return!!e()}catch(e){return!0}}},67258:(e,t,n)=>{"use strict";var r=n(86059),i=Function.prototype,o=i.apply,s=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?s.bind(o):function(){return s.apply(o,arguments)})},18516:(e,t,n)=>{"use strict";var r=n(91175),i=n(45089),o=n(86059),s=r(r.bind);e.exports=function(e,t){return i(e),void 0===t?e:o?s(e,t):function(){return e.apply(t,arguments)}}},86059:(e,t,n)=>{"use strict";var r=n(63677);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},59413:(e,t,n)=>{"use strict";var r=n(86059),i=Function.prototype.call;e.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},94398:(e,t,n)=>{"use strict";var r=n(25283),i=n(49606),o=Function.prototype,s=r&&Object.getOwnPropertyDescriptor,a=i(o,"name"),c=a&&"something"===function(){}.name,u=a&&(!r||r&&s(o,"name").configurable);e.exports={EXISTS:a,PROPER:c,CONFIGURABLE:u}},71518:(e,t,n)=>{"use strict";var r=n(78240),i=n(45089);e.exports=function(e,t,n){try{return r(i(Object.getOwnPropertyDescriptor(e,t)[n]))}catch(e){}}},91175:(e,t,n)=>{"use strict";var r=n(52306),i=n(78240);e.exports=function(e){if("Function"===r(e))return i(e)}},78240:(e,t,n)=>{"use strict";var r=n(86059),i=Function.prototype,o=i.call,s=r&&i.bind.bind(o,o);e.exports=r?s:function(e){return function(){return o.apply(e,arguments)}}},10563:(e,t,n)=>{"use strict";var r=n(22086),i=n(90930);e.exports=function(e,t){return arguments.length<2?(n=r[e],i(n)?n:void 0):r[e]&&r[e][t];var n}},61667:(e,t,n)=>{"use strict";var r=n(90375),i=n(2964),o=n(71858),s=n(97719),a=n(50211)("iterator");e.exports=function(e){if(!o(e))return i(e,a)||i(e,"@@iterator")||s[r(e)]}},73546:(e,t,n)=>{"use strict";var r=n(59413),i=n(45089),o=n(56112),s=n(9268),a=n(61667),c=TypeError;e.exports=function(e,t){var n=arguments.length<2?a(e):t;if(i(n))return o(r(n,e));throw c(s(e)+" is not iterable")}},2964:(e,t,n)=>{"use strict";var r=n(45089),i=n(71858);e.exports=function(e,t){var n=e[t];return i(n)?void 0:r(n)}},22086:function(e,t,n){"use strict";var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||this||Function("return this")()},49606:(e,t,n)=>{"use strict";var r=n(78240),i=n(3060),o=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(i(e),t)}},7153:e=>{"use strict";e.exports={}},26761:(e,t,n)=>{"use strict";var r=n(25283),i=n(63677),o=n(20821);e.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},95974:(e,t,n)=>{"use strict";var r=n(78240),i=n(63677),o=n(52306),s=Object,a=r("".split);e.exports=i((function(){return!s("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?a(e,""):s(e)}:s},15070:(e,t,n)=>{"use strict";var r=n(90930),i=n(28759),o=n(77530);e.exports=function(e,t,n){var s,a;return o&&r(s=t.constructor)&&s!==n&&i(a=s.prototype)&&a!==n.prototype&&o(e,a),e}},39277:(e,t,n)=>{"use strict";var r=n(78240),i=n(90930),o=n(74489),s=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(e){return s(e)}),e.exports=o.inspectSource},8945:(e,t,n)=>{"use strict";var r=n(28759),i=n(72585);e.exports=function(e,t){r(t)&&"cause"in t&&i(e,"cause",t.cause)}},83278:(e,t,n)=>{"use strict";var r,i,o,s=n(40640),a=n(22086),c=n(28759),u=n(72585),l=n(49606),h=n(74489),d=n(88944),f=n(7153),p="Object already initialized",m=a.TypeError,g=a.WeakMap;if(s||h.state){var v=h.state||(h.state=new g);v.get=v.get,v.has=v.has,v.set=v.set,r=function(e,t){if(v.has(e))throw m(p);return t.facade=e,v.set(e,t),t},i=function(e){return v.get(e)||{}},o=function(e){return v.has(e)}}else{var y=d("state");f[y]=!0,r=function(e,t){if(l(e,y))throw m(p);return t.facade=e,u(e,y,t),t},i=function(e){return l(e,y)?e[y]:{}},o=function(e){return l(e,y)}}e.exports={set:r,get:i,has:o,enforce:function(e){return o(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!c(t)||(n=i(t)).type!==e)throw m("Incompatible receiver, "+e+" required");return n}}}},92814:(e,t,n)=>{"use strict";var r=n(50211),i=n(97719),o=r("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||s[o]===e)}},46526:(e,t,n)=>{"use strict";var r=n(52306);e.exports=Array.isArray||function(e){return"Array"==r(e)}},16713:(e,t,n)=>{"use strict";var r=n(90375);e.exports=function(e){var t=r(e);return"BigInt64Array"==t||"BigUint64Array"==t}},90930:(e,t,n)=>{"use strict";var r=n(27886),i=r.all;e.exports=r.IS_HTMLDDA?function(e){return"function"==typeof e||e===i}:function(e){return"function"==typeof e}},41956:(e,t,n)=>{"use strict";var r=n(78240),i=n(63677),o=n(90930),s=n(90375),a=n(10563),c=n(39277),u=function(){},l=[],h=a("Reflect","construct"),d=/^\s*(?:class|function)\b/,f=r(d.exec),p=!d.exec(u),m=function(e){if(!o(e))return!1;try{return h(u,l,e),!0}catch(e){return!1}},g=function(e){if(!o(e))return!1;switch(s(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!f(d,c(e))}catch(e){return!0}};g.sham=!0,e.exports=!h||i((function(){var e;return m(m.call)||!m(Object)||!m((function(){e=!0}))||e}))?g:m},67189:(e,t,n)=>{"use strict";var r=n(63677),i=n(90930),o=/#|\.prototype\./,s=function(e,t){var n=c[a(e)];return n==l||n!=u&&(i(t)?r(t):!!t)},a=s.normalize=function(e){return String(e).replace(o,".").toLowerCase()},c=s.data={},u=s.NATIVE="N",l=s.POLYFILL="P";e.exports=s},71858:e=>{"use strict";e.exports=function(e){return null==e}},28759:(e,t,n)=>{"use strict";var r=n(90930),i=n(27886),o=i.all;e.exports=i.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:r(e)||e===o}:function(e){return"object"==typeof e?null!==e:r(e)}},43296:e=>{"use strict";e.exports=!1},92071:(e,t,n)=>{"use strict";var r=n(10563),i=n(90930),o=n(95516),s=n(91876),a=Object;e.exports=s?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return i(t)&&o(t.prototype,a(e))}},94722:(e,t,n)=>{"use strict";var r=n(18516),i=n(59413),o=n(56112),s=n(9268),a=n(92814),c=n(82871),u=n(95516),l=n(73546),h=n(61667),d=n(26737),f=TypeError,p=function(e,t){this.stopped=e,this.result=t},m=p.prototype;e.exports=function(e,t,n){var g,v,y,b,w,S,_,x=n&&n.that,C=!(!n||!n.AS_ENTRIES),E=!(!n||!n.IS_RECORD),k=!(!n||!n.IS_ITERATOR),A=!(!n||!n.INTERRUPTED),N=r(t,x),T=function(e){return g&&d(g,"normal",e),new p(!0,e)},P=function(e){return C?(o(e),A?N(e[0],e[1],T):N(e[0],e[1])):A?N(e,T):N(e)};if(E)g=e.iterator;else if(k)g=e;else{if(!(v=h(e)))throw f(s(e)+" is not iterable");if(a(v)){for(y=0,b=c(e);b>y;y++)if((w=P(e[y]))&&u(m,w))return w;return new p(!1)}g=l(e,v)}for(S=E?e.next:g.next;!(_=i(S,g)).done;){try{w=P(_.value)}catch(e){d(g,"throw",e)}if("object"==typeof w&&w&&u(m,w))return w}return new p(!1)}},26737:(e,t,n)=>{"use strict";var r=n(59413),i=n(56112),o=n(2964);e.exports=function(e,t,n){var s,a;i(e);try{if(!(s=o(e,"return"))){if("throw"===t)throw n;return n}s=r(s,e)}catch(e){a=!0,s=e}if("throw"===t)throw n;if(a)throw s;return i(s),n}},97719:e=>{"use strict";e.exports={}},82871:(e,t,n)=>{"use strict";var r=n(24005);e.exports=function(e){return r(e.length)}},83712:(e,t,n)=>{"use strict";var r=n(78240),i=n(63677),o=n(90930),s=n(49606),a=n(25283),c=n(94398).CONFIGURABLE,u=n(39277),l=n(83278),h=l.enforce,d=l.get,f=String,p=Object.defineProperty,m=r("".slice),g=r("".replace),v=r([].join),y=a&&!i((function(){return 8!==p((function(){}),"length",{value:8}).length})),b=String(String).split("String"),w=e.exports=function(e,t,n){"Symbol("===m(f(t),0,7)&&(t="["+g(f(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!s(e,"name")||c&&e.name!==t)&&(a?p(e,"name",{value:t,configurable:!0}):e.name=t),y&&n&&s(n,"arity")&&e.length!==n.arity&&p(e,"length",{value:n.arity});try{n&&s(n,"constructor")&&n.constructor?a&&p(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var r=h(e);return s(r,"source")||(r.source=v(b,"string"==typeof t?t:"")),e};Function.prototype.toString=w((function(){return o(this)&&d(this).source||u(this)}),"toString")},42255:(e,t,n)=>{"use strict";var r=n(78240),i=Map.prototype;e.exports={Map,set:r(i.set),get:r(i.get),has:r(i.has),remove:r(i.delete),proto:i}},55681:e=>{"use strict";var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var r=+e;return(r>0?n:t)(r)}},81879:(e,t,n)=>{"use strict";var r=n(64059);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:r(e)}},77826:(e,t,n)=>{"use strict";var r=n(25283),i=n(26761),o=n(98202),s=n(56112),a=n(2258),c=TypeError,u=Object.defineProperty,l=Object.getOwnPropertyDescriptor,h="enumerable",d="configurable",f="writable";t.f=r?o?function(e,t,n){if(s(e),t=a(t),s(n),"function"==typeof e&&"prototype"===t&&"value"in n&&f in n&&!n[f]){var r=l(e,t);r&&r[f]&&(e[t]=n.value,n={configurable:d in n?n[d]:r[d],enumerable:h in n?n[h]:r[h],writable:!1})}return u(e,t,n)}:u:function(e,t,n){if(s(e),t=a(t),s(n),i)try{return u(e,t,n)}catch(e){}if("get"in n||"set"in n)throw c("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},94399:(e,t,n)=>{"use strict";var r=n(25283),i=n(59413),o=n(7446),s=n(55736),a=n(64088),c=n(2258),u=n(49606),l=n(26761),h=Object.getOwnPropertyDescriptor;t.f=r?h:function(e,t){if(e=a(e),t=c(t),l)try{return h(e,t)}catch(e){}if(u(e,t))return s(!i(o.f,e,t),e[t])}},20062:(e,t,n)=>{"use strict";var r=n(91352),i=n(58684).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},66952:(e,t)=>{"use strict";t.f=Object.getOwnPropertySymbols},62130:(e,t,n)=>{"use strict";var r=n(49606),i=n(90930),o=n(3060),s=n(88944),a=n(47209),c=s("IE_PROTO"),u=Object,l=u.prototype;e.exports=a?u.getPrototypeOf:function(e){var t=o(e);if(r(t,c))return t[c];var n=t.constructor;return i(n)&&t instanceof n?n.prototype:t instanceof u?l:null}},95516:(e,t,n)=>{"use strict";var r=n(78240);e.exports=r({}.isPrototypeOf)},91352:(e,t,n)=>{"use strict";var r=n(78240),i=n(49606),o=n(64088),s=n(56198).indexOf,a=n(7153),c=r([].push);e.exports=function(e,t){var n,r=o(e),u=0,l=[];for(n in r)!i(a,n)&&i(r,n)&&c(l,n);for(;t.length>u;)i(r,n=t[u++])&&(~s(l,n)||c(l,n));return l}},7446:(e,t)=>{"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);t.f=i?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},77530:(e,t,n)=>{"use strict";var r=n(71518),i=n(56112),o=n(81378);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=r(Object.prototype,"__proto__","set"))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return i(n),o(r),t?e(n,r):n.__proto__=r,n}}():void 0)},97999:(e,t,n)=>{"use strict";var r=n(59413),i=n(90930),o=n(28759),s=TypeError;e.exports=function(e,t){var n,a;if("string"===t&&i(n=e.toString)&&!o(a=r(n,e)))return a;if(i(n=e.valueOf)&&!o(a=r(n,e)))return a;if("string"!==t&&i(n=e.toString)&&!o(a=r(n,e)))return a;throw s("Can't convert object to primitive value")}},46095:(e,t,n)=>{"use strict";var r=n(10563),i=n(78240),o=n(20062),s=n(66952),a=n(56112),c=i([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=o.f(a(e)),n=s.f;return n?c(t,n(e)):t}},71632:(e,t,n)=>{"use strict";var r=n(77826).f;e.exports=function(e,t,n){n in e||r(e,n,{configurable:!0,get:function(){return t[n]},set:function(e){t[n]=e}})}},54276:(e,t,n)=>{"use strict";var r=n(56112);e.exports=function(){var e=r(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},19028:(e,t,n)=>{"use strict";var r=n(59413),i=n(49606),o=n(95516),s=n(54276),a=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in a||i(e,"flags")||!o(a,e)?t:r(s,e)}},69586:(e,t,n)=>{"use strict";var r=n(71858),i=TypeError;e.exports=function(e){if(r(e))throw i("Can't call method on "+e);return e}},83828:(e,t,n)=>{"use strict";var r=n(78240),i=Set.prototype;e.exports={Set,add:r(i.add),has:r(i.has),remove:r(i.delete),proto:i}},88944:(e,t,n)=>{"use strict";var r=n(49197),i=n(65422),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},74489:(e,t,n)=>{"use strict";var r=n(22086),i=n(79444),o="__core-js_shared__",s=r[o]||i(o,{});e.exports=s},49197:(e,t,n)=>{"use strict";var r=n(43296),i=n(74489);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.32.0",mode:r?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.32.0/LICENSE",source:"https://github.com/zloirock/core-js"})},62800:(e,t,n)=>{"use strict";var r=n(22086),i=n(63677),o=n(21448),s=n(70172),a=n(41767),c=n(81801),u=r.structuredClone;e.exports=!!u&&!i((function(){if(a&&o>92||c&&o>94||s&&o>97)return!1;var e=new ArrayBuffer(8),t=u(e,{transfer:[e]});return 0!=e.byteLength||8!=t.byteLength}))},25558:(e,t,n)=>{"use strict";var r=n(21448),i=n(63677),o=n(22086).String;e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!o(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},7740:(e,t,n)=>{"use strict";var r=n(69502),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},94769:(e,t,n)=>{"use strict";var r=n(1288),i=TypeError;e.exports=function(e){var t=r(e,"number");if("number"==typeof t)throw i("Can't convert number to bigint");return BigInt(t)}},64088:(e,t,n)=>{"use strict";var r=n(95974),i=n(69586);e.exports=function(e){return r(i(e))}},69502:(e,t,n)=>{"use strict";var r=n(55681);e.exports=function(e){var t=+e;return t!=t||0===t?0:r(t)}},24005:(e,t,n)=>{"use strict";var r=n(69502),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},3060:(e,t,n)=>{"use strict";var r=n(69586),i=Object;e.exports=function(e){return i(r(e))}},55421:(e,t,n)=>{"use strict";var r=n(84706),i=RangeError;e.exports=function(e,t){var n=r(e);if(n%t)throw i("Wrong offset");return n}},84706:(e,t,n)=>{"use strict";var r=n(69502),i=RangeError;e.exports=function(e){var t=r(e);if(t<0)throw i("The argument can't be less than 0");return t}},1288:(e,t,n)=>{"use strict";var r=n(59413),i=n(28759),o=n(92071),s=n(2964),a=n(97999),c=n(50211),u=TypeError,l=c("toPrimitive");e.exports=function(e,t){if(!i(e)||o(e))return e;var n,c=s(e,l);if(c){if(void 0===t&&(t="default"),n=r(c,e,t),!i(n)||o(n))return n;throw u("Can't convert object to primitive value")}return void 0===t&&(t="number"),a(e,t)}},2258:(e,t,n)=>{"use strict";var r=n(1288),i=n(92071);e.exports=function(e){var t=r(e,"string");return i(t)?t:t+""}},12371:(e,t,n)=>{"use strict";var r={};r[n(50211)("toStringTag")]="z",e.exports="[object z]"===String(r)},64059:(e,t,n)=>{"use strict";var r=n(90375),i=String;e.exports=function(e){if("Symbol"===r(e))throw TypeError("Cannot convert a Symbol value to a string");return i(e)}},9268:e=>{"use strict";var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},65422:(e,t,n)=>{"use strict";var r=n(78240),i=0,o=Math.random(),s=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+s(++i+o,36)}},91876:(e,t,n)=>{"use strict";var r=n(25558);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},98202:(e,t,n)=>{"use strict";var r=n(25283),i=n(63677);e.exports=r&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},71635:e=>{"use strict";var t=TypeError;e.exports=function(e,n){if(e<n)throw t("Not enough arguments");return e}},40640:(e,t,n)=>{"use strict";var r=n(22086),i=n(90930),o=r.WeakMap;e.exports=i(o)&&/native code/.test(String(o))},50211:(e,t,n)=>{"use strict";var r=n(22086),i=n(49197),o=n(49606),s=n(65422),a=n(25558),c=n(91876),u=r.Symbol,l=i("wks"),h=c?u.for||u:u&&u.withoutSetter||s;e.exports=function(e){return o(l,e)||(l[e]=a&&o(u,e)?u[e]:h("Symbol."+e)),l[e]}},91557:(e,t,n)=>{"use strict";var r=n(10563),i=n(49606),o=n(72585),s=n(95516),a=n(77530),c=n(48474),u=n(71632),l=n(15070),h=n(81879),d=n(8945),f=n(58395),p=n(25283),m=n(43296);e.exports=function(e,t,n,g){var v="stackTraceLimit",y=g?2:1,b=e.split("."),w=b[b.length-1],S=r.apply(null,b);if(S){var _=S.prototype;if(!m&&i(_,"cause")&&delete _.cause,!n)return S;var x=r("Error"),C=t((function(e,t){var n=h(g?t:e,void 0),r=g?new S(e):new S;return void 0!==n&&o(r,"message",n),f(r,C,r.stack,2),this&&s(_,this)&&l(r,this,C),arguments.length>y&&d(r,arguments[y]),r}));if(C.prototype=_,"Error"!==w?a?a(C,x):c(C,x,{name:!0}):p&&v in S&&(u(C,S,v),u(C,S,"prepareStackTrace")),c(C,S),!m)try{_.name!==w&&o(_,"name",w),_.constructor=C}catch(e){}return C}}},95988:(e,t,n)=>{"use strict";var r=n(51695),i=n(3060),o=n(82871),s=n(44710),a=n(17620);r({target:"Array",proto:!0,arity:1,forced:n(63677)((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}}()},{push:function(e){var t=i(this),n=o(t),r=arguments.length;a(n+r);for(var c=0;c<r;c++)t[n]=arguments[c],n++;return s(t,n),n}})},26438:(e,t,n)=>{"use strict";var r=n(51695),i=n(3060),o=n(82871),s=n(44710),a=n(58685),c=n(17620);r({target:"Array",proto:!0,arity:1,forced:1!==[].unshift(0)||!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}}()},{unshift:function(e){var t=i(this),n=o(t),r=arguments.length;if(r){c(n+r);for(var u=n;u--;){var l=u+r;u in t?t[l]=t[u]:a(t,l)}for(var h=0;h<r;h++)t[h]=arguments[h]}return s(t,n+r)}})},60740:(e,t,n)=>{"use strict";var r=n(51695),i=n(22086),o=n(67258),s=n(91557),a="WebAssembly",c=i[a],u=7!==Error("e",{cause:7}).cause,l=function(e,t){var n={};n[e]=s(e,t,u),r({global:!0,constructor:!0,arity:1,forced:u},n)},h=function(e,t){if(c&&c[e]){var n={};n[e]=s(a+"."+e,t,u),r({target:a,stat:!0,constructor:!0,arity:1,forced:u},n)}};l("Error",(function(e){return function(t){return o(e,this,arguments)}})),l("EvalError",(function(e){return function(t){return o(e,this,arguments)}})),l("RangeError",(function(e){return function(t){return o(e,this,arguments)}})),l("ReferenceError",(function(e){return function(t){return o(e,this,arguments)}})),l("SyntaxError",(function(e){return function(t){return o(e,this,arguments)}})),l("TypeError",(function(e){return function(t){return o(e,this,arguments)}})),l("URIError",(function(e){return function(t){return o(e,this,arguments)}})),h("CompileError",(function(e){return function(t){return o(e,this,arguments)}})),h("LinkError",(function(e){return function(t){return o(e,this,arguments)}})),h("RuntimeError",(function(e){return function(t){return o(e,this,arguments)}}))},20199:(e,t,n)=>{"use strict";var r=n(83466),i=n(82871),o=n(69502),s=r.aTypedArray;(0,r.exportTypedArrayMethod)("at",(function(e){var t=s(this),n=i(t),r=o(e),a=r>=0?r:n+r;return a<0||a>=n?void 0:t[a]}))},85984:(e,t,n)=>{"use strict";var r=n(83466),i=n(52259).findLastIndex,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("findLastIndex",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)}))},79788:(e,t,n)=>{"use strict";var r=n(83466),i=n(52259).findLast,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("findLast",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)}))},75389:(e,t,n)=>{"use strict";var r=n(22086),i=n(59413),o=n(83466),s=n(82871),a=n(55421),c=n(3060),u=n(63677),l=r.RangeError,h=r.Int8Array,d=h&&h.prototype,f=d&&d.set,p=o.aTypedArray,m=o.exportTypedArrayMethod,g=!u((function(){var e=new Uint8ClampedArray(2);return i(f,e,{length:1,0:3},1),3!==e[1]})),v=g&&o.NATIVE_ARRAY_BUFFER_VIEWS&&u((function(){var e=new h(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));m("set",(function(e){p(this);var t=a(arguments.length>1?arguments[1]:void 0,1),n=c(e);if(g)return i(f,this,n,t);var r=this.length,o=s(n),u=0;if(o+t>r)throw l("Wrong length");for(;u<o;)this[t+u]=n[u++]}),!g||v)},19358:(e,t,n)=>{"use strict";var r=n(46804),i=n(83466),o=i.aTypedArray,s=i.exportTypedArrayMethod,a=i.getTypedArrayConstructor;s("toReversed",(function(){return r(o(this),a(this))}))},8542:(e,t,n)=>{"use strict";var r=n(83466),i=n(78240),o=n(45089),s=n(90702),a=r.aTypedArray,c=r.getTypedArrayConstructor,u=r.exportTypedArrayMethod,l=i(r.TypedArrayPrototype.sort);u("toSorted",(function(e){void 0!==e&&o(e);var t=a(this),n=s(c(t),t);return l(n,e)}))},79997:(e,t,n)=>{"use strict";var r=n(25541),i=n(83466),o=n(16713),s=n(69502),a=n(94769),c=i.aTypedArray,u=i.getTypedArrayConstructor,l=i.exportTypedArrayMethod,h=!!function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(e){return 8===e}}();l("with",{with:function(e,t){var n=c(this),i=s(e),l=o(n)?a(t):+t;return r(n,u(n),i,l)}}.with,!h)},28681:(e,t,n)=>{"use strict";n(19358)},72951:(e,t,n)=>{"use strict";n(8542)},99953:(e,t,n)=>{"use strict";n(79997)},55719:(e,t,n)=>{"use strict";var r=n(51695),i=n(22086),o=n(10563),s=n(55736),a=n(77826).f,c=n(49606),u=n(51855),l=n(15070),h=n(81879),d=n(23621),f=n(10079),p=n(25283),m=n(43296),g="DOMException",v=o("Error"),y=o(g),b=function(){u(this,w);var e=arguments.length,t=h(e<1?void 0:arguments[0]),n=h(e<2?void 0:arguments[1],"Error"),r=new y(t,n),i=v(t);return i.name=g,a(r,"stack",s(1,f(i.stack,1))),l(r,this,b),r},w=b.prototype=y.prototype,S="stack"in v(g),_="stack"in new y(1,2),x=y&&p&&Object.getOwnPropertyDescriptor(i,g),C=!(!x||x.writable&&x.configurable),E=S&&!C&&!_;r({global:!0,constructor:!0,forced:m||E},{DOMException:E?b:y});var k=o(g),A=k.prototype;if(A.constructor!==k)for(var N in m||a(A,"constructor",s(1,k)),d)if(c(d,N)){var T=d[N],P=T.s;c(k,P)||a(k,P,s(6,T.c))}},36923:(e,t,n)=>{"use strict";var r,i=n(43296),o=n(51695),s=n(22086),a=n(10563),c=n(78240),u=n(63677),l=n(65422),h=n(90930),d=n(41956),f=n(71858),p=n(28759),m=n(92071),g=n(94722),v=n(56112),y=n(90375),b=n(49606),w=n(89720),S=n(72585),_=n(82871),x=n(71635),C=n(19028),E=n(42255),k=n(83828),A=n(52114),N=n(62800),T=s.Object,P=s.Array,O=s.Date,I=s.Error,R=s.EvalError,L=s.RangeError,M=s.ReferenceError,D=s.SyntaxError,j=s.TypeError,F=s.URIError,B=s.PerformanceMark,q=s.WebAssembly,U=q&&q.CompileError||I,z=q&&q.LinkError||I,$=q&&q.RuntimeError||I,H=a("DOMException"),G=E.Map,V=E.has,W=E.get,K=E.set,Z=k.Set,Y=k.add,J=a("Object","keys"),Q=c([].push),X=c((!0).valueOf),ee=c(1..valueOf),te=c("".valueOf),ne=c(O.prototype.getTime),re=l("structuredClone"),ie="DataCloneError",oe="Transferring",se=function(e){return!u((function(){var t=new s.Set([7]),n=e(t),r=e(T(7));return n==t||!n.has(7)||"object"!=typeof r||7!=r}))&&e},ae=function(e,t){return!u((function(){var n=new t,r=e({a:n,b:n});return!(r&&r.a===r.b&&r.a instanceof t&&r.a.stack===n.stack)}))},ce=s.structuredClone,ue=i||!ae(ce,I)||!ae(ce,H)||(r=ce,!!u((function(){var e=r(new s.AggregateError([1],re,{cause:3}));return"AggregateError"!=e.name||1!=e.errors[0]||e.message!=re||3!=e.cause}))),le=!ce&&se((function(e){return new B(re,{detail:e}).detail})),he=se(ce)||le,de=function(e){throw new H("Uncloneable type: "+e,ie)},fe=function(e,t){throw new H((t||"Cloning")+" of "+e+" cannot be properly polyfilled in this engine",ie)},pe=function(e,t){return he||fe(t),he(e)},me=function(e,t,n){if(V(t,e))return W(t,e);var r,i,o,a,c,u;if("SharedArrayBuffer"===(n||y(e)))r=he?he(e):e;else{var l=s.DataView;l||"function"==typeof e.slice||fe("ArrayBuffer");try{if("function"!=typeof e.slice||e.resizable){i=e.byteLength,o="maxByteLength"in e?{maxByteLength:e.maxByteLength}:void 0,r=new ArrayBuffer(i,o),a=new l(e),c=new l(r);for(u=0;u<i;u++)c.setUint8(u,a.getUint8(u))}else r=e.slice(0)}catch(e){throw new H("ArrayBuffer is detached",ie)}}return K(t,e,r),r},ge=function(e,t,n,r,i){var o=s[t];return p(o)||fe(t),new o(me(e.buffer,i),n,r)},ve=function(e,t,n){this.object=e,this.type=t,this.metadata=n},ye=function(e,t,n){if(m(e)&&de("Symbol"),!p(e))return e;if(t){if(V(t,e))return W(t,e)}else t=new G;var r,i,o,c,u,l,d,f,g=y(e);switch(g){case"Array":o=P(_(e));break;case"Object":o={};break;case"Map":o=new G;break;case"Set":o=new Z;break;case"RegExp":o=new RegExp(e.source,C(e));break;case"Error":switch(i=e.name){case"AggregateError":o=a("AggregateError")([]);break;case"EvalError":o=R();break;case"RangeError":o=L();break;case"ReferenceError":o=M();break;case"SyntaxError":o=D();break;case"TypeError":o=j();break;case"URIError":o=F();break;case"CompileError":o=U();break;case"LinkError":o=z();break;case"RuntimeError":o=$();break;default:o=I()}break;case"DOMException":o=new H(e.message,e.name);break;case"ArrayBuffer":case"SharedArrayBuffer":o=n?new ve(e,g):me(e,t,g);break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float16Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":l="DataView"===g?e.byteLength:e.length,o=n?new ve(e,g,{offset:e.byteOffset,length:l}):ge(e,g,e.byteOffset,l,t);break;case"DOMQuad":try{o=new DOMQuad(ye(e.p1,t,n),ye(e.p2,t,n),ye(e.p3,t,n),ye(e.p4,t,n))}catch(t){o=pe(e,g)}break;case"File":if(he)try{o=he(e),y(o)!==g&&(o=void 0)}catch(e){}if(!o)try{o=new File([e],e.name,e)}catch(e){}o||fe(g);break;case"FileList":if(c=function(){var e;try{e=new s.DataTransfer}catch(t){try{e=new s.ClipboardEvent("").clipboardData}catch(e){}}return e&&e.items&&e.files?e:null}()){for(u=0,l=_(e);u<l;u++)c.items.add(ye(e[u],t,n));o=c.files}else o=pe(e,g);break;case"ImageData":try{o=new ImageData(ye(e.data,t,n),e.width,e.height,{colorSpace:e.colorSpace})}catch(t){o=pe(e,g)}break;default:if(he)o=he(e);else switch(g){case"BigInt":o=T(e.valueOf());break;case"Boolean":o=T(X(e));break;case"Number":o=T(ee(e));break;case"String":o=T(te(e));break;case"Date":o=new O(ne(e));break;case"Blob":try{o=e.slice(0,e.size,e.type)}catch(e){fe(g)}break;case"DOMPoint":case"DOMPointReadOnly":r=s[g];try{o=r.fromPoint?r.fromPoint(e):new r(e.x,e.y,e.z,e.w)}catch(e){fe(g)}break;case"DOMRect":case"DOMRectReadOnly":r=s[g];try{o=r.fromRect?r.fromRect(e):new r(e.x,e.y,e.width,e.height)}catch(e){fe(g)}break;case"DOMMatrix":case"DOMMatrixReadOnly":r=s[g];try{o=r.fromMatrix?r.fromMatrix(e):new r(e)}catch(e){fe(g)}break;case"AudioData":case"VideoFrame":h(e.clone)||fe(g);try{o=e.clone()}catch(e){de(g)}break;case"CropTarget":case"CryptoKey":case"FileSystemDirectoryHandle":case"FileSystemFileHandle":case"FileSystemHandle":case"GPUCompilationInfo":case"GPUCompilationMessage":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":fe(g);default:de(g)}}switch(K(t,e,o),g){case"Array":case"Object":for(d=J(e),u=0,l=_(d);u<l;u++)f=d[u],w(o,f,ye(e[f],t,n));break;case"Map":e.forEach((function(e,r){K(o,ye(r,t,n),ye(e,t,n))}));break;case"Set":e.forEach((function(e){Y(o,ye(e,t,n))}));break;case"Error":S(o,"message",ye(e.message,t,n)),b(e,"cause")&&S(o,"cause",ye(e.cause,t,n)),"AggregateError"==i&&(o.errors=ye(e.errors,t,n));case"DOMException":A&&S(o,"stack",ye(e.stack,t,n))}return o},be=function(e,t){if(!p(e))return e;if(V(t,e))return W(t,e);var n,r,i,o,s,a,c,u;if(e instanceof ve)switch(n=e.type,r=e.object,n){case"ArrayBuffer":case"SharedArrayBuffer":u=me(r,t,n);break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float16Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":i=e.metadata,u=ge(r,n,i.offset,i.length,t)}else switch(y(e)){case"Array":case"Object":for(a=J(e),o=0,s=_(a);o<s;o++)e[c=a[o]]=be(e[c],t);break;case"Map":u=new G,e.forEach((function(e,n){K(u,be(n,t),be(e,t))}));break;case"Set":u=new Z,e.forEach((function(e){Y(u,be(e,t))}));break;case"Error":e.message=be(e.message,t),b(e,"cause")&&(e.cause=be(e.cause,t)),"AggregateError"==e.name&&(e.errors=be(e.errors,t));case"DOMException":A&&(e.stack=be(e.stack,t))}return K(t,e,u||e),u||e};o({global:!0,enumerable:!0,sham:!N,forced:ue},{structuredClone:function(e){var t,n,r=x(arguments.length,1)>1&&!f(arguments[1])?v(arguments[1]):void 0,i=r?r.transfer:void 0,o=!1;void 0!==i&&(n=function(e,t){if(!p(e))throw j("Transfer option cannot be converted to a sequence");var n=[];g(e,(function(e){Q(n,v(e))}));for(var r,i,o,a,c,u=0,l=_(n),f=[];u<l;)if(r=n[u++],"ArrayBuffer"!==(i=y(r))){if(V(t,r))throw new H("Duplicate transferable",ie);if(N)a=ce(r,{transfer:[r]});else switch(i){case"ImageBitmap":o=s.OffscreenCanvas,d(o)||fe(i,oe);try{(c=new o(r.width,r.height)).getContext("bitmaprenderer").transferFromImageBitmap(r),a=c.transferToImageBitmap()}catch(e){}break;case"AudioData":case"VideoFrame":h(r.clone)&&h(r.close)||fe(i,oe);try{a=r.clone(),r.close()}catch(e){}break;case"MediaSourceHandle":case"MessagePort":case"OffscreenCanvas":case"ReadableStream":case"TransformStream":case"WritableStream":fe(i,oe)}if(void 0===a)throw new H("This object cannot be transferred: "+i,ie);K(t,r,a)}else Q(f,r);return f}(i,t=new G),o=!!_(n));var a=ye(e,t,o);return o&&(function(e,t){for(var n,r,i=0,o=_(e);i<o;){if(n=e[i++],V(t,n))throw new H("Duplicate transferable",ie);N?r=ce(n,{transfer:[n]}):(h(n.transfer)||fe("ArrayBuffer",oe),r=n.transfer()),K(t,n,r)}}(i,t=new G),a=be(a,t)),a}})},89372:function(e,t){var n="undefined"!=typeof self?self:this,r=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();!function(e){!function(t){var n={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(n.arrayBuffer)var r=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],i=ArrayBuffer.isView||function(e){return e&&r.indexOf(Object.prototype.toString.call(e))>-1};function o(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function s(e){return"string"!=typeof e&&(e=String(e)),e}function a(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n.iterable&&(t[Symbol.iterator]=function(){return t}),t}function c(e){this.map={},e instanceof c?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function u(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function l(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function h(e){var t=new FileReader,n=l(t);return t.readAsArrayBuffer(e),n}function d(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function f(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:n.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:n.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():n.arrayBuffer&&n.blob&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=d(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):n.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||i(e))?this._bodyArrayBuffer=d(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n.blob&&(this.blob=function(){var e=u(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?u(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(h)}),this.text=function(){var e,t,n,r=u(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,n=l(t=new FileReader),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},n.formData&&(this.formData=function(){return this.text().then(g)}),this.json=function(){return this.text().then(JSON.parse)},this}c.prototype.append=function(e,t){e=o(e),t=s(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},c.prototype.delete=function(e){delete this.map[o(e)]},c.prototype.get=function(e){return e=o(e),this.has(e)?this.map[e]:null},c.prototype.has=function(e){return this.map.hasOwnProperty(o(e))},c.prototype.set=function(e,t){this.map[o(e)]=s(t)},c.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},c.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),a(e)},c.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),a(e)},c.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),a(e)},n.iterable&&(c.prototype[Symbol.iterator]=c.prototype.entries);var p=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function m(e,t){var n,r,i=(t=t||{}).body;if(e instanceof m){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new c(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new c(t.headers)),this.method=(r=(n=t.method||this.method||"GET").toUpperCase(),p.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function g(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function v(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new c(t.headers),this.url=t.url||"",this._initBody(e)}m.prototype.clone=function(){return new m(this,{body:this._bodyInit})},f.call(m.prototype),f.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},v.error=function(){var e=new v(null,{status:0,statusText:""});return e.type="error",e};var y=[301,302,303,307,308];v.redirect=function(e,t){if(-1===y.indexOf(t))throw new RangeError("Invalid status code");return new v(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function b(e,r){return new Promise((function(i,o){var s=new m(e,r);if(s.signal&&s.signal.aborted)return o(new t.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function u(){a.abort()}a.onload=function(){var e,t,n={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new c,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}})),t)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL");var r="response"in a?a.response:a.responseText;i(new v(r,n))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.onabort=function(){o(new t.DOMException("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&n.blob&&(a.responseType="blob"),s.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),s.signal&&(s.signal.addEventListener("abort",u),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",u)}),a.send(void 0===s._bodyInit?null:s._bodyInit)}))}b.polyfill=!0,e.fetch||(e.fetch=b,e.Headers=c,e.Request=m,e.Response=v),t.Headers=c,t.Request=m,t.Response=v,t.fetch=b,Object.defineProperty(t,"__esModule",{value:!0})}({})}(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;(t=i.fetch).default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t},93476:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var s=this[o][0];null!=s&&(i[s]=!0)}for(var a=0;a<e.length;a++){var c=[].concat(e[a]);r&&i[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),t.push(c))}},t}},60994:e=>{"use strict";function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}e.exports=function(e){var n,r,i=(r=4,function(e){if(Array.isArray(e))return e}(n=e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}}(n,r)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=i[1],s=i[3];if("function"==typeof btoa){var a=btoa(unescape(encodeURIComponent(JSON.stringify(s)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),u="/*# ".concat(c," */"),l=s.sources.map((function(e){return"/*# sourceURL=".concat(s.sourceRoot||"").concat(e," */")}));return[o].concat(l).concat([u]).join("\n")}return[o].join("\n")}},96292:(e,t,n)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(r++,"%c"===e&&(i=r))})),t.splice(i,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=n(29374)(t);const{formatters:r}=e.exports;r.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},29374:(e,t,n)=>{e.exports=function(e){function t(e){let n,i,o,s=null;function a(...e){if(!a.enabled)return;const r=a,i=Number(new Date),o=i-(n||i);r.diff=o,r.prev=n,r.curr=i,n=i,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((n,i)=>{if("%%"===n)return"%";s++;const o=t.formatters[i];if("function"==typeof o){const t=e[s];n=o.call(r,t),e.splice(s,1),s--}return n})),t.formatArgs.call(r,e),(r.log||t.log).apply(r,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=r,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(i!==t.namespaces&&(i=t.namespaces,o=t.enabled(e)),o),set:e=>{s=e}}),"function"==typeof t.init&&t.init(a),a}function r(e,n){const r=t(this.namespace+(void 0===n?":":n)+e);return r.log=this.log,r}function i(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(i),...t.skips.map(i).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let n;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(48628),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((n=>{t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}},86213:e=>{"use strict";function t(e){if(this._capacity=r(e),this._length=0,this._front=0,n(e)){for(var t=e.length,i=0;i<t;++i)this[i]=e[i];this._length=t}}t.prototype.toArray=function(){for(var e=this._length,t=new Array(e),n=this._front,r=this._capacity,i=0;i<e;++i)t[i]=this[n+i&r-1];return t},t.prototype.push=function(e){var t=arguments.length,n=this._length;if(t>1){var r=this._capacity;if(n+t>r){for(var i=0;i<t;++i)this._checkCapacity(n+1),this[o=this._front+n&this._capacity-1]=arguments[i],n++,this._length=n;return n}var o=this._front;for(i=0;i<t;++i)this[o+n&r-1]=arguments[i],o++;return this._length=n+t,n+t}return 0===t?n:(this._checkCapacity(n+1),this[i=this._front+n&this._capacity-1]=e,this._length=n+1,n+1)},t.prototype.pop=function(){var e=this._length;if(0!==e){var t=this._front+e-1&this._capacity-1,n=this[t];return this[t]=void 0,this._length=e-1,n}},t.prototype.shift=function(){var e=this._length;if(0!==e){var t=this._front,n=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length=e-1,n}},t.prototype.unshift=function(e){var t=this._length,n=arguments.length;if(n>1){if(t+n>(i=this._capacity)){for(var r=n-1;r>=0;r--){this._checkCapacity(t+1);var i=this._capacity;this[s=(this._front-1&i-1^i)-i]=arguments[r],t++,this._length=t,this._front=s}return t}var o=this._front;for(r=n-1;r>=0;r--){var s;this[s=(o-1&i-1^i)-i]=arguments[r],o=s}return this._front=o,this._length=t+n,t+n}return 0===n?t:(this._checkCapacity(t+1),i=this._capacity,this[r=(this._front-1&i-1^i)-i]=e,this._length=t+1,this._front=r,t+1)},t.prototype.peekBack=function(){var e=this._length;if(0!==e)return this[this._front+e-1&this._capacity-1]},t.prototype.peekFront=function(){if(0!==this._length)return this[this._front]},t.prototype.get=function(e){var t=e;if(t===(0|t)){var n=this._length;if(t<0&&(t+=n),!(t<0||t>=n))return this[this._front+t&this._capacity-1]}},t.prototype.isEmpty=function(){return 0===this._length},t.prototype.clear=function(){for(var e=this._length,t=this._front,n=this._capacity,r=0;r<e;++r)this[t+r&n-1]=void 0;this._length=0,this._front=0},t.prototype.toString=function(){return this.toArray().toString()},t.prototype.valueOf=t.prototype.toString,t.prototype.removeFront=t.prototype.shift,t.prototype.removeBack=t.prototype.pop,t.prototype.insertFront=t.prototype.unshift,t.prototype.insertBack=t.prototype.push,t.prototype.enqueue=t.prototype.push,t.prototype.dequeue=t.prototype.shift,t.prototype.toJSON=t.prototype.toArray,Object.defineProperty(t.prototype,"length",{get:function(){return this._length},set:function(){throw new RangeError("")}}),t.prototype._checkCapacity=function(e){this._capacity<e&&this._resizeTo(r(1.5*this._capacity+16))},t.prototype._resizeTo=function(e){var t=this._capacity;this._capacity=e;var n=this._front,r=this._length;n+r>t&&function(e,t,n,r,i){for(var o=0;o<i;++o)n[o+r]=e[o+0],e[o+0]=void 0}(this,0,this,t,n+r&t-1)};var n=Array.isArray;function r(e){if("number"!=typeof e){if(!n(e))return 16;e=e.length}return t=Math.min(Math.max(16,e),1073741824),t>>>=0,t-=1,t|=t>>1,t|=t>>2,t|=t>>4,1+((t|=t>>8)|t>>16);var t}e.exports=t},50343:e=>{function t(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(e){return"function"==typeof e}function r(e){return"object"==typeof e&&null!==e}function i(e){return void 0===e}e.exports=t,t.EventEmitter=t,t.prototype._events=void 0,t.prototype._maxListeners=void 0,t.defaultMaxListeners=10,t.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},t.prototype.emit=function(e){var t,o,s,a,c,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||r(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var l=new Error('Uncaught, unspecified "error" event. ('+t+")");throw l.context=t,l}if(i(o=this._events[e]))return!1;if(n(o))switch(arguments.length){case 1:o.call(this);break;case 2:o.call(this,arguments[1]);break;case 3:o.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),o.apply(this,a)}else if(r(o))for(a=Array.prototype.slice.call(arguments,1),s=(u=o.slice()).length,c=0;c<s;c++)u[c].apply(this,a);return!0},t.prototype.addListener=function(e,o){var s;if(!n(o))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,n(o.listener)?o.listener:o),this._events[e]?r(this._events[e])?this._events[e].push(o):this._events[e]=[this._events[e],o]:this._events[e]=o,r(this._events[e])&&!this._events[e].warned&&(s=i(this._maxListeners)?t.defaultMaxListeners:this._maxListeners)&&s>0&&this._events[e].length>s&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},t.prototype.on=t.prototype.addListener,t.prototype.once=function(e,t){if(!n(t))throw TypeError("listener must be a function");var r=!1;function i(){this.removeListener(e,i),r||(r=!0,t.apply(this,arguments))}return i.listener=t,this.on(e,i),this},t.prototype.removeListener=function(e,t){var i,o,s,a;if(!n(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(s=(i=this._events[e]).length,o=-1,i===t||n(i.listener)&&i.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(r(i)){for(a=s;a-- >0;)if(i[a]===t||i[a].listener&&i[a].listener===t){o=a;break}if(o<0)return this;1===i.length?(i.length=0,delete this._events[e]):i.splice(o,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},t.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n(r=this._events[e]))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},t.prototype.listeners=function(e){return this._events&&this._events[e]?n(this._events[e])?[this._events[e]]:this._events[e].slice():[]},t.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(n(t))return 1;if(t)return t.length}return 0},t.listenerCount=function(e,t){return e.listenerCount(t)}},66471:e=>{"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!=i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!=i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;0!=i--;){var s=o[i];if(!e(t[s],n[s]))return!1}return!0}return t!=t&&n!=n}},23329:e=>{"use strict";const t=new Set(["ENOTFOUND","ENETUNREACH","UNABLE_TO_GET_ISSUER_CERT","UNABLE_TO_GET_CRL","UNABLE_TO_DECRYPT_CERT_SIGNATURE","UNABLE_TO_DECRYPT_CRL_SIGNATURE","UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY","CERT_SIGNATURE_FAILURE","CRL_SIGNATURE_FAILURE","CERT_NOT_YET_VALID","CERT_HAS_EXPIRED","CRL_NOT_YET_VALID","CRL_HAS_EXPIRED","ERROR_IN_CERT_NOT_BEFORE_FIELD","ERROR_IN_CERT_NOT_AFTER_FIELD","ERROR_IN_CRL_LAST_UPDATE_FIELD","ERROR_IN_CRL_NEXT_UPDATE_FIELD","OUT_OF_MEM","DEPTH_ZERO_SELF_SIGNED_CERT","SELF_SIGNED_CERT_IN_CHAIN","UNABLE_TO_GET_ISSUER_CERT_LOCALLY","UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_CHAIN_TOO_LONG","CERT_REVOKED","INVALID_CA","PATH_LENGTH_EXCEEDED","INVALID_PURPOSE","CERT_UNTRUSTED","CERT_REJECTED","HOSTNAME_MISMATCH"]);e.exports=e=>!t.has(e&&e.code)},83578:function(e,t,n){var r;!function(n,i){e.exports=function(n){"use strict";var i,o=(n=n||{}).Base64,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=function(e){for(var t={},n=0,r=e.length;n<r;n++)t[e.charAt(n)]=n;return t}(s),c=String.fromCharCode,u=function(e){if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?c(192|t>>>6)+c(128|63&t):c(224|t>>>12&15)+c(128|t>>>6&63)+c(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return c(240|t>>>18&7)+c(128|t>>>12&63)+c(128|t>>>6&63)+c(128|63&t)},l=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,h=function(e){return e.replace(l,u)},d=function(e){var t=[0,2,1][e.length%3],n=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0);return[s.charAt(n>>>18),s.charAt(n>>>12&63),t>=2?"=":s.charAt(n>>>6&63),t>=1?"=":s.charAt(63&n)].join("")},f=n.btoa&&"function"==typeof n.btoa?function(e){return n.btoa(e)}:function(e){if(e.match(/[^\x00-\xFF]/))throw new RangeError("The string contains invalid characters.");return e.replace(/[\s\S]{1,3}/g,d)},p=function(e){return f(h(String(e)))},m=function(e){return e.replace(/[+\/]/g,(function(e){return"+"==e?"-":"_"})).replace(/=/g,"")},g=function(e,t){return t?m(p(e)):p(e)};n.Uint8Array&&(i=function(e,t){for(var n="",r=0,i=e.length;r<i;r+=3){var o=e[r],a=e[r+1],c=e[r+2],u=o<<16|a<<8|c;n+=s.charAt(u>>>18)+s.charAt(u>>>12&63)+(void 0!==a?s.charAt(u>>>6&63):"=")+(void 0!==c?s.charAt(63&u):"=")}return t?m(n):n});var v,y=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,b=function(e){switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return c(55296+(t>>>10))+c(56320+(1023&t));case 3:return c((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return c((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},w=function(e){return e.replace(y,b)},S=function(e){var t=e.length,n=t%4,r=(t>0?a[e.charAt(0)]<<18:0)|(t>1?a[e.charAt(1)]<<12:0)|(t>2?a[e.charAt(2)]<<6:0)|(t>3?a[e.charAt(3)]:0),i=[c(r>>>16),c(r>>>8&255),c(255&r)];return i.length-=[0,0,2,1][n],i.join("")},_=n.atob&&"function"==typeof n.atob?function(e){return n.atob(e)}:function(e){return e.replace(/\S{1,4}/g,S)},x=function(e){return _(String(e).replace(/[^A-Za-z0-9\+\/]/g,""))},C=function(e){return String(e).replace(/[-_]/g,(function(e){return"-"==e?"+":"/"})).replace(/[^A-Za-z0-9\+\/]/g,"")},E=function(e){return function(e){return w(_(e))}(C(e))};n.Uint8Array&&(v=function(e){return Uint8Array.from(x(C(e)),(function(e){return e.charCodeAt(0)}))});if(n.Base64={VERSION:"2.6.4",atob:x,btoa:f,fromBase64:E,toBase64:g,utob:h,encode:g,encodeURI:function(e){return g(e,!0)},btou:w,decode:E,noConflict:function(){var e=n.Base64;return n.Base64=o,e},fromUint8Array:i,toUint8Array:v},"function"==typeof Object.defineProperty){var k=function(e){return{value:e,enumerable:!1,writable:!0,configurable:!0}};n.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",k((function(){return E(this)}))),Object.defineProperty(String.prototype,"toBase64",k((function(e){return g(this,e)}))),Object.defineProperty(String.prototype,"toBase64URI",k((function(){return g(this,!0)})))}}return n.Meteor&&(Base64=n.Base64),e.exports?e.exports.Base64=n.Base64:void 0===(r=function(){return n.Base64}.apply(t,[]))||(e.exports=r),{Base64:n.Base64}}(n)}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:this)},25127:e=>{"use strict";var t=e.exports=function(e,t,r){"function"==typeof t&&(r=t,t={}),n(t,"function"==typeof(r=t.cb||r)?r:r.pre||function(){},r.post||function(){},e,"",e)};function n(e,r,i,o,s,a,c,u,l,h){if(o&&"object"==typeof o&&!Array.isArray(o)){for(var d in r(o,s,a,c,u,l,h),o){var f=o[d];if(Array.isArray(f)){if(d in t.arrayKeywords)for(var p=0;p<f.length;p++)n(e,r,i,f[p],s+"/"+d+"/"+p,a,s,d,o,p)}else if(d in t.propsKeywords){if(f&&"object"==typeof f)for(var m in f)n(e,r,i,f[m],s+"/"+d+"/"+m.replace(/~/g,"~0").replace(/\//g,"~1"),a,s,d,o,m)}else(d in t.keywords||e.allKeys&&!(d in t.skipKeywords))&&n(e,r,i,f,s+"/"+d,a,s,d,o)}i(o,s,a,c,u,l,h)}}t.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},t.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},t.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},t.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},93784:(e,t)=>{function n(e,t){var n=[],r=[];return null==t&&(t=function(e,t){return n[0]===t?"[Circular ~]":"[Circular ~."+r.slice(0,n.indexOf(t)).join(".")+"]"}),function(i,o){if(n.length>0){var s=n.indexOf(this);~s?n.splice(s+1):n.push(this),~s?r.splice(s,1/0,i):r.push(i),~n.indexOf(o)&&(o=t.call(this,i,o))}else n.push(o);return null==e?o:e.call(this,i,o)}}(e.exports=function(e,t,r,i){return JSON.stringify(e,n(t,i),r)}).getSerialize=n},76309:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{ZP:()=>pn});var i=Uint8Array,o=Uint16Array,s=Uint32Array,a=new i([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),c=new i([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),u=new i([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),l=function(e,t){for(var n=new o(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var i=new s(n[30]);for(r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)i[a]=a-n[r]<<5|r;return[n,i]},h=l(a,2),d=h[0],f=h[1];d[28]=258,f[258]=28;for(var p=l(c,0),m=p[0],g=p[1],v=new o(32768),y=0;y<32768;++y){var b=(43690&y)>>>1|(21845&y)<<1;b=(61680&(b=(52428&b)>>>2|(13107&b)<<2))>>>4|(3855&b)<<4,v[y]=((65280&b)>>>8|(255&b)<<8)>>>1}var w=function(e,t,n){for(var r=e.length,i=0,s=new o(t);i<r;++i)++s[e[i]-1];var a,c=new o(t);for(i=0;i<t;++i)c[i]=c[i-1]+s[i-1]<<1;if(n){a=new o(1<<t);var u=15-t;for(i=0;i<r;++i)if(e[i])for(var l=i<<4|e[i],h=t-e[i],d=c[e[i]-1]++<<h,f=d|(1<<h)-1;d<=f;++d)a[v[d]>>>u]=l}else for(a=new o(r),i=0;i<r;++i)a[i]=v[c[e[i]-1]++]>>>15-e[i];return a},S=new i(288);for(y=0;y<144;++y)S[y]=8;for(y=144;y<256;++y)S[y]=9;for(y=256;y<280;++y)S[y]=7;for(y=280;y<288;++y)S[y]=8;var _=new i(32);for(y=0;y<32;++y)_[y]=5;var x=w(S,9,0),C=w(S,9,1),E=w(_,5,0),k=w(_,5,1),A=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},N=function(e,t,n){var r=t/8>>0;return(e[r]|e[r+1]<<8)>>>(7&t)&n},T=function(e,t){var n=t/8>>0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>>(7&t)},P=function(e){return(e/8>>0)+(7&e&&1)},O=function(e,t,n){(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length);var r=new(e instanceof o?o:e instanceof s?s:i)(n-t);return r.set(e.subarray(t,n)),r},I=function(e,t,n){var r=e.length,o=!t||n,s=!n||n.i;n||(n={}),t||(t=new i(3*r));var l=function(e){var n=t.length;if(e>n){var r=new i(Math.max(2*n,e));r.set(t),t=r}},h=n.f||0,f=n.p||0,p=n.b||0,g=n.l,v=n.d,y=n.m,b=n.n,S=8*r;do{if(!g){n.f=h=N(e,f,1);var _=N(e,f+1,3);if(f+=3,!_){var x=e[(U=P(f)+4)-4]|e[U-3]<<8,E=U+x;if(E>r){if(s)throw"unexpected EOF";break}o&&l(p+x),t.set(e.subarray(U,E),p),n.b=p+=x,n.p=f=8*E;continue}if(1==_)g=C,v=k,y=9,b=5;else{if(2!=_)throw"invalid block type";var I=N(e,f,31)+257,R=N(e,f+10,15)+4,L=I+N(e,f+5,31)+1;f+=14;for(var M=new i(L),D=new i(19),j=0;j<R;++j)D[u[j]]=N(e,f+3*j,7);f+=3*R;var F=A(D),B=(1<<F)-1;if(!s&&f+L*(F+7)>S)break;var q=w(D,F,1);for(j=0;j<L;){var U,z=q[N(e,f,B)];if(f+=15&z,(U=z>>>4)<16)M[j++]=U;else{var $=0,H=0;for(16==U?(H=3+N(e,f,3),f+=2,$=M[j-1]):17==U?(H=3+N(e,f,7),f+=3):18==U&&(H=11+N(e,f,127),f+=7);H--;)M[j++]=$}}var G=M.subarray(0,I),V=M.subarray(I);y=A(G),b=A(V),g=w(G,y,1),v=w(V,b,1)}if(f>S)throw"unexpected EOF"}o&&l(p+131072);for(var W=(1<<y)-1,K=(1<<b)-1,Z=y+b+18;s||f+Z<S;){var Y=($=g[T(e,f)&W])>>>4;if((f+=15&$)>S)throw"unexpected EOF";if(!$)throw"invalid length/literal";if(Y<256)t[p++]=Y;else{if(256==Y){g=null;break}var J=Y-254;if(Y>264){var Q=a[j=Y-257];J=N(e,f,(1<<Q)-1)+d[j],f+=Q}var X=v[T(e,f)&K],ee=X>>>4;if(!X)throw"invalid distance";if(f+=15&X,V=m[ee],ee>3&&(Q=c[ee],V+=T(e,f)&(1<<Q)-1,f+=Q),f>S)throw"unexpected EOF";o&&l(p+131072);for(var te=p+J;p<te;p+=4)t[p]=t[p-V],t[p+1]=t[p+1-V],t[p+2]=t[p+2-V],t[p+3]=t[p+3-V];p=te}}n.l=g,n.p=f,n.b=p,g&&(h=1,n.m=y,n.d=v,n.n=b)}while(!h);return p==t.length?t:O(t,0,p)},R=function(e,t,n){n<<=7&t;var r=t/8>>0;e[r]|=n,e[r+1]|=n>>>8},L=function(e,t,n){n<<=7&t;var r=t/8>>0;e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},M=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var s=n.length,a=n.slice();if(!s)return[new i(0),0];if(1==s){var c=new i(n[0].s+1);return c[n[0].s]=1,[c,1]}n.sort((function(e,t){return e.f-t.f})),n.push({s:-1,f:25001});var u=n[0],l=n[1],h=0,d=1,f=2;for(n[0]={s:-1,f:u.f+l.f,l:u,r:l};d!=s-1;)u=n[n[h].f<n[f].f?h++:f++],l=n[h!=d&&n[h].f<n[f].f?h++:f++],n[d++]={s:-1,f:u.f+l.f,l:u,r:l};var p=a[0].s;for(r=1;r<s;++r)a[r].s>p&&(p=a[r].s);var m=new o(p+1),g=D(n[d-1],m,0);if(g>t){r=0;var v=0,y=g-t,b=1<<y;for(a.sort((function(e,t){return m[t.s]-m[e.s]||e.f-t.f}));r<s;++r){var w=a[r].s;if(!(m[w]>t))break;v+=b-(1<<g-m[w]),m[w]=t}for(v>>>=y;v>0;){var S=a[r].s;m[S]<t?v-=1<<t-m[S]++-1:++r}for(;r>=0&&v;--r){var _=a[r].s;m[_]==t&&(--m[_],++v)}g=t}return[new i(m),g]},D=function(e,t,n){return-1==e.s?Math.max(D(e.l,t,n+1),D(e.r,t,n+1)):t[e.s]=n},j=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new o(++t),r=0,i=e[0],s=1,a=function(e){n[r++]=e},c=1;c<=t;++c)if(e[c]==i&&c!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=e[c]}return[n.subarray(0,r),t]},F=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},B=function(e,t,n){var r=n.length,i=P(t+2);e[i]=255&r,e[i+1]=r>>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var o=0;o<r;++o)e[i+o+4]=n[o];return 8*(i+4+r)},q=function(e,t,n,r,i,s,l,h,d,f,p){R(t,p++,n),++i[256];for(var m=M(i,15),g=m[0],v=m[1],y=M(s,15),b=y[0],C=y[1],k=j(g),A=k[0],N=k[1],T=j(b),P=T[0],O=T[1],I=new o(19),D=0;D<A.length;++D)I[31&A[D]]++;for(D=0;D<P.length;++D)I[31&P[D]]++;for(var q=M(I,7),U=q[0],z=q[1],$=19;$>4&&!U[u[$-1]];--$);var H,G,V,W,K=f+5<<3,Z=F(i,S)+F(s,_)+l,Y=F(i,g)+F(s,b)+l+14+3*$+F(I,U)+(2*I[16]+3*I[17]+7*I[18]);if(K<=Z&&K<=Y)return B(t,p,e.subarray(d,d+f));if(R(t,p,1+(Y<Z)),p+=2,Y<Z){H=w(g,v,0),G=g,V=w(b,C,0),W=b;var J=w(U,z,0);for(R(t,p,N-257),R(t,p+5,O-1),R(t,p+10,$-4),p+=14,D=0;D<$;++D)R(t,p+3*D,U[u[D]]);p+=3*$;for(var Q=[A,P],X=0;X<2;++X){var ee=Q[X];for(D=0;D<ee.length;++D){var te=31&ee[D];R(t,p,J[te]),p+=U[te],te>15&&(R(t,p,ee[D]>>>5&127),p+=ee[D]>>>12)}}}else H=x,G=S,V=E,W=_;for(D=0;D<h;++D)if(r[D]>255){te=r[D]>>>18&31,L(t,p,H[te+257]),p+=G[te+257],te>7&&(R(t,p,r[D]>>>23&31),p+=a[te]);var ne=31&r[D];L(t,p,V[ne]),p+=W[ne],ne>3&&(L(t,p,r[D]>>>5&8191),p+=c[ne])}else L(t,p,H[r[D]]),p+=G[r[D]];return L(t,p,H[256]),p+G[256]},U=new s([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),z=new i(0),$=function(){var e=1,t=0;return{p:function(n){for(var r=e,i=t,o=n.length,s=0;s!=o;){for(var a=Math.min(s+5552,o);s<a;++s)i+=r+=n[s];r%=65521,i%=65521}e=r,t=i},d:function(){return(e>>>8<<16|(255&t)<<8|t>>>8)+2*((255&e)<<23)}}},H=function(e,t,n,r,u){return function(e,t,n,r,u,l){var h=e.length,d=new i(r+h+5*(1+Math.floor(h/7e3))+u),p=d.subarray(r,d.length-u),m=0;if(!t||h<8)for(var v=0;v<=h;v+=65535){var y=v+65535;y<h?m=B(p,m,e.subarray(v,y)):(p[v]=l,m=B(p,m,e.subarray(v,h)))}else{for(var b=U[t-1],w=b>>>13,S=8191&b,_=(1<<n)-1,x=new o(32768),C=new o(_+1),E=Math.ceil(n/3),k=2*E,A=function(t){return(e[t]^e[t+1]<<E^e[t+2]<<k)&_},N=new s(25e3),T=new o(288),I=new o(32),R=0,L=0,M=(v=0,0),D=0,j=0;v<h;++v){var F=A(v),$=32767&v,H=C[F];if(x[$]=H,C[F]=$,D<=v){var G=h-v;if((R>7e3||M>24576)&&G>423){m=q(e,p,0,N,T,I,L,M,j,v-j,m),M=R=L=0,j=v;for(var V=0;V<286;++V)T[V]=0;for(V=0;V<30;++V)I[V]=0}var W=2,K=0,Z=S,Y=$-H&32767;if(G>2&&F==A(v-Y))for(var J=Math.min(w,G)-1,Q=Math.min(32767,v),X=Math.min(258,G);Y<=Q&&--Z&&$!=H;){if(e[v+W]==e[v+W-Y]){for(var ee=0;ee<X&&e[v+ee]==e[v+ee-Y];++ee);if(ee>W){if(W=ee,K=Y,ee>J)break;var te=Math.min(Y,ee-2),ne=0;for(V=0;V<te;++V){var re=v-Y+V+32768&32767,ie=re-x[re]+32768&32767;ie>ne&&(ne=ie,H=re)}}}Y+=($=H)-(H=x[$])+32768&32767}if(K){N[M++]=268435456|f[W]<<18|g[K];var oe=31&f[W],se=31&g[K];L+=a[oe]+c[se],++T[257+oe],++I[se],D=v+W,++R}else N[M++]=e[v],++T[e[v]]}}m=q(e,p,l,N,T,I,L,M,j,v-j,m),l||(m=B(p,m,z))}return O(d,0,r+P(m)+u)}(e,null==t.level?6:t.level,null==t.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,n,r,!u)},G=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},V=function(e,t){var n=t.level,r=0==n?0:n<6?1:9==n?3:2;e[0]=120,e[1]=r<<6|(r?32-2*r:1)},W=function(e){if(8!=(15&e[0])||e[0]>>>4>7||(e[0]<<8|e[1])%31)throw"invalid zlib data";if(32&e[1])throw"invalid zlib data: preset dictionaries not supported"};function K(e,t){void 0===t&&(t={});var n=$();n.p(e);var r=H(e,t,2,4);return V(r,t),G(r,r.length-4,n.d()),r}var Z=function(){return"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:this}();function Y(){Z.console&&"function"==typeof Z.console.log&&Z.console.log.apply(Z.console,arguments)}var J={log:Y,warn:function(e){Z.console&&("function"==typeof Z.console.warn?Z.console.warn.apply(Z.console,arguments):Y.call(null,arguments))},error:function(e){Z.console&&("function"==typeof Z.console.error?Z.console.error.apply(Z.console,arguments):Y(e))}};function Q(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){re(r.response,t,n)},r.onerror=function(){J.error("could not download file")},r.send()}function X(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return t.status>=200&&t.status<=299}function ee(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var te,ne,re=Z.saveAs||("object"!==("undefined"==typeof window?"undefined":r(window))||window!==Z?function(){}:"undefined"!=typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=Z.URL||Z.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener","string"==typeof e?(i.href=e,i.origin!==location.origin?X(i.href)?Q(e,t,n):ee(i,i.target="_blank"):ee(i)):(i.href=r.createObjectURL(e),setTimeout((function(){r.revokeObjectURL(i.href)}),4e4),setTimeout((function(){ee(i)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download","string"==typeof e)if(X(e))Q(e,t,n);else{var i=document.createElement("a");i.href=e,i.target="_blank",setTimeout((function(){ee(i)}))}else navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!==r(t)&&(J.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}(e,n),t)}:function(e,t,n,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof e)return Q(e,t,n);var o="application/octet-stream"===e.type,s=/constructor/i.test(Z.HTMLElement)||Z.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||o&&s)&&"object"===("undefined"==typeof FileReader?"undefined":r(FileReader))){var c=new FileReader;c.onloadend=function(){var e=c.result;e=a?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=e:location=e,i=null},c.readAsDataURL(e)}else{var u=Z.URL||Z.webkitURL,l=u.createObjectURL(e);i?i.location=l:location.href=l,i=null,setTimeout((function(){u.revokeObjectURL(l)}),4e4)}});function ie(e){var t;e=e||"",this.ok=!1,"#"==e.charAt(0)&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,o=n[r].process,s=i.exec(e);s&&(t=o(s),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),n=this.b.toString(16);return 1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==n.length&&(n="0"+n),"#"+e+t+n}}function oe(e,t){var n=e[0],r=e[1],i=e[2],o=e[3];n=ae(n,r,i,o,t[0],7,-680876936),o=ae(o,n,r,i,t[1],12,-389564586),i=ae(i,o,n,r,t[2],17,606105819),r=ae(r,i,o,n,t[3],22,-1044525330),n=ae(n,r,i,o,t[4],7,-176418897),o=ae(o,n,r,i,t[5],12,1200080426),i=ae(i,o,n,r,t[6],17,-1473231341),r=ae(r,i,o,n,t[7],22,-45705983),n=ae(n,r,i,o,t[8],7,1770035416),o=ae(o,n,r,i,t[9],12,-1958414417),i=ae(i,o,n,r,t[10],17,-42063),r=ae(r,i,o,n,t[11],22,-1990404162),n=ae(n,r,i,o,t[12],7,1804603682),o=ae(o,n,r,i,t[13],12,-40341101),i=ae(i,o,n,r,t[14],17,-1502002290),n=ce(n,r=ae(r,i,o,n,t[15],22,1236535329),i,o,t[1],5,-165796510),o=ce(o,n,r,i,t[6],9,-1069501632),i=ce(i,o,n,r,t[11],14,643717713),r=ce(r,i,o,n,t[0],20,-373897302),n=ce(n,r,i,o,t[5],5,-701558691),o=ce(o,n,r,i,t[10],9,38016083),i=ce(i,o,n,r,t[15],14,-660478335),r=ce(r,i,o,n,t[4],20,-405537848),n=ce(n,r,i,o,t[9],5,568446438),o=ce(o,n,r,i,t[14],9,-1019803690),i=ce(i,o,n,r,t[3],14,-187363961),r=ce(r,i,o,n,t[8],20,1163531501),n=ce(n,r,i,o,t[13],5,-1444681467),o=ce(o,n,r,i,t[2],9,-51403784),i=ce(i,o,n,r,t[7],14,1735328473),n=ue(n,r=ce(r,i,o,n,t[12],20,-1926607734),i,o,t[5],4,-378558),o=ue(o,n,r,i,t[8],11,-2022574463),i=ue(i,o,n,r,t[11],16,1839030562),r=ue(r,i,o,n,t[14],23,-35309556),n=ue(n,r,i,o,t[1],4,-1530992060),o=ue(o,n,r,i,t[4],11,1272893353),i=ue(i,o,n,r,t[7],16,-155497632),r=ue(r,i,o,n,t[10],23,-1094730640),n=ue(n,r,i,o,t[13],4,681279174),o=ue(o,n,r,i,t[0],11,-358537222),i=ue(i,o,n,r,t[3],16,-722521979),r=ue(r,i,o,n,t[6],23,76029189),n=ue(n,r,i,o,t[9],4,-640364487),o=ue(o,n,r,i,t[12],11,-421815835),i=ue(i,o,n,r,t[15],16,530742520),n=le(n,r=ue(r,i,o,n,t[2],23,-995338651),i,o,t[0],6,-198630844),o=le(o,n,r,i,t[7],10,1126891415),i=le(i,o,n,r,t[14],15,-1416354905),r=le(r,i,o,n,t[5],21,-57434055),n=le(n,r,i,o,t[12],6,1700485571),o=le(o,n,r,i,t[3],10,-1894986606),i=le(i,o,n,r,t[10],15,-1051523),r=le(r,i,o,n,t[1],21,-2054922799),n=le(n,r,i,o,t[8],6,1873313359),o=le(o,n,r,i,t[15],10,-30611744),i=le(i,o,n,r,t[6],15,-1560198380),r=le(r,i,o,n,t[13],21,1309151649),n=le(n,r,i,o,t[4],6,-145523070),o=le(o,n,r,i,t[11],10,-1120210379),i=le(i,o,n,r,t[2],15,718787259),r=le(r,i,o,n,t[9],21,-343485551),e[0]=ye(n,e[0]),e[1]=ye(r,e[1]),e[2]=ye(i,e[2]),e[3]=ye(o,e[3])}function se(e,t,n,r,i,o){return t=ye(ye(t,e),ye(r,o)),ye(t<<i|t>>>32-i,n)}function ae(e,t,n,r,i,o,s){return se(t&n|~t&r,e,t,i,o,s)}function ce(e,t,n,r,i,o,s){return se(t&r|n&~r,e,t,i,o,s)}function ue(e,t,n,r,i,o,s){return se(t^n^r,e,t,i,o,s)}function le(e,t,n,r,i,o,s){return se(n^(t|~r),e,t,i,o,s)}function he(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)oe(r,de(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(oe(r,i),t=0;t<16;t++)i[t]=0;return i[14]=8*n,oe(r,i),r}function de(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}te=Z.atob.bind(Z),ne=Z.btoa.bind(Z);var fe="0123456789abcdef".split("");function pe(e){for(var t="",n=0;n<4;n++)t+=fe[e>>8*n+4&15]+fe[e>>8*n&15];return t}function me(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function ge(e){return he(e).map(me).join("")}var ve="5d41402abc4b2a76b9719d911017c592"!=function(e){for(var t=0;t<e.length;t++)e[t]=pe(e[t]);return e.join("")}(he("hello"));function ye(e,t){if(ve){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}function be(e,t){var n,r,i,o;if(e!==n){for(var s=(i=e,o=1+(256/e.length>>0),new Array(o+1).join(i)),a=[],c=0;c<256;c++)a[c]=c;var u=0;for(c=0;c<256;c++){var l=a[c];u=(u+l+s.charCodeAt(c))%256,a[c]=a[u],a[u]=l}n=e,r=a}else a=r;var h=t.length,d=0,f=0,p="";for(c=0;c<h;c++)f=(f+(l=a[d=(d+1)%256]))%256,a[d]=a[f],a[f]=l,s=a[(a[d]+a[f])%256],p+=String.fromCharCode(t.charCodeAt(c)^s);return p}var we={print:4,modify:8,copy:16,"annot-forms":32};function Se(e,t,n,r){this.v=1,this.r=2;var i=192;e.forEach((function(e){if(void 0!==we.perm)throw new Error("Invalid permission: "+e);i+=we[e]})),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var o=(t+this.padding).substr(0,32),s=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,s),this.P=-(1+(255^i)),this.encryptionKey=ge(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=be(this.encryptionKey,this.padding)}function _e(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var i=e.charCodeAt(r);t+=i<33||35===i||37===i||40===i||41===i||47===i||60===i||62===i||91===i||93===i||123===i||125===i||i>126?"#"+("0"+i.toString(16)).slice(-2):e[r]}return t}function xe(e){if("object"!==r(e))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,n,r){if(r=r||!1,"string"!=typeof e||"function"!=typeof n||"boolean"!=typeof r)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var i=Math.random().toString(35);return t[e][i]=[n,!!r],i},this.unsubscribe=function(e){for(var n in t)if(t[n][e])return delete t[n][e],0===Object.keys(t[n]).length&&delete t[n],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var o in t[n]){var s=t[n][o];try{s[0].apply(e,r)}catch(n){Z.console&&J.error("jsPDF PubSub Error",n.message,n)}s[1]&&i.push(o)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Ce(e){if(!(this instanceof Ce))return new Ce(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function Ee(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function ke(e,t,n,r,i){if(!(this instanceof ke))return new ke(e,t,n,r,i);this.type="axial"===e?2:3,this.coords=t,this.colors=n,Ee.call(this,r,i)}function Ae(e,t,n,r,i){if(!(this instanceof Ae))return new Ae(e,t,n,r,i);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,Ee.call(this,r,i)}function Ne(e){var t,n="string"==typeof arguments[0]?arguments[0]:"p",i=arguments[1],o=arguments[2],s=arguments[3],a=[],c=1,u=16,l="S",h=null;"object"===r(e=e||{})&&(n=e.orientation,i=e.unit||i,o=e.format||o,s=e.compress||e.compressPdf||s,null!==(h=e.encryption||null)&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),c="number"==typeof e.userUnit?Math.abs(e.userUnit):1,void 0!==e.precision&&(t=e.precision),void 0!==e.floatPrecision&&(u=e.floatPrecision),l=e.defaultPathOperation||"S"),a=e.filters||(!0===s?["FlateEncode"]:a),i=i||"mm",n=(""+(n||"P")).toLowerCase();var d=e.putOnlyUsedFonts||!1,f={},p={internal:{},__private__:{}};p.__private__.PubSub=xe;var m="1.3",g=p.__private__.getPdfVersion=function(){return m};p.__private__.setPdfVersion=function(e){m=e};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return v};var y=p.__private__.getPageFormat=function(e){return v[e]};o=o||"a4";var b={COMPAT:"compat",ADVANCED:"advanced"},w=b.COMPAT;function S(){this.saveGraphicsState(),X(new $e(ve,0,0,-ve,0,Sn()*ve).toString()+" cm"),this.setFontSize(this.getFontSize()/ve),l="n",w=b.ADVANCED}function _(){this.restoreGraphicsState(),l="S",w=b.COMPAT}var x=p.__private__.combineFontStyleAndFontWeight=function(e,t){if("bold"==e&&"normal"==t||"bold"==e&&400==t||"normal"==e&&"italic"==t||"bold"==e&&"italic"==t)throw new Error("Invalid Combination of fontweight and fontstyle");return t&&(e=400==t||"normal"===t?"italic"===e?"italic":"normal":700!=t&&"bold"!==t||"normal"!==e?(700==t?"bold":t)+""+e:"bold"),e};p.advancedAPI=function(e){var t=w===b.COMPAT;return t&&S.call(this),"function"!=typeof e||(e(this),t&&_.call(this)),this},p.compatAPI=function(e){var t=w===b.ADVANCED;return t&&_.call(this),"function"!=typeof e||(e(this),t&&S.call(this)),this},p.isAdvancedAPI=function(){return w===b.ADVANCED};var C,E=function(e){if(w!==b.ADVANCED)throw new Error(e+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},k=p.roundToPrecision=p.__private__.roundToPrecision=function(e,n){var r=t||n;if(isNaN(e)||isNaN(r))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return e.toFixed(r).replace(/0+$/,"")};C=p.hpf=p.__private__.hpf="number"==typeof u?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return k(e,u)}:"smart"===u?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return k(e,e>-1&&e<1?16:5)}:function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return k(e,16)};var A=p.f2=p.__private__.f2=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f2");return k(e,2)},N=p.__private__.f3=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f3");return k(e,3)},T=p.scale=p.__private__.scale=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.scale");return w===b.COMPAT?e*ve:w===b.ADVANCED?e:void 0},P=function(e){return T(function(e){return w===b.COMPAT?Sn()-e:w===b.ADVANCED?e:void 0}(e))};p.__private__.setPrecision=p.setPrecision=function(e){"number"==typeof parseInt(e,10)&&(t=parseInt(e,10))};var O,I="00000000000000000000000000000000",R=p.__private__.getFileId=function(){return I},L=p.__private__.setFileId=function(e){return I=void 0!==e&&/^[a-fA-F0-9]{32}$/.test(e)?e.toUpperCase():I.split("").map((function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))})).join(""),null!==h&&(Pt=new Se(h.userPermissions,h.userPassword,h.ownerPassword,I)),I};p.setFileId=function(e){return L(e),this},p.getFileId=function(){return R()};var M=p.__private__.convertDateToPDFDate=function(e){var t=e.getTimezoneOffset(),n=t<0?"+":"-",r=Math.floor(Math.abs(t/60)),i=Math.abs(t%60),o=[n,q(r),"'",q(i),"'"].join("");return["D:",e.getFullYear(),q(e.getMonth()+1),q(e.getDate()),q(e.getHours()),q(e.getMinutes()),q(e.getSeconds()),o].join("")},D=p.__private__.convertPDFDateToDate=function(e){var t=parseInt(e.substr(2,4),10),n=parseInt(e.substr(6,2),10)-1,r=parseInt(e.substr(8,2),10),i=parseInt(e.substr(10,2),10),o=parseInt(e.substr(12,2),10),s=parseInt(e.substr(14,2),10);return new Date(t,n,r,i,o,s,0)},j=p.__private__.setCreationDate=function(e){var t;if(void 0===e&&(e=new Date),e instanceof Date)t=M(e);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(e))throw new Error("Invalid argument passed to jsPDF.setCreationDate");t=e}return O=t},F=p.__private__.getCreationDate=function(e){var t=O;return"jsDate"===e&&(t=D(O)),t};p.setCreationDate=function(e){return j(e),this},p.getCreationDate=function(e){return F(e)};var B,q=p.__private__.padd2=function(e){return("0"+parseInt(e)).slice(-2)},U=p.__private__.padd2Hex=function(e){return("00"+(e=e.toString())).substr(e.length)},z=0,$=[],H=[],G=0,V=[],W=[],K=!1,Y=H;p.__private__.setCustomOutputDestination=function(e){K=!0,Y=e};var Q=function(e){K||(Y=e)};p.__private__.resetCustomOutputDestination=function(){K=!1,Y=H};var X=p.__private__.out=function(e){return e=e.toString(),G+=e.length+1,Y.push(e),Y},ee=p.__private__.write=function(e){return X(1===arguments.length?e.toString():Array.prototype.join.call(arguments," "))},te=p.__private__.getArrayBuffer=function(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n);t--;)r[t]=e.charCodeAt(t);return n},oe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return oe};var se=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(e){return se=w===b.ADVANCED?e/ve:e,this};var ae,ce=p.__private__.getFontSize=p.getFontSize=function(){return w===b.COMPAT?se:se*ve},ue=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(e){return ue=e,this},p.__private__.getR2L=p.getR2L=function(){return ue};var le,he=p.__private__.setZoomMode=function(e){if(/^\d*\.?\d*%$/.test(e))ae=e;else if(isNaN(e)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(e))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+e+'" is not recognized.');ae=e}else ae=parseInt(e,10)};p.__private__.getZoomMode=function(){return ae};var de,fe=p.__private__.setPageMode=function(e){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(e))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+e+'" is not recognized.');le=e};p.__private__.getPageMode=function(){return le};var pe=p.__private__.setLayoutMode=function(e){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(e))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+e+'" is not recognized.');de=e};p.__private__.getLayoutMode=function(){return de},p.__private__.setDisplayMode=p.setDisplayMode=function(e,t,n){return he(e),pe(t),fe(n),this};var me={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(e){if(-1===Object.keys(me).indexOf(e))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return me[e]},p.__private__.getDocumentProperties=function(){return me},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(e){for(var t in me)me.hasOwnProperty(t)&&e[t]&&(me[t]=e[t]);return this},p.__private__.setDocumentProperty=function(e,t){if(-1===Object.keys(me).indexOf(e))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return me[e]=t};var ge,ve,ye,be,we,Ee={},Te={},Pe=[],Oe={},Ie={},Re={},Le={},Me=null,De=0,je=[],Fe=new xe(p),Be=e.hotfixes||[],qe={},Ue={},ze=[],$e=function e(t,n,r,i,o,s){if(!(this instanceof e))return new e(t,n,r,i,o,s);isNaN(t)&&(t=1),isNaN(n)&&(n=0),isNaN(r)&&(r=0),isNaN(i)&&(i=1),isNaN(o)&&(o=0),isNaN(s)&&(s=0),this._matrix=[t,n,r,i,o,s]};Object.defineProperty($e.prototype,"sx",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty($e.prototype,"shy",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty($e.prototype,"shx",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty($e.prototype,"sy",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty($e.prototype,"tx",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty($e.prototype,"ty",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty($e.prototype,"a",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty($e.prototype,"b",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty($e.prototype,"c",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty($e.prototype,"d",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty($e.prototype,"e",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty($e.prototype,"f",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty($e.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty($e.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty($e.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty($e.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),$e.prototype.join=function(e){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(C).join(e)},$e.prototype.multiply=function(e){var t=e.sx*this.sx+e.shy*this.shx,n=e.sx*this.shy+e.shy*this.sy,r=e.shx*this.sx+e.sy*this.shx,i=e.shx*this.shy+e.sy*this.sy,o=e.tx*this.sx+e.ty*this.shx+this.tx,s=e.tx*this.shy+e.ty*this.sy+this.ty;return new $e(t,n,r,i,o,s)},$e.prototype.decompose=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,i=this.tx,o=this.ty,s=Math.sqrt(e*e+t*t),a=(e/=s)*n+(t/=s)*r;n-=e*a,r-=t*a;var c=Math.sqrt(n*n+r*r);return a/=c,e*(r/=c)<t*(n/=c)&&(e=-e,t=-t,a=-a,s=-s),{scale:new $e(s,0,0,c,0,0),translate:new $e(1,0,0,1,i,o),rotate:new $e(e,t,-t,e,0,0),skew:new $e(1,0,a,1,0,0)}},$e.prototype.toString=function(e){return this.join(" ")},$e.prototype.inversed=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,i=this.tx,o=this.ty,s=1/(e*r-t*n),a=r*s,c=-t*s,u=-n*s,l=e*s;return new $e(a,c,u,l,-a*i-u*o,-c*i-l*o)},$e.prototype.applyToPoint=function(e){var t=e.x*this.sx+e.y*this.shx+this.tx,n=e.x*this.shy+e.y*this.sy+this.ty;return new pn(t,n)},$e.prototype.applyToRectangle=function(e){var t=this.applyToPoint(e),n=this.applyToPoint(new pn(e.x+e.w,e.y+e.h));return new mn(t.x,t.y,n.x-t.x,n.y-t.y)},$e.prototype.clone=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,i=this.tx,o=this.ty;return new $e(e,t,n,r,i,o)},p.Matrix=$e;var He=p.matrixMult=function(e,t){return t.multiply(e)},Ge=new $e(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Ge;var Ve=function(e,t){if(!Ie[e]){var n=(t instanceof ke?"Sh":"P")+(Object.keys(Oe).length+1).toString(10);t.id=n,Ie[e]=n,Oe[n]=t,Fe.publish("addPattern",t)}};p.ShadingPattern=ke,p.TilingPattern=Ae,p.addShadingPattern=function(e,t){return E("addShadingPattern()"),Ve(e,t),this},p.beginTilingPattern=function(e){E("beginTilingPattern()"),vn(e.boundingBox[0],e.boundingBox[1],e.boundingBox[2]-e.boundingBox[0],e.boundingBox[3]-e.boundingBox[1],e.matrix)},p.endTilingPattern=function(e,t){E("endTilingPattern()"),t.stream=W[B].join("\n"),Ve(e,t),Fe.publish("endTilingPattern",t),ze.pop().restore()};var We,Ke=p.__private__.newObject=function(){var e=Ze();return Ye(e,!0),e},Ze=p.__private__.newObjectDeferred=function(){return z++,$[z]=function(){return G},z},Ye=function(e,t){return t="boolean"==typeof t&&t,$[e]=G,t&&X(e+" 0 obj"),e},Je=p.__private__.newAdditionalObject=function(){var e={objId:Ze(),content:""};return V.push(e),e},Qe=Ze(),Xe=Ze(),et=p.__private__.decodeColorString=function(e){var t=e.split(" ");if(2!==t.length||"g"!==t[1]&&"G"!==t[1])5!==t.length||"k"!==t[4]&&"K"!==t[4]||(t=[(1-t[0])*(1-t[3]),(1-t[1])*(1-t[3]),(1-t[2])*(1-t[3]),"r"]);else{var n=parseFloat(t[0]);t=[n,n,n,"r"]}for(var r="#",i=0;i<3;i++)r+=("0"+Math.floor(255*parseFloat(t[i])).toString(16)).slice(-2);return r},tt=p.__private__.encodeColorString=function(e){var t;"string"==typeof e&&(e={ch1:e});var n=e.ch1,i=e.ch2,o=e.ch3,s=e.ch4,a="draw"===e.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof n&&"#"!==n.charAt(0)){var c=new ie(n);if(c.ok)n=c.toHex();else if(!/^\d*\.?\d*$/.test(n))throw new Error('Invalid color "'+n+'" passed to jsPDF.encodeColorString.')}if("string"==typeof n&&/^#[0-9A-Fa-f]{3}$/.test(n)&&(n="#"+n[1]+n[1]+n[2]+n[2]+n[3]+n[3]),"string"==typeof n&&/^#[0-9A-Fa-f]{6}$/.test(n)){var u=parseInt(n.substr(1),16);n=u>>16&255,i=u>>8&255,o=255&u}if(void 0===i||void 0===s&&n===i&&i===o)t="string"==typeof n?n+" "+a[0]:2===e.precision?A(n/255)+" "+a[0]:N(n/255)+" "+a[0];else if(void 0===s||"object"===r(s)){if(s&&!isNaN(s.a)&&0===s.a)return["1.","1.","1.",a[1]].join(" ");t="string"==typeof n?[n,i,o,a[1]].join(" "):2===e.precision?[A(n/255),A(i/255),A(o/255),a[1]].join(" "):[N(n/255),N(i/255),N(o/255),a[1]].join(" ")}else t="string"==typeof n?[n,i,o,s,a[2]].join(" "):2===e.precision?[A(n),A(i),A(o),A(s),a[2]].join(" "):[N(n),N(i),N(o),N(s),a[2]].join(" ");return t},nt=p.__private__.getFilters=function(){return a},rt=p.__private__.putStream=function(e){var t=(e=e||{}).data||"",n=e.filters||nt(),r=e.alreadyAppliedFilters||[],i=e.addLength1||!1,o=t.length,s=e.objectId,a=function(e){return e};if(null!==h&&void 0===s)throw new Error("ObjectId must be passed to putStream for file encryption");null!==h&&(a=Pt.encryptor(s,0));var c={};!0===n&&(n=["FlateEncode"]);var u=e.additionalKeyValues||[],l=(c=void 0!==Ne.API.processDataByFilters?Ne.API.processDataByFilters(t,n):{data:t,reverseChain:[]}).reverseChain+(Array.isArray(r)?r.join(" "):r.toString());if(0!==c.data.length&&(u.push({key:"Length",value:c.data.length}),!0===i&&u.push({key:"Length1",value:o})),0!=l.length)if(l.split("/").length-1==1)u.push({key:"Filter",value:l});else{u.push({key:"Filter",value:"["+l+"]"});for(var d=0;d<u.length;d+=1)if("DecodeParms"===u[d].key){for(var f=[],p=0;p<c.reverseChain.split("/").length-1;p+=1)f.push("null");f.push(u[d].value),u[d].value="["+f.join(" ")+"]"}}X("<<");for(var m=0;m<u.length;m++)X("/"+u[m].key+" "+u[m].value);X(">>"),0!==c.data.length&&(X("stream"),X(a(c.data)),X("endstream"))},it=p.__private__.putPage=function(e){var t=e.number,n=e.data,r=e.objId,i=e.contentsObjId;Ye(r,!0),X("<</Type /Page"),X("/Parent "+e.rootDictionaryObjId+" 0 R"),X("/Resources "+e.resourceDictionaryObjId+" 0 R"),X("/MediaBox ["+parseFloat(C(e.mediaBox.bottomLeftX))+" "+parseFloat(C(e.mediaBox.bottomLeftY))+" "+C(e.mediaBox.topRightX)+" "+C(e.mediaBox.topRightY)+"]"),null!==e.cropBox&&X("/CropBox ["+C(e.cropBox.bottomLeftX)+" "+C(e.cropBox.bottomLeftY)+" "+C(e.cropBox.topRightX)+" "+C(e.cropBox.topRightY)+"]"),null!==e.bleedBox&&X("/BleedBox ["+C(e.bleedBox.bottomLeftX)+" "+C(e.bleedBox.bottomLeftY)+" "+C(e.bleedBox.topRightX)+" "+C(e.bleedBox.topRightY)+"]"),null!==e.trimBox&&X("/TrimBox ["+C(e.trimBox.bottomLeftX)+" "+C(e.trimBox.bottomLeftY)+" "+C(e.trimBox.topRightX)+" "+C(e.trimBox.topRightY)+"]"),null!==e.artBox&&X("/ArtBox ["+C(e.artBox.bottomLeftX)+" "+C(e.artBox.bottomLeftY)+" "+C(e.artBox.topRightX)+" "+C(e.artBox.topRightY)+"]"),"number"==typeof e.userUnit&&1!==e.userUnit&&X("/UserUnit "+e.userUnit),Fe.publish("putPage",{objId:r,pageContext:je[t],pageNumber:t,page:n}),X("/Contents "+i+" 0 R"),X(">>"),X("endobj");var o=n.join("\n");return w===b.ADVANCED&&(o+="\nQ"),Ye(i,!0),rt({data:o,filters:nt(),objectId:i}),X("endobj"),r},ot=p.__private__.putPages=function(){var e,t,n=[];for(e=1;e<=De;e++)je[e].objId=Ze(),je[e].contentsObjId=Ze();for(e=1;e<=De;e++)n.push(it({number:e,data:W[e],objId:je[e].objId,contentsObjId:je[e].contentsObjId,mediaBox:je[e].mediaBox,cropBox:je[e].cropBox,bleedBox:je[e].bleedBox,trimBox:je[e].trimBox,artBox:je[e].artBox,userUnit:je[e].userUnit,rootDictionaryObjId:Qe,resourceDictionaryObjId:Xe}));Ye(Qe,!0),X("<</Type /Pages");var r="/Kids [";for(t=0;t<De;t++)r+=n[t]+" 0 R ";X(r+"]"),X("/Count "+De),X(">>"),X("endobj"),Fe.publish("postPutPages")},st=function(e){Fe.publish("putFont",{font:e,out:X,newObject:Ke,putStream:rt}),!0!==e.isAlreadyPutted&&(e.objectNumber=Ke(),X("<<"),X("/Type /Font"),X("/BaseFont /"+_e(e.postScriptName)),X("/Subtype /Type1"),"string"==typeof e.encoding&&X("/Encoding /"+e.encoding),X("/FirstChar 32"),X("/LastChar 255"),X(">>"),X("endobj"))},at=function(e){e.objectNumber=Ke();var t=[];t.push({key:"Type",value:"/XObject"}),t.push({key:"Subtype",value:"/Form"}),t.push({key:"BBox",value:"["+[C(e.x),C(e.y),C(e.x+e.width),C(e.y+e.height)].join(" ")+"]"}),t.push({key:"Matrix",value:"["+e.matrix.toString()+"]"});var n=e.pages[1].join("\n");rt({data:n,additionalKeyValues:t,objectId:e.objectNumber}),X("endobj")},ct=function(e,t){t||(t=21);var n=Ke(),r=function(e,t){var n,r=[],i=1/(t-1);for(n=0;n<1;n+=i)r.push(n);if(r.push(1),0!=e[0].offset){var o={offset:0,color:e[0].color};e.unshift(o)}if(1!=e[e.length-1].offset){var s={offset:1,color:e[e.length-1].color};e.push(s)}for(var a="",c=0,u=0;u<r.length;u++){for(n=r[u];n>e[c+1].offset;)c++;var l=e[c].offset,h=(n-l)/(e[c+1].offset-l),d=e[c].color,f=e[c+1].color;a+=U(Math.round((1-h)*d[0]+h*f[0]).toString(16))+U(Math.round((1-h)*d[1]+h*f[1]).toString(16))+U(Math.round((1-h)*d[2]+h*f[2]).toString(16))}return a.trim()}(e.colors,t),i=[];i.push({key:"FunctionType",value:"0"}),i.push({key:"Domain",value:"[0.0 1.0]"}),i.push({key:"Size",value:"["+t+"]"}),i.push({key:"BitsPerSample",value:"8"}),i.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),i.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),rt({data:r,additionalKeyValues:i,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:n}),X("endobj"),e.objectNumber=Ke(),X("<< /ShadingType "+e.type),X("/ColorSpace /DeviceRGB");var o="/Coords ["+C(parseFloat(e.coords[0]))+" "+C(parseFloat(e.coords[1]))+" ";2===e.type?o+=C(parseFloat(e.coords[2]))+" "+C(parseFloat(e.coords[3])):o+=C(parseFloat(e.coords[2]))+" "+C(parseFloat(e.coords[3]))+" "+C(parseFloat(e.coords[4]))+" "+C(parseFloat(e.coords[5])),X(o+="]"),e.matrix&&X("/Matrix ["+e.matrix.toString()+"]"),X("/Function "+n+" 0 R"),X("/Extend [true true]"),X(">>"),X("endobj")},ut=function(e,t){var n=Ze(),r=Ke();t.push({resourcesOid:n,objectOid:r}),e.objectNumber=r;var i=[];i.push({key:"Type",value:"/Pattern"}),i.push({key:"PatternType",value:"1"}),i.push({key:"PaintType",value:"1"}),i.push({key:"TilingType",value:"1"}),i.push({key:"BBox",value:"["+e.boundingBox.map(C).join(" ")+"]"}),i.push({key:"XStep",value:C(e.xStep)}),i.push({key:"YStep",value:C(e.yStep)}),i.push({key:"Resources",value:n+" 0 R"}),e.matrix&&i.push({key:"Matrix",value:"["+e.matrix.toString()+"]"}),rt({data:e.stream,additionalKeyValues:i,objectId:e.objectNumber}),X("endobj")},lt=function(e){for(var t in e.objectNumber=Ke(),X("<<"),e)switch(t){case"opacity":X("/ca "+A(e[t]));break;case"stroke-opacity":X("/CA "+A(e[t]))}X(">>"),X("endobj")},ht=function(e){Ye(e.resourcesOid,!0),X("<<"),X("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var e in X("/Font <<"),Ee)Ee.hasOwnProperty(e)&&(!1===d||!0===d&&f.hasOwnProperty(e))&&X("/"+e+" "+Ee[e].objectNumber+" 0 R");X(">>")}(),function(){if(Object.keys(Oe).length>0){for(var e in X("/Shading <<"),Oe)Oe.hasOwnProperty(e)&&Oe[e]instanceof ke&&Oe[e].objectNumber>=0&&X("/"+e+" "+Oe[e].objectNumber+" 0 R");Fe.publish("putShadingPatternDict"),X(">>")}}(),function(e){if(Object.keys(Oe).length>0){for(var t in X("/Pattern <<"),Oe)Oe.hasOwnProperty(t)&&Oe[t]instanceof p.TilingPattern&&Oe[t].objectNumber>=0&&Oe[t].objectNumber<e&&X("/"+t+" "+Oe[t].objectNumber+" 0 R");Fe.publish("putTilingPatternDict"),X(">>")}}(e.objectOid),function(){if(Object.keys(Re).length>0){var e;for(e in X("/ExtGState <<"),Re)Re.hasOwnProperty(e)&&Re[e].objectNumber>=0&&X("/"+e+" "+Re[e].objectNumber+" 0 R");Fe.publish("putGStateDict"),X(">>")}}(),function(){for(var e in X("/XObject <<"),qe)qe.hasOwnProperty(e)&&qe[e].objectNumber>=0&&X("/"+e+" "+qe[e].objectNumber+" 0 R");Fe.publish("putXobjectDict"),X(">>")}(),X(">>"),X("endobj")},dt=function(e){Te[e.fontName]=Te[e.fontName]||{},Te[e.fontName][e.fontStyle]=e.id},ft=function(e,t,n,r,i){var o={id:"F"+(Object.keys(Ee).length+1).toString(10),postScriptName:e,fontName:t,fontStyle:n,encoding:r,isStandardFont:i||!1,metadata:{}};return Fe.publish("addFont",{font:o,instance:this}),Ee[o.id]=o,dt(o),o.id},pt=p.__private__.pdfEscape=p.pdfEscape=function(e,t){return function(e,t){var n,r,i,o,s,a,c,u,l;if(i=(t=t||{}).sourceEncoding||"Unicode",s=t.outputEncoding,(t.autoencode||s)&&Ee[ge].metadata&&Ee[ge].metadata[i]&&Ee[ge].metadata[i].encoding&&(o=Ee[ge].metadata[i].encoding,!s&&Ee[ge].encoding&&(s=Ee[ge].encoding),!s&&o.codePages&&(s=o.codePages[0]),"string"==typeof s&&(s=o[s]),s)){for(c=!1,a=[],n=0,r=e.length;n<r;n++)(u=s[e.charCodeAt(n)])?a.push(String.fromCharCode(u)):a.push(e[n]),a[n].charCodeAt(0)>>8&&(c=!0);e=a.join("")}for(n=e.length;void 0===c&&0!==n;)e.charCodeAt(n-1)>>8&&(c=!0),n--;if(!c)return e;for(a=t.noBOM?[]:[254,255],n=0,r=e.length;n<r;n++){if((l=(u=e.charCodeAt(n))>>8)>>8)throw new Error("Character at position "+n+" of string '"+e+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");a.push(l),a.push(u-(l<<8))}return String.fromCharCode.apply(void 0,a)}(e,t).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},mt=p.__private__.beginPage=function(e){W[++De]=[],je[De]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(e[0]),topRightY:Number(e[1])}},yt(De),Q(W[B])},gt=function(e,t){var r,i,s;switch(n=t||n,"string"==typeof e&&(r=y(e.toLowerCase()),Array.isArray(r)&&(i=r[0],s=r[1])),Array.isArray(e)&&(i=e[0]*ve,s=e[1]*ve),isNaN(i)&&(i=o[0],s=o[1]),(i>14400||s>14400)&&(J.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),i=Math.min(14400,i),s=Math.min(14400,s)),o=[i,s],n.substr(0,1)){case"l":s>i&&(o=[s,i]);break;case"p":i>s&&(o=[s,i])}mt(o),Yt(Kt),X(on),0!==hn&&X(hn+" J"),0!==dn&&X(dn+" j"),Fe.publish("addPage",{pageNumber:De})},vt=function(e){e>0&&e<=De&&(W.splice(e,1),je.splice(e,1),De--,B>De&&(B=De),this.setPage(B))},yt=function(e){e>0&&e<=De&&(B=e)},bt=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return W.length-1},wt=function(e,t,n){var r,i=void 0;return n=n||{},e=void 0!==e?e:Ee[ge].fontName,t=void 0!==t?t:Ee[ge].fontStyle,r=e.toLowerCase(),void 0!==Te[r]&&void 0!==Te[r][t]?i=Te[r][t]:void 0!==Te[e]&&void 0!==Te[e][t]?i=Te[e][t]:!1===n.disableWarning&&J.warn("Unable to look up font label for font '"+e+"', '"+t+"'. Refer to getFontList() for available fonts."),i||n.noFallback||null==(i=Te.times[t])&&(i=Te.times.normal),i},St=p.__private__.putInfo=function(){var e=Ke(),t=function(e){return e};for(var n in null!==h&&(t=Pt.encryptor(e,0)),X("<<"),X("/Producer ("+pt(t("jsPDF "+Ne.version))+")"),me)me.hasOwnProperty(n)&&me[n]&&X("/"+n.substr(0,1).toUpperCase()+n.substr(1)+" ("+pt(t(me[n]))+")");X("/CreationDate ("+pt(t(O))+")"),X(">>"),X("endobj")},_t=p.__private__.putCatalog=function(e){var t=(e=e||{}).rootDictionaryObjId||Qe;switch(Ke(),X("<<"),X("/Type /Catalog"),X("/Pages "+t+" 0 R"),ae||(ae="fullwidth"),ae){case"fullwidth":X("/OpenAction [3 0 R /FitH null]");break;case"fullheight":X("/OpenAction [3 0 R /FitV null]");break;case"fullpage":X("/OpenAction [3 0 R /Fit]");break;case"original":X("/OpenAction [3 0 R /XYZ null null 1]");break;default:var n=""+ae;"%"===n.substr(n.length-1)&&(ae=parseInt(ae)/100),"number"==typeof ae&&X("/OpenAction [3 0 R /XYZ null null "+A(ae)+"]")}switch(de||(de="continuous"),de){case"continuous":X("/PageLayout /OneColumn");break;case"single":X("/PageLayout /SinglePage");break;case"two":case"twoleft":X("/PageLayout /TwoColumnLeft");break;case"tworight":X("/PageLayout /TwoColumnRight")}le&&X("/PageMode /"+le),Fe.publish("putCatalog"),X(">>"),X("endobj")},xt=p.__private__.putTrailer=function(){X("trailer"),X("<<"),X("/Size "+(z+1)),X("/Root "+z+" 0 R"),X("/Info "+(z-1)+" 0 R"),null!==h&&X("/Encrypt "+Pt.oid+" 0 R"),X("/ID [ <"+I+"> <"+I+"> ]"),X(">>")},Ct=p.__private__.putHeader=function(){X("%PDF-"+m),X("%ºß¬à")},Et=p.__private__.putXRef=function(){var e="0000000000";X("xref"),X("0 "+(z+1)),X("0000000000 65535 f ");for(var t=1;t<=z;t++)"function"==typeof $[t]?X((e+$[t]()).slice(-10)+" 00000 n "):void 0!==$[t]?X((e+$[t]).slice(-10)+" 00000 n "):X("0000000000 00000 n ")},kt=p.__private__.buildDocument=function(){z=0,G=0,H=[],$=[],V=[],Qe=Ze(),Xe=Ze(),Q(H),Fe.publish("buildDocument"),Ct(),ot(),function(){Fe.publish("putAdditionalObjects");for(var e=0;e<V.length;e++){var t=V[e];Ye(t.objId,!0),X(t.content),X("endobj")}Fe.publish("postPutAdditionalObjects")}(),function(){var e=[];(function(){for(var e in Ee)Ee.hasOwnProperty(e)&&(!1===d||!0===d&&f.hasOwnProperty(e))&&st(Ee[e])})(),function(){var e;for(e in Re)Re.hasOwnProperty(e)&&lt(Re[e])}(),function(){for(var e in qe)qe.hasOwnProperty(e)&&at(qe[e])}(),function(e){var t;for(t in Oe)Oe.hasOwnProperty(t)&&(Oe[t]instanceof ke?ct(Oe[t]):Oe[t]instanceof Ae&&ut(Oe[t],e))}(e),Fe.publish("putResources"),e.forEach(ht),ht({resourcesOid:Xe,objectOid:Number.MAX_SAFE_INTEGER}),Fe.publish("postPutResources")}(),null!==h&&(Pt.oid=Ke(),X("<<"),X("/Filter /Standard"),X("/V "+Pt.v),X("/R "+Pt.r),X("/U <"+Pt.toHexString(Pt.U)+">"),X("/O <"+Pt.toHexString(Pt.O)+">"),X("/P "+Pt.P),X(">>"),X("endobj")),St(),_t();var e=G;return Et(),xt(),X("startxref"),X(""+e),X("%%EOF"),Q(W[B]),H.join("\n")},At=p.__private__.getBlob=function(e){return new Blob([te(e)],{type:"application/pdf"})},Nt=p.output=p.__private__.output=(We=function(e,t){switch("string"==typeof(t=t||{})?t={filename:t}:t.filename=t.filename||"generated.pdf",e){case void 0:return kt();case"save":p.save(t.filename);break;case"arraybuffer":return te(kt());case"blob":return At(kt());case"bloburi":case"bloburl":if(void 0!==Z.URL&&"function"==typeof Z.URL.createObjectURL)return Z.URL&&Z.URL.createObjectURL(At(kt()))||void 0;J.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var n="",r=kt();try{n=ne(r)}catch(e){n=ne(unescape(encodeURIComponent(r)))}return"data:application/pdf;filename="+t.filename+";base64,"+n;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(Z)){var i='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+(t.pdfObjectUrl||"https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js")+'"><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(t)+");<\/script></body></html>",o=Z.open();return null!==o&&o.document.write(i),o}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(Z)){var s='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(t.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+t.filename+'" width="500px" height="400px" /></body></html>',a=Z.open();if(null!==a){a.document.write(s);var c=this;a.document.documentElement.querySelector("#pdfViewer").onload=function(){a.document.title=t.filename,a.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(c.output("bloburl"))}}return a}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(Z))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var u='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",t)+'"></iframe></body></html>',l=Z.open();if(null!==l&&(l.document.write(u),l.document.title=t.filename),l||"undefined"==typeof safari)return l;break;case"datauri":case"dataurl":return Z.document.location.href=this.output("datauristring",t);default:return null}},We.foo=function(){try{return We.apply(this,arguments)}catch(n){var e=n.stack||"";~e.indexOf(" at ")&&(e=e.split(" at ")[1]);var t="Error in function "+e.split("\n")[0].split("<")[0]+": "+n.message;if(!Z.console)throw new Error(t);Z.console.error(t,n),Z.alert&&alert(t)}},We.foo.bar=We,We.foo),Tt=function(e){return!0===Array.isArray(Be)&&Be.indexOf(e)>-1};switch(i){case"pt":ve=1;break;case"mm":ve=72/25.4;break;case"cm":ve=72/2.54;break;case"in":ve=72;break;case"px":ve=1==Tt("px_scaling")?.75:96/72;break;case"pc":case"em":ve=12;break;case"ex":ve=6;break;default:if("number"!=typeof i)throw new Error("Invalid unit: "+i);ve=i}var Pt=null;j(),L();var Ot=p.__private__.getPageInfo=p.getPageInfo=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:je[e].objId,pageNumber:e,pageContext:je[e]}},It=p.__private__.getPageInfoByObjId=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var t in je)if(je[t].objId===e)break;return Ot(t)},Rt=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:je[B].objId,pageNumber:B,pageContext:je[B]}};p.addPage=function(){return gt.apply(this,arguments),this},p.setPage=function(){return yt.apply(this,arguments),Q.call(this,W[B]),this},p.insertPage=function(e){return this.addPage(),this.movePage(B,e),this},p.movePage=function(e,t){var n,r;if(e>t){n=W[e],r=je[e];for(var i=e;i>t;i--)W[i]=W[i-1],je[i]=je[i-1];W[t]=n,je[t]=r,this.setPage(t)}else if(e<t){n=W[e],r=je[e];for(var o=e;o<t;o++)W[o]=W[o+1],je[o]=je[o+1];W[t]=n,je[t]=r,this.setPage(t)}return this},p.deletePage=function(){return vt.apply(this,arguments),this},p.__private__.text=p.text=function(e,t,n,i,o){var s,a,c,u,l,h,d,p,m,g=(i=i||{}).scope||this;if("number"==typeof e&&"number"==typeof t&&("string"==typeof n||Array.isArray(n))){var v=n;n=t,t=e,e=v}if(arguments[3]instanceof $e==0?(c=arguments[4],u=arguments[5],"object"===r(d=arguments[3])&&null!==d||("string"==typeof c&&(u=c,c=null),"string"==typeof d&&(u=d,d=null),"number"==typeof d&&(c=d,d=null),i={flags:d,angle:c,align:u})):(E("The transform parameter of text() with a Matrix value"),m=o),isNaN(t)||isNaN(n)||null==e)throw new Error("Invalid arguments passed to jsPDF.text");if(0===e.length)return g;var y,S="",_="number"==typeof i.lineHeightFactor?i.lineHeightFactor:Wt,x=g.internal.scaleFactor;function k(e){return e=e.split("\t").join(Array(i.TabLen||9).join(" ")),pt(e,d)}function A(e){for(var t,n=e.concat(),r=[],i=n.length;i--;)"string"==typeof(t=n.shift())?r.push(t):Array.isArray(e)&&(1===t.length||void 0===t[1]&&void 0===t[2])?r.push(t[0]):r.push([t[0],t[1],t[2]]);return r}function N(e,t){var n;if("string"==typeof e)n=t(e)[0];else if(Array.isArray(e)){for(var r,i,o=e.concat(),s=[],a=o.length;a--;)"string"==typeof(r=o.shift())?s.push(t(r)[0]):Array.isArray(r)&&"string"==typeof r[0]&&(i=t(r[0],r[1],r[2]),s.push([i[0],i[1],i[2]]));n=s}return n}var P=!1,O=!0;if("string"==typeof e)P=!0;else if(Array.isArray(e)){var I=e.concat();a=[];for(var R,L=I.length;L--;)("string"!=typeof(R=I.shift())||Array.isArray(R)&&"string"!=typeof R[0])&&(O=!1);P=O}if(!1===P)throw new Error('Type of text must be string or Array. "'+e+'" is not recognized.');"string"==typeof e&&(e=e.match(/[\r?\n]/)?e.split(/\r\n|\r|\n/g):[e]);var M=se/g.internal.scaleFactor,D=M*(_-1);switch(i.baseline){case"bottom":n-=D;break;case"top":n+=M-D;break;case"hanging":n+=M-2*D;break;case"middle":n+=M/2-D}if((h=i.maxWidth||0)>0&&("string"==typeof e?e=g.splitTextToSize(e,h):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce((function(e,t){return e.concat(g.splitTextToSize(t,h))}),[]))),s={text:e,x:t,y:n,options:i,mutex:{pdfEscape:pt,activeFontKey:ge,fonts:Ee,activeFontSize:se}},Fe.publish("preProcessText",s),e=s.text,c=(i=s.options).angle,m instanceof $e==0&&c&&"number"==typeof c){c*=Math.PI/180,0===i.rotationDirection&&(c=-c),w===b.ADVANCED&&(c=-c);var j=Math.cos(c),F=Math.sin(c);m=new $e(j,F,-F,j,0,0)}else c&&c instanceof $e&&(m=c);w!==b.ADVANCED||m||(m=Ge),void 0!==(l=i.charSpace||un)&&(S+=C(T(l))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(p=i.horizontalScale)&&(S+=C(100*p)+" Tz\n"),i.lang;var B=-1,q=void 0!==i.renderingMode?i.renderingMode:i.stroke,U=g.internal.getCurrentPageInfo().pageContext;switch(q){case 0:case!1:case"fill":B=0;break;case 1:case!0:case"stroke":B=1;break;case 2:case"fillThenStroke":B=2;break;case 3:case"invisible":B=3;break;case 4:case"fillAndAddForClipping":B=4;break;case 5:case"strokeAndAddPathForClipping":B=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":B=6;break;case 7:case"addToPathForClipping":B=7}var z=void 0!==U.usedRenderingMode?U.usedRenderingMode:-1;-1!==B?S+=B+" Tr\n":-1!==z&&(S+="0 Tr\n"),-1!==B&&(U.usedRenderingMode=B),u=i.align||"left";var $,H=se*_,G=g.internal.pageSize.getWidth(),V=Ee[ge];l=i.charSpace||un,h=i.maxWidth||0,d=Object.assign({autoencode:!0,noBOM:!0},i.flags);var W=[];if("[object Array]"===Object.prototype.toString.call(e)){var K;a=A(e),"left"!==u&&($=a.map((function(e){return g.getStringUnitWidth(e,{font:V,charSpace:l,fontSize:se,doKerning:!1})*se/x})));var Z,Y=0;if("right"===u){t-=$[0],e=[],L=a.length;for(var J=0;J<L;J++)0===J?(Z=en(t),K=tn(n)):(Z=T(Y-$[J]),K=-H),e.push([a[J],Z,K]),Y=$[J]}else if("center"===u){t-=$[0]/2,e=[],L=a.length;for(var Q=0;Q<L;Q++)0===Q?(Z=en(t),K=tn(n)):(Z=T((Y-$[Q])/2),K=-H),e.push([a[Q],Z,K]),Y=$[Q]}else if("left"===u){e=[],L=a.length;for(var ee=0;ee<L;ee++)e.push(a[ee])}else{if("justify"!==u)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');e=[],L=a.length,h=0!==h?h:G;for(var te=0;te<L;te++)K=0===te?tn(n):-H,Z=0===te?en(t):0,te<L-1?W.push(C(T((h-$[te])/(a[te].split(" ").length-1)))):W.push(0),e.push([a[te],Z,K])}}!0===("boolean"==typeof i.R2L?i.R2L:ue)&&(e=N(e,(function(e,t,n){return[e.split("").reverse().join(""),t,n]}))),s={text:e,x:t,y:n,options:i,mutex:{pdfEscape:pt,activeFontKey:ge,fonts:Ee,activeFontSize:se}},Fe.publish("postProcessText",s),e=s.text,y=s.mutex.isHex||!1;var ne=Ee[ge].encoding;"WinAnsiEncoding"!==ne&&"StandardEncoding"!==ne||(e=N(e,(function(e,t,n){return[k(e),t,n]}))),a=A(e),e=[];for(var re,ie,oe,ae=Array.isArray(a[0])?1:0,ce="",le=function(e,t,n){var r="";return n instanceof $e?(n="number"==typeof i.angle?He(n,new $e(1,0,0,1,e,t)):He(new $e(1,0,0,1,e,t),n),w===b.ADVANCED&&(n=He(new $e(1,0,0,-1,0,0),n)),r=n.join(" ")+" Tm\n"):r=C(e)+" "+C(t)+" Td\n",r},he=0;he<a.length;he++){switch(ce="",ae){case 1:oe=(y?"<":"(")+a[he][0]+(y?">":")"),re=parseFloat(a[he][1]),ie=parseFloat(a[he][2]);break;case 0:oe=(y?"<":"(")+a[he]+(y?">":")"),re=en(t),ie=tn(n)}void 0!==W&&void 0!==W[he]&&(ce=W[he]+" Tw\n"),0===he?e.push(ce+le(re,ie,m)+oe):0===ae?e.push(ce+oe):1===ae&&e.push(ce+le(re,ie,m)+oe)}e=0===ae?e.join(" Tj\nT* "):e.join(" Tj\n"),e+=" Tj\n";var de="BT\n/";return de+=ge+" "+se+" Tf\n",de+=C(se*_)+" TL\n",de+=an+"\n",de+=S,de+=e,X(de+="ET"),f[ge]=!0,g};var Lt=p.__private__.clip=p.clip=function(e){return X("evenodd"===e?"W*":"W"),this};p.clipEvenOdd=function(){return Lt("evenodd")},p.__private__.discardPath=p.discardPath=function(){return X("n"),this};var Mt=p.__private__.isValidStyle=function(e){var t=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(e)&&(t=!0),t};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(e){return Mt(e)&&(l=e),this};var Dt=p.__private__.getStyle=p.getStyle=function(e){var t=l;switch(e){case"D":case"S":t="S";break;case"F":t="f";break;case"FD":case"DF":t="B";break;case"f":case"f*":case"B":case"B*":t=e}return t},jt=p.close=function(){return X("h"),this};p.stroke=function(){return X("S"),this},p.fill=function(e){return Ft("f",e),this},p.fillEvenOdd=function(e){return Ft("f*",e),this},p.fillStroke=function(e){return Ft("B",e),this},p.fillStrokeEvenOdd=function(e){return Ft("B*",e),this};var Ft=function(e,t){"object"===r(t)?Ut(t,e):X(e)},Bt=function(e){null===e||w===b.ADVANCED&&void 0===e||(e=Dt(e),X(e))};function qt(e,t,n,r,i){var o=new Ae(t||this.boundingBox,n||this.xStep,r||this.yStep,this.gState,i||this.matrix);o.stream=this.stream;var s=e+"$$"+this.cloneIndex+++"$$";return Ve(s,o),o}var Ut=function(e,t){var n=Ie[e.key],r=Oe[n];if(r instanceof ke)X("q"),X(zt(t)),r.gState&&p.setGState(r.gState),X(e.matrix.toString()+" cm"),X("/"+n+" sh"),X("Q");else if(r instanceof Ae){var i=new $e(1,0,0,-1,0,Sn());e.matrix&&(i=i.multiply(e.matrix||Ge),n=qt.call(r,e.key,e.boundingBox,e.xStep,e.yStep,i).id),X("q"),X("/Pattern cs"),X("/"+n+" scn"),r.gState&&p.setGState(r.gState),X(t),X("Q")}},zt=function(e){switch(e){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},$t=p.moveTo=function(e,t){return X(C(T(e))+" "+C(P(t))+" m"),this},Ht=p.lineTo=function(e,t){return X(C(T(e))+" "+C(P(t))+" l"),this},Gt=p.curveTo=function(e,t,n,r,i,o){return X([C(T(e)),C(P(t)),C(T(n)),C(P(r)),C(T(i)),C(P(o)),"c"].join(" ")),this};p.__private__.line=p.line=function(e,t,n,r,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!Mt(i))throw new Error("Invalid arguments passed to jsPDF.line");return w===b.COMPAT?this.lines([[n-e,r-t]],e,t,[1,1],i||"S"):this.lines([[n-e,r-t]],e,t,[1,1]).stroke()},p.__private__.lines=p.lines=function(e,t,n,r,i,o){var s,a,c,u,l,h,d,f,p,m,g,v;if("number"==typeof e&&(v=n,n=t,t=e,e=v),r=r||[1,1],o=o||!1,isNaN(t)||isNaN(n)||!Array.isArray(e)||!Array.isArray(r)||!Mt(i)||"boolean"!=typeof o)throw new Error("Invalid arguments passed to jsPDF.lines");for($t(t,n),s=r[0],a=r[1],u=e.length,m=t,g=n,c=0;c<u;c++)2===(l=e[c]).length?(m=l[0]*s+m,g=l[1]*a+g,Ht(m,g)):(h=l[0]*s+m,d=l[1]*a+g,f=l[2]*s+m,p=l[3]*a+g,m=l[4]*s+m,g=l[5]*a+g,Gt(h,d,f,p,m,g));return o&&jt(),Bt(i),this},p.path=function(e){for(var t=0;t<e.length;t++){var n=e[t],r=n.c;switch(n.op){case"m":$t(r[0],r[1]);break;case"l":Ht(r[0],r[1]);break;case"c":Gt.apply(this,r);break;case"h":jt()}}return this},p.__private__.rect=p.rect=function(e,t,n,r,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!Mt(i))throw new Error("Invalid arguments passed to jsPDF.rect");return w===b.COMPAT&&(r=-r),X([C(T(e)),C(P(t)),C(T(n)),C(T(r)),"re"].join(" ")),Bt(i),this},p.__private__.triangle=p.triangle=function(e,t,n,r,i,o,s){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(i)||isNaN(o)||!Mt(s))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[n-e,r-t],[i-n,o-r],[e-i,t-o]],e,t,[1,1],s,!0),this},p.__private__.roundedRect=p.roundedRect=function(e,t,n,r,i,o,s){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(i)||isNaN(o)||!Mt(s))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var a=4/3*(Math.SQRT2-1);return i=Math.min(i,.5*n),o=Math.min(o,.5*r),this.lines([[n-2*i,0],[i*a,0,i,o-o*a,i,o],[0,r-2*o],[0,o*a,-i*a,o,-i,o],[2*i-n,0],[-i*a,0,-i,-o*a,-i,-o],[0,2*o-r],[0,-o*a,i*a,-o,i,-o]],e+i,t,[1,1],s,!0),this},p.__private__.ellipse=p.ellipse=function(e,t,n,r,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!Mt(i))throw new Error("Invalid arguments passed to jsPDF.ellipse");var o=4/3*(Math.SQRT2-1)*n,s=4/3*(Math.SQRT2-1)*r;return $t(e+n,t),Gt(e+n,t-s,e+o,t-r,e,t-r),Gt(e-o,t-r,e-n,t-s,e-n,t),Gt(e-n,t+s,e-o,t+r,e,t+r),Gt(e+o,t+r,e+n,t+s,e+n,t),Bt(i),this},p.__private__.circle=p.circle=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||!Mt(r))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(e,t,n,n,r)},p.setFont=function(e,t,n){return n&&(t=x(t,n)),ge=wt(e,t,{disableWarning:!1}),this};var Vt=p.__private__.getFont=p.getFont=function(){return Ee[wt.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var e,t,n={};for(e in Te)if(Te.hasOwnProperty(e))for(t in n[e]=[],Te[e])Te[e].hasOwnProperty(t)&&n[e].push(t);return n},p.addFont=function(e,t,n,r,i){var o=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==o.indexOf(arguments[3])?i=arguments[3]:arguments[3]&&-1==o.indexOf(arguments[3])&&(n=x(n,r)),ft.call(this,e,t,n,i=i||"Identity-H")};var Wt,Kt=e.lineWidth||.200025,Zt=p.__private__.getLineWidth=p.getLineWidth=function(){return Kt},Yt=p.__private__.setLineWidth=p.setLineWidth=function(e){return Kt=e,X(C(T(e))+" w"),this};p.__private__.setLineDash=Ne.API.setLineDash=Ne.API.setLineDashPattern=function(e,t){if(e=e||[],t=t||0,isNaN(t)||!Array.isArray(e))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return e=e.map((function(e){return C(T(e))})).join(" "),t=C(T(t)),X("["+e+"] "+t+" d"),this};var Jt=p.__private__.getLineHeight=p.getLineHeight=function(){return se*Wt};p.__private__.getLineHeight=p.getLineHeight=function(){return se*Wt};var Qt=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(e){return"number"==typeof(e=e||1.15)&&(Wt=e),this},Xt=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Wt};Qt(e.lineHeight);var en=p.__private__.getHorizontalCoordinate=function(e){return T(e)},tn=p.__private__.getVerticalCoordinate=function(e){return w===b.ADVANCED?e:je[B].mediaBox.topRightY-je[B].mediaBox.bottomLeftY-T(e)},nn=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(e){return C(en(e))},rn=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(e){return C(tn(e))},on=e.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return et(on)},p.__private__.setStrokeColor=p.setDrawColor=function(e,t,n,r){return on=tt({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"draw",precision:2}),X(on),this};var sn=e.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return et(sn)},p.__private__.setFillColor=p.setFillColor=function(e,t,n,r){return sn=tt({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"fill",precision:2}),X(sn),this};var an=e.textColor||"0 g",cn=p.__private__.getTextColor=p.getTextColor=function(){return et(an)};p.__private__.setTextColor=p.setTextColor=function(e,t,n,r){return an=tt({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"text",precision:3}),this};var un=e.charSpace,ln=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(un||0)};p.__private__.setCharSpace=p.setCharSpace=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return un=e,this};var hn=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(e){var t=p.CapJoinStyles[e];if(void 0===t)throw new Error("Line cap style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return hn=t,X(t+" J"),this};var dn=0;p.__private__.setLineJoin=p.setLineJoin=function(e){var t=p.CapJoinStyles[e];if(void 0===t)throw new Error("Line join style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return dn=t,X(t+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(e){if(e=e||0,isNaN(e))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return X(C(T(e))+" M"),this},p.GState=Ce,p.setGState=function(e){(e="string"==typeof e?Re[Le[e]]:fn(null,e)).equals(Me)||(X("/"+e.id+" gs"),Me=e)};var fn=function(e,t){if(!e||!Le[e]){var n=!1;for(var r in Re)if(Re.hasOwnProperty(r)&&Re[r].equals(t)){n=!0;break}if(n)t=Re[r];else{var i="GS"+(Object.keys(Re).length+1).toString(10);Re[i]=t,t.id=i}return e&&(Le[e]=t.id),Fe.publish("addGState",t),t}};p.addGState=function(e,t){return fn(e,t),this},p.saveGraphicsState=function(){return X("q"),Pe.push({key:ge,size:se,color:an}),this},p.restoreGraphicsState=function(){X("Q");var e=Pe.pop();return ge=e.key,se=e.size,an=e.color,Me=null,this},p.setCurrentTransformationMatrix=function(e){return X(e.toString()+" cm"),this},p.comment=function(e){return X("#"+e),this};var pn=function(e,t){var n=e||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return n},set:function(e){isNaN(e)||(n=parseFloat(e))}});var r=t||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return r},set:function(e){isNaN(e)||(r=parseFloat(e))}});var i="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return i},set:function(e){i=e.toString()}}),this},mn=function(e,t,n,r){pn.call(this,e,t),this.type="rect";var i=n||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return i},set:function(e){isNaN(e)||(i=parseFloat(e))}});var o=r||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return o},set:function(e){isNaN(e)||(o=parseFloat(e))}}),this},gn=function(){this.page=De,this.currentPage=B,this.pages=W.slice(0),this.pagesContext=je.slice(0),this.x=ye,this.y=be,this.matrix=we,this.width=bn(B),this.height=Sn(B),this.outputDestination=Y,this.id="",this.objectNumber=-1};gn.prototype.restore=function(){De=this.page,B=this.currentPage,je=this.pagesContext,W=this.pages,ye=this.x,be=this.y,we=this.matrix,wn(B,this.width),_n(B,this.height),Y=this.outputDestination};var vn=function(e,t,n,r,i){ze.push(new gn),De=B=0,W=[],ye=e,be=t,we=i,mt([n,r])};for(var yn in p.beginFormObject=function(e,t,n,r,i){return vn(e,t,n,r,i),this},p.endFormObject=function(e){return function(e){if(Ue[e])ze.pop().restore();else{var t=new gn,n="Xo"+(Object.keys(qe).length+1).toString(10);t.id=n,Ue[e]=n,qe[n]=t,Fe.publish("addFormObject",t),ze.pop().restore()}}(e),this},p.doFormObject=function(e,t){var n=qe[Ue[e]];return X("q"),X(t.toString()+" cm"),X("/"+n.id+" Do"),X("Q"),this},p.getFormObject=function(e){var t=qe[Ue[e]];return{x:t.x,y:t.y,width:t.width,height:t.height,matrix:t.matrix}},p.save=function(e,t){return e=e||"generated.pdf",(t=t||{}).returnPromise=t.returnPromise||!1,!1===t.returnPromise?(re(At(kt()),e),"function"==typeof re.unload&&Z.setTimeout&&setTimeout(re.unload,911),this):new Promise((function(t,n){try{var r=re(At(kt()),e);"function"==typeof re.unload&&Z.setTimeout&&setTimeout(re.unload,911),t(r)}catch(e){n(e.message)}}))},Ne.API)Ne.API.hasOwnProperty(yn)&&("events"===yn&&Ne.API.events.length?function(e,t){var n,r,i;for(i=t.length-1;-1!==i;i--)n=t[i][0],r=t[i][1],e.subscribe.apply(e,[n].concat("function"==typeof r?[r]:r))}(Fe,Ne.API.events):p[yn]=Ne.API[yn]);var bn=p.getPageWidth=function(e){return(je[e=e||B].mediaBox.topRightX-je[e].mediaBox.bottomLeftX)/ve},wn=p.setPageWidth=function(e,t){je[e].mediaBox.topRightX=t*ve+je[e].mediaBox.bottomLeftX},Sn=p.getPageHeight=function(e){return(je[e=e||B].mediaBox.topRightY-je[e].mediaBox.bottomLeftY)/ve},_n=p.setPageHeight=function(e,t){je[e].mediaBox.topRightY=t*ve+je[e].mediaBox.bottomLeftY};return p.internal={pdfEscape:pt,getStyle:Dt,getFont:Vt,getFontSize:ce,getCharSpace:ln,getTextColor:cn,getLineHeight:Jt,getLineHeightFactor:Xt,getLineWidth:Zt,write:ee,getHorizontalCoordinate:en,getVerticalCoordinate:tn,getCoordinateString:nn,getVerticalCoordinateString:rn,collections:{},newObject:Ke,newAdditionalObject:Je,newObjectDeferred:Ze,newObjectDeferredBegin:Ye,getFilters:nt,putStream:rt,events:Fe,scaleFactor:ve,pageSize:{getWidth:function(){return bn(B)},setWidth:function(e){wn(B,e)},getHeight:function(){return Sn(B)},setHeight:function(e){_n(B,e)}},encryptionOptions:h,encryption:Pt,getEncryptor:function(e){return null!==h?Pt.encryptor(e,0):function(e){return e}},output:Nt,getNumberOfPages:bt,pages:W,out:X,f2:A,f3:N,getPageInfo:Ot,getPageInfoByObjId:It,getCurrentPageInfo:Rt,getPDFVersion:g,Point:pn,Rectangle:mn,Matrix:$e,hasHotfix:Tt},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return bn(B)},set:function(e){wn(B,e)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Sn(B)},set:function(e){_n(B,e)},enumerable:!0,configurable:!0}),function(e){for(var t=0,n=oe.length;t<n;t++){var r=ft.call(this,e[t][0],e[t][1],e[t][2],oe[t][3],!0);!1===d&&(f[r]=!0);var i=e[t][0].split("-");dt({id:r,fontName:i[0],fontStyle:i[1]||""})}Fe.publish("addFonts",{fonts:Ee,dictionary:Te})}.call(p,oe),ge="F1",gt(o,n),Fe.publish("initialized"),p}Se.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},Se.prototype.toHexString=function(e){return e.split("").map((function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)})).join("")},Se.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},Se.prototype.processOwnerPassword=function(e,t){return be(ge(t).substr(0,5),e)},Se.prototype.encryptor=function(e,t){var n=ge(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(e){return be(n,e)}},Ce.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||r(e)!==r(this))return!1;var i=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t))return!1;if(this[t]!==e[t])return!1;i++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&i--;return 0===i},Ne.API={events:[]},Ne.version="2.5.0";var Te=Ne.API,Pe=1,Oe=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ie=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Re=function(e){return e.toFixed(2)},Le=function(e){return e.toFixed(5)};Te.__acroform__={};var Me=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},De=function(e){return e*Pe},je=function(e){var t=new Xe,n=ft.internal.getHeight(e)||0,r=ft.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Re(r)),Number(Re(n))],t},Fe=Te.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},Be=Te.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},qe=Te.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return 0==(e&1<<t)?0:1},Ue=Te.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return qe(e,t-1)},ze=Te.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Fe(e,t-1)},$e=Te.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Be(e,t-1)},He=Te.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,i=e[0],o=e[1],s=e[2],a=e[3],c={};return c.lowerLeft_X=n(i)||0,c.lowerLeft_Y=r(o+a)||0,c.upperRight_X=n(i+s)||0,c.upperRight_Y=r(o)||0,[Number(Re(c.lowerLeft_X)),Number(Re(c.lowerLeft_Y)),Number(Re(c.upperRight_X)),Number(Re(c.upperRight_Y))]},Ge=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=Ve(e,n),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+Re(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var o=je(e);return o.scope=e.scope,o.stream=t.join("\n"),o}},Ve=function(e,t){var n=0===e.fontSize?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},i=(t=")"==(t="("==t.substr(0,1)?t.substr(1):t).substr(t.length-1)?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map((function(e){return e.split("\n")})):i.map((function(e){return[e]}));var o=n,s=ft.internal.getHeight(e)||0;s=s<0?-s:s;var a=ft.internal.getWidth(e)||0;a=a<0?-a:a;var c=function(t,n,r){if(t+1<i.length){var o=n+" "+i[t+1][0];return We(o,e,r).width<=a-4}return!1};o++;e:for(;o>0;){t="",o--;var u,l,h=We("3",e,o).height,d=e.multiline?s-o:(s-h)/2,f=d+=2,p=0,m=0,g=0;if(o<=0){t="(...) Tj\n",t+="% Width of Text: "+We(t,e,o=12).width+", FieldWidth:"+a+"\n";break}for(var v="",y=0,b=0;b<i.length;b++)if(i.hasOwnProperty(b)){var w=!1;if(1!==i[b].length&&g!==i[b].length-1){if((h+2)*(y+2)+2>s)continue e;v+=i[b][g],w=!0,m=b,b--}else{v=" "==(v+=i[b][g]+" ").substr(v.length-1)?v.substr(0,v.length-1):v;var S=parseInt(b),_=c(S,v,o),x=b>=i.length-1;if(_&&!x){v+=" ",g=0;continue}if(_||x){if(x)m=S;else if(e.multiline&&(h+2)*(y+2)+2>s)continue e}else{if(!e.multiline)continue e;if((h+2)*(y+2)+2>s)continue e;m=S}}for(var C="",E=p;E<=m;E++){var k=i[E];if(e.multiline){if(E===m){C+=k[g]+" ",g=(g+1)%k.length;continue}if(E===p){C+=k[k.length-1]+" ";continue}}C+=k[0]+" "}switch(C=" "==C.substr(C.length-1)?C.substr(0,C.length-1):C,l=We(C,e,o).width,e.textAlign){case"right":u=a-l-2;break;case"center":u=(a-l)/2;break;default:u=2}t+=Re(u)+" "+Re(f)+" Td\n",t+="("+Oe(C)+") Tj\n",t+=-Re(u)+" 0 Td\n",f=-(o+2),l=0,p=w?m:m+1,y++,v=""}break}return r.text=t,r.fontSize=o,r},We=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},Ke={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Ze=function(e,t){var n={type:"reference",object:e};void 0===t.internal.getPageInfo(e.page).pageContext.annotations.find((function(e){return e.type===n.type&&e.object===n.object}))&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},Ye=Te.__acroform__.arrayToPdfArray=function(e,t,n){var i=function(e){return e};if(Array.isArray(e)){for(var o="[",s=0;s<e.length;s++)switch(0!==s&&(o+=" "),r(e[s])){case"boolean":case"number":case"object":o+=e[s].toString();break;case"string":"/"!==e[s].substr(0,1)?(void 0!==t&&n&&(i=n.internal.getEncryptor(t)),o+="("+Oe(i(e[s].toString()))+")"):o+=e[s].toString()}return o+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Je=function(e,t,n){var r=function(e){return e};return void 0!==t&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),"("+Oe(r(e))+")"},Qe=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Qe.prototype.toString=function(){return this.objId+" 0 R"},Qe.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Qe.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter((function(e){return"content"!=e&&"appearanceStreamContent"!=e&&"scope"!=e&&"objId"!=e&&"_"!=e.substring(0,1)}));for(var n in t)if(!1===Object.getOwnPropertyDescriptor(this,t[n]).configurable){var r=t[n],i=this[r];i&&(Array.isArray(i)?e.push({key:r,value:Ye(i,this.objId,this.scope)}):i instanceof Qe?(i.scope=this.scope,e.push({key:r,value:i.objId+" 0 R"})):"function"!=typeof i&&e.push({key:r,value:i}))}return e};var Xe=function(){Qe.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){e=t.trim()},get:function(){return e||null}})};Me(Xe,Qe);var et=function(){Qe.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Oe(t(e))+")"}},set:function(t){e=t}})};Me(et,Qe);var tt=function e(){Qe.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute F supplied.');t=e}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ue(t,3))},set:function(e){!0===Boolean(e)?this.F=ze(t,3):this.F=$e(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute Ff supplied.');n=e}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==r.length)return r},set:function(e){r=void 0!==e?e:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(e){r[0]=e}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(e){r[1]=e}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(e){r[2]=e}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(e){r[3]=e}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(e){switch(e){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=e;break;default:throw new Error('Invalid value "'+e+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof ut)return;o="FieldObject"+e.FieldNum++}var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Oe(t(o))+")"},set:function(e){o=e.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(e){o=e}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(e){s=e}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(e){a=e}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(e){c=e}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===u?50/Pe:u},set:function(e){u=e}});var l="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return l},set:function(e){l=e}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof ut||this instanceof ht))return Je(h,this.objId,this.scope)},set:function(e){e=e.toString(),h=e}});var d=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof st==0?Je(d,this.objId,this.scope):d},set:function(e){e=e.toString(),d=this instanceof st==0?"("===e.substr(0,1)?Ie(e.substr(1,e.length-2)):Ie(e):e}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof st==1?Ie(d.substr(1,d.length-1)):d},set:function(e){e=e.toString(),d=this instanceof st==1?"/"+e:e}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(e){this.V=e}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof st==0?Je(f,this.objId,this.scope):f},set:function(e){e=e.toString(),f=this instanceof st==0?"("===e.substr(0,1)?Ie(e.substr(1,e.length-2)):Ie(e):e}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof st==1?Ie(f.substr(1,f.length-1)):f},set:function(e){e=e.toString(),f=this instanceof st==1?"/"+e:e}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var p,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(e){e=Boolean(e),m=e}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(p)return p},set:function(e){p=e}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ue(this.Ff,1))},set:function(e){!0===Boolean(e)?this.Ff=ze(this.Ff,1):this.Ff=$e(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ue(this.Ff,2))},set:function(e){!0===Boolean(e)?this.Ff=ze(this.Ff,2):this.Ff=$e(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ue(this.Ff,3))},set:function(e){!0===Boolean(e)?this.Ff=ze(this.Ff,3):this.Ff=$e(this.Ff,3)}});var g=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==g)return g},set:function(e){if(-1===[0,1,2].indexOf(e))throw new Error('Invalid value "'+e+'" for attribute Q supplied.');g=e}}),Object.defineProperty(this,"textAlign",{get:function(){var e;switch(g){case 0:default:e="left";break;case 1:e="center";break;case 2:e="right"}return e},configurable:!0,enumerable:!0,set:function(e){switch(e){case"right":case 2:g=2;break;case"center":case 1:g=1;break;default:g=0}}})};Me(tt,Qe);var nt=function(){tt.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){e=t}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Ye(t,this.objId,this.scope)},set:function(e){var n,r;r=[],"string"==typeof(n=e)&&(r=function(e,t,n){n||(n=1);for(var r,i=[];r=t.exec(e);)i.push(r[n]);return i}(n,/\((.*?)\)/g)),t=r}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,n){for(n=n||!1,e=(e=e||"").toString();-1!==t.indexOf(e)&&(t.splice(t.indexOf(e),1),!1!==n););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ue(this.Ff,18))},set:function(e){!0===Boolean(e)?this.Ff=ze(this.Ff,18):this.Ff=$e(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ue(this.Ff,19))},set:function(e){!0===this.combo&&(!0===Boolean(e)?this.Ff=ze(this.Ff,19):this.Ff=$e(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ue(this.Ff,20))},set:function(e){!0===Boolean(e)?(this.Ff=ze(this.Ff,20),t.sort()):this.Ff=$e(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ue(this.Ff,22))},set:function(e){!0===Boolean(e)?this.Ff=ze(this.Ff,22):this.Ff=$e(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ue(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=ze(this.Ff,23):this.Ff=$e(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ue(this.Ff,27))},set:function(e){!0===Boolean(e)?this.Ff=ze(this.Ff,27):this.Ff=$e(this.Ff,27)}}),this.hasAppearanceStream=!1};Me(nt,tt);var rt=function(){nt.call(this),this.fontName="helvetica",this.combo=!1};Me(rt,nt);var it=function(){rt.call(this),this.combo=!0};Me(it,rt);var ot=function(){it.call(this),this.edit=!0};Me(ot,it);var st=function(){tt.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ue(this.Ff,15))},set:function(e){!0===Boolean(e)?this.Ff=ze(this.Ff,15):this.Ff=$e(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ue(this.Ff,16))},set:function(e){!0===Boolean(e)?this.Ff=ze(this.Ff,16):this.Ff=$e(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ue(this.Ff,17))},set:function(e){!0===Boolean(e)?this.Ff=ze(this.Ff,17):this.Ff=$e(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ue(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=ze(this.Ff,26):this.Ff=$e(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(t).length){var n,r=[];for(n in r.push("<<"),t)r.push("/"+n+" ("+Oe(e(t[n]))+")");return r.push(">>"),r.join("\n")}},set:function(e){"object"===r(e)&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){"string"==typeof e&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(t){e="/"+t}})};Me(st,tt);var at=function(){st.call(this),this.pushButton=!0};Me(at,st);var ct=function(){st.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=void 0!==t?t:[]}})};Me(ct,st);var ut=function(){var e,t;tt.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(e){t=e}});var n,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};this.scope&&(e=this.scope.internal.getEncryptor(this.objId));var t,n=[];for(t in n.push("<<"),i)n.push("/"+t+" ("+Oe(e(i[t]))+")");return n.push(">>"),n.join("\n")},set:function(e){"object"===r(e)&&(i=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(e){"string"==typeof e&&(i.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(e){n="/"+e}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ft.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Me(ut,tt),ct.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},ct.prototype.createOption=function(e){var t=new ut;return t.Parent=this,t.optionName=e,this.Kids.push(t),gt.call(this.scope,t),t};var lt=function(){st.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ft.CheckBox.createAppearanceStream()};Me(lt,st);var ht=function(){tt.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ue(this.Ff,13))},set:function(e){!0===Boolean(e)?this.Ff=ze(this.Ff,13):this.Ff=$e(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ue(this.Ff,21))},set:function(e){!0===Boolean(e)?this.Ff=ze(this.Ff,21):this.Ff=$e(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ue(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=ze(this.Ff,23):this.Ff=$e(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ue(this.Ff,24))},set:function(e){!0===Boolean(e)?this.Ff=ze(this.Ff,24):this.Ff=$e(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ue(this.Ff,25))},set:function(e){!0===Boolean(e)?this.Ff=ze(this.Ff,25):this.Ff=$e(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ue(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=ze(this.Ff,26):this.Ff=$e(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Me(ht,tt);var dt=function(){ht.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ue(this.Ff,14))},set:function(e){!0===Boolean(e)?this.Ff=ze(this.Ff,14):this.Ff=$e(this.Ff,14)}}),this.password=!0};Me(dt,ht);var ft={CheckBox:{createAppearanceStream:function(){return{N:{On:ft.CheckBox.YesNormal},D:{On:ft.CheckBox.YesPushDown,Off:ft.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=je(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),o=Ve(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+Re(ft.internal.getWidth(e))+" "+Re(ft.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Re(o.fontSize)+" Tf "+i),n.push("BT"),n.push(o.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join("\n"),t},YesNormal:function(e){var t=je(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),i=[],o=ft.internal.getHeight(e),s=ft.internal.getWidth(e),a=Ve(e,e.caption);return i.push("1 g"),i.push("0 0 "+Re(s)+" "+Re(o)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Re(s-1)+" "+Re(o-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+Re(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),t.stream=i.join("\n"),t},OffPushDown:function(e){var t=je(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Re(ft.internal.getWidth(e))+" "+Re(ft.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join("\n"),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:ft.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=ft.RadioButton.Circle.YesNormal,t.D[e]=ft.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=je(e);t.scope=e.scope;var n=[],r=ft.internal.getWidth(e)<=ft.internal.getHeight(e)?ft.internal.getWidth(e)/4:ft.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=ft.internal.Bezier_C,o=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Le(ft.internal.getWidth(e)/2)+" "+Le(ft.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t},YesPushDown:function(e){var t=je(e);t.scope=e.scope;var n=[],r=ft.internal.getWidth(e)<=ft.internal.getHeight(e)?ft.internal.getWidth(e)/4:ft.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*ft.internal.Bezier_C).toFixed(5)),s=Number((r*ft.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Le(ft.internal.getWidth(e)/2)+" "+Le(ft.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Le(ft.internal.getWidth(e)/2)+" "+Le(ft.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t},OffPushDown:function(e){var t=je(e);t.scope=e.scope;var n=[],r=ft.internal.getWidth(e)<=ft.internal.getHeight(e)?ft.internal.getWidth(e)/4:ft.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*ft.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Le(ft.internal.getWidth(e)/2)+" "+Le(ft.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:ft.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=ft.RadioButton.Cross.YesNormal,t.D[e]=ft.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=je(e);t.scope=e.scope;var n=[],r=ft.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+Re(ft.internal.getWidth(e)-2)+" "+Re(ft.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Re(r.x1.x)+" "+Re(r.x1.y)+" m"),n.push(Re(r.x2.x)+" "+Re(r.x2.y)+" l"),n.push(Re(r.x4.x)+" "+Re(r.x4.y)+" m"),n.push(Re(r.x3.x)+" "+Re(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join("\n"),t},YesPushDown:function(e){var t=je(e);t.scope=e.scope;var n=ft.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+Re(ft.internal.getWidth(e))+" "+Re(ft.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Re(ft.internal.getWidth(e)-2)+" "+Re(ft.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Re(n.x1.x)+" "+Re(n.x1.y)+" m"),r.push(Re(n.x2.x)+" "+Re(n.x2.y)+" l"),r.push(Re(n.x4.x)+" "+Re(n.x4.y)+" m"),r.push(Re(n.x3.x)+" "+Re(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join("\n"),t},OffPushDown:function(e){var t=je(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Re(ft.internal.getWidth(e))+" "+Re(ft.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join("\n"),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};ft.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=ft.internal.getWidth(e),n=ft.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},ft.internal.getWidth=function(e){var t=0;return"object"===r(e)&&(t=De(e.Rect[2])),t},ft.internal.getHeight=function(e){var t=0;return"object"===r(e)&&(t=De(e.Rect[3])),t};var pt,mt,gt=Te.addField=function(e){if(function(e,t){if(t.scope=e,void 0!==e.internal&&(void 0===e.internal.acroformPlugin||!1===e.internal.acroformPlugin.isInitialized)){if(tt.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(Ke)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Pe=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new et,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",(function(){var t;(t=e).internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})),e.internal.events.subscribe("buildDocument",(function(){!function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var t=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];r.objId=void 0,r.hasAnnotation&&Ze(r,e)}}(e)})),e.internal.events.subscribe("putCatalog",(function(){!function(e){if(void 0===e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(e)})),e.internal.events.subscribe("postPutPages",(function(t){!function(e,t){var n=!e;for(var i in e||(t.internal.newObjectDeferredBegin(t.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),t.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),e=e||t.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(e.hasOwnProperty(i)){var o=e[i],s=[],a=o.Rect;if(o.Rect&&(o.Rect=He(o.Rect,t)),t.internal.newObjectDeferredBegin(o.objId,!0),o.DA=ft.createDefaultAppearanceStream(o),"object"===r(o)&&"function"==typeof o.getKeyValueListForStream&&(s=o.getKeyValueListForStream()),o.Rect=a,o.hasAppearanceStream&&!o.appearanceStreamContent){var c=Ge(o);s.push({key:"AP",value:"<</N "+c+">>"}),t.internal.acroformPlugin.xForms.push(c)}if(o.appearanceStreamContent){var u="";for(var l in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(l)){var h=o.appearanceStreamContent[l];if(u+="/"+l+" ",u+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var i in h)if(h.hasOwnProperty(i)){var d=h[i];"function"==typeof d&&(d=d.call(t,o)),u+="/"+i+" "+d+" ",t.internal.acroformPlugin.xForms.indexOf(d)>=0||t.internal.acroformPlugin.xForms.push(d)}}else"function"==typeof(d=h)&&(d=d.call(t,o)),u+="/"+i+" "+d,t.internal.acroformPlugin.xForms.indexOf(d)>=0||t.internal.acroformPlugin.xForms.push(d);u+=">>"}s.push({key:"AP",value:"<<\n"+u+">>"})}t.internal.putStream({additionalKeyValues:s,objectId:o.objId}),t.internal.out("endobj")}n&&function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var i=n,o=e[n];t.internal.newObjectDeferredBegin(o.objId,!0),"object"===r(o)&&"function"==typeof o.putStream&&o.putStream(),delete e[i]}}(t.internal.acroformPlugin.xForms,t)}(t,e)})),e.internal.acroformPlugin.isInitialized=!0}}(this,e),!(e instanceof tt))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};function vt(e){return e.reduce((function(e,t,n){return e[t]=n,e}),{})}Te.AcroFormChoiceField=nt,Te.AcroFormListBox=rt,Te.AcroFormComboBox=it,Te.AcroFormEditBox=ot,Te.AcroFormButton=st,Te.AcroFormPushButton=at,Te.AcroFormRadioButton=ct,Te.AcroFormCheckBox=lt,Te.AcroFormTextField=ht,Te.AcroFormPasswordField=dt,Te.AcroFormAppearance=ft,Te.AcroForm={ChoiceField:nt,ListBox:rt,ComboBox:it,EditBox:ot,Button:st,PushButton:at,RadioButton:ct,CheckBox:lt,TextField:ht,PasswordField:dt,Appearance:ft},Ne.AcroForm={ChoiceField:nt,ListBox:rt,ComboBox:it,EditBox:ot,Button:st,PushButton:at,RadioButton:ct,CheckBox:lt,TextField:ht,PasswordField:dt,Appearance:ft},Ne.AcroForm,function(e){e.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=e.__addimage__.getImageFileTypeByImageData=function(e,r){var i,o,s,a,c,u=t;if("RGBA"===(r=r||t)||void 0!==e.data&&e.data instanceof Uint8ClampedArray&&"height"in e&&"width"in e)return"RGBA";if(x(e))for(c in n)for(s=n[c],i=0;i<s.length;i+=1){for(a=!0,o=0;o<s[i].length;o+=1)if(void 0!==s[i][o]&&s[i][o]!==e[o]){a=!1;break}if(!0===a){u=c;break}}else for(c in n)for(s=n[c],i=0;i<s.length;i+=1){for(a=!0,o=0;o<s[i].length;o+=1)if(void 0!==s[i][o]&&s[i][o]!==e.charCodeAt(o)){a=!1;break}if(!0===a){u=c;break}}return u===t&&r!==t&&(u=r),u},o=function e(t){for(var n=this.internal.write,r=this.internal.putStream,i=(0,this.internal.getFilters)();-1!==i.indexOf("FlateEncode");)i.splice(i.indexOf("FlateEncode"),1);t.objectId=this.internal.newObject();var o=[];if(o.push({key:"Type",value:"/XObject"}),o.push({key:"Subtype",value:"/Image"}),o.push({key:"Width",value:t.width}),o.push({key:"Height",value:t.height}),t.colorSpace===v.INDEXED?o.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(t.palette.length/3-1)+" "+("sMask"in t&&void 0!==t.sMask?t.objectId+2:t.objectId+1)+" 0 R]"}):(o.push({key:"ColorSpace",value:"/"+t.colorSpace}),t.colorSpace===v.DEVICE_CMYK&&o.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),o.push({key:"BitsPerComponent",value:t.bitsPerComponent}),"decodeParameters"in t&&void 0!==t.decodeParameters&&o.push({key:"DecodeParms",value:"<<"+t.decodeParameters+">>"}),"transparency"in t&&Array.isArray(t.transparency)){for(var s="",a=0,c=t.transparency.length;a<c;a++)s+=t.transparency[a]+" "+t.transparency[a]+" ";o.push({key:"Mask",value:"["+s+"]"})}void 0!==t.sMask&&o.push({key:"SMask",value:t.objectId+1+" 0 R"});var u=void 0!==t.filter?["/"+t.filter]:void 0;if(r({data:t.data,additionalKeyValues:o,alreadyAppliedFilters:u,objectId:t.objectId}),n("endobj"),"sMask"in t&&void 0!==t.sMask){var l="/Predictor "+t.predictor+" /Colors 1 /BitsPerComponent "+t.bitsPerComponent+" /Columns "+t.width,h={width:t.width,height:t.height,colorSpace:"DeviceGray",bitsPerComponent:t.bitsPerComponent,decodeParameters:l,data:t.sMask};"filter"in t&&(h.filter=t.filter),e.call(this,h)}if(t.colorSpace===v.INDEXED){var d=this.internal.newObject();r({data:E(new Uint8Array(t.palette)),objectId:d}),n("endobj")}},s=function(){var e=this.internal.collections.addImage_images;for(var t in e)o.call(this,e[t])},a=function(){var e,t=this.internal.collections.addImage_images,n=this.internal.write;for(var r in t)n("/I"+(e=t[r]).index,e.objectId,"0","R")},c=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a))},u=function(){var e=this.internal.collections.addImage_images;return c.call(this),e},l=function(){return Object.keys(this.internal.collections.addImage_images).length},h=function(t){return"function"==typeof e["process"+t.toUpperCase()]},d=function(e){return"object"===r(e)&&1===e.nodeType},f=function(t,n){if("IMG"===t.nodeName&&t.hasAttribute("src")){var r=""+t.getAttribute("src");if(0===r.indexOf("data:image/"))return te(unescape(r).split("base64,").pop());var i=e.loadFile(r,!0);if(void 0!==i)return i}if("CANVAS"===t.nodeName){if(0===t.width||0===t.height)throw new Error("Given canvas must have data. Canvas width: "+t.width+", height: "+t.height);var o;switch(n){case"PNG":o="image/png";break;case"WEBP":o="image/webp";break;default:o="image/jpeg"}return te(t.toDataURL(o,1).split("base64,").pop())}},p=function(e){var t=this.internal.collections.addImage_images;if(t)for(var n in t)if(e===t[n].alias)return t[n]},m=function(e,t,n){return e||t||(e=-96,t=-96),e<0&&(e=-1*n.width*72/e/this.internal.scaleFactor),t<0&&(t=-1*n.height*72/t/this.internal.scaleFactor),0===e&&(e=t*n.width/n.height),0===t&&(t=e*n.height/n.width),[e,t]},g=function(e,t,n,r,i,o){var s=m.call(this,n,r,i),a=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,l=u.call(this);if(n=s[0],r=s[1],l[i.index]=i,o){o*=Math.PI/180;var h=Math.cos(o),d=Math.sin(o),f=function(e){return e.toFixed(4)},p=[f(h),f(d),f(-1*d),f(h),0,0,"cm"]}this.internal.write("q"),o?(this.internal.write([1,"0","0",1,a(e),c(t+r),"cm"].join(" ")),this.internal.write(p.join(" ")),this.internal.write([a(n),"0","0",a(r),"0","0","cm"].join(" "))):this.internal.write([a(n),"0","0",a(r),a(e),c(t+r),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+i.index+" Do"),this.internal.write("Q")},v=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=e.__addimage__.sHashCode=function(e){var t,n,r=0;if("string"==typeof e)for(n=e.length,t=0;t<n;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;else if(x(e))for(n=e.byteLength/2,t=0;t<n;t++)r=(r<<5)-r+e[t],r|=0;return r},w=e.__addimage__.validateStringAsBase64=function(e){(e=e||"").toString().trim();var t=!0;return 0===e.length&&(t=!1),e.length%4!=0&&(t=!1),!1===/^[A-Za-z0-9+/]+$/.test(e.substr(0,e.length-2))&&(t=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(e.substr(-2))&&(t=!1),t},S=e.__addimage__.extractImageFromDataUrl=function(e){var t=(e=e||"").split("base64,"),n=null;if(2===t.length){var r=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(t[0]);Array.isArray(r)&&(n={mimeType:r[1],charset:r[2],data:t[1]})}return n},_=e.__addimage__.supportsArrayBuffer=function(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array};e.__addimage__.isArrayBuffer=function(e){return _()&&e instanceof ArrayBuffer};var x=e.__addimage__.isArrayBufferView=function(e){return _()&&"undefined"!=typeof Uint32Array&&(e instanceof Int8Array||e instanceof Uint8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)},C=e.__addimage__.binaryStringToUint8Array=function(e){for(var t=e.length,n=new Uint8Array(t),r=0;r<t;r++)n[r]=e.charCodeAt(r);return n},E=e.__addimage__.arrayBufferToBinaryString=function(e){for(var t="",n=x(e)?e:new Uint8Array(e),r=0;r<n.length;r+=8192)t+=String.fromCharCode.apply(null,n.subarray(r,r+8192));return t};e.addImage=function(){var e,n,i,o,s,a,u,l,h;if("number"==typeof arguments[1]?(n=t,i=arguments[1],o=arguments[2],s=arguments[3],a=arguments[4],u=arguments[5],l=arguments[6],h=arguments[7]):(n=arguments[1],i=arguments[2],o=arguments[3],s=arguments[4],a=arguments[5],u=arguments[6],l=arguments[7],h=arguments[8]),"object"===r(e=arguments[0])&&!d(e)&&"imageData"in e){var f=e;e=f.imageData,n=f.format||n||t,i=f.x||i||0,o=f.y||o||0,s=f.w||f.width||s,a=f.h||f.height||a,u=f.alias||u,l=f.compression||l,h=f.rotation||f.angle||h}var p=this.internal.getFilters();if(void 0===l&&-1!==p.indexOf("FlateEncode")&&(l="SLOW"),isNaN(i)||isNaN(o))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var m=k.call(this,e,n,u,l);return g.call(this,i,o,s,a,m,h),this};var k=function(n,r,o,s){var a,c,u;if("string"==typeof n&&i(n)===t){n=unescape(n);var m=A(n,!1);(""!==m||void 0!==(m=e.loadFile(n,!0)))&&(n=m)}if(d(n)&&(n=f(n,r)),r=i(n,r),!h(r))throw new Error("addImage does not support files of type '"+r+"', please ensure that a plugin for '"+r+"' support is added.");if((null==(u=o)||0===u.length)&&(o=function(e){return"string"==typeof e||x(e)?b(e):x(e.data)?b(e.data):null}(n)),(a=p.call(this,o))||(_()&&(n instanceof Uint8Array||"RGBA"===r||(c=n,n=C(n))),a=this["process"+r.toUpperCase()](n,l.call(this),o,function(t){return t&&"string"==typeof t&&(t=t.toUpperCase()),t in e.image_compression?t:y.NONE}(s),c)),!a)throw new Error("An unknown error occurred whilst processing the image.");return a},A=e.__addimage__.convertBase64ToBinaryString=function(e,t){var n;t="boolean"!=typeof t||t;var r,i="";if("string"==typeof e){r=null!==(n=S(e))?n.data:e;try{i=te(r)}catch(e){if(t)throw w(r)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+e.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return i};e.getImageProperties=function(n){var r,o,s="";if(d(n)&&(n=f(n)),"string"==typeof n&&i(n)===t&&(""===(s=A(n,!1))&&(s=e.loadFile(n)||""),n=s),o=i(n),!h(o))throw new Error("addImage does not support files of type '"+o+"', please ensure that a plugin for '"+o+"' support is added.");if(!_()||n instanceof Uint8Array||(n=C(n)),!(r=this["process"+o.toUpperCase()](n)))throw new Error("An unknown error occurred whilst processing the image");return r.fileType=o,r}}(Ne.API),pt=Ne.API,mt=function(e){if(void 0!==e&&""!=e)return!0},Ne.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),pt.events.push(["putPage",function(e){for(var t,n,r,i=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,s=this.internal.getPageInfoByObjId(e.objId),a=e.pageContext.annotations,c=!1,u=0;u<a.length&&!c;u++)switch((t=a[u]).type){case"link":(mt(t.options.url)||mt(t.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(0!=c){this.internal.write("/Annots [");for(var l=0;l<a.length;l++){t=a[l];var h=this.internal.pdfEscape,d=this.internal.getEncryptor(e.objId);switch(t.type){case"reference":this.internal.write(" "+t.object.objId+" 0 R ");break;case"text":var f=this.internal.newAdditionalObject(),p=this.internal.newAdditionalObject(),m=this.internal.getEncryptor(f.objId),g=t.title||"Note";r="<</Type /Annot /Subtype /Text "+(n="/Rect ["+i(t.bounds.x)+" "+o(t.bounds.y+t.bounds.h)+" "+i(t.bounds.x+t.bounds.w)+" "+o(t.bounds.y)+"] ")+"/Contents ("+h(m(t.contents))+")",r+=" /Popup "+p.objId+" 0 R",r+=" /P "+s.objId+" 0 R",r+=" /T ("+h(m(g))+") >>",f.content=r;var v=f.objId+" 0 R";r="<</Type /Annot /Subtype /Popup "+(n="/Rect ["+i(t.bounds.x+30)+" "+o(t.bounds.y+t.bounds.h)+" "+i(t.bounds.x+t.bounds.w+30)+" "+o(t.bounds.y)+"] ")+" /Parent "+v,t.open&&(r+=" /Open true"),r+=" >>",p.content=r,this.internal.write(f.objId,"0 R",p.objId,"0 R");break;case"freetext":n="/Rect ["+i(t.bounds.x)+" "+o(t.bounds.y)+" "+i(t.bounds.x+t.bounds.w)+" "+o(t.bounds.y+t.bounds.h)+"] ";var y=t.color||"#000000";r="<</Type /Annot /Subtype /FreeText "+n+"/Contents ("+h(d(t.contents))+")",r+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+y+")",r+=" /Border [0 0 0]",r+=" >>",this.internal.write(r);break;case"link":if(t.options.name){var b=this.annotations._nameMap[t.options.name];t.options.pageNumber=b.page,t.options.top=b.y}else t.options.top||(t.options.top=0);if(n="/Rect ["+t.finalBounds.x+" "+t.finalBounds.y+" "+t.finalBounds.w+" "+t.finalBounds.h+"] ",r="",t.options.url)r="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /A <</S /URI /URI ("+h(d(t.options.url))+") >>";else if(t.options.pageNumber)switch(r="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(t.options.pageNumber).objId+" 0 R",t.options.magFactor=t.options.magFactor||"XYZ",t.options.magFactor){case"Fit":r+=" /Fit]";break;case"FitH":r+=" /FitH "+t.options.top+"]";break;case"FitV":t.options.left=t.options.left||0,r+=" /FitV "+t.options.left+"]";break;default:var w=o(t.options.top);t.options.left=t.options.left||0,void 0===t.options.zoom&&(t.options.zoom=0),r+=" /XYZ "+t.options.left+" "+w+" "+t.options.zoom+"]"}""!=r&&(r+=" >>",this.internal.write(r))}}this.internal.write("]")}}]),pt.createAnnotation=function(e){var t=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":t.pageContext.annotations.push(e)}},pt.link=function(e,t,n,r,i){var o=this.internal.getCurrentPageInfo(),s=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:s(e),y:a(t),w:s(e+n),h:a(t+r)},options:i,type:"link"})},pt.textWithLink=function(e,t,n,r){var i,o,s=this.getTextWidth(e),a=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==r.maxWidth){o=r.maxWidth;var c=this.splitTextToSize(e,o).length;i=Math.ceil(a*c)}else o=s,i=a;return this.text(e,t,n,r),n+=.2*a,"center"===r.align&&(t-=s/2),"right"===r.align&&(t-=s),this.link(t,n-a,o,i,r),s},pt.getTextWidth=function(e){var t=this.internal.getFontSize();return this.getStringUnitWidth(e)*t/this.internal.scaleFactor},function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var o=e.__arabicParser__.isInArabicSubstitutionA=function(e){return void 0!==t[e.charCodeAt(0)]},s=e.__arabicParser__.isArabicLetter=function(e){return"string"==typeof e&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(e)},a=e.__arabicParser__.isArabicEndLetter=function(e){return s(e)&&o(e)&&t[e.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(e){return s(e)&&i.indexOf(e.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(e){return s(e)&&o(e)&&t[e.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(e){return s(e)&&o(e)&&t[e.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(e){return s(e)&&o(e)&&t[e.charCodeAt(0)].length>=3};var l=e.__arabicParser__.arabicLetterHasMedialForm=function(e){return s(e)&&o(e)&&4==t[e.charCodeAt(0)].length},h=e.__arabicParser__.resolveLigatures=function(e){var t=0,r=n,i="",o=0;for(t=0;t<e.length;t+=1)void 0!==r[e.charCodeAt(t)]?(o++,"number"==typeof(r=r[e.charCodeAt(t)])&&(i+=String.fromCharCode(r),r=n,o=0),t===e.length-1&&(r=n,i+=e.charAt(t-(o-1)),t-=o-1,o=0)):(r=n,i+=e.charAt(t-o),t-=o,o=0);return i};e.__arabicParser__.isArabicDiacritic=function(e){return void 0!==e&&void 0!==r[e.charCodeAt(0)]};var d=e.__arabicParser__.getCorrectForm=function(e,t,n){return s(e)?!1===o(e)?-1:!u(e)||!s(t)&&!s(n)||!s(n)&&a(t)||a(e)&&!s(t)||a(e)&&c(t)||a(e)&&a(t)?0:l(e)&&s(t)&&!a(t)&&s(n)&&u(n)?3:a(e)||!s(n)?1:2:-1},f=function(e){var n=0,r=0,i=0,o="",a="",c="",u=(e=e||"").split("\\s+"),l=[];for(n=0;n<u.length;n+=1){for(l.push(""),r=0;r<u[n].length;r+=1)o=u[n][r],a=u[n][r-1],c=u[n][r+1],s(o)?(i=d(o,a,c),l[n]+=-1!==i?String.fromCharCode(t[o.charCodeAt(0)][i]):o):l[n]+=o;l[n]=h(l[n])}return l.join(" ")},p=e.__arabicParser__.processArabic=e.processArabic=function(){var e,t="string"==typeof arguments[0]?arguments[0]:arguments[0].text,n=[];if(Array.isArray(t)){var r=0;for(n=[],r=0;r<t.length;r+=1)Array.isArray(t[r])?n.push([f(t[r][0]),t[r][1],t[r][2]]):n.push([f(t[r])]);e=n}else e=f(t);return"string"==typeof arguments[0]?e:(arguments[0].text=e,arguments[0])};e.events.push(["preProcessText",p])}(Ne.API),Ne.API.autoPrint=function(e){var t;return"javascript"===((e=e||{}).variant=e.variant||"non-conform",e.variant)?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",(function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){this.internal.out("/OpenAction "+t+" 0 R")}))),this},function(e){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(t){e=t}});var t=150;Object.defineProperty(this,"width",{get:function(){return t},set:function(e){t=isNaN(e)||!1===Number.isInteger(e)||e<0?150:e,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=t+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(e){n=isNaN(e)||!1===Number.isInteger(e)||e<0?300:e,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var r=[];Object.defineProperty(this,"childNodes",{get:function(){return r},set:function(e){r=e}});var i={};Object.defineProperty(this,"style",{get:function(){return i},set:function(e){i=e}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,t){var n;if("2d"!==(e=e||"2d"))return null;for(n in t)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=t[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Ne.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,i=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),o.call(this))},o=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var e=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return e},set:function(t){e=t}});var t=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return t},set:function(e){t=e}});var n=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return n},set:function(e){n=e}});var r=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return r},set:function(e){r=e}});var i=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return i},set:function(e){i=e}});var o=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return o},set:function(e){o=e}});var s=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return s},set:function(e){s=e}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(e){return i.call(this),this.internal.__cell__.headerFunction="function"==typeof e?e:void 0,this},e.getTextDimensions=function(e,t){i.call(this);var n=(t=t||{}).fontSize||this.getFontSize(),r=t.font||this.getFont(),o=t.scaleFactor||this.internal.scaleFactor,s=0,a=0,c=0,u=this;if(!Array.isArray(e)&&"string"!=typeof e){if("number"!=typeof e)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");e=String(e)}var l=t.maxWidth;l>0?"string"==typeof e?e=this.splitTextToSize(e,l):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce((function(e,t){return e.concat(u.splitTextToSize(t,l))}),[])):e=Array.isArray(e)?e:[e];for(var h=0;h<e.length;h++)s<(c=this.getStringUnitWidth(e[h],{font:r})*n)&&(s=c);return 0!==s&&(a=e.length),{w:s/=o,h:Math.max((a*n*this.getLineHeightFactor()-n*(this.getLineHeightFactor()-1))/o,0)}},e.cellAddPage=function(){i.call(this),this.addPage();var e=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(e.left,e.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=e.cell=function(){var e;e=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var r=this.internal.__cell__.lastCell,o=this.internal.__cell__.padding,a=this.internal.__cell__.margins||t,c=this.internal.__cell__.tableHeaderRow,u=this.internal.__cell__.printHeaders;return void 0!==r.lineNumber&&(r.lineNumber===e.lineNumber?(e.x=(r.x||0)+(r.width||0),e.y=r.y||0):r.y+r.height+e.height+a.bottom>this.getPageHeight()?(this.cellAddPage(),e.y=a.top,u&&c&&(this.printHeaderRow(e.lineNumber,!0),e.y+=c[0].height)):e.y=r.y+r.height||e.y),void 0!==e.text[0]&&(this.rect(e.x,e.y,e.width,e.height,!0===n?"FD":void 0),"right"===e.align?this.text(e.text,e.x+e.width-o,e.y+o,{align:"right",baseline:"top"}):"center"===e.align?this.text(e.text,e.x+e.width/2,e.y+o,{align:"center",baseline:"top",maxWidth:e.width-o-o}):this.text(e.text,e.x+o,e.y+o,{align:"left",baseline:"top",maxWidth:e.width-o-o})),this.internal.__cell__.lastCell=e,this};e.table=function(e,n,u,l,h){if(i.call(this),!u)throw new Error("No data for PDF table.");var d,f,p,m,g=[],v=[],y=[],b={},w={},S=[],_=[],x=(h=h||{}).autoSize||!1,C=!1!==h.printHeaders,E=h.css&&void 0!==h.css["font-size"]?16*h.css["font-size"]:h.fontSize||12,k=h.margins||Object.assign({width:this.getPageWidth()},t),A="number"==typeof h.padding?h.padding:3,N=h.headerBackgroundColor||"#c8c8c8",T=h.headerTextColor||"#000";if(o.call(this),this.internal.__cell__.printHeaders=C,this.internal.__cell__.margins=k,this.internal.__cell__.table_font_size=E,this.internal.__cell__.padding=A,this.internal.__cell__.headerBackgroundColor=N,this.internal.__cell__.headerTextColor=T,this.setFontSize(E),null==l)v=g=Object.keys(u[0]),y=g.map((function(){return"left"}));else if(Array.isArray(l)&&"object"===r(l[0]))for(g=l.map((function(e){return e.name})),v=l.map((function(e){return e.prompt||e.name||""})),y=l.map((function(e){return e.align||"left"})),d=0;d<l.length;d+=1)w[l[d].name]=l[d].width*(19.049976/25.4);else Array.isArray(l)&&"string"==typeof l[0]&&(v=g=l,y=g.map((function(){return"left"})));if(x||Array.isArray(l)&&"string"==typeof l[0])for(d=0;d<g.length;d+=1){for(b[m=g[d]]=u.map((function(e){return e[m]})),this.setFont(void 0,"bold"),S.push(this.getTextDimensions(v[d],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),f=b[m],this.setFont(void 0,"normal"),p=0;p<f.length;p+=1)S.push(this.getTextDimensions(f[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);w[m]=Math.max.apply(null,S)+A+A,S=[]}if(C){var P={};for(d=0;d<g.length;d+=1)P[g[d]]={},P[g[d]].text=v[d],P[g[d]].align=y[d];var O=c.call(this,P,w);_=g.map((function(t){return new s(e,n,w[t],O,P[t].text,void 0,P[t].align)})),this.setTableHeaderRow(_),this.printHeaderRow(1,!1)}var I=l.reduce((function(e,t){return e[t.name]=t.align,e}),{});for(d=0;d<u.length;d+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:d,data:u[d]},this);var R=c.call(this,u[d],w);for(p=0;p<g.length;p+=1){var L=u[d][g[p]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:d,col:p,data:L},this),a.call(this,new s(e,n,w[g[p]],R,L,d+2,I[g[p]]))}}return this.internal.__cell__.table_x=e,this.internal.__cell__.table_y=n,this};var c=function(e,t){var n=this.internal.__cell__.padding,r=this.internal.__cell__.table_font_size,i=this.internal.scaleFactor;return Object.keys(e).map((function(r){var i=e[r];return this.splitTextToSize(i.hasOwnProperty("text")?i.text:i,t[r]-n-n)}),this).map((function(e){return this.getLineHeightFactor()*e.length*r/i+n+n}),this).reduce((function(e,t){return Math.max(e,t)}),0)};e.setTableHeaderRow=function(e){i.call(this),this.internal.__cell__.tableHeaderRow=e},e.printHeaderRow=function(e,t){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var r;if(n=!0,"function"==typeof this.internal.__cell__.headerFunction){var o=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(o[0],o[1],o[2],o[3],void 0,-1)}this.setFont(void 0,"bold");for(var c=[],u=0;u<this.internal.__cell__.tableHeaderRow.length;u+=1){r=this.internal.__cell__.tableHeaderRow[u].clone(),t&&(r.y=this.internal.__cell__.margins.top||0,c.push(r)),r.lineNumber=e;var l=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,r),this.setTextColor(l)}c.length>0&&this.setTableHeaderRow(c),this.setFont(void 0,"normal"),n=!1}}(Ne.API);var yt={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},bt=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],wt=vt(bt),St=[100,200,300,400,500,600,700,800,900],_t=vt(St);function xt(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(e){return yt[e=e||"normal"]?e:"normal"}(e.style),r=function(e){return e?"number"==typeof e?e>=100&&e<=900&&e%100==0?e:400:/^\d00$/.test(e)?parseInt(e):"bold"===e?700:400:400}(e.weight),i=function(e){return"number"==typeof wt[e=e||"normal"]?e:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,n,r].join(" ")}}}function Ct(e,t,n,r){var i;for(i=n;i>=0&&i<t.length;i+=r)if(e[t[i]])return e[t[i]];for(i=n;i>=0&&i<t.length;i-=r)if(e[t[i]])return e[t[i]]}var Et={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},kt={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function At(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function Nt(e){return e.trimLeft()}function Tt(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function Pt(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===t?null:[t[0],e.substring(t[0].length)]}var Ot,It,Rt,Lt=["times"];!function(e){var t,n,i,o,s,a,c,u,l,h=function(e){return e=e||{},this.isStrokeTransparent=e.isStrokeTransparent||!1,this.strokeOpacity=e.strokeOpacity||1,this.strokeStyle=e.strokeStyle||"#000000",this.fillStyle=e.fillStyle||"#000000",this.isFillTransparent=e.isFillTransparent||!1,this.fillOpacity=e.fillOpacity||1,this.font=e.font||"10px sans-serif",this.textBaseline=e.textBaseline||"alphabetic",this.textAlign=e.textAlign||"left",this.lineWidth=e.lineWidth||1,this.lineJoin=e.lineJoin||"miter",this.lineCap=e.lineCap||"butt",this.path=e.path||[],this.transform=void 0!==e.transform?e.transform.clone():new u,this.globalCompositeOperation=e.globalCompositeOperation||"normal",this.globalAlpha=e.globalAlpha||1,this.clip_path=e.clip_path||[],this.currentPoint=e.currentPoint||new a,this.miterLimit=e.miterLimit||10,this.lastPoint=e.lastPoint||new a,this.lineDashOffset=e.lineDashOffset||0,this.lineDash=e.lineDash||[],this.margin=e.margin||[0,0,0,0],this.prevPageLastElemOffset=e.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof e.ignoreClearRect||e.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new d(this),t=this.internal.f2,n=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,o=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,c=this.internal.Rectangle,u=this.internal.Matrix,l=new h}]);var d=function(e){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var t=e;Object.defineProperty(this,"pdf",{get:function(){return t}});var n=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return n},set:function(e){n=Boolean(e)}});var r=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return r},set:function(e){r=Boolean(e)}});var i=0;Object.defineProperty(this,"posX",{get:function(){return i},set:function(e){isNaN(e)||(i=e)}});var o=0;Object.defineProperty(this,"posY",{get:function(){return o},set:function(e){isNaN(e)||(o=e)}}),Object.defineProperty(this,"margin",{get:function(){return l.margin},set:function(e){var t;"number"==typeof e?t=[e,e,e,e]:((t=new Array(4))[0]=e[0],t[1]=e.length>=2?e[1]:t[0],t[2]=e.length>=3?e[2]:t[0],t[3]=e.length>=4?e[3]:t[1]),l.margin=t}});var s=!1;Object.defineProperty(this,"autoPaging",{get:function(){return s},set:function(e){s=e}});var a=0;Object.defineProperty(this,"lastBreak",{get:function(){return a},set:function(e){a=e}});var c=[];Object.defineProperty(this,"pageBreaks",{get:function(){return c},set:function(e){c=e}}),Object.defineProperty(this,"ctx",{get:function(){return l},set:function(e){e instanceof h&&(l=e)}}),Object.defineProperty(this,"path",{get:function(){return l.path},set:function(e){l.path=e}});var u=[];Object.defineProperty(this,"ctxStack",{get:function(){return u},set:function(e){u=e}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(e){var t;t=f(e),this.ctx.fillStyle=t.style,this.ctx.isFillTransparent=0===t.a,this.ctx.fillOpacity=t.a,this.pdf.setFillColor(t.r,t.g,t.b,{a:t.a}),this.pdf.setTextColor(t.r,t.g,t.b,{a:t.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(e){var t=f(e);this.ctx.strokeStyle=t.style,this.ctx.isStrokeTransparent=0===t.a,this.ctx.strokeOpacity=t.a,0===t.a?this.pdf.setDrawColor(255,255,255):(t.a,this.pdf.setDrawColor(t.r,t.g,t.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(e){-1!==["butt","round","square"].indexOf(e)&&(this.ctx.lineCap=e,this.pdf.setLineCap(e))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(e){isNaN(e)||(this.ctx.lineWidth=e,this.pdf.setLineWidth(e))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(e){-1!==["bevel","round","miter"].indexOf(e)&&(this.ctx.lineJoin=e,this.pdf.setLineJoin(e))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(e){isNaN(e)||(this.ctx.miterLimit=e,this.pdf.setMiterLimit(e))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(e){this.ctx.textBaseline=e}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(e){-1!==["right","end","center","left","start"].indexOf(e)&&(this.ctx.textAlign=e)}});var d=null;function p(e,t){if(null===d){var n=function(e){var t=[];return Object.keys(e).forEach((function(n){e[n].forEach((function(e){var r=null;switch(e){case"bold":r={family:n,weight:"bold"};break;case"italic":r={family:n,style:"italic"};break;case"bolditalic":r={family:n,weight:"bold",style:"italic"};break;case"":case"normal":r={family:n}}null!==r&&(r.ref={name:n,style:e},t.push(r))}))})),t}(e.getFontList());d=function(e){for(var t={},n=0;n<e.length;++n){var r=xt(e[n]),i=r.family,o=r.stretch,s=r.style,a=r.weight;t[i]=t[i]||{},t[i][o]=t[i][o]||{},t[i][o][s]=t[i][o][s]||{},t[i][o][s][a]=r}return t}(n.concat(t))}return d}var m=null;Object.defineProperty(this,"fontFaces",{get:function(){return m},set:function(e){d=null,m=e}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(e){var t;if(this.ctx.font=e,null!==(t=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(e))){var n=t[1],r=(t[2],t[3]),i=t[4],o=(t[5],t[6]),s=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(i)[2];i="px"===s?Math.floor(parseFloat(i)*this.pdf.internal.scaleFactor):"em"===s?Math.floor(parseFloat(i)*this.pdf.getFontSize()):Math.floor(parseFloat(i)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(i);var a=function(e){var t,n,r=[],i=e.trim();if(""===i)return Lt;if(i in kt)return[kt[i]];for(;""!==i;){switch(n=null,t=(i=Nt(i)).charAt(0)){case'"':case"'":n=Tt(i.substring(1),t);break;default:n=Pt(i)}if(null===n)return Lt;if(r.push(n[0]),""!==(i=Nt(n[1]))&&","!==i.charAt(0))return Lt;i=i.replace(/^,/,"")}return r}(o);if(this.fontFaces){var c=function(e,t,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},Et,n.genericFontFamilies||{}),o=null,s=null,a=0;a<t.length;++a)if(i[(o=xt(t[a])).family]&&(o.family=i[o.family]),e.hasOwnProperty(o.family)){s=e[o.family];break}if(!(s=s||e[r]))throw new Error("Could not find a font-family for the rule '"+At(o)+"' and default family '"+r+"'.");if(s=function(e,t){if(t[e])return t[e];var n=wt[e],r=n<=wt.normal?-1:1,i=Ct(t,bt,n,r);if(!i)throw new Error("Could not find a matching font-stretch value for "+e);return i}(o.stretch,s),s=function(e,t){if(t[e])return t[e];for(var n=yt[e],r=0;r<n.length;++r)if(t[n[r]])return t[n[r]];throw new Error("Could not find a matching font-style for "+e)}(o.style,s),!(s=function(e,t){if(t[e])return t[e];if(400===e&&t[500])return t[500];if(500===e&&t[400])return t[400];var n=_t[e],r=Ct(t,St,n,e<400?-1:1);if(!r)throw new Error("Could not find a matching font-weight for value "+e);return r}(o.weight,s)))throw new Error("Failed to resolve a font for the rule '"+At(o)+"'.");return s}(p(this.pdf,this.fontFaces),a.map((function(e){return{family:e,stretch:"normal",weight:r,style:n}})));this.pdf.setFont(c.ref.name,c.ref.style)}else{var u="";("bold"===r||parseInt(r,10)>=700||"bold"===n)&&(u="bold"),"italic"===n&&(u+="italic"),0===u.length&&(u="normal");for(var l="",h={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},d=0;d<a.length;d++){if(void 0!==this.pdf.internal.getFont(a[d],u,{noFallback:!0,disableWarning:!0})){l=a[d];break}if("bolditalic"===u&&void 0!==this.pdf.internal.getFont(a[d],"bold",{noFallback:!0,disableWarning:!0}))l=a[d],u="bold";else if(void 0!==this.pdf.internal.getFont(a[d],"normal",{noFallback:!0,disableWarning:!0})){l=a[d],u="normal";break}}if(""===l)for(var f=0;f<a.length;f++)if(h[a[f]]){l=h[a[f]];break}l=""===l?"Times":l,this.pdf.setFont(l,u)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(e){this.ctx.globalCompositeOperation=e}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(e){this.ctx.globalAlpha=e}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(e){this.ctx.lineDashOffset=e,F.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(e){this.ctx.lineDash=e,F.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(e){this.ctx.ignoreClearRect=Boolean(e)}})};d.prototype.setLineDash=function(e){this.lineDash=e},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){S.call(this,"fill",!1)},d.prototype.stroke=function(){S.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(e,t){if(isNaN(e)||isNaN(t))throw J.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var n=this.ctx.transform.applyToPoint(new a(e,t));this.path.push({type:"mt",x:n.x,y:n.y}),this.ctx.lastPoint=new a(e,t)},d.prototype.closePath=function(){var e=new a(0,0),t=0;for(t=this.path.length-1;-1!==t;t--)if("begin"===this.path[t].type&&"object"===r(this.path[t+1])&&"number"==typeof this.path[t+1].x){e=new a(this.path[t+1].x,this.path[t+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(e.x,e.y)},d.prototype.lineTo=function(e,t){if(isNaN(e)||isNaN(t))throw J.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var n=this.ctx.transform.applyToPoint(new a(e,t));this.path.push({type:"lt",x:n.x,y:n.y}),this.ctx.lastPoint=new a(n.x,n.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),S.call(this,null,!0)},d.prototype.quadraticCurveTo=function(e,t,n,r){if(isNaN(n)||isNaN(r)||isNaN(e)||isNaN(t))throw J.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var i=this.ctx.transform.applyToPoint(new a(n,r)),o=this.ctx.transform.applyToPoint(new a(e,t));this.path.push({type:"qct",x1:o.x,y1:o.y,x:i.x,y:i.y}),this.ctx.lastPoint=new a(i.x,i.y)},d.prototype.bezierCurveTo=function(e,t,n,r,i,o){if(isNaN(i)||isNaN(o)||isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw J.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var s=this.ctx.transform.applyToPoint(new a(i,o)),c=this.ctx.transform.applyToPoint(new a(e,t)),u=this.ctx.transform.applyToPoint(new a(n,r));this.path.push({type:"bct",x1:c.x,y1:c.y,x2:u.x,y2:u.y,x:s.x,y:s.y}),this.ctx.lastPoint=new a(s.x,s.y)},d.prototype.arc=function(e,t,n,r,i,o){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(i))throw J.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(o=Boolean(o),!this.ctx.transform.isIdentity){var s=this.ctx.transform.applyToPoint(new a(e,t));e=s.x,t=s.y;var c=this.ctx.transform.applyToPoint(new a(0,n)),u=this.ctx.transform.applyToPoint(new a(0,0));n=Math.sqrt(Math.pow(c.x-u.x,2)+Math.pow(c.y-u.y,2))}Math.abs(i-r)>=2*Math.PI&&(r=0,i=2*Math.PI),this.path.push({type:"arc",x:e,y:t,radius:n,startAngle:r,endAngle:i,counterclockwise:o})},d.prototype.arcTo=function(e,t,n,r,i){throw new Error("arcTo not implemented.")},d.prototype.rect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw J.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+r),this.lineTo(e,t+r),this.lineTo(e,t),this.lineTo(e+n,t),this.lineTo(e,t)},d.prototype.fillRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw J.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var i={};"butt"!==this.lineCap&&(i.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(i.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(e,t,n,r),this.fill(),i.hasOwnProperty("lineCap")&&(this.lineCap=i.lineCap),i.hasOwnProperty("lineJoin")&&(this.lineJoin=i.lineJoin)}},d.prototype.strokeRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw J.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");m.call(this)||(this.beginPath(),this.rect(e,t,n,r),this.stroke())},d.prototype.clearRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw J.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(e,t,n,r))},d.prototype.save=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("q");if(this.pdf.setPage(t),e){this.ctx.fontSize=this.pdf.internal.getFontSize();var r=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=r}},d.prototype.restore=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("Q");this.pdf.setPage(t),e&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var f=function(e){var t,n,r,i;if(!0===e.isCanvasGradient&&(e=e.getColor()),!e)return{r:0,g:0,b:0,a:0,style:e};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(e))t=0,n=0,r=0,i=0;else{var o=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(e);if(null!==o)t=parseInt(o[1]),n=parseInt(o[2]),r=parseInt(o[3]),i=1;else if(null!==(o=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(e)))t=parseInt(o[1]),n=parseInt(o[2]),r=parseInt(o[3]),i=parseFloat(o[4]);else{if(i=1,"string"==typeof e&&"#"!==e.charAt(0)){var s=new ie(e);e=s.ok?s.toHex():"#000000"}4===e.length?(t=e.substring(1,2),t+=t,n=e.substring(2,3),n+=n,r=e.substring(3,4),r+=r):(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7)),t=parseInt(t,16),n=parseInt(n,16),r=parseInt(r,16)}}return{r:t,g:n,b:r,a:i,style:e}},p=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},m=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};d.prototype.fillText=function(e,t,n,r){if(isNaN(t)||isNaN(n)||"string"!=typeof e)throw J.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(r=isNaN(r)?void 0:r,!p.call(this)){var i=M(this.ctx.transform.rotation),o=this.ctx.transform.scaleX;T.call(this,{text:e,x:t,y:n,scale:o,angle:i,align:this.textAlign,maxWidth:r})}},d.prototype.strokeText=function(e,t,n,r){if(isNaN(t)||isNaN(n)||"string"!=typeof e)throw J.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!m.call(this)){r=isNaN(r)?void 0:r;var i=M(this.ctx.transform.rotation),o=this.ctx.transform.scaleX;T.call(this,{text:e,x:t,y:n,scale:o,renderingMode:"stroke",angle:i,align:this.textAlign,maxWidth:r})}},d.prototype.measureText=function(e){if("string"!=typeof e)throw J.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var t=this.pdf,n=this.pdf.internal.scaleFactor,r=t.internal.getFontSize(),i=t.getStringUnitWidth(e)*r/t.internal.scaleFactor;return new function(e){var t=(e=e||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return t}}),this}({width:i*=Math.round(96*n/72*1e4)/1e4})},d.prototype.scale=function(e,t){if(isNaN(e)||isNaN(t))throw J.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var n=new u(e,0,0,t,0,0);this.ctx.transform=this.ctx.transform.multiply(n)},d.prototype.rotate=function(e){if(isNaN(e))throw J.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var t=new u(Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0);this.ctx.transform=this.ctx.transform.multiply(t)},d.prototype.translate=function(e,t){if(isNaN(e)||isNaN(t))throw J.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var n=new u(1,0,0,1,e,t);this.ctx.transform=this.ctx.transform.multiply(n)},d.prototype.transform=function(e,t,n,r,i,o){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(i)||isNaN(o))throw J.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var s=new u(e,t,n,r,i,o);this.ctx.transform=this.ctx.transform.multiply(s)},d.prototype.setTransform=function(e,t,n,r,i,o){e=isNaN(e)?1:e,t=isNaN(t)?0:t,n=isNaN(n)?0:n,r=isNaN(r)?1:r,i=isNaN(i)?0:i,o=isNaN(o)?0:o,this.ctx.transform=new u(e,t,n,r,i,o)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(e,t,n,r,i,o,s,a,l){var h=this.pdf.getImageProperties(e),d=1,f=1,p=1,m=1;void 0!==r&&void 0!==a&&(p=a/r,m=l/i,d=h.width/r*a/r,f=h.height/i*l/i),void 0===o&&(o=t,s=n,t=0,n=0),void 0!==r&&void 0===a&&(a=r,l=i),void 0===r&&void 0===a&&(a=h.width,l=h.height);for(var y,S=this.ctx.transform.decompose(),x=M(S.rotate.shx),C=new u,E=(C=(C=(C=C.multiply(S.translate)).multiply(S.skew)).multiply(S.scale)).applyToRectangle(new c(o-t*p,s-n*m,r*d,i*f)),k=v.call(this,E),A=[],N=0;N<k.length;N+=1)-1===A.indexOf(k[N])&&A.push(k[N]);if(w(A),this.autoPaging)for(var T=A[0],P=A[A.length-1],O=T;O<P+1;O++){this.pdf.setPage(O);var I=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],R=1===O?this.posY+this.margin[0]:this.margin[0],L=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],D=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],j=1===O?0:L+(O-2)*D;if(0!==this.ctx.clip_path.length){var F=this.path;y=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(y,this.posX+this.margin[3],-j+R+this.ctx.prevPageLastElemOffset),_.call(this,"fill",!0),this.path=F}var B=JSON.parse(JSON.stringify(E));B=b([B],this.posX+this.margin[3],-j+R+this.ctx.prevPageLastElemOffset)[0];var q=(O>T||O<P)&&g.call(this);q&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],I,D,null).clip().discardPath()),this.pdf.addImage(e,"JPEG",B.x,B.y,B.w,B.h,null,null,x),q&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(e,"JPEG",E.x,E.y,E.w,E.h,null,null,x)};var v=function(e,t,n){var r=[];t=t||this.pdf.internal.pageSize.width,n=n||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var i=this.posY+this.ctx.prevPageLastElemOffset;switch(e.type){default:case"mt":case"lt":r.push(Math.floor((e.y+i)/n)+1);break;case"arc":r.push(Math.floor((e.y+i-e.radius)/n)+1),r.push(Math.floor((e.y+i+e.radius)/n)+1);break;case"qct":var o=D(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x,e.y);r.push(Math.floor((o.y+i)/n)+1),r.push(Math.floor((o.y+o.h+i)/n)+1);break;case"bct":var s=j(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x2,e.y2,e.x,e.y);r.push(Math.floor((s.y+i)/n)+1),r.push(Math.floor((s.y+s.h+i)/n)+1);break;case"rect":r.push(Math.floor((e.y+i)/n)+1),r.push(Math.floor((e.y+e.h+i)/n)+1)}for(var a=0;a<r.length;a+=1)for(;this.pdf.internal.getNumberOfPages()<r[a];)y.call(this);return r},y=function(){var e=this.fillStyle,t=this.strokeStyle,n=this.font,r=this.lineCap,i=this.lineWidth,o=this.lineJoin;this.pdf.addPage(),this.fillStyle=e,this.strokeStyle=t,this.font=n,this.lineCap=r,this.lineWidth=i,this.lineJoin=o},b=function(e,t,n){for(var r=0;r<e.length;r++)switch(e[r].type){case"bct":e[r].x2+=t,e[r].y2+=n;case"qct":e[r].x1+=t,e[r].y1+=n;default:e[r].x+=t,e[r].y+=n}return e},w=function(e){return e.sort((function(e,t){return e-t}))},S=function(e,t){for(var n,r,i=this.fillStyle,o=this.strokeStyle,s=this.lineCap,a=this.lineWidth,c=Math.abs(a*this.ctx.transform.scaleX),u=this.lineJoin,l=JSON.parse(JSON.stringify(this.path)),h=JSON.parse(JSON.stringify(this.path)),d=[],f=0;f<h.length;f++)if(void 0!==h[f].x)for(var p=v.call(this,h[f]),m=0;m<p.length;m+=1)-1===d.indexOf(p[m])&&d.push(p[m]);for(var S=0;S<d.length;S++)for(;this.pdf.internal.getNumberOfPages()<d[S];)y.call(this);if(w(d),this.autoPaging)for(var x=d[0],C=d[d.length-1],E=x;E<C+1;E++){this.pdf.setPage(E),this.fillStyle=i,this.strokeStyle=o,this.lineCap=s,this.lineWidth=c,this.lineJoin=u;var k=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],A=1===E?this.posY+this.margin[0]:this.margin[0],N=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],T=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],P=1===E?0:N+(E-2)*T;if(0!==this.ctx.clip_path.length){var O=this.path;n=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(n,this.posX+this.margin[3],-P+A+this.ctx.prevPageLastElemOffset),_.call(this,e,!0),this.path=O}if(r=JSON.parse(JSON.stringify(l)),this.path=b(r,this.posX+this.margin[3],-P+A+this.ctx.prevPageLastElemOffset),!1===t||0===E){var I=(E>x||E<C)&&g.call(this);I&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],k,T,null).clip().discardPath()),_.call(this,e,t),I&&this.pdf.restoreGraphicsState()}this.lineWidth=a}else this.lineWidth=c,_.call(this,e,t),this.lineWidth=a;this.path=l},_=function(e,t){if(("stroke"!==e||t||!m.call(this))&&("stroke"===e||t||!p.call(this))){for(var n,r,i=[],o=this.path,s=0;s<o.length;s++){var a=o[s];switch(a.type){case"begin":i.push({begin:!0});break;case"close":i.push({close:!0});break;case"mt":i.push({start:a,deltas:[],abs:[]});break;case"lt":var c=i.length;if(o[s-1]&&!isNaN(o[s-1].x)&&(n=[a.x-o[s-1].x,a.y-o[s-1].y],c>0))for(;c>=0;c--)if(!0!==i[c-1].close&&!0!==i[c-1].begin){i[c-1].deltas.push(n),i[c-1].abs.push(a);break}break;case"bct":n=[a.x1-o[s-1].x,a.y1-o[s-1].y,a.x2-o[s-1].x,a.y2-o[s-1].y,a.x-o[s-1].x,a.y-o[s-1].y],i[i.length-1].deltas.push(n);break;case"qct":var u=o[s-1].x+2/3*(a.x1-o[s-1].x),l=o[s-1].y+2/3*(a.y1-o[s-1].y),h=a.x+2/3*(a.x1-a.x),d=a.y+2/3*(a.y1-a.y),f=a.x,g=a.y;n=[u-o[s-1].x,l-o[s-1].y,h-o[s-1].x,d-o[s-1].y,f-o[s-1].x,g-o[s-1].y],i[i.length-1].deltas.push(n);break;case"arc":i.push({deltas:[],abs:[],arc:!0}),Array.isArray(i[i.length-1].abs)&&i[i.length-1].abs.push(a)}}r=t?null:"stroke"===e?"stroke":"fill";for(var v=!1,y=0;y<i.length;y++)if(i[y].arc)for(var b=i[y].abs,w=0;w<b.length;w++){var S=b[w];"arc"===S.type?E.call(this,S.x,S.y,S.radius,S.startAngle,S.endAngle,S.counterclockwise,void 0,t,!v):P.call(this,S.x,S.y),v=!0}else if(!0===i[y].close)this.pdf.internal.out("h"),v=!1;else if(!0!==i[y].begin){var _=i[y].start.x,x=i[y].start.y;O.call(this,i[y].deltas,_,x),v=!0}r&&k.call(this,r),t&&A.call(this)}},x=function(e){var t=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,n=t*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return e-n;case"top":return e+t-n;case"hanging":return e+t-2*n;case"middle":return e+t/2-n;default:return e}},C=function(e){return e+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var e=function(){};return e.colorStops=[],e.addColorStop=function(e,t){this.colorStops.push([e,t])},e.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},e.isCanvasGradient=!0,e},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var E=function(e,t,n,r,i,o,s,a,c){for(var u=R.call(this,n,r,i,o),l=0;l<u.length;l++){var h=u[l];0===l&&(c?N.call(this,h.x1+e,h.y1+t):P.call(this,h.x1+e,h.y1+t)),I.call(this,e,t,h.x2,h.y2,h.x3,h.y3,h.x4,h.y4)}a?A.call(this):k.call(this,s)},k=function(e){switch(e){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},A=function(){this.pdf.clip(),this.pdf.discardPath()},N=function(e,t){this.pdf.internal.out(n(e)+" "+i(t)+" m")},T=function(e){var t;switch(e.align){case"right":case"end":t="right";break;case"center":t="center";break;default:t="left"}var n=this.pdf.getTextDimensions(e.text),r=x.call(this,e.y),i=C.call(this,r)-n.h,o=this.ctx.transform.applyToPoint(new a(e.x,r)),s=this.ctx.transform.decompose(),l=new u;l=(l=(l=l.multiply(s.translate)).multiply(s.skew)).multiply(s.scale);for(var h,d,f,p=this.ctx.transform.applyToRectangle(new c(e.x,r,n.w,n.h)),m=l.applyToRectangle(new c(e.x,i,n.w,n.h)),y=v.call(this,m),S=[],E=0;E<y.length;E+=1)-1===S.indexOf(y[E])&&S.push(y[E]);if(w(S),this.autoPaging)for(var k=S[0],A=S[S.length-1],N=k;N<A+1;N++){this.pdf.setPage(N);var T=1===N?this.posY+this.margin[0]:this.margin[0],P=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],O=this.pdf.internal.pageSize.height-this.margin[2],I=O-this.margin[0],R=this.pdf.internal.pageSize.width-this.margin[1],L=R-this.margin[3],M=1===N?0:P+(N-2)*I;if(0!==this.ctx.clip_path.length){var D=this.path;h=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(h,this.posX+this.margin[3],-1*M+T),_.call(this,"fill",!0),this.path=D}var j=b([JSON.parse(JSON.stringify(m))],this.posX+this.margin[3],-M+T+this.ctx.prevPageLastElemOffset)[0];e.scale>=.01&&(d=this.pdf.internal.getFontSize(),this.pdf.setFontSize(d*e.scale),f=this.lineWidth,this.lineWidth=f*e.scale);var F="text"!==this.autoPaging;if(F||j.y+j.h<=O){if(F||j.y>=T&&j.x<=R){var B=F?e.text:this.pdf.splitTextToSize(e.text,e.maxWidth||R-j.x)[0],q=b([JSON.parse(JSON.stringify(p))],this.posX+this.margin[3],-M+T+this.ctx.prevPageLastElemOffset)[0],U=F&&(N>k||N<A)&&g.call(this);U&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],L,I,null).clip().discardPath()),this.pdf.text(B,q.x,q.y,{angle:e.angle,align:t,renderingMode:e.renderingMode}),U&&this.pdf.restoreGraphicsState()}}else j.y<O&&(this.ctx.prevPageLastElemOffset+=O-j.y);e.scale>=.01&&(this.pdf.setFontSize(d),this.lineWidth=f)}else e.scale>=.01&&(d=this.pdf.internal.getFontSize(),this.pdf.setFontSize(d*e.scale),f=this.lineWidth,this.lineWidth=f*e.scale),this.pdf.text(e.text,o.x+this.posX,o.y+this.posY,{angle:e.angle,align:t,renderingMode:e.renderingMode,maxWidth:e.maxWidth}),e.scale>=.01&&(this.pdf.setFontSize(d),this.lineWidth=f)},P=function(e,t,r,o){r=r||0,o=o||0,this.pdf.internal.out(n(e+r)+" "+i(t+o)+" l")},O=function(e,t,n){return this.pdf.lines(e,t,n,null,null)},I=function(e,n,r,i,a,c,u,l){this.pdf.internal.out([t(o(r+e)),t(s(i+n)),t(o(a+e)),t(s(c+n)),t(o(u+e)),t(s(l+n)),"c"].join(" "))},R=function(e,t,n,r){for(var i=2*Math.PI,o=Math.PI/2;t>n;)t-=i;var s=Math.abs(n-t);s<i&&r&&(s=i-s);for(var a=[],c=r?-1:1,u=t;s>1e-5;){var l=u+c*Math.min(s,o);a.push(L.call(this,e,u,l)),s-=Math.abs(l-u),u=l}return a},L=function(e,t,n){var r=(n-t)/2,i=e*Math.cos(r),o=e*Math.sin(r),s=i,a=-o,c=s*s+a*a,u=c+s*i+a*o,l=4/3*(Math.sqrt(2*c*u)-u)/(s*o-a*i),h=s-l*a,d=a+l*s,f=h,p=-d,m=r+t,g=Math.cos(m),v=Math.sin(m);return{x1:e*Math.cos(t),y1:e*Math.sin(t),x2:h*g-d*v,y2:h*v+d*g,x3:f*g-p*v,y3:f*v+p*g,x4:e*Math.cos(n),y4:e*Math.sin(n)}},M=function(e){return 180*e/Math.PI},D=function(e,t,n,r,i,o){var s=e+.5*(n-e),a=t+.5*(r-t),u=i+.5*(n-i),l=o+.5*(r-o),h=Math.min(e,i,s,u),d=Math.max(e,i,s,u),f=Math.min(t,o,a,l),p=Math.max(t,o,a,l);return new c(h,f,d-h,p-f)},j=function(e,t,n,r,i,o,s,a){var u,l,h,d,f,p,m,g,v,y,b,w,S,_,x=n-e,C=r-t,E=i-n,k=o-r,A=s-i,N=a-o;for(l=0;l<41;l++)v=(m=(h=e+(u=l/40)*x)+u*((f=n+u*E)-h))+u*(f+u*(i+u*A-f)-m),y=(g=(d=t+u*C)+u*((p=r+u*k)-d))+u*(p+u*(o+u*N-p)-g),0==l?(b=v,w=y,S=v,_=y):(b=Math.min(b,v),w=Math.min(w,y),S=Math.max(S,v),_=Math.max(_,y));return new c(Math.round(b),Math.round(w),Math.round(S-b),Math.round(_-w))},F=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var e,t,n=(e=this.ctx.lineDash,t=this.ctx.lineDashOffset,JSON.stringify({lineDash:e,lineDashOffset:t}));this.prevLineDash!==n&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=n)}}}(Ne.API),function(e){var t=function(e){var t,n,r,i,o,s,a,c,u,l;for(/[^\x00-\xFF]/.test(e),n=[],r=0,i=(e+=t="\0\0\0\0".slice(e.length%4||4)).length;i>r;r+=4)0!==(o=(e.charCodeAt(r)<<24)+(e.charCodeAt(r+1)<<16)+(e.charCodeAt(r+2)<<8)+e.charCodeAt(r+3))?(s=(o=((o=((o=((o=(o-(l=o%85))/85)-(u=o%85))/85)-(c=o%85))/85)-(a=o%85))/85)%85,n.push(s+33,a+33,c+33,u+33,l+33)):n.push(122);return function(e,t){for(var n=t;n>0;n--)e.pop()}(n,t.length),String.fromCharCode.apply(String,n)+"~>"},n=function(e){var t,n,r,i,o,s=String,a="length",c=255,u="charCodeAt",l="slice",h="replace";for(e[l](-2),e=e[l](0,-2)[h](/\s/g,"")[h]("z","!!!!!"),r=[],i=0,o=(e+=t="uuuuu"[l](e[a]%5||5))[a];o>i;i+=5)n=52200625*(e[u](i)-33)+614125*(e[u](i+1)-33)+7225*(e[u](i+2)-33)+85*(e[u](i+3)-33)+(e[u](i+4)-33),r.push(c&n>>24,c&n>>16,c&n>>8,c&n);return function(e,t){for(var n=t;n>0;n--)e.pop()}(r,t[a]),s.fromCharCode.apply(s,r)},r=function(e){var t=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(e=e.replace(/\s/g,"")).indexOf(">")&&(e=e.substr(0,e.indexOf(">"))),e.length%2&&(e+="0"),!1===t.test(e))return"";for(var n="",r=0;r<e.length;r+=2)n+=String.fromCharCode("0x"+(e[r]+e[r+1]));return n},i=function(e){for(var t=new Uint8Array(e.length),n=e.length;n--;)t[n]=e.charCodeAt(n);return(t=K(t)).reduce((function(e,t){return e+String.fromCharCode(t)}),"")};e.processDataByFilters=function(e,o){var s=0,a=e||"",c=[];for("string"==typeof(o=o||[])&&(o=[o]),s=0;s<o.length;s+=1)switch(o[s]){case"ASCII85Decode":case"/ASCII85Decode":a=n(a),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":a=t(a),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":a=r(a),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":a=a.split("").map((function(e){return("0"+e.charCodeAt().toString(16)).slice(-2)})).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":a=i(a),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[s]+'" is not implemented')}return{data:a,reverseChain:c.reverse().join(" ")}}}(Ne.API),function(e){e.loadFile=function(e,t,n){return function(e,t,n){t=!1!==t,n="function"==typeof n?n:function(){};var r=void 0;try{r=function(e,t,n){var r=new XMLHttpRequest,i=0,o=function(e){var t=e.length,n=[],r=String.fromCharCode;for(i=0;i<t;i+=1)n.push(r(255&e.charCodeAt(i)));return n.join("")};if(r.open("GET",e,!t),r.overrideMimeType("text/plain; charset=x-user-defined"),!1===t&&(r.onload=function(){200===r.status?n(o(this.responseText)):n(void 0)}),r.send(null),t&&200===r.status)return o(r.responseText)}(e,t,n)}catch(e){}return r}(e,t,n)},e.loadImageFile=e.loadFile}(Ne.API),function(e){function t(){return(Z.html2canvas?Promise.resolve(Z.html2canvas):n.e(865).then(n.t.bind(n,42865,23))).catch((function(e){return Promise.reject(new Error("Could not load html2canvas: "+e))})).then((function(e){return e.default?e.default:e}))}function i(){return(Z.DOMPurify?Promise.resolve(Z.DOMPurify):n.e(699).then(n.t.bind(n,31699,23))).catch((function(e){return Promise.reject(new Error("Could not load dompurify: "+e))})).then((function(e){return e.default?e.default:e}))}var o=function(e){var t=r(e);return"undefined"===t?"undefined":"string"===t||e instanceof String?"string":"number"===t||e instanceof Number?"number":"function"===t||e instanceof Function?"function":e&&e.constructor===Array?"array":e&&1===e.nodeType?"element":"object"===t?"object":"unknown"},s=function(e,t){var n=document.createElement(e);for(var r in t.className&&(n.className=t.className),t.innerHTML&&t.dompurify&&(n.innerHTML=t.dompurify.sanitize(t.innerHTML)),t.style)n.style[r]=t.style[r];return n},a=function e(t){var n=Object.assign(e.convert(Promise.resolve()),JSON.parse(JSON.stringify(e.template))),r=e.convert(Promise.resolve(),n);return(r=r.setProgress(1,e,1,[e])).set(t)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(e,t){return e.__proto__=t||a.prototype,e},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(e,t){return this.then((function(){switch(t=t||function(e){switch(o(e)){case"string":return"string";case"element":return"canvas"===e.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(e)){case"string":return this.then(i).then((function(t){return this.set({src:s("div",{innerHTML:e,dompurify:t})})}));case"element":return this.set({src:e});case"canvas":return this.set({canvas:e});case"img":return this.set({img:e});default:return this.error("Unknown source type.")}}))},a.prototype.to=function(e){switch(e){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then((function(){var e={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},t=function e(t,n){for(var r=3===t.nodeType?document.createTextNode(t.nodeValue):t.cloneNode(!1),i=t.firstChild;i;i=i.nextSibling)!0!==n&&1===i.nodeType&&"SCRIPT"===i.nodeName||r.appendChild(e(i,n));return 1===t.nodeType&&("CANVAS"===t.nodeName?(r.width=t.width,r.height=t.height,r.getContext("2d").drawImage(t,0,0)):"TEXTAREA"!==t.nodeName&&"SELECT"!==t.nodeName||(r.value=t.value),r.addEventListener("load",(function(){r.scrollTop=t.scrollTop,r.scrollLeft=t.scrollLeft}),!0)),r}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===t.tagName&&(e.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:e}),this.prop.container.appendChild(t),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"}))},a.prototype.toCanvas=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then((function(e){var t=Object.assign({},this.opt.html2canvas);return delete t.onrendered,e(this.prop.container,t)})).then((function(e){(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)}))},a.prototype.toContext2d=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then((function(e){var t=this.opt.jsPDF,n=this.opt.fontFaces,r="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,i=Object.assign({async:!0,allowTaint:!0,scale:r,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete i.onrendered,t.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,t.context2d.posX=this.opt.x,t.context2d.posY=this.opt.y,t.context2d.margin=this.opt.margin,t.context2d.fontFaces=n,n)for(var o=0;o<n.length;++o){var s=n[o],a=s.src.find((function(e){return"truetype"===e.format}));a&&t.addFont(a.url,s.ref.name,s.ref.style)}return i.windowHeight=i.windowHeight||0,i.windowHeight=0==i.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):i.windowHeight,t.context2d.save(!0),e(this.prop.container,i)})).then((function(e){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)}))},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then((function(){var e=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=e}))},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then((function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF}))},a.prototype.output=function(e,t,n){return"img"===(n=n||"pdf").toLowerCase()||"image"===n.toLowerCase()?this.outputImg(e,t):this.outputPdf(e,t)},a.prototype.outputPdf=function(e,t){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){return this.prop.pdf.output(e,t)}))},a.prototype.outputImg=function(e){return this.thenList([function(){return this.prop.img||this.toImg()}]).then((function(){switch(e){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+e+'" is not supported.'}}))},a.prototype.save=function(e){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(e?{filename:e}:null).then((function(){this.prop.pdf.save(this.opt.filename)}))},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){this.prop.callback(this.prop.pdf)}))},a.prototype.set=function(e){if("object"!==o(e))return this;var t=Object.keys(e||{}).map((function(t){if(t in a.template.prop)return function(){this.prop[t]=e[t]};switch(t){case"margin":return this.setMargin.bind(this,e.margin);case"jsPDF":return function(){return this.opt.jsPDF=e.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,e.pageSize);default:return function(){this.opt[t]=e[t]}}}),this);return this.then((function(){return this.thenList(t)}))},a.prototype.get=function(e,t){return this.then((function(){var n=e in a.template.prop?this.prop[e]:this.opt[e];return t?t(n):n}))},a.prototype.setMargin=function(e){return this.then((function(){switch(o(e)){case"number":e=[e,e,e,e];case"array":if(2===e.length&&(e=[e[0],e[1],e[0],e[1]]),4===e.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=e})).then(this.setPageSize)},a.prototype.setPageSize=function(e){function t(e,t){return Math.floor(e*t/72*96)}return this.then((function(){(e=e||Ne.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(e.inner={width:e.width-this.opt.margin[1]-this.opt.margin[3],height:e.height-this.opt.margin[0]-this.opt.margin[2]},e.inner.px={width:t(e.inner.width,e.k),height:t(e.inner.height,e.k)},e.inner.ratio=e.inner.height/e.inner.width),this.prop.pageSize=e}))},a.prototype.setProgress=function(e,t,n,r){return null!=e&&(this.progress.val=e),null!=t&&(this.progress.state=t),null!=n&&(this.progress.n=n),null!=r&&(this.progress.stack=r),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(e,t,n,r){return this.setProgress(e?this.progress.val+e:null,t||null,n?this.progress.n+n:null,r?this.progress.stack.concat(r):null)},a.prototype.then=function(e,t){var n=this;return this.thenCore(e,t,(function(e,t){return n.updateProgress(null,null,1,[e]),Promise.prototype.then.call(this,(function(t){return n.updateProgress(null,e),t})).then(e,t).then((function(e){return n.updateProgress(1),e}))}))},a.prototype.thenCore=function(e,t,n){n=n||Promise.prototype.then,e&&(e=e.bind(this)),t&&(t=t.bind(this));var r=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?this:a.convert(Object.assign({},this),Promise.prototype),i=n.call(r,e,t);return a.convert(i,this.__proto__)},a.prototype.thenExternal=function(e,t){return Promise.prototype.then.call(this,e,t)},a.prototype.thenList=function(e){var t=this;return e.forEach((function(e){t=t.thenCore(e)})),t},a.prototype.catch=function(e){e&&(e=e.bind(this));var t=Promise.prototype.catch.call(this,e);return a.convert(t,this)},a.prototype.catchExternal=function(e){return Promise.prototype.catch.call(this,e)},a.prototype.error=function(e){return this.then((function(){throw new Error(e)}))},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,Ne.getPageSize=function(e,t,n){if("object"===r(e)){var i=e;e=i.orientation,t=i.unit||t,n=i.format||n}t=t||"mm",n=n||"a4",e=(""+(e||"P")).toLowerCase();var o,s=(""+n).toLowerCase(),a={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(t){case"pt":o=1;break;case"mm":o=72/25.4;break;case"cm":o=72/2.54;break;case"in":o=72;break;case"px":o=.75;break;case"pc":case"em":o=12;break;case"ex":o=6;break;default:throw"Invalid unit: "+t}var c,u=0,l=0;if(a.hasOwnProperty(s))u=a[s][1]/o,l=a[s][0]/o;else try{u=n[1],l=n[0]}catch(e){throw new Error("Invalid format: "+n)}if("p"===e||"portrait"===e)e="p",l>u&&(c=l,l=u,u=c);else{if("l"!==e&&"landscape"!==e)throw"Invalid orientation: "+e;e="l",u>l&&(c=l,l=u,u=c)}return{width:l,height:u,unit:t,k:o,orientation:e}},e.html=function(e,t){(t=t||{}).callback=t.callback||function(){},t.html2canvas=t.html2canvas||{},t.html2canvas.canvas=t.html2canvas.canvas||this.canvas,t.jsPDF=t.jsPDF||this,t.fontFaces=t.fontFaces?t.fontFaces.map(xt):null;var n=new a(t);return t.worker?n:n.from(e).doCallback()}}(Ne.API),Ne.API.addJS=function(e){return Rt=e,this.internal.events.subscribe("postPutResources",(function(){Ot=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ot+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),It=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Rt+")"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){void 0!==Ot&&void 0!==It&&this.internal.out("/Names <</JavaScript "+Ot+" 0 R>>")})),this},function(e){var t;e.events.push(["postPutResources",function(){var e=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=e.outline.render().split(/\r\n/),i=0;i<r.length;i++){var o=r[i],s=n.exec(o);if(null!=s){var a=s[1];e.internal.newObjectDeferredBegin(a,!1)}e.internal.write(o)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(i=0;i<c;i++){var l=e.internal.newObject();u.push(l);var h=e.internal.getPageInfo(i+1);e.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var d=e.internal.newObject();for(e.internal.write("<< /Names [ "),i=0;i<u.length;i++)e.internal.write("(page_"+(i+1)+")"+u[i]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+d+" 0 R"),e.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(e,t,n){var r={title:t,options:n,children:[]};return null==e&&(e=this.root),e.children.push(r),r},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(t){t.id=e.internal.newObjectDeferred();for(var n=0;n<t.children.length;n++)this.genIds_r(t.children[n])},e.outline.renderRoot=function(e){this.objStart(e),this.line("/Type /Outlines"),e.children.length>0&&(this.line("/First "+this.makeRef(e.children[0])),this.line("/Last "+this.makeRef(e.children[e.children.length-1]))),this.line("/Count "+this.count_r({count:0},e)),this.objEnd()},e.outline.renderItems=function(t){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,r=0;r<t.children.length;r++){var i=t.children[r];this.objStart(i),this.line("/Title "+this.makeString(i.title)),this.line("/Parent "+this.makeRef(t)),r>0&&this.line("/Prev "+this.makeRef(t.children[r-1])),r<t.children.length-1&&this.line("/Next "+this.makeRef(t.children[r+1])),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1])));var o=this.count=this.count_r({count:0},i);if(o>0&&this.line("/Count "+o),i.options&&i.options.pageNumber){var s=e.internal.getPageInfo(i.options.pageNumber);this.line("/Dest ["+s.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(var a=0;a<t.children.length;a++)this.renderItems(t.children[a])},e.outline.line=function(e){this.ctx.val+=e+"\r\n"},e.outline.makeRef=function(e){return e.id+" 0 R"},e.outline.makeString=function(t){return"("+e.internal.pdfEscape(t)+")"},e.outline.objStart=function(e){this.ctx.val+="\r\n"+e.id+" 0 obj\r\n<<\r\n"},e.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},e.outline.count_r=function(e,t){for(var n=0;n<t.children.length;n++)e.count++,this.count_r(e,t.children[n]);return e.count}}])}(Ne.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(e,n,r,i,o,s){var a,c=this.decode.DCT_DECODE,u=null;if("string"==typeof e||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=o||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,(a=function(e){for(var n,r=256*e.charCodeAt(4)+e.charCodeAt(5),i=e.length,o={width:0,height:0,numcomponents:1},s=4;s<i;s+=2){if(s+=r,-1!==t.indexOf(e.charCodeAt(s+1))){n=256*e.charCodeAt(s+5)+e.charCodeAt(s+6),o={width:256*e.charCodeAt(s+7)+e.charCodeAt(s+8),height:n,numcomponents:e.charCodeAt(s+9)};break}r=256*e.charCodeAt(s+2)+e.charCodeAt(s+3)}return o}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e)).numcomponents){case 1:s=this.color_spaces.DEVICE_GRAY;break;case 4:s=this.color_spaces.DEVICE_CMYK;break;case 3:s=this.color_spaces.DEVICE_RGB}u={data:e,width:a.width,height:a.height,colorSpace:s,bitsPerComponent:8,filter:c,index:n,alias:r}}return u}}(Ne.API);var Mt,Dt,jt,Ft,Bt,qt=function(){var e,t,n;function r(e){var t,n,r,i,o,s,a,c,u,l,h,d,f,p;for(this.data=e,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},s=null;;){switch(t=this.readUInt32(),u=function(){var e,t;for(t=[],e=0;e<4;++e)t.push(String.fromCharCode(this.data[this.pos++]));return t}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(t);break;case"fcTL":s&&this.animation.frames.push(s),this.pos+=4,s={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},o=this.readUInt16(),i=this.readUInt16()||100,s.delay=1e3*o/i,s.disposeOp=this.data[this.pos++],s.blendOp=this.data[this.pos++],s.data=[];break;case"IDAT":case"fdAT":for("fdAT"===u&&(this.pos+=4,t-=4),e=(null!=s?s.data:void 0)||this.imgData,d=0;0<=t?d<t:d>t;0<=t?++d:--d)e.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(r=this.palette.length/3,this.transparency.indexed=this.read(t),this.transparency.indexed.length>r)throw new Error("More transparent colors than palette size");if((l=r-this.transparency.indexed.length)>0)for(f=0;0<=l?f<l:f>l;0<=l?++f:--f)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(t)[0];break;case 2:this.transparency.rgb=this.read(t)}break;case"tEXt":a=(h=this.read(t)).indexOf(0),c=String.fromCharCode.apply(String,h.slice(0,a)),this.text[c]=String.fromCharCode.apply(String,h.slice(a+1));break;case"IEND":return s&&this.animation.frames.push(s),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(p=this.colorType)||6===p,n=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*n,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=t}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;0<=e?++t:--t)n.push(this.data[this.pos++]);return n},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(e){var t,n,r=this.pixelBitlength/8,i=new Uint8Array(this.width*this.height*r),o=0,s=this;if(null==e&&(e=this.imgData),0===e.length)return new Uint8Array(0);function a(t,n,a,c){var u,l,h,d,f,p,m,g,v,y,b,w,S,_,x,C,E,k,A,N,T,P=Math.ceil((s.width-t)/a),O=Math.ceil((s.height-n)/c),I=s.width==P&&s.height==O;for(_=r*P,w=I?i:new Uint8Array(_*O),p=e.length,S=0,l=0;S<O&&o<p;){switch(e[o++]){case 0:for(d=E=0;E<_;d=E+=1)w[l++]=e[o++];break;case 1:for(d=k=0;k<_;d=k+=1)u=e[o++],f=d<r?0:w[l-r],w[l++]=(u+f)%256;break;case 2:for(d=A=0;A<_;d=A+=1)u=e[o++],h=(d-d%r)/r,x=S&&w[(S-1)*_+h*r+d%r],w[l++]=(x+u)%256;break;case 3:for(d=N=0;N<_;d=N+=1)u=e[o++],h=(d-d%r)/r,f=d<r?0:w[l-r],x=S&&w[(S-1)*_+h*r+d%r],w[l++]=(u+Math.floor((f+x)/2))%256;break;case 4:for(d=T=0;T<_;d=T+=1)u=e[o++],h=(d-d%r)/r,f=d<r?0:w[l-r],0===S?x=C=0:(x=w[(S-1)*_+h*r+d%r],C=h&&w[(S-1)*_+(h-1)*r+d%r]),m=f+x-C,g=Math.abs(m-f),y=Math.abs(m-x),b=Math.abs(m-C),v=g<=y&&g<=b?f:y<=b?x:C,w[l++]=(u+v)%256;break;default:throw new Error("Invalid filter algorithm: "+e[o-1])}if(!I){var R=((n+S*c)*s.width+t)*r,L=S*_;for(d=0;d<P;d+=1){for(var M=0;M<r;M+=1)i[R++]=w[L++];R+=(a-1)*r}}S++}}return e=I((W(t=e),t.subarray(2,-4)),n),1==s.interlaceMethod?(a(0,0,8,8),a(4,0,8,8),a(0,4,4,8),a(2,0,4,4),a(0,2,2,4),a(1,0,2,2),a(0,1,1,2)):a(0,0,1,1),i},r.prototype.decodePalette=function(){var e,t,n,r,i,o,s,a,c;for(n=this.palette,o=this.transparency.indexed||[],i=new Uint8Array((o.length||0)+n.length),r=0,e=0,t=s=0,a=n.length;s<a;t=s+=3)i[r++]=n[t],i[r++]=n[t+1],i[r++]=n[t+2],i[r++]=null!=(c=o[e++])?c:255;return i},r.prototype.copyToImageData=function(e,t){var n,r,i,o,s,a,c,u,l,h,d;if(r=this.colors,l=null,n=this.hasAlphaChannel,this.palette.length&&(l=null!=(d=this._decodedPalette)?d:this._decodedPalette=this.decodePalette(),r=4,n=!0),u=(i=e.data||e).length,s=l||t,o=a=0,1===r)for(;o<u;)c=l?4*t[o/4]:a,h=s[c++],i[o++]=h,i[o++]=h,i[o++]=h,i[o++]=n?s[c++]:255,a=c;else for(;o<u;)c=l?4*t[o/4]:a,i[o++]=s[c++],i[o++]=s[c++],i[o++]=s[c++],i[o++]=n?s[c++]:255,a=c},r.prototype.decode=function(){var e;return e=new Uint8Array(this.width*this.height*4),this.copyToImageData(e,this.decodePixels()),e};var i=function(){if("[object Window]"===Object.prototype.toString.call(Z)){try{t=Z.document.createElement("canvas"),n=t.getContext("2d")}catch(e){return!1}return!0}return!1};return i(),e=function(e){var r;if(!0===i())return n.width=e.width,n.height=e.height,n.clearRect(0,0,e.width,e.height),n.putImageData(e,0,0),(r=new Image).src=t.toDataURL(),r;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(t){var n,r,i,o,s,a,c,u;if(this.animation){for(u=[],r=s=0,a=(c=this.animation.frames).length;s<a;r=++s)n=c[r],i=t.createImageData(n.width,n.height),o=this.decodePixels(new Uint8Array(n.data)),this.copyToImageData(i,o),n.imageData=i,u.push(n.image=e(i));return u}},r.prototype.renderFrame=function(e,t){var n,r,i;return n=(r=this.animation.frames)[t],i=r[t-1],0===t&&e.clearRect(0,0,this.width,this.height),1===(null!=i?i.disposeOp:void 0)?e.clearRect(i.xOffset,i.yOffset,i.width,i.height):2===(null!=i?i.disposeOp:void 0)&&e.putImageData(i.imageData,i.xOffset,i.yOffset),0===n.blendOp&&e.clearRect(n.xOffset,n.yOffset,n.width,n.height),e.drawImage(n.image,n.xOffset,n.yOffset)},r.prototype.animate=function(e){var t,n,r,i,o,s,a=this;return n=0,s=this.animation,i=s.numFrames,r=s.frames,o=s.numPlays,(t=function(){var s,c;if(s=n++%i,c=r[s],a.renderFrame(e,s),i>1&&n/i<o)return a.animation._timeout=setTimeout(t,c.delay)})()},r.prototype.stopAnimation=function(){var e;return clearTimeout(null!=(e=this.animation)?e._timeout:void 0)},r.prototype.render=function(e){var t,n;return e._png&&e._png.stopAnimation(),e._png=this,e.width=this.width,e.height=this.height,t=e.getContext("2d"),this.animation?(this.decodeFrames(t),this.animate(t)):(n=t.createImageData(this.width,this.height),this.copyToImageData(n,this.decodePixels()),t.putImageData(n,0,0))},r}();function Ut(e){var t=0;if(71!==e[t++]||73!==e[t++]||70!==e[t++]||56!==e[t++]||56!=(e[t++]+1&253)||97!==e[t++])throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,i=e[t++],o=i>>7,s=1<<1+(7&i);e[t++],e[t++];var a=null,c=null;o&&(a=t,c=s,t+=3*s);var u=!0,l=[],h=0,d=null,f=0,p=null;for(this.width=n,this.height=r;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(11!==e[t]||78==e[t+1]&&69==e[t+2]&&84==e[t+3]&&83==e[t+4]&&67==e[t+5]&&65==e[t+6]&&80==e[t+7]&&69==e[t+8]&&50==e[t+9]&&46==e[t+10]&&48==e[t+11]&&3==e[t+12]&&1==e[t+13]&&0==e[t+16])t+=14,p=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((A=e[t++])>=0))throw Error("Invalid block size");if(0===A)break;t+=A}break;case 249:if(4!==e[t++]||0!==e[t+4])throw new Error("Invalid graphics extension block.");var m=e[t++];h=e[t++]|e[t++]<<8,d=e[t++],0==(1&m)&&(d=null),f=m>>2&7,t++;break;case 254:for(;;){if(!((A=e[t++])>=0))throw Error("Invalid block size");if(0===A)break;t+=A}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var g=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,w=e[t++],S=w>>6&1,_=1<<1+(7&w),x=a,C=c,E=!1;w>>7&&(E=!0,x=t,C=_,t+=3*_);var k=t;for(t++;;){var A;if(!((A=e[t++])>=0))throw Error("Invalid block size");if(0===A)break;t+=A}l.push({x:g,y:v,width:y,height:b,has_local_palette:E,palette_offset:x,palette_size:C,data_offset:k,data_length:t-k,transparent_index:d,interlaced:!!S,delay:h,disposal:f});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return l.length},this.loopCount=function(){return p},this.frameInfo=function(e){if(e<0||e>=l.length)throw new Error("Frame index out of range.");return l[e]},this.decodeAndBlitFrameBGRA=function(t,r){var i=this.frameInfo(t),o=i.width*i.height,s=new Uint8Array(o);zt(e,i.data_offset,s,o);var a=i.palette_offset,c=i.transparent_index;null===c&&(c=256);var u=i.width,l=n-u,h=u,d=4*(i.y*n+i.x),f=4*((i.y+i.height)*n+i.x),p=d,m=4*l;!0===i.interlaced&&(m+=4*n*7);for(var g=8,v=0,y=s.length;v<y;++v){var b=s[v];if(0===h&&(h=u,(p+=m)>=f&&(m=4*l+4*n*(g-1),p=d+(u+l)*(g<<1),g>>=1)),b===c)p+=4;else{var w=e[a+3*b],S=e[a+3*b+1],_=e[a+3*b+2];r[p++]=_,r[p++]=S,r[p++]=w,r[p++]=255}--h}},this.decodeAndBlitFrameRGBA=function(t,r){var i=this.frameInfo(t),o=i.width*i.height,s=new Uint8Array(o);zt(e,i.data_offset,s,o);var a=i.palette_offset,c=i.transparent_index;null===c&&(c=256);var u=i.width,l=n-u,h=u,d=4*(i.y*n+i.x),f=4*((i.y+i.height)*n+i.x),p=d,m=4*l;!0===i.interlaced&&(m+=4*n*7);for(var g=8,v=0,y=s.length;v<y;++v){var b=s[v];if(0===h&&(h=u,(p+=m)>=f&&(m=4*l+4*n*(g-1),p=d+(u+l)*(g<<1),g>>=1)),b===c)p+=4;else{var w=e[a+3*b],S=e[a+3*b+1],_=e[a+3*b+2];r[p++]=w,r[p++]=S,r[p++]=_,r[p++]=255}--h}}}function zt(e,t,n,r){for(var i=e[t++],o=1<<i,s=o+1,a=s+1,c=i+1,u=(1<<c)-1,l=0,h=0,d=0,f=e[t++],p=new Int32Array(4096),m=null;;){for(;l<16&&0!==f;)h|=e[t++]<<l,l+=8,1===f?f=e[t++]:--f;if(l<c)break;var g=h&u;if(h>>=c,l-=c,g!==o){if(g===s)break;for(var v=g<a?g:m,y=0,b=v;b>o;)b=p[b]>>8,++y;var w=b;if(d+y+(v!==g?1:0)>r)return void J.log("Warning, gif stream longer than expected.");n[d++]=w;var S=d+=y;for(v!==g&&(n[d++]=w),b=v;y--;)b=p[b],n[--S]=255&b,b>>=8;null!==m&&a<4096&&(p[a++]=m<<8|w,a>=u+1&&c<12&&(++c,u=u<<1|1)),m=g}else a=s+1,u=(1<<(c=i+1))-1,m=null}return d!==r&&J.log("Warning, gif stream shorter than expected."),n}function $t(e){var t,n,r,i,o,s=Math.floor,a=new Array(64),c=new Array(64),u=new Array(64),l=new Array(64),h=new Array(65535),d=new Array(65535),f=new Array(64),p=new Array(64),m=[],g=0,v=7,y=new Array(64),b=new Array(64),w=new Array(64),S=new Array(256),_=new Array(2048),x=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],C=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],E=[0,1,2,3,4,5,6,7,8,9,10,11],k=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],A=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],N=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],P=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],O=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function I(e,t){for(var n=0,r=0,i=new Array,o=1;o<=16;o++){for(var s=1;s<=e[o];s++)i[t[r]]=[],i[t[r]][0]=n,i[t[r]][1]=o,r++,n++;n*=2}return i}function R(e){for(var t=e[0],n=e[1]-1;n>=0;)t&1<<n&&(g|=1<<v),n--,--v<0&&(255==g?(L(255),L(0)):L(g),v=7,g=0)}function L(e){m.push(e)}function M(e){L(e>>8&255),L(255&e)}function D(e,t,n,r,i){for(var o,s=i[0],a=i[240],c=function(e,t){var n,r,i,o,s,a,c,u,l,h,d=0;for(l=0;l<8;++l){n=e[d],r=e[d+1],i=e[d+2],o=e[d+3],s=e[d+4],a=e[d+5],c=e[d+6];var p=n+(u=e[d+7]),m=n-u,g=r+c,v=r-c,y=i+a,b=i-a,w=o+s,S=o-s,_=p+w,x=p-w,C=g+y,E=g-y;e[d]=_+C,e[d+4]=_-C;var k=.707106781*(E+x);e[d+2]=x+k,e[d+6]=x-k;var A=.382683433*((_=S+b)-(E=v+m)),N=.5411961*_+A,T=1.306562965*E+A,P=.707106781*(C=b+v),O=m+P,I=m-P;e[d+5]=I+N,e[d+3]=I-N,e[d+1]=O+T,e[d+7]=O-T,d+=8}for(d=0,l=0;l<8;++l){n=e[d],r=e[d+8],i=e[d+16],o=e[d+24],s=e[d+32],a=e[d+40],c=e[d+48];var R=n+(u=e[d+56]),L=n-u,M=r+c,D=r-c,j=i+a,F=i-a,B=o+s,q=o-s,U=R+B,z=R-B,$=M+j,H=M-j;e[d]=U+$,e[d+32]=U-$;var G=.707106781*(H+z);e[d+16]=z+G,e[d+48]=z-G;var V=.382683433*((U=q+F)-(H=D+L)),W=.5411961*U+V,K=1.306562965*H+V,Z=.707106781*($=F+D),Y=L+Z,J=L-Z;e[d+40]=J+W,e[d+24]=J-W,e[d+8]=Y+K,e[d+56]=Y-K,d++}for(l=0;l<64;++l)h=e[l]*t[l],f[l]=h>0?h+.5|0:h-.5|0;return f}(e,t),u=0;u<64;++u)p[x[u]]=c[u];var l=p[0]-n;n=p[0],0==l?R(r[0]):(R(r[d[o=32767+l]]),R(h[o]));for(var m=63;m>0&&0==p[m];)m--;if(0==m)return R(s),n;for(var g,v=1;v<=m;){for(var y=v;0==p[v]&&v<=m;)++v;var b=v-y;if(b>=16){g=b>>4;for(var w=1;w<=g;++w)R(a);b&=15}o=32767+p[v],R(i[(b<<4)+d[o]]),R(h[o]),v++}return 63!=m&&R(s),n}function j(e){e=Math.min(Math.max(e,1),100),o!=e&&(function(e){for(var t=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],n=0;n<64;n++){var r=s((t[n]*e+50)/100);r=Math.min(Math.max(r,1),255),a[x[n]]=r}for(var i=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],o=0;o<64;o++){var h=s((i[o]*e+50)/100);h=Math.min(Math.max(h,1),255),c[x[o]]=h}for(var d=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],f=0,p=0;p<8;p++)for(var m=0;m<8;m++)u[f]=1/(a[x[f]]*d[p]*d[m]*8),l[f]=1/(c[x[f]]*d[p]*d[m]*8),f++}(e<50?Math.floor(5e3/e):Math.floor(200-2*e)),o=e)}this.encode=function(e,o){o&&j(o),m=new Array,g=0,v=7,M(65496),M(65504),M(16),L(74),L(70),L(73),L(70),L(0),L(1),L(1),L(0),M(1),M(1),L(0),L(0),function(){M(65499),M(132),L(0);for(var e=0;e<64;e++)L(a[e]);L(1);for(var t=0;t<64;t++)L(c[t])}(),function(e,t){M(65472),M(17),L(8),M(t),M(e),L(3),L(1),L(17),L(0),L(2),L(17),L(1),L(3),L(17),L(1)}(e.width,e.height),function(){M(65476),M(418),L(0);for(var e=0;e<16;e++)L(C[e+1]);for(var t=0;t<=11;t++)L(E[t]);L(16);for(var n=0;n<16;n++)L(k[n+1]);for(var r=0;r<=161;r++)L(A[r]);L(1);for(var i=0;i<16;i++)L(N[i+1]);for(var o=0;o<=11;o++)L(T[o]);L(17);for(var s=0;s<16;s++)L(P[s+1]);for(var a=0;a<=161;a++)L(O[a])}(),M(65498),M(12),L(3),L(1),L(0),L(2),L(17),L(3),L(17),L(0),L(63),L(0);var s=0,h=0,d=0;g=0,v=7,this.encode.displayName="_encode_";for(var f,p,S,x,I,F,B,q,U,z=e.data,$=e.width,H=e.height,G=4*$,V=0;V<H;){for(f=0;f<G;){for(I=G*V+f,B=-1,q=0,U=0;U<64;U++)F=I+(q=U>>3)*G+(B=4*(7&U)),V+q>=H&&(F-=G*(V+1+q-H)),f+B>=G&&(F-=f+B-G+4),p=z[F++],S=z[F++],x=z[F++],y[U]=(_[p]+_[S+256>>0]+_[x+512>>0]>>16)-128,b[U]=(_[p+768>>0]+_[S+1024>>0]+_[x+1280>>0]>>16)-128,w[U]=(_[p+1280>>0]+_[S+1536>>0]+_[x+1792>>0]>>16)-128;s=D(y,u,s,t,r),h=D(b,l,h,n,i),d=D(w,l,d,n,i),f+=32}V+=8}if(v>=0){var W=[];W[1]=v+1,W[0]=(1<<v+1)-1,R(W)}return M(65497),new Uint8Array(m)},e=e||50,function(){for(var e=String.fromCharCode,t=0;t<256;t++)S[t]=e(t)}(),t=I(C,E),n=I(N,T),r=I(k,A),i=I(P,O),function(){for(var e=1,t=2,n=1;n<=15;n++){for(var r=e;r<t;r++)d[32767+r]=n,h[32767+r]=[],h[32767+r][1]=n,h[32767+r][0]=r;for(var i=-(t-1);i<=-e;i++)d[32767+i]=n,h[32767+i]=[],h[32767+i][1]=n,h[32767+i][0]=t-1+i;e<<=1,t<<=1}}(),function(){for(var e=0;e<256;e++)_[e]=19595*e,_[e+256>>0]=38470*e,_[e+512>>0]=7471*e+32768,_[e+768>>0]=-11059*e,_[e+1024>>0]=-21709*e,_[e+1280>>0]=32768*e+8421375,_[e+1536>>0]=-27439*e,_[e+1792>>0]=-5329*e}(),j(e)}function Ht(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Gt(e){function t(e){if(!e)throw Error("assert :P")}function n(e,t,n){for(var r=0;4>r;r++)if(e[t+r]!=n.charCodeAt(r))return!0;return!1}function r(e,t,n,r,i){for(var o=0;o<i;o++)e[t+o]=n[r+o]}function i(e,t,n,r){for(var i=0;i<r;i++)e[t+i]=n}function o(e){return new Int32Array(e)}function s(e,t){for(var n=[],r=0;r<e;r++)n.push(new t);return n}function a(e,t){var n=[];return function e(n,r,i){for(var o=i[r],s=0;s<o&&(n.push(i.length>r+1?[]:new t),!(i.length<r+1));s++)e(n[s],r+1,i)}(n,0,e),n}var c=function(){var e=this;function c(e,t){for(var n=1<<t-1>>>0;e&n;)n>>>=1;return n?(e&n-1)+n:e}function u(e,n,r,i,o){t(!(i%r));do{e[n+(i-=r)]=o}while(0<i)}function l(e,n,r,i,s){if(t(2328>=s),512>=s)var a=o(512);else if(null==(a=o(s)))return 0;return function(e,n,r,i,s,a){var l,d,f=n,p=1<<r,m=o(16),g=o(16);for(t(0!=s),t(null!=i),t(null!=e),t(0<r),d=0;d<s;++d){if(15<i[d])return 0;++m[i[d]]}if(m[0]==s)return 0;for(g[1]=0,l=1;15>l;++l){if(m[l]>1<<l)return 0;g[l+1]=g[l]+m[l]}for(d=0;d<s;++d)l=i[d],0<i[d]&&(a[g[l]++]=d);if(1==g[15])return(i=new h).g=0,i.value=a[0],u(e,f,1,p,i),p;var v,y=-1,b=p-1,w=0,S=1,_=1,x=1<<r;for(d=0,l=1,s=2;l<=r;++l,s<<=1){if(S+=_<<=1,0>(_-=m[l]))return 0;for(;0<m[l];--m[l])(i=new h).g=l,i.value=a[d++],u(e,f+w,s,x,i),w=c(w,l)}for(l=r+1,s=2;15>=l;++l,s<<=1){if(S+=_<<=1,0>(_-=m[l]))return 0;for(;0<m[l];--m[l]){if(i=new h,(w&b)!=y){for(f+=x,v=1<<(y=l)-r;15>y&&!(0>=(v-=m[y]));)++y,v<<=1;p+=x=1<<(v=y-r),e[n+(y=w&b)].g=v+r,e[n+y].value=f-n-y}i.g=l-r,i.value=a[d++],u(e,f+(w>>r),s,x,i),w=c(w,l)}}return S!=2*g[15]-1?0:p}(e,n,r,i,s,a)}function h(){this.value=this.g=0}function d(){this.value=this.g=0}function f(){this.G=s(5,h),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Bn,d)}function p(e,n,r,i){t(null!=e),t(null!=n),t(2147483648>i),e.Ca=254,e.I=0,e.b=-8,e.Ka=0,e.oa=n,e.pa=r,e.Jd=n,e.Yc=r+i,e.Zc=4<=i?r+i-4+1:r,k(e)}function m(e,t){for(var n=0;0<t--;)n|=N(e,128)<<t;return n}function g(e,t){var n=m(e,t);return A(e)?-n:n}function v(e,n,r,i){var o,s=0;for(t(null!=e),t(null!=n),t(4294967288>i),e.Sb=i,e.Ra=0,e.u=0,e.h=0,4<i&&(i=4),o=0;o<i;++o)s+=n[r+o]<<8*o;e.Ra=s,e.bb=i,e.oa=n,e.pa=r}function y(e){for(;8<=e.u&&e.bb<e.Sb;)e.Ra>>>=8,e.Ra+=e.oa[e.pa+e.bb]<<zn-8>>>0,++e.bb,e.u-=8;x(e)&&(e.h=1,e.u=0)}function b(e,n){if(t(0<=n),!e.h&&n<=Un){var r=_(e)&qn[n];return e.u+=n,y(e),r}return e.h=1,e.u=0}function w(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function S(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function _(e){return e.Ra>>>(e.u&zn-1)>>>0}function x(e){return t(e.bb<=e.Sb),e.h||e.bb==e.Sb&&e.u>zn}function C(e,t){e.u=t,e.h=x(e)}function E(e){e.u>=$n&&(t(e.u>=$n),y(e))}function k(e){t(null!=e&&null!=e.oa),e.pa<e.Zc?(e.I=(e.oa[e.pa++]|e.I<<8)>>>0,e.b+=8):(t(null!=e&&null!=e.oa),e.pa<e.Yc?(e.b+=8,e.I=e.oa[e.pa++]|e.I<<8):e.Ka?e.b=0:(e.I<<=8,e.b+=8,e.Ka=1))}function A(e){return m(e,1)}function N(e,t){var n=e.Ca;0>e.b&&k(e);var r=e.b,i=n*t>>>8,o=(e.I>>>r>i)+0;for(o?(n-=i,e.I-=i+1<<r>>>0):n=i+1,r=n,i=0;256<=r;)i+=8,r>>=8;return r=7^i+Hn[r],e.b-=r,e.Ca=(n<<r)-1,o}function T(e,t,n){e[t+0]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=n>>0&255}function P(e,t){return e[t+0]<<0|e[t+1]<<8}function O(e,t){return P(e,t)|e[t+2]<<16}function I(e,t){return P(e,t)|P(e,t+2)<<16}function R(e,n){var r=1<<n;return t(null!=e),t(0<n),e.X=o(r),null==e.X?0:(e.Mb=32-n,e.Xa=n,1)}function L(e,n){t(null!=e),t(null!=n),t(e.Xa==n.Xa),r(n.X,0,e.X,0,1<<n.Xa)}function M(){this.X=[],this.Xa=this.Mb=0}function D(e,n,r,i){t(null!=r),t(null!=i);var o=r[0],s=i[0];return 0==o&&(o=(e*s+n/2)/n),0==s&&(s=(n*o+e/2)/e),0>=o||0>=s?0:(r[0]=o,i[0]=s,1)}function j(e,t){return e+(1<<t)-1>>>t}function F(e,t){return((4278255360&e)+(4278255360&t)>>>0&4278255360)+((16711935&e)+(16711935&t)>>>0&16711935)>>>0}function B(t,n){e[n]=function(n,r,i,o,s,a,c){var u;for(u=0;u<s;++u){var l=e[t](a[c+u-1],i,o+u);a[c+u]=F(n[r+u],l)}}}function q(){this.ud=this.hd=this.jd=0}function U(e,t){return((4278124286&(e^t))>>>1)+(e&t)>>>0}function z(e){return 0<=e&&256>e?e:0>e?0:255<e?255:void 0}function $(e,t){return z(e+(e-t+.5>>1))}function H(e,t,n){return Math.abs(t-n)-Math.abs(e-n)}function G(e,t,n,r,i,o,s){for(r=o[s-1],n=0;n<i;++n)o[s+n]=r=F(e[t+n],r)}function V(e,t,n,r,i){var o;for(o=0;o<n;++o){var s=e[t+o],a=s>>8&255,c=16711935&(c=(c=16711935&s)+((a<<16)+a));r[i+o]=(4278255360&s)+c>>>0}}function W(e,t){t.jd=e>>0&255,t.hd=e>>8&255,t.ud=e>>16&255}function K(e,t,n,r,i,o){var s;for(s=0;s<r;++s){var a=t[n+s],c=a>>>8,u=a,l=255&(l=(l=a>>>16)+((e.jd<<24>>24)*(c<<24>>24)>>>5));u=255&(u=(u+=(e.hd<<24>>24)*(c<<24>>24)>>>5)+((e.ud<<24>>24)*(l<<24>>24)>>>5)),i[o+s]=(4278255360&a)+(l<<16)+u}}function Z(t,n,r,i,o){e[n]=function(e,t,n,r,s,a,c,u,l){for(r=c;r<u;++r)for(c=0;c<l;++c)s[a++]=o(n[i(e[t++])])},e[t]=function(t,n,s,a,c,u,l){var h=8>>t.b,d=t.Ea,f=t.K[0],p=t.w;if(8>h)for(t=(1<<t.b)-1,p=(1<<h)-1;n<s;++n){var m,g=0;for(m=0;m<d;++m)m&t||(g=i(a[c++])),u[l++]=o(f[g&p]),g>>=h}else e["VP8LMapColor"+r](a,c,f,p,u,l,n,s,d)}}function Y(e,t,n,r,i){for(n=t+n;t<n;){var o=e[t++];r[i++]=o>>16&255,r[i++]=o>>8&255,r[i++]=o>>0&255}}function J(e,t,n,r,i){for(n=t+n;t<n;){var o=e[t++];r[i++]=o>>16&255,r[i++]=o>>8&255,r[i++]=o>>0&255,r[i++]=o>>24&255}}function Q(e,t,n,r,i){for(n=t+n;t<n;){var o=(s=e[t++])>>16&240|s>>12&15,s=s>>0&240|s>>28&15;r[i++]=o,r[i++]=s}}function X(e,t,n,r,i){for(n=t+n;t<n;){var o=(s=e[t++])>>16&248|s>>13&7,s=s>>5&224|s>>3&31;r[i++]=o,r[i++]=s}}function ee(e,t,n,r,i){for(n=t+n;t<n;){var o=e[t++];r[i++]=o>>0&255,r[i++]=o>>8&255,r[i++]=o>>16&255}}function te(e,t,n,i,o,s){if(0==s)for(n=t+n;t<n;)T(i,((s=e[t++])[0]>>24|s[1]>>8&65280|s[2]<<8&16711680|s[3]<<24)>>>0),o+=32;else r(i,o,e,t,n)}function ne(t,n){e[n][0]=e[t+"0"],e[n][1]=e[t+"1"],e[n][2]=e[t+"2"],e[n][3]=e[t+"3"],e[n][4]=e[t+"4"],e[n][5]=e[t+"5"],e[n][6]=e[t+"6"],e[n][7]=e[t+"7"],e[n][8]=e[t+"8"],e[n][9]=e[t+"9"],e[n][10]=e[t+"10"],e[n][11]=e[t+"11"],e[n][12]=e[t+"12"],e[n][13]=e[t+"13"],e[n][14]=e[t+"0"],e[n][15]=e[t+"0"]}function re(e){return e==$r||e==Hr||e==Gr||e==Vr}function ie(){this.eb=[],this.size=this.A=this.fb=0}function oe(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function se(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ie,this.f.kb=new oe,this.sd=null}function ae(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ce(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ue(e){return alert("todo:WebPSamplerProcessPlane"),e.T}function le(e,t){var n=e.T,i=t.ba.f.RGBA,o=i.eb,s=i.fb+e.ka*i.A,a=vi[t.ba.S],c=e.y,u=e.O,l=e.f,h=e.N,d=e.ea,f=e.W,p=t.cc,m=t.dc,g=t.Mc,v=t.Nc,y=e.ka,b=e.ka+e.T,w=e.U,S=w+1>>1;for(0==y?a(c,u,null,null,l,h,d,f,l,h,d,f,o,s,null,null,w):(a(t.ec,t.fc,c,u,p,m,g,v,l,h,d,f,o,s-i.A,o,s,w),++n);y+2<b;y+=2)p=l,m=h,g=d,v=f,h+=e.Rc,f+=e.Rc,s+=2*i.A,a(c,(u+=2*e.fa)-e.fa,c,u,p,m,g,v,l,h,d,f,o,s-i.A,o,s,w);return u+=e.fa,e.j+b<e.o?(r(t.ec,t.fc,c,u,w),r(t.cc,t.dc,l,h,S),r(t.Mc,t.Nc,d,f,S),n--):1&b||a(c,u,null,null,l,h,d,f,l,h,d,f,o,s+i.A,null,null,w),n}function he(e,n,r){var i=e.F,o=[e.J];if(null!=i){var s=e.U,a=n.ba.S,c=a==qr||a==Gr;n=n.ba.f.RGBA;var u=[0],l=e.ka;u[0]=e.T,e.Kb&&(0==l?--u[0]:(--l,o[0]-=e.width),e.j+e.ka+e.T==e.o&&(u[0]=e.o-e.j-l));var h=n.eb;l=n.fb+l*n.A,e=Er(i,o[0],e.width,s,u,h,l+(c?0:3),n.A),t(r==u),e&&re(a)&&xr(h,l,c,s,u,n.A)}return 0}function de(e){var t=e.ma,n=t.ba.S,r=11>n,i=n==jr||n==Br||n==qr||n==Ur||12==n||re(n);if(t.memory=null,t.Ib=null,t.Jb=null,t.Nd=null,!Dn(t.Oa,e,i?11:12))return 0;if(i&&re(n)&&bn(),e.da)alert("todo:use_scaling");else{if(r){if(t.Ib=ue,e.Kb){if(n=e.U+1>>1,t.memory=o(e.U+2*n),null==t.memory)return 0;t.ec=t.memory,t.fc=0,t.cc=t.ec,t.dc=t.fc+e.U,t.Mc=t.cc,t.Nc=t.dc+n,t.Ib=le,bn()}}else alert("todo:EmitYUV");i&&(t.Jb=he,r&&vn())}if(r&&!Oi){for(e=0;256>e;++e)Ii[e]=89858*(e-128)+ki>>Ei,Mi[e]=-22014*(e-128)+ki,Li[e]=-45773*(e-128),Ri[e]=113618*(e-128)+ki>>Ei;for(e=Ai;e<Ni;++e)t=76283*(e-16)+ki>>Ei,Di[e-Ai]=Ge(t,255),ji[e-Ai]=Ge(t+8>>4,15);Oi=1}return 1}function fe(e){var n=e.ma,r=e.U,i=e.T;return t(!(1&e.ka)),0>=r||0>=i?0:(r=n.Ib(e,n),null!=n.Jb&&n.Jb(e,n,r),n.Dc+=r,1)}function pe(e){e.ma.memory=null}function me(e,t,n,r){return 47!=b(e,8)?0:(t[0]=b(e,14)+1,n[0]=b(e,14)+1,r[0]=b(e,1),0!=b(e,3)?0:!e.h)}function ge(e,t){if(4>e)return e+1;var n=e-2>>1;return(2+(1&e)<<n)+b(t,n)+1}function ve(e,t){return 120<t?t-120:1<=(n=((n=Qr[t-1])>>4)*e+(8-(15&n)))?n:1;var n}function ye(e,t,n){var r=_(n),i=e[t+=255&r].g-8;return 0<i&&(C(n,n.u+8),r=_(n),t+=e[t].value,t+=r&(1<<i)-1),C(n,n.u+e[t].g),e[t].value}function be(e,n,r){return r.g+=e.g,r.value+=e.value<<n>>>0,t(8>=r.g),e.g}function we(e,n,r){var i=e.xc;return t((n=0==i?0:e.vc[e.md*(r>>i)+(n>>i)])<e.Wb),e.Ya[n]}function Se(e,n,i,o){var s=e.ab,a=e.c*n,c=e.C;n=c+n;var u=i,l=o;for(o=e.Ta,i=e.Ua;0<s--;){var h=e.gc[s],d=c,f=n,p=u,m=l,g=(l=o,u=i,h.Ea);switch(t(d<f),t(f<=h.nc),h.hc){case 2:Wn(p,m,(f-d)*g,l,u);break;case 0:var v=d,y=f,b=l,w=u,S=(k=h).Ea;0==v&&(Gn(p,m,null,null,1,b,w),G(p,m+1,0,0,S-1,b,w+1),m+=S,w+=S,++v);for(var _=1<<k.b,x=_-1,C=j(S,k.b),E=k.K,k=k.w+(v>>k.b)*C;v<y;){var A=E,N=k,T=1;for(Vn(p,m,b,w-S,1,b,w);T<S;){var P=(T&~x)+_;P>S&&(P=S),(0,Qn[A[N++]>>8&15])(p,m+ +T,b,w+T-S,P-T,b,w+T),T=P}m+=S,w+=S,++v&x||(k+=C)}f!=h.nc&&r(l,u-g,l,u+(f-d-1)*g,g);break;case 1:for(g=p,y=m,S=(p=h.Ea)-(w=p&~(b=(m=1<<h.b)-1)),v=j(p,h.b),_=h.K,h=h.w+(d>>h.b)*v;d<f;){for(x=_,C=h,E=new q,k=y+w,A=y+p;y<k;)W(x[C++],E),Xn(E,g,y,m,l,u),y+=m,u+=m;y<A&&(W(x[C++],E),Xn(E,g,y,S,l,u),y+=S,u+=S),++d&b||(h+=v)}break;case 3:if(p==l&&m==u&&0<h.b){for(y=l,p=g=u+(f-d)*g-(w=(f-d)*j(h.Ea,h.b)),m=l,b=u,v=[],w=(S=w)-1;0<=w;--w)v[w]=m[b+w];for(w=S-1;0<=w;--w)y[p+w]=v[w];Kn(h,d,f,l,g,l,u)}else Kn(h,d,f,p,m,l,u)}u=o,l=i}l!=i&&r(o,i,u,l,a)}function _e(e,n){var r=e.V,i=e.Ba+e.c*e.C,o=n-e.C;if(t(n<=e.l.o),t(16>=o),0<o){var s=e.l,a=e.Ta,c=e.Ua,u=s.width;if(Se(e,o,r,i),o=c=[c],t((r=e.C)<(i=n)),t(s.v<s.va),i>s.o&&(i=s.o),r<s.j){var l=s.j-r;r=s.j,o[0]+=l*u}if(r>=i?r=0:(o[0]+=4*s.v,s.ka=r-s.j,s.U=s.va-s.v,s.T=i-r,r=1),r){if(c=c[0],11>(r=e.ca).S){var h=r.f.RGBA,d=(i=r.S,o=s.U,s=s.T,l=h.eb,h.A),f=s;for(h=h.fb+e.Ma*h.A;0<f--;){var p=a,m=c,g=o,v=l,y=h;switch(i){case Dr:er(p,m,g,v,y);break;case jr:tr(p,m,g,v,y);break;case $r:tr(p,m,g,v,y),xr(v,y,0,g,1,0);break;case Fr:ir(p,m,g,v,y);break;case Br:te(p,m,g,v,y,1);break;case Hr:te(p,m,g,v,y,1),xr(v,y,0,g,1,0);break;case qr:te(p,m,g,v,y,0);break;case Gr:te(p,m,g,v,y,0),xr(v,y,1,g,1,0);break;case Ur:nr(p,m,g,v,y);break;case Vr:nr(p,m,g,v,y),Cr(v,y,g,1,0);break;case zr:rr(p,m,g,v,y);break;default:t(0)}c+=u,h+=d}e.Ma+=s}else alert("todo:EmitRescaledRowsYUVA");t(e.Ma<=r.height)}}e.C=n,t(e.C<=e.i)}function xe(e){var t;if(0<e.ua)return 0;for(t=0;t<e.Wb;++t){var n=e.Ya[t].G,r=e.Ya[t].H;if(0<n[1][r[1]+0].g||0<n[2][r[2]+0].g||0<n[3][r[3]+0].g)return 0}return 1}function Ce(e,n,r,i,o,s){if(0!=e.Z){var a=e.qd,c=e.rd;for(t(null!=gi[e.Z]);n<r;++n)gi[e.Z](a,c,i,o,i,o,s),a=i,c=o,o+=s;e.qd=a,e.rd=c}}function Ee(e,n){var r=e.l.ma,i=0==r.Z||1==r.Z?e.l.j:e.C;if(i=e.C<i?i:e.C,t(n<=e.l.o),n>i){var o=e.l.width,s=r.ca,a=r.tb+o*i,c=e.V,u=e.Ba+e.c*i,l=e.gc;t(1==e.ab),t(3==l[0].hc),Yn(l[0],i,n,c,u,s,a),Ce(r,i,n,s,a,o)}e.C=e.Ma=n}function ke(e,n,r,i,o,s,a){var c=e.$/i,u=e.$%i,l=e.m,h=e.s,d=r+e.$,f=d;o=r+i*o;var p=r+i*s,m=280+h.ua,g=e.Pb?c:16777216,v=0<h.ua?h.Wa:null,y=h.wc,b=d<p?we(h,u,c):null;t(e.C<s),t(p<=o);var w=!1;e:for(;;){for(;w||d<p;){var S=0;if(c>=g){var k=d-r;t((g=e).Pb),g.wd=g.m,g.xd=k,0<g.s.ua&&L(g.s.Wa,g.s.vb),g=c+ei}if(u&y||(b=we(h,u,c)),t(null!=b),b.Qb&&(n[d]=b.qb,w=!0),!w)if(E(l),b.jc){S=l,k=n;var A=d,N=b.pd[_(S)&Bn-1];t(b.jc),256>N.g?(C(S,S.u+N.g),k[A]=N.value,S=0):(C(S,S.u+N.g-256),t(256<=N.value),S=N.value),0==S&&(w=!0)}else S=ye(b.G[0],b.H[0],l);if(l.h)break;if(w||256>S){if(!w)if(b.nd)n[d]=(b.qb|S<<8)>>>0;else{if(E(l),w=ye(b.G[1],b.H[1],l),E(l),k=ye(b.G[2],b.H[2],l),A=ye(b.G[3],b.H[3],l),l.h)break;n[d]=(A<<24|w<<16|S<<8|k)>>>0}if(w=!1,++d,++u>=i&&(u=0,++c,null!=a&&c<=s&&!(c%16)&&a(e,c),null!=v))for(;f<d;)S=n[f++],v.X[(506832829*S&4294967295)>>>v.Mb]=S}else if(280>S){if(S=ge(S-256,l),k=ye(b.G[4],b.H[4],l),E(l),k=ve(i,k=ge(k,l)),l.h)break;if(d-r<k||o-d<S)break e;for(A=0;A<S;++A)n[d+A]=n[d+A-k];for(d+=S,u+=S;u>=i;)u-=i,++c,null!=a&&c<=s&&!(c%16)&&a(e,c);if(t(d<=o),u&y&&(b=we(h,u,c)),null!=v)for(;f<d;)S=n[f++],v.X[(506832829*S&4294967295)>>>v.Mb]=S}else{if(!(S<m))break e;for(w=S-280,t(null!=v);f<d;)S=n[f++],v.X[(506832829*S&4294967295)>>>v.Mb]=S;S=d,t(!(w>>>(k=v).Xa)),n[S]=k.X[w],w=!0}w||t(l.h==x(l))}if(e.Pb&&l.h&&d<o)t(e.m.h),e.a=5,e.m=e.wd,e.$=e.xd,0<e.s.ua&&L(e.s.vb,e.s.Wa);else{if(l.h)break e;null!=a&&a(e,c>s?s:c),e.a=0,e.$=d-r}return 1}return e.a=3,0}function Ae(e){t(null!=e),e.vc=null,e.yc=null,e.Ya=null;var n=e.Wa;null!=n&&(n.X=null),e.vb=null,t(null!=e)}function Ne(){var t=new an;return null==t?null:(t.a=0,t.xb=mi,ne("Predictor","VP8LPredictors"),ne("Predictor","VP8LPredictors_C"),ne("PredictorAdd","VP8LPredictorsAdd"),ne("PredictorAdd","VP8LPredictorsAdd_C"),Wn=V,Xn=K,er=Y,tr=J,nr=Q,rr=X,ir=ee,e.VP8LMapColor32b=Zn,e.VP8LMapColor8b=Jn,t)}function Te(e,n,r,a,c){var u=1,d=[e],p=[n],m=a.m,g=a.s,v=null,y=0;e:for(;;){if(r)for(;u&&b(m,1);){var w=d,S=p,x=a,k=1,A=x.m,N=x.gc[x.ab],T=b(A,2);if(x.Oc&1<<T)u=0;else{switch(x.Oc|=1<<T,N.hc=T,N.Ea=w[0],N.nc=S[0],N.K=[null],++x.ab,t(4>=x.ab),T){case 0:case 1:N.b=b(A,3)+2,k=Te(j(N.Ea,N.b),j(N.nc,N.b),0,x,N.K),N.K=N.K[0];break;case 3:var P,O=b(A,8)+1,I=16<O?0:4<O?1:2<O?2:3;if(w[0]=j(N.Ea,I),N.b=I,P=k=Te(O,1,0,x,N.K)){var L,M=O,D=N,B=1<<(8>>D.b),q=o(B);if(null==q)P=0;else{var U=D.K[0],z=D.w;for(q[0]=D.K[0][0],L=1;L<1*M;++L)q[L]=F(U[z+L],q[L-1]);for(;L<4*B;++L)q[L]=0;D.K[0]=null,D.K[0]=q,P=1}}k=P;break;case 2:break;default:t(0)}u=k}}if(d=d[0],p=p[0],u&&b(m,1)&&!(u=1<=(y=b(m,4))&&11>=y)){a.a=3;break e}var $;if($=u)t:{var H,G,V,W=a,K=d,Z=p,Y=y,J=r,Q=W.m,X=W.s,ee=[null],te=1,ne=0,re=Xr[Y];n:for(;;){if(J&&b(Q,1)){var ie=b(Q,3)+2,oe=j(K,ie),se=j(Z,ie),ae=oe*se;if(!Te(oe,se,0,W,ee))break n;for(ee=ee[0],X.xc=ie,H=0;H<ae;++H){var ce=ee[H]>>8&65535;ee[H]=ce,ce>=te&&(te=ce+1)}}if(Q.h)break n;for(G=0;5>G;++G){var ue=Zr[G];!G&&0<Y&&(ue+=1<<Y),ne<ue&&(ne=ue)}var le=s(te*re,h),he=te,de=s(he,f);if(null==de)var fe=null;else t(65536>=he),fe=de;var pe=o(ne);if(null==fe||null==pe||null==le){W.a=1;break n}var me=le;for(H=V=0;H<te;++H){var ge=fe[H],ve=ge.G,ye=ge.H,we=0,Se=1,_e=0;for(G=0;5>G;++G){ue=Zr[G],ve[G]=me,ye[G]=V,!G&&0<Y&&(ue+=1<<Y);r:{var xe,Ce=ue,Ee=W,Ne=pe,Pe=me,Oe=V,Ie=0,Re=Ee.m,Le=b(Re,1);if(i(Ne,0,0,Ce),Le){var Me=b(Re,1)+1,De=b(Re,1),je=b(Re,0==De?1:8);Ne[je]=1,2==Me&&(Ne[je=b(Re,8)]=1);var Fe=1}else{var Be=o(19),qe=b(Re,4)+4;if(19<qe){Ee.a=3;var Ue=0;break r}for(xe=0;xe<qe;++xe)Be[Jr[xe]]=b(Re,3);var ze=void 0,$e=void 0,He=Ee,Ge=Be,Ve=Ce,We=Ne,Ke=0,Ze=He.m,Ye=8,Je=s(128,h);i:for(;l(Je,0,7,Ge,19);){if(b(Ze,1)){var Qe=2+2*b(Ze,3);if((ze=2+b(Ze,Qe))>Ve)break i}else ze=Ve;for($e=0;$e<Ve&&ze--;){E(Ze);var Xe=Je[0+(127&_(Ze))];C(Ze,Ze.u+Xe.g);var et=Xe.value;if(16>et)We[$e++]=et,0!=et&&(Ye=et);else{var tt=16==et,nt=et-16,rt=Kr[nt],it=b(Ze,Wr[nt])+rt;if($e+it>Ve)break i;for(var ot=tt?Ye:0;0<it--;)We[$e++]=ot}}Ke=1;break i}Ke||(He.a=3),Fe=Ke}(Fe=Fe&&!Re.h)&&(Ie=l(Pe,Oe,8,Ne,Ce)),Fe&&0!=Ie?Ue=Ie:(Ee.a=3,Ue=0)}if(0==Ue)break n;if(Se&&1==Yr[G]&&(Se=0==me[V].g),we+=me[V].g,V+=Ue,3>=G){var st,at=pe[0];for(st=1;st<ue;++st)pe[st]>at&&(at=pe[st]);_e+=at}}if(ge.nd=Se,ge.Qb=0,Se&&(ge.qb=(ve[3][ye[3]+0].value<<24|ve[1][ye[1]+0].value<<16|ve[2][ye[2]+0].value)>>>0,0==we&&256>ve[0][ye[0]+0].value&&(ge.Qb=1,ge.qb+=ve[0][ye[0]+0].value<<8)),ge.jc=!ge.Qb&&6>_e,ge.jc){var ct,ut=ge;for(ct=0;ct<Bn;++ct){var lt=ct,ht=ut.pd[lt],dt=ut.G[0][ut.H[0]+lt];256<=dt.value?(ht.g=dt.g+256,ht.value=dt.value):(ht.g=0,ht.value=0,lt>>=be(dt,8,ht),lt>>=be(ut.G[1][ut.H[1]+lt],16,ht),lt>>=be(ut.G[2][ut.H[2]+lt],0,ht),be(ut.G[3][ut.H[3]+lt],24,ht))}}}X.vc=ee,X.Wb=te,X.Ya=fe,X.yc=le,$=1;break t}$=0}if(!(u=$)){a.a=3;break e}if(0<y){if(g.ua=1<<y,!R(g.Wa,y)){a.a=1,u=0;break e}}else g.ua=0;var ft=a,pt=d,mt=p,gt=ft.s,vt=gt.xc;if(ft.c=pt,ft.i=mt,gt.md=j(pt,vt),gt.wc=0==vt?-1:(1<<vt)-1,r){a.xb=pi;break e}if(null==(v=o(d*p))){a.a=1,u=0;break e}u=(u=ke(a,v,0,d,p,p,null))&&!m.h;break e}return u?(null!=c?c[0]=v:(t(null==v),t(r)),a.$=0,r||Ae(g)):Ae(g),u}function Pe(e,n){var r=e.c*e.i,i=r+n+16*n;return t(e.c<=n),e.V=o(i),null==e.V?(e.Ta=null,e.Ua=0,e.a=1,0):(e.Ta=e.V,e.Ua=e.Ba+r+n,1)}function Oe(e,n){var r=e.C,i=n-r,o=e.V,s=e.Ba+e.c*r;for(t(n<=e.l.o);0<i;){var a=16<i?16:i,c=e.l.ma,u=e.l.width,l=u*a,h=c.ca,d=c.tb+u*r,f=e.Ta,p=e.Ua;Se(e,a,o,s),kr(f,p,h,d,l),Ce(c,r,r+a,h,d,u),i-=a,o+=a*e.c,r+=a}t(r==n),e.C=e.Ma=n}function Ie(){this.ub=this.yd=this.td=this.Rb=0}function Re(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Le(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function Me(){this.Yb=function(){var e=[];return function e(t,n,r){for(var i=r[n],o=0;o<i&&(t.push(r.length>n+1?[]:0),!(r.length<n+1));o++)e(t[o],n+1,r)}(e,0,[3,11]),e}()}function De(){this.jb=o(3),this.Wc=a([4,8],Me),this.Xc=a([4,17],Me)}function je(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Fe(){this.ld=this.La=this.dd=this.tc=0}function Be(){this.Na=this.la=0}function qe(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ue(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ze(){this.uc=this.M=this.Nb=0,this.wa=Array(new Fe),this.Y=0,this.ya=Array(new Ue),this.aa=0,this.l=new Ve}function $e(){this.y=o(16),this.f=o(8),this.ea=o(8)}function He(){this.cb=this.a=0,this.sc="",this.m=new w,this.Od=new Ie,this.Kc=new Re,this.ed=new je,this.Qa=new Le,this.Ic=this.$c=this.Aa=0,this.D=new ze,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,w),this.ia=0,this.pb=s(4,qe),this.Pa=new De,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new $e),this.Hd=0,this.rb=Array(new Be),this.sb=0,this.wa=Array(new Fe),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ue),this.L=this.aa=0,this.gd=a([4,2],Fe),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ge(e,t){return 0>e?0:e>t?t:e}function Ve(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function We(){var e=new He;return null!=e&&(e.a=0,e.sc="OK",e.cb=0,e.Xb=0,ri||(ri=Je)),e}function Ke(e,t,n){return 0==e.a&&(e.a=t,e.sc=n,e.cb=0),0}function Ze(e,t,n){return 3<=n&&157==e[t+0]&&1==e[t+1]&&42==e[t+2]}function Ye(e,n){if(null==e)return 0;if(e.a=0,e.sc="OK",null==n)return Ke(e,2,"null VP8Io passed to VP8GetHeaders()");var r=n.data,o=n.w,s=n.ha;if(4>s)return Ke(e,7,"Truncated header.");var a=r[o+0]|r[o+1]<<8|r[o+2]<<16,c=e.Od;if(c.Rb=!(1&a),c.td=a>>1&7,c.yd=a>>4&1,c.ub=a>>5,3<c.td)return Ke(e,3,"Incorrect keyframe parameters.");if(!c.yd)return Ke(e,4,"Frame not displayable.");o+=3,s-=3;var u=e.Kc;if(c.Rb){if(7>s)return Ke(e,7,"cannot parse picture header");if(!Ze(r,o,s))return Ke(e,3,"Bad code word");u.c=16383&(r[o+4]<<8|r[o+3]),u.Td=r[o+4]>>6,u.i=16383&(r[o+6]<<8|r[o+5]),u.Ud=r[o+6]>>6,o+=7,s-=7,e.za=u.c+15>>4,e.Ub=u.i+15>>4,n.width=u.c,n.height=u.i,n.Da=0,n.j=0,n.v=0,n.va=n.width,n.o=n.height,n.da=0,n.ib=n.width,n.hb=n.height,n.U=n.width,n.T=n.height,i((a=e.Pa).jb,0,255,a.jb.length),t(null!=(a=e.Qa)),a.Cb=0,a.Bb=0,a.Fb=1,i(a.Zb,0,0,a.Zb.length),i(a.Lb,0,0,a.Lb)}if(c.ub>s)return Ke(e,7,"bad partition length");p(a=e.m,r,o,c.ub),o+=c.ub,s-=c.ub,c.Rb&&(u.Ld=A(a),u.Kd=A(a)),u=e.Qa;var l,h=e.Pa;if(t(null!=a),t(null!=u),u.Cb=A(a),u.Cb){if(u.Bb=A(a),A(a)){for(u.Fb=A(a),l=0;4>l;++l)u.Zb[l]=A(a)?g(a,7):0;for(l=0;4>l;++l)u.Lb[l]=A(a)?g(a,6):0}if(u.Bb)for(l=0;3>l;++l)h.jb[l]=A(a)?m(a,8):255}else u.Bb=0;if(a.Ka)return Ke(e,3,"cannot parse segment header");if((u=e.ed).zd=A(a),u.Tb=m(a,6),u.wb=m(a,3),u.Pc=A(a),u.Pc&&A(a)){for(h=0;4>h;++h)A(a)&&(u.vd[h]=g(a,6));for(h=0;4>h;++h)A(a)&&(u.od[h]=g(a,6))}if(e.L=0==u.Tb?0:u.zd?1:2,a.Ka)return Ke(e,3,"cannot parse filter header");var d=s;if(s=l=o,o=l+d,u=d,e.Xb=(1<<m(e.m,2))-1,d<3*(h=e.Xb))r=7;else{for(l+=3*h,u-=3*h,d=0;d<h;++d){var f=r[s+0]|r[s+1]<<8|r[s+2]<<16;f>u&&(f=u),p(e.Jc[+d],r,l,f),l+=f,u-=f,s+=3}p(e.Jc[+h],r,l,u),r=l<o?0:5}if(0!=r)return Ke(e,r,"cannot parse partitions");for(r=m(l=e.m,7),s=A(l)?g(l,4):0,o=A(l)?g(l,4):0,u=A(l)?g(l,4):0,h=A(l)?g(l,4):0,l=A(l)?g(l,4):0,d=e.Qa,f=0;4>f;++f){if(d.Cb){var v=d.Zb[f];d.Fb||(v+=r)}else{if(0<f){e.pb[f]=e.pb[0];continue}v=r}var y=e.pb[f];y.Sc[0]=ti[Ge(v+s,127)],y.Sc[1]=ni[Ge(v+0,127)],y.Eb[0]=2*ti[Ge(v+o,127)],y.Eb[1]=101581*ni[Ge(v+u,127)]>>16,8>y.Eb[1]&&(y.Eb[1]=8),y.Qc[0]=ti[Ge(v+h,117)],y.Qc[1]=ni[Ge(v+l,127)],y.lc=v+l}if(!c.Rb)return Ke(e,4,"Not a key frame.");for(A(a),c=e.Pa,r=0;4>r;++r){for(s=0;8>s;++s)for(o=0;3>o;++o)for(u=0;11>u;++u)h=N(a,ui[r][s][o][u])?m(a,8):ai[r][s][o][u],c.Wc[r][s].Yb[o][u]=h;for(s=0;17>s;++s)c.Xc[r][s]=c.Wc[r][li[s]]}return e.kc=A(a),e.kc&&(e.Bd=m(a,8)),e.cb=1}function Je(e,t,n,r,i,o,s){var a=t[i].Yb[n];for(n=0;16>i;++i){if(!N(e,a[n+0]))return i;for(;!N(e,a[n+1]);)if(a=t[++i].Yb[0],n=0,16==i)return 16;var c=t[i+1].Yb;if(N(e,a[n+2])){var u=e,l=0;if(N(u,(d=a)[(h=n)+3]))if(N(u,d[h+6])){for(a=0,h=2*(l=N(u,d[h+8]))+(d=N(u,d[h+9+l])),l=0,d=ii[h];d[a];++a)l+=l+N(u,d[a]);l+=3+(8<<h)}else N(u,d[h+7])?(l=7+2*N(u,165),l+=N(u,145)):l=5+N(u,159);else l=N(u,d[h+4])?3+N(u,d[h+5]):2;a=c[2]}else l=1,a=c[1];c=s+oi[i],0>(u=e).b&&k(u);var h,d=u.b,f=(h=u.Ca>>1)-(u.I>>d)>>31;--u.b,u.Ca+=f,u.Ca|=1,u.I-=(h+1&f)<<d,o[c]=((l^f)-f)*r[(0<i)+0]}return 16}function Qe(e){var t=e.rb[e.sb-1];t.la=0,t.Na=0,i(e.zc,0,0,e.zc.length),e.ja=0}function Xe(e,n){if(null==e)return 0;if(null==n)return Ke(e,2,"NULL VP8Io parameter in VP8Decode().");if(!e.cb&&!Ye(e,n))return 0;if(t(e.cb),null==n.ac||n.ac(n)){n.ob&&(e.L=0);var a=Bi[e.L];if(2==e.L?(e.yb=0,e.zb=0):(e.yb=n.v-a>>4,e.zb=n.j-a>>4,0>e.yb&&(e.yb=0),0>e.zb&&(e.zb=0)),e.Va=n.o+15+a>>4,e.Hb=n.va+15+a>>4,e.Hb>e.za&&(e.Hb=e.za),e.Va>e.Ub&&(e.Va=e.Ub),0<e.L){var c=e.ed;for(a=0;4>a;++a){var u;if(e.Qa.Cb){var l=e.Qa.Lb[a];e.Qa.Fb||(l+=c.Tb)}else l=c.Tb;for(u=0;1>=u;++u){var h=e.gd[a][u],d=l;if(c.Pc&&(d+=c.vd[0],u&&(d+=c.od[0])),0<(d=0>d?0:63<d?63:d)){var f=d;0<c.wb&&(f=4<c.wb?f>>2:f>>1)>9-c.wb&&(f=9-c.wb),1>f&&(f=1),h.dd=f,h.tc=2*d+f,h.ld=40<=d?2:15<=d?1:0}else h.tc=0;h.La=u}}}a=0}else Ke(e,6,"Frame setup failed"),a=e.a;if(a=0==a){if(a){e.$c=0,0<e.Aa||(e.Ic=Ui);e:{a=e.Ic,c=4*(f=e.za);var p=32*f,m=f+1,g=0<e.L?f*(0<e.Aa?2:1):0,v=(2==e.Aa?2:1)*f;if((h=c+832+(u=3*(16*a+Bi[e.L])/2*p)+(l=null!=e.Fa&&0<e.Fa.length?e.Kc.c*e.Kc.i:0))!=h)a=0;else{if(h>e.Vb){if(e.Vb=0,e.Ec=o(h),e.Fc=0,null==e.Ec){a=Ke(e,1,"no memory during frame initialization.");break e}e.Vb=h}h=e.Ec,d=e.Fc,e.Ac=h,e.Bc=d,d+=c,e.Gd=s(p,$e),e.Hd=0,e.rb=s(m+1,Be),e.sb=1,e.wa=g?s(g,Fe):null,e.Y=0,e.D.Nb=0,e.D.wa=e.wa,e.D.Y=e.Y,0<e.Aa&&(e.D.Y+=f),t(!0),e.oc=h,e.pc=d,d+=832,e.ya=s(v,Ue),e.aa=0,e.D.ya=e.ya,e.D.aa=e.aa,2==e.Aa&&(e.D.aa+=f),e.R=16*f,e.B=8*f,f=(p=Bi[e.L])*e.R,p=p/2*e.B,e.sa=h,e.ta=d+f,e.qa=e.sa,e.ra=e.ta+16*a*e.R+p,e.Ha=e.qa,e.Ia=e.ra+8*a*e.B+p,e.$c=0,d+=u,e.mb=l?h:null,e.nb=l?d:null,t(d+l<=e.Fc+e.Vb),Qe(e),i(e.Ac,e.Bc,0,c),a=1}}if(a){if(n.ka=0,n.y=e.sa,n.O=e.ta,n.f=e.qa,n.N=e.ra,n.ea=e.Ha,n.Vd=e.Ia,n.fa=e.R,n.Rc=e.B,n.F=null,n.J=0,!Or){for(a=-255;255>=a;++a)Ar[255+a]=0>a?-a:a;for(a=-1020;1020>=a;++a)Nr[1020+a]=-128>a?-128:127<a?127:a;for(a=-112;112>=a;++a)Tr[112+a]=-16>a?-16:15<a?15:a;for(a=-255;510>=a;++a)Pr[255+a]=0>a?0:255<a?255:a;Or=1}or=ut,sr=ot,cr=st,ur=at,lr=ct,ar=it,hr=Kt,dr=Zt,fr=Qt,pr=Xt,mr=Yt,gr=Jt,vr=en,yr=tn,br=zt,wr=$t,Sr=Ht,_r=Gt,di[0]=Ct,di[1]=ht,di[2]=_t,di[3]=xt,di[4]=Et,di[5]=At,di[6]=kt,di[7]=Nt,di[8]=Pt,di[9]=Tt,hi[0]=vt,hi[1]=ft,hi[2]=pt,hi[3]=mt,hi[4]=yt,hi[5]=bt,hi[6]=wt,fi[0]=Lt,fi[1]=dt,fi[2]=Ot,fi[3]=It,fi[4]=Dt,fi[5]=Mt,fi[6]=jt,a=1}else a=0}a&&(a=function(e,n){for(e.M=0;e.M<e.Va;++e.M){var s,a=e.Jc[e.M&e.Xb],c=e.m,u=e;for(s=0;s<u.za;++s){var l=c,h=u,d=h.Ac,f=h.Bc+4*s,p=h.zc,m=h.ya[h.aa+s];if(h.Qa.Bb?m.$b=N(l,h.Pa.jb[0])?2+N(l,h.Pa.jb[2]):N(l,h.Pa.jb[1]):m.$b=0,h.kc&&(m.Ad=N(l,h.Bd)),m.Za=!N(l,145)+0,m.Za){var g=m.Ob,v=0;for(h=0;4>h;++h){var y,b=p[0+h];for(y=0;4>y;++y){b=ci[d[f+y]][b];for(var w=si[N(l,b[0])];0<w;)w=si[2*w+N(l,b[w])];b=-w,d[f+y]=b}r(g,v,d,f,4),v+=4,p[0+h]=b}}else b=N(l,156)?N(l,128)?1:3:N(l,163)?2:0,m.Ob[0]=b,i(d,f,b,4),i(p,0,b,4);m.Dd=N(l,142)?N(l,114)?N(l,183)?1:3:2:0}if(u.m.Ka)return Ke(e,7,"Premature end-of-partition0 encountered.");for(;e.ja<e.za;++e.ja){if(u=a,l=(c=e).rb[c.sb-1],d=c.rb[c.sb+c.ja],s=c.ya[c.aa+c.ja],f=c.kc?s.Ad:0)l.la=d.la=0,s.Za||(l.Na=d.Na=0),s.Hc=0,s.Gc=0,s.ia=0;else{var S,_;if(l=d,d=u,f=c.Pa.Xc,p=c.ya[c.aa+c.ja],m=c.pb[p.$b],h=p.ad,g=0,v=c.rb[c.sb-1],b=y=0,i(h,g,0,384),p.Za)var x=0,C=f[3];else{w=o(16);var E=l.Na+v.Na;if(E=ri(d,f[1],E,m.Eb,0,w,0),l.Na=v.Na=(0<E)+0,1<E)or(w,0,h,g);else{var k=w[0]+3>>3;for(w=0;256>w;w+=16)h[g+w]=k}x=1,C=f[0]}var A=15&l.la,T=15&v.la;for(w=0;4>w;++w){var P=1&T;for(k=_=0;4>k;++k)A=A>>1|(P=(E=ri(d,C,E=P+(1&A),m.Sc,x,h,g))>x)<<7,_=_<<2|(3<E?3:1<E?2:0!=h[g+0]),g+=16;A>>=4,T=T>>1|P<<7,y=(y<<8|_)>>>0}for(C=A,x=T>>4,S=0;4>S;S+=2){for(_=0,A=l.la>>4+S,T=v.la>>4+S,w=0;2>w;++w){for(P=1&T,k=0;2>k;++k)E=P+(1&A),A=A>>1|(P=0<(E=ri(d,f[2],E,m.Qc,0,h,g)))<<3,_=_<<2|(3<E?3:1<E?2:0!=h[g+0]),g+=16;A>>=2,T=T>>1|P<<5}b|=_<<4*S,C|=A<<4<<S,x|=(240&T)<<S}l.la=C,v.la=x,p.Hc=y,p.Gc=b,p.ia=43690&b?0:m.ia,f=!(y|b)}if(0<c.L&&(c.wa[c.Y+c.ja]=c.gd[s.$b][s.Za],c.wa[c.Y+c.ja].La|=!f),u.Ka)return Ke(e,7,"Premature end-of-file encountered.")}if(Qe(e),c=n,u=1,s=(a=e).D,l=0<a.L&&a.M>=a.zb&&a.M<=a.Va,0==a.Aa)e:{if(s.M=a.M,s.uc=l,Ln(a,s),u=1,s=(_=a.D).Nb,l=(b=Bi[a.L])*a.R,d=b/2*a.B,w=16*s*a.R,k=8*s*a.B,f=a.sa,p=a.ta-l+w,m=a.qa,h=a.ra-d+k,g=a.Ha,v=a.Ia-d+k,T=0==(A=_.M),y=A>=a.Va-1,2==a.Aa&&Ln(a,_),_.uc)for(P=(E=a).D.M,t(E.D.uc),_=E.yb;_<E.Hb;++_){x=_,C=P;var O=(I=(U=E).D).Nb;S=U.R;var I=I.wa[I.Y+x],R=U.sa,L=U.ta+16*O*S+16*x,M=I.dd,D=I.tc;if(0!=D)if(t(3<=D),1==U.L)0<x&&wr(R,L,S,D+4),I.La&&_r(R,L,S,D),0<C&&br(R,L,S,D+4),I.La&&Sr(R,L,S,D);else{var j=U.B,F=U.qa,B=U.ra+8*O*j+8*x,q=U.Ha,U=U.Ia+8*O*j+8*x;O=I.ld,0<x&&(dr(R,L,S,D+4,M,O),pr(F,B,q,U,j,D+4,M,O)),I.La&&(gr(R,L,S,D,M,O),yr(F,B,q,U,j,D,M,O)),0<C&&(hr(R,L,S,D+4,M,O),fr(F,B,q,U,j,D+4,M,O)),I.La&&(mr(R,L,S,D,M,O),vr(F,B,q,U,j,D,M,O))}}if(a.ia&&alert("todo:DitherRow"),null!=c.put){if(_=16*A,A=16*(A+1),T?(c.y=a.sa,c.O=a.ta+w,c.f=a.qa,c.N=a.ra+k,c.ea=a.Ha,c.W=a.Ia+k):(_-=b,c.y=f,c.O=p,c.f=m,c.N=h,c.ea=g,c.W=v),y||(A-=b),A>c.o&&(A=c.o),c.F=null,c.J=null,null!=a.Fa&&0<a.Fa.length&&_<A&&(c.J=dn(a,c,_,A-_),c.F=a.mb,null==c.F&&0==c.F.length)){u=Ke(a,3,"Could not decode alpha data.");break e}_<c.j&&(b=c.j-_,_=c.j,t(!(1&b)),c.O+=a.R*b,c.N+=a.B*(b>>1),c.W+=a.B*(b>>1),null!=c.F&&(c.J+=c.width*b)),_<A&&(c.O+=c.v,c.N+=c.v>>1,c.W+=c.v>>1,null!=c.F&&(c.J+=c.v),c.ka=_-c.j,c.U=c.va-c.v,c.T=A-_,u=c.put(c))}s+1!=a.Ic||y||(r(a.sa,a.ta-l,f,p+16*a.R,l),r(a.qa,a.ra-d,m,h+8*a.B,d),r(a.Ha,a.Ia-d,g,v+8*a.B,d))}if(!u)return Ke(e,6,"Output aborted.")}return 1}(e,n)),null!=n.bc&&n.bc(n),a&=1}return a?(e.cb=0,a):0}function et(e,t,n,r,i){i=e[t+n+32*r]+(i>>3),e[t+n+32*r]=-256&i?0>i?0:255:i}function tt(e,t,n,r,i,o){et(e,t,0,n,r+i),et(e,t,1,n,r+o),et(e,t,2,n,r-o),et(e,t,3,n,r-i)}function nt(e){return(20091*e>>16)+e}function rt(e,t,n,r){var i,s=0,a=o(16);for(i=0;4>i;++i){var c=e[t+0]+e[t+8],u=e[t+0]-e[t+8],l=(35468*e[t+4]>>16)-nt(e[t+12]),h=nt(e[t+4])+(35468*e[t+12]>>16);a[s+0]=c+h,a[s+1]=u+l,a[s+2]=u-l,a[s+3]=c-h,s+=4,t++}for(i=s=0;4>i;++i)c=(e=a[s+0]+4)+a[s+8],u=e-a[s+8],l=(35468*a[s+4]>>16)-nt(a[s+12]),et(n,r,0,0,c+(h=nt(a[s+4])+(35468*a[s+12]>>16))),et(n,r,1,0,u+l),et(n,r,2,0,u-l),et(n,r,3,0,c-h),s++,r+=32}function it(e,t,n,r){var i=e[t+0]+4,o=35468*e[t+4]>>16,s=nt(e[t+4]),a=35468*e[t+1]>>16;tt(n,r,0,i+s,e=nt(e[t+1]),a),tt(n,r,1,i+o,e,a),tt(n,r,2,i-o,e,a),tt(n,r,3,i-s,e,a)}function ot(e,t,n,r,i){rt(e,t,n,r),i&&rt(e,t+16,n,r+4)}function st(e,t,n,r){sr(e,t+0,n,r,1),sr(e,t+32,n,r+128,1)}function at(e,t,n,r){var i;for(e=e[t+0]+4,i=0;4>i;++i)for(t=0;4>t;++t)et(n,r,t,i,e)}function ct(e,t,n,r){e[t+0]&&ur(e,t+0,n,r),e[t+16]&&ur(e,t+16,n,r+4),e[t+32]&&ur(e,t+32,n,r+128),e[t+48]&&ur(e,t+48,n,r+128+4)}function ut(e,t,n,r){var i,s=o(16);for(i=0;4>i;++i){var a=e[t+0+i]+e[t+12+i],c=e[t+4+i]+e[t+8+i],u=e[t+4+i]-e[t+8+i],l=e[t+0+i]-e[t+12+i];s[0+i]=a+c,s[8+i]=a-c,s[4+i]=l+u,s[12+i]=l-u}for(i=0;4>i;++i)a=(e=s[0+4*i]+3)+s[3+4*i],c=s[1+4*i]+s[2+4*i],u=s[1+4*i]-s[2+4*i],l=e-s[3+4*i],n[r+0]=a+c>>3,n[r+16]=l+u>>3,n[r+32]=a-c>>3,n[r+48]=l-u>>3,r+=64}function lt(e,t,n){var r,i=t-32,o=Lr,s=255-e[i-1];for(r=0;r<n;++r){var a,c=o,u=s+e[t-1];for(a=0;a<n;++a)e[t+a]=c[u+e[i+a]];t+=32}}function ht(e,t){lt(e,t,4)}function dt(e,t){lt(e,t,8)}function ft(e,t){lt(e,t,16)}function pt(e,t){var n;for(n=0;16>n;++n)r(e,t+32*n,e,t-32,16)}function mt(e,t){var n;for(n=16;0<n;--n)i(e,t,e[t-1],16),t+=32}function gt(e,t,n){var r;for(r=0;16>r;++r)i(t,n+32*r,e,16)}function vt(e,t){var n,r=16;for(n=0;16>n;++n)r+=e[t-1+32*n]+e[t+n-32];gt(r>>5,e,t)}function yt(e,t){var n,r=8;for(n=0;16>n;++n)r+=e[t-1+32*n];gt(r>>4,e,t)}function bt(e,t){var n,r=8;for(n=0;16>n;++n)r+=e[t+n-32];gt(r>>4,e,t)}function wt(e,t){gt(128,e,t)}function St(e,t,n){return e+2*t+n+2>>2}function _t(e,t){var n,i=t-32;for(i=new Uint8Array([St(e[i-1],e[i+0],e[i+1]),St(e[i+0],e[i+1],e[i+2]),St(e[i+1],e[i+2],e[i+3]),St(e[i+2],e[i+3],e[i+4])]),n=0;4>n;++n)r(e,t+32*n,i,0,i.length)}function xt(e,t){var n=e[t-1],r=e[t-1+32],i=e[t-1+64],o=e[t-1+96];T(e,t+0,16843009*St(e[t-1-32],n,r)),T(e,t+32,16843009*St(n,r,i)),T(e,t+64,16843009*St(r,i,o)),T(e,t+96,16843009*St(i,o,o))}function Ct(e,t){var n,r=4;for(n=0;4>n;++n)r+=e[t+n-32]+e[t-1+32*n];for(r>>=3,n=0;4>n;++n)i(e,t+32*n,r,4)}function Et(e,t){var n=e[t-1+0],r=e[t-1+32],i=e[t-1+64],o=e[t-1-32],s=e[t+0-32],a=e[t+1-32],c=e[t+2-32],u=e[t+3-32];e[t+0+96]=St(r,i,e[t-1+96]),e[t+1+96]=e[t+0+64]=St(n,r,i),e[t+2+96]=e[t+1+64]=e[t+0+32]=St(o,n,r),e[t+3+96]=e[t+2+64]=e[t+1+32]=e[t+0+0]=St(s,o,n),e[t+3+64]=e[t+2+32]=e[t+1+0]=St(a,s,o),e[t+3+32]=e[t+2+0]=St(c,a,s),e[t+3+0]=St(u,c,a)}function kt(e,t){var n=e[t+1-32],r=e[t+2-32],i=e[t+3-32],o=e[t+4-32],s=e[t+5-32],a=e[t+6-32],c=e[t+7-32];e[t+0+0]=St(e[t+0-32],n,r),e[t+1+0]=e[t+0+32]=St(n,r,i),e[t+2+0]=e[t+1+32]=e[t+0+64]=St(r,i,o),e[t+3+0]=e[t+2+32]=e[t+1+64]=e[t+0+96]=St(i,o,s),e[t+3+32]=e[t+2+64]=e[t+1+96]=St(o,s,a),e[t+3+64]=e[t+2+96]=St(s,a,c),e[t+3+96]=St(a,c,c)}function At(e,t){var n=e[t-1+0],r=e[t-1+32],i=e[t-1+64],o=e[t-1-32],s=e[t+0-32],a=e[t+1-32],c=e[t+2-32],u=e[t+3-32];e[t+0+0]=e[t+1+64]=o+s+1>>1,e[t+1+0]=e[t+2+64]=s+a+1>>1,e[t+2+0]=e[t+3+64]=a+c+1>>1,e[t+3+0]=c+u+1>>1,e[t+0+96]=St(i,r,n),e[t+0+64]=St(r,n,o),e[t+0+32]=e[t+1+96]=St(n,o,s),e[t+1+32]=e[t+2+96]=St(o,s,a),e[t+2+32]=e[t+3+96]=St(s,a,c),e[t+3+32]=St(a,c,u)}function Nt(e,t){var n=e[t+0-32],r=e[t+1-32],i=e[t+2-32],o=e[t+3-32],s=e[t+4-32],a=e[t+5-32],c=e[t+6-32],u=e[t+7-32];e[t+0+0]=n+r+1>>1,e[t+1+0]=e[t+0+64]=r+i+1>>1,e[t+2+0]=e[t+1+64]=i+o+1>>1,e[t+3+0]=e[t+2+64]=o+s+1>>1,e[t+0+32]=St(n,r,i),e[t+1+32]=e[t+0+96]=St(r,i,o),e[t+2+32]=e[t+1+96]=St(i,o,s),e[t+3+32]=e[t+2+96]=St(o,s,a),e[t+3+64]=St(s,a,c),e[t+3+96]=St(a,c,u)}function Tt(e,t){var n=e[t-1+0],r=e[t-1+32],i=e[t-1+64],o=e[t-1+96];e[t+0+0]=n+r+1>>1,e[t+2+0]=e[t+0+32]=r+i+1>>1,e[t+2+32]=e[t+0+64]=i+o+1>>1,e[t+1+0]=St(n,r,i),e[t+3+0]=e[t+1+32]=St(r,i,o),e[t+3+32]=e[t+1+64]=St(i,o,o),e[t+3+64]=e[t+2+64]=e[t+0+96]=e[t+1+96]=e[t+2+96]=e[t+3+96]=o}function Pt(e,t){var n=e[t-1+0],r=e[t-1+32],i=e[t-1+64],o=e[t-1+96],s=e[t-1-32],a=e[t+0-32],c=e[t+1-32],u=e[t+2-32];e[t+0+0]=e[t+2+32]=n+s+1>>1,e[t+0+32]=e[t+2+64]=r+n+1>>1,e[t+0+64]=e[t+2+96]=i+r+1>>1,e[t+0+96]=o+i+1>>1,e[t+3+0]=St(a,c,u),e[t+2+0]=St(s,a,c),e[t+1+0]=e[t+3+32]=St(n,s,a),e[t+1+32]=e[t+3+64]=St(r,n,s),e[t+1+64]=e[t+3+96]=St(i,r,n),e[t+1+96]=St(o,i,r)}function Ot(e,t){var n;for(n=0;8>n;++n)r(e,t+32*n,e,t-32,8)}function It(e,t){var n;for(n=0;8>n;++n)i(e,t,e[t-1],8),t+=32}function Rt(e,t,n){var r;for(r=0;8>r;++r)i(t,n+32*r,e,8)}function Lt(e,t){var n,r=8;for(n=0;8>n;++n)r+=e[t+n-32]+e[t-1+32*n];Rt(r>>4,e,t)}function Mt(e,t){var n,r=4;for(n=0;8>n;++n)r+=e[t+n-32];Rt(r>>3,e,t)}function Dt(e,t){var n,r=4;for(n=0;8>n;++n)r+=e[t-1+32*n];Rt(r>>3,e,t)}function jt(e,t){Rt(128,e,t)}function Ft(e,t,n){var r=e[t-n],i=e[t+0],o=3*(i-r)+Ir[1020+e[t-2*n]-e[t+n]],s=Rr[112+(o+4>>3)];e[t-n]=Lr[255+r+Rr[112+(o+3>>3)]],e[t+0]=Lr[255+i-s]}function Bt(e,t,n,r){var i=e[t+0],o=e[t+n];return Mr[255+e[t-2*n]-e[t-n]]>r||Mr[255+o-i]>r}function qt(e,t,n,r){return 4*Mr[255+e[t-n]-e[t+0]]+Mr[255+e[t-2*n]-e[t+n]]<=r}function Ut(e,t,n,r,i){var o=e[t-3*n],s=e[t-2*n],a=e[t-n],c=e[t+0],u=e[t+n],l=e[t+2*n],h=e[t+3*n];return 4*Mr[255+a-c]+Mr[255+s-u]>r?0:Mr[255+e[t-4*n]-o]<=i&&Mr[255+o-s]<=i&&Mr[255+s-a]<=i&&Mr[255+h-l]<=i&&Mr[255+l-u]<=i&&Mr[255+u-c]<=i}function zt(e,t,n,r){var i=2*r+1;for(r=0;16>r;++r)qt(e,t+r,n,i)&&Ft(e,t+r,n)}function $t(e,t,n,r){var i=2*r+1;for(r=0;16>r;++r)qt(e,t+r*n,1,i)&&Ft(e,t+r*n,1)}function Ht(e,t,n,r){var i;for(i=3;0<i;--i)zt(e,t+=4*n,n,r)}function Gt(e,t,n,r){var i;for(i=3;0<i;--i)$t(e,t+=4,n,r)}function Vt(e,t,n,r,i,o,s,a){for(o=2*o+1;0<i--;){if(Ut(e,t,n,o,s))if(Bt(e,t,n,a))Ft(e,t,n);else{var c=e,u=t,l=n,h=c[u-2*l],d=c[u-l],f=c[u+0],p=c[u+l],m=c[u+2*l],g=27*(y=Ir[1020+3*(f-d)+Ir[1020+h-p]])+63>>7,v=18*y+63>>7,y=9*y+63>>7;c[u-3*l]=Lr[255+c[u-3*l]+y],c[u-2*l]=Lr[255+h+v],c[u-l]=Lr[255+d+g],c[u+0]=Lr[255+f-g],c[u+l]=Lr[255+p-v],c[u+2*l]=Lr[255+m-y]}t+=r}}function Wt(e,t,n,r,i,o,s,a){for(o=2*o+1;0<i--;){if(Ut(e,t,n,o,s))if(Bt(e,t,n,a))Ft(e,t,n);else{var c=e,u=t,l=n,h=c[u-l],d=c[u+0],f=c[u+l],p=Rr[112+(4+(m=3*(d-h))>>3)],m=Rr[112+(m+3>>3)],g=p+1>>1;c[u-2*l]=Lr[255+c[u-2*l]+g],c[u-l]=Lr[255+h+m],c[u+0]=Lr[255+d-p],c[u+l]=Lr[255+f-g]}t+=r}}function Kt(e,t,n,r,i,o){Vt(e,t,n,1,16,r,i,o)}function Zt(e,t,n,r,i,o){Vt(e,t,1,n,16,r,i,o)}function Yt(e,t,n,r,i,o){var s;for(s=3;0<s;--s)Wt(e,t+=4*n,n,1,16,r,i,o)}function Jt(e,t,n,r,i,o){var s;for(s=3;0<s;--s)Wt(e,t+=4,1,n,16,r,i,o)}function Qt(e,t,n,r,i,o,s,a){Vt(e,t,i,1,8,o,s,a),Vt(n,r,i,1,8,o,s,a)}function Xt(e,t,n,r,i,o,s,a){Vt(e,t,1,i,8,o,s,a),Vt(n,r,1,i,8,o,s,a)}function en(e,t,n,r,i,o,s,a){Wt(e,t+4*i,i,1,8,o,s,a),Wt(n,r+4*i,i,1,8,o,s,a)}function tn(e,t,n,r,i,o,s,a){Wt(e,t+4,1,i,8,o,s,a),Wt(n,r+4,1,i,8,o,s,a)}function nn(){this.ba=new se,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ce,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function rn(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function on(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function sn(){this.ua=0,this.Wa=new M,this.vb=new M,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new f,this.yc=new h}function an(){this.xb=this.a=0,this.l=new Ve,this.ca=new se,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new S,this.Pb=0,this.wd=new S,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new sn,this.ab=0,this.gc=s(4,on),this.Oc=0}function cn(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ve,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function un(e,t,n,r,i,o,s){for(e=null==e?0:e[t+0],t=0;t<s;++t)i[o+t]=e+n[r+t]&255,e=i[o+t]}function ln(e,t,n,r,i,o,s){var a;if(null==e)un(null,null,n,r,i,o,s);else for(a=0;a<s;++a)i[o+a]=e[t+a]+n[r+a]&255}function hn(e,t,n,r,i,o,s){if(null==e)un(null,null,n,r,i,o,s);else{var a,c=e[t+0],u=c,l=c;for(a=0;a<s;++a)u=l+(c=e[t+a])-u,l=n[r+a]+(-256&u?0>u?0:255:u)&255,u=c,i[o+a]=l}}function dn(e,n,i,s){var a=n.width,c=n.o;if(t(null!=e&&null!=n),0>i||0>=s||i+s>c)return null;if(!e.Cc){if(null==e.ga){var u;if(e.ga=new cn,(u=null==e.ga)||(u=n.width*n.o,t(0==e.Gb.length),e.Gb=o(u),e.Uc=0,null==e.Gb?u=0:(e.mb=e.Gb,e.nb=e.Uc,e.rc=null,u=1),u=!u),!u){u=e.ga;var l=e.Fa,h=e.P,d=e.qc,f=e.mb,p=e.nb,m=h+1,g=d-1,y=u.l;if(t(null!=l&&null!=f&&null!=n),gi[0]=null,gi[1]=un,gi[2]=ln,gi[3]=hn,u.ca=f,u.tb=p,u.c=n.width,u.i=n.height,t(0<u.c&&0<u.i),1>=d)n=0;else if(u.$a=l[h+0]>>0&3,u.Z=l[h+0]>>2&3,u.Lc=l[h+0]>>4&3,h=l[h+0]>>6&3,0>u.$a||1<u.$a||4<=u.Z||1<u.Lc||h)n=0;else if(y.put=fe,y.ac=de,y.bc=pe,y.ma=u,y.width=n.width,y.height=n.height,y.Da=n.Da,y.v=n.v,y.va=n.va,y.j=n.j,y.o=n.o,u.$a)e:{t(1==u.$a),n=Ne();t:for(;;){if(null==n){n=0;break e}if(t(null!=u),u.mc=n,n.c=u.c,n.i=u.i,n.l=u.l,n.l.ma=u,n.l.width=u.c,n.l.height=u.i,n.a=0,v(n.m,l,m,g),!Te(u.c,u.i,1,n,null))break t;if(1==n.ab&&3==n.gc[0].hc&&xe(n.s)?(u.ic=1,l=n.c*n.i,n.Ta=null,n.Ua=0,n.V=o(l),n.Ba=0,null==n.V?(n.a=1,n=0):n=1):(u.ic=0,n=Pe(n,u.c)),!n)break t;n=1;break e}u.mc=null,n=0}else n=g>=u.c*u.i;u=!n}if(u)return null;1!=e.ga.Lc?e.Ga=0:s=c-i}t(null!=e.ga),t(i+s<=c);e:{if(n=(l=e.ga).c,c=l.l.o,0==l.$a){if(m=e.rc,g=e.Vc,y=e.Fa,h=e.P+1+i*n,d=e.mb,f=e.nb+i*n,t(h<=e.P+e.qc),0!=l.Z)for(t(null!=gi[l.Z]),u=0;u<s;++u)gi[l.Z](m,g,y,h,d,f,n),m=d,g=f,f+=n,h+=n;else for(u=0;u<s;++u)r(d,f,y,h,n),m=d,g=f,f+=n,h+=n;e.rc=m,e.Vc=g}else{if(t(null!=l.mc),n=i+s,t(null!=(u=l.mc)),t(n<=u.i),u.C>=n)n=1;else if(l.ic||vn(),l.ic){l=u.V,m=u.Ba,g=u.c;var b=u.i,w=(y=1,h=u.$/g,d=u.$%g,f=u.m,p=u.s,u.$),S=g*b,_=g*n,C=p.wc,k=w<_?we(p,d,h):null;t(w<=S),t(n<=b),t(xe(p));t:for(;;){for(;!f.h&&w<_;){if(d&C||(k=we(p,d,h)),t(null!=k),E(f),256>(b=ye(k.G[0],k.H[0],f)))l[m+w]=b,++w,++d>=g&&(d=0,++h<=n&&!(h%16)&&Ee(u,h));else{if(!(280>b)){y=0;break t}b=ge(b-256,f);var A,N=ye(k.G[4],k.H[4],f);if(E(f),!(w>=(N=ve(g,N=ge(N,f)))&&S-w>=b)){y=0;break t}for(A=0;A<b;++A)l[m+w+A]=l[m+w+A-N];for(w+=b,d+=b;d>=g;)d-=g,++h<=n&&!(h%16)&&Ee(u,h);w<_&&d&C&&(k=we(p,d,h))}t(f.h==x(f))}Ee(u,h>n?n:h);break t}!y||f.h&&w<S?(y=0,u.a=f.h?5:3):u.$=w,n=y}else n=ke(u,u.V,u.Ba,u.c,u.i,n,Oe);if(!n){s=0;break e}}i+s>=c&&(e.Cc=1),s=1}if(!s)return null;if(e.Cc&&(null!=(s=e.ga)&&(s.mc=null),e.ga=null,0<e.Ga))return alert("todo:WebPDequantizeLevels"),null}return e.nb+i*a}function fn(e,t,n,r,i,o){for(;0<i--;){var s,a=e,c=t+(n?1:0),u=e,l=t+(n?0:3);for(s=0;s<r;++s){var h=u[l+4*s];255!=h&&(h*=32897,a[c+4*s+0]=a[c+4*s+0]*h>>23,a[c+4*s+1]=a[c+4*s+1]*h>>23,a[c+4*s+2]=a[c+4*s+2]*h>>23)}t+=o}}function pn(e,t,n,r,i){for(;0<r--;){var o;for(o=0;o<n;++o){var s=e[t+2*o+0],a=15&(u=e[t+2*o+1]),c=4369*a,u=(240&u|u>>4)*c>>16;e[t+2*o+0]=(240&s|s>>4)*c>>16&240|(15&s|s<<4)*c>>16>>4&15,e[t+2*o+1]=240&u|a}t+=i}}function mn(e,t,n,r,i,o,s,a){var c,u,l=255;for(u=0;u<i;++u){for(c=0;c<r;++c){var h=e[t+c];o[s+4*c]=h,l&=h}t+=n,s+=a}return 255!=l}function gn(e,t,n,r,i){var o;for(o=0;o<i;++o)n[r+o]=e[t+o]>>8}function vn(){xr=fn,Cr=pn,Er=mn,kr=gn}function yn(n,r,i){e[n]=function(e,n,o,s,a,c,u,l,h,d,f,p,m,g,v,y,b){var w,S=b-1>>1,_=a[c+0]|u[l+0]<<16,x=h[d+0]|f[p+0]<<16;t(null!=e);var C=3*_+x+131074>>2;for(r(e[n+0],255&C,C>>16,m,g),null!=o&&(C=3*x+_+131074>>2,r(o[s+0],255&C,C>>16,v,y)),w=1;w<=S;++w){var E=a[c+w]|u[l+w]<<16,k=h[d+w]|f[p+w]<<16,A=_+E+x+k+524296,N=A+2*(E+x)>>3;C=N+_>>1,_=(A=A+2*(_+k)>>3)+E>>1,r(e[n+2*w-1],255&C,C>>16,m,g+(2*w-1)*i),r(e[n+2*w-0],255&_,_>>16,m,g+(2*w-0)*i),null!=o&&(C=A+x>>1,_=N+k>>1,r(o[s+2*w-1],255&C,C>>16,v,y+(2*w-1)*i),r(o[s+2*w+0],255&_,_>>16,v,y+(2*w+0)*i)),_=E,x=k}1&b||(C=3*_+x+131074>>2,r(e[n+b-1],255&C,C>>16,m,g+(b-1)*i),null!=o&&(C=3*x+_+131074>>2,r(o[s+b-1],255&C,C>>16,v,y+(b-1)*i)))}}function bn(){vi[Dr]=yi,vi[jr]=wi,vi[Fr]=bi,vi[Br]=Si,vi[qr]=_i,vi[Ur]=xi,vi[zr]=Ci,vi[$r]=wi,vi[Hr]=Si,vi[Gr]=_i,vi[Vr]=xi}function wn(e){return e&~Pi?0>e?0:255:e>>Ti}function Sn(e,t){return wn((19077*e>>8)+(26149*t>>8)-14234)}function _n(e,t,n){return wn((19077*e>>8)-(6419*t>>8)-(13320*n>>8)+8708)}function xn(e,t){return wn((19077*e>>8)+(33050*t>>8)-17685)}function Cn(e,t,n,r,i){r[i+0]=Sn(e,n),r[i+1]=_n(e,t,n),r[i+2]=xn(e,t)}function En(e,t,n,r,i){r[i+0]=xn(e,t),r[i+1]=_n(e,t,n),r[i+2]=Sn(e,n)}function kn(e,t,n,r,i){var o=_n(e,t,n);t=o<<3&224|xn(e,t)>>3,r[i+0]=248&Sn(e,n)|o>>5,r[i+1]=t}function An(e,t,n,r,i){var o=240&xn(e,t)|15;r[i+0]=240&Sn(e,n)|_n(e,t,n)>>4,r[i+1]=o}function Nn(e,t,n,r,i){r[i+0]=255,Cn(e,t,n,r,i+1)}function Tn(e,t,n,r,i){En(e,t,n,r,i),r[i+3]=255}function Pn(e,t,n,r,i){Cn(e,t,n,r,i),r[i+3]=255}function Ge(e,t){return 0>e?0:e>t?t:e}function On(t,n,r){e[t]=function(e,t,i,o,s,a,c,u,l){for(var h=u+(-2&l)*r;u!=h;)n(e[t+0],i[o+0],s[a+0],c,u),n(e[t+1],i[o+0],s[a+0],c,u+r),t+=2,++o,++a,u+=2*r;1&l&&n(e[t+0],i[o+0],s[a+0],c,u)}}function In(e,t,n){return 0==n?0==e?0==t?6:5:0==t?4:0:n}function Rn(e,t,n,r,i){switch(e>>>30){case 3:sr(t,n,r,i,0);break;case 2:ar(t,n,r,i);break;case 1:ur(t,n,r,i)}}function Ln(e,t){var n,o,s=t.M,a=t.Nb,c=e.oc,u=e.pc+40,l=e.oc,h=e.pc+584,d=e.oc,f=e.pc+600;for(n=0;16>n;++n)c[u+32*n-1]=129;for(n=0;8>n;++n)l[h+32*n-1]=129,d[f+32*n-1]=129;for(0<s?c[u-1-32]=l[h-1-32]=d[f-1-32]=129:(i(c,u-32-1,127,21),i(l,h-32-1,127,9),i(d,f-32-1,127,9)),o=0;o<e.za;++o){var p=t.ya[t.aa+o];if(0<o){for(n=-1;16>n;++n)r(c,u+32*n-4,c,u+32*n+12,4);for(n=-1;8>n;++n)r(l,h+32*n-4,l,h+32*n+4,4),r(d,f+32*n-4,d,f+32*n+4,4)}var m=e.Gd,g=e.Hd+o,v=p.ad,y=p.Hc;if(0<s&&(r(c,u-32,m[g].y,0,16),r(l,h-32,m[g].f,0,8),r(d,f-32,m[g].ea,0,8)),p.Za){var b=c,w=u-32+16;for(0<s&&(o>=e.za-1?i(b,w,m[g].y[15],4):r(b,w,m[g+1].y,0,4)),n=0;4>n;n++)b[w+128+n]=b[w+256+n]=b[w+384+n]=b[w+0+n];for(n=0;16>n;++n,y<<=2)b=c,w=u+Fi[n],di[p.Ob[n]](b,w),Rn(y,v,16*+n,b,w)}else if(b=In(o,s,p.Ob[0]),hi[b](c,u),0!=y)for(n=0;16>n;++n,y<<=2)Rn(y,v,16*+n,c,u+Fi[n]);for(n=p.Gc,b=In(o,s,p.Dd),fi[b](l,h),fi[b](d,f),y=v,b=l,w=h,255&(p=n>>0)&&(170&p?cr(y,256,b,w):lr(y,256,b,w)),p=d,y=f,255&(n>>=8)&&(170&n?cr(v,320,p,y):lr(v,320,p,y)),s<e.Ub-1&&(r(m[g].y,0,c,u+480,16),r(m[g].f,0,l,h+224,8),r(m[g].ea,0,d,f+224,8)),n=8*a*e.B,m=e.sa,g=e.ta+16*o+16*a*e.R,v=e.qa,p=e.ra+8*o+n,y=e.Ha,b=e.Ia+8*o+n,n=0;16>n;++n)r(m,g+n*e.R,c,u+32*n,16);for(n=0;8>n;++n)r(v,p+n*e.B,l,h+32*n,8),r(y,b+n*e.B,d,f+32*n,8)}}function Mn(e,r,i,o,s,a,c,u,l){var h=[0],d=[0],f=0,p=null!=l?l.kd:0,m=null!=l?l:new rn;if(null==e||12>i)return 7;m.data=e,m.w=r,m.ha=i,r=[r],i=[i],m.gb=[m.gb];e:{var g=r,y=i,b=m.gb;if(t(null!=e),t(null!=y),t(null!=b),b[0]=0,12<=y[0]&&!n(e,g[0],"RIFF")){if(n(e,g[0]+8,"WEBP")){b=3;break e}var w=I(e,g[0]+4);if(12>w||4294967286<w){b=3;break e}if(p&&w>y[0]-8){b=7;break e}b[0]=w,g[0]+=12,y[0]-=12}b=0}if(0!=b)return b;for(w=0<m.gb[0],i=i[0];;){e:{var _=e;y=r,b=i;var x=h,C=d,E=g=[0];if((N=f=[f])[0]=0,8>b[0])b=7;else{if(!n(_,y[0],"VP8X")){if(10!=I(_,y[0]+4)){b=3;break e}if(18>b[0]){b=7;break e}var k=I(_,y[0]+8),A=1+O(_,y[0]+12);if(2147483648<=A*(_=1+O(_,y[0]+15))){b=3;break e}null!=E&&(E[0]=k),null!=x&&(x[0]=A),null!=C&&(C[0]=_),y[0]+=18,b[0]-=18,N[0]=1}b=0}}if(f=f[0],g=g[0],0!=b)return b;if(y=!!(2&g),!w&&f)return 3;if(null!=a&&(a[0]=!!(16&g)),null!=c&&(c[0]=y),null!=u&&(u[0]=0),c=h[0],g=d[0],f&&y&&null==l){b=0;break}if(4>i){b=7;break}if(w&&f||!w&&!f&&!n(e,r[0],"ALPH")){i=[i],m.na=[m.na],m.P=[m.P],m.Sa=[m.Sa];e:{k=e,b=r,w=i;var N=m.gb;x=m.na,C=m.P,E=m.Sa,A=22,t(null!=k),t(null!=w),_=b[0];var T=w[0];for(t(null!=x),t(null!=E),x[0]=null,C[0]=null,E[0]=0;;){if(b[0]=_,w[0]=T,8>T){b=7;break e}var P=I(k,_+4);if(4294967286<P){b=3;break e}var R=8+P+1&-2;if(A+=R,0<N&&A>N){b=3;break e}if(!n(k,_,"VP8 ")||!n(k,_,"VP8L")){b=0;break e}if(T[0]<R){b=7;break e}n(k,_,"ALPH")||(x[0]=k,C[0]=_+8,E[0]=P),_+=R,T-=R}}if(i=i[0],m.na=m.na[0],m.P=m.P[0],m.Sa=m.Sa[0],0!=b)break}i=[i],m.Ja=[m.Ja],m.xa=[m.xa];e:if(N=e,b=r,w=i,x=m.gb[0],C=m.Ja,E=m.xa,k=b[0],_=!n(N,k,"VP8 "),A=!n(N,k,"VP8L"),t(null!=N),t(null!=w),t(null!=C),t(null!=E),8>w[0])b=7;else{if(_||A){if(N=I(N,k+4),12<=x&&N>x-12){b=3;break e}if(p&&N>w[0]-8){b=7;break e}C[0]=N,b[0]+=8,w[0]-=8,E[0]=A}else E[0]=5<=w[0]&&47==N[k+0]&&!(N[k+4]>>5),C[0]=w[0];b=0}if(i=i[0],m.Ja=m.Ja[0],m.xa=m.xa[0],r=r[0],0!=b)break;if(4294967286<m.Ja)return 3;if(null==u||y||(u[0]=m.xa?2:1),c=[c],g=[g],m.xa){if(5>i){b=7;break}u=c,p=g,y=a,null==e||5>i?e=0:5<=i&&47==e[r+0]&&!(e[r+4]>>5)?(w=[0],N=[0],x=[0],v(C=new S,e,r,i),me(C,w,N,x)?(null!=u&&(u[0]=w[0]),null!=p&&(p[0]=N[0]),null!=y&&(y[0]=x[0]),e=1):e=0):e=0}else{if(10>i){b=7;break}u=g,null==e||10>i||!Ze(e,r+3,i-3)?e=0:(p=e[r+0]|e[r+1]<<8|e[r+2]<<16,y=16383&(e[r+7]<<8|e[r+6]),e=16383&(e[r+9]<<8|e[r+8]),1&p||3<(p>>1&7)||!(p>>4&1)||p>>5>=m.Ja||!y||!e?e=0:(c&&(c[0]=y),u&&(u[0]=e),e=1))}if(!e)return 3;if(c=c[0],g=g[0],f&&(h[0]!=c||d[0]!=g))return 3;null!=l&&(l[0]=m,l.offset=r-l.w,t(4294967286>r-l.w),t(l.offset==l.ha-i));break}return 0==b||7==b&&f&&null==l?(null!=a&&(a[0]|=null!=m.na&&0<m.na.length),null!=o&&(o[0]=c),null!=s&&(s[0]=g),0):b}function Dn(e,t,n){var r=t.width,i=t.height,o=0,s=0,a=r,c=i;if(t.Da=null!=e&&0<e.Da,t.Da&&(a=e.cd,c=e.bd,o=e.v,s=e.j,11>n||(o&=-2,s&=-2),0>o||0>s||0>=a||0>=c||o+a>r||s+c>i))return 0;if(t.v=o,t.j=s,t.va=o+a,t.o=s+c,t.U=a,t.T=c,t.da=null!=e&&0<e.da,t.da){if(!D(a,c,n=[e.ib],o=[e.hb]))return 0;t.ib=n[0],t.hb=o[0]}return t.ob=null!=e&&e.ob,t.Kb=null==e||!e.Sd,t.da&&(t.ob=t.ib<3*r/4&&t.hb<3*i/4,t.Kb=0),1}function jn(e){if(null==e)return 2;if(11>e.S){var t=e.f.RGBA;t.fb+=(e.height-1)*t.A,t.A=-t.A}else t=e.f.kb,e=e.height,t.O+=(e-1)*t.fa,t.fa=-t.fa,t.N+=(e-1>>1)*t.Ab,t.Ab=-t.Ab,t.W+=(e-1>>1)*t.Db,t.Db=-t.Db,null!=t.F&&(t.J+=(e-1)*t.lb,t.lb=-t.lb);return 0}function Fn(e,t,n,r){if(null==r||0>=e||0>=t)return 2;if(null!=n){if(n.Da){var i=n.cd,s=n.bd,a=-2&n.v,c=-2&n.j;if(0>a||0>c||0>=i||0>=s||a+i>e||c+s>t)return 2;e=i,t=s}if(n.da){if(!D(e,t,i=[n.ib],s=[n.hb]))return 2;e=i[0],t=s[0]}}r.width=e,r.height=t;e:{var u=r.width,l=r.height;if(e=r.S,0>=u||0>=l||!(e>=Dr&&13>e))e=2;else{if(0>=r.Rd&&null==r.sd){a=s=i=t=0;var h=(c=u*zi[e])*l;if(11>e||(s=(l+1)/2*(t=(u+1)/2),12==e&&(a=(i=u)*l)),null==(l=o(h+2*s+a))){e=1;break e}r.sd=l,11>e?((u=r.f.RGBA).eb=l,u.fb=0,u.A=c,u.size=h):((u=r.f.kb).y=l,u.O=0,u.fa=c,u.Fd=h,u.f=l,u.N=0+h,u.Ab=t,u.Cd=s,u.ea=l,u.W=0+h+s,u.Db=t,u.Ed=s,12==e&&(u.F=l,u.J=0+h+2*s),u.Tc=a,u.lb=i)}if(t=1,i=r.S,s=r.width,a=r.height,i>=Dr&&13>i)if(11>i)e=r.f.RGBA,t&=(c=Math.abs(e.A))*(a-1)+s<=e.size,t&=c>=s*zi[i],t&=null!=e.eb;else{e=r.f.kb,c=(s+1)/2,h=(a+1)/2,u=Math.abs(e.fa),l=Math.abs(e.Ab);var d=Math.abs(e.Db),f=Math.abs(e.lb),p=f*(a-1)+s;t&=u*(a-1)+s<=e.Fd,t&=l*(h-1)+c<=e.Cd,t=(t&=d*(h-1)+c<=e.Ed)&u>=s&l>=c&d>=c,t&=null!=e.y,t&=null!=e.f,t&=null!=e.ea,12==i&&(t&=f>=s,t&=p<=e.Tc,t&=null!=e.F)}else t=0;e=t?0:2}}return 0!=e||null!=n&&n.fd&&(e=jn(r)),e}var Bn=64,qn=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Un=24,zn=32,$n=8,Hn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];B("Predictor0","PredictorAdd0"),e.Predictor0=function(){return 4278190080},e.Predictor1=function(e){return e},e.Predictor2=function(e,t,n){return t[n+0]},e.Predictor3=function(e,t,n){return t[n+1]},e.Predictor4=function(e,t,n){return t[n-1]},e.Predictor5=function(e,t,n){return U(U(e,t[n+1]),t[n+0])},e.Predictor6=function(e,t,n){return U(e,t[n-1])},e.Predictor7=function(e,t,n){return U(e,t[n+0])},e.Predictor8=function(e,t,n){return U(t[n-1],t[n+0])},e.Predictor9=function(e,t,n){return U(t[n+0],t[n+1])},e.Predictor10=function(e,t,n){return U(U(e,t[n-1]),U(t[n+0],t[n+1]))},e.Predictor11=function(e,t,n){var r=t[n+0];return 0>=H(r>>24&255,e>>24&255,(t=t[n-1])>>24&255)+H(r>>16&255,e>>16&255,t>>16&255)+H(r>>8&255,e>>8&255,t>>8&255)+H(255&r,255&e,255&t)?r:e},e.Predictor12=function(e,t,n){var r=t[n+0];return(z((e>>24&255)+(r>>24&255)-((t=t[n-1])>>24&255))<<24|z((e>>16&255)+(r>>16&255)-(t>>16&255))<<16|z((e>>8&255)+(r>>8&255)-(t>>8&255))<<8|z((255&e)+(255&r)-(255&t)))>>>0},e.Predictor13=function(e,t,n){var r=t[n-1];return($((e=U(e,t[n+0]))>>24&255,r>>24&255)<<24|$(e>>16&255,r>>16&255)<<16|$(e>>8&255,r>>8&255)<<8|$(e>>0&255,r>>0&255))>>>0};var Gn=e.PredictorAdd0;e.PredictorAdd1=G,B("Predictor2","PredictorAdd2"),B("Predictor3","PredictorAdd3"),B("Predictor4","PredictorAdd4"),B("Predictor5","PredictorAdd5"),B("Predictor6","PredictorAdd6"),B("Predictor7","PredictorAdd7"),B("Predictor8","PredictorAdd8"),B("Predictor9","PredictorAdd9"),B("Predictor10","PredictorAdd10"),B("Predictor11","PredictorAdd11"),B("Predictor12","PredictorAdd12"),B("Predictor13","PredictorAdd13");var Vn=e.PredictorAdd2;Z("ColorIndexInverseTransform","MapARGB","32b",(function(e){return e>>8&255}),(function(e){return e})),Z("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",(function(e){return e}),(function(e){return e>>8&255}));var Wn,Kn=e.ColorIndexInverseTransform,Zn=e.MapARGB,Yn=e.VP8LColorIndexInverseTransformAlpha,Jn=e.MapAlpha,Qn=e.VP8LPredictorsAdd=[];Qn.length=16,(e.VP8LPredictors=[]).length=16,(e.VP8LPredictorsAdd_C=[]).length=16,(e.VP8LPredictors_C=[]).length=16;var Xn,er,tr,nr,rr,ir,or,sr,ar,cr,ur,lr,hr,dr,fr,pr,mr,gr,vr,yr,br,wr,Sr,_r,xr,Cr,Er,kr,Ar=o(511),Nr=o(2041),Tr=o(225),Pr=o(767),Or=0,Ir=Nr,Rr=Tr,Lr=Pr,Mr=Ar,Dr=0,jr=1,Fr=2,Br=3,qr=4,Ur=5,zr=6,$r=7,Hr=8,Gr=9,Vr=10,Wr=[2,3,7],Kr=[3,3,11],Zr=[280,256,256,256,40],Yr=[0,1,1,1,0],Jr=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Qr=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Xr=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ei=8,ti=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ni=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ri=null,ii=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],oi=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],si=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],ai=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],ci=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ui=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],li=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],hi=[],di=[],fi=[],pi=1,mi=2,gi=[],vi=[];yn("UpsampleRgbLinePair",Cn,3),yn("UpsampleBgrLinePair",En,3),yn("UpsampleRgbaLinePair",Pn,4),yn("UpsampleBgraLinePair",Tn,4),yn("UpsampleArgbLinePair",Nn,4),yn("UpsampleRgba4444LinePair",An,2),yn("UpsampleRgb565LinePair",kn,2);var yi=e.UpsampleRgbLinePair,bi=e.UpsampleBgrLinePair,wi=e.UpsampleRgbaLinePair,Si=e.UpsampleBgraLinePair,_i=e.UpsampleArgbLinePair,xi=e.UpsampleRgba4444LinePair,Ci=e.UpsampleRgb565LinePair,Ei=16,ki=1<<Ei-1,Ai=-227,Ni=482,Ti=6,Pi=(256<<Ti)-1,Oi=0,Ii=o(256),Ri=o(256),Li=o(256),Mi=o(256),Di=o(Ni-Ai),ji=o(Ni-Ai);On("YuvToRgbRow",Cn,3),On("YuvToBgrRow",En,3),On("YuvToRgbaRow",Pn,4),On("YuvToBgraRow",Tn,4),On("YuvToArgbRow",Nn,4),On("YuvToRgba4444Row",An,2),On("YuvToRgb565Row",kn,2);var Fi=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Bi=[0,2,8],qi=[8,7,6,4,4,2,2,2,1,1,1,1],Ui=1;this.WebPDecodeRGBA=function(e,n,r,i,o){var s=jr,a=new nn,c=new se;a.ba=c,c.S=s,c.width=[c.width],c.height=[c.height];var u=c.width,l=c.height,h=new ae;if(null==h||null==e)var d=2;else t(null!=h),d=Mn(e,n,r,h.width,h.height,h.Pd,h.Qd,h.format,null);if(0!=d?u=0:(null!=u&&(u[0]=h.width[0]),null!=l&&(l[0]=h.height[0]),u=1),u){c.width=c.width[0],c.height=c.height[0],null!=i&&(i[0]=c.width),null!=o&&(o[0]=c.height);e:{if(i=new Ve,(o=new rn).data=e,o.w=n,o.ha=r,o.kd=1,n=[0],t(null!=o),(0==(e=Mn(o.data,o.w,o.ha,null,null,null,n,null,o))||7==e)&&n[0]&&(e=4),0==(n=e)){if(t(null!=a),i.data=o.data,i.w=o.w+o.offset,i.ha=o.ha-o.offset,i.put=fe,i.ac=de,i.bc=pe,i.ma=a,o.xa){if(null==(e=Ne())){a=1;break e}if(function(e,n){var r=[0],i=[0],o=[0];t:for(;;){if(null==e)return 0;if(null==n)return e.a=2,0;if(e.l=n,e.a=0,v(e.m,n.data,n.w,n.ha),!me(e.m,r,i,o)){e.a=3;break t}if(e.xb=mi,n.width=r[0],n.height=i[0],!Te(r[0],i[0],1,e,null))break t;return 1}return t(0!=e.a),0}(e,i)){if(i=0==(n=Fn(i.width,i.height,a.Oa,a.ba))){t:{i=e;n:for(;;){if(null==i){i=0;break t}if(t(null!=i.s.yc),t(null!=i.s.Ya),t(0<i.s.Wb),t(null!=(r=i.l)),t(null!=(o=r.ma)),0!=i.xb){if(i.ca=o.ba,i.tb=o.tb,t(null!=i.ca),!Dn(o.Oa,r,Br)){i.a=2;break n}if(!Pe(i,r.width))break n;if(r.da)break n;if((r.da||re(i.ca.S))&&vn(),11>i.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=i.ca.f.kb.F&&vn()),i.Pb&&0<i.s.ua&&null==i.s.vb.X&&!R(i.s.vb,i.s.Wa.Xa)){i.a=1;break n}i.xb=0}if(!ke(i,i.V,i.Ba,i.c,i.i,r.o,_e))break n;o.Dc=i.Ma,i=1;break t}t(0!=i.a),i=0}i=!i}i&&(n=e.a)}else n=e.a}else{if(null==(e=new We)){a=1;break e}if(e.Fa=o.na,e.P=o.P,e.qc=o.Sa,Ye(e,i)){if(0==(n=Fn(i.width,i.height,a.Oa,a.ba))){if(e.Aa=0,r=a.Oa,t(null!=(o=e)),null!=r){if(0<(u=0>(u=r.Md)?0:100<u?255:255*u/100)){for(l=h=0;4>l;++l)12>(d=o.pb[l]).lc&&(d.ia=u*qi[0>d.lc?0:d.lc]>>3),h|=d.ia;h&&(alert("todo:VP8InitRandom"),o.ia=1)}o.Ga=r.Id,100<o.Ga?o.Ga=100:0>o.Ga&&(o.Ga=0)}Xe(e,i)||(n=e.a)}}else n=e.a}0==n&&null!=a.Oa&&a.Oa.fd&&(n=jn(a.ba))}a=n}s=0!=a?null:11>s?c.f.RGBA.eb:c.f.kb.y}else s=null;return s};var zi=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(e,t){for(var n="",r=0;r<4;r++)n+=String.fromCharCode(e[t++]);return n}function l(e,t){return(e[t+0]<<0|e[t+1]<<8|e[t+2]<<16)>>>0}function h(e,t){return(e[t+0]<<0|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}new c;var d=[0],f=[0],p=[],m=new c,g=e,v=function(e,t){var n={},r=0,i=!1,o=0,s=0;if(n.frames=[],!function(e,t,n,r){for(var i=0;i<4;i++)if(e[t+i]!="RIFF".charCodeAt(i))return!0;return!1}(e,t)){var a,c;for(h(e,t+=4),t+=8;t<e.length;){var d=u(e,t),f=h(e,t+=4);t+=4;var p=f+(1&f);switch(d){case"VP8 ":case"VP8L":void 0===n.frames[r]&&(n.frames[r]={}),(v=n.frames[r]).src_off=i?s:t-8,v.src_size=o+f+8,r++,i&&(i=!1,o=0,s=0);break;case"VP8X":(v=n.header={}).feature_flags=e[t];var m=t+4;v.canvas_width=1+l(e,m),m+=3,v.canvas_height=1+l(e,m),m+=3;break;case"ALPH":i=!0,o=p+8,s=t-8;break;case"ANIM":(v=n.header).bgcolor=h(e,t),m=t+4,v.loop_count=(a=e)[(c=m)+0]<<0|a[c+1]<<8,m+=2;break;case"ANMF":var g,v;(v=n.frames[r]={}).offset_x=2*l(e,t),t+=3,v.offset_y=2*l(e,t),t+=3,v.width=1+l(e,t),t+=3,v.height=1+l(e,t),t+=3,v.duration=l(e,t),t+=3,g=e[t++],v.dispose=1&g,v.blend=g>>1&1}"ANMF"!=d&&(t+=p)}return n}}(g,0);v.response=g,v.rgbaoutput=!0,v.dataurl=!1;var y=v.header?v.header:null,b=v.frames?v.frames:null;if(y){y.loop_counter=y.loop_count,d=[y.canvas_height],f=[y.canvas_width];for(var w=0;w<b.length&&0!=b[w].blend;w++);}var S=b[0],_=m.WebPDecodeRGBA(g,S.src_off,S.src_size,f,d);S.rgba=_,S.imgwidth=f[0],S.imgheight=d[0];for(var x=0;x<f[0]*d[0]*4;x++)p[x]=_[x];return this.width=f,this.height=d,this.data=p,this}!function(e){var t=function(t,r,c,u){var l=4,h=o;switch(u){case e.image_compression.FAST:l=1,h=i;break;case e.image_compression.MEDIUM:l=6,h=s;break;case e.image_compression.SLOW:l=9,h=a}var d=K(t=n(t,r,c,h),{level:l});return e.__addimage__.arrayBufferToBinaryString(d)},n=function(e,t,n,r){for(var i,o,s,a=e.length/t,c=new Uint8Array(e.length+a),h=u(),d=0;d<a;d+=1){if(s=d*t,i=e.subarray(s,s+t),r)c.set(r(i,n,o),s+d);else{for(var f,p=h.length,m=[];f<p;f+=1)m[f]=h[f](i,n,o);var g=l(m.concat());c.set(m[g],s+d)}o=i}return c},r=function(e){var t=Array.apply([],e);return t.unshift(0),t},i=function(e,t){var n,r=[],i=e.length;r[0]=1;for(var o=0;o<i;o+=1)n=e[o-t]||0,r[o+1]=e[o]-n+256&255;return r},o=function(e,t,n){var r,i=[],o=e.length;i[0]=2;for(var s=0;s<o;s+=1)r=n&&n[s]||0,i[s+1]=e[s]-r+256&255;return i},s=function(e,t,n){var r,i,o=[],s=e.length;o[0]=3;for(var a=0;a<s;a+=1)r=e[a-t]||0,i=n&&n[a]||0,o[a+1]=e[a]+256-(r+i>>>1)&255;return o},a=function(e,t,n){var r,i,o,s,a=[],u=e.length;a[0]=4;for(var l=0;l<u;l+=1)r=e[l-t]||0,i=n&&n[l]||0,o=n&&n[l-t]||0,s=c(r,i,o),a[l+1]=e[l]-s+256&255;return a},c=function(e,t,n){if(e===t&&t===n)return e;var r=Math.abs(t-n),i=Math.abs(e-n),o=Math.abs(e+t-n-n);return r<=i&&r<=o?e:i<=o?t:n},u=function(){return[r,i,o,s,a]},l=function(e){var t=e.map((function(e){return e.reduce((function(e,t){return e+Math.abs(t)}),0)}));return t.indexOf(Math.min.apply(null,t))};e.processPNG=function(n,r,i,o){var s,a,c,u,l,h,d,f,p,m,g,v,y,b,w,S=this.decode.FLATE_DECODE,_="";if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){if(n=(c=new qt(n)).imgData,a=c.bits,s=c.colorSpace,l=c.colors,-1!==[4,6].indexOf(c.colorType)){if(8===c.bits){p=(f=32==c.pixelBitlength?new Uint32Array(c.decodePixels().buffer):16==c.pixelBitlength?new Uint16Array(c.decodePixels().buffer):new Uint8Array(c.decodePixels().buffer)).length,g=new Uint8Array(p*c.colors),m=new Uint8Array(p);var x,C=c.pixelBitlength-c.bits;for(b=0,w=0;b<p;b++){for(y=f[b],x=0;x<C;)g[w++]=y>>>x&255,x+=c.bits;m[b]=y>>>x&255}}if(16===c.bits){p=(f=new Uint32Array(c.decodePixels().buffer)).length,g=new Uint8Array(p*(32/c.pixelBitlength)*c.colors),m=new Uint8Array(p*(32/c.pixelBitlength)),v=c.colors>1,b=0,w=0;for(var E=0;b<p;)y=f[b++],g[w++]=y>>>0&255,v&&(g[w++]=y>>>16&255,y=f[b++],g[w++]=y>>>0&255),m[E++]=y>>>16&255;a=8}o!==e.image_compression.NONE?(n=t(g,c.width*c.colors,c.colors,o),d=t(m,c.width,1,o)):(n=g,d=m,S=void 0)}if(3===c.colorType&&(s=this.color_spaces.INDEXED,h=c.palette,c.transparency.indexed)){var k=c.transparency.indexed,A=0;for(b=0,p=k.length;b<p;++b)A+=k[b];if((A/=255)==p-1&&-1!==k.indexOf(0))u=[k.indexOf(0)];else if(A!==p){for(f=c.decodePixels(),m=new Uint8Array(f.length),b=0,p=f.length;b<p;b++)m[b]=k[f[b]];d=t(m,c.width,1)}}var N=function(t){var n;switch(t){case e.image_compression.FAST:n=11;break;case e.image_compression.MEDIUM:n=13;break;case e.image_compression.SLOW:n=14;break;default:n=12}return n}(o);return S===this.decode.FLATE_DECODE&&(_="/Predictor "+N+" "),_+="/Colors "+l+" /BitsPerComponent "+a+" /Columns "+c.width,(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(d&&this.__addimage__.isArrayBuffer(d)||this.__addimage__.isArrayBufferView(d))&&(d=this.__addimage__.arrayBufferToBinaryString(d)),{alias:i,data:n,index:r,filter:S,decodeParameters:_,transparency:u,palette:h,sMask:d,predictor:N,width:c.width,height:c.height,bitsPerComponent:a,colorSpace:s}}}}(Ne.API),function(e){e.processGIF89A=function(t,n,r,i){var o=new Ut(t),s=o.width,a=o.height,c=[];o.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:s,height:a},l=new $t(100).encode(u,100);return e.processJPEG.call(this,l,n,r,i)},e.processGIF87A=e.processGIF89A}(Ne.API),Ht.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:r,blue:n,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ht.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(e){J.log("bit decode error:"+e)}},Ht.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var o=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var c=this.palette[o>>7-a&1];this.data[s+4*a]=c.blue,this.data[s+4*a+1]=c.green,this.data[s+4*a+2]=c.red,this.data[s+4*a+3]=255}0!==n&&(this.pos+=4-n)}},Ht.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++){var o=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+2*i*4,a=o>>4,c=15&o,u=this.palette[a];if(this.data[s]=u.blue,this.data[s+1]=u.green,this.data[s+2]=u.red,this.data[s+3]=255,2*i+1>=this.width)break;u=this.palette[c],this.data[s+4]=u.blue,this.data[s+4+1]=u.green,this.data[s+4+2]=u.red,this.data[s+4+3]=255}0!==t&&(this.pos+=4-t)}},Ht.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+4*r;if(i<this.palette.length){var s=this.palette[i];this.data[o]=s.red,this.data[o+1]=s.green,this.data[o+2]=s.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}0!==e&&(this.pos+=4-e)}},Ht.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&t)/t*255|0,a=(o>>5&t)/t*255|0,c=(o>>10&t)/t*255|0,u=o>>15?255:0,l=r*this.width*4+4*i;this.data[l]=c,this.data[l+1]=a,this.data[l+2]=s,this.data[l+3]=u}this.pos+=e}},Ht.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&t)/t*255|0,c=(s>>5&n)/n*255|0,u=(s>>11)/t*255|0,l=i*this.width*4+4*o;this.data[l]=u,this.data[l+1]=c,this.data[l+2]=a,this.data[l+3]=255}this.pos+=e}},Ht.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*n;this.data[s]=o,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=255}this.pos+=this.width%4}},Ht.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*n;this.data[a]=o,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=s}},Ht.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,i){var o=new Ht(t,!1),s=o.width,a=o.height,c={data:o.getData(),width:s,height:a},u=new $t(100).encode(c,100);return e.processJPEG.call(this,u,n,r,i)}}(Ne.API),Gt.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,i){var o=new Gt(t,!1),s=o.width,a=o.height,c={data:o.getData(),width:s,height:a},u=new $t(100).encode(c,100);return e.processJPEG.call(this,u,n,r,i)}}(Ne.API),Ne.API.processRGBA=function(e,t,n){for(var r=e.data,i=r.length,o=new Uint8Array(i/4*3),s=new Uint8Array(i/4),a=0,c=0,u=0;u<i;u+=4){var l=r[u],h=r[u+1],d=r[u+2],f=r[u+3];o[a++]=l,o[a++]=h,o[a++]=d,s[c++]=f}var p=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:p,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Ne.API.setLanguage=function(e){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]&&(this.internal.languageSettings.languageCode=e,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",(function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")})),this.internal.languageSettings.isSubscribed=!0)),this},Mt=Ne.API,Dt=Mt.getCharWidthsArray=function(e,t){var n,i,o=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),a=t.charSpace||this.internal.getCharSpace(),c=t.widths?t.widths:o.metadata.Unicode.widths,u=c.fof?c.fof:1,l=t.kerning?t.kerning:o.metadata.Unicode.kerning,h=l.fof?l.fof:1,d=!1!==t.doKerning,f=0,p=e.length,m=0,g=c[0]||u,v=[];for(n=0;n<p;n++)i=e.charCodeAt(n),"function"==typeof o.metadata.widthOfString?v.push((o.metadata.widthOfGlyph(o.metadata.characterToGlyph(i))+a*(1e3/s)||0)/1e3):(f=d&&"object"===r(l[i])&&!isNaN(parseInt(l[i][m],10))?l[i][m]/h:0,v.push((c[i]||g)/u+f)),m=i;return v},jt=Mt.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return Mt.processArabic&&(e=Mt.processArabic(e)),"function"==typeof r.metadata.widthOfString?r.metadata.widthOfString(e,n,i)/n:Dt.apply(this,arguments).reduce((function(e,t){return e+t}),0)},Ft=function(e,t,n,r){for(var i=[],o=0,s=e.length,a=0;o!==s&&a+t[o]<n;)a+=t[o],o++;i.push(e.slice(0,o));var c=o;for(a=0;o!==s;)a+t[o]>r&&(i.push(e.slice(c,o)),a=0,c=o),a+=t[o],o++;return c!==o&&i.push(e.slice(c,o)),i},Bt=function(e,t,n){n||(n={});var r,i,o,s,a,c,u,l=[],h=[l],d=n.textIndent||0,f=0,p=0,m=e.split(" "),g=Dt.apply(this,[" ",n])[0];if(c=-1===n.lineIndent?m[0].length+2:n.lineIndent||0){var v=Array(c).join(" "),y=[];m.map((function(e){(e=e.split(/\s*\n/)).length>1?y=y.concat(e.map((function(e,t){return(t&&e.length?"\n":"")+e}))):y.push(e[0])})),m=y,c=jt.apply(this,[v,n])}for(o=0,s=m.length;o<s;o++){var b=0;if(r=m[o],c&&"\n"==r[0]&&(r=r.substr(1),b=1),d+f+(p=(i=Dt.apply(this,[r,n])).reduce((function(e,t){return e+t}),0))>t||b){if(p>t){for(a=Ft.apply(this,[r,i,t-(d+f),t]),l.push(a.shift()),l=[a.pop()];a.length;)h.push([a.shift()]);p=i.slice(r.length-(l[0]?l[0].length:0)).reduce((function(e,t){return e+t}),0)}else l=[r];h.push(l),d=p+c,f=g}else l.push(r),d+=f+p,f=g}return u=c?function(e,t){return(t?v:"")+e.join(" ")}:function(e){return e.join(" ")},h.map(u)},Mt.splitTextToSize=function(e,t,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),o=function(e){if(e.widths&&e.kerning)return{widths:e.widths,kerning:e.kerning};var t=this.internal.getFont(e.fontName,e.fontStyle);return t.metadata.Unicode?{widths:t.metadata.Unicode.widths||{0:1},kerning:t.metadata.Unicode.kerning||{}}:{font:t.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var s=1*this.internal.scaleFactor*t/i;o.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,o.lineIndent=n.lineIndent;var a,c,u=[];for(a=0,c=r.length;a<c;a++)u=u.concat(Bt.apply(this,[r[a],s,o]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",n={},i={},o=0;o<t.length;o++)n[t[o]]="0123456789abcdef"[o],i["0123456789abcdef"[o]]=t[o];var s=function(e){return"0x"+parseInt(e,10).toString(16)},a=e.__fontmetrics__.compress=function(e){var t,n,o,c,u=["{"];for(var l in e){if(t=e[l],isNaN(parseInt(l,10))?n="'"+l+"'":(l=parseInt(l,10),n=(n=s(l).slice(2)).slice(0,-1)+i[n.slice(-1)]),"number"==typeof t)t<0?(o=s(t).slice(3),c="-"):(o=s(t).slice(2),c=""),o=c+o.slice(0,-1)+i[o.slice(-1)];else{if("object"!==r(t))throw new Error("Don't know what to do with value type "+r(t)+".");o=a(t)}u.push(n+o)}return u.push("}"),u.join("")},c=e.__fontmetrics__.uncompress=function(e){if("string"!=typeof e)throw new Error("Invalid argument passed to uncompress.");for(var t,r,i,o,s={},a=1,c=s,u=[],l="",h="",d=e.length-1,f=1;f<d;f+=1)"'"==(o=e[f])?t?(i=t.join(""),t=void 0):t=[]:t?t.push(o):"{"==o?(u.push([c,i]),c={},i=void 0):"}"==o?((r=u.pop())[0][r[1]]=c,i=void 0,c=r[0]):"-"==o?a=-1:void 0===i?n.hasOwnProperty(o)?(l+=n[o],i=parseInt(l,16)*a,a=1,l=""):l+=o:n.hasOwnProperty(o)?(h+=n[o],c[i]=parseInt(h,16)*a,a=1,i=void 0,h=""):h+=o;return s},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},l={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},h={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(e){var t=e.font,n=h.Unicode[t.postScriptName];n&&(t.metadata.Unicode={},t.metadata.Unicode.widths=n.widths,t.metadata.Unicode.kerning=n.kerning);var r=l.Unicode[t.postScriptName];r&&(t.metadata.Unicode.encoding=r,t.encoding=r.codePages[0])}])}(Ne.API),function(e){var t=function(e){for(var t=e.length,n=new Uint8Array(t),r=0;r<t;r++)n[r]=e.charCodeAt(r);return n};e.API.events.push(["addFont",function(n){var r=void 0,i=n.font,o=n.instance;if(!i.isStandardFont){if(void 0===o)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if("string"!=typeof(r=!1===o.existsFileInVFS(i.postScriptName)?o.loadFile(i.postScriptName):o.getFileFromVFS(i.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");!function(n,r){r=/^\x00\x01\x00\x00/.test(r)?t(r):t(te(r)),n.metadata=e.API.TTFFont.open(r),n.metadata.Unicode=n.metadata.Unicode||{encoding:{},kerning:{},widths:[]},n.metadata.glyIdsUsed=[0]}(i,r)}}])}(Ne),function(e){function t(){return(Z.canvg?Promise.resolve(Z.canvg):n.e(419).then(n.bind(n,26419))).catch((function(e){return Promise.reject(new Error("Could not load canvg: "+e))})).then((function(e){return e.default?e.default:e}))}Ne.API.addSvgAsImage=function(e,n,r,i,o,s,a,c){if(isNaN(n)||isNaN(r))throw J.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(o))throw J.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=i,u.height=o;var l=u.getContext("2d");l.fillStyle="#fff",l.fillRect(0,0,u.width,u.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d=this;return t().then((function(t){return t.fromString(l,e,h)}),(function(){return Promise.reject(new Error("Could not load canvg."))})).then((function(e){return e.render(h)})).then((function(){d.addImage(u.toDataURL("image/jpeg",1),n,r,i,o,a,c)}))}}(),Ne.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(t,n);return this},Ne.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var i,o,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(a),u=[],l=0,h=0,d=0;function f(e,t){var n,r=!1;for(n=0;n<e.length;n+=1)e[n]===t&&(r=!0);return r}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,"reset"===e||!0===t){var p=c.length;for(d=0;d<p;d+=1)n[c[d]].value=n[c[d]].defaultValue,n[c[d]].explicitSet=!1}if("object"===r(e))for(o in e)if(s=e[o],f(c,o)&&void 0!==s){if("boolean"===n[o].type&&"boolean"==typeof s)n[o].value=s;else if("name"===n[o].type&&f(n[o].valueSet,s))n[o].value=s;else if("integer"===n[o].type&&Number.isInteger(s))n[o].value=s;else if("array"===n[o].type){for(l=0;l<s.length;l+=1)if(i=!0,1===s[l].length&&"number"==typeof s[l][0])u.push(String(s[l]-1));else if(s[l].length>1){for(h=0;h<s[l].length;h+=1)"number"!=typeof s[l][h]&&(i=!1);!0===i&&u.push([s[l][0]-1,s[l][1]-1].join(" "))}n[o].value="["+u.join(" ")+"]"}else n[o].value=n[o].defaultValue;n[o].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",(function(){var e,t=[];for(e in n)!0===n[e].explicitSet&&("name"===n[e].type?t.push("/"+e+" /"+n[e].value):t.push("/"+e+" "+n[e].value));0!==t.length&&this.internal.write("/ViewerPreferences\n<<\n"+t.join("\n")+"\n>>")})),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var e='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',t=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),n=unescape(encodeURIComponent(e)),r=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),i=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),o=unescape(encodeURIComponent("</x:xmpmeta>")),s=n.length+r.length+i.length+t.length+o.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+s+" >>"),this.internal.write("stream"),this.internal.write(t+n+r+i+o),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(e,r){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:e,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(Ne.API),function(e){var t=e.API,n=t.pdfEscape16=function(e,t){for(var n,r=t.metadata.Unicode.widths,i=["","0","00","000","0000"],o=[""],s=0,a=e.length;s<a;++s){if(n=t.metadata.characterToGlyph(e.charCodeAt(s)),t.metadata.glyIdsUsed.push(n),t.metadata.toUnicode[n]=e.charCodeAt(s),-1==r.indexOf(n)&&(r.push(n),r.push([parseInt(t.metadata.widthOfGlyph(n),10)])),"0"==n)return o.join("");n=n.toString(16),o.push(i[4-n.length],n)}return o.join("")},r=function(e){var t,n,r,i,o,s,a;for(o="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",r=[],s=0,a=(n=Object.keys(e).sort((function(e,t){return e-t}))).length;s<a;s++)t=n[s],r.length>=100&&(o+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar",r=[]),void 0!==e[t]&&null!==e[t]&&"function"==typeof e[t].toString&&(i=("0000"+e[t].toString(16)).slice(-4),t=("0000"+(+t).toString(16)).slice(-4),r.push("<"+t+"><"+i+">"));return r.length&&(o+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar\n"),o+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};t.events.push(["putFont",function(t){!function(t){var n=t.font,i=t.out,o=t.newObject,s=t.putStream;if(n.metadata instanceof e.API.TTFFont&&"Identity-H"===n.encoding){for(var a=n.metadata.Unicode.widths,c=n.metadata.subset.encode(n.metadata.glyIdsUsed,1),u="",l=0;l<c.length;l++)u+=String.fromCharCode(c[l]);var h=o();s({data:u,addLength1:!0,objectId:h}),i("endobj");var d=o();s({data:r(n.metadata.toUnicode),addLength1:!0,objectId:d}),i("endobj");var f=o();i("<<"),i("/Type /FontDescriptor"),i("/FontName /"+_e(n.fontName)),i("/FontFile2 "+h+" 0 R"),i("/FontBBox "+e.API.PDFObject.convert(n.metadata.bbox)),i("/Flags "+n.metadata.flags),i("/StemV "+n.metadata.stemV),i("/ItalicAngle "+n.metadata.italicAngle),i("/Ascent "+n.metadata.ascender),i("/Descent "+n.metadata.decender),i("/CapHeight "+n.metadata.capHeight),i(">>"),i("endobj");var p=o();i("<<"),i("/Type /Font"),i("/BaseFont /"+_e(n.fontName)),i("/FontDescriptor "+f+" 0 R"),i("/W "+e.API.PDFObject.convert(a)),i("/CIDToGIDMap /Identity"),i("/DW 1000"),i("/Subtype /CIDFontType2"),i("/CIDSystemInfo"),i("<<"),i("/Supplement 0"),i("/Registry (Adobe)"),i("/Ordering ("+n.encoding+")"),i(">>"),i(">>"),i("endobj"),n.objectNumber=o(),i("<<"),i("/Type /Font"),i("/Subtype /Type0"),i("/ToUnicode "+d+" 0 R"),i("/BaseFont /"+_e(n.fontName)),i("/Encoding /"+n.encoding),i("/DescendantFonts ["+p+" 0 R]"),i(">>"),i("endobj"),n.isAlreadyPutted=!0}}(t)}]),t.events.push(["putFont",function(t){!function(t){var n=t.font,i=t.out,o=t.newObject,s=t.putStream;if(n.metadata instanceof e.API.TTFFont&&"WinAnsiEncoding"===n.encoding){for(var a=n.metadata.rawData,c="",u=0;u<a.length;u++)c+=String.fromCharCode(a[u]);var l=o();s({data:c,addLength1:!0,objectId:l}),i("endobj");var h=o();s({data:r(n.metadata.toUnicode),addLength1:!0,objectId:h}),i("endobj");var d=o();i("<<"),i("/Descent "+n.metadata.decender),i("/CapHeight "+n.metadata.capHeight),i("/StemV "+n.metadata.stemV),i("/Type /FontDescriptor"),i("/FontFile2 "+l+" 0 R"),i("/Flags 96"),i("/FontBBox "+e.API.PDFObject.convert(n.metadata.bbox)),i("/FontName /"+_e(n.fontName)),i("/ItalicAngle "+n.metadata.italicAngle),i("/Ascent "+n.metadata.ascender),i(">>"),i("endobj"),n.objectNumber=o();for(var f=0;f<n.metadata.hmtx.widths.length;f++)n.metadata.hmtx.widths[f]=parseInt(n.metadata.hmtx.widths[f]*(1e3/n.metadata.head.unitsPerEm));i("<</Subtype/TrueType/Type/Font/ToUnicode "+h+" 0 R/BaseFont/"+_e(n.fontName)+"/FontDescriptor "+d+" 0 R/Encoding/"+n.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(n.metadata.hmtx.widths)+">>"),i("endobj"),n.isAlreadyPutted=!0}}(t)}]);var i=function(e){var t,r=e.text||"",i=e.x,o=e.y,s=e.options||{},a=e.mutex||{},c=a.pdfEscape,u=a.activeFontKey,l=a.fonts,h=u,d="",f=0,p="",m=l[h].encoding;if("Identity-H"!==l[h].encoding)return{text:r,x:i,y:o,options:s,mutex:a};for(p=r,h=u,Array.isArray(r)&&(p=r[0]),f=0;f<p.length;f+=1)l[h].metadata.hasOwnProperty("cmap")&&(t=l[h].metadata.cmap.unicode.codeMap[p[f].charCodeAt(0)]),t||p[f].charCodeAt(0)<256&&l[h].metadata.hasOwnProperty("Unicode")?d+=p[f]:d+="";var g="";return parseInt(h.slice(1))<14||"WinAnsiEncoding"===m?g=c(d,h).split("").map((function(e){return e.charCodeAt(0).toString(16)})).join(""):"Identity-H"===m&&(g=n(d,l[h])),a.isHex=!0,{text:g,x:i,y:o,options:s,mutex:a}};t.events.push(["postProcessText",function(e){var t=e.text||"",n=[],r={text:t,x:e.x,y:e.y,options:e.options,mutex:e.mutex};if(Array.isArray(t)){var o=0;for(o=0;o<t.length;o+=1)Array.isArray(t[o])&&3===t[o].length?n.push([i(Object.assign({},r,{text:t[o][0]})).text,t[o][1],t[o][2]]):n.push(i(Object.assign({},r,{text:t[o]})).text);e.text=n}else e.text=i(Object.assign({},r,{text:t})).text}])}(Ne),function(e){var t=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]},e.addFileToVFS=function(e,n){return t.call(this),this.internal.vFS[e]=n,this},e.getFileFromVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]?this.internal.vFS[e]:null}}(Ne.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(e){var n,r,i,o,s,a,c,u=t,l=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],d={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},f={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},p=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],m=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),g=!1,v=0;this.__bidiEngine__={};var y=function(e){var t=e.charCodeAt(),n=t>>8,r=f[n];return void 0!==r?u[256*r+(255&t)]:252===n||253===n?"AL":m.test(n)?"L":8===n?"R":"N"},b=function(e){for(var t,n=0;n<e.length;n++){if("L"===(t=y(e.charAt(n))))return!1;if("R"===t)return!0}return!1},w=function(e,t,s,a){var c,u,l,h,d=t[a];switch(d){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":g=!1;break;case"N":case"AN":break;case"EN":g&&(d="AN");break;case"AL":g=!0,d="R";break;case"WS":case"BN":d="N";break;case"CS":a<1||a+1>=t.length||"EN"!==(c=s[a-1])&&"AN"!==c||"EN"!==(u=t[a+1])&&"AN"!==u?d="N":g&&(u="AN"),d=u===c?u:"N";break;case"ES":d="EN"===(c=a>0?s[a-1]:"B")&&a+1<t.length&&"EN"===t[a+1]?"EN":"N";break;case"ET":if(a>0&&"EN"===s[a-1]){d="EN";break}if(g){d="N";break}for(l=a+1,h=t.length;l<h&&"ET"===t[l];)l++;d=l<h&&"EN"===t[l]?"EN":"N";break;case"NSM":if(i&&!o){for(h=t.length,l=a+1;l<h&&"NSM"===t[l];)l++;if(l<h){var f=e[a],p=f>=1425&&f<=2303||64286===f;if(c=t[l],p&&("R"===c||"AL"===c)){d="R";break}}}d=a<1||"B"===(c=t[a-1])?"N":s[a-1];break;case"B":g=!1,n=!0,d=v;break;case"S":r=!0,d="N"}return d},S=function(e,t,n){var r=e.split("");return n&&_(r,n,{hiLevel:v}),r.reverse(),t&&t.reverse(),r.join("")},_=function(e,t,i){var o,s,a,c,u,f=-1,p=e.length,m=0,b=[],S=v?h:l,_=[];for(g=!1,n=!1,r=!1,s=0;s<p;s++)_[s]=y(e[s]);for(a=0;a<p;a++){if(u=m,b[a]=w(e,_,b,a),o=240&(m=S[u][d[b[a]]]),m&=15,t[a]=c=S[m][5],o>0)if(16===o){for(s=f;s<a;s++)t[s]=1;f=-1}else f=-1;if(S[m][6])-1===f&&(f=a);else if(f>-1){for(s=f;s<a;s++)t[s]=c;f=-1}"B"===_[a]&&(t[a]=0),i.hiLevel|=c}r&&function(e,t,n){for(var r=0;r<n;r++)if("S"===e[r]){t[r]=v;for(var i=r-1;i>=0&&"WS"===e[i];i--)t[i]=v}}(_,t,p)},x=function(e,t,r,i,o){if(!(o.hiLevel<e)){if(1===e&&1===v&&!n)return t.reverse(),void(r&&r.reverse());for(var s,a,c,u,l=t.length,h=0;h<l;){if(i[h]>=e){for(c=h+1;c<l&&i[c]>=e;)c++;for(u=h,a=c-1;u<a;u++,a--)s=t[u],t[u]=t[a],t[a]=s,r&&(s=r[u],r[u]=r[a],r[a]=s);h=c}h++}}},C=function(e,t,n){var r=e.split(""),i={hiLevel:v};return n||(n=[]),_(r,n,i),function(e,t,n){if(0!==n.hiLevel&&c)for(var r,i=0;i<e.length;i++)1===t[i]&&(r=p.indexOf(e[i]))>=0&&(e[i]=p[r+1])}(r,n,i),x(2,r,t,n,i),x(1,r,t,n,i),r.join("")};return this.__bidiEngine__.doBidiReorder=function(e,t,n){if(function(e,t){if(t)for(var n=0;n<e.length;n++)t[n]=n;void 0===o&&(o=b(e)),void 0===a&&(a=b(e))}(e,t),i||!s||a)if(i&&s&&o^a)v=o?1:0,e=S(e,t,n);else if(!i&&s&&a)v=o?1:0,e=C(e,t,n),e=S(e,t);else if(!i||o||s||a){if(i&&!s&&o^a)e=S(e,t),o?(v=0,e=C(e,t,n)):(v=1,e=C(e,t,n),e=S(e,t));else if(i&&o&&!s&&a)v=1,e=C(e,t,n),e=S(e,t);else if(!i&&!s&&o^a){var r=c;o?(v=1,e=C(e,t,n),v=0,c=!1,e=C(e,t,n),c=r):(v=0,e=C(e,t,n),e=S(e,t),v=1,c=!1,e=C(e,t,n),c=r,e=S(e,t))}}else v=0,e=C(e,t,n);else v=o?1:0,e=C(e,t,n);return e},this.__bidiEngine__.setOptions=function(e){e&&(i=e.isInputVisual,s=e.isOutputVisual,o=e.isInputRtl,a=e.isOutputRtl,c=e.isSymmetricSwapping)},this.__bidiEngine__.setOptions(e),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(e){var t=e.text,r=(e.x,e.y,e.options||{}),i=(e.mutex,r.lang,[]);if(r.isInputVisual="boolean"!=typeof r.isInputVisual||r.isInputVisual,n.setOptions(r),"[object Array]"===Object.prototype.toString.call(t)){var o=0;for(i=[],o=0;o<t.length;o+=1)"[object Array]"===Object.prototype.toString.call(t[o])?i.push([n.doBidiReorder(t[o][0]),t[o][1],t[o][2]]):i.push([n.doBidiReorder(t[o])]);e.text=i}else e.text=n.doBidiReorder(t);n.setOptions({isInputVisual:!0})}])}(Ne),Ne.API.TTFFont=function(){function e(e){var t;if(this.rawData=e,t=this.contents=new Wt(e),this.contents.pos=4,"ttcf"===t.readString(4))throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new fn(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new Kt(this.contents),this.head=new Jt(this),this.name=new on(this),this.cmap=new Xt(this),this.toUnicode={},this.hhea=new en(this),this.maxp=new sn(this),this.hmtx=new an(this),this.post=new nn(this),this.os2=new tn(this),this.loca=new dn(this),this.glyf=new un(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var e,t,n,r,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var t,n,r,i;for(i=[],t=0,n=(r=this.bbox).length;t<n;t++)e=r[t],i.push(Math.round(e*this.scaleFactor));return i}.call(this),this.stemV=0,this.post.exists?(n=255&(r=this.post.italic_angle),0!=(32768&(t=r>>16))&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(i=this.familyClass)||2===i||3===i||4===i||5===i||7===i,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(e){var t;return(null!=(t=this.cmap.unicode)?t.codeMap[e]:void 0)||0},e.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},e.prototype.widthOfString=function(e,t,n){var r,i,o,s;for(o=0,i=0,s=(e=""+e).length;0<=s?i<s:i>s;i=0<=s?++i:--i)r=e.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(r))+n*(1e3/t)||0;return o*(t/1e3)},e.prototype.lineHeight=function(e,t){var n;return null==t&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},e}();var Vt,Wt=function(){function e(e){this.data=null!=e?e:[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(e){return this.data[this.pos++]=e},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},e.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},e.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},e.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(e){var t,n,r;for(r=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)r.push(this.writeByte(e.charCodeAt(t)));return r},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(e){return this.writeInt16(e)},e.prototype.readLongLong=function(){var e,t,n,r,i,o,s,a;return e=this.readByte(),t=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),o=this.readByte(),s=this.readByte(),a=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^r)+16777216*(255^i)+65536*(255^o)+256*(255^s)+(255^a)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*r+16777216*i+65536*o+256*s+a},e.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(e){return this.writeInt32(e)},e.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},e.prototype.write=function(e){var t,n,r,i;for(i=[],n=0,r=e.length;n<r;n++)t=e[n],i.push(this.writeByte(t));return i},e}(),Kt=function(){var e;function t(e){var t,n,r;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},n=0,r=this.tableCount;0<=r?n<r:n>r;n=0<=r?++n:--n)t={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[t.tag]=t}return t.prototype.encode=function(t){var n,r,i,o,s,a,c,u,l,h,d,f,p;for(p in d=Object.keys(t).length,a=Math.log(2),l=16*Math.floor(Math.log(d)/a),o=Math.floor(l/a),u=16*d-l,(r=new Wt).writeInt(this.scalarType),r.writeShort(d),r.writeShort(l),r.writeShort(o),r.writeShort(u),i=16*d,c=r.pos+i,s=null,f=[],t)for(h=t[p],r.writeString(p),r.writeInt(e(h)),r.writeInt(c),r.writeInt(h.length),f=f.concat(h),"head"===p&&(s=c),c+=h.length;c%4;)f.push(0),c++;return r.write(f),n=2981146554-e(r.data),r.pos=s+8,r.writeUInt32(n),r.data},e=function(e){var t,n,r,i;for(e=cn.call(e);e.length%4;)e.push(0);for(r=new Wt(e),n=0,t=0,i=e.length;t<i;t=t+=4)n+=r.readUInt32();return 4294967295&n},t}(),Zt={}.hasOwnProperty,Yt=function(e,t){for(var n in t)Zt.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};Vt=function(){function e(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var Jt=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Yt(t,Vt),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var t;return(t=new Wt).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},t}(),Qt=function(){function e(e,t){var n,r,i,o,s,a,c,u,l,h,d,f,p,m,g,v,y;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),l=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(a=0;a<256;++a)this.codeMap[a]=e.readByte();break;case 4:for(d=e.readUInt16(),h=d/2,e.pos+=6,i=function(){var t,n;for(n=[],a=t=0;0<=h?t<h:t>h;a=0<=h?++t:--t)n.push(e.readUInt16());return n}(),e.pos+=2,p=function(){var t,n;for(n=[],a=t=0;0<=h?t<h:t>h;a=0<=h?++t:--t)n.push(e.readUInt16());return n}(),c=function(){var t,n;for(n=[],a=t=0;0<=h?t<h:t>h;a=0<=h?++t:--t)n.push(e.readUInt16());return n}(),u=function(){var t,n;for(n=[],a=t=0;0<=h?t<h:t>h;a=0<=h?++t:--t)n.push(e.readUInt16());return n}(),r=(this.length-e.pos+this.offset)/2,s=function(){var t,n;for(n=[],a=t=0;0<=r?t<r:t>r;a=0<=r?++t:--t)n.push(e.readUInt16());return n}(),a=g=0,y=i.length;g<y;a=++g)for(m=i[a],n=v=f=p[a];f<=m?v<=m:v>=m;n=f<=m?++v:--v)0===u[a]?o=n+c[a]:0!==(o=s[u[a]/2+(n-f)-(h-a)]||0)&&(o+=c[a]),this.codeMap[n]=65535&o}e.pos=l}return e.encode=function(e,t){var n,r,i,o,s,a,c,u,l,h,d,f,p,m,g,v,y,b,w,S,_,x,C,E,k,A,N,T,P,O,I,R,L,M,D,j,F,B,q,U,z,$,H,G,V,W;switch(T=new Wt,o=Object.keys(e).sort((function(e,t){return e-t})),t){case"macroman":for(p=0,m=function(){var e=[];for(f=0;f<256;++f)e.push(0);return e}(),v={0:0},i={},P=0,L=o.length;P<L;P++)null==v[H=e[r=o[P]]]&&(v[H]=++p),i[r]={old:e[r],new:v[e[r]]},m[r]=v[e[r]];return T.writeUInt16(1),T.writeUInt16(0),T.writeUInt32(12),T.writeUInt16(0),T.writeUInt16(262),T.writeUInt16(0),T.write(m),{charMap:i,subtable:T.data,maxGlyphID:p+1};case"unicode":for(A=[],l=[],y=0,v={},n={},g=c=null,O=0,M=o.length;O<M;O++)null==v[w=e[r=o[O]]]&&(v[w]=++y),n[r]={old:w,new:v[w]},s=v[w]-r,null!=g&&s===c||(g&&l.push(g),A.push(r),c=s),g=r;for(g&&l.push(g),l.push(65535),A.push(65535),E=2*(C=A.length),x=2*Math.pow(Math.log(C)/Math.LN2,2),h=Math.log(x/2)/Math.LN2,_=2*C-x,a=[],S=[],d=[],f=I=0,D=A.length;I<D;f=++I){if(k=A[f],u=l[f],65535===k){a.push(0),S.push(0);break}if(k-(N=n[k].new)>=32768)for(a.push(0),S.push(2*(d.length+C-f)),r=R=k;k<=u?R<=u:R>=u;r=k<=u?++R:--R)d.push(n[r].new);else a.push(N-k),S.push(0)}for(T.writeUInt16(3),T.writeUInt16(1),T.writeUInt32(12),T.writeUInt16(4),T.writeUInt16(16+8*C+2*d.length),T.writeUInt16(0),T.writeUInt16(E),T.writeUInt16(x),T.writeUInt16(h),T.writeUInt16(_),z=0,j=l.length;z<j;z++)r=l[z],T.writeUInt16(r);for(T.writeUInt16(0),$=0,F=A.length;$<F;$++)r=A[$],T.writeUInt16(r);for(G=0,B=a.length;G<B;G++)s=a[G],T.writeUInt16(s);for(V=0,q=S.length;V<q;V++)b=S[V],T.writeUInt16(b);for(W=0,U=d.length;W<U;W++)p=d[W],T.writeUInt16(p);return{charMap:n,subtable:T.data,maxGlyphID:y+1}}},e}(),Xt=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Yt(t,Vt),t.prototype.tag="cmap",t.prototype.parse=function(e){var t,n,r;for(e.pos=this.offset,this.version=e.readUInt16(),r=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=r?n<r:n>r;n=0<=r?++n:--n)t=new Qt(e,this.offset),this.tables.push(t),t.isUnicode&&null==this.unicode&&(this.unicode=t);return!0},t.encode=function(e,t){var n,r;return null==t&&(t="macroman"),n=Qt.encode(e,t),(r=new Wt).writeUInt16(0),r.writeUInt16(1),n.table=r.data.concat(n.subtable),n},t}(),en=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Yt(t,Vt),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),tn=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Yt(t,Vt),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var t,n;for(n=[],t=0;t<10;++t)n.push(e.readByte());return n}(),this.charRange=function(){var t,n;for(n=[],t=0;t<4;++t)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var t,n;for(n=[],t=0;t<2;t=++t)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),nn=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Yt(t,Vt),t.prototype.tag="post",t.prototype.parse=function(e){var t,n,r;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(n=e.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],r=[];e.pos<this.offset+this.length;)t=e.readByte(),r.push(this.names.push(e.readString(t)));return r;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=function(){var t,n,r;for(r=[],i=t=0,n=this.file.maxp.numGlyphs;0<=n?t<n:t>n;i=0<=n?++t:--t)r.push(e.readUInt32());return r}.call(this)}},t}(),rn=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},on=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Yt(t,Vt),t.prototype.tag="name",t.prototype.parse=function(e){var t,n,r,i,o,s,a,c,u,l,h;for(e.pos=this.offset,e.readShort(),t=e.readShort(),s=e.readShort(),n=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+s+e.readShort()});for(a={},i=u=0,l=n.length;u<l;i=++u)r=n[i],e.pos=r.offset,c=e.readString(r.length),o=new rn(c,r),null==a[h=r.nameID]&&(a[h]=[]),a[r.nameID].push(o);this.strings=a,this.copyright=a[0],this.fontFamily=a[1],this.fontSubfamily=a[2],this.uniqueSubfamily=a[3],this.fontName=a[4],this.version=a[5];try{this.postscriptName=a[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(e){this.postscriptName=a[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=a[7],this.manufacturer=a[8],this.designer=a[9],this.description=a[10],this.vendorUrl=a[11],this.designerUrl=a[12],this.license=a[13],this.licenseUrl=a[14],this.preferredFamily=a[15],this.preferredSubfamily=a[17],this.compatibleFull=a[18],this.sampleText=a[19]},t}(),sn=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Yt(t,Vt),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),an=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Yt(t,Vt),t.prototype.tag="hmtx",t.prototype.parse=function(e){var t,n,r,i,o,s,a;for(e.pos=this.offset,this.metrics=[],t=0,s=this.file.hhea.numberOfMetrics;0<=s?t<s:t>s;t=0<=s?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(r=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var n,i;for(i=[],t=n=0;0<=r?n<r:n>r;t=0<=r?++n:--n)i.push(e.readInt16());return i}(),this.widths=function(){var e,t,n,r;for(r=[],e=0,t=(n=this.metrics).length;e<t;e++)i=n[e],r.push(i.advance);return r}.call(this),n=this.widths[this.widths.length-1],a=[],t=o=0;0<=r?o<r:o>r;t=0<=r?++o:--o)a.push(this.widths.push(n));return a},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),cn=[].slice,un=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Yt(t,Vt),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var t,n,r,i,o,s,a,c,u,l;return e in this.cache?this.cache[e]:(i=this.file.loca,t=this.file.contents,n=i.indexOf(e),0===(r=i.lengthOf(e))?this.cache[e]=null:(t.pos=this.offset+n,o=(s=new Wt(t.read(r))).readShort(),c=s.readShort(),l=s.readShort(),a=s.readShort(),u=s.readShort(),this.cache[e]=-1===o?new hn(s,c,l,a,u):new ln(s,o,c,l,a,u),this.cache[e]))},t.prototype.encode=function(e,t,n){var r,i,o,s,a;for(o=[],i=[],s=0,a=t.length;s<a;s++)r=e[t[s]],i.push(o.length),r&&(o=o.concat(r.encode(n)));return i.push(o.length),{table:o,offsets:i}},t}(),ln=function(){function e(e,t,n,r,i,o){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),hn=function(){function e(e,t,n,r,i){var o,s;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=r,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;s=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&s;)o.pos+=1&s?4:2,128&s?o.pos+=8:64&s?o.pos+=4:8&s&&(o.pos+=2)}return e.prototype.encode=function(){var e,t,n;for(t=new Wt(cn.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},e}(),dn=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Yt(t,Vt),t.prototype.tag="loca",t.prototype.parse=function(e){var t,n;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=0===t?function(){var t,r;for(r=[],n=0,t=this.length;n<t;n+=2)r.push(2*e.readUInt16());return r}.call(this):function(){var t,r;for(r=[],n=0,t=this.length;n<t;n+=4)r.push(e.readUInt32());return r}.call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,t){for(var n=new Uint32Array(this.offsets.length),r=0,i=0,o=0;o<n.length;++o)if(n[o]=r,i<t.length&&t[i]==o){++i,n[o]=r;var s=this.offsets[o],a=this.offsets[o+1]-s;a>0&&(r+=a)}for(var c=new Array(4*n.length),u=0;u<n.length;++u)c[4*u+3]=255&n[u],c[4*u+2]=(65280&n[u])>>8,c[4*u+1]=(16711680&n[u])>>16,c[4*u]=(4278190080&n[u])>>24;return c},t}(),fn=function(){function e(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var e,t,n,r,i;for(t in r=this.font.cmap.tables[0].codeMap,e={},i=this.subset)n=i[t],e[t]=r[n];return e},e.prototype.glyphsFor=function(e){var t,n,r,i,o,s,a;for(r={},o=0,s=e.length;o<s;o++)r[i=e[o]]=this.font.glyf.glyphFor(i);for(i in t=[],r)(null!=(n=r[i])?n.compound:void 0)&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(i in a=this.glyphsFor(t))n=a[i],r[i]=n;return r},e.prototype.encode=function(e,t){var n,r,i,o,s,a,c,u,l,h,d,f,p,m,g;for(r in n=Xt.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),d={0:0},g=n.charMap)d[(a=g[r]).old]=a.new;for(f in h=n.maxGlyphID,o)f in d||(d[f]=h++);return u=function(e){var t,n;for(t in n={},e)n[e[t]]=t;return n}(d),l=Object.keys(u).sort((function(e,t){return e-t})),p=function(){var e,t,n;for(n=[],e=0,t=l.length;e<t;e++)s=l[e],n.push(u[s]);return n}(),i=this.font.glyf.encode(o,p,d),c=this.font.loca.encode(i.offsets,p),m={cmap:this.font.cmap.raw(),glyf:i.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(m["OS/2"]=this.font.os2.raw()),this.font.directory.encode(m)},e}();Ne.API.PDFObject=function(){var e;function t(){}return e=function(e,t){return(Array(t+1).join("0")+e).slice(-t)},t.convert=function(n){var r,i,o,s;if(Array.isArray(n))return"["+function(){var e,i,o;for(o=[],e=0,i=n.length;e<i;e++)r=n[e],o.push(t.convert(r));return o}().join(" ")+"]";if("string"==typeof n)return"/"+n;if(null!=n?n.isString:void 0)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(n)){for(i in o=["<<"],n)s=n[i],o.push("/"+i+" "+t.convert(s));return o.push(">>"),o.join("\n")}return""+n},t}();const pn=Ne},69577:(e,t)=>{var n,r,i,o,s,a,c,u,l,h,d,f={userAgent:!1},p={},m=m||(n=Math,i=(r={}).lib={},o=i.Base=function(){function e(){}return{extend:function(t){e.prototype=this;var n=new e;return t&&n.mixIn(t),n.hasOwnProperty("init")||(n.init=function(){n.$super.init.apply(this,arguments)}),n.init.prototype=n,n.$super=this,n},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),s=i.WordArray=o.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||c).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++){var s=n[o>>>2]>>>24-o%4*8&255;t[r+o>>>2]|=s<<24-(r+o)%4*8}else for(o=0;o<i;o+=4)t[r+o>>>2]=n[o>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,t=this.sigBytes;e[t>>>2]&=4294967295<<32-t%4*8,e.length=n.ceil(t/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],r=0;r<e;r+=4)t.push(4294967296*n.random()|0);return new s.init(t,e)}}),a=r.enc={},c=a.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new s.init(n,t/2)}},u=a.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new s.init(n,t)}},l=a.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},h=i.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=l.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(e){var t=this._data,r=t.words,i=t.sigBytes,o=this.blockSize,a=i/(4*o),c=(a=e?n.ceil(a):n.max((0|a)-this._minBufferSize,0))*o,u=n.min(4*c,i);if(c){for(var l=0;l<c;l+=o)this._doProcessBlock(r,l);var h=r.splice(0,c);t.sigBytes-=u}return new s.init(h,u)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),i.Hasher=h.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new d.HMAC.init(e,n).finalize(t)}}}),d=r.algo={},r);!function(e){var t,n=(t=m).lib,r=n.Base,i=n.WordArray;(t=t.x64={}).Word=r.extend({init:function(e,t){this.high=e,this.low=t}}),t.WordArray=r.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,n=[],r=0;r<t;r++){var o=e[r];n.push(o.high),n.push(o.low)}return i.create(n,this.sigBytes)},clone:function(){for(var e=r.clone.call(this),t=e.words=this.words.slice(0),n=t.length,i=0;i<n;i++)t[i]=t[i].clone();return e}})}(),m.lib.Cipher||function(e){var t=(f=m).lib,n=t.Base,r=t.WordArray,i=t.BufferedBlockAlgorithm,o=f.enc.Base64,s=f.algo.EvpKDF,a=t.Cipher=i.extend({cfg:n.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){i.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(e){return{encrypt:function(t,n,r){return("string"==typeof n?p:d).encrypt(e,t,n,r)},decrypt:function(t,n,r){return("string"==typeof n?p:d).decrypt(e,t,n,r)}}}});t.StreamCipher=a.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var c=f.mode={},u=function(e,t,n){var r=this._iv;r?this._iv=void 0:r=this._prevBlock;for(var i=0;i<n;i++)e[t+i]^=r[i]},l=(t.BlockCipherMode=n.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}})).extend();l.Encryptor=l.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize;u.call(this,e,t,r),n.encryptBlock(e,t),this._prevBlock=e.slice(t,t+r)}}),l.Decryptor=l.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,i=e.slice(t,t+r);n.decryptBlock(e,t),u.call(this,e,t,r),this._prevBlock=i}}),c=c.CBC=l,l=(f.pad={}).Pkcs7={pad:function(e,t){for(var n,i=(n=(n=4*t)-e.sigBytes%n)<<24|n<<16|n<<8|n,o=[],s=0;s<n;s+=4)o.push(i);n=r.create(o,n),e.concat(n)},unpad:function(e){e.sigBytes-=255&e.words[e.sigBytes-1>>>2]}},t.BlockCipher=a.extend({cfg:a.cfg.extend({mode:c,padding:l}),reset:function(){a.reset.call(this);var e=(t=this.cfg).iv,t=t.mode;if(this._xformMode==this._ENC_XFORM_MODE)var n=t.createEncryptor;else n=t.createDecryptor,this._minBufferSize=1;this._mode=n.call(t,this,e&&e.words)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else t=this._process(!0),e.unpad(t);return t},blockSize:4});var h=t.CipherParams=n.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),d=(c=(f.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext;return((e=e.salt)?r.create([1398893684,1701076831]).concat(e).concat(t):t).toString(o)},parse:function(e){var t=(e=o.parse(e)).words;if(1398893684==t[0]&&1701076831==t[1]){var n=r.create(t.slice(2,4));t.splice(0,4),e.sigBytes-=16}return h.create({ciphertext:e,salt:n})}},t.SerializableCipher=n.extend({cfg:n.extend({format:c}),encrypt:function(e,t,n,r){r=this.cfg.extend(r);var i=e.createEncryptor(n,r);return t=i.finalize(t),i=i.cfg,h.create({ciphertext:t,key:n,iv:i.iv,algorithm:e,mode:i.mode,padding:i.padding,blockSize:e.blockSize,formatter:r.format})},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),e.createDecryptor(n,r).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}})),f=(f.kdf={}).OpenSSL={execute:function(e,t,n,i){return i||(i=r.random(8)),e=s.create({keySize:t+n}).compute(e,i),n=r.create(e.words.slice(t),4*n),e.sigBytes=4*t,h.create({key:e,iv:n,salt:i})}},p=t.PasswordBasedCipher=d.extend({cfg:d.cfg.extend({kdf:f}),encrypt:function(e,t,n,r){return n=(r=this.cfg.extend(r)).kdf.execute(n,e.keySize,e.ivSize),r.iv=n.iv,(e=d.encrypt.call(this,e,t,n.key,r)).mixIn(n),e},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),n=r.kdf.execute(n,e.keySize,e.ivSize,t.salt),r.iv=n.iv,d.decrypt.call(this,e,t,n.key,r)}})}(),function(){for(var e=m,t=e.lib.BlockCipher,n=e.algo,r=[],i=[],o=[],s=[],a=[],c=[],u=[],l=[],h=[],d=[],f=[],p=0;256>p;p++)f[p]=128>p?p<<1:p<<1^283;var g=0,v=0;for(p=0;256>p;p++){var y=(y=v^v<<1^v<<2^v<<3^v<<4)>>>8^255&y^99;r[g]=y,i[y]=g;var b=f[g],w=f[b],S=f[w],_=257*f[y]^16843008*y;o[g]=_<<24|_>>>8,s[g]=_<<16|_>>>16,a[g]=_<<8|_>>>24,c[g]=_,_=16843009*S^65537*w^257*b^16843008*g,u[y]=_<<24|_>>>8,l[y]=_<<16|_>>>16,h[y]=_<<8|_>>>24,d[y]=_,g?(g=b^f[f[f[S^b]]],v^=f[f[v]]):g=v=1}var x=[0,1,2,4,8,16,32,64,128,27,54];n=n.AES=t.extend({_doReset:function(){for(var e=(n=this._key).words,t=n.sigBytes/4,n=4*((this._nRounds=t+6)+1),i=this._keySchedule=[],o=0;o<n;o++)if(o<t)i[o]=e[o];else{var s=i[o-1];o%t?6<t&&4==o%t&&(s=r[s>>>24]<<24|r[s>>>16&255]<<16|r[s>>>8&255]<<8|r[255&s]):(s=r[(s=s<<8|s>>>24)>>>24]<<24|r[s>>>16&255]<<16|r[s>>>8&255]<<8|r[255&s],s^=x[o/t|0]<<24),i[o]=i[o-t]^s}for(e=this._invKeySchedule=[],t=0;t<n;t++)o=n-t,s=t%4?i[o]:i[o-4],e[t]=4>t||4>=o?s:u[r[s>>>24]]^l[r[s>>>16&255]]^h[r[s>>>8&255]]^d[r[255&s]]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,o,s,a,c,r)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,u,l,h,d,i),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,r,i,o,s,a){for(var c=this._nRounds,u=e[t]^n[0],l=e[t+1]^n[1],h=e[t+2]^n[2],d=e[t+3]^n[3],f=4,p=1;p<c;p++){var m=r[u>>>24]^i[l>>>16&255]^o[h>>>8&255]^s[255&d]^n[f++],g=r[l>>>24]^i[h>>>16&255]^o[d>>>8&255]^s[255&u]^n[f++],v=r[h>>>24]^i[d>>>16&255]^o[u>>>8&255]^s[255&l]^n[f++];d=r[d>>>24]^i[u>>>16&255]^o[l>>>8&255]^s[255&h]^n[f++],u=m,l=g,h=v}m=(a[u>>>24]<<24|a[l>>>16&255]<<16|a[h>>>8&255]<<8|a[255&d])^n[f++],g=(a[l>>>24]<<24|a[h>>>16&255]<<16|a[d>>>8&255]<<8|a[255&u])^n[f++],v=(a[h>>>24]<<24|a[d>>>16&255]<<16|a[u>>>8&255]<<8|a[255&l])^n[f++],d=(a[d>>>24]<<24|a[u>>>16&255]<<16|a[l>>>8&255]<<8|a[255&h])^n[f++],e[t]=m,e[t+1]=g,e[t+2]=v,e[t+3]=d},keySize:8}),e.AES=t._createHelper(n)}(),function(){function e(e,t){var n=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=n,this._lBlock^=n<<e}function t(e,t){var n=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=n,this._rBlock^=n<<e}var n=m,r=(i=n.lib).WordArray,i=i.BlockCipher,o=n.algo,s=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],a=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],u=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],l=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],h=o.DES=i.extend({_doReset:function(){for(var e=this._key.words,t=[],n=0;56>n;n++){var r=s[n]-1;t[n]=e[r>>>5]>>>31-r%32&1}for(e=this._subKeys=[],r=0;16>r;r++){var i=e[r]=[],o=c[r];for(n=0;24>n;n++)i[n/6|0]|=t[(a[n]-1+o)%28]<<31-n%6,i[4+(n/6|0)]|=t[28+(a[n+24]-1+o)%28]<<31-n%6;for(i[0]=i[0]<<1|i[0]>>>31,n=1;7>n;n++)i[n]>>>=4*(n-1)+3;i[7]=i[7]<<5|i[7]>>>27}for(t=this._invSubKeys=[],n=0;16>n;n++)t[n]=e[15-n]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(n,r,i){this._lBlock=n[r],this._rBlock=n[r+1],e.call(this,4,252645135),e.call(this,16,65535),t.call(this,2,858993459),t.call(this,8,16711935),e.call(this,1,1431655765);for(var o=0;16>o;o++){for(var s=i[o],a=this._lBlock,c=this._rBlock,h=0,d=0;8>d;d++)h|=u[d][((c^s[d])&l[d])>>>0];this._lBlock=c,this._rBlock=a^h}i=this._lBlock,this._lBlock=this._rBlock,this._rBlock=i,e.call(this,1,1431655765),t.call(this,8,16711935),t.call(this,2,858993459),e.call(this,16,65535),e.call(this,4,252645135),n[r]=this._lBlock,n[r+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});n.DES=i._createHelper(h),o=o.TripleDES=i.extend({_doReset:function(){var e=this._key.words;this._des1=h.createEncryptor(r.create(e.slice(0,2))),this._des2=h.createEncryptor(r.create(e.slice(2,4))),this._des3=h.createEncryptor(r.create(e.slice(4,6)))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2}),n.TripleDES=i._createHelper(o)}(),function(){var e=m,t=e.lib.WordArray;e.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp(),e=[];for(var i=0;i<n;i+=3)for(var o=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,s=0;4>s&&i+.75*s<n;s++)e.push(r.charAt(o>>>6*(3-s)&63));if(t=r.charAt(64))for(;e.length%4;)e.push(t);return e.join("")},parse:function(e){var n=e.length,r=this._map;(i=r.charAt(64))&&-1!=(i=e.indexOf(i))&&(n=i);for(var i=[],o=0,s=0;s<n;s++)if(s%4){var a=r.indexOf(e.charAt(s-1))<<s%4*2,c=r.indexOf(e.charAt(s))>>>6-s%4*2;i[o>>>2]|=(a|c)<<24-o%4*8,o++}return t.create(i,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(e){function t(e,t,n,r,i,o,s){return((e=e+(t&n|~t&r)+i+s)<<o|e>>>32-o)+t}function n(e,t,n,r,i,o,s){return((e=e+(t&r|n&~r)+i+s)<<o|e>>>32-o)+t}function r(e,t,n,r,i,o,s){return((e=e+(t^n^r)+i+s)<<o|e>>>32-o)+t}function i(e,t,n,r,i,o,s){return((e=e+(n^(t|~r))+i+s)<<o|e>>>32-o)+t}for(var o=m,s=(c=o.lib).WordArray,a=c.Hasher,c=o.algo,u=[],l=0;64>l;l++)u[l]=4294967296*e.abs(e.sin(l+1))|0;c=c.MD5=a.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,o){for(var s=0;16>s;s++){var a=e[c=o+s];e[c]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}s=this._hash.words;var c=e[o+0],l=(a=e[o+1],e[o+2]),h=e[o+3],d=e[o+4],f=e[o+5],p=e[o+6],m=e[o+7],g=e[o+8],v=e[o+9],y=e[o+10],b=e[o+11],w=e[o+12],S=e[o+13],_=e[o+14],x=e[o+15],C=t(C=s[0],A=s[1],k=s[2],E=s[3],c,7,u[0]),E=t(E,C,A,k,a,12,u[1]),k=t(k,E,C,A,l,17,u[2]),A=t(A,k,E,C,h,22,u[3]);C=t(C,A,k,E,d,7,u[4]),E=t(E,C,A,k,f,12,u[5]),k=t(k,E,C,A,p,17,u[6]),A=t(A,k,E,C,m,22,u[7]),C=t(C,A,k,E,g,7,u[8]),E=t(E,C,A,k,v,12,u[9]),k=t(k,E,C,A,y,17,u[10]),A=t(A,k,E,C,b,22,u[11]),C=t(C,A,k,E,w,7,u[12]),E=t(E,C,A,k,S,12,u[13]),k=t(k,E,C,A,_,17,u[14]),C=n(C,A=t(A,k,E,C,x,22,u[15]),k,E,a,5,u[16]),E=n(E,C,A,k,p,9,u[17]),k=n(k,E,C,A,b,14,u[18]),A=n(A,k,E,C,c,20,u[19]),C=n(C,A,k,E,f,5,u[20]),E=n(E,C,A,k,y,9,u[21]),k=n(k,E,C,A,x,14,u[22]),A=n(A,k,E,C,d,20,u[23]),C=n(C,A,k,E,v,5,u[24]),E=n(E,C,A,k,_,9,u[25]),k=n(k,E,C,A,h,14,u[26]),A=n(A,k,E,C,g,20,u[27]),C=n(C,A,k,E,S,5,u[28]),E=n(E,C,A,k,l,9,u[29]),k=n(k,E,C,A,m,14,u[30]),C=r(C,A=n(A,k,E,C,w,20,u[31]),k,E,f,4,u[32]),E=r(E,C,A,k,g,11,u[33]),k=r(k,E,C,A,b,16,u[34]),A=r(A,k,E,C,_,23,u[35]),C=r(C,A,k,E,a,4,u[36]),E=r(E,C,A,k,d,11,u[37]),k=r(k,E,C,A,m,16,u[38]),A=r(A,k,E,C,y,23,u[39]),C=r(C,A,k,E,S,4,u[40]),E=r(E,C,A,k,c,11,u[41]),k=r(k,E,C,A,h,16,u[42]),A=r(A,k,E,C,p,23,u[43]),C=r(C,A,k,E,v,4,u[44]),E=r(E,C,A,k,w,11,u[45]),k=r(k,E,C,A,x,16,u[46]),C=i(C,A=r(A,k,E,C,l,23,u[47]),k,E,c,6,u[48]),E=i(E,C,A,k,m,10,u[49]),k=i(k,E,C,A,_,15,u[50]),A=i(A,k,E,C,f,21,u[51]),C=i(C,A,k,E,w,6,u[52]),E=i(E,C,A,k,h,10,u[53]),k=i(k,E,C,A,y,15,u[54]),A=i(A,k,E,C,a,21,u[55]),C=i(C,A,k,E,g,6,u[56]),E=i(E,C,A,k,x,10,u[57]),k=i(k,E,C,A,p,15,u[58]),A=i(A,k,E,C,S,21,u[59]),C=i(C,A,k,E,d,6,u[60]),E=i(E,C,A,k,b,10,u[61]),k=i(k,E,C,A,l,15,u[62]),A=i(A,k,E,C,v,21,u[63]),s[0]=s[0]+C|0,s[1]=s[1]+A|0,s[2]=s[2]+k|0,s[3]=s[3]+E|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;n[i>>>5]|=128<<24-i%32;var o=e.floor(r/4294967296);for(n[15+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),n[14+(i+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),t.sigBytes=4*(n.length+1),this._process(),n=(t=this._hash).words,r=0;4>r;r++)i=n[r],n[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8);return t},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}}),o.MD5=a._createHelper(c),o.HmacMD5=a._createHmacHelper(c)}(Math),function(){var e=m,t=(i=e.lib).WordArray,n=i.Hasher,r=[],i=e.algo.SHA1=n.extend({_doReset:function(){this._hash=new t.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,i=n[0],o=n[1],s=n[2],a=n[3],c=n[4],u=0;80>u;u++){if(16>u)r[u]=0|e[t+u];else{var l=r[u-3]^r[u-8]^r[u-14]^r[u-16];r[u]=l<<1|l>>>31}l=(i<<5|i>>>27)+c+r[u],l=20>u?l+(1518500249+(o&s|~o&a)):40>u?l+(1859775393+(o^s^a)):60>u?l+((o&s|o&a|s&a)-1894007588):l+((o^s^a)-899497514),c=a,a=s,s=o<<30|o>>>2,o=i,i=l}n[0]=n[0]+i|0,n[1]=n[1]+o|0,n[2]=n[2]+s|0,n[3]=n[3]+a|0,n[4]=n[4]+c|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=Math.floor(n/4294967296),t[15+(r+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}});e.SHA1=n._createHelper(i),e.HmacSHA1=n._createHmacHelper(i)}(),function(e){for(var t=m,n=(i=t.lib).WordArray,r=i.Hasher,i=t.algo,o=[],s=[],a=function(e){return 4294967296*(e-(0|e))|0},c=2,u=0;64>u;){var l;e:{l=c;for(var h=e.sqrt(l),d=2;d<=h;d++)if(!(l%d)){l=!1;break e}l=!0}l&&(8>u&&(o[u]=a(e.pow(c,.5))),s[u]=a(e.pow(c,1/3)),u++),c++}var f=[];i=i.SHA256=r.extend({_doReset:function(){this._hash=new n.init(o.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],c=n[4],u=n[5],l=n[6],h=n[7],d=0;64>d;d++){if(16>d)f[d]=0|e[t+d];else{var p=f[d-15],m=f[d-2];f[d]=((p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3)+f[d-7]+((m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10)+f[d-16]}p=h+((c<<26|c>>>6)^(c<<21|c>>>11)^(c<<7|c>>>25))+(c&u^~c&l)+s[d]+f[d],m=((r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22))+(r&i^r&o^i&o),h=l,l=u,u=c,c=a+p|0,a=o,o=i,i=r,r=p+m|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+c|0,n[5]=n[5]+u|0,n[6]=n[6]+l|0,n[7]=n[7]+h|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=e.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}}),t.SHA256=r._createHelper(i),t.HmacSHA256=r._createHmacHelper(i)}(Math),function(){var e=m,t=e.lib.WordArray,n=(r=e.algo).SHA256,r=r.SHA224=n.extend({_doReset:function(){this._hash=new t.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=n._doFinalize.call(this);return e.sigBytes-=4,e}});e.SHA224=n._createHelper(r),e.HmacSHA224=n._createHmacHelper(r)}(),function(){function e(){return r.create.apply(r,arguments)}for(var t=m,n=t.lib.Hasher,r=(o=t.x64).Word,i=o.WordArray,o=t.algo,s=[e(1116352408,3609767458),e(1899447441,602891725),e(3049323471,3964484399),e(3921009573,2173295548),e(961987163,4081628472),e(1508970993,3053834265),e(2453635748,2937671579),e(2870763221,3664609560),e(3624381080,2734883394),e(310598401,1164996542),e(607225278,1323610764),e(1426881987,3590304994),e(1925078388,4068182383),e(2162078206,991336113),e(2614888103,633803317),e(3248222580,3479774868),e(3835390401,2666613458),e(4022224774,944711139),e(264347078,2341262773),e(604807628,2007800933),e(770255983,1495990901),e(1249150122,1856431235),e(1555081692,3175218132),e(1996064986,2198950837),e(2554220882,3999719339),e(2821834349,766784016),e(2952996808,2566594879),e(3210313671,3203337956),e(3336571891,1034457026),e(3584528711,2466948901),e(113926993,3758326383),e(338241895,168717936),e(666307205,1188179964),e(773529912,1546045734),e(1294757372,1522805485),e(1396182291,2643833823),e(1695183700,2343527390),e(1986661051,1014477480),e(2177026350,1206759142),e(2456956037,344077627),e(2730485921,1290863460),e(2820302411,3158454273),e(3259730800,3505952657),e(3345764771,106217008),e(3516065817,3606008344),e(3600352804,1432725776),e(4094571909,1467031594),e(275423344,851169720),e(430227734,3100823752),e(506948616,1363258195),e(659060556,3750685593),e(883997877,3785050280),e(958139571,3318307427),e(1322822218,3812723403),e(1537002063,2003034995),e(1747873779,3602036899),e(1955562222,1575990012),e(2024104815,1125592928),e(2227730452,2716904306),e(2361852424,442776044),e(2428436474,593698344),e(2756734187,3733110249),e(3204031479,2999351573),e(3329325298,3815920427),e(3391569614,3928383900),e(3515267271,566280711),e(3940187606,3454069534),e(4118630271,4000239992),e(116418474,1914138554),e(174292421,2731055270),e(289380356,3203993006),e(460393269,320620315),e(685471733,587496836),e(852142971,1086792851),e(1017036298,365543100),e(1126000580,2618297676),e(1288033470,3409855158),e(1501505948,4234509866),e(1607167915,987167468),e(1816402316,1246189591)],a=[],c=0;80>c;c++)a[c]=e();o=o.SHA512=n.extend({_doReset:function(){this._hash=new i.init([new r.init(1779033703,4089235720),new r.init(3144134277,2227873595),new r.init(1013904242,4271175723),new r.init(2773480762,1595750129),new r.init(1359893119,2917565137),new r.init(2600822924,725511199),new r.init(528734635,4215389547),new r.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var n=(h=this._hash.words)[0],r=h[1],i=h[2],o=h[3],c=h[4],u=h[5],l=h[6],h=h[7],d=n.high,f=n.low,p=r.high,m=r.low,g=i.high,v=i.low,y=o.high,b=o.low,w=c.high,S=c.low,_=u.high,x=u.low,C=l.high,E=l.low,k=h.high,A=h.low,N=d,T=f,P=p,O=m,I=g,R=v,L=y,M=b,D=w,j=S,F=_,B=x,q=C,U=E,z=k,$=A,H=0;80>H;H++){var G=a[H];if(16>H)var V=G.high=0|e[t+2*H],W=G.low=0|e[t+2*H+1];else{V=((W=(V=a[H-15]).high)>>>1|(K=V.low)<<31)^(W>>>8|K<<24)^W>>>7;var K=(K>>>1|W<<31)^(K>>>8|W<<24)^(K>>>7|W<<25),Z=((W=(Z=a[H-2]).high)>>>19|(Y=Z.low)<<13)^(W<<3|Y>>>29)^W>>>6,Y=(Y>>>19|W<<13)^(Y<<3|W>>>29)^(Y>>>6|W<<26),J=(W=a[H-7]).high,Q=(X=a[H-16]).high,X=X.low;V=(V=(V=V+J+((W=K+W.low)>>>0<K>>>0?1:0))+Z+((W+=Y)>>>0<Y>>>0?1:0))+Q+((W+=X)>>>0<X>>>0?1:0),G.high=V,G.low=W}J=D&F^~D&q,X=j&B^~j&U,G=N&P^N&I^P&I;var ee=T&O^T&R^O&R,te=(K=(N>>>28|T<<4)^(N<<30|T>>>2)^(N<<25|T>>>7),Z=(T>>>28|N<<4)^(T<<30|N>>>2)^(T<<25|N>>>7),(Y=s[H]).high),ne=Y.low;Q=z+((D>>>14|j<<18)^(D>>>18|j<<14)^(D<<23|j>>>9))+((Y=$+((j>>>14|D<<18)^(j>>>18|D<<14)^(j<<23|D>>>9)))>>>0<$>>>0?1:0),z=q,$=U,q=F,U=B,F=D,B=j,D=L+(Q=(Q=(Q=Q+J+((Y+=X)>>>0<X>>>0?1:0))+te+((Y+=ne)>>>0<ne>>>0?1:0))+V+((Y+=W)>>>0<W>>>0?1:0))+((j=M+Y|0)>>>0<M>>>0?1:0)|0,L=I,M=R,I=P,R=O,P=N,O=T,N=Q+(G=K+G+((W=Z+ee)>>>0<Z>>>0?1:0))+((T=Y+W|0)>>>0<Y>>>0?1:0)|0}f=n.low=f+T,n.high=d+N+(f>>>0<T>>>0?1:0),m=r.low=m+O,r.high=p+P+(m>>>0<O>>>0?1:0),v=i.low=v+R,i.high=g+I+(v>>>0<R>>>0?1:0),b=o.low=b+M,o.high=y+L+(b>>>0<M>>>0?1:0),S=c.low=S+j,c.high=w+D+(S>>>0<j>>>0?1:0),x=u.low=x+B,u.high=_+F+(x>>>0<B>>>0?1:0),E=l.low=E+U,l.high=C+q+(E>>>0<U>>>0?1:0),A=h.low=A+$,h.high=k+z+(A>>>0<$>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[30+(r+128>>>10<<5)]=Math.floor(n/4294967296),t[31+(r+128>>>10<<5)]=n,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32}),t.SHA512=n._createHelper(o),t.HmacSHA512=n._createHmacHelper(o)}(),function(){var e=m,t=(i=e.x64).Word,n=i.WordArray,r=(i=e.algo).SHA512,i=i.SHA384=r.extend({_doReset:function(){this._hash=new n.init([new t.init(3418070365,3238371032),new t.init(1654270250,914150663),new t.init(2438529370,812702999),new t.init(355462360,4144912697),new t.init(1731405415,4290775857),new t.init(2394180231,1750603025),new t.init(3675008525,1694076839),new t.init(1203062813,3204075428)])},_doFinalize:function(){var e=r._doFinalize.call(this);return e.sigBytes-=16,e}});e.SHA384=r._createHelper(i),e.HmacSHA384=r._createHmacHelper(i)}(),function(){var e=m,t=(r=e.lib).WordArray,n=r.Hasher,r=e.algo,i=t.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),o=t.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),s=t.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),a=t.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),c=t.create([0,1518500249,1859775393,2400959708,2840853838]),u=t.create([1352829926,1548603684,1836072691,2053994217,0]);r=r.RIPEMD160=n.extend({_doReset:function(){this._hash=t.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=0;16>n;n++){var r=e[S=t+n];e[S]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}var l,h,d,f,p,m,g,v,y,b,w,S=this._hash.words,_=(r=c.words,u.words),x=i.words,C=o.words,E=s.words,k=a.words;for(m=l=S[0],g=h=S[1],v=d=S[2],y=f=S[3],b=p=S[4],n=0;80>n;n+=1)w=l+e[t+x[n]]|0,w=16>n?w+((h^d^f)+r[0]):32>n?w+((h&d|~h&f)+r[1]):48>n?w+(((h|~d)^f)+r[2]):64>n?w+((h&f|d&~f)+r[3]):w+((h^(d|~f))+r[4]),w=(w=(w|=0)<<E[n]|w>>>32-E[n])+p|0,l=p,p=f,f=d<<10|d>>>22,d=h,h=w,w=m+e[t+C[n]]|0,w=16>n?w+((g^(v|~y))+_[0]):32>n?w+((g&y|v&~y)+_[1]):48>n?w+(((g|~v)^y)+_[2]):64>n?w+((g&v|~g&y)+_[3]):w+((g^v^y)+_[4]),w=(w=(w|=0)<<k[n]|w>>>32-k[n])+b|0,m=b,b=y,y=v<<10|v>>>22,v=g,g=w;w=S[1]+d+y|0,S[1]=S[2]+f+b|0,S[2]=S[3]+p+m|0,S[3]=S[4]+l+g|0,S[4]=S[0]+h+v|0,S[0]=w},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;for(t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e.sigBytes=4*(t.length+1),this._process(),t=(e=this._hash).words,n=0;5>n;n++)r=t[n],t[n]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8);return e},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}}),e.RIPEMD160=n._createHelper(r),e.HmacRIPEMD160=n._createHmacHelper(r)}(Math),function(){var e=m,t=e.enc.Utf8;e.algo.HMAC=e.lib.Base.extend({init:function(e,n){e=this._hasher=new e.init,"string"==typeof n&&(n=t.parse(n));var r=e.blockSize,i=4*r;n.sigBytes>i&&(n=e.finalize(n)),n.clamp();for(var o=this._oKey=n.clone(),s=this._iKey=n.clone(),a=o.words,c=s.words,u=0;u<r;u++)a[u]^=1549556828,c[u]^=909522486;o.sigBytes=s.sigBytes=i,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher;return e=t.finalize(e),t.reset(),t.finalize(this._oKey.clone().concat(e))}})}(),function(){var e,t=m,n=(e=t.lib).Base,r=e.WordArray,i=(e=t.algo).HMAC,o=e.PBKDF2=n.extend({cfg:n.extend({keySize:4,hasher:e.SHA1,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){var n=this.cfg,o=i.create(n.hasher,e),s=r.create(),a=r.create([1]),c=s.words,u=a.words,l=n.keySize;for(n=n.iterations;c.length<l;){var h=o.update(t).finalize(a);o.reset();for(var d=h.words,f=d.length,p=h,m=1;m<n;m++){p=o.finalize(p),o.reset();for(var g=p.words,v=0;v<f;v++)d[v]^=g[v]}s.concat(h),u[0]++}return s.sigBytes=4*l,s}});t.PBKDF2=function(e,t,n){return o.create(n).compute(e,t)}}();var g,v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",y="=";function b(e){var t,n,r="";for(t=0;t+3<=e.length;t+=3)n=parseInt(e.substring(t,t+3),16),r+=v.charAt(n>>6)+v.charAt(63&n);if(t+1==e.length?(n=parseInt(e.substring(t,t+1),16),r+=v.charAt(n<<2)):t+2==e.length&&(n=parseInt(e.substring(t,t+2),16),r+=v.charAt(n>>2)+v.charAt((3&n)<<4)),y)for(;(3&r.length)>0;)r+=y;return r}function w(e){var t,n,r,i="",o=0;for(t=0;t<e.length&&e.charAt(t)!=y;++t)(r=v.indexOf(e.charAt(t)))<0||(0==o?(i+=N(r>>2),n=3&r,o=1):1==o?(i+=N(n<<2|r>>4),n=15&r,o=2):2==o?(i+=N(n),i+=N(r>>2),n=3&r,o=3):(i+=N(n<<2|r>>4),i+=N(15&r),o=0));return 1==o&&(i+=N(n<<2)),i}function S(e){var t,n=w(e),r=new Array;for(t=0;2*t<n.length;++t)r[t]=parseInt(n.substring(2*t,2*t+2),16);return r}function _(e,t,n){null!=e&&("number"==typeof e?this.fromNumber(e,t,n):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function x(){return new _(null)}"Microsoft Internet Explorer"==f.appName?(_.prototype.am=function(e,t,n,r,i,o){for(var s=32767&t,a=t>>15;--o>=0;){var c=32767&this[e],u=this[e++]>>15,l=a*c+u*s;i=((c=s*c+((32767&l)<<15)+n[r]+(1073741823&i))>>>30)+(l>>>15)+a*u+(i>>>30),n[r++]=1073741823&c}return i},g=30):"Netscape"!=f.appName?(_.prototype.am=function(e,t,n,r,i,o){for(;--o>=0;){var s=t*this[e++]+n[r]+i;i=Math.floor(s/67108864),n[r++]=67108863&s}return i},g=26):(_.prototype.am=function(e,t,n,r,i,o){for(var s=16383&t,a=t>>14;--o>=0;){var c=16383&this[e],u=this[e++]>>14,l=a*c+u*s;i=((c=s*c+((16383&l)<<14)+n[r]+i)>>28)+(l>>14)+a*u,n[r++]=268435455&c}return i},g=28),_.prototype.DB=g,_.prototype.DM=(1<<g)-1,_.prototype.DV=1<<g,_.prototype.FV=Math.pow(2,52),_.prototype.F1=52-g,_.prototype.F2=2*g-52;var C,E,k="0123456789abcdefghijklmnopqrstuvwxyz",A=new Array;for(C="0".charCodeAt(0),E=0;E<=9;++E)A[C++]=E;for(C="a".charCodeAt(0),E=10;E<36;++E)A[C++]=E;for(C="A".charCodeAt(0),E=10;E<36;++E)A[C++]=E;function N(e){return k.charAt(e)}function T(e,t){var n=A[e.charCodeAt(t)];return null==n?-1:n}function P(e){var t=x();return t.fromInt(e),t}function O(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function I(e){this.m=e}function R(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function L(e,t){return e&t}function M(e,t){return e|t}function D(e,t){return e^t}function j(e,t){return e&~t}function F(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function B(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function q(){}function U(e){return e}function z(e){this.r2=x(),this.q3=x(),_.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}I.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},I.prototype.revert=function(e){return e},I.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},I.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},I.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},R.prototype.convert=function(e){var t=x();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(_.ZERO)>0&&this.m.subTo(t,t),t},R.prototype.revert=function(e){var t=x();return e.copyTo(t),this.reduce(t),t},R.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],r=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[n=t+this.m.t]+=this.m.am(0,r,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},R.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},R.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},_.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},_.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},_.prototype.fromString=function(e,t){var n;if(16==t)n=4;else if(8==t)n=3;else if(256==t)n=8;else if(2==t)n=1;else if(32==t)n=5;else{if(4!=t)return void this.fromRadix(e,t);n=2}this.t=0,this.s=0;for(var r=e.length,i=!1,o=0;--r>=0;){var s=8==n?255&e[r]:T(e,r);s<0?"-"==e.charAt(r)&&(i=!0):(i=!1,0==o?this[this.t++]=s:o+n>this.DB?(this[this.t-1]|=(s&(1<<this.DB-o)-1)<<o,this[this.t++]=s>>this.DB-o):this[this.t-1]|=s<<o,(o+=n)>=this.DB&&(o-=this.DB))}8==n&&0!=(128&e[0])&&(this.s=-1,o>0&&(this[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),i&&_.ZERO.subTo(this,this)},_.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},_.prototype.dlShiftTo=function(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s},_.prototype.drShiftTo=function(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s},_.prototype.lShiftTo=function(e,t){var n,r=e%this.DB,i=this.DB-r,o=(1<<i)-1,s=Math.floor(e/this.DB),a=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)t[n+s+1]=this[n]>>i|a,a=(this[n]&o)<<r;for(n=s-1;n>=0;--n)t[n]=0;t[s]=a,t.t=this.t+s+1,t.s=this.s,t.clamp()},_.prototype.rShiftTo=function(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)t.t=0;else{var r=e%this.DB,i=this.DB-r,o=(1<<r)-1;t[0]=this[n]>>r;for(var s=n+1;s<this.t;++s)t[s-n-1]|=(this[s]&o)<<i,t[s-n]=this[s]>>r;r>0&&(t[this.t-n-1]|=(this.s&o)<<i),t.t=this.t-n,t.clamp()}},_.prototype.subTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]-e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r-=e[n],t[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=r<0?-1:0,r<-1?t[n++]=this.DV+r:r>0&&(t[n++]=r),t.t=n,t.clamp()},_.prototype.multiplyTo=function(e,t){var n=this.abs(),r=e.abs(),i=n.t;for(t.t=i+r.t;--i>=0;)t[i]=0;for(i=0;i<r.t;++i)t[i+n.t]=n.am(0,r[i],t,i,0,n.t);t.s=0,t.clamp(),this.s!=e.s&&_.ZERO.subTo(t,t)},_.prototype.squareTo=function(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()},_.prototype.divRemTo=function(e,t,n){var r=e.abs();if(!(r.t<=0)){var i=this.abs();if(i.t<r.t)return null!=t&&t.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=x());var o=x(),s=this.s,a=e.s,c=this.DB-O(r[r.t-1]);c>0?(r.lShiftTo(c,o),i.lShiftTo(c,n)):(r.copyTo(o),i.copyTo(n));var u=o.t,l=o[u-1];if(0!=l){var h=l*(1<<this.F1)+(u>1?o[u-2]>>this.F2:0),d=this.FV/h,f=(1<<this.F1)/h,p=1<<this.F2,m=n.t,g=m-u,v=null==t?x():t;for(o.dlShiftTo(g,v),n.compareTo(v)>=0&&(n[n.t++]=1,n.subTo(v,n)),_.ONE.dlShiftTo(u,v),v.subTo(o,o);o.t<u;)o[o.t++]=0;for(;--g>=0;){var y=n[--m]==l?this.DM:Math.floor(n[m]*d+(n[m-1]+p)*f);if((n[m]+=o.am(0,y,n,g,0,u))<y)for(o.dlShiftTo(g,v),n.subTo(v,n);n[m]<--y;)n.subTo(v,n)}null!=t&&(n.drShiftTo(u,t),s!=a&&_.ZERO.subTo(t,t)),n.t=u,n.clamp(),c>0&&n.rShiftTo(c,n),s<0&&_.ZERO.subTo(n,n)}}},_.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},_.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},_.prototype.exp=function(e,t){if(e>4294967295||e<1)return _.ONE;var n=x(),r=x(),i=t.convert(this),o=O(e)-1;for(i.copyTo(n);--o>=0;)if(t.sqrTo(n,r),(e&1<<o)>0)t.mulTo(r,i,n);else{var s=n;n=r,r=s}return t.revert(n)},_.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var n,r=(1<<t)-1,i=!1,o="",s=this.t,a=this.DB-s*this.DB%t;if(s-- >0)for(a<this.DB&&(n=this[s]>>a)>0&&(i=!0,o=N(n));s>=0;)a<t?(n=(this[s]&(1<<a)-1)<<t-a,n|=this[--s]>>(a+=this.DB-t)):(n=this[s]>>(a-=t)&r,a<=0&&(a+=this.DB,--s)),n>0&&(i=!0),i&&(o+=N(n));return i?o:"0"},_.prototype.negate=function(){var e=x();return _.ZERO.subTo(this,e),e},_.prototype.abs=function(){return this.s<0?this.negate():this},_.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0},_.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+O(this[this.t-1]^this.s&this.DM)},_.prototype.mod=function(e){var t=x();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(_.ZERO)>0&&e.subTo(t,t),t},_.prototype.modPowInt=function(e,t){var n;return n=e<256||t.isEven()?new I(t):new R(t),this.exp(e,n)},_.ZERO=P(0),_.ONE=P(1),q.prototype.convert=U,q.prototype.revert=U,q.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n)},q.prototype.sqrTo=function(e,t){e.squareTo(t)},z.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=x();return e.copyTo(t),this.reduce(t),t},z.prototype.revert=function(e){return e},z.prototype.reduce=function(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)},z.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},z.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)};var $=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],H=(1<<26)/$[$.length-1];function G(){this.i=0,this.j=0,this.S=new Array}_.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},_.prototype.toRadix=function(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),n=Math.pow(e,t),r=P(n),i=x(),o=x(),s="";for(this.divRemTo(r,i,o);i.signum()>0;)s=(n+o.intValue()).toString(e).substr(1)+s,i.divRemTo(r,i,o);return o.intValue().toString(e)+s},_.prototype.fromRadix=function(e,t){this.fromInt(0),null==t&&(t=10);for(var n=this.chunkSize(t),r=Math.pow(t,n),i=!1,o=0,s=0,a=0;a<e.length;++a){var c=T(e,a);c<0?"-"==e.charAt(a)&&0==this.signum()&&(i=!0):(s=t*s+c,++o>=n&&(this.dMultiply(r),this.dAddOffset(s,0),o=0,s=0))}o>0&&(this.dMultiply(Math.pow(t,o)),this.dAddOffset(s,0)),i&&_.ZERO.subTo(this,this)},_.prototype.fromNumber=function(e,t,n){if("number"==typeof t)if(e<2)this.fromInt(1);else for(this.fromNumber(e,n),this.testBit(e-1)||this.bitwiseTo(_.ONE.shiftLeft(e-1),M,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(_.ONE.shiftLeft(e-1),this);else{var r=new Array,i=7&e;r.length=1+(e>>3),t.nextBytes(r),i>0?r[0]&=(1<<i)-1:r[0]=0,this.fromString(r,256)}},_.prototype.bitwiseTo=function(e,t,n){var r,i,o=Math.min(e.t,this.t);for(r=0;r<o;++r)n[r]=t(this[r],e[r]);if(e.t<this.t){for(i=e.s&this.DM,r=o;r<this.t;++r)n[r]=t(this[r],i);n.t=this.t}else{for(i=this.s&this.DM,r=o;r<e.t;++r)n[r]=t(i,e[r]);n.t=e.t}n.s=t(this.s,e.s),n.clamp()},_.prototype.changeBit=function(e,t){var n=_.ONE.shiftLeft(e);return this.bitwiseTo(n,t,n),n},_.prototype.addTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]+e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r+=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r+=e[n],t[n++]=r&this.DM,r>>=this.DB;r+=e.s}t.s=r<0?-1:0,r>0?t[n++]=r:r<-1&&(t[n++]=this.DV+r),t.t=n,t.clamp()},_.prototype.dMultiply=function(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},_.prototype.dAddOffset=function(e,t){if(0!=e){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}},_.prototype.multiplyLowerTo=function(e,t,n){var r,i=Math.min(this.t+e.t,t);for(n.s=0,n.t=i;i>0;)n[--i]=0;for(r=n.t-this.t;i<r;++i)n[i+this.t]=this.am(0,e[i],n,i,0,this.t);for(r=Math.min(e.t,t);i<r;++i)this.am(0,e[i],n,i,0,t-i);n.clamp()},_.prototype.multiplyUpperTo=function(e,t,n){--t;var r=n.t=this.t+e.t-t;for(n.s=0;--r>=0;)n[r]=0;for(r=Math.max(t-this.t,0);r<e.t;++r)n[this.t+r-t]=this.am(t-r,e[r],n,0,0,this.t+r-t);n.clamp(),n.drShiftTo(1,n)},_.prototype.modInt=function(e){if(e<=0)return 0;var t=this.DV%e,n=this.s<0?e-1:0;if(this.t>0)if(0==t)n=this[0]%e;else for(var r=this.t-1;r>=0;--r)n=(t*n+this[r])%e;return n},_.prototype.millerRabin=function(e){var t=this.subtract(_.ONE),n=t.getLowestSetBit();if(n<=0)return!1;var r=t.shiftRight(n);(e=e+1>>1)>$.length&&(e=$.length);for(var i=x(),o=0;o<e;++o){i.fromInt($[Math.floor(Math.random()*$.length)]);var s=i.modPow(r,this);if(0!=s.compareTo(_.ONE)&&0!=s.compareTo(t)){for(var a=1;a++<n&&0!=s.compareTo(t);)if(0==(s=s.modPowInt(2,this)).compareTo(_.ONE))return!1;if(0!=s.compareTo(t))return!1}}return!0},_.prototype.clone=function(){var e=x();return this.copyTo(e),e},_.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},_.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},_.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},_.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},_.prototype.toByteArray=function(){var e=this.t,t=new Array;t[0]=this.s;var n,r=this.DB-e*this.DB%8,i=0;if(e-- >0)for(r<this.DB&&(n=this[e]>>r)!=(this.s&this.DM)>>r&&(t[i++]=n|this.s<<this.DB-r);e>=0;)r<8?(n=(this[e]&(1<<r)-1)<<8-r,n|=this[--e]>>(r+=this.DB-8)):(n=this[e]>>(r-=8)&255,r<=0&&(r+=this.DB,--e)),0!=(128&n)&&(n|=-256),0==i&&(128&this.s)!=(128&n)&&++i,(i>0||n!=this.s)&&(t[i++]=n);return t},_.prototype.equals=function(e){return 0==this.compareTo(e)},_.prototype.min=function(e){return this.compareTo(e)<0?this:e},_.prototype.max=function(e){return this.compareTo(e)>0?this:e},_.prototype.and=function(e){var t=x();return this.bitwiseTo(e,L,t),t},_.prototype.or=function(e){var t=x();return this.bitwiseTo(e,M,t),t},_.prototype.xor=function(e){var t=x();return this.bitwiseTo(e,D,t),t},_.prototype.andNot=function(e){var t=x();return this.bitwiseTo(e,j,t),t},_.prototype.not=function(){for(var e=x(),t=0;t<this.t;++t)e[t]=this.DM&~this[t];return e.t=this.t,e.s=~this.s,e},_.prototype.shiftLeft=function(e){var t=x();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t},_.prototype.shiftRight=function(e){var t=x();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t},_.prototype.getLowestSetBit=function(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+F(this[e]);return this.s<0?this.t*this.DB:-1},_.prototype.bitCount=function(){for(var e=0,t=this.s&this.DM,n=0;n<this.t;++n)e+=B(this[n]^t);return e},_.prototype.testBit=function(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this[t]&1<<e%this.DB)},_.prototype.setBit=function(e){return this.changeBit(e,M)},_.prototype.clearBit=function(e){return this.changeBit(e,j)},_.prototype.flipBit=function(e){return this.changeBit(e,D)},_.prototype.add=function(e){var t=x();return this.addTo(e,t),t},_.prototype.subtract=function(e){var t=x();return this.subTo(e,t),t},_.prototype.multiply=function(e){var t=x();return this.multiplyTo(e,t),t},_.prototype.divide=function(e){var t=x();return this.divRemTo(e,t,null),t},_.prototype.remainder=function(e){var t=x();return this.divRemTo(e,null,t),t},_.prototype.divideAndRemainder=function(e){var t=x(),n=x();return this.divRemTo(e,t,n),new Array(t,n)},_.prototype.modPow=function(e,t){var n,r,i=e.bitLength(),o=P(1);if(i<=0)return o;n=i<18?1:i<48?3:i<144?4:i<768?5:6,r=i<8?new I(t):t.isEven()?new z(t):new R(t);var s=new Array,a=3,c=n-1,u=(1<<n)-1;if(s[1]=r.convert(this),n>1){var l=x();for(r.sqrTo(s[1],l);a<=u;)s[a]=x(),r.mulTo(l,s[a-2],s[a]),a+=2}var h,d,f=e.t-1,p=!0,m=x();for(i=O(e[f])-1;f>=0;){for(i>=c?h=e[f]>>i-c&u:(h=(e[f]&(1<<i+1)-1)<<c-i,f>0&&(h|=e[f-1]>>this.DB+i-c)),a=n;0==(1&h);)h>>=1,--a;if((i-=a)<0&&(i+=this.DB,--f),p)s[h].copyTo(o),p=!1;else{for(;a>1;)r.sqrTo(o,m),r.sqrTo(m,o),a-=2;a>0?r.sqrTo(o,m):(d=o,o=m,m=d),r.mulTo(m,s[h],o)}for(;f>=0&&0==(e[f]&1<<i);)r.sqrTo(o,m),d=o,o=m,m=d,--i<0&&(i=this.DB-1,--f)}return r.revert(o)},_.prototype.modInverse=function(e){var t=e.isEven();if(this.isEven()&&t||0==e.signum())return _.ZERO;for(var n=e.clone(),r=this.clone(),i=P(1),o=P(0),s=P(0),a=P(1);0!=n.signum();){for(;n.isEven();)n.rShiftTo(1,n),t?(i.isEven()&&o.isEven()||(i.addTo(this,i),o.subTo(e,o)),i.rShiftTo(1,i)):o.isEven()||o.subTo(e,o),o.rShiftTo(1,o);for(;r.isEven();)r.rShiftTo(1,r),t?(s.isEven()&&a.isEven()||(s.addTo(this,s),a.subTo(e,a)),s.rShiftTo(1,s)):a.isEven()||a.subTo(e,a),a.rShiftTo(1,a);n.compareTo(r)>=0?(n.subTo(r,n),t&&i.subTo(s,i),o.subTo(a,o)):(r.subTo(n,r),t&&s.subTo(i,s),a.subTo(o,a))}return 0!=r.compareTo(_.ONE)?_.ZERO:a.compareTo(e)>=0?a.subtract(e):a.signum()<0?(a.addTo(e,a),a.signum()<0?a.add(e):a):a},_.prototype.pow=function(e){return this.exp(e,new q)},_.prototype.gcd=function(e){var t=this.s<0?this.negate():this.clone(),n=e.s<0?e.negate():e.clone();if(t.compareTo(n)<0){var r=t;t=n,n=r}var i=t.getLowestSetBit(),o=n.getLowestSetBit();if(o<0)return t;for(i<o&&(o=i),o>0&&(t.rShiftTo(o,t),n.rShiftTo(o,n));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=n.getLowestSetBit())>0&&n.rShiftTo(i,n),t.compareTo(n)>=0?(t.subTo(n,t),t.rShiftTo(1,t)):(n.subTo(t,n),n.rShiftTo(1,n));return o>0&&n.lShiftTo(o,n),n},_.prototype.isProbablePrime=function(e){var t,n=this.abs();if(1==n.t&&n[0]<=$[$.length-1]){for(t=0;t<$.length;++t)if(n[0]==$[t])return!0;return!1}if(n.isEven())return!1;for(t=1;t<$.length;){for(var r=$[t],i=t+1;i<$.length&&r<H;)r*=$[i++];for(r=n.modInt(r);t<i;)if(r%$[t++]==0)return!1}return n.millerRabin(e)},_.prototype.square=function(){var e=x();return this.squareTo(e),e},G.prototype.init=function(e){var t,n,r;for(t=0;t<256;++t)this.S[t]=t;for(n=0,t=0;t<256;++t)n=n+this.S[t]+e[t%e.length]&255,r=this.S[t],this.S[t]=this.S[n],this.S[n]=r;this.i=0,this.j=0},G.prototype.next=function(){var e;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,e=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=e,this.S[e+this.S[this.i]&255]};var V,W,K,Z=256;function Y(){!function(e){W[K++]^=255&e,W[K++]^=e>>8&255,W[K++]^=e>>16&255,W[K++]^=e>>24&255,K>=Z&&(K-=Z)}((new Date).getTime())}if(null==W){var J;if(W=new Array,K=0,void 0!==p&&(void 0!==p.crypto||void 0!==p.msCrypto)){var Q=p.crypto||p.msCrypto;if(Q.getRandomValues){var X=new Uint8Array(32);for(Q.getRandomValues(X),J=0;J<32;++J)W[K++]=X[J]}else if("Netscape"==f.appName&&f.appVersion<"5"){var ee=p.crypto.random(32);for(J=0;J<ee.length;++J)W[K++]=255&ee.charCodeAt(J)}}for(;K<Z;)J=Math.floor(65536*Math.random()),W[K++]=J>>>8,W[K++]=255&J;K=0,Y()}function te(){if(null==V){for(Y(),(V=new G).init(W),K=0;K<W.length;++K)W[K]=0;K=0}return V.next()}function ne(){}function re(e,t){return new _(e,t)}function ie(e,t,n){for(var r="",i=0;r.length<t;)r+=n(String.fromCharCode.apply(String,e.concat([(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i]))),i+=1;return r}function oe(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function se(e,t,n){for(var r="",i=0;r.length<t;)r+=n(e+String.fromCharCode.apply(String,[(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i])),i+=1;return r}function ae(e,t){this.x=t,this.q=e}function ce(e,t,n,r){this.curve=e,this.x=t,this.y=n,this.z=null==r?_.ONE:r,this.zinv=null}function ue(e,t,n){this.q=e,this.a=this.fromBigInteger(t),this.b=this.fromBigInteger(n),this.infinity=new ce(this,null,null)}ne.prototype.nextBytes=function(e){var t;for(t=0;t<e.length;++t)e[t]=te()},oe.prototype.doPublic=function(e){return e.modPowInt(this.e,this.n)},oe.prototype.setPublic=function(e,t){if(this.isPublic=!0,this.isPrivate=!1,"string"!=typeof e)this.n=e,this.e=t;else{if(!(null!=e&&null!=t&&e.length>0&&t.length>0))throw"Invalid RSA public key";this.n=re(e,16),this.e=parseInt(t,16)}},oe.prototype.encrypt=function(e){var t=function(e,t){if(t<e.length+11)throw"Message too long for RSA";for(var n=new Array,r=e.length-1;r>=0&&t>0;){var i=e.charCodeAt(r--);i<128?n[--t]=i:i>127&&i<2048?(n[--t]=63&i|128,n[--t]=i>>6|192):(n[--t]=63&i|128,n[--t]=i>>6&63|128,n[--t]=i>>12|224)}n[--t]=0;for(var o=new ne,s=new Array;t>2;){for(s[0]=0;0==s[0];)o.nextBytes(s);n[--t]=s[0]}return n[--t]=2,n[--t]=0,new _(n)}(e,this.n.bitLength()+7>>3);if(null==t)return null;var n=this.doPublic(t);if(null==n)return null;var r=n.toString(16);return 0==(1&r.length)?r:"0"+r},oe.prototype.encryptOAEP=function(e,t,n){var r=this.n.bitLength()+7>>3,i=function(e,t,n,r){var i=he.crypto.MessageDigest,o=he.crypto.Util,s=null;if(n||(n="sha1"),"string"==typeof n&&(s=i.getCanonicalAlgName(n),r=i.getHashLength(s),n=function(e){return ke(o.hashHex(Ae(e),s))}),e.length+2*r+2>t)throw"Message too long for RSA";var a,c="";for(a=0;a<t-e.length-2*r-2;a+=1)c+="\0";var u=n("")+c+""+e,l=new Array(r);(new ne).nextBytes(l);var h=ie(l,u.length,n),d=[];for(a=0;a<u.length;a+=1)d[a]=u.charCodeAt(a)^h.charCodeAt(a);var f=ie(d,l.length,n),p=[0];for(a=0;a<l.length;a+=1)p[a+1]=l[a]^f.charCodeAt(a);return new _(p.concat(d))}(e,r,t,n);if(null==i)return null;var o=this.doPublic(i);if(null==o)return null;for(var s=o.toString(16);s.length<2*r;)s="0"+s;return s},oe.prototype.type="RSA",oe.prototype.doPrivate=function(e){if(null==this.p||null==this.q)return e.modPow(this.d,this.n);for(var t=e.mod(this.p).modPow(this.dmp1,this.p),n=e.mod(this.q).modPow(this.dmq1,this.q);t.compareTo(n)<0;)t=t.add(this.p);return t.subtract(n).multiply(this.coeff).mod(this.p).multiply(this.q).add(n)},oe.prototype.setPrivate=function(e,t,n){if(this.isPrivate=!0,"string"!=typeof e)this.n=e,this.e=t,this.d=n;else{if(!(null!=e&&null!=t&&e.length>0&&t.length>0))throw"Invalid RSA private key";this.n=re(e,16),this.e=parseInt(t,16),this.d=re(n,16)}},oe.prototype.setPrivateEx=function(e,t,n,r,i,o,s,a){if(this.isPrivate=!0,this.isPublic=!1,null==e)throw"RSASetPrivateEx N == null";if(null==t)throw"RSASetPrivateEx E == null";if(0==e.length)throw"RSASetPrivateEx N.length == 0";if(0==t.length)throw"RSASetPrivateEx E.length == 0";if(!(null!=e&&null!=t&&e.length>0&&t.length>0))throw"Invalid RSA private key in RSASetPrivateEx";this.n=re(e,16),this.e=parseInt(t,16),this.d=re(n,16),this.p=re(r,16),this.q=re(i,16),this.dmp1=re(o,16),this.dmq1=re(s,16),this.coeff=re(a,16)},oe.prototype.generate=function(e,t){var n=new ne,r=e>>1;this.e=parseInt(t,16);for(var i=new _(t,16),o=e/2-100,s=_.ONE.shiftLeft(o);;){for(;this.p=new _(e-r,1,n),0!=this.p.subtract(_.ONE).gcd(i).compareTo(_.ONE)||!this.p.isProbablePrime(10););for(;this.q=new _(r,1,n),0!=this.q.subtract(_.ONE).gcd(i).compareTo(_.ONE)||!this.q.isProbablePrime(10););if(this.p.compareTo(this.q)<=0){var a=this.p;this.p=this.q,this.q=a}var c=this.q.subtract(this.p).abs();if(!(c.bitLength()<o||c.compareTo(s)<=0)){var u=this.p.subtract(_.ONE),l=this.q.subtract(_.ONE),h=u.multiply(l);if(0==h.gcd(i).compareTo(_.ONE)&&(this.n=this.p.multiply(this.q),this.n.bitLength()==e)){this.d=i.modInverse(h),this.dmp1=this.d.mod(u),this.dmq1=this.d.mod(l),this.coeff=this.q.modInverse(this.p);break}}}this.isPrivate=!0},oe.prototype.decrypt=function(e){if(e.length!=Math.ceil(this.n.bitLength()/4))throw new Error("wrong ctext length");var t=re(e,16),n=this.doPrivate(t);return null==n?null:function(e,t){for(var n=e.toByteArray(),r=0;r<n.length&&0==n[r];)++r;if(n.length-r!=t-1||2!=n[r])return null;for(++r;0!=n[r];)if(++r>=n.length)return null;for(var i="";++r<n.length;){var o=255&n[r];o<128?i+=String.fromCharCode(o):o>191&&o<224?(i+=String.fromCharCode((31&o)<<6|63&n[r+1]),++r):(i+=String.fromCharCode((15&o)<<12|(63&n[r+1])<<6|63&n[r+2]),r+=2)}return i}(n,this.n.bitLength()+7>>3)},oe.prototype.decryptOAEP=function(e,t,n){if(e.length!=Math.ceil(this.n.bitLength()/4))throw new Error("wrong ctext length");var r=re(e,16),i=this.doPrivate(r);return null==i?null:function(e,t,n,r){var i=he.crypto.MessageDigest,o=he.crypto.Util,s=null;for(n||(n="sha1"),"string"==typeof n&&(s=i.getCanonicalAlgName(n),r=i.getHashLength(s),n=function(e){return ke(o.hashHex(Ae(e),s))}),e=e.toByteArray(),a=0;a<e.length;a+=1)e[a]&=255;for(;e.length<t;)e.unshift(0);if((e=String.fromCharCode.apply(String,e)).length<2*r+2)throw"Cipher too short";var a,c=e.substr(1,r),u=e.substr(r+1),l=se(u,r,n),h=[];for(a=0;a<c.length;a+=1)h[a]=c.charCodeAt(a)^l.charCodeAt(a);var d=se(String.fromCharCode.apply(String,h),e.length-r,n),f=[];for(a=0;a<u.length;a+=1)f[a]=u.charCodeAt(a)^d.charCodeAt(a);if((f=String.fromCharCode.apply(String,f)).substr(0,r)!==n(""))throw"Hash mismatch";var p=(f=f.substr(r)).indexOf("");if((-1!=p?f.substr(0,p).lastIndexOf("\0"):-1)+1!=p)throw"Malformed data";return f.substr(p+1)}(i,this.n.bitLength()+7>>3,t,n)},ae.prototype.equals=function(e){return e==this||this.q.equals(e.q)&&this.x.equals(e.x)},ae.prototype.toBigInteger=function(){return this.x},ae.prototype.negate=function(){return new ae(this.q,this.x.negate().mod(this.q))},ae.prototype.add=function(e){return new ae(this.q,this.x.add(e.toBigInteger()).mod(this.q))},ae.prototype.subtract=function(e){return new ae(this.q,this.x.subtract(e.toBigInteger()).mod(this.q))},ae.prototype.multiply=function(e){return new ae(this.q,this.x.multiply(e.toBigInteger()).mod(this.q))},ae.prototype.square=function(){return new ae(this.q,this.x.square().mod(this.q))},ae.prototype.divide=function(e){return new ae(this.q,this.x.multiply(e.toBigInteger().modInverse(this.q)).mod(this.q))},ae.prototype.sqrt=function(){return new ae(this.q,this.x.sqrt().mod(this.q))},ce.prototype.getX=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},ce.prototype.getY=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},ce.prototype.equals=function(e){return e==this||(this.isInfinity()?e.isInfinity():e.isInfinity()?this.isInfinity():!!e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q).equals(_.ZERO)&&e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q).equals(_.ZERO))},ce.prototype.isInfinity=function(){return null==this.x&&null==this.y||this.z.equals(_.ZERO)&&!this.y.toBigInteger().equals(_.ZERO)},ce.prototype.negate=function(){return new ce(this.curve,this.x,this.y.negate(),this.z)},ce.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q),n=e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q);if(_.ZERO.equals(n))return _.ZERO.equals(t)?this.twice():this.curve.getInfinity();var r=new _("3"),i=this.x.toBigInteger(),o=this.y.toBigInteger(),s=(e.x.toBigInteger(),e.y.toBigInteger(),n.square()),a=s.multiply(n),c=i.multiply(s),u=t.square().multiply(this.z),l=u.subtract(c.shiftLeft(1)).multiply(e.z).subtract(a).multiply(n).mod(this.curve.q),h=c.multiply(r).multiply(t).subtract(o.multiply(a)).subtract(u.multiply(t)).multiply(e.z).add(t.multiply(a)).mod(this.curve.q),d=a.multiply(this.z).multiply(e.z).mod(this.curve.q);return new ce(this.curve,this.curve.fromBigInteger(l),this.curve.fromBigInteger(h),d)},ce.prototype.twice=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var e=new _("3"),t=this.x.toBigInteger(),n=this.y.toBigInteger(),r=n.multiply(this.z),i=r.multiply(n).mod(this.curve.q),o=this.curve.a.toBigInteger(),s=t.square().multiply(e);_.ZERO.equals(o)||(s=s.add(this.z.square().multiply(o)));var a=(s=s.mod(this.curve.q)).square().subtract(t.shiftLeft(3).multiply(i)).shiftLeft(1).multiply(r).mod(this.curve.q),c=s.multiply(e).multiply(t).subtract(i.shiftLeft(1)).shiftLeft(2).multiply(i).subtract(s.square().multiply(s)).mod(this.curve.q),u=r.square().multiply(r).shiftLeft(3).mod(this.curve.q);return new ce(this.curve,this.curve.fromBigInteger(a),this.curve.fromBigInteger(c),u)},ce.prototype.multiply=function(e){if(this.isInfinity())return this;if(0==e.signum())return this.curve.getInfinity();var t,n=e,r=n.multiply(new _("3")),i=this.negate(),o=this,s=this.curve.q.subtract(e),a=s.multiply(new _("3")),c=new ce(this.curve,this.x,this.y),u=c.negate();for(t=r.bitLength()-2;t>0;--t){o=o.twice();var l=r.testBit(t);l!=n.testBit(t)&&(o=o.add(l?this:i))}for(t=a.bitLength()-2;t>0;--t){c=c.twice();var h=a.testBit(t);h!=s.testBit(t)&&(c=c.add(h?c:u))}return o},ce.prototype.multiplyTwo=function(e,t,n){var r;r=e.bitLength()>n.bitLength()?e.bitLength()-1:n.bitLength()-1;for(var i=this.curve.getInfinity(),o=this.add(t);r>=0;)i=i.twice(),e.testBit(r)?i=n.testBit(r)?i.add(o):i.add(this):n.testBit(r)&&(i=i.add(t)),--r;return i},ue.prototype.getQ=function(){return this.q},ue.prototype.getA=function(){return this.a},ue.prototype.getB=function(){return this.b},ue.prototype.equals=function(e){return e==this||this.q.equals(e.q)&&this.a.equals(e.a)&&this.b.equals(e.b)},ue.prototype.getInfinity=function(){return this.infinity},ue.prototype.fromBigInteger=function(e){return new ae(this.q,e)},ue.prototype.decodePointHex=function(e){switch(parseInt(e.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:var t=e.substr(0,2),n=(e.substr(2),this.fromBigInteger(new _(a,16))),r=this.getA(),i=this.getB(),o=n.square().add(r).multiply(n).add(i).sqrt();return"03"==t&&(o=o.negate()),new ce(this,n,o);case 4:case 6:case 7:var s=(e.length-2)/2,a=e.substr(2,s),c=e.substr(s+2,s);return new ce(this,this.fromBigInteger(new _(a,16)),this.fromBigInteger(new _(c,16)));default:return null}},ae.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},ce.prototype.getEncoded=function(e){var t=function(e,t){var n=e.toByteArrayUnsigned();if(t<n.length)n=n.slice(n.length-t);else for(;t>n.length;)n.unshift(0);return n},n=this.getX().toBigInteger(),r=this.getY().toBigInteger(),i=t(n,32);return e?r.isEven()?i.unshift(2):i.unshift(3):(i.unshift(4),i=i.concat(t(r,32))),i},ce.decodeFrom=function(e,t){t[0];var n=t.length-1,r=t.slice(1,1+n/2),i=t.slice(1+n/2,1+n);r.unshift(0),i.unshift(0);var o=new _(r),s=new _(i);return new ce(e,e.fromBigInteger(o),e.fromBigInteger(s))},ce.decodeFromHex=function(e,t){t.substr(0,2);var n=t.length-2,r=t.substr(2,n/2),i=t.substr(2+n/2,n/2),o=new _(r,16),s=new _(i,16);return new ce(e,e.fromBigInteger(o),e.fromBigInteger(s))},ce.prototype.add2D=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;if(this.x.equals(e.x))return this.y.equals(e.y)?this.twice():this.curve.getInfinity();var t=e.x.subtract(this.x),n=e.y.subtract(this.y).divide(t),r=n.square().subtract(this.x).subtract(e.x),i=n.multiply(this.x.subtract(r)).subtract(this.y);return new ce(this.curve,r,i)},ce.prototype.twice2D=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var e=this.curve.fromBigInteger(_.valueOf(2)),t=this.curve.fromBigInteger(_.valueOf(3)),n=this.x.square().multiply(t).add(this.curve.a).divide(this.y.multiply(e)),r=n.square().subtract(this.x.multiply(e)),i=n.multiply(this.x.subtract(r)).subtract(this.y);return new ce(this.curve,r,i)},ce.prototype.multiply2D=function(e){if(this.isInfinity())return this;if(0==e.signum())return this.curve.getInfinity();var t,n=e,r=n.multiply(new _("3")),i=this.negate(),o=this;for(t=r.bitLength()-2;t>0;--t){o=o.twice();var s=r.testBit(t);s!=n.testBit(t)&&(o=o.add2D(s?this:i))}return o},ce.prototype.isOnCurve=function(){var e=this.getX().toBigInteger(),t=this.getY().toBigInteger(),n=this.curve.getA().toBigInteger(),r=this.curve.getB().toBigInteger(),i=this.curve.getQ(),o=t.multiply(t).mod(i),s=e.multiply(e).multiply(e).add(n.multiply(e)).add(r).mod(i);return o.equals(s)},ce.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},ce.prototype.validate=function(){var e=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var t=this.getX().toBigInteger(),n=this.getY().toBigInteger();if(t.compareTo(_.ONE)<0||t.compareTo(e.subtract(_.ONE))>0)throw new Error("x coordinate out of bounds");if(n.compareTo(_.ONE)<0||n.compareTo(e.subtract(_.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(e).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};var le=function(){var e=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),t=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),n={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function r(e,t,r){return t?n[t]:String.fromCharCode(parseInt(r,16))}var i=new String(""),o=Object.hasOwnProperty;return function(n,s){var a,c,u=n.match(e),l=u[0],h=!1;"{"===l?a={}:"["===l?a=[]:(a=[],h=!0);for(var d=[a],f=1-h,p=u.length;f<p;++f){var m;switch((l=u[f]).charCodeAt(0)){default:(m=d[0])[c||m.length]=+l,c=void 0;break;case 34:if(-1!==(l=l.substring(1,l.length-1)).indexOf("\\")&&(l=l.replace(t,r)),m=d[0],!c){if(!(m instanceof Array)){c=l||i;break}c=m.length}m[c]=l,c=void 0;break;case 91:m=d[0],d.unshift(m[c||m.length]=[]),c=void 0;break;case 93:case 125:d.shift();break;case 102:(m=d[0])[c||m.length]=!1,c=void 0;break;case 110:(m=d[0])[c||m.length]=null,c=void 0;break;case 116:(m=d[0])[c||m.length]=!0,c=void 0;break;case 123:m=d[0],d.unshift(m[c||m.length]={}),c=void 0}}if(h){if(1!==d.length)throw new Error;a=a[0]}else if(d.length)throw new Error;if(s){var g=function(e,t){var n=e[t];if(n&&"object"==typeof n){var r=null;for(var i in n)if(o.call(n,i)&&n!==e){var a=g(n,i);void 0!==a?n[i]=a:(r||(r=[]),r.push(i))}if(r)for(var c=r.length;--c>=0;)delete n[r[c]]}return s.call(e,t,n)};a=g({"":a},"")}return a}}();void 0!==he&&he||(he={}),void 0!==he.asn1&&he.asn1||(he.asn1={}),he.asn1.ASN1Util=new function(){this.integerToByteHex=function(e){var t=e.toString(16);return t.length%2==1&&(t="0"+t),t},this.bigIntToMinTwosComplementsHex=function(e){var t=e.toString(16);if("-"!=t.substr(0,1))t.length%2==1?t="0"+t:t.match(/^[0-7]/)||(t="00"+t);else{var n=t.substr(1).length;n%2==1?n+=1:t.match(/^[0-7]/)||(n+=2);for(var r="",i=0;i<n;i++)r+="f";t=new _(r,16).xor(e).add(_.ONE).toString(16).replace(/^-/,"")}return t},this.getPEMStringFromHex=function(e,t){return Oe(e,t)},this.newObject=function(e){var t=he.asn1,n=t.ASN1Object,r=t.DERBoolean,i=t.DERInteger,o=t.DERBitString,s=t.DEROctetString,a=t.DERNull,c=t.DERObjectIdentifier,u=t.DEREnumerated,l=t.DERUTF8String,h=t.DERNumericString,d=t.DERPrintableString,f=t.DERTeletexString,p=t.DERIA5String,m=t.DERUTCTime,g=t.DERGeneralizedTime,v=t.DERVisibleString,y=t.DERBMPString,b=t.DERSequence,w=t.DERSet,S=t.DERTaggedObject,_=t.ASN1Util.newObject;if(e instanceof t.ASN1Object)return e;var x=Object.keys(e);if(1!=x.length)throw new Error("key of param shall be only one.");var C=x[0];if(-1==":asn1:bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:".indexOf(":"+C+":"))throw new Error("undefined key: "+C);if("bool"==C)return new r(e[C]);if("int"==C)return new i(e[C]);if("bitstr"==C)return new o(e[C]);if("octstr"==C)return new s(e[C]);if("null"==C)return new a(e[C]);if("oid"==C)return new c(e[C]);if("enum"==C)return new u(e[C]);if("utf8str"==C)return new l(e[C]);if("numstr"==C)return new h(e[C]);if("prnstr"==C)return new d(e[C]);if("telstr"==C)return new f(e[C]);if("ia5str"==C)return new p(e[C]);if("utctime"==C)return new m(e[C]);if("gentime"==C)return new g(e[C]);if("visstr"==C)return new v(e[C]);if("bmpstr"==C)return new y(e[C]);if("asn1"==C)return new n(e[C]);if("seq"==C){for(var E=e[C],k=[],A=0;A<E.length;A++){var N=_(E[A]);k.push(N)}return new b({array:k})}if("set"==C){for(E=e[C],k=[],A=0;A<E.length;A++)N=_(E[A]),k.push(N);return new w({array:k})}if("tag"==C){var T=e[C];if("[object Array]"===Object.prototype.toString.call(T)&&3==T.length){var P=_(T[2]);return new S({tag:T[0],explicit:T[1],obj:P})}return new S(T)}},this.jsonToASN1HEX=function(e){return this.newObject(e).tohex()}},he.asn1.ASN1Util.oidHexToInt=function(e){for(var t="",n=parseInt(e.substr(0,2),16),r=(t=Math.floor(n/40)+"."+n%40,""),i=2;i<e.length;i+=2){var o=("00000000"+parseInt(e.substr(i,2),16).toString(2)).slice(-8);r+=o.substr(1,7),"0"==o.substr(0,1)&&(t=t+"."+new _(r,2).toString(10),r="")}return t},he.asn1.ASN1Util.oidIntToHex=function(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},n=function(e){var n="",r=new _(e,10).toString(2),i=7-r.length%7;7==i&&(i=0);for(var o="",s=0;s<i;s++)o+="0";for(r=o+r,s=0;s<r.length-1;s+=7){var a=r.substr(s,7);s!=r.length-7&&(a="1"+a),n+=t(parseInt(a,2))}return n};if(!e.match(/^[0-9.]+$/))throw"malformed oid string: "+e;var r="",i=e.split("."),o=40*parseInt(i[0])+parseInt(i[1]);r+=t(o),i.splice(0,2);for(var s=0;s<i.length;s++)r+=n(i[s]);return r},he.asn1.ASN1Object=function(e){this.params=null,this.getLengthHexFromValue=function(){if(void 0===this.hV||null==this.hV)throw new Error("this.hV is null or undefined");if(this.hV.length%2==1)throw new Error("value hex must be even length: n="+"".length+",v="+this.hV);var e=this.hV.length/2,t=e.toString(16);if(t.length%2==1&&(t="0"+t),e<128)return t;var n=t.length/2;if(n>15)throw new Error("ASN.1 length too long to represent by 8x: n = "+e.toString(16));return(128+n).toString(16)+t},this.tohex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getEncodedHex=function(){return this.tohex()},this.getValueHex=function(){return this.tohex(),this.hV},this.getFreshValueHex=function(){return""},this.setByParam=function(e){this.params=e},null!=e&&null!=e.tlv&&(this.hTLV=e.tlv,this.isModified=!1)},he.asn1.DERAbstractString=function(e){he.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=xe(this.s).toLowerCase()},this.setStringHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e?this.setString(e):void 0!==e.str?this.setString(e.str):void 0!==e.hex&&this.setStringHex(e.hex))},rt(he.asn1.DERAbstractString,he.asn1.ASN1Object),he.asn1.DERAbstractTime=function(e){he.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(e){var t=e.getTime()+6e4*e.getTimezoneOffset();return new Date(t)},this.formatDate=function(e,t,n){var r=this.zeroPadding,i=this.localDateToUTC(e),o=String(i.getFullYear());"utc"==t&&(o=o.substr(2,2));var s=o+r(String(i.getMonth()+1),2)+r(String(i.getDate()),2)+r(String(i.getHours()),2)+r(String(i.getMinutes()),2)+r(String(i.getSeconds()),2);if(!0===n){var a=i.getMilliseconds();if(0!=a){var c=r(String(a),3);s=s+"."+(c=c.replace(/[0]+$/,""))}}return s+"Z"},this.zeroPadding=function(e,t){return e.length>=t?e:new Array(t-e.length+1).join("0")+e},this.setByParam=function(e){this.hV=null,this.hTLV=null,this.params=e},this.getString=function(){},this.setString=function(e){this.hTLV=null,this.isModified=!0,null==this.params&&(this.params={}),this.params.str=e},this.setByDate=function(e){this.hTLV=null,this.isModified=!0,null==this.params&&(this.params={}),this.params.date=e},this.setByDateValue=function(e,t,n,r,i,o){var s=new Date(Date.UTC(e,t-1,n,r,i,o,0));this.setByDate(s)},this.getFreshValueHex=function(){return this.hV}},rt(he.asn1.DERAbstractTime,he.asn1.ASN1Object),he.asn1.DERAbstractStructured=function(e){he.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array=e},this.appendASN1Object=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array.push(e)},this.asn1Array=new Array,void 0!==e&&void 0!==e.array&&(this.asn1Array=e.array)},rt(he.asn1.DERAbstractStructured,he.asn1.ASN1Object),he.asn1.DERBoolean=function(e){he.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV=0==e?"010100":"0101ff"},rt(he.asn1.DERBoolean,he.asn1.ASN1Object),he.asn1.DERInteger=function(e){he.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.params=null;var t=he.asn1.ASN1Util.bigIntToMinTwosComplementsHex;this.setByBigInteger=function(e){this.isModified=!0,this.params={bigint:e}},this.setByInteger=function(e){this.isModified=!0,this.params=e},this.setValueHex=function(e){this.isModified=!0,this.params={hex:e}},this.getFreshValueHex=function(){var e=this.params,n=null;if(null==e)throw new Error("value not set");if("object"==typeof e&&null!=e.hex)return this.hV=e.hex,this.hV;if("number"==typeof e)n=new _(String(e),10);else if(null!=e.int)n=new _(String(e.int),10);else{if(null==e.bigint)throw new Error("wrong parameter");n=e.bigint}return this.hV=t(n),this.hV},null!=e&&(this.params=e)},rt(he.asn1.DERInteger,he.asn1.ASN1Object),he.asn1.DERBitString=function(e){if(void 0!==e&&void 0!==e.obj){var t=he.asn1.ASN1Util.newObject(e.obj);e.hex="00"+t.tohex()}he.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(e){this.hTLV=null,this.isModified=!0,this.hV=e},this.setUnusedBitsAndHexValue=function(e,t){if(e<0||7<e)throw"unused bits shall be from 0 to 7: u = "+e;var n="0"+e;this.hTLV=null,this.isModified=!0,this.hV=n+t},this.setByBinaryString=function(e){var t=8-(e=e.replace(/0+$/,"")).length%8;8==t&&(t=0),e+="0000000".substr(0,t);for(var n="",r=0;r<e.length-1;r+=8){var i=e.substr(r,8),o=parseInt(i,2).toString(16);1==o.length&&(o="0"+o),n+=o}this.hTLV=null,this.isModified=!0,this.hV="0"+t+n},this.setByBooleanArray=function(e){for(var t="",n=0;n<e.length;n++)1==e[n]?t+="1":t+="0";this.setByBinaryString(t)},this.newFalseArray=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=!1;return t},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e&&e.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(e):void 0!==e.hex?this.setHexValueIncludingUnusedBits(e.hex):void 0!==e.bin?this.setByBinaryString(e.bin):void 0!==e.array&&this.setByBooleanArray(e.array))},rt(he.asn1.DERBitString,he.asn1.ASN1Object),he.asn1.DEROctetString=function(e){if(void 0!==e&&void 0!==e.obj){var t=he.asn1.ASN1Util.newObject(e.obj);e.hex=t.tohex()}he.asn1.DEROctetString.superclass.constructor.call(this,e),this.hT="04"},rt(he.asn1.DEROctetString,he.asn1.DERAbstractString),he.asn1.DERNull=function(){he.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},rt(he.asn1.DERNull,he.asn1.ASN1Object),he.asn1.DERObjectIdentifier=function(e){he.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.setValueOidString=function(e){var t=Ze(e);if(null==t)throw new Error("malformed oid string: "+e);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.setValueName=function(e){var t=he.asn1.x509.OID.name2oid(e);if(""===t)throw new Error("DERObjectIdentifier oidName undefined: "+e);this.setValueOidString(t)},this.setValueNameOrOid=function(e){e.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(e):this.setValueName(e)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(e){"string"==typeof e?this.setValueNameOrOid(e):void 0!==e.oid?this.setValueNameOrOid(e.oid):void 0!==e.name?this.setValueNameOrOid(e.name):void 0!==e.hex&&this.setValueHex(e.hex)},void 0!==e&&this.setByParam(e)},rt(he.asn1.DERObjectIdentifier,he.asn1.ASN1Object),he.asn1.DEREnumerated=function(e){he.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=he.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var t=new _(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.int?this.setByInteger(e.int):"number"==typeof e?this.setByInteger(e):void 0!==e.hex&&this.setValueHex(e.hex))},rt(he.asn1.DEREnumerated,he.asn1.ASN1Object),he.asn1.DERUTF8String=function(e){he.asn1.DERUTF8String.superclass.constructor.call(this,e),this.hT="0c"},rt(he.asn1.DERUTF8String,he.asn1.DERAbstractString),he.asn1.DERNumericString=function(e){he.asn1.DERNumericString.superclass.constructor.call(this,e),this.hT="12"},rt(he.asn1.DERNumericString,he.asn1.DERAbstractString),he.asn1.DERPrintableString=function(e){he.asn1.DERPrintableString.superclass.constructor.call(this,e),this.hT="13"},rt(he.asn1.DERPrintableString,he.asn1.DERAbstractString),he.asn1.DERTeletexString=function(e){he.asn1.DERTeletexString.superclass.constructor.call(this,e),this.hT="14"},rt(he.asn1.DERTeletexString,he.asn1.DERAbstractString),he.asn1.DERIA5String=function(e){he.asn1.DERIA5String.superclass.constructor.call(this,e),this.hT="16"},rt(he.asn1.DERIA5String,he.asn1.DERAbstractString),he.asn1.DERVisibleString=function(e){he.asn1.DERIA5String.superclass.constructor.call(this,e),this.hT="1a"},rt(he.asn1.DERVisibleString,he.asn1.DERAbstractString),he.asn1.DERBMPString=function(e){he.asn1.DERBMPString.superclass.constructor.call(this,e),this.hT="1e"},rt(he.asn1.DERBMPString,he.asn1.DERAbstractString),he.asn1.DERUTCTime=function(e){he.asn1.DERUTCTime.superclass.constructor.call(this,e),this.hT="17",this.params=void 0,this.getFreshValueHex=function(){var e=this.params;if(null==this.params&&(e={date:new Date}),"string"==typeof e){if(!e.match(/^[0-9]{12}Z$/)&&!e.match(/^[0-9]{12}\.[0-9]+Z$/))throw new Error("malformed string for UTCTime: "+e);this.hV=ye(e)}else if(null!=e.str)this.hV=ye(e.str);else if(null==e.date&&1==e.millis){var t=new Date;this.hV=ye(this.formatDate(t,"utc",!0))}else if(null!=e.date&&e.date instanceof Date){var n=!0===e.millis;this.hV=ye(this.formatDate(e.date,"utc",n))}else e instanceof Date&&(this.hV=ye(this.formatDate(e,"utc")));if(null==this.hV)throw new Error("parameter not specified properly for UTCTime");return this.hV},null!=e&&this.setByParam(e)},rt(he.asn1.DERUTCTime,he.asn1.DERAbstractTime),he.asn1.DERGeneralizedTime=function(e){he.asn1.DERGeneralizedTime.superclass.constructor.call(this,e),this.hT="18",this.params=e,this.getFreshValueHex=function(){var e=this.params;if(null==this.params&&(e={date:new Date}),"string"==typeof e){if(!e.match(/^[0-9]{14}Z$/)&&!e.match(/^[0-9]{14}\.[0-9]+Z$/))throw new Error("malformed string for GeneralizedTime: "+e);this.hV=ye(e)}else if(null!=e.str)this.hV=ye(e.str);else if(null==e.date&&1==e.millis){var t=new Date;this.hV=ye(this.formatDate(t,"gen",!0))}else if(null!=e.date&&e.date instanceof Date){var n=!0===e.millis;this.hV=ye(this.formatDate(e.date,"gen",n))}else e instanceof Date&&(this.hV=ye(this.formatDate(e,"gen")));if(null==this.hV)throw new Error("parameter not specified properly for GeneralizedTime");return this.hV},null!=e&&this.setByParam(e)},rt(he.asn1.DERGeneralizedTime,he.asn1.DERAbstractTime),he.asn1.DERSequence=function(e){he.asn1.DERSequence.superclass.constructor.call(this,e),this.hT="30",this.getFreshValueHex=function(){for(var e="",t=0;t<this.asn1Array.length;t++)e+=this.asn1Array[t].tohex();return this.hV=e,this.hV}},rt(he.asn1.DERSequence,he.asn1.DERAbstractStructured),he.asn1.DERSet=function(e){he.asn1.DERSet.superclass.constructor.call(this,e),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var e=new Array,t=0;t<this.asn1Array.length;t++){var n=this.asn1Array[t];e.push(n.tohex())}return 1==this.sortFlag&&e.sort(),this.hV=e.join(""),this.hV},void 0!==e&&void 0!==e.sortflag&&0==e.sortflag&&(this.sortFlag=!1)},rt(he.asn1.DERSet,he.asn1.DERAbstractStructured),he.asn1.DERTaggedObject=function(e){he.asn1.DERTaggedObject.superclass.constructor.call(this);var t=he.asn1,n=pe,r=n.getV,i=(n.isASN1HEX,t.ASN1Util.newObject);this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.params={tag:"a0",explicit:!0},this.setASN1Object=function(e,t,n){this.params={tag:t,explicit:e,obj:n}},this.getFreshValueHex=function(){var e=this.params;if(null==e.explicit&&(e.explicit=!0),null!=e.tage&&(e.tag=e.tage,e.explicit=!0),null!=e.tagi&&(e.tag=e.tagi,e.explicit=!1),null!=e.str)this.hV=xe(e.str);else if(null!=e.hex)this.hV=e.hex;else{if(null==e.obj)throw new Error("str, hex nor obj not specified");var n;e.obj instanceof t.ASN1Object?n=e.obj.tohex():"object"==typeof e.obj&&(n=i(e.obj).tohex()),e.explicit?this.hV=n:this.hV=r(n,0)}return null==e.tag&&(e.tag="a0"),this.hT=e.tag,this.hTLV=null,this.isModified=!0,this.hV},this.setByParam=function(e){this.params=e},void 0!==e&&this.setByParam(e)},rt(he.asn1.DERTaggedObject,he.asn1.ASN1Object);var he,de,fe,pe=new function(){};function me(e){for(var t=new Array,n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}function ge(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}function ve(e){for(var t="",n=0;n<e.length;n++){var r=e[n].toString(16);1==r.length&&(r="0"+r),t+=r}return t}function ye(e){return ve(me(e))}function be(e){return(e=(e=e.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}function we(e){return e.length%4==2?e+="==":e.length%4==3&&(e+="="),(e=e.replace(/-/g,"+")).replace(/_/g,"/")}function Se(e){return e.length%2==1&&(e="0"+e),be(b(e))}function _e(e){return w(we(e))}function xe(e){return De(Ge(e)).toLowerCase()}function Ce(e){try{return decodeURIComponent(je(e))}catch(e){return null}}function Ee(e){return Ce(function(e){for(var t=e.match(/.{1,2}/g),n=[],r=0;r<t.length;r++){var i=parseInt(t[r],16);161<=i&&i<=191?(n.push("c2"),n.push(t[r])):192<=i&&i<=255?(n.push("c3"),n.push((i-64).toString(16))):n.push(t[r])}return n.join("")}(e))}function ke(e){for(var t="",n=0;n<e.length-1;n+=2)t+=String.fromCharCode(parseInt(e.substr(n,2),16));return t}function Ae(e){for(var t="",n=0;n<e.length;n++)t+=("0"+e.charCodeAt(n).toString(16)).slice(-2);return t}function Ne(e){return b(e)}function Te(e,t){return(e=e.replace(new RegExp("(.{"+t+"})","g"),"$1\r\n")).replace(/\s+$/,"")}function Pe(e){return w(e.replace(/[^0-9A-Za-z\/+=]*/g,""))}function Oe(e,t){return"-----BEGIN "+t+"-----\r\n"+Te(Ne(e),64)+"\r\n-----END "+t+"-----\r\n"}function Ie(e,t){if(-1==e.indexOf("-----BEGIN "))throw new Error("can't find PEM header");return Pe(e=void 0!==t?(e=e.replace(new RegExp("^[^]*-----BEGIN "+t+"-----"),"")).replace(new RegExp("-----END "+t+"-----[^]*$"),""):(e=e.replace(/^[^]*-----BEGIN [^-]+-----/,"")).replace(/-----END [^-]+-----[^]*$/,""))}function Re(e){var t,n,r,i,o,s,a,c,u,l;if(l=(e=Me(e)).match(/^(\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return t=parseInt(l[1]),n=parseInt(l[2])-1,r=parseInt(l[3]),i=parseInt(l[4]),o=parseInt(l[5]),s=parseInt(l[6]),a=0,""!==(c=l[7])&&(u=(c.substr(1)+"00").substr(0,3),a=parseInt(u)),Date.UTC(t,n,r,i,o,s,a);throw new Error("unsupported zulu format: "+e)}function Le(e){return Math.round(Re(e)/1e3)}function Me(e){return e.match(/^[0-9]{12}Z$/)||e.match(/^[0-9]{12}[.][0-9]*Z$/)?e.match(/^[0-4]/)?"20"+e:"19"+e:e}function De(e){return e.replace(/%/g,"")}function je(e){return e.replace(/(..)/g,"%$1")}function Fe(e){var t="malformed IPv6 address";if(!e.match(/^[0-9A-Fa-f:]+$/))throw t;var n=(e=e.toLowerCase()).split(":").length-1;if(n<2)throw t;var r=":".repeat(7-n+2),i=(e=e.replace("::",r)).split(":");if(8!=i.length)throw t;for(var o=0;o<8;o++)i[o]=("0000"+i[o]).slice(-4);return i.join("")}function Be(e){if(!e.match(/^[0-9A-Fa-f]{32}$/))throw new Error("malformed IPv6 address: "+e);var t=(e=e.toLowerCase()).match(/.{1,4}/g);t=t.map((function(e){return e.replace(/^0+/,"")})),t=t.map((function(e){return""==e?"0":e}));var n=(e=":"+t.join(":")+":").match(/:(0:){2,}/g);if(null==n)return e.slice(1,-1);var r=n.sort().slice(-1)[0];return"::"!=(e=e.replace(r.substr(0,r.length-1),":")).substr(0,2)&&(e=e.substr(1)),"::"!=e.substr(-2,2)&&(e=e.substr(0,e.length-1)),e}function qe(e){var t=new Error("malformed hex value");if(!e.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw t;if(8==e.length)try{return parseInt(e.substr(0,2),16)+"."+parseInt(e.substr(2,2),16)+"."+parseInt(e.substr(4,2),16)+"."+parseInt(e.substr(6,2),16)}catch(e){throw t}else{if(16!=e.length){if(32==e.length)return Be(e);if(64==e.length){try{return Be(e.substr(0,32))+"/"+Ue(e.substr(32))}catch(e){throw t}return}return e}try{return qe(e.substr(0,8))+"/"+Ue(e.substr(8))}catch(e){throw t}}}function Ue(e){var t,n=new Error("malformed mask");try{t=new _(e,16).toString(2)}catch(e){throw n}if(!t.match(/^1*0*$/))throw n;return t.replace(/0+$/,"").length}function ze(e){var t=new Error("malformed IP address");if(!(e=e.toLowerCase(e)).match(/^[0-9a-f.:/]+$/))throw t;if(!e.match(/^[0-9.]+$/)){var n;if(e.match(/^[0-9.]+\/[0-9]+$/))return ze((n=e.split("/"))[0])+$e(parseInt(n[1]),32);if(e.match(/^[0-9a-f:]+$/)&&-1!==e.indexOf(":"))return Fe(e);if(e.match(/^[0-9a-f:]+\/[0-9]+$/)&&-1!==e.indexOf(":"))return Fe((n=e.split("/"))[0])+$e(parseInt(n[1]),128);throw t}var r=e.split(".");if(4!==r.length)throw t;var i="";try{for(var o=0;o<4;o++)i+=("0"+parseInt(r[o]).toString(16)).slice(-2);return i}catch(e){throw t}}function $e(e,t){return 32==t&&0==e?"00000000":128==t&&0==e?"00000000000000000000000000000000":new _(Array(e+1).join("1")+Array(t-e+1).join("0"),2).toString(16)}function He(e){var t=e.match(/.{4}/g).map((function(e){var t=parseInt(e.substr(0,2),16),n=parseInt(e.substr(2),16);if(0==t&n<128)return String.fromCharCode(n);if(t<8){var r=128|63&n;return Ce((192|(7&t)<<3|(192&n)>>6).toString(16)+r.toString(16))}r=128|(15&t)<<2|(192&n)>>6;var i=128|63&n;return Ce((224|(240&t)>>4).toString(16)+r.toString(16)+i.toString(16))}));return t.join("")}function Ge(e){for(var t=encodeURIComponent(e),n="",r=0;r<t.length;r++)"%"==t[r]?(n+=t.substr(r,3),r+=2):n=n+"%"+ye(t[r]);return n}function Ve(e){return!(e.length%2!=0||!e.match(/^[0-9a-f]+$/)&&!e.match(/^[0-9A-F]+$/))}function We(e){return!!e.match(/^[0-9A-Za-z-_.]+$/)}function Ke(e){return e.length%2==1?"0"+e:e.substr(0,1)>"7"?"00"+e:e}function Ze(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},n=function(e){var n="",r=parseInt(e,10).toString(2),i=7-r.length%7;7==i&&(i=0);for(var o="",s=0;s<i;s++)o+="0";for(r=o+r,s=0;s<r.length-1;s+=7){var a=r.substr(s,7);s!=r.length-7&&(a="1"+a),n+=t(parseInt(a,2))}return n};try{if(!e.match(/^[0-9.]+$/))return null;var r="",i=e.split("."),o=40*parseInt(i[0],10)+parseInt(i[1],10);r+=t(o),i.splice(0,2);for(var s=0;s<i.length;s++)r+=n(i[s]);return r}catch(e){return null}}function Ye(e){if(!Ve(e))return null;try{var t=[],n=e.substr(0,2),r=parseInt(n,16);t[0]=new String(Math.floor(r/40)),t[1]=new String(r%40);for(var i=e.substr(2),o=[],s=0;s<i.length/2;s++)o.push(parseInt(i.substr(2*s,2),16));var a=[],c="";for(s=0;s<o.length;s++)128&o[s]?c+=Je((127&o[s]).toString(2),7):(c+=Je((127&o[s]).toString(2),7),a.push(new String(parseInt(c,2))),c="");var u=t.join(".");return a.length>0&&(u=u+"."+a.join(".")),u}catch(e){return null}}pe.getLblen=function(e,t){if("8"!=e.substr(t+2,1))return 1;var n=parseInt(e.substr(t+3,1));return 0==n?-1:0<n&&n<10?n+1:-2},pe.getL=function(e,t){var n=pe.getLblen(e,t);return n<1?"":e.substr(t+2,2*n)},pe.getVblen=function(e,t){var n;return""==(n=pe.getL(e,t))?-1:("8"===n.substr(0,1)?new _(n.substr(2),16):new _(n,16)).intValue()},pe.getVidx=function(e,t){var n=pe.getLblen(e,t);return n<0?n:t+2*(n+1)},pe.getV=function(e,t){var n=pe.getVidx(e,t),r=pe.getVblen(e,t);return e.substr(n,2*r)},pe.getTLV=function(e,t){return e.substr(t,2)+pe.getL(e,t)+pe.getV(e,t)},pe.getTLVblen=function(e,t){return 2+2*pe.getLblen(e,t)+2*pe.getVblen(e,t)},pe.getNextSiblingIdx=function(e,t){return pe.getVidx(e,t)+2*pe.getVblen(e,t)},pe.getChildIdx=function(e,t){var n,r,i,o=pe,s=[];n=o.getVidx(e,t),r=2*o.getVblen(e,t),"03"==e.substr(t,2)&&(n+=2,r-=2),i=0;for(var a=n;i<=r;){var c=o.getTLVblen(e,a);if((i+=c)<=r&&s.push(a),a+=c,i>=r)break}return s},pe.getNthChildIdx=function(e,t,n){return pe.getChildIdx(e,t)[n]},pe.getIdxbyList=function(e,t,n,r){var i,o,s=pe;return 0==n.length?void 0!==r&&e.substr(t,2)!==r?-1:t:(i=n.shift())>=(o=s.getChildIdx(e,t)).length?-1:s.getIdxbyList(e,o[i],n,r)},pe.getIdxbyListEx=function(e,t,n,r){var i,o,s=pe;if(0==n.length)return void 0!==r&&e.substr(t,2)!==r?-1:t;i=n.shift(),o=s.getChildIdx(e,t);for(var a=0,c=0;c<o.length;c++){var u=e.substr(o[c],2);if("number"==typeof i&&!s.isContextTag(u)&&a==i||"string"==typeof i&&s.isContextTag(u,i))return s.getIdxbyListEx(e,o[c],n,r);s.isContextTag(u)||a++}return-1},pe.getTLVbyList=function(e,t,n,r){var i=pe,o=i.getIdxbyList(e,t,n,r);return-1==o||o>=e.length?null:i.getTLV(e,o)},pe.getTLVbyListEx=function(e,t,n,r){var i=pe,o=i.getIdxbyListEx(e,t,n,r);return-1==o?null:i.getTLV(e,o)},pe.getVbyList=function(e,t,n,r,i){var o,s,a=pe;return-1==(o=a.getIdxbyList(e,t,n,r))||o>=e.length?null:(s=a.getV(e,o),!0===i&&(s=s.substr(2)),s)},pe.getVbyListEx=function(e,t,n,r,i){var o,s,a=pe;return-1==(o=a.getIdxbyListEx(e,t,n,r))?null:(s=a.getV(e,o),"03"==e.substr(o,2)&&!1!==i&&(s=s.substr(2)),s)},pe.getInt=function(e,t,n){null==n&&(n=-1);try{var r=e.substr(t,2);if("02"!=r&&"03"!=r)return n;var i=pe.getV(e,t);return"02"==r?parseInt(i,16):Qe(i)}catch(e){return n}},pe.getOID=function(e,t,n){null==n&&(n=null);try{return"06"!=e.substr(t,2)?n:Ye(pe.getV(e,t))}catch(e){return n}},pe.getOIDName=function(e,t,n){null==n&&(n=null);try{var r=pe.getOID(e,t,n);if(r==n)return n;var i=he.asn1.x509.OID.oid2name(r);return""==i?r:i}catch(e){return n}},pe.getString=function(e,t,n){null==n&&(n=null);try{return ke(pe.getV(e,t))}catch(e){return n}},pe.hextooidstr=function(e){var t=function(e,t){return e.length>=t?e:new Array(t-e.length+1).join("0")+e},n=[],r=e.substr(0,2),i=parseInt(r,16);n[0]=new String(Math.floor(i/40)),n[1]=new String(i%40);for(var o=e.substr(2),s=[],a=0;a<o.length/2;a++)s.push(parseInt(o.substr(2*a,2),16));var c=[],u="";for(a=0;a<s.length;a++)128&s[a]?u+=t((127&s[a]).toString(2),7):(u+=t((127&s[a]).toString(2),7),c.push(new String(parseInt(u,2))),u="");var l=n.join(".");return c.length>0&&(l=l+"."+c.join(".")),l},pe.dump=function(e,t,n,r){var i=pe,o=i.getV,s=i.dump,a=i.getChildIdx,c=e;e instanceof he.asn1.ASN1Object&&(c=e.tohex());var u=function(e,t){return e.length<=2*t?e:e.substr(0,t)+"..(total "+e.length/2+"bytes).."+e.substr(e.length-t,t)};void 0===t&&(t={ommit_long_octet:32}),void 0===n&&(n=0),void 0===r&&(r="");var l,h=t.ommit_long_octet;if("01"==(l=c.substr(n,2)))return"00"==(d=o(c,n))?r+"BOOLEAN FALSE\n":r+"BOOLEAN TRUE\n";if("02"==l)return r+"INTEGER "+u(d=o(c,n),h)+"\n";if("03"==l){var d=o(c,n);return i.isASN1HEX(d.substr(2))?(S=r+"BITSTRING, encapsulates\n")+s(d.substr(2),t,0,r+"  "):r+"BITSTRING "+u(d,h)+"\n"}if("04"==l)return d=o(c,n),i.isASN1HEX(d)?(S=r+"OCTETSTRING, encapsulates\n")+s(d,t,0,r+"  "):r+"OCTETSTRING "+u(d,h)+"\n";if("05"==l)return r+"NULL\n";if("06"==l){var f=o(c,n),p=he.asn1.ASN1Util.oidHexToInt(f),m=he.asn1.x509.OID.oid2name(p),g=p.replace(/\./g," ");return""!=m?r+"ObjectIdentifier "+m+" ("+g+")\n":r+"ObjectIdentifier ("+g+")\n"}if("0a"==l)return r+"ENUMERATED "+parseInt(o(c,n))+"\n";if("0c"==l)return r+"UTF8String '"+Ce(o(c,n))+"'\n";if("13"==l)return r+"PrintableString '"+Ce(o(c,n))+"'\n";if("14"==l)return r+"TeletexString '"+Ce(o(c,n))+"'\n";if("16"==l)return r+"IA5String '"+Ce(o(c,n))+"'\n";if("17"==l)return r+"UTCTime "+Ce(o(c,n))+"\n";if("18"==l)return r+"GeneralizedTime "+Ce(o(c,n))+"\n";if("1a"==l)return r+"VisualString '"+Ce(o(c,n))+"'\n";if("1e"==l)return r+"BMPString '"+He(o(c,n))+"'\n";if("30"==l){if("3000"==c.substr(n,4))return r+"SEQUENCE {}\n";S=r+"SEQUENCE\n";var v=t;if((2==(w=a(c,n)).length||3==w.length)&&"06"==c.substr(w[0],2)&&"04"==c.substr(w[w.length-1],2)){m=i.oidname(o(c,w[0]));var y=JSON.parse(JSON.stringify(t));y.x509ExtName=m,v=y}for(var b=0;b<w.length;b++)S+=s(c,v,w[b],r+"  ");return S}if("31"==l){S=r+"SET\n";var w=a(c,n);for(b=0;b<w.length;b++)S+=s(c,t,w[b],r+"  ");return S}if(0!=(128&(l=parseInt(l,16)))){var S,_=31&l;if(0!=(32&l)){for(S=r+"["+_+"]\n",w=a(c,n),b=0;b<w.length;b++)S+=s(c,t,w[b],r+"  ");return S}return d=o(c,n),pe.isASN1HEX(d)?(S=r+"["+_+"]\n")+s(d,t,0,r+"  "):(("68747470"==d.substr(0,8)||"subjectAltName"===t.x509ExtName&&2==_)&&(d=Ce(d)),r+"["+_+"] "+d+"\n")}return r+"UNKNOWN("+l+") "+o(c,n)+"\n"},pe.parse=function(e){var t=pe,n=t.parse,r=t.isASN1HEX,i=t.getV,o=t.getTLV,s=t.getChildIdx,a=he.asn1,c=a.ASN1Util.oidHexToInt,u=a.x509.OID.oid2name,l=Ce,h=He,d=Ee,f={"0c":"utf8str",12:"numstr",13:"prnstr",14:"telstr",16:"ia5str",17:"utctime",18:"gentime","1a":"visstr","1e":"bmpstr",30:"seq",31:"set"},p=e.substr(0,2),m={},g=i(e,0);if("01"==p)return"0101ff"==e?{bool:!0}:{bool:!1};if("02"==p)return{int:{hex:g}};if("03"==p)try{if("00"!=g.substr(0,2))throw"not encap";var v=g.substr(2);if(!r(v))throw"not encap";return{bitstr:{obj:n(v)}}}catch(e){var y=null;return g.length<=10&&(y=et(g)),null==y?{bitstr:{hex:g}}:{bitstr:{bin:y}}}else if("04"==p)try{if(!r(g))throw"not encap";return{octstr:{obj:n(g)}}}catch(e){return{octstr:{hex:g}}}else{if("05"==p)return{null:""};if("06"==p){var b=c(g),w=u(b);return""==w?{oid:b}:{oid:w}}if("0a"==p)return g.length>4?{enum:{hex:g}}:{enum:parseInt(g,16)};if("30"==p||"31"==p)return m[f[p]]=function(e){for(var t=[],r=s(e,0),i=0;i<r.length;i++){var a=r[i],c=o(e,a),u=n(c);t.push(u)}return t}(e),m;if("14"==p){var S=d(g);return m[f[p]]={str:S},m}if("1e"==p)return S=h(g),m[f[p]]={str:S},m;if(-1!=":0c:12:13:16:17:18:1a:".indexOf(p))return S=l(g),m[f[p]]={str:S},m;if(p.match(/^8[0-9]$/))return null==(S=l(g))|""==S||null!=S.match(/[\x00-\x1F\x7F-\x9F]/)||null!=S.match(/[\u0000-\u001F\u0080–\u009F]/)?{tag:{tag:p,explicit:!1,hex:g}}:{tag:{tag:p,explicit:!1,str:S}};if(!p.match(/^a[0-9]$/)){var _=new he.asn1.ASN1Object;return _.hV=g,{asn1:{tlv:p+_.getLengthHexFromValue()+g}}}try{if(!r(g))throw new Error("not encap");return{tag:{tag:p,explicit:!0,obj:n(g)}}}catch(e){return{tag:{tag:p,explicit:!0,hex:g}}}}},pe.isContextTag=function(e,t){var n,r;e=e.toLowerCase();try{n=parseInt(e,16)}catch(e){return-1}if(void 0===t)return 128==(192&n);try{return null!=t.match(/^\[[0-9]+\]$/)&&!((r=parseInt(t.substr(1,t.length-1),10))>31)&&128==(192&n)&&(31&n)==r}catch(e){return!1}},pe.isASN1HEX=function(e){var t=pe;if(e.length%2==1)return!1;var n=t.getVblen(e,0),r=e.substr(0,2),i=t.getL(e,0);return e.length-r.length-i.length==2*n},pe.checkStrictDER=function(e,t,n,r,i){var o=pe;if(void 0===n){if("string"!=typeof e)throw new Error("not hex string");if(e=e.toLowerCase(),!he.lang.String.isHex(e))throw new Error("not hex string");n=e.length,i=(r=e.length/2)<128?1:Math.ceil(r.toString(16))+1}if(o.getL(e,t).length>2*i)throw new Error("L of TLV too long: idx="+t);var s=o.getVblen(e,t);if(s>r)throw new Error("value of L too long than hex: idx="+t);var a=o.getTLV(e,t),c=a.length-2-o.getL(e,t).length;if(c!==2*s)throw new Error("V string length and L's value not the same:"+c+"/"+2*s);if(0===t&&e.length!=a.length)throw new Error("total length and TLV length unmatch:"+e.length+"!="+a.length);var u=e.substr(t,2);if("02"===u){var l=o.getVidx(e,t);if("00"==e.substr(l,2)&&e.charCodeAt(l+2)<56)throw new Error("not least zeros for DER INTEGER")}if(32&parseInt(u,16)){for(var h=o.getVblen(e,t),d=0,f=o.getChildIdx(e,t),p=0;p<f.length;p++)d+=o.getTLV(e,f[p]).length,o.checkStrictDER(e,f[p],n,r,i);if(2*h!=d)throw new Error("sum of children's TLV length and L unmatch: "+2*h+"!="+d)}},pe.oidname=function(e){var t=he.asn1;he.lang.String.isHex(e)&&(e=t.ASN1Util.oidHexToInt(e));var n=t.x509.OID.oid2name(e);return""===n&&(n=e),n},void 0!==he&&he||(he={}),void 0!==he.asn1&&he.asn1||(he.asn1={}),void 0!==he.asn1.x509&&he.asn1.x509||(he.asn1.x509={}),he.asn1.x509.Certificate=function(e){he.asn1.x509.Certificate.superclass.constructor.call(this);var t=he.asn1,n=t.DERBitString,r=t.DERSequence,i=t.x509,o=i.TBSCertificate,s=i.AlgorithmIdentifier;this.params=void 0,this.setByParam=function(e){this.params=e},this.sign=function(){var e=this.params,t=e.sigalg;null!=e.sigalg.name&&(t=e.sigalg.name);var n=e.tbsobj.tohex(),r=new he.crypto.Signature({alg:t});r.init(e.cakey),r.updateHex(n),e.sighex=r.sign()},this.getPEM=function(){return Oe(this.tohex(),"CERTIFICATE")},this.tohex=function(){var e=this.params;if(null!=e.tbsobj&&null!=e.tbsobj||(e.tbsobj=new o(e)),null==e.sighex&&null!=e.cakey&&this.sign(),null==e.sighex)throw new Error("sighex or cakey parameter not defined");var t=[];return t.push(e.tbsobj),t.push(new s({name:e.sigalg})),t.push(new n({hex:"00"+e.sighex})),new r({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&(this.params=e)},rt(he.asn1.x509.Certificate,he.asn1.ASN1Object),he.asn1.x509.TBSCertificate=function(e){he.asn1.x509.TBSCertificate.superclass.constructor.call(this);var t=he.asn1,n=t.x509,r=t.DERTaggedObject,i=t.DERInteger,o=t.DERSequence,s=n.AlgorithmIdentifier,a=n.Time,c=n.X500Name,u=n.Extensions,l=n.SubjectPublicKeyInfo;this.params=null,this.setByParam=function(e){this.params=e},this.tohex=function(){var e=[],t=this.params;if(null!=t.version||1!=t.version){var n=2;null!=t.version&&(n=t.version-1);var h=new r({obj:new i({int:n})});e.push(h)}return e.push(new i(t.serial)),e.push(new s({name:t.sigalg})),e.push(new c(t.issuer)),e.push(new o({array:[new a(t.notbefore),new a(t.notafter)]})),e.push(new c(t.subject)),e.push(new l(it.getKey(t.sbjpubkey))),void 0!==t.ext&&t.ext.length>0&&e.push(new r({tag:"a3",obj:new u(t.ext)})),new he.asn1.DERSequence({array:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},rt(he.asn1.x509.TBSCertificate,he.asn1.ASN1Object),he.asn1.x509.Extensions=function(e){he.asn1.x509.Extensions.superclass.constructor.call(this);var t=he.asn1,n=t.DERSequence,r=t.x509;this.aParam=[],this.setByParam=function(e){this.aParam=e},this.tohex=function(){for(var e=[],t=0;t<this.aParam.length;t++){var i=this.aParam[t],o=i.extname,s=null;if(null!=i.extn)s=new r.PrivateExtension(i);else if("subjectKeyIdentifier"==o)s=new r.SubjectKeyIdentifier(i);else if("keyUsage"==o)s=new r.KeyUsage(i);else if("subjectAltName"==o)s=new r.SubjectAltName(i);else if("issuerAltName"==o)s=new r.IssuerAltName(i);else if("basicConstraints"==o)s=new r.BasicConstraints(i);else if("nameConstraints"==o)s=new r.NameConstraints(i);else if("cRLDistributionPoints"==o)s=new r.CRLDistributionPoints(i);else if("certificatePolicies"==o)s=new r.CertificatePolicies(i);else if("policyMappings"==o)s=new r.PolicyMappings(i);else if("policyConstraints"==o)s=new r.PolicyConstraints(i);else if("inhibitAnyPolicy"==o)s=new r.InhibitAnyPolicy(i);else if("authorityKeyIdentifier"==o)s=new r.AuthorityKeyIdentifier(i);else if("extKeyUsage"==o)s=new r.ExtKeyUsage(i);else if("authorityInfoAccess"==o)s=new r.AuthorityInfoAccess(i);else if("cRLNumber"==o)s=new r.CRLNumber(i);else if("cRLReason"==o)s=new r.CRLReason(i);else if("ocspNonce"==o)s=new r.OCSPNonce(i);else if("ocspNoCheck"==o)s=new r.OCSPNoCheck(i);else if("adobeTimeStamp"==o)s=new r.AdobeTimeStamp(i);else{if("subjectDirectoryAttributes"!=o)throw new Error("extension not supported:"+JSON.stringify(i));s=new r.SubjectDirectoryAttributes(i)}null!=s&&e.push(s)}return new n({array:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},rt(he.asn1.x509.Extensions,he.asn1.ASN1Object),he.asn1.x509.Extension=function(e){he.asn1.x509.Extension.superclass.constructor.call(this);var t=he.asn1,n=t.DERObjectIdentifier,r=t.DEROctetString,i=(t.DERBitString,t.DERBoolean),o=t.DERSequence;this.tohex=function(){var e=new n({oid:this.oid}),t=new r({hex:this.getExtnValueHex()}),s=new Array;return s.push(e),this.critical&&s.push(new i),s.push(t),new o({array:s}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.critical=!1,void 0!==e&&void 0!==e.critical&&(this.critical=e.critical)},rt(he.asn1.x509.Extension,he.asn1.ASN1Object),he.asn1.x509.KeyUsage=function(e){he.asn1.x509.KeyUsage.superclass.constructor.call(this,e);var t=Error,n={digitalSignature:0,nonRepudiation:1,keyEncipherment:2,dataEncipherment:3,keyAgreement:4,keyCertSign:5,cRLSign:6,encipherOnly:7,decipherOnly:8};this.getExtnValueHex=function(){var e=this.getBinValue();return this.asn1ExtnValue=new he.asn1.DERBitString({bin:e}),this.asn1ExtnValue.tohex()},this.getBinValue=function(){var e=this.params;if("object"!=typeof e||"object"!=typeof e.names&&"string"!=typeof e.bin)throw new t("parameter not yet set");if(null!=e.names)return tt(e.names,n);if(null!=e.bin)return e.bin;throw new t("parameter not set properly")},this.oid="2.5.29.15",void 0!==e&&(this.params=e)},rt(he.asn1.x509.KeyUsage,he.asn1.x509.Extension),he.asn1.x509.BasicConstraints=function(e){he.asn1.x509.BasicConstraints.superclass.constructor.call(this,e);var t=he.asn1,n=t.DERBoolean,r=t.DERInteger,i=t.DERSequence;this.getExtnValueHex=function(){var e=new Array;this.cA&&e.push(new n),this.pathLen>-1&&e.push(new r({int:this.pathLen}));var t=new i({array:e});return this.asn1ExtnValue=t,this.asn1ExtnValue.tohex()},this.oid="2.5.29.19",this.cA=!1,this.pathLen=-1,void 0!==e&&(void 0!==e.cA&&(this.cA=e.cA),void 0!==e.pathLen&&(this.pathLen=e.pathLen))},rt(he.asn1.x509.BasicConstraints,he.asn1.x509.Extension),he.asn1.x509.CRLDistributionPoints=function(e){he.asn1.x509.CRLDistributionPoints.superclass.constructor.call(this,e);var t=he.asn1,n=t.x509;this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.setByDPArray=function(e){for(var r=[],i=0;i<e.length;i++)if(e[i]instanceof he.asn1.ASN1Object)r.push(e[i]);else{var o=new n.DistributionPoint(e[i]);r.push(o)}this.asn1ExtnValue=new t.DERSequence({array:r})},this.setByOneURI=function(e){var t=new n.DistributionPoint({fulluri:e});this.setByDPArray([t])},this.oid="2.5.29.31",void 0!==e&&(void 0!==e.array?this.setByDPArray(e.array):void 0!==e.uri&&this.setByOneURI(e.uri))},rt(he.asn1.x509.CRLDistributionPoints,he.asn1.x509.Extension),he.asn1.x509.DistributionPoint=function(e){he.asn1.x509.DistributionPoint.superclass.constructor.call(this);var t=he.asn1,n=t.x509.DistributionPointName;this.tohex=function(){var e=new t.DERSequence;if(null!=this.asn1DP){var n=new t.DERTaggedObject({explicit:!0,tag:"a0",obj:this.asn1DP});e.appendASN1Object(n)}return this.hTLV=e.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&(void 0!==e.dpobj?this.asn1DP=e.dpobj:void 0!==e.dpname?this.asn1DP=new n(e.dpname):void 0!==e.fulluri&&(this.asn1DP=new n({full:[{uri:e.fulluri}]})))},rt(he.asn1.x509.DistributionPoint,he.asn1.ASN1Object),he.asn1.x509.DistributionPointName=function(e){he.asn1.x509.DistributionPointName.superclass.constructor.call(this);var t=he.asn1,n=t.DERTaggedObject;if(this.tohex=function(){if("full"!=this.type)throw new Error("currently type shall be 'full': "+this.type);return this.asn1Obj=new n({explicit:!1,tag:this.tag,obj:this.asn1V}),this.hTLV=this.asn1Obj.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==e)if(t.x509.GeneralNames.prototype.isPrototypeOf(e))this.type="full",this.tag="a0",this.asn1V=e;else{if(void 0===e.full)throw new Error("This class supports GeneralNames only as argument");this.type="full",this.tag="a0",this.asn1V=new t.x509.GeneralNames(e.full)}},rt(he.asn1.x509.DistributionPointName,he.asn1.ASN1Object),he.asn1.x509.CertificatePolicies=function(e){he.asn1.x509.CertificatePolicies.superclass.constructor.call(this,e);var t=he.asn1,n=t.x509,r=t.DERSequence,i=n.PolicyInformation;this.params=null,this.getExtnValueHex=function(){for(var e=[],t=0;t<this.params.array.length;t++)e.push(new i(this.params.array[t]));var n=new r({array:e});return this.asn1ExtnValue=n,this.asn1ExtnValue.tohex()},this.oid="2.5.29.32",void 0!==e&&(this.params=e)},rt(he.asn1.x509.CertificatePolicies,he.asn1.x509.Extension),he.asn1.x509.PolicyInformation=function(e){he.asn1.x509.PolicyInformation.superclass.constructor.call(this,e);var t=he.asn1,n=t.DERSequence,r=t.DERObjectIdentifier,i=t.x509.PolicyQualifierInfo;this.params=null,this.tohex=function(){if(void 0===this.params.policyoid&&void 0===this.params.array)throw new Error("parameter oid and array missing");var e=[new r(this.params.policyoid)];if(void 0!==this.params.array){for(var t=[],o=0;o<this.params.array.length;o++)t.push(new i(this.params.array[o]));t.length>0&&e.push(new n({array:t}))}return new n({array:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&(this.params=e)},rt(he.asn1.x509.PolicyInformation,he.asn1.ASN1Object),he.asn1.x509.PolicyQualifierInfo=function(e){he.asn1.x509.PolicyQualifierInfo.superclass.constructor.call(this,e);var t=he.asn1,n=t.DERSequence,r=t.DERIA5String,i=t.DERObjectIdentifier,o=t.x509.UserNotice;this.params=null,this.tohex=function(){return void 0!==this.params.cps?new n({array:[new i({oid:"1.3.6.1.5.5.7.2.1"}),new r({str:this.params.cps})]}).tohex():null!=this.params.unotice?new n({array:[new i({oid:"1.3.6.1.5.5.7.2.2"}),new o(this.params.unotice)]}).tohex():void 0},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&(this.params=e)},rt(he.asn1.x509.PolicyQualifierInfo,he.asn1.ASN1Object),he.asn1.x509.UserNotice=function(e){he.asn1.x509.UserNotice.superclass.constructor.call(this,e);var t=he.asn1.DERSequence,n=(he.asn1.DERInteger,he.asn1.x509.DisplayText),r=he.asn1.x509.NoticeReference;this.params=null,this.tohex=function(){var e=[];return void 0!==this.params.noticeref&&e.push(new r(this.params.noticeref)),void 0!==this.params.exptext&&e.push(new n(this.params.exptext)),new t({array:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&(this.params=e)},rt(he.asn1.x509.UserNotice,he.asn1.ASN1Object),he.asn1.x509.NoticeReference=function(e){he.asn1.x509.NoticeReference.superclass.constructor.call(this,e);var t=he.asn1.DERSequence,n=he.asn1.DERInteger,r=he.asn1.x509.DisplayText;this.params=null,this.tohex=function(){var e=[];if(void 0!==this.params.org&&e.push(new r(this.params.org)),void 0!==this.params.noticenum){for(var i=[],o=this.params.noticenum,s=0;s<o.length;s++)i.push(new n(o[s]));e.push(new t({array:i}))}if(0==e.length)throw new Error("parameter is empty");return new t({array:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&(this.params=e)},rt(he.asn1.x509.NoticeReference,he.asn1.ASN1Object),he.asn1.x509.DisplayText=function(e){he.asn1.x509.DisplayText.superclass.constructor.call(this,e),this.hT="0c",void 0!==e&&("ia5"===e.type?this.hT="16":"vis"===e.type?this.hT="1a":"bmp"===e.type&&(this.hT="1e"))},rt(he.asn1.x509.DisplayText,he.asn1.DERAbstractString),he.asn1.x509.PolicyMappings=function(e){he.asn1.x509.PolicyMappings.superclass.constructor.call(this,e);var t=he.asn1,n=(t.x509,t.ASN1Util.newObject);this.params=null,this.getExtnValueHex=function(){for(var e=this.params,t=[],r=0;r<e.array.length;r++){var i=e.array[r];t.push({seq:[{oid:i[0]},{oid:i[1]}]})}return this.asn1ExtnValue=n({seq:t}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.33",void 0!==e&&(this.params=e)},rt(he.asn1.x509.PolicyMappings,he.asn1.x509.Extension),he.asn1.x509.PolicyConstraints=function(e){he.asn1.x509.PolicyConstraints.superclass.constructor.call(this,e);var t=he.asn1,n=(t.x509,t.ASN1Util.newObject);this.params=null,this.getExtnValueHex=function(){var e=this.params,t=[];return null!=e.reqexp&&t.push({tag:{tagi:"80",obj:{int:e.reqexp}}}),null!=e.inhibit&&t.push({tag:{tagi:"81",obj:{int:e.inhibit}}}),this.asn1ExtnValue=n({seq:t}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.36",void 0!==e&&(this.params=e)},rt(he.asn1.x509.PolicyConstraints,he.asn1.x509.Extension),he.asn1.x509.InhibitAnyPolicy=function(e){he.asn1.x509.InhibitAnyPolicy.superclass.constructor.call(this,e);var t=he.asn1,n=(t.x509,t.ASN1Util.newObject);this.params=null,this.getExtnValueHex=function(){return this.asn1ExtnValue=n({int:this.params.skip}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.54",void 0!==e&&(this.params=e)},rt(he.asn1.x509.InhibitAnyPolicy,he.asn1.x509.Extension),he.asn1.x509.NameConstraints=function(e){he.asn1.x509.NameConstraints.superclass.constructor.call(this,e);var t=he.asn1,n=t.x509,r=t.ASN1Util.newObject,i=n.GeneralSubtree;this.params=null,this.getExtnValueHex=function(){var e=this.params,t=[];if(null!=e.permit&&null!=e.permit.length){for(var n=[],o=0;o<e.permit.length;o++)n.push(new i(e.permit[o]));t.push({tag:{tagi:"a0",obj:{seq:n}}})}if(null!=e.exclude&&null!=e.exclude.length){var s=[];for(o=0;o<e.exclude.length;o++)s.push(new i(e.exclude[o]));t.push({tag:{tagi:"a1",obj:{seq:s}}})}return this.asn1ExtnValue=r({seq:t}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.30",void 0!==e&&(this.params=e)},rt(he.asn1.x509.NameConstraints,he.asn1.x509.Extension),he.asn1.x509.GeneralSubtree=function(e){he.asn1.x509.GeneralSubtree.superclass.constructor.call(this);var t=he.asn1,n=t.x509.GeneralName,r=t.ASN1Util.newObject;this.params=null,this.setByParam=function(e){this.params=e},this.tohex=function(){var e=this.params,t=[new n(e)];return null!=e.min&&t.push({tag:{tagi:"80",obj:{int:e.min}}}),null!=e.max&&t.push({tag:{tagi:"81",obj:{int:e.max}}}),r({seq:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},rt(he.asn1.x509.GeneralSubtree,he.asn1.ASN1Object),he.asn1.x509.ExtKeyUsage=function(e){he.asn1.x509.ExtKeyUsage.superclass.constructor.call(this,e);var t=he.asn1;this.setPurposeArray=function(e){this.asn1ExtnValue=new t.DERSequence;for(var n=0;n<e.length;n++){var r=new t.DERObjectIdentifier(e[n]);this.asn1ExtnValue.appendASN1Object(r)}},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="2.5.29.37",void 0!==e&&void 0!==e.array&&this.setPurposeArray(e.array)},rt(he.asn1.x509.ExtKeyUsage,he.asn1.x509.Extension),he.asn1.x509.AuthorityKeyIdentifier=function(e){he.asn1.x509.AuthorityKeyIdentifier.superclass.constructor.call(this,e);var t=he,n=t.asn1,r=n.DERTaggedObject,i=n.x509.GeneralNames;t.crypto.Util.isKey,this.asn1KID=null,this.asn1CertIssuer=null,this.asn1CertSN=null,this.getExtnValueHex=function(){var e=new Array;this.asn1KID&&e.push(new r({explicit:!1,tag:"80",obj:this.asn1KID})),this.asn1CertIssuer&&e.push(new r({explicit:!1,tag:"a1",obj:new i([{dn:this.asn1CertIssuer}])})),this.asn1CertSN&&e.push(new r({explicit:!1,tag:"82",obj:this.asn1CertSN}));var t=new n.DERSequence({array:e});return this.asn1ExtnValue=t,this.asn1ExtnValue.tohex()},this.setKIDByParam=function(e){if(void 0!==e.str||void 0!==e.hex)this.asn1KID=new he.asn1.DEROctetString(e);else if("object"==typeof e&&he.crypto.Util.isKey(e)||"string"==typeof e&&-1!=e.indexOf("BEGIN ")){var t=e;"string"==typeof e&&(t=it.getKey(e));var n=it.getKeyID(t);this.asn1KID=new he.asn1.DEROctetString({hex:n})}},this.setCertIssuerByParam=function(e){void 0!==e.str||void 0!==e.ldapstr||void 0!==e.hex||void 0!==e.certsubject||void 0!==e.certissuer?this.asn1CertIssuer=new he.asn1.x509.X500Name(e):"string"==typeof e&&-1!=e.indexOf("BEGIN ")&&-1!=e.indexOf("CERTIFICATE")&&(this.asn1CertIssuer=new he.asn1.x509.X500Name({certissuer:e}))},this.setCertSNByParam=function(e){if(void 0!==e.str||void 0!==e.bigint||void 0!==e.hex)this.asn1CertSN=new he.asn1.DERInteger(e);else if("string"==typeof e&&-1!=e.indexOf("BEGIN ")&&e.indexOf("CERTIFICATE")){var t=new ct;t.readCertPEM(e);var n=t.getSerialNumberHex();this.asn1CertSN=new he.asn1.DERInteger({hex:n})}},this.oid="2.5.29.35",void 0!==e&&(void 0!==e.kid&&this.setKIDByParam(e.kid),void 0!==e.issuer&&this.setCertIssuerByParam(e.issuer),void 0!==e.sn&&this.setCertSNByParam(e.sn),void 0!==e.issuersn&&"string"==typeof e.issuersn&&-1!=e.issuersn.indexOf("BEGIN ")&&e.issuersn.indexOf("CERTIFICATE")&&(this.setCertSNByParam(e.issuersn),this.setCertIssuerByParam(e.issuersn)))},rt(he.asn1.x509.AuthorityKeyIdentifier,he.asn1.x509.Extension),he.asn1.x509.SubjectKeyIdentifier=function(e){he.asn1.x509.SubjectKeyIdentifier.superclass.constructor.call(this,e);var t=he.asn1.DEROctetString;this.asn1KID=null,this.getExtnValueHex=function(){return this.asn1ExtnValue=this.asn1KID,this.asn1ExtnValue.tohex()},this.setKIDByParam=function(e){if(void 0!==e.str||void 0!==e.hex)this.asn1KID=new t(e);else if("object"==typeof e&&he.crypto.Util.isKey(e)||"string"==typeof e&&-1!=e.indexOf("BEGIN")){var n=e;"string"==typeof e&&(n=it.getKey(e));var r=it.getKeyID(n);this.asn1KID=new he.asn1.DEROctetString({hex:r})}},this.oid="2.5.29.14",void 0!==e&&void 0!==e.kid&&this.setKIDByParam(e.kid)},rt(he.asn1.x509.SubjectKeyIdentifier,he.asn1.x509.Extension),he.asn1.x509.AuthorityInfoAccess=function(e){he.asn1.x509.AuthorityInfoAccess.superclass.constructor.call(this,e),this.setAccessDescriptionArray=function(e){for(var t=new Array,n=he.asn1,r=n.DERSequence,i=n.DERObjectIdentifier,o=n.x509.GeneralName,s=0;s<e.length;s++){var a,c=e[s];if(void 0!==c.ocsp)a=new r({array:[new i({oid:"1.3.6.1.5.5.7.48.1"}),new o({uri:c.ocsp})]});else{if(void 0===c.caissuer)throw new Error("unknown AccessMethod parameter: "+JSON.stringify(c));a=new r({array:[new i({oid:"1.3.6.1.5.5.7.48.2"}),new o({uri:c.caissuer})]})}t.push(a)}this.asn1ExtnValue=new r({array:t})},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="1.3.6.1.5.5.7.1.1",void 0!==e&&void 0!==e.array&&this.setAccessDescriptionArray(e.array)},rt(he.asn1.x509.AuthorityInfoAccess,he.asn1.x509.Extension),he.asn1.x509.SubjectAltName=function(e){he.asn1.x509.SubjectAltName.superclass.constructor.call(this,e),this.setNameArray=function(e){this.asn1ExtnValue=new he.asn1.x509.GeneralNames(e)},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="2.5.29.17",void 0!==e&&void 0!==e.array&&this.setNameArray(e.array)},rt(he.asn1.x509.SubjectAltName,he.asn1.x509.Extension),he.asn1.x509.IssuerAltName=function(e){he.asn1.x509.IssuerAltName.superclass.constructor.call(this,e),this.setNameArray=function(e){this.asn1ExtnValue=new he.asn1.x509.GeneralNames(e)},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="2.5.29.18",void 0!==e&&void 0!==e.array&&this.setNameArray(e.array)},rt(he.asn1.x509.IssuerAltName,he.asn1.x509.Extension),he.asn1.x509.SubjectDirectoryAttributes=function(e){he.asn1.x509.SubjectDirectoryAttributes.superclass.constructor.call(this,e);var t=he.asn1,n=t.DERSequence,r=t.ASN1Util.newObject,i=t.x509.OID.name2oid;this.params=null,this.getExtnValueHex=function(){for(var e=[],t=0;t<this.params.array.length;t++){var o=this.params.array[t];if(null==o.attr||null==o.array){var s={seq:[{oid:"1.2.3.4"},{set:[{utf8str:"DE"}]}]};if("dateOfBirth"==o.attr)s.seq[0].oid=i(o.attr),s.seq[1].set[0]={gentime:o.str};else if("placeOfBirth"==o.attr)s.seq[0].oid=i(o.attr),s.seq[1].set[0]={utf8str:o.str};else if("gender"==o.attr)s.seq[0].oid=i(o.attr),s.seq[1].set[0]={prnstr:o.str};else if("countryOfCitizenship"==o.attr)s.seq[0].oid=i(o.attr),s.seq[1].set[0]={prnstr:o.str};else{if("countryOfResidence"!=o.attr)throw new Error("unsupported attribute: "+o.attr);s.seq[0].oid=i(o.attr),s.seq[1].set[0]={prnstr:o.str}}e.push(new r(s))}else{var a={seq:[{oid:o.attr},{set:o.array}]};e.push(r(a))}}var c=new n({array:e});return this.asn1ExtnValue=c,this.asn1ExtnValue.tohex()},this.oid="2.5.29.9",void 0!==e&&(this.params=e)},rt(he.asn1.x509.SubjectDirectoryAttributes,he.asn1.x509.Extension),he.asn1.x509.PrivateExtension=function(e){he.asn1.x509.PrivateExtension.superclass.constructor.call(this,e);var t=he,n=t.lang.String.isHex,r=t.asn1,i=r.x509.OID.name2oid,o=r.ASN1Util.newObject;this.params=null,this.setByParam=function(e){this.oid=i(e.extname),this.params=e},this.getExtnValueHex=function(){if(null==this.params.extname||null==this.params.extn)throw new Error("extname or extnhex not specified");var e=this.params.extn;if("string"==typeof e&&n(e))return e;if("object"==typeof e)try{return o(e).tohex()}catch(e){}throw new Error("unsupported extn value")},null!=e&&this.setByParam(e)},rt(he.asn1.x509.PrivateExtension,he.asn1.x509.Extension),he.asn1.x509.CRL=function(e){he.asn1.x509.CRL.superclass.constructor.call(this);var t=he.asn1,n=t.DERSequence,r=t.DERBitString,i=t.x509,o=i.AlgorithmIdentifier,s=i.TBSCertList;this.params=void 0,this.setByParam=function(e){this.params=e},this.sign=function(){var e=new s(this.params).tohex(),t=new he.crypto.Signature({alg:this.params.sigalg});t.init(this.params.cakey),t.updateHex(e);var n=t.sign();this.params.sighex=n},this.getPEM=function(){return Oe(this.tohex(),"X509 CRL")},this.tohex=function(){var e=this.params;if(null==e.tbsobj&&(e.tbsobj=new s(e)),null==e.sighex&&null!=e.cakey&&this.sign(),null==e.sighex)throw new Error("sighex or cakey parameter not defined");var t=[];return t.push(e.tbsobj),t.push(new o({name:e.sigalg})),t.push(new r({hex:"00"+e.sighex})),new n({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&(this.params=e)},rt(he.asn1.x509.CRL,he.asn1.ASN1Object),he.asn1.x509.TBSCertList=function(e){he.asn1.x509.TBSCertList.superclass.constructor.call(this);var t=he.asn1,n=t.DERInteger,r=t.DERSequence,i=t.DERTaggedObject,o=(t.DERObjectIdentifier,t.x509),s=o.AlgorithmIdentifier,a=o.Time,c=o.Extensions,u=o.X500Name;this.params=null,this.setByParam=function(e){this.params=e},this.getRevCertSequence=function(){for(var e=[],t=this.params.revcert,i=0;i<t.length;i++){var o=[new n(t[i].sn),new a(t[i].date)];null!=t[i].ext&&o.push(new c(t[i].ext)),e.push(new r({array:o}))}return new r({array:e})},this.tohex=function(){var e=[],t=this.params;if(null!=t.version){var o=t.version-1,l=new n({int:o});e.push(l)}if(e.push(new s({name:t.sigalg})),e.push(new u(t.issuer)),e.push(new a(t.thisupdate)),null!=t.nextupdate&&e.push(new a(t.nextupdate)),null!=t.revcert&&e.push(this.getRevCertSequence()),null!=t.ext){var h=new c(t.ext);e.push(new i({tag:"a0",explicit:!0,obj:h}))}return new r({array:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},rt(he.asn1.x509.TBSCertList,he.asn1.ASN1Object),he.asn1.x509.CRLEntry=function(e){he.asn1.x509.CRLEntry.superclass.constructor.call(this);var t=he.asn1;this.setCertSerial=function(e){this.sn=new t.DERInteger(e)},this.setRevocationDate=function(e){this.time=new t.x509.Time(e)},this.tohex=function(){var e=new t.DERSequence({array:[this.sn,this.time]});return this.TLV=e.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&(void 0!==e.time&&this.setRevocationDate(e.time),void 0!==e.sn&&this.setCertSerial(e.sn))},rt(he.asn1.x509.CRLEntry,he.asn1.ASN1Object),he.asn1.x509.CRLNumber=function(e){he.asn1.x509.CRLNumber.superclass.constructor.call(this,e),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new he.asn1.DERInteger(this.params.num),this.asn1ExtnValue.tohex()},this.oid="2.5.29.20",null!=e&&(this.params=e)},rt(he.asn1.x509.CRLNumber,he.asn1.x509.Extension),he.asn1.x509.CRLReason=function(e){he.asn1.x509.CRLReason.superclass.constructor.call(this,e),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new he.asn1.DEREnumerated(this.params.code),this.asn1ExtnValue.tohex()},this.oid="2.5.29.21",null!=e&&(this.params=e)},rt(he.asn1.x509.CRLReason,he.asn1.x509.Extension),he.asn1.x509.OCSPNonce=function(e){he.asn1.x509.OCSPNonce.superclass.constructor.call(this,e),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new he.asn1.DEROctetString(this.params),this.asn1ExtnValue.tohex()},this.oid="1.3.6.1.5.5.7.48.1.2",null!=e&&(this.params=e)},rt(he.asn1.x509.OCSPNonce,he.asn1.x509.Extension),he.asn1.x509.OCSPNoCheck=function(e){he.asn1.x509.OCSPNoCheck.superclass.constructor.call(this,e),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new he.asn1.DERNull,this.asn1ExtnValue.tohex()},this.oid="1.3.6.1.5.5.7.48.1.5",null!=e&&(this.params=e)},rt(he.asn1.x509.OCSPNoCheck,he.asn1.x509.Extension),he.asn1.x509.AdobeTimeStamp=function(e){he.asn1.x509.AdobeTimeStamp.superclass.constructor.call(this,e);var t=he.asn1,n=t.DERInteger,r=t.DERBoolean,i=t.DERSequence,o=t.x509.GeneralName;this.params=null,this.getExtnValueHex=function(){var e=this.params,t=[new n(1)];return t.push(new o({uri:e.uri})),null!=e.reqauth&&t.push(new r(e.reqauth)),this.asn1ExtnValue=new i({array:t}),this.asn1ExtnValue.tohex()},this.oid="1.2.840.113583.1.1.9.1",void 0!==e&&this.setByParam(e)},rt(he.asn1.x509.AdobeTimeStamp,he.asn1.x509.Extension),he.asn1.x509.X500Name=function(e){he.asn1.x509.X500Name.superclass.constructor.call(this),this.asn1Array=[],this.paramArray=[],this.sRule="utf8";var t=he.asn1,n=t.x509,r=n.RDN;this.setByString=function(e,t){void 0!==t&&(this.sRule=t);var n=e.split("/");n.shift();for(var i=[],o=0;o<n.length;o++)if(n[o].match(/^[^=]+=.+$/))i.push(n[o]);else{var s=i.length-1;i[s]=i[s]+"/"+n[o]}for(o=0;o<i.length;o++)this.asn1Array.push(new r({str:i[o],rule:this.sRule}))},this.setByLdapString=function(e,t){void 0!==t&&(this.sRule=t);var r=n.X500Name.ldapToCompat(e);this.setByString(r,t)},this.setByObject=function(e,t){for(var n in void 0!==t&&(this.sRule=t),e)if(e.hasOwnProperty(n)){var i=new r({str:n+"="+e[n],rule:this.sRule});this.asn1Array?this.asn1Array.push(i):this.asn1Array=[i]}},this.setByParam=function(e){var t;void 0!==e.rule&&(this.sRule=e.rule),void 0!==e.array?this.paramArray=e.array:void 0!==e.str?this.setByString(e.str):void 0!==e.ldapstr?this.setByLdapString(e.ldapstr):void 0!==e.hex?this.hTLV=e.hex:void 0!==e.certissuer?((t=new ct).readCertPEM(e.certissuer),this.hTLV=t.getIssuerHex()):void 0!==e.certsubject?((t=new ct).readCertPEM(e.certsubject),this.hTLV=t.getSubjectHex()):"object"==typeof e&&void 0===e.certsubject&&void 0===e.certissuer&&this.setByObject(e)},this.tohex=function(){if("string"==typeof this.hTLV)return this.hTLV;if(0==this.asn1Array.length&&this.paramArray.length>0)for(var e=0;e<this.paramArray.length;e++){var n={array:this.paramArray[e]};"utf8"!=this.sRule&&(n.rule=this.sRule);var i=new r(n);this.asn1Array.push(i)}var o=new t.DERSequence({array:this.asn1Array});return this.hTLV=o.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},rt(he.asn1.x509.X500Name,he.asn1.ASN1Object),he.asn1.x509.X500Name.compatToLDAP=function(e){if("/"!==e.substr(0,1))throw"malformed input";var t=(e=e.substr(1)).split("/");return t.reverse(),t=t.map((function(e){return e.replace(/,/,"\\,")})),t.join(",")},he.asn1.x509.X500Name.onelineToLDAP=function(e){return he.asn1.x509.X500Name.compatToLDAP(e)},he.asn1.x509.X500Name.ldapToCompat=function(e){for(var t=e.split(","),n=!1,r=[],i=0;t.length>0;i++){var o=t.shift();if(!0===n){var s=(r.pop()+","+o).replace(/\\,/g,",");r.push(s),n=!1}else r.push(o);"\\"===o.substr(-1,1)&&(n=!0)}return r=r.map((function(e){return e.replace("/","\\/")})),r.reverse(),"/"+r.join("/")},he.asn1.x509.X500Name.ldapToOneline=function(e){return he.asn1.x509.X500Name.ldapToCompat(e)},he.asn1.x509.RDN=function(e){he.asn1.x509.RDN.superclass.constructor.call(this),this.asn1Array=[],this.paramArray=[],this.sRule="utf8";var t=he.asn1.x509.AttributeTypeAndValue;this.setByParam=function(e){void 0!==e.rule&&(this.sRule=e.rule),void 0!==e.str&&this.addByMultiValuedString(e.str),void 0!==e.array&&(this.paramArray=e.array)},this.addByString=function(e){this.asn1Array.push(new he.asn1.x509.AttributeTypeAndValue({str:e,rule:this.sRule}))},this.addByMultiValuedString=function(e){for(var t=he.asn1.x509.RDN.parseString(e),n=0;n<t.length;n++)this.addByString(t[n])},this.tohex=function(){if(0==this.asn1Array.length&&this.paramArray.length>0)for(var e=0;e<this.paramArray.length;e++){var n=this.paramArray[e];void 0!==n.rule&&"utf8"!=this.sRule&&(n.rule=this.sRule);var r=new t(n);this.asn1Array.push(r)}var i=new he.asn1.DERSet({array:this.asn1Array});return this.TLV=i.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},rt(he.asn1.x509.RDN,he.asn1.ASN1Object),he.asn1.x509.RDN.parseString=function(e){for(var t=e.split(/\+/),n=!1,r=[],i=0;t.length>0;i++){var o=t.shift();if(!0===n){var s=(r.pop()+"+"+o).replace(/\\\+/g,"+");r.push(s),n=!1}else r.push(o);"\\"===o.substr(-1,1)&&(n=!0)}var a=!1,c=[];for(i=0;r.length>0;i++){if(o=r.shift(),!0===a){var u=c.pop();o.match(/"$/)?(s=(u+"+"+o).replace(/^([^=]+)="(.*)"$/,"$1=$2"),c.push(s),a=!1):c.push(u+"+"+o)}else c.push(o);o.match(/^[^=]+="/)&&(a=!0)}return c},he.asn1.x509.AttributeTypeAndValue=function(e){he.asn1.x509.AttributeTypeAndValue.superclass.constructor.call(this),this.sRule="utf8",this.sType=null,this.sValue=null,this.dsType=null;var t=he,n=t.asn1,r=n.DERSequence,i=n.DERUTF8String,o=n.DERPrintableString,s=n.DERTeletexString,a=n.DERIA5String,c=n.DERVisibleString,u=n.DERBMPString,l=t.lang.String.isMail,h=t.lang.String.isPrintable;this.setByParam=function(e){if(void 0!==e.rule&&(this.sRule=e.rule),void 0!==e.ds&&(this.dsType=e.ds),void 0===e.value&&void 0!==e.str){var t=e.str.match(/^([^=]+)=(.+)$/);if(!t)throw new Error("malformed attrTypeAndValueStr: "+attrTypeAndValueStr);this.sType=t[1],this.sValue=t[2]}else this.sType=e.type,this.sValue=e.value},this.setByString=function(e,t){void 0!==t&&(this.sRule=t);var n=e.match(/^([^=]+)=(.+)$/);if(!n)throw new Error("malformed attrTypeAndValueStr: "+attrTypeAndValueStr);this.setByAttrTypeAndValueStr(n[1],n[2])},this._getDsType=function(){var e=this.sType,t=this.sValue,n=this.sRule;return"prn"===n?"CN"==e&&l(t)?"ia5":h(t)?"prn":"utf8":"utf8"===n?"CN"==e&&l(t)?"ia5":"C"==e?"prn":"utf8":"utf8"},this.setByAttrTypeAndValueStr=function(e,t,n){void 0!==n&&(this.sRule=n),this.sType=e,this.sValue=t},this.getValueObj=function(e,t){if("utf8"==e)return new i({str:t});if("prn"==e)return new o({str:t});if("tel"==e)return new s({str:t});if("ia5"==e)return new a({str:t});if("vis"==e)return new c({str:t});if("bmp"==e)return new u({str:t});throw new Error("unsupported directory string type: type="+e+" value="+t)},this.tohex=function(){null==this.dsType&&(this.dsType=this._getDsType());var e=he.asn1.x509.OID.atype2obj(this.sType),t=this.getValueObj(this.dsType,this.sValue),n=new r({array:[e,t]});return this.TLV=n.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},rt(he.asn1.x509.AttributeTypeAndValue,he.asn1.ASN1Object),he.asn1.x509.SubjectPublicKeyInfo=function(e){he.asn1.x509.SubjectPublicKeyInfo.superclass.constructor.call(this);var t=he,n=t.asn1,r=n.DERInteger,i=n.DERBitString,o=n.DERObjectIdentifier,s=n.DERSequence,a=n.ASN1Util.newObject,c=n.x509.AlgorithmIdentifier,u=t.crypto;u.ECDSA,u.DSA,this.getASN1Object=function(){if(null==this.asn1AlgId||null==this.asn1SubjPKey)throw"algId and/or subjPubKey not set";return new s({array:[this.asn1AlgId,this.asn1SubjPKey]})},this.tohex=function(){var e=this.getASN1Object();return this.hTLV=e.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},this.setPubKey=function(e){try{if(e instanceof oe){var t=a({seq:[{int:{bigint:e.n}},{int:{int:e.e}}]}).tohex();this.asn1AlgId=new c({name:"rsaEncryption"}),this.asn1SubjPKey=new i({hex:"00"+t})}}catch(e){}try{if(e instanceof he.crypto.ECDSA){var n=new o({name:e.curveName});this.asn1AlgId=new c({name:"ecPublicKey",asn1params:n}),this.asn1SubjPKey=new i({hex:"00"+e.pubKeyHex})}}catch(e){}try{if(e instanceof he.crypto.DSA){n=new a({seq:[{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}}]}),this.asn1AlgId=new c({name:"dsa",asn1params:n});var s=new r({bigint:e.y});this.asn1SubjPKey=new i({hex:"00"+s.tohex()})}}catch(e){}},void 0!==e&&this.setPubKey(e)},rt(he.asn1.x509.SubjectPublicKeyInfo,he.asn1.ASN1Object),he.asn1.x509.Time=function(e){he.asn1.x509.Time.superclass.constructor.call(this);var t=he.asn1,n=t.DERUTCTime,r=t.DERGeneralizedTime;this.params=null,this.type=null,this.setTimeParams=function(e){this.timeParams=e},this.setByParam=function(e){this.params=e},this.getType=function(e){return e.match(/^[0-9]{12}Z$/)?"utc":e.match(/^[0-9]{14}Z$/)?"gen":e.match(/^[0-9]{12}\.[0-9]+Z$/)?"utc":e.match(/^[0-9]{14}\.[0-9]+Z$/)?"gen":null},this.tohex=function(){var e=this.params,t=null;if("string"==typeof e&&(e={str:e}),null==e||!e.str||null!=e.type&&null!=e.type||(e.type=this.getType(e.str)),null!=e&&e.str?("utc"==e.type&&(t=new n(e.str)),"gen"==e.type&&(t=new r(e.str))):t="gen"==this.type?new r:new n,null==t)throw new Error("wrong setting for Time");return this.TLV=t.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},he.asn1.x509.Time_bak=function(e){he.asn1.x509.Time_bak.superclass.constructor.call(this);var t=he.asn1,n=t.DERUTCTime,r=t.DERGeneralizedTime;this.setTimeParams=function(e){this.timeParams=e},this.tohex=function(){var e=null;return e=null!=this.timeParams?"utc"==this.type?new n(this.timeParams):new r(this.timeParams):"utc"==this.type?new n:new r,this.TLV=e.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},this.type="utc",void 0!==e&&(void 0!==e.type?this.type=e.type:void 0!==e.str&&(e.str.match(/^[0-9]{12}Z$/)&&(this.type="utc"),e.str.match(/^[0-9]{14}Z$/)&&(this.type="gen")),this.timeParams=e)},rt(he.asn1.x509.Time,he.asn1.ASN1Object),he.asn1.x509.AlgorithmIdentifier=function(e){he.asn1.x509.AlgorithmIdentifier.superclass.constructor.call(this),this.nameAlg=null,this.asn1Alg=null,this.asn1Params=null,this.paramEmpty=!1;var t=he.asn1,n=t.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV;if(this.tohex=function(){if(null===this.nameAlg&&null===this.asn1Alg)throw new Error("algorithm not specified");if(null!==this.nameAlg){var e=null;for(var r in n)r===this.nameAlg&&(e=n[r]);if(null!==e)return this.hTLV=e,this.hTLV}null!==this.nameAlg&&null===this.asn1Alg&&(this.asn1Alg=t.x509.OID.name2obj(this.nameAlg));var i=[this.asn1Alg];null!==this.asn1Params&&i.push(this.asn1Params);var o=new t.DERSequence({array:i});return this.hTLV=o.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&(void 0!==e.name&&(this.nameAlg=e.name),void 0!==e.asn1params&&(this.asn1Params=e.asn1params),void 0!==e.paramempty&&(this.paramEmpty=e.paramempty)),null===this.asn1Params&&!1===this.paramEmpty&&null!==this.nameAlg){void 0!==this.nameAlg.name&&(this.nameAlg=this.nameAlg.name);var r=this.nameAlg.toLowerCase();"withdsa"!==r.substr(-7,7)&&"withecdsa"!==r.substr(-9,9)&&(this.asn1Params=new t.DERNull)}},rt(he.asn1.x509.AlgorithmIdentifier,he.asn1.ASN1Object),he.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV={SHAwithRSAandMGF1:"300d06092a864886f70d01010a3000",SHA256withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040201a11a301806092a864886f70d010108300b0609608648016503040201a203020120",SHA384withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040202a11a301806092a864886f70d010108300b0609608648016503040202a203020130",SHA512withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040203a11a301806092a864886f70d010108300b0609608648016503040203a203020140"},he.asn1.x509.GeneralName=function(e){he.asn1.x509.GeneralName.superclass.constructor.call(this);var t=he.asn1,n=t.x509,r=n.X500Name,i=n.OtherName,o=t.DERIA5String,s=(t.DERPrintableString,t.DEROctetString),a=t.DERTaggedObject,c=t.ASN1Object,u=Error;this.params=null,this.setByParam=function(e){this.params=e},this.tohex=function(){var e,t,n=this.params,l=!1;if(void 0!==n.other)e="a0",t=new i(n.other);else if(void 0!==n.rfc822)e="81",t=new o({str:n.rfc822});else if(void 0!==n.dns)e="82",t=new o({str:n.dns});else if(void 0!==n.dn)e="a4",l=!0,t="string"==typeof n.dn?new r({str:n.dn}):n.dn instanceof he.asn1.x509.X500Name?n.dn:new r(n.dn);else if(void 0!==n.ldapdn)e="a4",l=!0,t=new r({ldapstr:n.ldapdn});else if(void 0!==n.certissuer||void 0!==n.certsubj){var h,d;e="a4",l=!0;var f=null;if(void 0!==n.certsubj?(h=!1,d=n.certsubj):(h=!0,d=n.certissuer),d.match(/^[0-9A-Fa-f]+$/),-1!=d.indexOf("-----BEGIN ")&&(f=Ie(d)),null==f)throw new Error("certsubj/certissuer not cert");var p,m=new ct;m.hex=f,p=h?m.getIssuerHex():m.getSubjectHex(),(t=new c).hTLV=p}else if(void 0!==n.uri)e="86",t=new o({str:n.uri});else{if(void 0===n.ip)throw new u("improper params");var g;e="87";var v=n.ip;try{if(v.match(/^[0-9a-f]+$/)){var y=v.length;if(8!=y&&16!=y&&32!=y&&64!=y)throw"err";g=v}else g=ze(v)}catch(e){throw new u("malformed IP address: "+n.ip+":"+e.message)}t=new s({hex:g})}return new a({tag:e,explicit:l,obj:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},rt(he.asn1.x509.GeneralName,he.asn1.ASN1Object),he.asn1.x509.GeneralNames=function(e){he.asn1.x509.GeneralNames.superclass.constructor.call(this);var t=he.asn1;this.setByParamArray=function(e){for(var n=0;n<e.length;n++){var r=new t.x509.GeneralName(e[n]);this.asn1Array.push(r)}},this.tohex=function(){return new t.DERSequence({array:this.asn1Array}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.asn1Array=new Array,void 0!==e&&this.setByParamArray(e)},rt(he.asn1.x509.GeneralNames,he.asn1.ASN1Object),he.asn1.x509.OtherName=function(e){he.asn1.x509.OtherName.superclass.constructor.call(this);var t=he.asn1,n=t.DERObjectIdentifier,r=t.DERSequence,i=t.ASN1Util.newObject;this.params=null,this.setByParam=function(e){this.params=e},this.tohex=function(){var e=this.params;if(null==e.oid||null==e.value)throw new Error("oid or value not specified");var t=new n({oid:e.oid}),o=i({tag:{tag:"a0",explicit:!0,obj:e.value}});return new r({array:[t,o]}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},rt(he.asn1.x509.OtherName,he.asn1.ASN1Object),he.asn1.x509.OID=new function(){var e=he.asn1.DERObjectIdentifier;this.name2oidList={sha1:"1.3.14.3.2.26",sha256:"2.16.840.1.101.3.4.2.1",sha384:"2.16.840.1.101.3.4.2.2",sha512:"2.16.840.1.101.3.4.2.3",sha224:"2.16.840.1.101.3.4.2.4",md5:"1.2.840.113549.2.5",md2:"1.3.14.7.2.2.1",ripemd160:"1.3.36.3.2.1",MD2withRSA:"1.2.840.113549.1.1.2",MD4withRSA:"1.2.840.113549.1.1.3",MD5withRSA:"1.2.840.113549.1.1.4",SHA1withRSA:"1.2.840.113549.1.1.5","pkcs1-MGF":"1.2.840.113549.1.1.8",rsaPSS:"1.2.840.113549.1.1.10",SHA224withRSA:"1.2.840.113549.1.1.14",SHA256withRSA:"1.2.840.113549.1.1.11",SHA384withRSA:"1.2.840.113549.1.1.12",SHA512withRSA:"1.2.840.113549.1.1.13",SHA1withECDSA:"1.2.840.10045.4.1",SHA224withECDSA:"1.2.840.10045.4.3.1",SHA256withECDSA:"1.2.840.10045.4.3.2",SHA384withECDSA:"1.2.840.10045.4.3.3",SHA512withECDSA:"1.2.840.10045.4.3.4",dsa:"1.2.840.10040.4.1",SHA1withDSA:"1.2.840.10040.4.3",SHA224withDSA:"2.16.840.1.101.3.4.3.1",SHA256withDSA:"2.16.840.1.101.3.4.3.2",rsaEncryption:"1.2.840.113549.1.1.1",commonName:"2.5.4.3",countryName:"2.5.4.6",localityName:"2.5.4.7",stateOrProvinceName:"2.5.4.8",streetAddress:"2.5.4.9",organizationName:"2.5.4.10",organizationalUnitName:"2.5.4.11",domainComponent:"0.9.2342.19200300.100.1.25",userId:"0.9.2342.19200300.100.1.1",surname:"2.5.4.4",givenName:"2.5.4.42",title:"2.5.4.12",distinguishedName:"2.5.4.49",emailAddress:"1.2.840.113549.1.9.1",description:"2.5.4.13",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",uniqueIdentifier:"2.5.4.45",organizationIdentifier:"2.5.4.97",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3",subjectDirectoryAttributes:"2.5.29.9",subjectKeyIdentifier:"2.5.29.14",keyUsage:"2.5.29.15",subjectAltName:"2.5.29.17",issuerAltName:"2.5.29.18",basicConstraints:"2.5.29.19",cRLNumber:"2.5.29.20",cRLReason:"2.5.29.21",nameConstraints:"2.5.29.30",cRLDistributionPoints:"2.5.29.31",certificatePolicies:"2.5.29.32",anyPolicy:"2.5.29.32.0",policyMappings:"2.5.29.33",authorityKeyIdentifier:"2.5.29.35",policyConstraints:"2.5.29.36",extKeyUsage:"2.5.29.37",inhibitAnyPolicy:"2.5.29.54",authorityInfoAccess:"1.3.6.1.5.5.7.1.1",ocsp:"1.3.6.1.5.5.7.48.1",ocspBasic:"1.3.6.1.5.5.7.48.1.1",ocspNonce:"1.3.6.1.5.5.7.48.1.2",ocspNoCheck:"1.3.6.1.5.5.7.48.1.5",caIssuers:"1.3.6.1.5.5.7.48.2",anyExtendedKeyUsage:"2.5.29.37.0",serverAuth:"1.3.6.1.5.5.7.3.1",clientAuth:"1.3.6.1.5.5.7.3.2",codeSigning:"1.3.6.1.5.5.7.3.3",emailProtection:"1.3.6.1.5.5.7.3.4",timeStamping:"1.3.6.1.5.5.7.3.8",ocspSigning:"1.3.6.1.5.5.7.3.9",smtpUTF8Mailbox:"1.3.6.1.5.5.7.8.9",dateOfBirth:"1.3.6.1.5.5.7.9.1",placeOfBirth:"1.3.6.1.5.5.7.9.2",gender:"1.3.6.1.5.5.7.9.3",countryOfCitizenship:"1.3.6.1.5.5.7.9.4",countryOfResidence:"1.3.6.1.5.5.7.9.5",ecPublicKey:"1.2.840.10045.2.1","P-256":"1.2.840.10045.3.1.7",secp256r1:"1.2.840.10045.3.1.7",secp256k1:"1.3.132.0.10",secp384r1:"1.3.132.0.34",secp521r1:"1.3.132.0.35",pkcs5PBES2:"1.2.840.113549.1.5.13",pkcs5PBKDF2:"1.2.840.113549.1.5.12","des-EDE3-CBC":"1.2.840.113549.3.7",data:"1.2.840.113549.1.7.1","signed-data":"1.2.840.113549.1.7.2","enveloped-data":"1.2.840.113549.1.7.3","digested-data":"1.2.840.113549.1.7.5","encrypted-data":"1.2.840.113549.1.7.6","authenticated-data":"1.2.840.113549.1.9.16.1.2",tstinfo:"1.2.840.113549.1.9.16.1.4",signingCertificate:"1.2.840.113549.1.9.16.2.12",timeStampToken:"1.2.840.113549.1.9.16.2.14",signaturePolicyIdentifier:"1.2.840.113549.1.9.16.2.15",etsArchiveTimeStamp:"1.2.840.113549.1.9.16.2.27",signingCertificateV2:"1.2.840.113549.1.9.16.2.47",etsArchiveTimeStampV2:"1.2.840.113549.1.9.16.2.48",extensionRequest:"1.2.840.113549.1.9.14",contentType:"1.2.840.113549.1.9.3",messageDigest:"1.2.840.113549.1.9.4",signingTime:"1.2.840.113549.1.9.5",counterSignature:"1.2.840.113549.1.9.6",archiveTimeStampV3:"0.4.0.1733.2.4",pdfRevocationInfoArchival:"1.2.840.113583.1.1.8",adobeTimeStamp:"1.2.840.113583.1.1.9.1",smimeMailboxLegacy:"2.23.140.1.5.1.1",smimeMailboxMulti:"2.23.140.1.5.1.2",smimeMailboxStrict:"2.23.140.1.5.1.3",smimeOrganizationLegacy:"2.23.140.1.5.2.1",smimeOrganizationMulti:"2.23.140.1.5.2.2",smimeOrganizationStrict:"2.23.140.1.5.2.3",smimeSponsorLegacy:"2.23.140.1.5.3.1",smimeSponsorMulti:"2.23.140.1.5.3.2",smimeSponsorStrict:"2.23.140.1.5.3.3",smimeIndividualLegacy:"2.23.140.1.5.4.1",smimeIndividualMulti:"2.23.140.1.5.4.2",smimeIndividualStrict:"2.23.140.1.5.4.3"},this.atype2oidList={CN:"2.5.4.3",L:"2.5.4.7",ST:"2.5.4.8",O:"2.5.4.10",OU:"2.5.4.11",C:"2.5.4.6",STREET:"2.5.4.9",DC:"0.9.2342.19200300.100.1.25",UID:"0.9.2342.19200300.100.1.1",SN:"2.5.4.4",T:"2.5.4.12",GN:"2.5.4.42",DN:"2.5.4.49",E:"1.2.840.113549.1.9.1",description:"2.5.4.13",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",serialNumber:"2.5.4.5",uniqueIdentifier:"2.5.4.45",organizationIdentifier:"2.5.4.97",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3"},this.objCache={},this.name2obj=function(t){if(void 0!==this.objCache[t])return this.objCache[t];if(void 0===this.name2oidList[t])throw"Name of ObjectIdentifier not defined: "+t;var n=this.name2oidList[t],r=new e({oid:n});return this.objCache[t]=r,r},this.atype2obj=function(t){if(void 0!==this.objCache[t])return this.objCache[t];var n;if(t.match(/^\d+\.\d+\.[0-9.]+$/))n=t;else if(void 0!==this.atype2oidList[t])n=this.atype2oidList[t];else{if(void 0===this.name2oidList[t])throw new Error("AttributeType name undefined: "+t);n=this.name2oidList[t]}var r=new e({oid:n});return this.objCache[t]=r,r},this.registerOIDs=function(e){if(this.checkOIDs(e))for(var t in e)this.name2oidList[t]=e[t]},this.checkOIDs=function(e){try{var t=Object.keys(e);return 0!=t.length&&(t.map((function(e,t,n){if(!this[e].match(/^[0-2]\.[0-9.]+$/))throw new Error("value is not OID")}),e),!0)}catch(e){return!1}}},he.asn1.x509.OID.oid2name=function(e){var t=he.asn1.x509.OID.name2oidList;for(var n in t)if(t[n]==e)return n;return""},he.asn1.x509.OID.oid2atype=function(e){var t=he.asn1.x509.OID.atype2oidList;for(var n in t)if(t[n]==e)return n;return e},he.asn1.x509.OID.name2oid=function(e){if(e.match(/^[0-9.]+$/))return e;var t=he.asn1.x509.OID.name2oidList;return void 0===t[e]?"":t[e]},he.asn1.x509.X509Util={},he.asn1.x509.X509Util.newCertPEM=function(e){var t=he.asn1.x509;return t.TBSCertificate,new(0,t.Certificate)(e).getPEM()},void 0!==he&&he||(he={}),void 0!==he.asn1&&he.asn1||(he.asn1={}),void 0!==he.asn1.cms&&he.asn1.cms||(he.asn1.cms={}),he.asn1.cms.Attribute=function(e){var t=Error,n=he.asn1,r=n.DERSequence,i=n.DERSet,o=n.DERObjectIdentifier;this.params=null,this.typeOid=null,this.setByParam=function(e){this.params=e},this.getValueArray=function(){throw new t("not yet implemented abstract")},this.tohex=function(){var e=new o({oid:this.typeOid}),t=new i({array:this.getValueArray()});return new r({array:[e,t]}).tohex()},this.getEncodedHex=function(){return this.tohex()}},rt(he.asn1.cms.Attribute,he.asn1.ASN1Object),he.asn1.cms.ContentType=function(e){var t=he.asn1;t.cms.ContentType.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.3",this.getValueArray=function(){return[new t.DERObjectIdentifier(this.params.type)]},null!=e&&this.setByParam(e)},rt(he.asn1.cms.ContentType,he.asn1.cms.Attribute),he.asn1.cms.MessageDigest=function(e){var t=he.asn1,n=t.DEROctetString;t.cms.MessageDigest.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.4",this.getValueArray=function(){return[new n(this.params)]},null!=e&&this.setByParam(e)},rt(he.asn1.cms.MessageDigest,he.asn1.cms.Attribute),he.asn1.cms.SigningTime=function(e){var t=he.asn1;t.cms.SigningTime.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.5",this.getValueArray=function(){return[new t.x509.Time(this.params)]},null!=e&&this.setByParam(e)},rt(he.asn1.cms.SigningTime,he.asn1.cms.Attribute),he.asn1.cms.SigningCertificate=function(e){var t=Error,n=he,r=n.asn1,i=r.DERSequence,o=r.cms,s=o.ESSCertID;n.crypto,o.SigningCertificate.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.12",this.getValueArray=function(){if(null==this.params||null==this.params||null==this.params.array)throw new t("parameter 'array' not specified");for(var n=this.params.array,r=[],o=0;o<n.length;o++){var a=n[o];0!=e.hasis||"string"!=typeof a||-1==a.indexOf("-----BEGIN")&&!pe.isASN1HEX(a)||(a={cert:a}),0!=a.hasis&&0==e.hasis&&(a.hasis=!1),r.push(new s(a))}var c=new i({array:r});return[new i({array:[c]})]},null!=e&&this.setByParam(e)},rt(he.asn1.cms.SigningCertificate,he.asn1.cms.Attribute),he.asn1.cms.ESSCertID=function(e){he.asn1.cms.ESSCertID.superclass.constructor.call(this);var t=Error,n=he,r=n.asn1,i=r.DEROctetString,o=r.DERSequence,s=r.cms.IssuerSerial;this.params=null,this.getCertHash=function(e,r){if(null!=e.hash)return e.hash;if("string"==typeof e&&-1==e.indexOf("-----BEGIN")&&!pe.isASN1HEX(e))return e;var i,o,s;if("string"==typeof e)i=e;else{if(null==e.cert)throw new t("hash nor cert unspecified");i=e.cert}if(o=-1!=i.indexOf("-----BEGIN")?Ie(i):i,"string"==typeof e&&(-1!=e.indexOf("-----BEGIN")?o=Ie(e):pe.isASN1HEX(e)&&(o=e)),null!=e.alg)s=e.alg;else{if(null==r)throw new t("hash alg unspecified");s=r}return n.crypto.Util.hashHex(o,s)},this.tohex=function(){var e=this.params,t=this.getCertHash(e,"sha1"),n=[];return n.push(new i({hex:t})),("string"==typeof e&&-1!=e.indexOf("-----BEGIN")||null!=e.cert&&0!=e.hasis||null!=e.issuer&&null!=e.serial)&&n.push(new s(e)),new o({array:n}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},rt(he.asn1.cms.ESSCertID,he.asn1.ASN1Object),he.asn1.cms.SigningCertificateV2=function(e){var t=Error,n=he,r=n.asn1,i=r.DERSequence,o=(r.x509,r.cms),s=o.ESSCertIDv2;n.crypto,o.SigningCertificateV2.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.47",this.getValueArray=function(){if(null==this.params||null==this.params||null==this.params.array)throw new t("parameter 'array' not specified");for(var n=this.params.array,r=[],o=0;o<n.length;o++){var a=n[o];null==e.alg&&0!=e.hasis||"string"!=typeof a||-1==a.indexOf("-----BEGIN")&&!pe.isASN1HEX(a)||(a={cert:a}),null==a.alg&&null!=e.alg&&(a.alg=e.alg),0!=a.hasis&&0==e.hasis&&(a.hasis=!1),r.push(new s(a))}var c=new i({array:r});return[new i({array:[c]})]},null!=e&&this.setByParam(e)},rt(he.asn1.cms.SigningCertificateV2,he.asn1.cms.Attribute),he.asn1.cms.ESSCertIDv2=function(e){he.asn1.cms.ESSCertIDv2.superclass.constructor.call(this),Error;var t=he.asn1,n=t.DEROctetString,r=t.DERSequence,i=t.cms.IssuerSerial,o=t.x509.AlgorithmIdentifier;this.params=null,this.tohex=function(){var e=this.params,t=this.getCertHash(e,"sha256"),s=[];return null!=e.alg&&"sha256"!=e.alg&&s.push(new o({name:e.alg})),s.push(new n({hex:t})),("string"==typeof e&&-1!=e.indexOf("-----BEGIN")||null!=e.cert&&0!=e.hasis||null!=e.issuer&&null!=e.serial)&&s.push(new i(e)),new r({array:s}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},rt(he.asn1.cms.ESSCertIDv2,he.asn1.cms.ESSCertID),he.asn1.cms.IssuerSerial=function(e){var t=Error,n=he.asn1,r=n.DERInteger,i=n.DERSequence,o=n.cms,s=n.x509.GeneralNames,a=ct;o.IssuerSerial.superclass.constructor.call(this),this.setByParam=function(e){this.params=e},this.tohex=function(){var e,n,o=this.params;if("string"==typeof o&&-1!=o.indexOf("-----BEGIN")||null!=o.cert){var c;c=null!=o.cert?o.cert:o;var u=new a;u.readCertPEM(c),e=u.getIssuer(),n={hex:u.getSerialNumberHex()}}else{if(null==o.issuer||!o.serial)throw new t("cert or issuer and serial parameter not specified");e=o.issuer,n=o.serial}var l=new s([{dn:e}]),h=new r(n);return new i({array:[l,h]}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},rt(he.asn1.cms.IssuerSerial,he.asn1.ASN1Object),he.asn1.cms.SignerIdentifier=function(e){var t=he.asn1,n=(t.DERInteger,t.DERSequence,t.cms),r=n.IssuerAndSerialNumber,i=n.SubjectKeyIdentifier;t.x509.X500Name,Error,n.SignerIdentifier.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params;if("isssn"==e.type)return new r(e).tohex();if("skid"==e.type)return new i(e).tohex();throw new Error("wrong property for isssn or skid")},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},rt(he.asn1.cms.SignerIdentifier,he.asn1.ASN1Object),he.asn1.cms.IssuerAndSerialNumber=function(e){var t=he.asn1,n=t.DERInteger,r=t.DERSequence,i=t.cms,o=t.x509.X500Name,s=ct,a=Error;i.IssuerAndSerialNumber.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e,t,i=this.params;if("string"==typeof i&&-1!=i.indexOf("-----BEGIN")||null!=i.cert){var c;c=null!=i.cert?i.cert:i;var u=new s;u.readCertPEM(c),e=u.getIssuer(),t={hex:u.getSerialNumberHex()}}else{if(null==i.issuer||!i.serial)throw new a("cert or issuer and serial parameter not specified");e=i.issuer,t=i.serial}var l=new o(e),h=new n(t);return new r({array:[l,h]}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(e){this.params=e},null!=e&&this.setByParam(e)},rt(he.asn1.cms.IssuerAndSerialNumber,he.asn1.ASN1Object),he.asn1.cms.SubjectKeyIdentifier=function(e){var t=he.asn1,n=(t.DERInteger,t.DERSequence,t.ASN1Util.newObject),r=t.cms,i=(r.IssuerAndSerialName,r.SubjectKeyIdentifier,t.x509.X500Name,ct),o=Error;r.SubjectKeyIdentifier.superclass.constructor.call(this),this.tohex=function(){var e,t=this.params;if(null==t.cert&&null==t.skid)throw new o("property cert nor skid undefined");return null!=t.cert?e=new i(t.cert).getExtSubjectKeyIdentifier().kid.hex:null!=t.skid&&(e=t.skid),n({tag:{tage:"a0",obj:{octstr:{hex:e}}}}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},rt(he.asn1.cms.SubjectKeyIdentifier,he.asn1.ASN1Object),he.asn1.cms.AttributeList=function(e){var t=Error,n=he.asn1,r=n.DERSet,i=n.cms;i.AttributeList.superclass.constructor.call(this),this.params=null,this.hTLV=null,this.setByParam=function(e){this.params=e},this.tohex=function(){var e=this.params;if(null!=this.hTLV)return this.hTLV;var n=!0;null!=e.sortflag&&(n=e.sortflag);for(var o=e.array,s=[],a=0;a<o.length;a++){var c=o[a],u=c.attr;if("contentType"==u)s.push(new i.ContentType(c));else if("messageDigest"==u)s.push(new i.MessageDigest(c));else if("signingTime"==u)s.push(new i.SigningTime(c));else if("signingCertificate"==u)s.push(new i.SigningCertificate(c));else if("signingCertificateV2"==u)s.push(new i.SigningCertificateV2(c));else if("signaturePolicyIdentifier"==u)s.push(new he.asn1.cades.SignaturePolicyIdentifier(c));else{if("signatureTimeStamp"!=u&&"timeStampToken"!=u)throw new t("unknown attr: "+u);s.push(new he.asn1.cades.SignatureTimeStamp(c))}}var l=new r({array:s,sortflag:n});return this.hTLV=l.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},rt(he.asn1.cms.AttributeList,he.asn1.ASN1Object),he.asn1.cms.SignerInfo=function(e){var t=Error,n=he,r=n.asn1,i=r.DERInteger,o=r.DEROctetString,s=r.DERSequence,a=r.DERTaggedObject,c=r.cms,u=c.SignerIdentifier,l=c.AttributeList,h=(c.ContentType,c.EncapsulatedContentInfo,c.MessageDigest,c.SignedData,r.x509.AlgorithmIdentifier),d=n.crypto,f=it;c.SignerInfo.superclass.constructor.call(this),this.params=null,this.sign=function(){var e=this.params,t=e.sigalg,n=new l(e.sattrs).tohex(),r=f.getKey(e.signkey),i=new d.Signature({alg:t});i.init(r),i.updateHex(n);var o=i.sign();e.sighex=o},this.tohex=function(){var e=this.params,n=[];if(n.push(new i({int:e.version})),n.push(new u(e.id)),n.push(new h({name:e.hashalg})),null!=e.sattrs){var r=new l(e.sattrs);try{n.push(new a({tag:"a0",explicit:!1,obj:r}))}catch(e){throw new t("si sattr error: "+e)}}if(null!=e.sigalgfield?n.push(new h({name:e.sigalgfield})):n.push(new h({name:e.sigalg})),null==e.sighex&&null!=e.signkey&&this.sign(),n.push(new o({hex:e.sighex})),null!=e.uattrs){r=new l(e.uattrs);try{n.push(new a({tag:"a1",explicit:!1,obj:r}))}catch(e){throw new t("si uattr error: "+e)}}return new s({array:n}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},rt(he.asn1.cms.SignerInfo,he.asn1.ASN1Object),he.asn1.cms.EncapsulatedContentInfo=function(e){var t=he.asn1,n=t.DERTaggedObject,r=t.DERSequence,i=t.DERObjectIdentifier,o=t.DEROctetString;t.cms.EncapsulatedContentInfo.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params,t=[];if(t.push(new i(e.type)),null!=e.content&&(null!=e.content.hex||null!=e.content.str)&&1!=e.isDetached){var s=new o(e.content),a=new n({tag:"a0",explicit:!0,obj:s});t.push(a)}return new r({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(e){this.params=e},null!=e&&this.setByParam(e)},rt(he.asn1.cms.EncapsulatedContentInfo,he.asn1.ASN1Object),he.asn1.cms.ContentInfo=function(e){var t=he.asn1,n=t.DERTaggedObject,r=t.DERSequence,i=t.DERObjectIdentifier;t.x509.OID.name2obj,he.asn1.cms.ContentInfo.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params,t=[];t.push(new i(e.type));var o=new n({tag:"a0",explicit:!0,obj:e.obj});return t.push(o),new r({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(e){this.params=e},null!=e&&this.setByParam(e)},rt(he.asn1.cms.ContentInfo,he.asn1.ASN1Object),he.asn1.cms.SignedData=function(e){Error;var t=he.asn1,n=(t.ASN1Object,t.DERInteger),r=t.DERSet,i=t.DERSequence,o=(t.DERTaggedObject,t.cms),s=o.EncapsulatedContentInfo,a=o.SignerInfo,c=o.ContentInfo,u=o.CertificateSet,l=o.RevocationInfoChoices,h=t.x509.AlgorithmIdentifier;he.asn1.cms.SignedData.superclass.constructor.call(this),this.params=null,this.checkAndFixParam=function(){var e=this.params;this._setDigestAlgs(e),this._setContentTypeByEContent(e),this._setMessageDigestByEContent(e),this._setSignerInfoVersion(e),this._setSignedDataVersion(e)},this._setDigestAlgs=function(e){for(var t={},n=e.sinfos,r=0;r<n.length;r++)t[n[r].hashalg]=1;e.hashalgs=Object.keys(t).sort()},this._setContentTypeByEContent=function(e){for(var t=e.econtent.type,n=e.sinfos,r=0;r<n.length;r++){var i=n[r];this._getAttrParamByName(i,"contentType").type=t}},this._setMessageDigestByEContent=function(e){var t=e.econtent,n=(e.econtent.type,t.content.hex);null==n&&"data"==t.type&&null!=t.content.str&&(n=Ae(t.content.str));for(var r=e.sinfos,i=0;i<r.length;i++){var o=r[i],s=o.hashalg,a=this._getAttrParamByName(o,"messageDigest"),c=he.crypto.Util.hashHex(n,s);a.hex=c}},this._getAttrParamByName=function(e,t){for(var n=e.sattrs.array,r=0;r<n.length;r++)if(n[r].attr==t)return n[r]},this._setSignerInfoVersion=function(e){for(var t=e.sinfos,n=0;n<t.length;n++){var r=t[n],i=1;"skid"==r.id.type&&(i=3),r.version=i}},this._setSignedDataVersion=function(e){var t=this._getSignedDataVersion(e);e.version=t},this._getSignedDataVersion=function(e){if(null!=e.revinfos)for(var t=e.revinfos,n=0;n<t.length;n++)if(null!=t[n].ocsp)return 5;var r=e.sinfos;for(n=0;n<r.length;n++)if(3==e.sinfos[n].version)return 3;return"data"!=e.econtent.type?3:1},this.tohex=function(){var e=this.params;null!=this.getEncodedHexPrepare&&this.getEncodedHexPrepare(),1!=e.fixed&&this.checkAndFixParam();var t=[];t.push(new n({int:e.version}));for(var o=[],c=0;c<e.hashalgs.length;c++){var d=e.hashalgs[c];o.push(new h({name:d}))}t.push(new r({array:o})),t.push(new s(e.econtent)),null!=e.certs&&t.push(new u(e.certs)),null!=e.revinfos&&t.push(new l(e.revinfos));var f=[];for(c=0;c<e.sinfos.length;c++){var p=e.sinfos[c];f.push(new a(p))}return t.push(new r({array:f})),new i({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.getContentInfo=function(){return new c({type:"signed-data",obj:this})},this.getContentInfoEncodedHex=function(){return this.getContentInfo().tohex()},null!=e&&this.setByParam(e)},rt(he.asn1.cms.SignedData,he.asn1.ASN1Object),he.asn1.cms.CertificateSet=function(e){he.asn1.cms.CertificateSet.superclass.constructor.call(this);var t=Error,n=he.asn1,r=n.DERTaggedObject,i=n.DERSet,o=n.ASN1Object;this.params=null,this.tohex=function(){var e,n=this.params,s=[];if(n instanceof Array)e=n;else{if(null==n.array)throw new t("cert array not specified");e=n.array}for(var a=0;a<e.length;a++){var c=Ie(e[a]),u=new o;u.hTLV=c,s.push(u)}var l={array:s};0==n.sortflag&&(l.sortflag=!1);var h=new i(l);return new r({tag:"a0",explicit:!1,obj:h}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},rt(he.asn1.cms.CertificateSet,he.asn1.ASN1Object),he.asn1.cms.RevocationInfoChoices=function(e){he.asn1.cms.RevocationInfoChoices.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params;if(!e instanceof Array)throw new Error("params is not array");for(var t=[],n=0;n<e.length;n++)t.push(new he.asn1.cms.RevocationInfoChoice(e[n]));return he.asn1.ASN1Util.newObject({tag:{tagi:"a1",obj:{set:t}}}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},rt(he.asn1.cms.RevocationInfoChoices,he.asn1.ASN1Object),he.asn1.cms.RevocationInfoChoice=function(e){he.asn1.cms.RevocationInfoChoice.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params;if(null!=e.crl&&"string"==typeof e.crl){var t=e.crl;return-1!=e.crl.indexOf("-----BEGIN")&&(t=Ie(e.crl)),t}if(null!=e.ocsp)return he.asn1.ASN1Util.newObject({tag:{tagi:"a1",obj:new he.asn1.cms.OtherRevocationFormat(e)}}).tohex();throw new Error("property crl or ocsp undefined")},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},rt(he.asn1.cms.RevocationInfoChoice,he.asn1.ASN1Object),he.asn1.cms.OtherRevocationFormat=function(e){he.asn1.cms.OtherRevocationFormat.superclass.constructor.call(this);var t=Error,n=he,r=n.asn1.ASN1Util.newObject,i=n.lang.String.isHex;this.params=null,this.tohex=function(){var e=this.params;if(null==e.ocsp)throw new t("property ocsp not specified");if(!i(e.ocsp)||!pe.isASN1HEX(e.ocsp))throw new t("ocsp value not ASN.1 hex string");return r({seq:[{oid:"1.3.6.1.5.5.7.16.2"},{asn1:{tlv:e.ocsp}}]}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},rt(he.asn1.cms.OtherRevocationFormat,he.asn1.ASN1Object),he.asn1.cms.CMSUtil=new function(){},he.asn1.cms.CMSUtil.newSignedData=function(e){return new he.asn1.cms.SignedData(e)},he.asn1.cms.CMSUtil.verifySignedData=function(e){var t=he,n=t.asn1,r=n.cms,i=(r.SignerInfo,r.SignedData,r.SigningTime,r.SigningCertificate,r.SigningCertificateV2,n.cades.SignaturePolicyIdentifier,t.lang.String.isHex),o=pe,s=o.getVbyList,a=o.getTLVbyList,c=o.getIdxbyList,u=o.getChildIdx,l=o.getTLV,h=o.oidname,d=t.crypto.Util.hashHex;void 0===e.cms&&i(e.cms);var f=e.cms,p=function(e,t){var n=t.idx;t.signerid_issuer1=a(e,n,[1,0],"30"),t.signerid_serial1=s(e,n,[1,1],"02"),t.hashalg=h(s(e,n,[2,0],"06"));var r=c(e,n,[3],"a0");t.idxSignedAttrs=r,m(e,t,r);var i=u(e,n).length;if(i<6)throw"malformed SignerInfo";t.sigalg=h(s(e,n,[i-2,0],"06")),t.sigval=s(e,n,[i-1],"04")},m=function(e,t,n){var r=u(e,n);t.signedAttrIdxList=r;for(var i=0;i<r.length;i++){var o,a=r[i],c=s(e,a,[0],"06");"2a864886f70d010905"===c?(o=Ce(s(e,a,[1,0])),t.saSigningTime=o):"2a864886f70d010904"===c&&(o=s(e,a,[1,0],"04"),t.saMessageDigest=o)}},g=function(e,t,n,r){n.verifyDetail={};var i=n.verifyDetail,o=t.parse.econtent,s=n.hashalg,a=n.saMessageDigest;i.validMessageDigest=!1,d(o,s)===a&&(i.validMessageDigest=!0),function(e,t,n,r){var i,o=t.parse.certsIdx;if(void 0===t.certs){i=[],t.certkeys=[];for(var s=u(e,o),a=0;a<s.length;a++){var c=l(e,s[a]),h=new ct;h.readCertHex(c),i[a]=h,t.certkeys[a]=h.getPublicKey()}t.certs=i}else i=t.certs;for(t.cccc=i.length,t.cccci=s.length,a=0;a<i.length;a++){var d=h.getIssuerHex(),f=h.getSerialNumberHex();n.signerid_issuer1===d&&n.signerid_serial1===f&&(n.certkey_idx=a)}}(e,t,n),i.validSignatureValue=!1;var c=n.sigalg,h="31"+l(e,n.idxSignedAttrs).substr(2);n.signedattrshex=h;var f=t.certs[n.certkey_idx].getPublicKey(),p=new he.crypto.Signature({alg:c});p.init(f),p.updateHex(h);var m=p.verify(n.sigval);i.validSignatureValue_isValid=m,!0===m&&(i.validSignatureValue=!0),n.isValid=!1,i.validMessageDigest&&i.validSignatureValue&&(n.isValid=!0)},v={isValid:!1,parse:{}};return function(e,t){if("2a864886f70d010702"!==s(e,0,[0],"06"))return t;t.cmsType="signedData",t.econtent=s(e,0,[1,0,2,1,0]),function(e,t){for(var n,r=3;r<6;r++)if(void 0!==(n=c(e,0,[1,0,r]))){var i=e.substr(n,2);"a0"===i&&(t.certsIdx=n),"a1"===i&&(t.revinfosIdx=n),"31"===i&&(t.signerinfosIdx=n)}}(e,t),t.signerInfos=[],function(e,t){var n=t.signerinfosIdx;if(void 0!==n){var r=u(e,n);t.signerInfoIdxList=r;for(var i=0;i<r.length;i++){var o={idx:r[i]};p(e,o),t.signerInfos.push(o)}}}(e,t)}(f,v.parse),function(e,t){for(var n=t.parse.signerInfos,r=n.length,i=!0,o=0;o<r;o++){var s=n[o];g(e,t,s),s.isValid||(i=!1)}t.isValid=i}(f,v),v},he.asn1.cms.CMSParser=function(){var e=Error,t=ct,n=new t,r=pe,i=r.getV,o=r.getTLV,s=(r.getIdxbyList,r.getTLVbyList),a=r.getTLVbyListEx,c=r.getVbyList,u=r.getVbyListEx,l=r.getChildIdx;this.getCMSSignedData=function(e){var t=s(e,0,[1,0]);return this.getSignedData(t)},this.getSignedData=function(e){var t=l(e,0),n={},r=i(e,t[0]),s=parseInt(r,16);n.version=s;var c=o(e,t[1]);n.hashalgs=this.getHashAlgArray(c);var u=o(e,t[2]);n.econtent=this.getEContent(u);var h=a(e,0,["[0]"]);null!=h&&(n.certs=this.getCertificateSet(h)),a(e,0,["[1]"]);var d=a(e,0,[3]);return n.sinfos=this.getSignerInfos(d),n},this.getHashAlgArray=function(e){for(var n=l(e,0),r=new t,i=[],s=0;s<n.length;s++){var a=o(e,n[s]),c=r.getAlgorithmIdentifierName(a);i.push(c)}return i},this.getEContent=function(e){var t={},n=c(e,0,[0]),r=c(e,0,[1,0]);return t.type=he.asn1.x509.OID.oid2name(pe.hextooidstr(n)),t.content={hex:r},t},this.getSignerInfos=function(e){for(var t=[],n=l(e,0),r=0;r<n.length;r++){var i=o(e,n[r]),s=this.getSignerInfo(i);t.push(s)}return t},this.getSignerInfo=function(e){var t={},i=l(e,0),s=r.getInt(e,i[0],-1);-1!=s&&(t.version=s);var c=o(e,i[1]),h=this.getIssuerAndSerialNumber(c);t.id=h;var d=o(e,i[2]),f=n.getAlgorithmIdentifierName(d);t.hashalg=f;var p=a(e,0,["[0]"]);if(null!=p){var m=this.getAttributeList(p);t.sattrs=m}var g=a(e,0,[3]),v=n.getAlgorithmIdentifierName(g);t.sigalg=v;var y=u(e,0,[4]);t.sighex=y;var b=a(e,0,["[1]"]);if(null!=b){var w=this.getAttributeList(b);t.uattrs=w}return t},this.getSignerIdentifier=function(e){if("30"==e.substr(0,2))return this.getIssuerAndSerialNumber(e);throw new Error("SKID of signerIdentifier not supported")},this.getIssuerAndSerialNumber=function(e){var t={type:"isssn"},r=l(e,0),s=o(e,r[0]);t.issuer=n.getX500Name(s);var a=i(e,r[1]);return t.serial={hex:a},t},this.getAttributeList=function(e){for(var t=[],n=l(e,0),r=0;r<n.length;r++){var i=o(e,n[r]),s=this.getAttribute(i);t.push(s)}return{array:t}},this.getAttribute=function(e){var t={},n=l(e,0),i=r.getOID(e,n[0]),s=he.asn1.x509.OID.oid2name(i);t.attr=s;var a=o(e,n[1]),c=l(a,0);if(1==c.length)t.valhex=o(a,c[0]);else{for(var u=[],h=0;h<c.length;h++)u.push(o(a,c[h]));t.valhex=u}return"contentType"==s?this.setContentType(t):"messageDigest"==s?this.setMessageDigest(t):"signingTime"==s?this.setSigningTime(t):"signingCertificate"==s?this.setSigningCertificate(t):"signingCertificateV2"==s?this.setSigningCertificateV2(t):"signaturePolicyIdentifier"==s&&this.setSignaturePolicyIdentifier(t),t},this.setContentType=function(e){var t=r.getOIDName(e.valhex,0,null);null!=t&&(e.type=t,delete e.valhex)},this.setSigningTime=function(e){var t=Ce(i(e.valhex,0));e.str=t,delete e.valhex},this.setMessageDigest=function(e){var t=i(e.valhex,0);e.hex=t,delete e.valhex},this.setSigningCertificate=function(e){var t=l(e.valhex,0);if(t.length>0){for(var n=o(e.valhex,t[0]),r=l(n,0),i=[],s=0;s<r.length;s++){var a=o(n,r[s]),c=this.getESSCertID(a);i.push(c)}e.array=i}if(t.length>1){var u=o(e.valhex,t[1]);e.polhex=u}delete e.valhex},this.setSignaturePolicyIdentifier=function(e){var n=l(e.valhex,0);if(n.length>0){var s=r.getOID(e.valhex,n[0]);e.oid=s}if(n.length>1){var a=new t,c=l(e.valhex,n[1]),u=o(e.valhex,c[0]),h=a.getAlgorithmIdentifierName(u);e.alg=h;var d=i(e.valhex,c[1]);e.hash=d}delete e.valhex},this.setSigningCertificateV2=function(e){var t=l(e.valhex,0);if(t.length>0){for(var n=o(e.valhex,t[0]),r=l(n,0),i=[],s=0;s<r.length;s++){var a=o(n,r[s]),c=this.getESSCertIDv2(a);i.push(c)}e.array=i}if(t.length>1){var u=o(e.valhex,t[1]);e.polhex=u}delete e.valhex},this.getESSCertID=function(e){var t={},n=l(e,0);if(n.length>0){var r=i(e,n[0]);t.hash=r}if(n.length>1){var s=o(e,n[1]),a=this.getIssuerSerial(s);null!=a.serial&&(t.serial=a.serial),null!=a.issuer&&(t.issuer=a.issuer)}return t},this.getESSCertIDv2=function(t){var r={},s=l(t,0);if(s.length<1||3<s.length)throw new e("wrong number of elements");var a=0;if("30"==t.substr(s[0],2)){var c=o(t,s[0]);r.alg=n.getAlgorithmIdentifierName(c),a++}else r.alg="sha256";var u=i(t,s[a]);if(r.hash=u,s.length>a+1){var h=o(t,s[a+1]),d=this.getIssuerSerial(h);r.issuer=d.issuer,r.serial=d.serial}return r},this.getIssuerSerial=function(e){var t={},r=l(e,0),s=o(e,r[0]),a=n.getGeneralNames(s)[0].dn;t.issuer=a;var c=i(e,r[1]);return t.serial={hex:c},t},this.getCertificateSet=function(e){for(var t=l(e,0),n=[],r=0;r<t.length;r++){var i=o(e,t[r]);if("30"==i.substr(0,2)){var s=Oe(i,"CERTIFICATE");n.push(s)}}return{array:n,sortflag:!1}}},void 0!==he&&he||(he={}),void 0!==he.asn1&&he.asn1||(he.asn1={}),void 0!==he.asn1.tsp&&he.asn1.tsp||(he.asn1.tsp={}),he.asn1.tsp.TimeStampToken=function(e){var t=he.asn1.tsp;t.TimeStampToken.superclass.constructor.call(this),this.params=null,this.getEncodedHexPrepare=function(){var e=new t.TSTInfo(this.params.econtent.content);this.params.econtent.content.hex=e.tohex()},null!=e&&this.setByParam(e)},rt(he.asn1.tsp.TimeStampToken,he.asn1.cms.SignedData),he.asn1.tsp.TSTInfo=function(e){Error;var t=he.asn1,n=t.DERSequence,r=t.DERInteger,i=t.DERBoolean,o=t.DERGeneralizedTime,s=t.DERObjectIdentifier,a=t.DERTaggedObject,c=t.tsp,u=c.MessageImprint,l=c.Accuracy,h=(t.x509.X500Name,t.x509.GeneralName);if(c.TSTInfo.superclass.constructor.call(this),this.dVersion=new r({int:1}),this.dPolicy=null,this.dMessageImprint=null,this.dSerial=null,this.dGenTime=null,this.dAccuracy=null,this.dOrdering=null,this.dNonce=null,this.dTsa=null,this.tohex=function(){var e=[this.dVersion];if(null==this.dPolicy)throw new Error("policy shall be specified.");if(e.push(this.dPolicy),null==this.dMessageImprint)throw new Error("messageImprint shall be specified.");if(e.push(this.dMessageImprint),null==this.dSerial)throw new Error("serialNumber shall be specified.");if(e.push(this.dSerial),null==this.dGenTime)throw new Error("genTime shall be specified.");e.push(this.dGenTime),null!=this.dAccuracy&&e.push(this.dAccuracy),null!=this.dOrdering&&e.push(this.dOrdering),null!=this.dNonce&&e.push(this.dNonce),null!=this.dTsa&&e.push(this.dTsa);var t=new n({array:e});return this.hTLV=t.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==e){if("string"==typeof e.policy){if(!e.policy.match(/^[0-9.]+$/))throw"policy shall be oid like 0.1.4.134";this.dPolicy=new s({oid:e.policy})}void 0!==e.messageImprint&&(this.dMessageImprint=new u(e.messageImprint)),void 0!==e.serial&&(this.dSerial=new r(e.serial)),void 0!==e.genTime&&(this.dGenTime=new o(e.genTime)),void 0!==e.accuracy&&(this.dAccuracy=new l(e.accuracy)),void 0!==e.ordering&&1==e.ordering&&(this.dOrdering=new i),void 0!==e.nonce&&(this.dNonce=new r(e.nonce)),void 0!==e.tsa&&(this.dTsa=new a({tag:"a0",explicit:!0,obj:new h({dn:e.tsa})}))}},rt(he.asn1.tsp.TSTInfo,he.asn1.ASN1Object),he.asn1.tsp.Accuracy=function(e){var t=he.asn1,n=t.ASN1Util.newObject;t.tsp.Accuracy.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params,t=[];return null!=e.seconds&&"number"==typeof e.seconds&&t.push({int:e.seconds}),null!=e.millis&&"number"==typeof e.millis&&t.push({tag:{tagi:"80",obj:{int:e.millis}}}),null!=e.micros&&"number"==typeof e.micros&&t.push({tag:{tagi:"81",obj:{int:e.micros}}}),n({seq:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},rt(he.asn1.tsp.Accuracy,he.asn1.ASN1Object),he.asn1.tsp.MessageImprint=function(e){var t=he.asn1,n=t.DERSequence,r=t.DEROctetString,i=t.x509.AlgorithmIdentifier;t.tsp.MessageImprint.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params,t=new i({name:e.alg}),o=new r({hex:e.hash});return new n({array:[t,o]}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},rt(he.asn1.tsp.MessageImprint,he.asn1.ASN1Object),he.asn1.tsp.TimeStampReq=function(e){var t=he.asn1,n=t.DERSequence,r=t.DERInteger,i=t.DERBoolean,o=(t.ASN1Object,t.DERObjectIdentifier),s=t.tsp,a=s.MessageImprint;s.TimeStampReq.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params,t=[];return t.push(new r({int:1})),e.messageImprint instanceof he.asn1.ASN1Object?t.push(e.messageImprint):t.push(new a(e.messageImprint)),null!=e.policy&&t.push(new o(e.policy)),null!=e.nonce&&t.push(new r(e.nonce)),1==e.certreq&&t.push(new i),new n({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},rt(he.asn1.tsp.TimeStampReq,he.asn1.ASN1Object),he.asn1.tsp.TimeStampResp=function(e){var t=he.asn1,n=t.DERSequence,r=(t.ASN1Object,t.tsp),i=r.PKIStatusInfo;r.TimeStampResp.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params,o=[];if(null!=e.econtent||null!=e.tst)if(null!=e.statusinfo?o.push(new i(e.statusinfo)):o.push(new i("granted")),null!=e.econtent)o.push(new r.TimeStampToken(e).getContentInfo());else{if(!(e.tst instanceof t.ASN1Object))throw new Error("improper member tst value");o.push(e.tst)}else{if(null==e.statusinfo)throw new Error("parameter for token nor statusinfo not specified");o.push(new i(e.statusinfo))}return new n({array:o}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},rt(he.asn1.tsp.TimeStampResp,he.asn1.ASN1Object),he.asn1.tsp.PKIStatusInfo=function(e){var t=Error,n=he.asn1,r=n.DERSequence,i=n.tsp,o=i.PKIStatus,s=i.PKIFreeText,a=i.PKIFailureInfo;i.PKIStatusInfo.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params,n=[];if("string"==typeof e)n.push(new o(e));else{if(null==e.status)throw new t("property 'status' unspecified");n.push(new o(e.status)),null!=e.statusstr&&n.push(new s(e.statusstr)),null!=e.failinfo&&n.push(new a(e.failinfo))}return new r({array:n}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},rt(he.asn1.tsp.PKIStatusInfo,he.asn1.ASN1Object),he.asn1.tsp.PKIStatus=function(e){var t=Error,n=he.asn1,r=n.DERInteger;n.tsp.PKIStatus.superclass.constructor.call(this);var i={granted:0,grantedWithMods:1,rejection:2,waiting:3,revocationWarning:4,revocationNotification:5};this.params=null,this.tohex=function(){var e,n=this.params;if("string"==typeof n)try{e=i[n]}catch(e){throw new t("undefined name: "+n)}else{if("number"!=typeof n)throw new t("unsupported params");e=n}return new r({int:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},rt(he.asn1.tsp.PKIStatus,he.asn1.ASN1Object),he.asn1.tsp.PKIFreeText=function(e){var t=Error,n=he.asn1,r=n.DERSequence,i=n.DERUTF8String;n.tsp.PKIFreeText.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params;if(!e instanceof Array)throw new t("wrong params: not array");for(var n=[],o=0;o<e.length;o++)n.push(new i({str:e[o]}));return new r({array:n}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},rt(he.asn1.tsp.PKIFreeText,he.asn1.ASN1Object),he.asn1.tsp.PKIFailureInfo=function(e){var t=Error,n=he.asn1,r=n.DERBitString,i=n.tsp.PKIFailureInfo,o={badAlg:0,badRequest:2,badDataFormat:5,timeNotAvailable:14,unacceptedPolicy:15,unacceptedExtension:16,addInfoNotAvailable:17,systemFailure:25};i.superclass.constructor.call(this),this.params=null,this.getBinValue=function(){var e=this.params,n=0;if("number"==typeof e&&0<=e&&e<=25){for(var r=(n|=1<<e).toString(2),i="",s=r.length-1;s>=0;s--)i+=r[s];return i}if("string"==typeof e&&null!=o[e])return tt([e],o);if("object"==typeof e&&null!=e.length)return tt(e,o);throw new t("wrong params")},this.tohex=function(){this.params;var e=this.getBinValue();return new r({bin:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},rt(he.asn1.tsp.PKIFailureInfo,he.asn1.ASN1Object),he.asn1.tsp.AbstractTSAAdapter=function(e){this.getTSTHex=function(e,t){throw"not implemented yet"}},he.asn1.tsp.SimpleTSAAdapter=function(e){var t=he,n=t.asn1.tsp,r=t.crypto.Util.hashHex;n.SimpleTSAAdapter.superclass.constructor.call(this),this.params=null,this.serial=0,this.getTSTHex=function(e,t){var i=r(e,t);this.params.econtent.content.messageImprint={alg:t,hash:i},this.params.econtent.content.serial={int:this.serial++};var o=Math.floor(1e9*Math.random());return this.params.econtent.content.nonce={int:o},new n.TimeStampToken(this.params).getContentInfoEncodedHex()},void 0!==e&&(this.params=e)},rt(he.asn1.tsp.SimpleTSAAdapter,he.asn1.tsp.AbstractTSAAdapter),he.asn1.tsp.FixedTSAAdapter=function(e){var t=he,n=t.asn1.tsp,r=t.crypto.Util.hashHex;n.FixedTSAAdapter.superclass.constructor.call(this),this.params=null,this.getTSTHex=function(e,t){var i=r(e,t);return this.params.econtent.content.messageImprint={alg:t,hash:i},new n.TimeStampToken(this.params).getContentInfoEncodedHex()},void 0!==e&&(this.params=e)},rt(he.asn1.tsp.FixedTSAAdapter,he.asn1.tsp.AbstractTSAAdapter),he.asn1.tsp.TSPUtil=new function(){},he.asn1.tsp.TSPUtil.newTimeStampToken=function(e){return new he.asn1.tsp.TimeStampToken(e)},he.asn1.tsp.TSPUtil.parseTimeStampReq=function(e){return(new he.asn1.tsp.TSPParser).getTimeStampReq(e)},he.asn1.tsp.TSPUtil.parseMessageImprint=function(e){return(new he.asn1.tsp.TSPParser).getMessageImprint(e)},he.asn1.tsp.TSPParser=function(){Error;var e=new ct,t=pe,n=t.getV,r=t.getTLV,i=t.getIdxbyList,o=(t.getTLVbyListEx,t.getChildIdx),s=["granted","grantedWithMods","rejection","waiting","revocationWarning","revocationNotification"],a={0:"badAlg",2:"badRequest",5:"badDataFormat",14:"timeNotAvailable",15:"unacceptedPolicy",16:"unacceptedExtension",17:"addInfoNotAvailable",25:"systemFailure"};this.getResponse=function(e){var t=o(e,0);if(1==t.length)return this.getPKIStatusInfo(r(e,t[0]));if(t.length>1){var n=this.getPKIStatusInfo(r(e,t[0])),i=r(e,t[1]),s=this.getToken(i);return s.statusinfo=n,s}},this.getToken=function(e){var t=(new he.asn1.cms.CMSParser).getCMSSignedData(e);return this.setTSTInfo(t),t},this.setTSTInfo=function(e){var t=e.econtent;if("tstinfo"==t.type){var n=t.content.hex,r=this.getTSTInfo(n);t.content=r}},this.getTSTInfo=function(t){var i={},s=o(t,0),a=n(t,s[1]);i.policy=Ye(a);var c=r(t,s[2]);i.messageImprint=this.getMessageImprint(c);var u=n(t,s[3]);i.serial={hex:u};var l=n(t,s[4]);i.genTime={str:Ce(l)};var h=0;if(s.length>5&&"30"==t.substr(s[5],2)){var d=r(t,s[5]);i.accuracy=this.getAccuracy(d),h++}if(s.length>5+h&&"01"==t.substr(s[5+h],2)&&("ff"==n(t,s[5+h])&&(i.ordering=!0),h++),s.length>5+h&&"02"==t.substr(s[5+h],2)){var f=n(t,s[5+h]);i.nonce={hex:f},h++}if(s.length>5+h&&"a0"==t.substr(s[5+h],2)){var p=r(t,s[5+h]);p="30"+p.substr(2),pGeneralNames=e.getGeneralNames(p);var m=pGeneralNames[0].dn;i.tsa=m,h++}if(s.length>5+h&&"a1"==t.substr(s[5+h],2)){var g=r(t,s[5+h]);g="30"+g.substr(2);var v=e.getExtParamArray(g);i.ext=v,h++}return i},this.getAccuracy=function(e){for(var t={},r=o(e,0),i=0;i<r.length;i++){var s=e.substr(r[i],2),a=n(e,r[i]),c=parseInt(a,16);"02"==s?t.seconds=c:"80"==s?t.millis=c:"81"==s&&(t.micros=c)}return t},this.getMessageImprint=function(e){if("30"!=e.substr(0,2))throw new Error("head of messageImprint hex shall be x30");var r={},s=(o(e,0),i(e,0,[0,0])),a=n(e,s),c=t.hextooidstr(a),u=he.asn1.x509.OID.oid2name(c);if(""==u)throw new Error("hashAlg name undefined: "+c);var l=u,h=i(e,0,[1]);return r.alg=l,r.hash=n(e,h),r},this.getPKIStatusInfo=function(e){var t={},i=o(e,0),a=0;try{var c=n(e,i[0]),u=parseInt(c,16);t.status=s[u]}catch(e){}if(i.length>1&&"30"==e.substr(i[1],2)){var l=r(e,i[1]);t.statusstr=this.getPKIFreeText(l),a++}if(i.length>a&&"03"==e.substr(i[1+a],2)){var h=r(e,i[1+a]);t.failinfo=this.getPKIFailureInfo(h)}return t},this.getPKIFreeText=function(e){for(var n=[],r=o(e,0),i=0;i<r.length;i++)n.push(t.getString(e,r[i]));return n},this.getPKIFailureInfo=function(e){var n=t.getInt(e,0);return null!=a[n]?a[n]:n},this.getTimeStampReq=function(e){var i={certreq:!1},s=o(e,0);if(s.length<2)throw new Error("TimeStampReq must have at least 2 items");var a=r(e,s[1]);i.messageImprint=he.asn1.tsp.TSPUtil.parseMessageImprint(a);for(var c=2;c<s.length;c++){var u=s[c],l=e.substr(u,2);if("06"==l){var h=n(e,u);i.policy=t.hextooidstr(h)}"02"==l&&(i.nonce=n(e,u)),"01"==l&&(i.certreq=!0)}return i}},void 0!==he&&he||(he={}),void 0!==he.asn1&&he.asn1||(he.asn1={}),void 0!==he.asn1.cades&&he.asn1.cades||(he.asn1.cades={}),he.asn1.cades.SignaturePolicyIdentifier=function(e){var t=he.asn1.cades,n=t.SignaturePolicyId;t.SignaturePolicyIdentifier.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.15",this.params=null,this.getValueArray=function(){return[new n(this.params)]},this.setByParam=function(e){this.params=e},null!=e&&this.setByParam(e)},rt(he.asn1.cades.SignaturePolicyIdentifier,he.asn1.cms.Attribute),he.asn1.cades.SignaturePolicyId=function(e){var t=he.asn1,n=t.DERSequence,r=t.DERObjectIdentifier,i=(t.x509.AlgorithmIdentifier,t.cades),o=i.SignaturePolicyId,s=i.OtherHashAlgAndValue;o.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params,t=[];return t.push(new r(e.oid)),t.push(new s(e)),new n({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(e){this.params=e},null!=e&&this.setByParam(e)},rt(he.asn1.cades.SignaturePolicyId,he.asn1.ASN1Object),he.asn1.cades.OtherHashAlgAndValue=function(e){var t=Error,n=he.asn1,r=n.DERSequence,i=n.DEROctetString,o=n.x509.AlgorithmIdentifier;n.cades.OtherHashAlgAndValue.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params;if(null==e.alg)throw new t("property 'alg' not specified");if(null==e.hash&&null==e.cert)throw new t("property 'hash' nor 'cert' not specified");var n=null;if(null!=e.hash)n=e.hash;else if(null!=e.cert){if("string"!=typeof e.cert)throw new t("cert not string");var s=e.cert;-1!=e.cert.indexOf("-----BEGIN")&&(s=Ie(e.cert)),n=he.crypto.Util.hashHex(s,e.alg)}var a=[];return a.push(new o({name:e.alg})),a.push(new i({hex:n})),new r({array:a}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},rt(he.asn1.cades.OtherHashAlgAndValue,he.asn1.ASN1Object),he.asn1.cades.OtherHashValue=function(e){he.asn1.cades.OtherHashValue.superclass.constructor.call(this);var t=Error,n=he,r=(n.lang.String.isHex,n.asn1.DEROctetString);n.crypto.Util.hashHex,this.params=null,this.tohex=function(){var e=this.params;if(null==e.hash&&null==e.cert)throw new t("hash or cert not specified");var n=null;if(null!=e.hash)n=e.hash;else if(null!=e.cert){if("string"!=typeof e.cert)throw new t("cert not string");var i=e.cert;-1!=e.cert.indexOf("-----BEGIN")&&(i=Ie(e.cert)),n=he.crypto.Util.hashHex(i,"sha1")}return new r({hex:n}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},rt(he.asn1.cades.OtherHashValue,he.asn1.ASN1Object),he.asn1.cades.SignatureTimeStamp=function(e){var t=Error,n=he,r=n.lang.String.isHex,i=n.asn1,o=i.ASN1Object;i.x509,i.cades.SignatureTimeStamp.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.14",this.params=null,this.getValueArray=function(){var e=this.params;if(null!=e.tst){if(r(e.tst))return(n=new o).hTLV=e.tst,[n];if(e.tst instanceof o)return[e.tst];throw new t("params.tst has wrong value")}if(null!=e.res){var n,i=e.res;if(i instanceof o&&(i=i.tohex()),"string"!=typeof i||!r(i))throw new t("params.res has wrong value");return pe.getTLVbyList(i,0,[1]),(n=new o).hTLV=e.tst,[n]}},null!=e&&this.setByParam(e)},rt(he.asn1.cades.SignatureTimeStamp,he.asn1.cms.Attribute),he.asn1.cades.CompleteCertificateRefs=function(e){var t=Error,n=he,r=n.asn1,i=r.DERSequence,o=r.cades,s=o.OtherCertID,a=n.lang.String.isHex;o.CompleteCertificateRefs.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.21",this.params=null,this.getValueArray=function(){for(var e=this.params,n=[],r=0;r<e.array.length;r++){var o=e.array[r];if("string"==typeof o)if(-1!=o.indexOf("-----BEGIN"))o={cert:o};else{if(!a(o))throw new t("unsupported value: "+o);o={hash:o}}null!=e.alg&&null==o.alg&&(o.alg=e.alg),null!=e.hasis&&null==o.hasis&&(o.hasis=e.hasis);var c=new s(o);n.push(c)}return[new i({array:n})]},null!=e&&this.setByParam(e)},rt(he.asn1.cades.CompleteCertificateRefs,he.asn1.cms.Attribute),he.asn1.cades.OtherCertID=function(e){var t=he.asn1,n=t.DERSequence,r=t.cms.IssuerSerial,i=t.cades,o=i.OtherHashValue,s=i.OtherHashAlgAndValue;i.OtherCertID.superclass.constructor.call(this),this.params=e,this.tohex=function(){var e=this.params;"string"==typeof e&&(-1!=e.indexOf("-----BEGIN")?e={cert:e}:_isHex(e)&&(e={hash:e}));var t,i=[];if(t=null!=e.alg?new s(e):new o(e),i.push(t),null!=e.cert&&1==e.hasis||null!=e.issuer&&null!=e.serial){var a=new r(e);i.push(a)}return new n({array:i}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},rt(he.asn1.cades.OtherCertID,he.asn1.ASN1Object),he.asn1.cades.OtherHash=function(e){Error;var t=he,n=t.asn1,r=(n.cms,n.cades),i=r.OtherHashAlgAndValue,o=r.OtherHashValue,s=(t.crypto.Util.hashHex,t.lang.String.isHex);r.OtherHash.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params;return"string"==typeof e&&(-1!=e.indexOf("-----BEGIN")?e={cert:e}:s(e)&&(e={hash:e})),(null!=e.alg?new i(e):new o(e)).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},rt(he.asn1.cades.OtherHash,he.asn1.ASN1Object),he.asn1.cades.CAdESUtil=new function(){},he.asn1.cades.CAdESUtil.parseSignedDataForAddingUnsigned=function(e){return(new he.asn1.cms.CMSParser).getCMSSignedData(e)},he.asn1.cades.CAdESUtil.parseSignerInfoForAddingUnsigned=function(e,t,n){var r=pe,i=r.getChildIdx,o=r.getTLV,s=r.getV,a=he.asn1,c=a.ASN1Object,u=a.cms,l=u.AttributeList,h=u.SignerInfo,d={},f=i(e,t);if(6!=f.length)throw"not supported items for SignerInfo (!=6)";var p=f.shift();d.version=o(e,p);var m=f.shift();d.si=o(e,m);var g=f.shift();d.digalg=o(e,g);var v=f.shift();d.sattrs=o(e,v);var y=f.shift();d.sigalg=o(e,y);var b=f.shift();d.sig=o(e,b),d.sigval=s(e,b);var w=null;return d.obj=new h,(w=new c).hTLV=d.version,d.obj.dCMSVersion=w,(w=new c).hTLV=d.si,d.obj.dSignerIdentifier=w,(w=new c).hTLV=d.digalg,d.obj.dDigestAlgorithm=w,(w=new c).hTLV=d.sattrs,d.obj.dSignedAttrs=w,(w=new c).hTLV=d.sigalg,d.obj.dSigAlg=w,(w=new c).hTLV=d.sig,d.obj.dSig=w,d.obj.dUnsignedAttrs=new l,d},void 0!==he.asn1.csr&&he.asn1.csr||(he.asn1.csr={}),he.asn1.csr.CertificationRequest=function(e){var t=he.asn1,n=t.DERBitString,r=t.DERSequence,i=t.csr,o=(t.x509,i.CertificationRequestInfo);i.CertificationRequest.superclass.constructor.call(this),this.setByParam=function(e){this.params=e},this.sign=function(){var e=new o(this.params).tohex(),t=new he.crypto.Signature({alg:this.params.sigalg});t.init(this.params.sbjprvkey),t.updateHex(e);var n=t.sign();this.params.sighex=n},this.getPEM=function(){return Oe(this.tohex(),"CERTIFICATE REQUEST")},this.tohex=function(){var e=this.params,t=new he.asn1.csr.CertificationRequestInfo(this.params),i=new he.asn1.x509.AlgorithmIdentifier({name:e.sigalg});if(null==e.sighex&&null!=e.sbjprvkey&&this.sign(),null==e.sighex)throw new Error("sighex or sbjprvkey parameter not defined");var o=new n({hex:"00"+e.sighex});return new r({array:[t,i,o]}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},rt(he.asn1.csr.CertificationRequest,he.asn1.ASN1Object),he.asn1.csr.CertificationRequestInfo=function(e){var t=he.asn1,n=(t.DERBitString,t.DERSequence),r=t.DERInteger,i=t.DERUTF8String,o=t.DERTaggedObject,s=t.ASN1Util.newObject,a=t.csr,c=t.x509,u=c.X500Name,l=c.Extensions,h=c.SubjectPublicKeyInfo;a.AttributeList,a.CertificationRequestInfo.superclass.constructor.call(this),this.params=null,this.setByParam=function(e){null!=e&&(this.params=e)},this.tohex=function(){var e=this.params,t=[];if(t.push(new r({int:0})),t.push(new u(e.subject)),t.push(new h(it.getKey(e.sbjpubkey))),null!=e.attrs){var a=function(e){for(var t=Error,n=he.asn1.x509.Extensions,r=[],i=0;i<e.length;i++){var o=e[i],s=o.attr;if("extensionRequest"==s){var a={seq:[{oid:"1.2.840.113549.1.9.14"},{set:[new n(o.ext)]}]};r.push(a)}else if("unstructuredName"==s)a={seq:[{oid:"1.2.840.113549.1.9.2"},{set:o.names}]},r.push(a);else{if("challengePassword"!=s)throw new t("unknown CSR attribute");a={seq:[{oid:"1.2.840.113549.1.9.7"},{set:[{utf8str:o.password}]}]},r.push(a)}}return{set:r}}(e.attrs),c=s({tag:{tage:"a0",obj:a}});t.push(c)}else if(null!=e.extreq){var d=new l(e.extreq);c=s({tag:{tage:"a0",obj:{seq:[{oid:"1.2.840.113549.1.9.14"},{set:[d]}]}}}),t.push(c)}else t.push(new o({tag:"a0",explicit:!1,obj:new i({str:""})}));return new n({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},rt(he.asn1.csr.CertificationRequestInfo,he.asn1.ASN1Object),he.asn1.csr.AttributeList=function(e){},rt(he.asn1.csr.AttributeList,he.asn1.ASN1Object),he.asn1.csr.CSRUtil=new function(){},he.asn1.csr.CSRUtil.newCSRPEM=function(e){return new he.asn1.csr.CertificationRequest(e).getPEM()},he.asn1.csr.CSRUtil.getParam=function(e,t){var n=pe,r=n.getV,i=n.getIdxbyList,o=n.getTLVbyList,s=n.getTLVbyListEx,a=n.getVbyListEx,c={};if(-1==e.indexOf("-----BEGIN CERTIFICATE REQUEST"))throw new Error("argument is not PEM file");var u=Ie(e,"CERTIFICATE REQUEST");t&&(c.tbs=o(u,0,[0]));try{var l=s(u,0,[0,1]);if("3000"==l)c.subject={};else{var h=new ct;c.subject=h.getX500Name(l)}}catch(e){}var d=s(u,0,[0,2]),f=it.getKey(d,null,"pkcs8pub");c.sbjpubkey=it.getPEM(f,"PKCS8PUB");var p=function(e){var t=i(e,0,[0,3,0,0],"06");return"2a864886f70d01090e"!=r(e,t)?null:o(e,0,[0,3,0,1,0],"30")}(u);h=new ct,null!=p&&(c.extreq=h.getExtParamArray(p));try{var m=s(u,0,[1],"30");h=new ct,c.sigalg=h.getAlgorithmIdentifierName(m)}catch(e){}try{var g=a(u,0,[2]);c.sighex=g}catch(e){}return c},he.asn1.csr.CSRUtil.verifySignature=function(e){try{var t=null;if("string"==typeof e&&-1!=e.indexOf("-----BEGIN CERTIFICATE REQUEST")?t=he.asn1.csr.CSRUtil.getParam(e,!0):"object"==typeof e&&null!=e.sbjpubkey&&null!=e.sigalg&&null!=e.sighex&&null!=e.tbs&&(t=e),null==t)return!1;var n=new he.crypto.Signature({alg:t.sigalg});return n.init(t.sbjpubkey),n.updateHex(t.tbs),n.verify(t.sighex)}catch(e){return alert(e),!1}},void 0!==he&&he||(he={}),void 0!==he.asn1&&he.asn1||(he.asn1={}),void 0!==he.asn1.ocsp&&he.asn1.ocsp||(he.asn1.ocsp={}),he.asn1.ocsp.DEFAULT_HASH="sha1",he.asn1.ocsp.OCSPResponse=function(e){he.asn1.ocsp.OCSPResponse.superclass.constructor.call(this),he.asn1.DEREnumerated;var t=he.asn1.ASN1Util.newObject,n=he.asn1.ocsp.ResponseBytes,r=["successful","malformedRequest","internalError","tryLater","_not_used_","sigRequired","unauthorized"];this.params=null,this._getStatusCode=function(){var e=this.params.resstatus;return"number"==typeof e?e:"string"!=typeof e?-1:r.indexOf(e)},this.setByParam=function(e){this.params=e},this.tohex=function(){var e=this.params,r=this._getStatusCode();if(-1==r)throw new Error("responseStatus not supported: "+e.resstatus);if(0!=r)return t({seq:[{enum:{int:r}}]}).tohex();var i=new n(e);return t({seq:[{enum:{int:0}},{tag:{tag:"a0",explicit:!0,obj:i}}]}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},rt(he.asn1.ocsp.OCSPResponse,he.asn1.ASN1Object),he.asn1.ocsp.ResponseBytes=function(e){he.asn1.ocsp.ResponseBytes.superclass.constructor.call(this);var t=he.asn1,n=t.DERSequence,r=t.DERObjectIdentifier,i=t.DEROctetString,o=t.ocsp.BasicOCSPResponse;this.params=null,this.setByParam=function(e){this.params=e},this.tohex=function(){var e=this.params;if("ocspBasic"!=e.restype)throw new Error("not supported responseType: "+e.restype);var t=new o(e),s=[];return s.push(new r({name:"ocspBasic"})),s.push(new i({hex:t.tohex()})),new n({array:s}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},rt(he.asn1.ocsp.ResponseBytes,he.asn1.ASN1Object),he.asn1.ocsp.BasicOCSPResponse=function(e){he.asn1.ocsp.BasicOCSPResponse.superclass.constructor.call(this);var t=Error,n=he.asn1,r=n.ASN1Object,i=n.DERSequence,o=(n.DERGeneralizedTime,n.DERTaggedObject),s=n.DERBitString,a=(n.x509.Extensions,n.x509.AlgorithmIdentifier),c=n.ocsp;c.ResponderID,_SingleResponseList=c.SingleResponseList,_ResponseData=c.ResponseData,this.params=null,this.setByParam=function(e){this.params=e},this.sign=function(){var e=this.params,t=e.tbsresp.tohex(),n=new he.crypto.Signature({alg:e.sigalg});n.init(e.reskey),n.updateHex(t),e.sighex=n.sign()},this.tohex=function(){var e=this.params;null==e.tbsresp&&(e.tbsresp=new _ResponseData(e)),null==e.sighex&&null!=e.reskey&&this.sign();var n=[];if(n.push(e.tbsresp),n.push(new a({name:e.sigalg})),n.push(new s({hex:"00"+e.sighex})),null!=e.certs&&null!=e.certs.length){for(var c=[],u=0;u<e.certs.length;u++){var l=e.certs[u],h=null;if(pe.isASN1HEX(l))h=l;else{if(!l.match(/-----BEGIN/))throw new t("certs["+u+"] not hex or PEM");h=Ie(l)}c.push(new r({tlv:h}))}var d=new i({array:c});n.push(new o({tag:"a0",explicit:!0,obj:d}))}return new i({array:n}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},rt(he.asn1.ocsp.BasicOCSPResponse,he.asn1.ASN1Object),he.asn1.ocsp.ResponseData=function(e){he.asn1.ocsp.ResponseData.superclass.constructor.call(this);var t=Error,n=he.asn1,r=n.DERSequence,i=n.DERGeneralizedTime,o=n.DERTaggedObject,s=n.x509.Extensions,a=n.ocsp,c=a.ResponderID;_SingleResponseList=a.SingleResponseList,this.params=null,this.tohex=function(){var e=this.params;null!=e.respid&&new t("respid not specified"),null!=e.prodat&&new t("prodat not specified"),null!=e.array&&new t("array not specified");var n=[];if(n.push(new c(e.respid)),n.push(new i(e.prodat)),n.push(new _SingleResponseList(e.array)),null!=e.ext){var a=new s(e.ext);n.push(new o({tag:"a1",explicit:!0,obj:a}))}return new r({array:n}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(e){this.params=e},void 0!==e&&this.setByParam(e)},rt(he.asn1.ocsp.ResponseData,he.asn1.ASN1Object),he.asn1.ocsp.ResponderID=function(e){he.asn1.ocsp.ResponderID.superclass.constructor.call(this);var t=he,n=t.asn1,r=n.ASN1Util.newObject,i=n.x509.X500Name,o=t.lang.String.isHex,s=Error;this.params=null,this.tohex=function(){var e=this.params;if(null!=e.key){var t,n=null;if("string"==typeof e.key?(o(e.key)&&(n=e.key),e.key.match(/-----BEGIN CERTIFICATE/)&&null!=(t=new ct(e.key).getExtSubjectKeyIdentifier())&&(n=t.kid.hex)):e.key instanceof ct&&null!=(t=e.key.getExtSubjectKeyIdentifier())&&(n=t.kid.hex),null==n)throw new s("wrong key member value");return r({tag:{tag:"a2",explicit:!0,obj:{octstr:{hex:n}}}}).tohex()}if(null!=e.name){var a=null;if("string"==typeof e.name&&e.name.match(/-----BEGIN CERTIFICATE/)?a=new ct(e.name).getSubject():e.name instanceof ct?a=e.name.getSubject():"object"!=typeof e.name||null==e.name.array&&null==e.name.str||(a=e.name),null==a)throw new s("wrong name member value");return r({tag:{tag:"a1",explicit:!0,obj:new i(a)}}).tohex()}throw new s("key or name not specified")},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(e){this.params=e},void 0!==e&&this.setByParam(e)},rt(he.asn1.ocsp.ResponderID,he.asn1.ASN1Object),he.asn1.ocsp.SingleResponseList=function(e){he.asn1.ocsp.SingleResponseList.superclass.constructor.call(this);var t=he.asn1,n=t.DERSequence,r=t.ocsp.SingleResponse;this.params=null,this.tohex=function(){var e=this.params;if("object"!=typeof e||null==e.length)throw new Error("params not specified properly");for(var t=[],i=0;i<e.length;i++)t.push(new r(e[i]));return new n({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(e){this.params=e},void 0!==e&&this.setByParam(e)},rt(he.asn1.ocsp.SingleResponseList,he.asn1.ASN1Object),he.asn1.ocsp.SingleResponse=function(e){var t=Error,n=he.asn1,r=n.DERSequence,i=n.DERGeneralizedTime,o=n.DERTaggedObject,s=n.ocsp,a=s.CertID,c=s.CertStatus,u=n.x509.Extensions;s.SingleResponse.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params,n=[];if(null==e.certid)throw new t("certid unspecified");if(null==e.status)throw new t("status unspecified");if(null==e.thisupdate)throw new t("thisupdate unspecified");if(n.push(new a(e.certid)),n.push(new c(e.status)),n.push(new i(e.thisupdate)),null!=e.nextupdate){var s=new i(e.nextupdate);n.push(new o({tag:"a0",explicit:!0,obj:s}))}if(null!=e.ext){var l=new u(e.ext);n.push(new o({tag:"a1",explicit:!0,obj:l}))}return new r({array:n}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(e){this.params=e},void 0!==e&&this.setByParam(e)},rt(he.asn1.ocsp.SingleResponse,he.asn1.ASN1Object),he.asn1.ocsp.CertID=function(e){var t=he,n=t.asn1,r=n.DEROctetString,i=n.DERInteger,o=n.DERSequence,s=n.x509.AlgorithmIdentifier,a=n.ocsp,c=(a.DEFAULT_HASH,t.crypto.Util.hashHex),u=ct,l=pe.getVbyList;a.CertID.superclass.constructor.call(this),this.DEFAULT_HASH="sha1",this.params=null,this.setByValue=function(e,t,n,r){null==r&&(r=this.DEFAULT_HASH),this.params={alg:r,issname:e,isskey:t,sbjsn:n}},this.setByCert=function(e,t,n){null==n&&(n=this.DEFAULT_HASH),this.params={alg:n,issuerCert:e,subjectCert:t}},this.getParamByCerts=function(e,t,n){null==n&&(n=this.DEFAULT_HASH);var r=new u(e),i=new u(t),o=c(r.getSubjectHex(),n),s=r.getPublicKeyHex();return{alg:n,issname:o,isskey:c(l(s,0,[1],"03",!0),n),sbjsn:i.getSerialNumberHex()}},this.tohex=function(){if("object"!=typeof this.params)throw new Error("params not set");var e,t,n,a,c=this.params;if(a=null==c.alg?this.DEFAULT_HASH:c.alg,null!=c.issuerCert&&null!=c.subjectCert){var u=this.getParamByCerts(c.issuerCert,c.subjectCert,a);e=u.issname,t=u.isskey,n=u.sbjsn}else{if(null==c.issname||null==c.isskey||null==c.sbjsn)throw new Error("required param members not defined");e=c.issname,t=c.isskey,n=c.sbjsn}var l=new s({name:a}),h=new r({hex:e}),d=new r({hex:t}),f=new i({hex:n}),p=new o({array:[l,h,d,f]});return this.hTLV=p.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},rt(he.asn1.ocsp.CertID,he.asn1.ASN1Object),he.asn1.ocsp.CertStatus=function(e){he.asn1.ocsp.CertStatus.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params;if("good"==e.status)return"8000";if("unknown"==e.status)return"8200";if("revoked"==e.status){var t=[{gentime:{str:e.time}}];null!=e.reason&&t.push({tag:{tag:"a0",explicit:!0,obj:{enum:{int:e.reason}}}});var n={tag:"a1",explicit:!1,obj:{seq:t}};return he.asn1.ASN1Util.newObject({tag:n}).tohex()}throw new Error("bad status")},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(e){this.params=e},void 0!==e&&this.setByParam(e)},rt(he.asn1.ocsp.CertStatus,he.asn1.ASN1Object),he.asn1.ocsp.Request=function(e){var t=he.asn1,n=t.DERSequence,r=t.ocsp;if(r.Request.superclass.constructor.call(this),this.dReqCert=null,this.dExt=null,this.tohex=function(){var e=[];if(null===this.dReqCert)throw"reqCert not set";e.push(this.dReqCert);var t=new n({array:e});return this.hTLV=t.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==e){var i=new r.CertID(e);this.dReqCert=i}},rt(he.asn1.ocsp.Request,he.asn1.ASN1Object),he.asn1.ocsp.TBSRequest=function(e){var t=he.asn1,n=t.DERSequence,r=t.ocsp;r.TBSRequest.superclass.constructor.call(this),this.version=0,this.dRequestorName=null,this.dRequestList=[],this.dRequestExt=null,this.setRequestListByParam=function(e){for(var t=[],n=0;n<e.length;n++){var i=new r.Request(e[0]);t.push(i)}this.dRequestList=t},this.tohex=function(){var e=[];if(0!==this.version)throw"not supported version: "+this.version;if(null!==this.dRequestorName)throw"requestorName not supported";var t=new n({array:this.dRequestList});if(e.push(t),null!==this.dRequestExt)throw"requestExtensions not supported";var r=new n({array:e});return this.hTLV=r.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&void 0!==e.reqList&&this.setRequestListByParam(e.reqList)},rt(he.asn1.ocsp.TBSRequest,he.asn1.ASN1Object),he.asn1.ocsp.OCSPRequest=function(e){var t=he.asn1,n=t.DERSequence,r=t.ocsp;if(r.OCSPRequest.superclass.constructor.call(this),this.dTbsRequest=null,this.dOptionalSignature=null,this.tohex=function(){var e=[];if(null===this.dTbsRequest)throw"tbsRequest not set";if(e.push(this.dTbsRequest),null!==this.dOptionalSignature)throw"optionalSignature not supported";var t=new n({array:e});return this.hTLV=t.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&void 0!==e.reqList){var i=new r.TBSRequest(e);this.dTbsRequest=i}},rt(he.asn1.ocsp.OCSPRequest,he.asn1.ASN1Object),he.asn1.ocsp.OCSPUtil={},he.asn1.ocsp.OCSPUtil.getRequestHex=function(e,t,n){var r=he.asn1.ocsp;void 0===n&&(n=r.DEFAULT_HASH);var i={alg:n,issuerCert:e,subjectCert:t};return new r.OCSPRequest({reqList:[i]}).tohex()},he.asn1.ocsp.OCSPUtil.getOCSPResponseInfo=function(e){var t=pe,n=t.getVbyList,r=t.getVbyListEx,i=t.getIdxbyList,o=(t.getIdxbyListEx,t.getV),s={};try{var a=r(e,0,[0],"0a");s.responseStatus=parseInt(a,16)}catch(e){}if(0!==s.responseStatus)return s;try{var c=i(e,0,[1,0,1,0,0,2,0,1]);"80"===e.substr(c,2)?s.certStatus="good":"a1"===e.substr(c,2)?(s.certStatus="revoked",s.revocationTime=Ce(n(e,c,[0]))):"82"===e.substr(c,2)&&(s.certStatus="unknown")}catch(e){}try{var u=i(e,0,[1,0,1,0,0,2,0,2]);s.thisUpdate=Ce(o(e,u))}catch(e){}try{var l=i(e,0,[1,0,1,0,0,2,0,3]);"a0"===e.substr(l,2)&&(s.nextUpdate=Ce(n(e,l,[0])))}catch(e){}return s},he.asn1.ocsp.OCSPParser=function(){var e=Error,t=ct,n=new t,r=pe,i=r.getV,o=r.getTLV,s=r.getIdxbyList,a=r.getVbyList,c=r.getTLVbyList,u=r.getVbyListEx,l=r.getTLVbyListEx,h=r.getChildIdx;this.getOCSPRequest=function(t){var n=h(t,0);if(1!=n.length&&2!=n.length)throw new e("wrong number elements: "+n.length);return this.getTBSRequest(o(t,n[0]))},this.getTBSRequest=function(e){var t={},r=l(e,0,[0],"30");t.array=this.getRequestList(r);var i=l(e,0,["[2]",0],"30");return null!=i&&(t.ext=n.getExtParamArray(i)),t},this.getRequestList=function(e){for(var t=[],n=h(e,0),r=0;r<n.length;r++)e=o(e,n[r]),t.push(this.getRequest(e));return t},this.getRequest=function(t){var r=h(t,0);if(1!=r.length&&2!=r.length)throw new e("wrong number elements: "+r.length);var i=this.getCertID(o(t,r[0]));if(2==r.length){var a=s(t,0,[1,0]);i.ext=n.getExtParamArray(o(t,a))}return i},this.getCertID=function(n){var r=h(n,0);if(4!=r.length)throw new e("wrong number elements: "+r.length);var s=new t,a={};return a.alg=s.getAlgorithmIdentifierName(o(n,r[0])),a.issname=i(n,r[1]),a.isskey=i(n,r[2]),a.sbjsn=i(n,r[3]),a},this.getOCSPResponse=function(e){var t,n=h(e,0),r=i(e,n[0]),o=parseInt(r);if(1==n.length)return{resstatus:o};var s=c(e,0,[1,0]);return(t=this.getResponseBytes(s)).resstatus=o,t},this.getResponseBytes=function(e){var t,n=h(e,0),r=c(e,0,[1,0]);t=this.getBasicOCSPResponse(r);var o=i(e,n[0]);return t.restype=he.asn1.x509.OID.oid2name(Ye(o)),t},this.getBasicOCSPResponse=function(e){var t,n=h(e,0);t=this.getResponseData(o(e,n[0]));var r=new ct;t.alg=r.getAlgorithmIdentifierName(o(e,n[1]));var s=i(e,n[2]);t.sighex=s.substr(2);var a=u(e,0,["[0]"]);if(null!=a){for(var c=h(a,0),l=[],d=0;d<c.length;d++){var f=o(a,c[d]);l.push(f)}t.certs=l}return t},this.getResponseData=function(e){var t=h(e,0),n=t.length,r={},s=0;"a0"==e.substr(t[0],2)&&s++,r.respid=this.getResponderID(o(e,t[s++]));var a=i(e,t[s++]);if(r.prodat=Ce(a),r.array=this.getSingleResponseList(o(e,t[s++])),"a1"==e.substr(t[n-1],2)){var u=c(e,t[n-1],[0]),l=new ct;r.ext=l.getExtParamArray(u)}return r},this.getResponderID=function(e){var t={};if("a2"==e.substr(0,2)){var n=a(e,0,[0]);t.key=n}if("a1"==e.substr(0,2)){var r=c(e,0,[0]),i=new ct;t.name=i.getX500Name(r)}return t},this.getSingleResponseList=function(e){for(var t=h(e,0),n=[],r=0;r<t.length;r++){var i=this.getSingleResponse(o(e,t[r]));n.push(i)}return n},this.getSingleResponse=function(e){var t=h(e,0),n={},r=this.getCertID(o(e,t[0]));n.certid=r;var s=this.getCertStatus(o(e,t[1]));if(n.status=s,"18"==e.substr(t[2],2)){var u=i(e,t[2]);n.thisupdate=Ce(u)}for(var l=3;l<t.length;l++){if("a0"==e.substr(t[l],2)){var d=a(e,t[l],[0],"18");n.nextupdate=Ce(d)}if("a1"==e.substr(t[l],2)){var f=new ct,p=c(e,0,[l,0]);n.ext=f.getExtParamArray(p)}}return n},this.getCertStatus=function(e){var t={};if("8000"==e)return{status:"good"};if("8200"==e)return{status:"unknown"};if("a1"==e.substr(0,2)){t.status="revoked";var n=Ce(a(e,0,[0]));t.time=n}return t}},void 0!==he&&he||(he={}),void 0!==he.lang&&he.lang||(he.lang={}),he.lang.String=function(){},"function"==typeof Buffer?(de=function(e){return be(Buffer.from(e,"utf8").toString("base64"))},fe=function(e){return Buffer.from(we(e),"base64").toString("utf8")}):(de=function(e){return Se(De(Ge(e)))},fe=function(e){return decodeURIComponent(je(_e(e)))}),he.lang.String.isInteger=function(e){return!!e.match(/^[0-9]+$/)||!!e.match(/^-[0-9]+$/)},he.lang.String.isHex=function(e){return Ve(e)},he.lang.String.isBase64=function(e){return!(!(e=e.replace(/\s+/g,"")).match(/^[0-9A-Za-z+\/]+={0,3}$/)||e.length%4!=0)},he.lang.String.isBase64URL=function(e){return!e.match(/[+/=]/)&&(e=we(e),he.lang.String.isBase64(e))},he.lang.String.isIntegerArray=function(e){return!!(e=e.replace(/\s+/g,"")).match(/^\[[0-9,]+\]$/)},he.lang.String.isPrintable=function(e){return null!==e.match(/^[0-9A-Za-z '()+,-./:=?]*$/)},he.lang.String.isIA5=function(e){return null!==e.match(/^[\x20-\x21\x23-\x7f]*$/)},he.lang.String.isMail=function(e){return null!==e.match(/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\.[A-Za-z0-9]{1,}$/)};var Je=function(e,t,n){return null==n&&(n="0"),e.length>=t?e:new Array(t-e.length+1).join(n)+e};function Qe(e){if(e.length%2!=0)return-1;if(null==(e=e.toLowerCase()).match(/^[0-9a-f]+$/))return-1;try{var t=e.substr(0,2);if("00"==t)return parseInt(e.substr(2),16);var n=parseInt(t,16);if(n>7)return-1;var r=e.substr(2),i=parseInt(r,16).toString(2);"0"==i&&(i="00000000"),i=i.slice(0,0-n);var o=parseInt(i,2);return NaN==o?-1:o}catch(e){return-1}}function Xe(e){if("number"!=typeof e)return null;if(e<0)return null;var t=Number(e).toString(2),n=8-t.length%8;8==n&&(n=0),t+=Je("",n,"0");var r=parseInt(t,2).toString(16);return r.length%2==1&&(r="0"+r),"0"+n+r}function et(e){if("string"!=typeof e)return null;if(e.length%2!=0)return null;if(!e.match(/^[0-9a-f]+$/))return null;try{var t=parseInt(e.substr(0,2),16);if(t<0||7<t)return null;for(var n=e.substr(2),r="",i=0;i<n.length;i+=2){var o=n.substr(i,2),s=parseInt(o,16).toString(2);r+=s=("0000000"+s).slice(-8)}return r.substr(0,r.length-t)}catch(e){return null}}function tt(e,t){for(var n=0,r=0;r<e.length;r++)n|=1<<t[e[r]];var i=n.toString(2),o="";for(r=i.length-1;r>=0;r--)o+=i[r];return o}function nt(e,t,n){if("object"==typeof e){t=String(t).split(".");for(var r=0;r<t.length&&e;r++){var i=t[r];i.match(/^[0-9]+$/)&&(i=parseInt(i)),e=e[i]}return e||!1===e?e:n}}function rt(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.superclass=t.prototype,t.prototype.constructor==Object.prototype.constructor&&(t.prototype.constructor=t)}void 0!==he&&he||(he={}),void 0!==he.crypto&&he.crypto||(he.crypto={}),he.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHAwithRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:m.algo.MD5,sha1:m.algo.SHA1,sha224:m.algo.SHA224,sha256:m.algo.SHA256,sha384:m.algo.SHA384,sha512:m.algo.SHA512,ripemd160:m.algo.RIPEMD160},this.getDigestInfoHex=function(e,t){if(void 0===this.DIGESTINFOHEAD[t])throw"alg not supported in Util.DIGESTINFOHEAD: "+t;return this.DIGESTINFOHEAD[t]+e},this.getPaddedDigestInfoHex=function(e,t,n){var r=this.getDigestInfoHex(e,t),i=n/4;if(r.length+22>i)throw"key is too short for SigAlg: keylen="+n+","+t;for(var o="0001",s="00"+r,a="",c=i-o.length-s.length,u=0;u<c;u+=2)a+="ff";return o+a+s},this.hashString=function(e,t){return new he.crypto.MessageDigest({alg:t}).digestString(e)},this.hashHex=function(e,t){return new he.crypto.MessageDigest({alg:t}).digestHex(e)},this.sha1=function(e){return this.hashString(e,"sha1")},this.sha256=function(e){return this.hashString(e,"sha256")},this.sha256Hex=function(e){return this.hashHex(e,"sha256")},this.sha512=function(e){return this.hashString(e,"sha512")},this.sha512Hex=function(e){return this.hashHex(e,"sha512")},this.isKey=function(e){return e instanceof oe||e instanceof he.crypto.DSA||e instanceof he.crypto.ECDSA}},he.crypto.Util.md5=function(e){return new he.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(e)},he.crypto.Util.ripemd160=function(e){return new he.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(e)},he.crypto.Util.SECURERANDOMGEN=new ne,he.crypto.Util.getRandomHexOfNbytes=function(e){var t=new Array(e);return he.crypto.Util.SECURERANDOMGEN.nextBytes(t),ve(t)},he.crypto.Util.getRandomBigIntegerOfNbytes=function(e){return new _(he.crypto.Util.getRandomHexOfNbytes(e),16)},he.crypto.Util.getRandomHexOfNbits=function(e){var t=e%8,n=new Array((e-t)/8+1);return he.crypto.Util.SECURERANDOMGEN.nextBytes(n),n[0]=(255<<t&255^255)&n[0],ve(n)},he.crypto.Util.getRandomBigIntegerOfNbits=function(e){return new _(he.crypto.Util.getRandomHexOfNbits(e),16)},he.crypto.Util.getRandomBigIntegerZeroToMax=function(e){for(var t=e.bitLength();;){var n=he.crypto.Util.getRandomBigIntegerOfNbits(t);if(-1!=e.compareTo(n))return n}},he.crypto.Util.getRandomBigIntegerMinToMax=function(e,t){var n=e.compareTo(t);if(1==n)throw"biMin is greater than biMax";if(0==n)return e;var r=t.subtract(e);return he.crypto.Util.getRandomBigIntegerZeroToMax(r).add(e)},he.crypto.MessageDigest=function(e){this.setAlgAndProvider=function(e,t){if(null!==(e=he.crypto.MessageDigest.getCanonicalAlgName(e))&&void 0===t&&(t=he.crypto.Util.DEFAULTPROVIDER[e]),-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(e)&&"cryptojs"==t){try{this.md=he.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[e].create()}catch(t){throw"setAlgAndProvider hash alg set fail alg="+e+"/"+t}this.updateString=function(e){this.md.update(e)},this.updateHex=function(e){var t=m.enc.Hex.parse(e);this.md.update(t)},this.digest=function(){return this.md.finalize().toString(m.enc.Hex)},this.digestString=function(e){return this.updateString(e),this.digest()},this.digestHex=function(e){return this.updateHex(e),this.digest()}}if(-1!=":sha256:".indexOf(e)&&"sjcl"==t){try{this.md=new sjcl.hash.sha256}catch(t){throw"setAlgAndProvider hash alg set fail alg="+e+"/"+t}this.updateString=function(e){this.md.update(e)},this.updateHex=function(e){var t=sjcl.codec.hex.toBits(e);this.md.update(t)},this.digest=function(){var e=this.md.finalize();return sjcl.codec.hex.fromBits(e)},this.digestString=function(e){return this.updateString(e),this.digest()},this.digestHex=function(e){return this.updateHex(e),this.digest()}}},this.updateString=function(e){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(e){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(e){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},void 0!==e&&void 0!==e.alg&&(this.algName=e.alg,void 0===e.prov&&(this.provName=he.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},he.crypto.MessageDigest.getCanonicalAlgName=function(e){return"string"==typeof e&&(e=(e=e.toLowerCase()).replace(/-/,"")),e},he.crypto.MessageDigest.getHashLength=function(e){var t=he.crypto.MessageDigest,n=t.getCanonicalAlgName(e);if(void 0===t.HASHLENGTH[n])throw"not supported algorithm: "+e;return t.HASHLENGTH[n]},he.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},he.crypto.Mac=function(e){this.setAlgAndProvider=function(e,t){if(null==(e=e.toLowerCase())&&(e="hmacsha1"),"hmac"!=(e=e.toLowerCase()).substr(0,4))throw"setAlgAndProvider unsupported HMAC alg: "+e;void 0===t&&(t=he.crypto.Util.DEFAULTPROVIDER[e]),this.algProv=e+"/"+t;var n=e.substr(4);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(n)&&"cryptojs"==t){try{var r=he.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[n];this.mac=m.algo.HMAC.create(r,this.pass)}catch(e){throw"setAlgAndProvider hash alg set fail hashAlg="+n+"/"+e}this.updateString=function(e){this.mac.update(e)},this.updateHex=function(e){var t=m.enc.Hex.parse(e);this.mac.update(t)},this.doFinal=function(){return this.mac.finalize().toString(m.enc.Hex)},this.doFinalString=function(e){return this.updateString(e),this.doFinal()},this.doFinalHex=function(e){return this.updateHex(e),this.doFinal()}}},this.updateString=function(e){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(e){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(e){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(e){if("string"==typeof e){var t=e;return e.length%2!=1&&e.match(/^[0-9A-Fa-f]+$/)||(t=Ae(e)),void(this.pass=m.enc.Hex.parse(t))}if("object"!=typeof e)throw"KJUR.crypto.Mac unsupported password type: "+e;if(t=null,void 0!==e.hex){if(e.hex.length%2!=0||!e.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+e.hex;t=e.hex}if(void 0!==e.utf8&&(t=xe(e.utf8)),void 0!==e.rstr&&(t=Ae(e.rstr)),void 0!==e.b64&&(t=w(e.b64)),void 0!==e.b64u&&(t=_e(e.b64u)),null==t)throw"KJUR.crypto.Mac unsupported password type: "+e;this.pass=m.enc.Hex.parse(t)},void 0!==e&&(void 0!==e.pass&&this.setPassword(e.pass),void 0!==e.alg&&(this.algName=e.alg,void 0===e.prov&&(this.provName=he.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},he.crypto.Signature=function(e){var t=null;if(this._setAlgNames=function(){var e=this.algName.match(/^(.+)with(.+)$/);e&&(this.mdAlgName=e[1].toLowerCase(),this.pubkeyAlgName=e[2].toLowerCase(),"rsaandmgf1"==this.pubkeyAlgName&&"sha"==this.mdAlgName&&(this.mdAlgName="sha1"))},this._zeroPaddingOfSignature=function(e,t){for(var n="",r=t/4-e.length,i=0;i<r;i++)n+="0";return n+e},this.setAlgAndProvider=function(e,t){if(this._setAlgNames(),"cryptojs/jsrsa"!=t)throw new Error("provider not supported: "+t);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)){try{this.md=new he.crypto.MessageDigest({alg:this.mdAlgName})}catch(e){throw new Error("setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+e)}this.init=function(e,t){var n=null;try{n=void 0===t?it.getKey(e):it.getKey(e,t)}catch(e){throw"init failed:"+e}if(!0===n.isPrivate)this.prvKey=n,this.state="SIGN";else{if(!0!==n.isPublic)throw"init failed.:"+n;this.pubKey=n,this.state="VERIFY"}},this.updateString=function(e){this.md.updateString(e)},this.updateHex=function(e){this.md.updateHex(e)},this.sign=function(){if(this.sHashHex=this.md.digest(),void 0===this.prvKey&&void 0!==this.ecprvhex&&void 0!==this.eccurvename&&void 0!==he.crypto.ECDSA&&(this.prvKey=new he.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})),this.prvKey instanceof oe&&"rsaandmgf1"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof oe&&"rsa"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof he.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof he.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(e){return this.updateString(e),this.sign()},this.signHex=function(e){return this.updateHex(e),this.sign()},this.verify=function(e){if(this.sHashHex=this.md.digest(),void 0===this.pubKey&&void 0!==this.ecpubhex&&void 0!==this.eccurvename&&void 0!==he.crypto.ECDSA&&(this.pubKey=new he.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})),this.pubKey instanceof oe&&"rsaandmgf1"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,e,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof oe&&"rsa"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);if(void 0!==he.crypto.ECDSA&&this.pubKey instanceof he.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);if(void 0!==he.crypto.DSA&&this.pubKey instanceof he.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(e,t){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(e){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(e){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(e){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(e){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=e,void 0!==e&&(void 0!==e.alg&&(this.algName=e.alg,void 0===e.prov?this.provName=he.crypto.Util.DEFAULTPROVIDER[this.algName]:this.provName=e.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),void 0!==e.psssaltlen&&(this.pssSaltLen=e.psssaltlen),void 0!==e.prvkeypem)){if(void 0!==e.prvkeypas)throw"both prvkeypem and prvkeypas parameters not supported";try{t=it.getKey(e.prvkeypem),this.init(t)}catch(e){throw"fatal error to load pem private key: "+e}}},he.crypto.Cipher=function(e){},he.crypto.Cipher.encrypt=function(e,t,n){if(t instanceof oe&&t.isPublic){var r=he.crypto.Cipher.getAlgByKeyAndName(t,n);if("RSA"===r)return t.encrypt(e);if("RSAOAEP"===r)return t.encryptOAEP(e,"sha1");var i=r.match(/^RSAOAEP(\d+)$/);if(null!==i)return t.encryptOAEP(e,"sha"+i[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+n}throw"Cipher.encrypt: unsupported key or algorithm"},he.crypto.Cipher.decrypt=function(e,t,n){if(t instanceof oe&&t.isPrivate){var r=he.crypto.Cipher.getAlgByKeyAndName(t,n);if("RSA"===r)return t.decrypt(e);if("RSAOAEP"===r)return t.decryptOAEP(e,"sha1");var i=r.match(/^RSAOAEP(\d+)$/);if(null!==i)return t.decryptOAEP(e,"sha"+i[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+n}throw"Cipher.decrypt: unsupported key or algorithm"},he.crypto.Cipher.getAlgByKeyAndName=function(e,t){if(e instanceof oe){if(-1!=":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(t))return t;if(null==t)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+t}throw"getAlgByKeyAndName: not supported algorithm name: "+t},he.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040022":"secp384r1","2b81040023":"secp521r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},void 0!==he&&he||(he={}),void 0!==he.crypto&&he.crypto||(he.crypto={}),he.crypto.ECDSA=function(e){var t=Error,n=_,r=ce,i=he.crypto.ECDSA,o=he.crypto.ECParameterDB,s=i.getName,a=pe,c=a.getVbyListEx,u=a.isASN1HEX,l=new ne;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(e){return new n(e.bitLength(),l).mod(e.subtract(n.ONE)).add(n.ONE)},this.setNamedCurve=function(e){this.ecparams=o.getByName(e),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=e},this.setPrivateKeyHex=function(e){this.isPrivate=!0,this.prvKeyHex=e},this.setPublicKeyHex=function(e){this.isPublic=!0,this.pubKeyHex=e},this.getPublicKeyXYHex=function(){var e=this.pubKeyHex;if("04"!==e.substr(0,2))throw"this method supports uncompressed format(04) only";var t=this.ecparams.keycharlen;if(e.length!==2+2*t)throw"malformed public key hex length";var n={};return n.x=e.substr(2,t),n.y=e.substr(2+t),n},this.getShortNISTPCurveName=function(){var e=this.curveName;return"secp256r1"===e||"NIST P-256"===e||"P-256"===e||"prime256v1"===e?"P-256":"secp384r1"===e||"NIST P-384"===e||"P-384"===e?"P-384":"secp521r1"===e||"NIST P-521"===e||"P-521"===e?"P-521":null},this.generateKeyPairHex=function(){var e=this.ecparams.n,t=this.getBigRandom(e),n=this.ecparams.keycharlen,r=("0000000000"+t.toString(16)).slice(-n);return this.setPrivateKeyHex(r),{ecprvhex:r,ecpubhex:this.generatePublicKeyHex()}},this.generatePublicKeyHex=function(){var e=new n(this.prvKeyHex,16),t=this.ecparams.G.multiply(e),r=t.getX().toBigInteger(),i=t.getY().toBigInteger(),o=this.ecparams.keycharlen,s="04"+("0000000000"+r.toString(16)).slice(-o)+("0000000000"+i.toString(16)).slice(-o);return this.setPublicKeyHex(s),s},this.signWithMessageHash=function(e){return this.signHex(e,this.prvKeyHex)},this.signHex=function(e,t){var r=new n(t,16),o=this.ecparams.n,s=new n(e.substring(0,this.ecparams.keycharlen),16);do{var a=this.getBigRandom(o),c=this.ecparams.G.multiply(a).getX().toBigInteger().mod(o)}while(c.compareTo(n.ZERO)<=0);var u=a.modInverse(o).multiply(s.add(r.multiply(c))).mod(o);return i.biRSSigToASN1Sig(c,u)},this.sign=function(e,t){var r=t,i=this.ecparams.n,o=n.fromByteArrayUnsigned(e);do{var s=this.getBigRandom(i),a=this.ecparams.G.multiply(s).getX().toBigInteger().mod(i)}while(a.compareTo(_.ZERO)<=0);var c=s.modInverse(i).multiply(o.add(r.multiply(a))).mod(i);return this.serializeSig(a,c)},this.verifyWithMessageHash=function(e,t){return this.verifyHex(e,t,this.pubKeyHex)},this.verifyHex=function(e,t,o){try{var s,a,c=i.parseSigHex(t);s=c.r,a=c.s;var u=r.decodeFromHex(this.ecparams.curve,o),l=new n(e.substring(0,this.ecparams.keycharlen),16);return this.verifyRaw(l,s,a,u)}catch(e){return!1}},this.verify=function(e,t,i){var o,s,a;if(Bitcoin.Util.isArray(t)){var c=this.parseSig(t);o=c.r,s=c.s}else{if("object"!=typeof t||!t.r||!t.s)throw"Invalid value for signature";o=t.r,s=t.s}if(i instanceof ce)a=i;else{if(!Bitcoin.Util.isArray(i))throw"Invalid format for pubkey value, must be byte array or ECPointFp";a=r.decodeFrom(this.ecparams.curve,i)}var u=n.fromByteArrayUnsigned(e);return this.verifyRaw(u,o,s,a)},this.verifyRaw=function(e,t,r,i){var o=this.ecparams.n,s=this.ecparams.G;if(t.compareTo(n.ONE)<0||t.compareTo(o)>=0)return!1;if(r.compareTo(n.ONE)<0||r.compareTo(o)>=0)return!1;var a=r.modInverse(o),c=e.multiply(a).mod(o),u=t.multiply(a).mod(o);return s.multiply(c).add(i.multiply(u)).getX().toBigInteger().mod(o).equals(t)},this.serializeSig=function(e,t){var n=e.toByteArraySigned(),r=t.toByteArraySigned(),i=[];return i.push(2),i.push(n.length),(i=i.concat(n)).push(2),i.push(r.length),(i=i.concat(r)).unshift(i.length),i.unshift(48),i},this.parseSig=function(e){var t;if(48!=e[0])throw new Error("Signature not a valid DERSequence");if(2!=e[t=2])throw new Error("First element in signature must be a DERInteger");var r=e.slice(t+2,t+2+e[t+1]);if(2!=e[t+=2+e[t+1]])throw new Error("Second element in signature must be a DERInteger");var i=e.slice(t+2,t+2+e[t+1]);return t+=2+e[t+1],{r:n.fromByteArrayUnsigned(r),s:n.fromByteArrayUnsigned(i)}},this.parseSigCompact=function(e){if(65!==e.length)throw"Signature has the wrong length";var t=e[0]-27;if(t<0||t>7)throw"Invalid signature type";var r=this.ecparams.n;return{r:n.fromByteArrayUnsigned(e.slice(1,33)).mod(r),s:n.fromByteArrayUnsigned(e.slice(33,65)).mod(r),i:t}},this.readPKCS5PrvKeyHex=function(e){if(!1===u(e))throw new Error("not ASN.1 hex string");var t,n,r;try{t=c(e,0,["[0]",0],"06"),n=c(e,0,[1],"04");try{r=c(e,0,["[1]",0],"03")}catch(e){}}catch(e){throw new Error("malformed PKCS#1/5 plain ECC private key")}if(this.curveName=s(t),void 0===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(r),this.setPrivateKeyHex(n),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(e){if(!1===u(e))throw new t("not ASN.1 hex string");var n,r,i;try{c(e,0,[1,0],"06"),n=c(e,0,[1,1],"06"),r=c(e,0,[2,0,1],"04");try{i=c(e,0,[2,0,"[1]",0],"03")}catch(e){}}catch(e){throw new t("malformed PKCS#8 plain ECC private key")}if(this.curveName=s(n),void 0===this.curveName)throw new t("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(i),this.setPrivateKeyHex(r),this.isPublic=!1},this.readPKCS8PubKeyHex=function(e){if(!1===u(e))throw new t("not ASN.1 hex string");var n,r;try{c(e,0,[0,0],"06"),n=c(e,0,[0,1],"06"),r=c(e,0,[1],"03")}catch(e){throw new t("malformed PKCS#8 ECC public key")}if(this.curveName=s(n),null===this.curveName)throw new t("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(r)},this.readCertPubKeyHex=function(e,n){if(!1===u(e))throw new t("not ASN.1 hex string");var r,i;try{r=c(e,0,[0,5,0,1],"06"),i=c(e,0,[0,5,1],"03")}catch(e){throw new t("malformed X.509 certificate ECC public key")}if(this.curveName=s(r),null===this.curveName)throw new t("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(i)},void 0!==e&&void 0!==e.curve&&(this.curveName=e.curve),void 0===this.curveName&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),void 0!==e&&(void 0!==e.prv&&this.setPrivateKeyHex(e.prv),void 0!==e.pub&&this.setPublicKeyHex(e.pub))},he.crypto.ECDSA.parseSigHex=function(e){var t=he.crypto.ECDSA.parseSigHexInHexRS(e);return{r:new _(t.r,16),s:new _(t.s,16)}},he.crypto.ECDSA.parseSigHexInHexRS=function(e){var t=pe,n=t.getChildIdx,r=t.getV;if(t.checkStrictDER(e,0),"30"!=e.substr(0,2))throw new Error("signature is not a ASN.1 sequence");var i=n(e,0);if(2!=i.length)throw new Error("signature shall have two elements");var o=i[0],s=i[1];if("02"!=e.substr(o,2))throw new Error("1st item not ASN.1 integer");if("02"!=e.substr(s,2))throw new Error("2nd item not ASN.1 integer");return{r:r(e,o),s:r(e,s)}},he.crypto.ECDSA.asn1SigToConcatSig=function(e){var t=he.crypto.ECDSA.parseSigHexInHexRS(e),n=t.r,r=t.s;if(n.length>=130&&n.length<=134){if(n.length%2!=0)throw Error("unknown ECDSA sig r length error");if(r.length%2!=0)throw Error("unknown ECDSA sig s length error");"00"==n.substr(0,2)&&(n=n.substr(2)),"00"==r.substr(0,2)&&(r=r.substr(2));var i=Math.max(n.length,r.length);return(n=("000000"+n).slice(-i))+("000000"+r).slice(-i)}if("00"==n.substr(0,2)&&n.length%32==2&&(n=n.substr(2)),"00"==r.substr(0,2)&&r.length%32==2&&(r=r.substr(2)),n.length%32==30&&(n="00"+n),r.length%32==30&&(r="00"+r),n.length%32!=0)throw Error("unknown ECDSA sig r length error");if(r.length%32!=0)throw Error("unknown ECDSA sig s length error");return n+r},he.crypto.ECDSA.concatSigToASN1Sig=function(e){if(e.length%4!=0)throw Error("unknown ECDSA concatinated r-s sig length error");var t=e.substr(0,e.length/2),n=e.substr(e.length/2);return he.crypto.ECDSA.hexRSSigToASN1Sig(t,n)},he.crypto.ECDSA.hexRSSigToASN1Sig=function(e,t){var n=new _(e,16),r=new _(t,16);return he.crypto.ECDSA.biRSSigToASN1Sig(n,r)},he.crypto.ECDSA.biRSSigToASN1Sig=function(e,t){var n=he.asn1,r=new n.DERInteger({bigint:e}),i=new n.DERInteger({bigint:t});return new n.DERSequence({array:[r,i]}).tohex()},he.crypto.ECDSA.getName=function(e){return"2b8104001f"===e?"secp192k1":"2a8648ce3d030107"===e?"secp256r1":"2b8104000a"===e?"secp256k1":"2b81040021"===e?"secp224r1":"2b81040022"===e?"secp384r1":"2b81040023"===e?"secp521r1":-1!=="|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(e)?"secp256r1":-1!=="|secp256k1|".indexOf(e)?"secp256k1":-1!=="|secp224r1|NIST P-224|P-224|".indexOf(e)?"secp224r1":-1!=="|secp384r1|NIST P-384|P-384|".indexOf(e)?"secp384r1":-1!=="|secp521r1|NIST P-521|P-521|".indexOf(e)?"secp521r1":null},void 0!==he&&he||(he={}),void 0!==he.crypto&&he.crypto||(he.crypto={}),he.crypto.ECParameterDB=new function(){var e={},t={};function n(e){return new _(e,16)}this.getByName=function(n){var r=n;if(void 0!==t[r]&&(r=t[n]),void 0!==e[r])return e[r];throw"unregistered EC curve name: "+r},this.regist=function(r,i,o,s,a,c,u,l,h,d,f,p){e[r]={};var m=n(o),g=n(s),v=n(a),y=n(c),b=n(u),w=new ue(m,g,v),S=w.decodePointHex("04"+l+h);e[r].name=r,e[r].keylen=i,e[r].keycharlen=2*Math.ceil(i/8),e[r].curve=w,e[r].G=S,e[r].n=y,e[r].h=b,e[r].oid=f,e[r].info=p;for(var _=0;_<d.length;_++)t[d[_]]=r}},he.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),he.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),he.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),he.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),he.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),he.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),he.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),he.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),he.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),he.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","00C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]),void 0!==he&&he||(he={}),void 0!==he.crypto&&he.crypto||(he.crypto={}),he.crypto.DSA=function(){var e=pe,t=(e.getVbyList,e.getVbyListEx),n=e.isASN1HEX,r=_;this.p=null,this.q=null,this.g=null,this.y=null,this.x=null,this.type="DSA",this.isPrivate=!1,this.isPublic=!1,this.setPrivate=function(e,t,n,r,i){this.isPrivate=!0,this.p=e,this.q=t,this.g=n,this.y=r,this.x=i},this.setPrivateHex=function(e,t,n,r,i){var o,s,a,c,u;o=new _(e,16),s=new _(t,16),a=new _(n,16),c="string"==typeof r&&r.length>1?new _(r,16):null,u=new _(i,16),this.setPrivate(o,s,a,c,u)},this.setPublic=function(e,t,n,r){this.isPublic=!0,this.p=e,this.q=t,this.g=n,this.y=r,this.x=null},this.setPublicHex=function(e,t,n,r){var i,o,s,a;i=new _(e,16),o=new _(t,16),s=new _(n,16),a=new _(r,16),this.setPublic(i,o,s,a)},this.signWithMessageHash=function(e){var t=this.p,n=this.q,r=this.g,i=(this.y,this.x),o=he.crypto.Util.getRandomBigIntegerMinToMax(_.ONE.add(_.ONE),n.subtract(_.ONE)),s=new _(e.substr(0,n.bitLength()/4),16),a=r.modPow(o,t).mod(n),c=o.modInverse(n).multiply(s.add(i.multiply(a))).mod(n);return he.asn1.ASN1Util.jsonToASN1HEX({seq:[{int:{bigint:a}},{int:{bigint:c}}]})},this.verifyWithMessageHash=function(e,t){var n=this.p,r=this.q,i=this.g,o=this.y,s=this.parseASN1Signature(t),a=s[0],c=s[1],u=new _(e.substr(0,r.bitLength()/4),16);if(_.ZERO.compareTo(a)>0||a.compareTo(r)>0)throw"invalid DSA signature";if(_.ZERO.compareTo(c)>=0||c.compareTo(r)>0)throw"invalid DSA signature";var l=c.modInverse(r),h=u.multiply(l).mod(r),d=a.multiply(l).mod(r);return 0==i.modPow(h,n).multiply(o.modPow(d,n)).mod(n).mod(r).compareTo(a)},this.parseASN1Signature=function(e){try{return[new r(t(e,0,[0],"02"),16),new r(t(e,0,[1],"02"),16)]}catch(e){throw new Error("malformed ASN.1 DSA signature")}},this.readPKCS5PrvKeyHex=function(e){var r,i,o,s,a;if(!1===n(e))throw new Error("not ASN.1 hex string");try{r=t(e,0,[1],"02"),i=t(e,0,[2],"02"),o=t(e,0,[3],"02"),s=t(e,0,[4],"02"),a=t(e,0,[5],"02")}catch(e){throw new Error("malformed PKCS#1/5 plain DSA private key")}this.setPrivateHex(r,i,o,s,a)},this.readPKCS8PrvKeyHex=function(e){var r,i,o,s;if(!1===n(e))throw new Error("not ASN.1 hex string");try{r=t(e,0,[1,1,0],"02"),i=t(e,0,[1,1,1],"02"),o=t(e,0,[1,1,2],"02"),s=t(e,0,[2,0],"02")}catch(e){throw new Error("malformed PKCS#8 plain DSA private key")}this.setPrivateHex(r,i,o,null,s)},this.readPKCS8PubKeyHex=function(e){var r,i,o,s;if(!1===n(e))throw new Error("not ASN.1 hex string");try{r=t(e,0,[0,1,0],"02"),i=t(e,0,[0,1,1],"02"),o=t(e,0,[0,1,2],"02"),s=t(e,0,[1,0],"02")}catch(e){throw new Error("malformed PKCS#8 DSA public key")}this.setPublicHex(r,i,o,s)},this.readCertPubKeyHex=function(e,r){var i,o,s,a;if(!1===n(e))throw new Error("not ASN.1 hex string");try{i=t(e,0,[0,5,0,1,0],"02"),o=t(e,0,[0,5,0,1,1],"02"),s=t(e,0,[0,5,0,1,2],"02"),a=t(e,0,[0,5,1,0],"02")}catch(e){throw new Error("malformed X.509 certificate DSA public key")}this.setPublicHex(i,o,s,a)}};var it=function(){var e=function(e,n,r){return t(m.AES,e,n,r)},t=function(e,t,n,r){var i=m.enc.Hex.parse(t),o=m.enc.Hex.parse(n),s=m.enc.Hex.parse(r),a={};a.key=o,a.iv=s,a.ciphertext=i;var c=e.decrypt(a,o,{iv:s});return m.enc.Hex.stringify(c)},n=function(e,t,n){return r(m.AES,e,t,n)},r=function(e,t,n,r){var i=m.enc.Hex.parse(t),o=m.enc.Hex.parse(n),s=m.enc.Hex.parse(r),a=e.encrypt(i,o,{iv:s}),c=m.enc.Hex.parse(a.toString());return m.enc.Base64.stringify(c)},i={"AES-256-CBC":{proc:e,eproc:n,keylen:32,ivlen:16},"AES-192-CBC":{proc:e,eproc:n,keylen:24,ivlen:16},"AES-128-CBC":{proc:e,eproc:n,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:function(e,n,r){return t(m.TripleDES,e,n,r)},eproc:function(e,t,n){return r(m.TripleDES,e,t,n)},keylen:24,ivlen:8},"DES-CBC":{proc:function(e,n,r){return t(m.DES,e,n,r)},eproc:function(e,t,n){return r(m.DES,e,t,n)},keylen:8,ivlen:8}},o=function(e){var t={},n=e.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));n&&(t.cipher=n[1],t.ivsalt=n[2]);var r=e.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));r&&(t.type=r[1]);var i=-1,o=0;-1!=e.indexOf("\r\n\r\n")&&(i=e.indexOf("\r\n\r\n"),o=2),-1!=e.indexOf("\n\n")&&(i=e.indexOf("\n\n"),o=1);var s=e.indexOf("-----END");if(-1!=i&&-1!=s){var a=e.substring(i+2*o,s-o);a=a.replace(/\s+/g,""),t.data=a}return t},s=function(e,t,n){for(var r=n.substring(0,16),o=m.enc.Hex.parse(r),s=m.enc.Utf8.parse(t),a=i[e].keylen+i[e].ivlen,c="",u=null;;){var l=m.algo.MD5.create();if(null!=u&&l.update(u),l.update(s),l.update(o),u=l.finalize(),(c+=m.enc.Hex.stringify(u)).length>=2*a)break}var h={};return h.keyhex=c.substr(0,2*i[e].keylen),h.ivhex=c.substr(2*i[e].keylen,2*i[e].ivlen),h},a=function(e,t,n,r){var o=m.enc.Base64.parse(e),s=m.enc.Hex.stringify(o);return(0,i[t].proc)(s,n,r)};return{version:"1.0.0",parsePKCS5PEM:function(e){return o(e)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(e,t,n){return s(e,t,n)},decryptKeyB64:function(e,t,n,r){return a(e,t,n,r)},getDecryptedKeyHex:function(e,t){var n=o(e),r=(n.type,n.cipher),i=n.ivsalt,c=n.data,u=s(r,t,i).keyhex;return a(c,r,u,i)},getEncryptedPKCS5PEMFromPrvKeyHex:function(e,t,n,r,o){var a="";if(void 0!==r&&null!=r||(r="AES-256-CBC"),void 0===i[r])throw new Error("KEYUTIL unsupported algorithm: "+r);if(void 0===o||null==o){var c=function(e){var t=m.lib.WordArray.random(e);return m.enc.Hex.stringify(t)}(i[r].ivlen);o=c.toUpperCase()}var u=function(e,t,n,r){return(0,i[t].eproc)(e,n,r)}(t,r,s(r,n,o).keyhex,o);return a="-----BEGIN "+e+" PRIVATE KEY-----\r\n",a+="Proc-Type: 4,ENCRYPTED\r\n",a+="DEK-Info: "+r+","+o+"\r\n",a+="\r\n",(a+=u.replace(/(.{64})/g,"$1\r\n"))+"\r\n-----END "+e+" PRIVATE KEY-----\r\n"},parseHexOfEncryptedPKCS8:function(e){var t=pe,n=t.getChildIdx,r=t.getV,i={},o=n(e,0);if(2!=o.length)throw new Error("malformed format: SEQUENCE(0).items != 2: "+o.length);i.ciphertext=r(e,o[1]);var s=n(e,o[0]);if(2!=s.length)throw new Error("malformed format: SEQUENCE(0.0).items != 2: "+s.length);if("2a864886f70d01050d"!=r(e,s[0]))throw new Error("this only supports pkcs5PBES2");var a=n(e,s[1]);if(2!=s.length)throw new Error("malformed format: SEQUENCE(0.0.1).items != 2: "+a.length);var c=n(e,a[1]);if(2!=c.length)throw new Error("malformed format: SEQUENCE(0.0.1.1).items != 2: "+c.length);if("2a864886f70d0307"!=r(e,c[0]))throw"this only supports TripleDES";i.encryptionSchemeAlg="TripleDES",i.encryptionSchemeIV=r(e,c[1]);var u=n(e,a[0]);if(2!=u.length)throw new Error("malformed format: SEQUENCE(0.0.1.0).items != 2: "+u.length);if("2a864886f70d01050c"!=r(e,u[0]))throw new Error("this only supports pkcs5PBKDF2");var l=n(e,u[1]);if(l.length<2)throw new Error("malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+l.length);i.pbkdf2Salt=r(e,l[0]);var h=r(e,l[1]);try{i.pbkdf2Iter=parseInt(h,16)}catch(e){throw new Error("malformed format pbkdf2Iter: "+h)}return i},getPBKDF2KeyHexFromParam:function(e,t){var n=m.enc.Hex.parse(e.pbkdf2Salt),r=e.pbkdf2Iter,i=m.PBKDF2(t,n,{keySize:6,iterations:r});return m.enc.Hex.stringify(i)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(e,t){var n=Ie(e,"ENCRYPTED PRIVATE KEY"),r=this.parseHexOfEncryptedPKCS8(n),i=it.getPBKDF2KeyHexFromParam(r,t),o={};o.ciphertext=m.enc.Hex.parse(r.ciphertext);var s=m.enc.Hex.parse(i),a=m.enc.Hex.parse(r.encryptionSchemeIV),c=m.TripleDES.decrypt(o,s,{iv:a});return m.enc.Hex.stringify(c)},getKeyFromEncryptedPKCS8PEM:function(e,t){var n=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(e,t);return this.getKeyFromPlainPrivatePKCS8Hex(n)},parsePlainPrivatePKCS8Hex:function(e){var t=pe,n=t.getChildIdx,r=t.getV,i={algparam:null};if("30"!=e.substr(0,2))throw new Error("malformed plain PKCS8 private key(code:001)");var o=n(e,0);if(o.length<3)throw new Error("malformed plain PKCS8 private key(code:002)");if("30"!=e.substr(o[1],2))throw new Error("malformed PKCS8 private key(code:003)");var s=n(e,o[1]);if(2!=s.length)throw new Error("malformed PKCS8 private key(code:004)");if("06"!=e.substr(s[0],2))throw new Error("malformed PKCS8 private key(code:005)");if(i.algoid=r(e,s[0]),"06"==e.substr(s[1],2)&&(i.algparam=r(e,s[1])),"04"!=e.substr(o[2],2))throw new Error("malformed PKCS8 private key(code:006)");return i.keyidx=t.getVidx(e,o[2]),i},getKeyFromPlainPrivatePKCS8PEM:function(e){var t=Ie(e,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(t)},getKeyFromPlainPrivatePKCS8Hex:function(e){var t,n=this.parsePlainPrivatePKCS8Hex(e);if("2a864886f70d010101"==n.algoid)t=new oe;else if("2a8648ce380401"==n.algoid)t=new he.crypto.DSA;else{if("2a8648ce3d0201"!=n.algoid)throw new Error("unsupported private key algorithm");t=new he.crypto.ECDSA}return t.readPKCS8PrvKeyHex(e),t},_getKeyFromPublicPKCS8Hex:function(e){var t,n=pe.getVbyList(e,0,[0,0],"06");if("2a864886f70d010101"===n)t=new oe;else if("2a8648ce380401"===n)t=new he.crypto.DSA;else{if("2a8648ce3d0201"!==n)throw new Error("unsupported PKCS#8 public key hex");t=new he.crypto.ECDSA}return t.readPKCS8PubKeyHex(e),t},parsePublicRawRSAKeyHex:function(e){var t=pe,n=t.getChildIdx,r=t.getV,i={};if("30"!=e.substr(0,2))throw new Error("malformed RSA key(code:001)");var o=n(e,0);if(2!=o.length)throw new Error("malformed RSA key(code:002)");if("02"!=e.substr(o[0],2))throw new Error("malformed RSA key(code:003)");if(i.n=r(e,o[0]),"02"!=e.substr(o[1],2))throw new Error("malformed RSA key(code:004)");return i.e=r(e,o[1]),i},parsePublicPKCS8Hex:function(e){var t=pe,n=t.getChildIdx,r=t.getV,i={algparam:null},o=n(e,0);if(2!=o.length)throw new Error("outer DERSequence shall have 2 elements: "+o.length);var s=o[0];if("30"!=e.substr(s,2))throw new Error("malformed PKCS8 public key(code:001)");var a=n(e,s);if(2!=a.length)throw new Error("malformed PKCS8 public key(code:002)");if("06"!=e.substr(a[0],2))throw new Error("malformed PKCS8 public key(code:003)");if(i.algoid=r(e,a[0]),"06"==e.substr(a[1],2)?i.algparam=r(e,a[1]):"30"==e.substr(a[1],2)&&(i.algparam={},i.algparam.p=t.getVbyList(e,a[1],[0],"02"),i.algparam.q=t.getVbyList(e,a[1],[1],"02"),i.algparam.g=t.getVbyList(e,a[1],[2],"02")),"03"!=e.substr(o[1],2))throw new Error("malformed PKCS8 public key(code:004)");return i.key=r(e,o[1]).substr(2),i}}}();function ot(e,t){for(var n="",r=t/4-e.length,i=0;i<r;i++)n+="0";return n+e}function st(e,t,n){for(var r="",i=0;r.length<t;)r+=ke(n(Ae(e+String.fromCharCode.apply(String,[(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i])))),i+=1;return r}function at(e){for(var t in he.crypto.Util.DIGESTINFOHEAD){var n=he.crypto.Util.DIGESTINFOHEAD[t],r=n.length;if(e.substring(0,r)==n)return[t,e.substring(r)]}return[]}function ct(e){var t,n=pe,r=n.getChildIdx,i=n.getV,o=(n.dump,n.parse),s=n.getTLV,a=n.getVbyList,c=n.getVbyListEx,u=n.getTLVbyList,l=n.getTLVbyListEx,h=n.getIdxbyList,d=n.getIdxbyListEx,f=n.getVidx,p=n.getInt,m=n.oidname,g=n.hextooidstr,v=Ie,y=Error;try{t=he.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV}catch(e){}this.HEX2STAG={"0c":"utf8",13:"prn",16:"ia5","1a":"vis","1e":"bmp"},this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){if(null===this.hex||0!==this.version)return this.version;var e=u(this.hex,0,[0,0]);if("a0"==e.substr(0,2)){var t=u(e,0,[0]),n=p(t,0);if(n<0||2<n)throw new Error("malformed version field");return this.version=n+1,this.version}return this.version=1,this.foffset=-1,1},this.getSerialNumberHex=function(){return c(this.hex,0,[0,0],"02")},this.getSignatureAlgorithmField=function(){var e=l(this.hex,0,[0,1]);return this.getAlgorithmIdentifierName(e)},this.getAlgorithmIdentifierName=function(e){for(var n in t)if(e===t[n])return n;return m(c(e,0,[0],"06"))},this.getIssuer=function(e,t){return this.getX500Name(this.getIssuerHex(),e,t)},this.getIssuerHex=function(){return u(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return this.getIssuer().str},this.getSubject=function(e,t){return this.getX500Name(this.getSubjectHex(),e,t)},this.getSubjectHex=function(){return u(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return this.getSubject().str},this.getNotBefore=function(){var e=a(this.hex,0,[0,4+this.foffset,0]);return e=e.replace(/(..)/g,"%$1"),decodeURIComponent(e)},this.getNotAfter=function(){var e=a(this.hex,0,[0,4+this.foffset,1]);return e=e.replace(/(..)/g,"%$1"),decodeURIComponent(e)},this.getPublicKeyHex=function(){return this.getSPKI()},this.getSPKI=function(){return u(this.hex,0,[0,6+this.foffset],"30")},this.getSPKIValue=function(){var e=this.getSPKI();return null==e?null:a(e,0,[1],"03",!0)},this.getPublicKeyIdx=function(){return h(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var e=this.getPublicKeyIdx();return h(this.hex,e,[1,0],"30")},this.getPublicKey=function(){return it.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){var e=u(this.hex,0,[1],"30");return this.getAlgorithmIdentifierName(e)},this.getSignatureValueHex=function(){return a(this.hex,0,[2],"03",!0)},this.verifySignature=function(e){var t=this.getSignatureAlgorithmField(),n=this.getSignatureValueHex(),r=u(this.hex,0,[0],"30"),i=new he.crypto.Signature({alg:t});return i.init(e),i.updateHex(r),i.verify(n)},this.parseExt=function(e){var t,o,s;if(void 0===e){if(s=this.hex,3!==this.version)return-1;t=h(s,0,[0,7,0],"30"),o=r(s,t)}else{s=Ie(e);var c=h(s,0,[0,3,0,0],"06");if("2a864886f70d01090e"!=i(s,c))return void(this.aExtInfo=new Array);t=h(s,0,[0,3,0,1,0],"30"),o=r(s,t),this.hex=s}this.aExtInfo=new Array;for(var u=0;u<o.length;u++){var l={critical:!1},d=0;3===r(s,o[u]).length&&(l.critical=!0,d=1),l.oid=n.hextooidstr(a(s,o[u],[0],"06"));var p=h(s,o[u],[1+d]);l.vidx=f(s,p),this.aExtInfo.push(l)}},this.getExtInfo=function(e){var t=this.aExtInfo,n=e;if(e.match(/^[0-9.]+$/)||(n=he.asn1.x509.OID.name2oid(e)),""!==n)for(var r=0;r<t.length;r++)if(t[r].oid===n)return t[r]},this.getCriticalExtV=function(e,t,n){if(null!=t)return[t,n];var r=this.getExtInfo(e);return null==r?[null,null]:[s(this.hex,r.vidx),r.critical]},this.getExtBasicConstraints=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("basicConstraints");if(void 0===n)return;e=s(this.hex,n.vidx),t=n.critical}var r={extname:"basicConstraints"};if(t&&(r.critical=!0),"3000"===e)return r;if("30030101ff"===e)return r.cA=!0,r;if("30060101ff02"===e.substr(0,12)){var o=i(e,10),a=parseInt(o,16);return r.cA=!0,r.pathLen=a,r}throw new Error("hExtV parse error: "+e)},this.getExtNameConstraints=function(e,t){var n=this.getCriticalExtV("nameConstraints",e,t);if(e=n[0],t=n[1],null!=e){var i={extname:"nameConstraints"};t&&(i.critical=!0);for(var o=r(e,0),a=0;a<o.length;a++){for(var c=[],u=r(e,o[a]),l=0;l<u.length;l++){var h=s(e,u[l]),d=this.getGeneralSubtree(h);c.push(d)}var f=e.substr(o[a],2);"a0"==f?i.permit=c:"a1"==f&&(i.exclude=c)}return i}},this.getGeneralSubtree=function(e){var t=r(e,0),n=t.length;if(n<1||2<n)throw new Error("wrong num elements");for(var o=this.getGeneralName(s(e,t[0])),a=1;a<n;a++){var c=e.substr(t[a],2),u=i(e,t[a]),l=parseInt(u,16);"80"==c&&(o.min=l),"81"==c&&(o.max=l)}return o},this.getExtKeyUsage=function(e,t){var n=this.getCriticalExtV("keyUsage",e,t);if(e=n[0],t=n[1],null!=e){var r={extname:"keyUsage"};return t&&(r.critical=!0),r.names=this.getExtKeyUsageString(e).split(","),r}},this.getExtKeyUsageBin=function(e){if(void 0===e){var t=this.getExtInfo("keyUsage");if(void 0===t)return"";e=s(this.hex,t.vidx)}if(8!=e.length&&10!=e.length)throw new Error("malformed key usage value: "+e);var n="000000000000000"+parseInt(e.substr(6),16).toString(2);return 8==e.length&&(n=n.slice(-8)),10==e.length&&(n=n.slice(-16)),""==(n=n.replace(/0+$/,""))&&(n="0"),n},this.getExtKeyUsageString=function(e){for(var t=this.getExtKeyUsageBin(e),n=new Array,r=0;r<t.length;r++)"1"==t.substr(r,1)&&n.push(ct.KEYUSAGE_NAME[r]);return n.join(",")},this.getExtSubjectKeyIdentifier=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("subjectKeyIdentifier");if(void 0===n)return;e=s(this.hex,n.vidx),t=n.critical}var r={extname:"subjectKeyIdentifier"};t&&(r.critical=!0);var o=i(e,0);return r.kid={hex:o},r},this.getExtAuthorityKeyIdentifier=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("authorityKeyIdentifier");if(void 0===n)return;e=s(this.hex,n.vidx),t=n.critical}var o={extname:"authorityKeyIdentifier"};t&&(o.critical=!0);for(var a=r(e,0),c=0;c<a.length;c++){var u=e.substr(a[c],2);if("80"===u&&(o.kid={hex:i(e,a[c])}),"a1"===u){var l=s(e,a[c]),h=this.getGeneralNames(l);o.issuer=h[0].dn}"82"===u&&(o.sn={hex:i(e,a[c])})}return o},this.getExtExtKeyUsage=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("extKeyUsage");if(void 0===n)return;e=s(this.hex,n.vidx),t=n.critical}var o={extname:"extKeyUsage",array:[]};t&&(o.critical=!0);for(var a=r(e,0),c=0;c<a.length;c++)o.array.push(m(i(e,a[c])));return o},this.getExtExtKeyUsageName=function(){var e=this.getExtInfo("extKeyUsage");if(void 0===e)return e;var t=new Array,n=s(this.hex,e.vidx);if(""===n)return t;for(var o=r(n,0),a=0;a<o.length;a++)t.push(m(i(n,o[a])));return t},this.getExtSubjectAltName=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("subjectAltName");if(void 0===n)return;e=s(this.hex,n.vidx),t=n.critical}var r={extname:"subjectAltName",array:[]};return t&&(r.critical=!0),r.array=this.getGeneralNames(e),r},this.getExtIssuerAltName=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("issuerAltName");if(void 0===n)return;e=s(this.hex,n.vidx),t=n.critical}var r={extname:"issuerAltName",array:[]};return t&&(r.critical=!0),r.array=this.getGeneralNames(e),r},this.getGeneralNames=function(e){for(var t=r(e,0),n=[],i=0;i<t.length;i++){var o=this.getGeneralName(s(e,t[i]));void 0!==o&&n.push(o)}return n},this.getGeneralName=function(e){var t=e.substr(0,2),n=i(e,0),r=ke(n);return"81"==t?{rfc822:r}:"82"==t?{dns:r}:"86"==t?{uri:r}:"87"==t?{ip:qe(n)}:"a4"==t?{dn:this.getX500Name(n)}:"a0"==t?{other:this.getOtherName(e)}:void 0},this.getExtSubjectAltName2=function(){var e,t,n,o=this.getExtInfo("subjectAltName");if(void 0===o)return o;for(var a=new Array,c=s(this.hex,o.vidx),u=r(c,0),l=0;l<u.length;l++)n=c.substr(u[l],2),e=i(c,u[l]),"81"===n&&(t=Ce(e),a.push(["MAIL",t])),"82"===n&&(t=Ce(e),a.push(["DNS",t])),"84"===n&&(t=ct.hex2dn(e,0),a.push(["DN",t])),"86"===n&&(t=Ce(e),a.push(["URI",t])),"87"===n&&(t=qe(e),a.push(["IP",t]));return a},this.getExtCRLDistributionPoints=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("cRLDistributionPoints");if(void 0===n)return;e=s(this.hex,n.vidx),t=n.critical}var i={extname:"cRLDistributionPoints",array:[]};t&&(i.critical=!0);for(var o=r(e,0),a=0;a<o.length;a++){var c=s(e,o[a]);i.array.push(this.getDistributionPoint(c))}return i},this.getDistributionPoint=function(e){for(var t={},n=r(e,0),i=0;i<n.length;i++){var o=e.substr(n[i],2),a=s(e,n[i]);"a0"==o&&(t.dpname=this.getDistributionPointName(a))}return t},this.getDistributionPointName=function(e){for(var t={},n=r(e,0),i=0;i<n.length;i++){var o=e.substr(n[i],2),a=s(e,n[i]);"a0"==o&&(t.full=this.getGeneralNames(a))}return t},this.getExtCRLDistributionPointsURI=function(){var e=this.getExtCRLDistributionPoints();if(null==e)return e;for(var t=e.array,n=[],r=0;r<t.length;r++)try{null!=t[r].dpname.full[0].uri&&n.push(t[r].dpname.full[0].uri)}catch(e){}return n},this.getExtAIAInfo=function(){var e=this.getExtInfo("authorityInfoAccess");if(void 0===e)return e;for(var t={ocsp:[],caissuer:[]},n=r(this.hex,e.vidx),i=0;i<n.length;i++){var o=a(this.hex,n[i],[0],"06"),s=a(this.hex,n[i],[1],"86");"2b06010505073001"===o&&t.ocsp.push(Ce(s)),"2b06010505073002"===o&&t.caissuer.push(Ce(s))}return t},this.getExtAuthorityInfoAccess=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("authorityInfoAccess");if(void 0===n)return;e=s(this.hex,n.vidx),t=n.critical}var i={extname:"authorityInfoAccess",array:[]};t&&(i.critical=!0);for(var o=r(e,0),u=0;u<o.length;u++){var l=c(e,o[u],[0],"06"),h=Ce(a(e,o[u],[1],"86"));if("2b06010505073001"==l)i.array.push({ocsp:h});else{if("2b06010505073002"!=l)throw new Error("unknown method: "+l);i.array.push({caissuer:h})}}return i},this.getExtCertificatePolicies=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("certificatePolicies");if(void 0===n)return;e=s(this.hex,n.vidx),t=n.critical}var i={extname:"certificatePolicies",array:[]};t&&(i.critical=!0);for(var o=r(e,0),a=0;a<o.length;a++){var c=s(e,o[a]),u=this.getPolicyInformation(c);i.array.push(u)}return i},this.getPolicyInformation=function(e){var t={},n=a(e,0,[0],"06");t.policyoid=m(n);var i=d(e,0,[1],"30");if(-1!=i){t.array=[];for(var o=r(e,i),c=0;c<o.length;c++){var u=s(e,o[c]),l=this.getPolicyQualifierInfo(u);t.array.push(l)}}return t},this.getOtherName=function(e){var t={},n=r(e,0),i=a(e,n[0],[],"06"),s=a(e,n[1],[]);return t.oid=m(i),t.value=o(s),t},this.getPolicyQualifierInfo=function(e){var t={},n=a(e,0,[0],"06");if("2b06010505070201"===n){var r=c(e,0,[1],"16");t.cps=ke(r)}else if("2b06010505070202"===n){var i=u(e,0,[1],"30");t.unotice=this.getUserNotice(i)}return t},this.getUserNotice=function(e){var t=null;try{return t=n.parse(e),this._asn1ToUnotice(t)}catch(e){return}},this._asn1ToUnotice=function(e){try{for(var t={},n=nt(e,"seq"),r=0;r<n.length;r++){var i=this._asn1ToNoticeRef(n[r]);null!=i&&(t.noticeref=i);var o=this.asn1ToDisplayText(n[r]);null!=o&&(t.exptext=o)}return Object.keys(t).length>0?t:void 0}catch(e){return}},this._asn1ToNoticeRef=function(e){try{for(var t={},n=nt(e,"seq"),r=0;r<n.length;r++){var i=this._asn1ToNoticeNum(n[r]);null!=i&&(t.noticenum=i);var o=this.asn1ToDisplayText(n[r]);null!=o&&(t.org=o)}return Object.keys(t).length>0?t:void 0}catch(e){return}},this._asn1ToNoticeNum=function(e){try{for(var t=nt(e,"seq"),n=[],r=0;r<t.length;r++){var i=t[r];n.push(parseInt(nt(i,"int.hex"),16))}return n}catch(e){return}},this.getDisplayText=function(e){var t={};return t.type={"0c":"utf8",16:"ia5","1a":"vis","1e":"bmp"}[e.substr(0,2)],t.str=ke(i(e,0)),t},this.asn1ToDisplayText=function(e){return null!=e.utf8str?{type:"utf8",str:e.utf8str.str}:null!=e.ia5str?{type:"ia5",str:e.ia5str.str}:null!=e.visstr?{type:"vis",str:e.visstr.str}:null!=e.bmpstr?{type:"bmp",str:e.bmpstr.str}:null!=e.prnstr?{type:"prn",str:e.prnstr.str}:void 0},this.getExtPolicyMappings=function(e,t){var n=this.getCriticalExtV("policyMappings",e,t);if(e=n[0],t=n[1],null!=e){var r={extname:"policyMappings"};t&&(r.critical=!0);try{for(var i=o(e).seq,s=[],a=0;a<i.length;a++){var c=i[a].seq;s.push([c[0].oid,c[1].oid])}r.array=s}catch(e){throw new y("malformed policyMappings")}return r}},this.getExtPolicyConstraints=function(e,t){var n=this.getCriticalExtV("policyConstraints",e,t);if(e=n[0],t=n[1],null!=e){var r={extname:"policyConstraints"};t&&(r.critical=!0);var i=o(e);try{for(var s=i.seq,a=0;a<s.length;a++){var c=s[a].tag;0==c.explicit&&("80"==c.tag&&(r.reqexp=parseInt(c.hex,16)),"81"==c.tag&&(r.inhibit=parseInt(c.hex,16)))}}catch(e){return new y("malformed policyConstraints value")}return r}},this.getExtInhibitAnyPolicy=function(e,t){var n=this.getCriticalExtV("inhibitAnyPolicy",e,t);if(e=n[0],t=n[1],null!=e){var r={extname:"inhibitAnyPolicy"};t&&(r.critical=!0);var i=p(e,0);return-1==i?new y("wrong value"):(r.skip=i,r)}},this.getExtCRLNumber=function(e,t){var n={extname:"cRLNumber"};if(t&&(n.critical=!0),"02"==e.substr(0,2))return n.num={hex:i(e,0)},n;throw new y("hExtV parse error: "+e)},this.getExtCRLReason=function(e,t){var n={extname:"cRLReason"};if(t&&(n.critical=!0),"0a"==e.substr(0,2))return n.code=parseInt(i(e,0),16),n;throw new Error("hExtV parse error: "+e)},this.getExtOcspNonce=function(e,t){var n={extname:"ocspNonce"};t&&(n.critical=!0);var r=i(e,0);return n.hex=r,n},this.getExtOcspNoCheck=function(e,t){var n={extname:"ocspNoCheck"};return t&&(n.critical=!0),n},this.getExtAdobeTimeStamp=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("adobeTimeStamp");if(void 0===n)return;e=s(this.hex,n.vidx),t=n.critical}var i={extname:"adobeTimeStamp"};t&&(i.critical=!0);var o=r(e,0);if(o.length>1){var a=s(e,o[1]),c=this.getGeneralName(a);null!=c.uri&&(i.uri=c.uri)}if(o.length>2){var u=s(e,o[2]);"0101ff"==u&&(i.reqauth=!0),"010100"==u&&(i.reqauth=!1)}return i},this.getExtSubjectDirectoryAttributes=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("subjectDirectoryAttributes");if(void 0===n)return;e=s(this.hex,n.vidx),t=n.critical}var r={extname:"subjectDirectoryAttributes"};t&&(r.critical=!0);try{for(var i=o(e),a=[],c=0;c<i.seq.length;c++){var u=i.seq[c],l=nt(u,"seq.0.oid"),h=nt(u,"seq.1.set");if(null==l||null==h)throw"error";a.push({attr:l,array:h})}return r.array=a,r}catch(e){throw new Error("malformed subjectDirectoryAttributes extension value")}};var b=function(e){var t={};try{var n=e.seq[0].oid,r=he.asn1.x509.OID.name2oid(n);t.type=he.asn1.x509.OID.oid2atype(r);var i=e.seq[1];if(null!=i.utf8str)t.ds="utf8",t.value=i.utf8str.str;else if(null!=i.numstr)t.ds="num",t.value=i.numstr.str;else if(null!=i.telstr)t.ds="tel",t.value=i.telstr.str;else if(null!=i.prnstr)t.ds="prn",t.value=i.prnstr.str;else if(null!=i.ia5str)t.ds="ia5",t.value=i.ia5str.str;else if(null!=i.visstr)t.ds="vis",t.value=i.visstr.str;else{if(null==i.bmpstr)throw"error";t.ds="bmp",t.value=i.bmpstr.str}return t}catch(e){throw new Erorr("improper ASN.1 parsed AttrTypeAndValue")}},w=function(e){try{return e.set.map((function(e){return b(e)}))}catch(e){throw new Error("improper ASN.1 parsed RDN: "+e)}};this.getX500NameRule=function(e){for(var t=null,n=[],r=0;r<e.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(i[o]);for(r=0;r<n.length;r++){var s=n[r],a=s.ds,c=s.value,u=s.type;if("prn"!=a&&"utf8"!=a&&"ia5"!=a)return"mixed";if("ia5"==a){if("CN"!=u)return"mixed";if(he.lang.String.isMail(c))continue;return"mixed"}if("C"==u){if("prn"==a)continue;return"mixed"}if(null==t)t=a;else if(t!==a)return"mixed"}return null==t?"prn":t},this.getAttrTypeAndValue=function(e){var t=o(e);return b(t)},this.getRDN=function(e){var t=o(e);return w(t)},this.getX500NameArray=function(e){return function(e){try{return e.seq.map((function(e){return w(e)}))}catch(e){throw new Error("improper ASN.1 parsed X500Name: "+e)}}(o(e))},this.getX500Name=function(e,t,n){var r=this.getX500NameArray(e),i={str:this.dnarraytostr(r)};return i.array=r,1==n&&(i.hex=e),1==t&&(i.canon=this.c14nRDNArray(r)),i},this.readCertPEM=function(e){this.readCertHex(v(e))},this.readCertHex=function(e){this.hex=e,this.getVersion();try{h(this.hex,0,[0,7],"a3"),this.parseExt()}catch(e){}},this.getParam=function(e){var t={};return null==e&&(e={}),t.version=this.getVersion(),t.serial={hex:this.getSerialNumberHex()},t.sigalg=this.getSignatureAlgorithmField(),t.issuer=this.getIssuer(e.dncanon,e.dnhex),t.notbefore=this.getNotBefore(),t.notafter=this.getNotAfter(),t.subject=this.getSubject(e.dncanon,e.dnhex),t.sbjpubkey=Oe(this.getPublicKeyHex(),"PUBLIC KEY"),null!=this.aExtInfo&&this.aExtInfo.length>0&&(t.ext=this.getExtParamArray()),t.sighex=this.getSignatureValueHex(),1==e.tbshex&&(t.tbshex=u(this.hex,0,[0])),1==e.nodnarray&&(delete t.issuer.array,delete t.subject.array),t},this.getExtParamArray=function(e){null==e&&-1!=d(this.hex,0,[0,"[3]"])&&(e=l(this.hex,0,[0,"[3]",0],"30"));for(var t=[],n=r(e,0),i=0;i<n.length;i++){var o=s(e,n[i]),a=this.getExtParam(o);null!=a&&t.push(a)}return t},this.getExtParam=function(e){var t=r(e,0).length;if(2!=t&&3!=t)throw new Error("wrong number elements in Extension: "+t+" "+e);var n=g(a(e,0,[0],"06")),i=!1;3==t&&"0101ff"==u(e,0,[1])&&(i=!0);var s=u(e,0,[t-1,0]),c=void 0;if("2.5.29.14"==n?c=this.getExtSubjectKeyIdentifier(s,i):"2.5.29.15"==n?c=this.getExtKeyUsage(s,i):"2.5.29.17"==n?c=this.getExtSubjectAltName(s,i):"2.5.29.18"==n?c=this.getExtIssuerAltName(s,i):"2.5.29.19"==n?c=this.getExtBasicConstraints(s,i):"2.5.29.30"==n?c=this.getExtNameConstraints(s,i):"2.5.29.31"==n?c=this.getExtCRLDistributionPoints(s,i):"2.5.29.32"==n?c=this.getExtCertificatePolicies(s,i):"2.5.29.33"==n?c=this.getExtPolicyMappings(s,i):"2.5.29.35"==n?c=this.getExtAuthorityKeyIdentifier(s,i):"2.5.29.36"==n?c=this.getExtPolicyConstraints(s,i):"2.5.29.37"==n?c=this.getExtExtKeyUsage(s,i):"2.5.29.54"==n?c=this.getExtInhibitAnyPolicy(s,i):"1.3.6.1.5.5.7.1.1"==n?c=this.getExtAuthorityInfoAccess(s,i):"2.5.29.20"==n?c=this.getExtCRLNumber(s,i):"2.5.29.21"==n?c=this.getExtCRLReason(s,i):"2.5.29.9"==n?c=this.getExtSubjectDirectoryAttributes(s,i):"1.3.6.1.5.5.7.48.1.2"==n?c=this.getExtOcspNonce(s,i):"1.3.6.1.5.5.7.48.1.5"==n?c=this.getExtOcspNoCheck(s,i):"1.2.840.113583.1.1.9.1"==n?c=this.getExtAdobeTimeStamp(s,i):null!=ct.EXT_PARSER[n]&&(c=ct.EXT_PARSER[n](n,i,s)),null!=c)return c;var l={extname:n,extn:s};try{l.extn=o(s)}catch(e){}return i&&(l.critical=!0),l},this.findExt=function(e,t){for(var n=0;n<e.length;n++)if(e[n].extname==t)return e[n];return null},this.updateExtCDPFullURI=function(e,t){var n=this.findExt(e,"cRLDistributionPoints");if(null!=n&&null!=n.array)for(var r=n.array,i=0;i<r.length;i++)if(null!=r[i].dpname&&null!=r[i].dpname.full)for(var o=r[i].dpname.full,s=0;s<o.length;s++){var a=o[i];null!=a.uri&&(a.uri=t)}},this.updateExtAIAOCSP=function(e,t){var n=this.findExt(e,"authorityInfoAccess");if(null!=n&&null!=n.array)for(var r=n.array,i=0;i<r.length;i++)null!=r[i].ocsp&&(r[i].ocsp=t)},this.updateExtAIACAIssuer=function(e,t){var n=this.findExt(e,"authorityInfoAccess");if(null!=n&&null!=n.array)for(var r=n.array,i=0;i<r.length;i++)null!=r[i].caissuer&&(r[i].caissuer=t)},this.dnarraytostr=function(e){return"/"+e.map((function(e){return function(e){return e.map((function(e){return function(e){return e.type+"="+e.value}(e).replace(/\+/,"\\+")})).join("+")}(e).replace(/\//,"\\/")})).join("/")},this.setCanonicalizedDN=function(e){var t;if(null!=e.str&&null==e.array){var n=new he.asn1.x509.X500Name({str:e.str}).tohex();t=this.getX500NameArray(n)}else t=e.array;null==e.canon&&(e.canon=this.c14nRDNArray(t))},this.c14nRDNArray=function(e){for(var t=[],n=0;n<e.length;n++){for(var r=e[n],i=[],o=0;o<r.length;o++){var s=r[o],a=s.value;a=(a=(a=(a=a.replace(/^\s*/,"")).replace(/\s*$/,"")).replace(/\s+/g," ")).toLowerCase(),i.push(s.type.toLowerCase()+"="+a)}t.push(i.join("+"))}return"/"+t.join("/")},this.getInfo=function(){var e,t,n,r=function(e){for(var t="",n="    ",r="\n",i=e.array,o=0;o<i.length;o++){var s=i[o];null!=s.dn&&(t+=n+"dn: "+s.dn.str+r),null!=s.ip&&(t+=n+"ip: "+s.ip+r),null!=s.rfc822&&(t+=n+"rfc822: "+s.rfc822+r),null!=s.dns&&(t+=n+"dns: "+s.dns+r),null!=s.uri&&(t+=n+"uri: "+s.uri+r),null!=s.other&&(t+=n+"other: "+s.other.oid+"="+JSON.stringify(s.other.value).replace(/\"/g,"")+r)}return t.replace(/\n$/,"")},i=function(e){for(var t="",n=e.array,r=0;r<n.length;r++){var i=n[r];if(t+="    policy oid: "+i.policyoid+"\n",void 0!==i.array)for(var o=0;o<i.array.length;o++){var s=i.array[o];void 0!==s.cps&&(t+="    cps: "+s.cps+"\n")}}return t},o=function(e){for(var t="",n=e.array,r=0;r<n.length;r++){var i=n[r];try{void 0!==i.dpname.full[0].uri&&(t+="    "+i.dpname.full[0].uri+"\n")}catch(e){}try{void 0!==i.dname.full[0].dn.hex&&(t+="    "+ct.hex2dn(i.dpname.full[0].dn.hex)+"\n")}catch(e){}}return t},s=function(e){for(var t="",n=e.array,r=0;r<n.length;r++){var i=n[r];void 0!==i.caissuer&&(t+="    caissuer: "+i.caissuer+"\n"),void 0!==i.ocsp&&(t+="    ocsp: "+i.ocsp+"\n")}return t};if(e="Basic Fields\n",e+="  serial number: "+this.getSerialNumberHex()+"\n",e+="  signature algorithm: "+this.getSignatureAlgorithmField()+"\n",e+="  issuer: "+this.getIssuerString()+"\n",e+="  notBefore: "+this.getNotBefore()+"\n",e+="  notAfter: "+this.getNotAfter()+"\n",e+="  subject: "+this.getSubjectString()+"\n",e+="  subject public key info: \n",e+="    key algorithm: "+(t=this.getPublicKey()).type+"\n","RSA"===t.type&&(e+="    n="+Ke(t.n.toString(16)).substr(0,16)+"...\n",e+="    e="+Ke(t.e.toString(16))+"\n"),null!=(n=this.aExtInfo)){e+="X509v3 Extensions:\n";for(var a=0;a<n.length;a++){var c=n[a],u=he.asn1.x509.OID.oid2name(c.oid);""===u&&(u=c.oid);var l="";if(!0===c.critical&&(l="CRITICAL"),e+="  "+u+" "+l+":\n","basicConstraints"===u){var h=this.getExtBasicConstraints();void 0===h.cA?e+="    {}\n":(e+="    cA=true",void 0!==h.pathLen&&(e+=", pathLen="+h.pathLen),e+="\n")}else{var d;if("policyMappings"==u)e+="    "+this.getExtPolicyMappings().array.map((function(e){var t=e;return t[0]+":"+t[1]})).join(", ")+"\n";else if("policyConstraints"==u)e+="    ",null!=(d=this.getExtPolicyConstraints()).reqexp&&(e+=" reqexp="+d.reqexp),null!=d.inhibit&&(e+=" inhibit="+d.inhibit),e+="\n";else if("inhibitAnyPolicy"==u)e+="    skip="+(d=this.getExtInhibitAnyPolicy()).skip+"\n";else if("keyUsage"==u)e+="    "+this.getExtKeyUsageString()+"\n";else if("subjectKeyIdentifier"==u)e+="    "+this.getExtSubjectKeyIdentifier().kid.hex+"\n";else if("authorityKeyIdentifier"==u){var f=this.getExtAuthorityKeyIdentifier();void 0!==f.kid&&(e+="    kid="+f.kid.hex+"\n")}else"extKeyUsage"==u?e+="    "+this.getExtExtKeyUsage().array.join(", ")+"\n":"subjectAltName"==u?e+=r(this.getExtSubjectAltName())+"\n":"cRLDistributionPoints"==u?e+=o(this.getExtCRLDistributionPoints()):"authorityInfoAccess"==u?e+=s(this.getExtAuthorityInfoAccess()):"certificatePolicies"==u&&(e+=i(this.getExtCertificatePolicies()))}}}return(e+="signature algorithm: "+this.getSignatureAlgorithmName()+"\n")+"signature: "+this.getSignatureValueHex().substr(0,16)+"...\n"},"string"==typeof e&&(-1!=e.indexOf("-----BEGIN")?this.readCertPEM(e):he.lang.String.isHex(e)&&this.readCertHex(e))}it.getKey=function(e,t,n){var r,i=(v=pe).getChildIdx,o=(v.getV,v.getVbyList),s=he.crypto,a=s.ECDSA,c=s.DSA,u=oe,l=Ie,h=it;if(void 0!==u&&e instanceof u)return e;if(void 0!==a&&e instanceof a)return e;if(void 0!==c&&e instanceof c)return e;if(void 0!==e.curve&&void 0!==e.xy&&void 0===e.d)return new a({pub:e.xy,curve:e.curve});if(void 0!==e.curve&&void 0!==e.d)return new a({prv:e.d,curve:e.curve});if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0===e.d)return(T=new u).setPublic(e.n,e.e),T;if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0!==e.p&&void 0!==e.q&&void 0!==e.dp&&void 0!==e.dq&&void 0!==e.co&&void 0===e.qi)return(T=new u).setPrivateEx(e.n,e.e,e.d,e.p,e.q,e.dp,e.dq,e.co),T;if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0===e.p)return(T=new u).setPrivate(e.n,e.e,e.d),T;if(void 0!==e.p&&void 0!==e.q&&void 0!==e.g&&void 0!==e.y&&void 0===e.x)return(T=new c).setPublic(e.p,e.q,e.g,e.y),T;if(void 0!==e.p&&void 0!==e.q&&void 0!==e.g&&void 0!==e.y&&void 0!==e.x)return(T=new c).setPrivate(e.p,e.q,e.g,e.y,e.x),T;if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0===e.d)return(T=new u).setPublic(_e(e.n),_e(e.e)),T;if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0!==e.p&&void 0!==e.q&&void 0!==e.dp&&void 0!==e.dq&&void 0!==e.qi)return(T=new u).setPrivateEx(_e(e.n),_e(e.e),_e(e.d),_e(e.p),_e(e.q),_e(e.dp),_e(e.dq),_e(e.qi)),T;if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d)return(T=new u).setPrivate(_e(e.n),_e(e.e),_e(e.d)),T;if("EC"===e.kty&&void 0!==e.crv&&void 0!==e.x&&void 0!==e.y&&void 0===e.d){var d=(N=new a({curve:e.crv})).ecparams.keycharlen,f="04"+("0000000000"+_e(e.x)).slice(-d)+("0000000000"+_e(e.y)).slice(-d);return N.setPublicKeyHex(f),N}if("EC"===e.kty&&void 0!==e.crv&&void 0!==e.x&&void 0!==e.y&&void 0!==e.d){d=(N=new a({curve:e.crv})).ecparams.keycharlen,f="04"+("0000000000"+_e(e.x)).slice(-d)+("0000000000"+_e(e.y)).slice(-d);var p=("0000000000"+_e(e.d)).slice(-d);return N.setPublicKeyHex(f),N.setPrivateKeyHex(p),N}if("pkcs5prv"===n){var m,g=e,v=pe;if(9===(m=i(g,0)).length)(T=new u).readPKCS5PrvKeyHex(g);else if(6===m.length)(T=new c).readPKCS5PrvKeyHex(g);else{if(!(m.length>2&&"04"===g.substr(m[1],2)))throw new Error("unsupported PKCS#1/5 hexadecimal key");(T=new a).readPKCS5PrvKeyHex(g)}return T}if("pkcs8prv"===n)return h.getKeyFromPlainPrivatePKCS8Hex(e);if("pkcs8pub"===n)return h._getKeyFromPublicPKCS8Hex(e);if("x509pub"===n)return ct.getPublicKeyFromCertHex(e);if(-1!=e.indexOf("-END CERTIFICATE-",0)||-1!=e.indexOf("-END X509 CERTIFICATE-",0)||-1!=e.indexOf("-END TRUSTED CERTIFICATE-",0))return ct.getPublicKeyFromCertPEM(e);if(-1!=e.indexOf("-END PUBLIC KEY-")){var y=Ie(e,"PUBLIC KEY");return h._getKeyFromPublicPKCS8Hex(y)}if(-1!=e.indexOf("-END RSA PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED")){var b=l(e,"RSA PRIVATE KEY");return h.getKey(b,null,"pkcs5prv")}if(-1!=e.indexOf("-END DSA PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED")){var w=o(r=l(e,"DSA PRIVATE KEY"),0,[1],"02"),S=o(r,0,[2],"02"),x=o(r,0,[3],"02"),C=o(r,0,[4],"02"),E=o(r,0,[5],"02");return(T=new c).setPrivate(new _(w,16),new _(S,16),new _(x,16),new _(C,16),new _(E,16)),T}if(-1!=e.indexOf("-END EC PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED"))return b=l(e,"EC PRIVATE KEY"),h.getKey(b,null,"pkcs5prv");if(-1!=e.indexOf("-END PRIVATE KEY-"))return h.getKeyFromPlainPrivatePKCS8PEM(e);if(-1!=e.indexOf("-END RSA PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED")){var k=h.getDecryptedKeyHex(e,t),A=new oe;return A.readPKCS5PrvKeyHex(k),A}if(-1!=e.indexOf("-END EC PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED")){var N,T=o(r=h.getDecryptedKeyHex(e,t),0,[1],"04"),P=o(r,0,[2,0],"06"),O=o(r,0,[3,0],"03").substr(2);if(void 0===he.crypto.OID.oidhex2name[P])throw new Error("undefined OID(hex) in KJUR.crypto.OID: "+P);return(N=new a({curve:he.crypto.OID.oidhex2name[P]})).setPublicKeyHex(O),N.setPrivateKeyHex(T),N.isPublic=!1,N}if(-1!=e.indexOf("-END DSA PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED"))return w=o(r=h.getDecryptedKeyHex(e,t),0,[1],"02"),S=o(r,0,[2],"02"),x=o(r,0,[3],"02"),C=o(r,0,[4],"02"),E=o(r,0,[5],"02"),(T=new c).setPrivate(new _(w,16),new _(S,16),new _(x,16),new _(C,16),new _(E,16)),T;if(-1!=e.indexOf("-END ENCRYPTED PRIVATE KEY-"))return h.getKeyFromEncryptedPKCS8PEM(e,t);throw new Error("not supported argument")},it.generateKeypair=function(e,t){if("RSA"==e){var n=t;(s=new oe).generate(n,"10001"),s.isPrivate=!0,s.isPublic=!0;var r=new oe,i=s.n.toString(16),o=s.e.toString(16);return r.setPublic(i,o),r.isPrivate=!1,r.isPublic=!0,(a={}).prvKeyObj=s,a.pubKeyObj=r,a}if("EC"==e){var s,a,c=t,u=new he.crypto.ECDSA({curve:c}).generateKeyPairHex();return(s=new he.crypto.ECDSA({curve:c})).setPublicKeyHex(u.ecpubhex),s.setPrivateKeyHex(u.ecprvhex),s.isPrivate=!0,s.isPublic=!1,(r=new he.crypto.ECDSA({curve:c})).setPublicKeyHex(u.ecpubhex),r.isPrivate=!1,r.isPublic=!0,(a={}).prvKeyObj=s,a.pubKeyObj=r,a}throw new Error("unknown algorithm: "+e)},it.getPEM=function(e,t,n,r,i,o){var s=he,a=s.asn1,c=a.DERObjectIdentifier,u=a.DERInteger,l=a.ASN1Util.newObject,h=a.x509.SubjectPublicKeyInfo,d=s.crypto,f=d.DSA,p=d.ECDSA,g=oe;function v(e){return l({seq:[{int:0},{int:{bigint:e.n}},{int:e.e},{int:{bigint:e.d}},{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.dmp1}},{int:{bigint:e.dmq1}},{int:{bigint:e.coeff}}]})}function y(e){return l({seq:[{int:1},{octstr:{hex:e.prvKeyHex}},{tag:["a0",!0,{oid:{name:e.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+e.pubKeyHex}}]}]})}function b(e){return l({seq:[{int:0},{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}},{int:{bigint:e.y}},{int:{bigint:e.x}}]})}if((void 0!==g&&e instanceof g||void 0!==f&&e instanceof f||void 0!==p&&e instanceof p)&&1==e.isPublic&&(void 0===t||"PKCS8PUB"==t))return Oe(x=new h(e).tohex(),"PUBLIC KEY");if("PKCS1PRV"==t&&void 0!==g&&e instanceof g&&(void 0===n||null==n)&&1==e.isPrivate)return Oe(x=v(e).tohex(),"RSA PRIVATE KEY");if("PKCS1PRV"==t&&void 0!==p&&e instanceof p&&(void 0===n||null==n)&&1==e.isPrivate){var w=new c({name:e.curveName}).tohex(),S=y(e).tohex(),_="";return(_+=Oe(w,"EC PARAMETERS"))+Oe(S,"EC PRIVATE KEY")}if("PKCS1PRV"==t&&void 0!==f&&e instanceof f&&(void 0===n||null==n)&&1==e.isPrivate)return Oe(x=b(e).tohex(),"DSA PRIVATE KEY");if("PKCS5PRV"==t&&void 0!==g&&e instanceof g&&void 0!==n&&null!=n&&1==e.isPrivate){var x=v(e).tohex();return void 0===r&&(r="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",x,n,r,o)}if("PKCS5PRV"==t&&void 0!==p&&e instanceof p&&void 0!==n&&null!=n&&1==e.isPrivate)return x=y(e).tohex(),void 0===r&&(r="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",x,n,r,o);if("PKCS5PRV"==t&&void 0!==f&&e instanceof f&&void 0!==n&&null!=n&&1==e.isPrivate)return x=b(e).tohex(),void 0===r&&(r="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",x,n,r,o);var C=function(e,t){var n=E(e,t);return new l({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:n.pbkdf2Salt}},{int:n.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:n.encryptionSchemeIV}}]}]}]},{octstr:{hex:n.ciphertext}}]}).tohex()},E=function(e,t){var n=m.lib.WordArray.random(8),r=m.lib.WordArray.random(8),i=m.PBKDF2(t,n,{keySize:6,iterations:100}),o=m.enc.Hex.parse(e),s=m.TripleDES.encrypt(o,i,{iv:r})+"",a={};return a.ciphertext=s,a.pbkdf2Salt=m.enc.Hex.stringify(n),a.pbkdf2Iter=100,a.encryptionSchemeAlg="DES-EDE3-CBC",a.encryptionSchemeIV=m.enc.Hex.stringify(r),a};if("PKCS8PRV"==t&&null!=g&&e instanceof g&&1==e.isPrivate){var k=v(e).tohex();return x=l({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:k}}]}).tohex(),void 0===n||null==n?Oe(x,"PRIVATE KEY"):Oe(S=C(x,n),"ENCRYPTED PRIVATE KEY")}if("PKCS8PRV"==t&&void 0!==p&&e instanceof p&&1==e.isPrivate){var A={seq:[{int:1},{octstr:{hex:e.prvKeyHex}}]};return"string"==typeof e.pubKeyHex&&A.seq.push({tag:["a1",!0,{bitstr:{hex:"00"+e.pubKeyHex}}]}),k=new l(A).tohex(),x=l({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:e.curveName}}]},{octstr:{hex:k}}]}).tohex(),void 0===n||null==n?Oe(x,"PRIVATE KEY"):Oe(S=C(x,n),"ENCRYPTED PRIVATE KEY")}if("PKCS8PRV"==t&&void 0!==f&&e instanceof f&&1==e.isPrivate)return k=new u({bigint:e.x}).tohex(),x=l({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}}]}]},{octstr:{hex:k}}]}).tohex(),void 0===n||null==n?Oe(x,"PRIVATE KEY"):Oe(S=C(x,n),"ENCRYPTED PRIVATE KEY");throw new Error("unsupported object nor format")},it.getKeyFromCSRPEM=function(e){var t=Ie(e,"CERTIFICATE REQUEST");return it.getKeyFromCSRHex(t)},it.getKeyFromCSRHex=function(e){var t=it.parseCSRHex(e);return it.getKey(t.p8pubkeyhex,null,"pkcs8pub")},it.parseCSRHex=function(e){var t=pe,n=t.getChildIdx,r=t.getTLV,i={},o=e;if("30"!=o.substr(0,2))throw new Error("malformed CSR(code:001)");var s=n(o,0);if(s.length<1)throw new Error("malformed CSR(code:002)");if("30"!=o.substr(s[0],2))throw new Error("malformed CSR(code:003)");var a=n(o,s[0]);if(a.length<3)throw new Error("malformed CSR(code:004)");return i.p8pubkeyhex=r(o,a[2]),i},it.getKeyID=function(e){var t=it,n=pe;"string"==typeof e&&-1!=e.indexOf("BEGIN ")&&(e=t.getKey(e));var r=Ie(t.getPEM(e)),i=n.getIdxbyList(r,0,[1]),o=n.getV(r,i).substring(2);return he.crypto.Util.hashHex(o,"sha1")},it.getJWK=function(e,t,n,r,i){var o,s,a={},c=he.crypto.Util.hashHex;if("string"==typeof e)o=it.getKey(e),-1!=e.indexOf("CERTIFICATE")&&(s=Ie(e));else{if("object"!=typeof e)throw new Error("unsupported keyinfo type");e instanceof ct?(o=e.getPublicKey(),s=e.hex):o=e}if(o instanceof oe&&o.isPrivate)a.kty="RSA",a.n=Se(o.n.toString(16)),a.e=Se(o.e.toString(16)),a.d=Se(o.d.toString(16)),a.p=Se(o.p.toString(16)),a.q=Se(o.q.toString(16)),a.dp=Se(o.dmp1.toString(16)),a.dq=Se(o.dmq1.toString(16)),a.qi=Se(o.coeff.toString(16));else if(o instanceof oe&&o.isPublic)a.kty="RSA",a.n=Se(o.n.toString(16)),a.e=Se(o.e.toString(16));else if(o instanceof he.crypto.ECDSA&&o.isPrivate){if("P-256"!==(l=o.getShortNISTPCurveName())&&"P-384"!==l&&"P-521"!==l)throw new Error("unsupported curve name for JWT: "+l);var u=o.getPublicKeyXYHex();a.kty="EC",a.crv=l,a.x=Se(u.x),a.y=Se(u.y),a.d=Se(o.prvKeyHex)}else if(o instanceof he.crypto.ECDSA&&o.isPublic){var l;if("P-256"!==(l=o.getShortNISTPCurveName())&&"P-384"!==l&&"P-521"!==l)throw new Error("unsupported curve name for JWT: "+l);u=o.getPublicKeyXYHex(),a.kty="EC",a.crv=l,a.x=Se(u.x),a.y=Se(u.y)}if(null==a.kty)throw new Error("unsupported keyinfo");return o.isPrivate||1==t||(a.kid=he.jws.JWS.getJWKthumbprint(a)),null!=s&&1!=n&&(a.x5c=[b(s)]),null!=s&&1!=r&&(a.x5t=be(b(c(s,"sha1")))),null!=s&&1!=i&&(a["x5t#S256"]=be(b(c(s,"sha256")))),a},it.getJWKFromKey=function(e){return it.getJWK(e,!0,!0,!0,!0)},oe.getPosArrayOfChildrenFromHex=function(e){return pe.getChildIdx(e,0)},oe.getHexValueArrayOfChildrenFromHex=function(e){var t,n=pe.getV,r=n(e,(t=oe.getPosArrayOfChildrenFromHex(e))[0]),i=n(e,t[1]),o=n(e,t[2]),s=n(e,t[3]),a=n(e,t[4]),c=n(e,t[5]),u=n(e,t[6]),l=n(e,t[7]),h=n(e,t[8]);return(t=new Array).push(r,i,o,s,a,c,u,l,h),t},oe.prototype.readPrivateKeyFromPEMString=function(e){var t=Ie(e),n=oe.getHexValueArrayOfChildrenFromHex(t);this.setPrivateEx(n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8])},oe.prototype.readPKCS5PrvKeyHex=function(e){var t=oe.getHexValueArrayOfChildrenFromHex(e);this.setPrivateEx(t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])},oe.prototype.readPKCS8PrvKeyHex=function(e){var t,n,r,i,o,s,a,c,u=pe,l=u.getVbyListEx;if(!1===u.isASN1HEX(e))throw new Error("not ASN.1 hex string");try{t=l(e,0,[2,0,1],"02"),n=l(e,0,[2,0,2],"02"),r=l(e,0,[2,0,3],"02"),i=l(e,0,[2,0,4],"02"),o=l(e,0,[2,0,5],"02"),s=l(e,0,[2,0,6],"02"),a=l(e,0,[2,0,7],"02"),c=l(e,0,[2,0,8],"02")}catch(e){throw new Error("malformed PKCS#8 plain RSA private key")}this.setPrivateEx(t,n,r,i,o,s,a,c)},oe.prototype.readPKCS5PubKeyHex=function(e){var t=pe,n=t.getV;if(!1===t.isASN1HEX(e))throw new Error("keyHex is not ASN.1 hex string");var r=t.getChildIdx(e,0);if(2!==r.length||"02"!==e.substr(r[0],2)||"02"!==e.substr(r[1],2))throw new Error("wrong hex for PKCS#5 public key");var i=n(e,r[0]),o=n(e,r[1]);this.setPublic(i,o)},oe.prototype.readPKCS8PubKeyHex=function(e){var t=pe;if(!1===t.isASN1HEX(e))throw new Error("not ASN.1 hex string");if("06092a864886f70d010101"!==t.getTLVbyListEx(e,0,[0,0]))throw new Error("not PKCS8 RSA public key");var n=t.getTLVbyListEx(e,0,[1,0]);this.readPKCS5PubKeyHex(n)},oe.prototype.readCertPubKeyHex=function(e,t){var n,r;(n=new ct).readCertHex(e),r=n.getPublicKeyHex(),this.readPKCS8PubKeyHex(r)},oe.prototype.sign=function(e,t){var n=function(e){return he.crypto.Util.hashString(e,t)}(e);return this.signWithMessageHash(n,t)},oe.prototype.signWithMessageHash=function(e,t){var n=re(he.crypto.Util.getPaddedDigestInfoHex(e,t,this.n.bitLength()),16);return ot(this.doPrivate(n).toString(16),this.n.bitLength())},oe.prototype.signPSS=function(e,t,n){var r,i=(r=Ae(e),he.crypto.Util.hashHex(r,t));return void 0===n&&(n=-1),this.signWithMessageHashPSS(i,t,n)},oe.prototype.signWithMessageHashPSS=function(e,t,n){var r,i=ke(e),o=i.length,s=this.n.bitLength()-1,a=Math.ceil(s/8),c=function(e){return he.crypto.Util.hashHex(e,t)};if(-1===n||void 0===n)n=o;else if(-2===n)n=a-o-2;else if(n<-2)throw new Error("invalid salt length");if(a<o+n+2)throw new Error("data too long");var u="";n>0&&(u=new Array(n),(new ne).nextBytes(u),u=String.fromCharCode.apply(String,u));var l=ke(c(Ae("\0\0\0\0\0\0\0\0"+i+u))),h=[];for(r=0;r<a-n-o-2;r+=1)h[r]=0;var d=String.fromCharCode.apply(String,h)+""+u,f=st(l,d.length,c),p=[];for(r=0;r<d.length;r+=1)p[r]=d.charCodeAt(r)^f.charCodeAt(r);var m=65280>>8*a-s&255;for(p[0]&=~m,r=0;r<o;r++)p.push(l.charCodeAt(r));return p.push(188),ot(this.doPrivate(new _(p)).toString(16),this.n.bitLength())},oe.prototype.verify=function(e,t){if(null==(t=t.toLowerCase()).match(/^[0-9a-f]+$/))return!1;var n=re(t,16),r=this.n.bitLength();if(n.bitLength()>r)return!1;var i=this.doPublic(n).toString(16);if(i.length+3!=r/4)return!1;var o=at(i.replace(/^1f+00/,""));if(0==o.length)return!1;var s=o[0],a=o[1],c=function(e){return he.crypto.Util.hashString(e,s)}(e);return a==c},oe.prototype.verifyWithMessageHash=function(e,t){if(t.length!=Math.ceil(this.n.bitLength()/4))return!1;var n=re(t,16);if(n.bitLength()>this.n.bitLength())return 0;var r=at(this.doPublic(n).toString(16).replace(/^1f+00/,""));return 0!=r.length&&(r[0],r[1]==e)},oe.prototype.verifyPSS=function(e,t,n,r){var i,o=(i=Ae(e),he.crypto.Util.hashHex(i,n));return void 0===r&&(r=-1),this.verifyWithMessageHashPSS(o,t,n,r)},oe.prototype.verifyWithMessageHashPSS=function(e,t,n,r){if(t.length!=Math.ceil(this.n.bitLength()/4))return!1;var i,o=new _(t,16),s=function(e){return he.crypto.Util.hashHex(e,n)},a=ke(e),c=a.length,u=this.n.bitLength()-1,l=Math.ceil(u/8);if(-1===r||void 0===r)r=c;else if(-2===r)r=l-c-2;else if(r<-2)throw new Error("invalid salt length");if(l<c+r+2)throw new Error("data too long");var h=this.doPublic(o).toByteArray();for(i=0;i<h.length;i+=1)h[i]&=255;for(;h.length<l;)h.unshift(0);if(188!==h[l-1])throw new Error("encoded message does not end in 0xbc");var d=(h=String.fromCharCode.apply(String,h)).substr(0,l-c-1),f=h.substr(d.length,c),p=65280>>8*l-u&255;if(0!=(d.charCodeAt(0)&p))throw new Error("bits beyond keysize not zero");var m=st(f,d.length,s),g=[];for(i=0;i<d.length;i+=1)g[i]=d.charCodeAt(i)^m.charCodeAt(i);g[0]&=~p;var v=l-c-r-2;for(i=0;i<v;i+=1)if(0!==g[i])throw new Error("leftmost octets not zero");if(1!==g[v])throw new Error("0x01 marker not found");return f===ke(s(Ae("\0\0\0\0\0\0\0\0"+a+String.fromCharCode.apply(String,g.slice(-r)))))},oe.SALT_LEN_HLEN=-1,oe.SALT_LEN_MAX=-2,oe.SALT_LEN_RECOVER=-2,ct.EXT_PARSER={},ct.registExtParser=function(e,t){ct.EXT_PARSER[e]=t},ct.hex2dn=function(e,t){void 0===t&&(t=0);var n=new ct;return pe.getTLV(e,t),n.getX500Name(e).str},ct.hex2rdn=function(e,t){if(void 0===t&&(t=0),"31"!==e.substr(t,2))throw new Error("malformed RDN");for(var n=new Array,r=pe.getChildIdx(e,t),i=0;i<r.length;i++)n.push(ct.hex2attrTypeValue(e,r[i]));return n=n.map((function(e){return e.replace("+","\\+")})),n.join("+")},ct.hex2attrTypeValue=function(e,t){var n=pe,r=n.getV;if(void 0===t&&(t=0),"30"!==e.substr(t,2))throw new Error("malformed attribute type and value");var i=n.getChildIdx(e,t);2!==i.length||e.substr(i[0],2);var o=r(e,i[0]),s=he.asn1.ASN1Util.oidHexToInt(o);return he.asn1.x509.OID.oid2atype(s)+"="+ke(r(e,i[1]))},ct.getPublicKeyFromCertHex=function(e){var t=new ct;return t.readCertHex(e),t.getPublicKey()},ct.getPublicKeyFromCertPEM=function(e){var t=new ct;return t.readCertPEM(e),t.getPublicKey()},ct.getPublicKeyInfoPropOfCertPEM=function(e){var t,n,r=pe.getVbyList,i={algparam:null};return(t=new ct).readCertPEM(e),n=t.getPublicKeyHex(),i.keyhex=r(n,0,[1],"03").substr(2),i.algoid=r(n,0,[0,0],"06"),"2a8648ce3d0201"===i.algoid&&(i.algparam=r(n,0,[0,1],"06")),i},ct.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"],void 0!==he&&he||(he={}),void 0!==he.jws&&he.jws||(he.jws={}),he.jws.JWS=function(){var e=he.jws.JWS.isSafeJSONString;this.parseJWS=function(t,n){if(void 0===this.parsedJWS||!n&&void 0===this.parsedJWS.sigvalH){var r=t.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(null==r)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var i=r[1],o=r[2],s=r[3],a=i+"."+o;if(this.parsedJWS={},this.parsedJWS.headB64U=i,this.parsedJWS.payloadB64U=o,this.parsedJWS.sigvalB64U=s,this.parsedJWS.si=a,!n){var c=_e(s),u=re(c,16);this.parsedJWS.sigvalH=c,this.parsedJWS.sigvalBI=u}var l=fe(i),h=fe(o);if(this.parsedJWS.headS=l,this.parsedJWS.payloadS=h,!e(l,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+l}}},he.jws.JWS.sign=function(e,t,n,r,i){var o,s,a,c=he,u=c.jws.JWS,l=u.readSafeJSONString,h=u.isSafeJSONString,d=c.crypto,f=(d.ECDSA,d.Mac),p=d.Signature,m=JSON;if("string"!=typeof t&&"object"!=typeof t)throw"spHeader must be JSON string or object: "+t;if("object"==typeof t&&(s=t,o=m.stringify(s)),"string"==typeof t){if(!h(o=t))throw"JWS Head is not safe JSON string: "+o;s=l(o)}if(a=n,"object"==typeof n&&(a=m.stringify(n)),""!=e&&null!=e||void 0===s.alg||(e=s.alg),""!=e&&null!=e&&void 0===s.alg&&(s.alg=e,o=m.stringify(s)),e!==s.alg)throw"alg and sHeader.alg doesn't match: "+e+"!="+s.alg;var g=null;if(void 0===u.jwsalg2sigalg[e])throw"unsupported alg name: "+e;g=u.jwsalg2sigalg[e];var v=de(o)+"."+de(a),y="";if("Hmac"==g.substr(0,4)){if(void 0===r)throw"mac key shall be specified for HS* alg";var b=new f({alg:g,prov:"cryptojs",pass:r});b.updateString(v),y=b.doFinal()}else if(-1!=g.indexOf("withECDSA")){(S=new p({alg:g})).init(r,i),S.updateString(v);var w=S.sign();y=he.crypto.ECDSA.asn1SigToConcatSig(w)}else{var S;"none"!=g&&((S=new p({alg:g})).init(r,i),S.updateString(v),y=S.sign())}return v+"."+Se(y)},he.jws.JWS.verify=function(e,t,n){var r,i=he,o=i.jws.JWS,s=o.readSafeJSONString,a=i.crypto,c=a.ECDSA,u=a.Mac,l=a.Signature;if(r=oe,!We(e))return!1;var h=e.split(".");if(3!==h.length)return!1;var d,f=h[0]+"."+h[1],p=_e(h[2]),m=s(fe(h[0])),g=null;if(void 0===m.alg)throw"algorithm not specified in header";if(d=(g=m.alg).substr(0,2),null!=n&&"[object Array]"===Object.prototype.toString.call(n)&&n.length>0&&-1==(":"+n.join(":")+":").indexOf(":"+g+":"))throw"algorithm '"+g+"' not accepted in the list";if("none"!=g&&null===t)throw"key shall be specified to verify.";if("string"==typeof t&&-1!=t.indexOf("-----BEGIN ")&&(t=it.getKey(t)),!("RS"!=d&&"PS"!=d||t instanceof r))throw"key shall be a RSAKey obj for RS* and PS* algs";if("ES"==d&&!(t instanceof c))throw"key shall be a ECDSA obj for ES* algs";var v=null;if(void 0===o.jwsalg2sigalg[m.alg])throw"unsupported alg name: "+g;if("none"==(v=o.jwsalg2sigalg[g]))throw"not supported";if("Hmac"==v.substr(0,4)){if(void 0===t)throw"hexadecimal key shall be specified for HMAC";var y=new u({alg:v,pass:t});return y.updateString(f),p==y.doFinal()}if(-1!=v.indexOf("withECDSA")){var b,w=null;try{w=c.concatSigToASN1Sig(p)}catch(e){return!1}return(b=new l({alg:v})).init(t),b.updateString(f),b.verify(w)}return(b=new l({alg:v})).init(t),b.updateString(f),b.verify(p)},he.jws.JWS.parse=function(e){var t,n,r,i=e.split("."),o={};if(2!=i.length&&3!=i.length)throw"malformed sJWS: wrong number of '.' splitted elements";return t=i[0],n=i[1],3==i.length&&(r=i[2]),o.headerObj=he.jws.JWS.readSafeJSONString(fe(t)),o.payloadObj=he.jws.JWS.readSafeJSONString(fe(n)),o.headerPP=JSON.stringify(o.headerObj,null,"  "),null==o.payloadObj?o.payloadPP=fe(n):o.payloadPP=JSON.stringify(o.payloadObj,null,"  "),void 0!==r&&(o.sigHex=_e(r)),o},he.jws.JWS.verifyJWT=function(e,t,n){var r=he.jws,i=r.JWS,o=i.readSafeJSONString,s=i.inArray,a=i.includedArray;if(!We(e))return!1;var c=e.split(".");if(3!=c.length)return!1;var u=c[0],l=c[1],h=(_e(c[2]),o(fe(u))),d=o(fe(l));if(void 0===h.alg)return!1;if(void 0===n.alg)throw"acceptField.alg shall be specified";if(!s(h.alg,n.alg))return!1;if(void 0!==d.iss&&"object"==typeof n.iss&&!s(d.iss,n.iss))return!1;if(void 0!==d.sub&&"object"==typeof n.sub&&!s(d.sub,n.sub))return!1;if(void 0!==d.aud&&"object"==typeof n.aud)if("string"==typeof d.aud){if(!s(d.aud,n.aud))return!1}else if("object"==typeof d.aud&&!a(d.aud,n.aud))return!1;var f=r.IntDate.getNow();return void 0!==n.verifyAt&&"number"==typeof n.verifyAt&&(f=n.verifyAt),void 0!==n.gracePeriod&&"number"==typeof n.gracePeriod||(n.gracePeriod=0),!(void 0!==d.exp&&"number"==typeof d.exp&&d.exp+n.gracePeriod<f||void 0!==d.nbf&&"number"==typeof d.nbf&&f<d.nbf-n.gracePeriod||void 0!==d.iat&&"number"==typeof d.iat&&f<d.iat-n.gracePeriod||void 0!==d.jti&&void 0!==n.jti&&d.jti!==n.jti||!i.verify(e,t,n.alg))},he.jws.JWS.includedArray=function(e,t){var n=he.jws.JWS.inArray;if(null===e)return!1;if("object"!=typeof e)return!1;if("number"!=typeof e.length)return!1;for(var r=0;r<e.length;r++)if(!n(e[r],t))return!1;return!0},he.jws.JWS.inArray=function(e,t){if(null===t)return!1;if("object"!=typeof t)return!1;if("number"!=typeof t.length)return!1;for(var n=0;n<t.length;n++)if(t[n]==e)return!0;return!1},he.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",ES512:"SHA512withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},he.jws.JWS.isSafeJSONString=function(e,t,n){var r=null;try{return"object"!=typeof(r=le(e))||r.constructor===Array?0:(t&&(t[n]=r),1)}catch(e){return 0}},he.jws.JWS.readSafeJSONString=function(e){var t=null;try{return"object"!=typeof(t=le(e))||t.constructor===Array?null:t}catch(e){return null}},he.jws.JWS.getEncodedSignatureValueFromJWS=function(e){var t=e.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(null==t)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return t[1]},he.jws.JWS.getJWKthumbprint=function(e){if("RSA"!==e.kty&&"EC"!==e.kty&&"oct"!==e.kty)throw"unsupported algorithm for JWK Thumprint";var t="{";if("RSA"===e.kty){if("string"!=typeof e.n||"string"!=typeof e.e)throw"wrong n and e value for RSA key";t+='"e":"'+e.e+'",',t+='"kty":"'+e.kty+'",',t+='"n":"'+e.n+'"}'}else if("EC"===e.kty){if("string"!=typeof e.crv||"string"!=typeof e.x||"string"!=typeof e.y)throw"wrong crv, x and y value for EC key";t+='"crv":"'+e.crv+'",',t+='"kty":"'+e.kty+'",',t+='"x":"'+e.x+'",',t+='"y":"'+e.y+'"}'}else if("oct"===e.kty){if("string"!=typeof e.k)throw"wrong k value for oct(symmetric) key";t+='"kty":"'+e.kty+'",',t+='"k":"'+e.k+'"}'}var n=Ae(t);return Se(he.crypto.Util.hashHex(n,"sha256"))},he.jws.IntDate={},he.jws.IntDate.get=function(e){var t=he.jws.IntDate,n=t.getNow,r=t.getZulu;if("now"==e)return n();if("now + 1hour"==e)return n()+3600;if("now + 1day"==e)return n()+86400;if("now + 1month"==e)return n()+2592e3;if("now + 1year"==e)return n()+31536e3;if(e.match(/Z$/))return r(e);if(e.match(/^[0-9]+$/))return parseInt(e);throw"unsupported format: "+e},he.jws.IntDate.getZulu=function(e){return Le(e)},he.jws.IntDate.getNow=function(){return~~(new Date/1e3)},he.jws.IntDate.intDate2UTCString=function(e){return new Date(1e3*e).toUTCString()},he.jws.IntDate.intDate2Zulu=function(e){var t=new Date(1e3*e);return("0000"+t.getUTCFullYear()).slice(-4)+("00"+(t.getUTCMonth()+1)).slice(-2)+("00"+t.getUTCDate()).slice(-2)+("00"+t.getUTCHours()).slice(-2)+("00"+t.getUTCMinutes()).slice(-2)+("00"+t.getUTCSeconds()).slice(-2)+"Z"},void 0!==he&&he||(he={}),void 0!==he.jws&&he.jws||(he.jws={}),he.jws.JWSJS=function(){var e=he.jws.JWS,t=e.readSafeJSONString;this.aHeader=[],this.sPayload="",this.aSignature=[],this.init=function(){this.aHeader=[],this.sPayload=void 0,this.aSignature=[]},this.initWithJWS=function(e){this.init();var t=e.split(".");if(3!=t.length)throw"malformed input JWS";this.aHeader.push(t[0]),this.sPayload=t[1],this.aSignature.push(t[2])},this.addSignature=function(e,t,n,r){if(void 0===this.sPayload||null===this.sPayload)throw"there's no JSON-JS signature to add.";var i=this.aHeader.length;if(this.aHeader.length!=this.aSignature.length)throw"aHeader.length != aSignature.length";try{var o=he.jws.JWS.sign(e,t,this.sPayload,n,r).split(".");o[0],o[2],this.aHeader.push(o[0]),this.aSignature.push(o[2])}catch(e){throw this.aHeader.length>i&&this.aHeader.pop(),this.aSignature.length>i&&this.aSignature.pop(),"addSignature failed: "+e}},this.verifyAll=function(e){if(this.aHeader.length!==e.length||this.aSignature.length!==e.length)return!1;for(var t=0;t<e.length;t++){var n=e[t];if(2!==n.length)return!1;if(!1===this.verifyNth(t,n[0],n[1]))return!1}return!0},this.verifyNth=function(t,n,r){if(this.aHeader.length<=t||this.aSignature.length<=t)return!1;var i=this.aHeader[t],o=this.aSignature[t],s=i+"."+this.sPayload+"."+o,a=!1;try{a=e.verify(s,n,r)}catch(e){return!1}return a},this.readJWSJS=function(e){if("string"==typeof e){var n=t(e);if(null==n)throw"argument is not safe JSON object string";this.aHeader=n.headers,this.sPayload=n.payload,this.aSignature=n.signatures}else try{if(!(e.headers.length>0))throw"malformed header";if(this.aHeader=e.headers,"string"!=typeof e.payload)throw"malformed signatures";if(this.sPayload=e.payload,!(e.signatures.length>0))throw"malformed signatures";this.aSignature=e.signatures}catch(e){throw"malformed JWS-JS JSON object: "+e}},this.getJSON=function(){return{headers:this.aHeader,payload:this.sPayload,signatures:this.aSignature}},this.isEmpty=function(){return 0==this.aHeader.length?1:0}},t.SecureRandom=ne,t.rng_seed_time=Y,t.BigInteger=_,t.RSAKey=oe,t.ECDSA=he.crypto.ECDSA,t.DSA=he.crypto.DSA,t.Signature=he.crypto.Signature,t.MessageDigest=he.crypto.MessageDigest,t.Mac=he.crypto.Mac,t.Cipher=he.crypto.Cipher,t.KEYUTIL=it,t.ASN1HEX=pe,t.X509=ct,t.X509CRL=function(e){var t=he.lang.String.isHex,n=pe,r=n.getV,i=n.getTLV,o=n.getVbyList,s=n.getTLVbyList,a=n.getTLVbyListEx,c=n.getIdxbyList,u=n.getIdxbyListEx,l=n.getChildIdx,h=new ct;this.hex=null,this.posSigAlg=null,this.posRevCert=null,this.parsed=null,this._setPos=function(){var e=c(this.hex,0,[0,0]),t=this.hex.substr(e,2);if("02"==t)this.posSigAlg=1;else{if("30"!=t)throw new Error("malformed 1st item of TBSCertList: "+t);this.posSigAlg=0}var n,r=c(this.hex,0,[0,this.posSigAlg+3]),i=this.hex.substr(r,2);if("17"==i||"18"==i)n=c(this.hex,0,[0,this.posSigAlg+4]),this.posRevCert=null,-1!=n&&"30"==this.hex.substr(n,2)&&(this.posRevCert=this.posSigAlg+4);else if("30"==i)this.posRevCert=this.posSigAlg+3;else{if("a0"!=i)throw new Error("malformed nextUpdate or revCert tag: "+i);this.posRevCert=null}},this.getVersion=function(){return 0==this.posSigAlg?null:parseInt(o(this.hex,0,[0,0],"02"),16)+1},this.getSignatureAlgorithmField=function(){var e=s(this.hex,0,[0,this.posSigAlg],"30");return h.getAlgorithmIdentifierName(e)},this.getIssuer=function(){return h.getX500Name(this.getIssuerHex())},this.getIssuerHex=function(){return s(this.hex,0,[0,this.posSigAlg+1],"30")},this.getThisUpdate=function(){var e=o(this.hex,0,[0,this.posSigAlg+2]);return result=ke(e)},this.getNextUpdate=function(){var e=c(this.hex,0,[0,this.posSigAlg+3]),t=this.hex.substr(e,2);return"17"!=t&&"18"!=t?null:ke(r(this.hex,e))},this.getRevCertArray=function(){if(null==this.posRevCert)return null;for(var e=[],t=c(this.hex,0,[0,this.posRevCert]),n=l(this.hex,t),r=0;r<n.length;r++){var o=i(this.hex,n[r]);e.push(this.getRevCert(o))}return e},this.getRevCert=function(e){var t={},n=l(e,0);return t.sn={hex:o(e,0,[0],"02")},t.date=ke(o(e,0,[1])),3==n.length&&(t.ext=h.getExtParamArray(s(e,0,[2]))),t},this.findRevCert=function(e){var t=new ct(e).getSerialNumberHex();return this.findRevCertBySN(t)},this.findRevCertBySN=function(e){if(null==this.parsed&&this.getParam(),null==this.parsed.revcert)return null;for(var t=this.parsed.revcert,n=0;n<t.length;n++)if(e==t[n].sn.hex)return t[n];return null},this.getSignatureValueHex=function(){return o(this.hex,0,[2],"03",!0)},this.verifySignature=function(e){var t=this.getSignatureAlgorithmField(),n=this.getSignatureValueHex(),r=s(this.hex,0,[0],"30"),i=new he.crypto.Signature({alg:t});return i.init(e),i.updateHex(r),i.verify(n)},this.getParam=function(e){var t={},n=this.getVersion();null!=n&&(t.version=n),t.sigalg=this.getSignatureAlgorithmField(),t.issuer=this.getIssuer(),t.thisupdate=this.getThisUpdate();var r=this.getNextUpdate();null!=r&&(t.nextupdate=r);var i=this.getRevCertArray();if(null!=i&&(t.revcert=i),-1!=u(this.hex,0,[0,"[0]"])){var o=a(this.hex,0,[0,"[0]",0]);t.ext=h.getExtParamArray(o)}return t.sighex=this.getSignatureValueHex(),this.parsed=t,"object"==typeof e&&(1==e.tbshex&&(t.tbshex=s(this.hex,0,[0])),1==e.nodnarray&&delete t.issuer.array),t},"string"==typeof e&&(t(e)?this.hex=e:e.match(/-----BEGIN X509 CRL/)&&(this.hex=Ie(e)),this._setPos())},t.CryptoJS=m,t.b64tohex=w,t.b64toBA=S,t.ECFieldElementFp=ae,t.ECPointFp=ce,t.ECCurveFp=ue,t.stoBA=me,t.BAtos=ge,t.BAtohex=ve,t.stohex=ye,t.stob64=function(e){return b(ye(e))},t.stob64u=function(e){return be(b(ye(e)))},t.b64utos=function(e){return ge(S(we(e)))},t.b64tob64u=be,t.b64utob64=we,t.hex2b64=b,t.hextob64u=Se,t.b64utohex=_e,t.utf8tob64u=de,t.b64utoutf8=fe,t.utf8tob64=function(e){return b(De(Ge(e)))},t.b64toutf8=function(e){return decodeURIComponent(je(w(e)))},t.utf8tohex=xe,t.hextoutf8=Ce,t.hextorstr=ke,t.rstrtohex=Ae,t.hextob64=Ne,t.hextob64nl=function(e){return Te(Ne(e),64)},t.b64nltohex=Pe,t.hextopem=Oe,t.pemtohex=Ie,t.hextoArrayBuffer=function(e){if(e.length%2!=0)throw"input is not even length";if(null==e.match(/^[0-9A-Fa-f]+$/))throw"input is not hexadecimal";for(var t=new ArrayBuffer(e.length/2),n=new DataView(t),r=0;r<e.length/2;r++)n.setUint8(r,parseInt(e.substr(2*r,2),16));return t},t.ArrayBuffertohex=function(e){for(var t="",n=new DataView(e),r=0;r<e.byteLength;r++)t+=("00"+n.getUint8(r).toString(16)).slice(-2);return t},t.zulutomsec=Re,t.msectozulu=function(e){var t=new Date(e),n=("0000"+t.getUTCFullYear()).slice(-4),r=("00"+(t.getUTCMonth()+1)).slice(-2),i=("00"+t.getUTCDate()).slice(-2),o=("00"+t.getUTCHours()).slice(-2),s=("00"+t.getUTCMinutes()).slice(-2),a=("00"+t.getUTCSeconds()).slice(-2),c=("000"+t.getUTCMilliseconds()).slice(-3);return n+r+i+o+s+a+(c=""!=(c=c.replace(/0+$/,""))?"."+c:c)+"Z"},t.zulutosec=Le,t.zulutodate=function(e){return new Date(Re(e))},t.datetozulu=function(e,t,n){var r,i=e.getUTCFullYear();if(t){if(i<1950||2049<i)throw"not proper year for UTCTime: "+i;r=(""+i).slice(-2)}else r=("000"+i).slice(-4);if(r+=("0"+(e.getUTCMonth()+1)).slice(-2),r+=("0"+e.getUTCDate()).slice(-2),r+=("0"+e.getUTCHours()).slice(-2),r+=("0"+e.getUTCMinutes()).slice(-2),r+=("0"+e.getUTCSeconds()).slice(-2),n){var o=e.getUTCMilliseconds();0!==o&&(r+="."+(o=(o=("00"+o).slice(-3)).replace(/0+$/g,"")))}return r+"Z"},t.uricmptohex=De,t.hextouricmp=je,t.ipv6tohex=Fe,t.hextoipv6=Be,t.hextoip=qe,t.iptohex=ze,t.ucs2hextoutf8=He,t.encodeURIComponentAll=Ge,t.newline_toUnix=function(e){return e.replace(/\r\n/gm,"\n")},t.newline_toDos=function(e){return(e=e.replace(/\r\n/gm,"\n")).replace(/\n/gm,"\r\n")},t.hextoposhex=Ke,t.intarystrtohex=function(e){e=(e=(e=e.replace(/^\s*\[\s*/,"")).replace(/\s*\]\s*$/,"")).replace(/\s*/g,"");try{return e.split(/,/).map((function(e,t,n){var r=parseInt(e);if(r<0||255<r)throw"integer not in range 0-255";return("00"+r.toString(16)).slice(-2)})).join("")}catch(e){throw"malformed integer array string: "+e}},t.strdiffidx=function(e,t){var n=e.length;e.length>t.length&&(n=t.length);for(var r=0;r<n;r++)if(e.charCodeAt(r)!=t.charCodeAt(r))return r;return e.length!=t.length?n:-1},t.oidtohex=Ze,t.hextooid=Ye,t.strpad=Je,t.bitstrtoint=Qe,t.inttobitstr=Xe,t.bitstrtobinstr=et,t.binstrtobitstr=function(e){if("string"!=typeof e)return null;if(null==e.match(/^[01]+$/))return null;try{return Xe(parseInt(e,2))}catch(e){return null}},t.isBase64URLDot=We,t.namearraytobinstr=tt,t.extendClass=rt,t.foldnl=Te,t.b64topem=function(e,t){return"-----BEGIN "+t+"-----\r\n"+Te(e,64)+"\r\n-----END "+t+"-----\r\n"},t.pemtob64=function(e){return-1==e.indexOf("-----BEGIN ")||-1==e.indexOf("-----END ")?null:(e=(e=(e=e.replace(/^[\s\S]*?-----BEGIN [^-]+-----/m,"")).replace(/-----END [\s\S]+$/m,"")).replace(/\s+/g,"")).match(/^[0-9a-zA-Z+/=]+$/)?e:null},t.timeogen=Me,t.aryval=nt,t.KJUR=he,t.crypto=he.crypto,t.asn1=he.asn1,t.jws=he.jws,t.lang=he.lang,t.VERSION="10.8.6",t.VERSION_FULL="jsrsasign(all) 10.8.6 (2023-04-26) (c) 2010-2023 Kenji Urushima | kjur.github.io/jsrsasign/license"},26601:(e,t,n)=>{"use strict";function r(e){this.message=e}n.d(t,{Z:()=>a}),r.prototype=new Error,r.prototype.name="InvalidCharacterError";var i="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new r("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,i,o=0,s=0,a="";i=t.charAt(s++);~i&&(n=o%4?64*n+i:i,o++%4)?a+=String.fromCharCode(255&n>>(-2*o&6)):0)i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(i);return a};function o(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(i(e).replace(/(.)/g,(function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n})))}(t)}catch(e){return i(t)}}function s(e){this.message=e}s.prototype=new Error,s.prototype.name="InvalidTokenError";const a=function(e,t){if("string"!=typeof e)throw new s("Invalid token specified");var n=!0===(t=t||{}).header?0:1;try{return JSON.parse(o(e.split(".")[n]))}catch(e){throw new s("Invalid token specified: "+e.message)}}},1001:(e,t,n)=>{!function(e,t){var n,r,i=!0,o="__ko_mapping__",s=e.dependentObservable,a=0,c=["create","update","key","arrayChanged"],u={},l={include:["_destroy"],ignore:[],copy:[],observe:[]},h=l;function d(){for(var e,t,n,r=arguments,i=r.length,o={},s=[];i--;)for(e=(n=r[i]).length;e--;)o[t=n[e]]||(o[t]=1,s.push(t));return s}function f(e,n){var r;for(var i in n)if(n.hasOwnProperty(i)&&n[i])if(r=t.getType(e[i]),i&&e[i]&&"array"!==r&&"string"!==r)f(e[i],n[i]);else{var o="array"===t.getType(e[i])&&"array"===t.getType(n[i]);e[i]=o?d(e[i],n[i]):n[i]}}function p(e,t){var n={};return f(n,e),f(n,t),n}function m(e,t){for(var n=p({},e),r=c.length-1;r>=0;r--){var i=c[r];n[i]&&(n[""]instanceof Object||(n[""]={}),n[""][i]=n[i],delete n[i])}return t&&(n.ignore=g(t.ignore,n.ignore),n.include=g(t.include,n.include),n.copy=g(t.copy,n.copy),n.observe=g(t.observe,n.observe)),n.ignore=g(n.ignore,h.ignore),n.include=g(n.include,h.include),n.copy=g(n.copy,h.copy),n.observe=g(n.observe,h.observe),n.mappedProperties=n.mappedProperties||{},n.copiedProperties=n.copiedProperties||{},n}function g(n,r){return"array"!==t.getType(n)&&(n="undefined"===t.getType(n)?[]:[n]),"array"!==t.getType(r)&&(r="undefined"===t.getType(r)?[]:[r]),e.utils.arrayGetDistinctValues(n.concat(r))}function v(a,c,l,h,d,f,m){var g="array"===t.getType(e.utils.unwrapObservable(c));if(f=f||"",t.isMapped(a)){var b=e.utils.unwrapObservable(a)[o];l=p(b,l)}var C={data:c,parent:m||d},E=function(){return l[h]&&l[h].create instanceof Function},k=function(t){return function(t,n){var r=e.dependentObservable;e.dependentObservable=function(n,r,o){o=o||{},n&&"object"==typeof n&&(o=n);var a=o.deferEvaluation,c=!1;o.deferEvaluation=!0;var u=new s(n,r,o);return a||(u=function(n){var r=e.dependentObservable;e.dependentObservable=s;var o=e.isWriteableObservable(n);e.dependentObservable=r;var a=s({read:function(){return c||(e.utils.arrayRemoveItem(t,n),c=!0),n.apply(n,arguments)},write:o&&function(e){return n(e)},deferEvaluation:!0});return i&&(a._wrapper=!0),a.__DO=n,a}(u),t.push(u)),u},e.dependentObservable.fn=s.fn,e.computed=e.dependentObservable;var o=n();return e.dependentObservable=r,e.computed=e.dependentObservable,o}(n,(function(){return e.utils.unwrapObservable(d)instanceof Array?l[h].create({data:t||C.data,parent:C.parent,skip:u}):l[h].create({data:t||C.data,parent:C.parent})}))},A=function(){return l[h]&&l[h].update instanceof Function},N=function(t,n){var r={data:n||C.data,parent:C.parent,target:e.utils.unwrapObservable(t)};return e.isWriteableObservable(t)&&(r.observable=t),l[h].update(r)},T=r.get(c);if(T)return T;if(h=h||"",g){var P=[],O=!1,I=function(e){return e};l[h]&&l[h].key&&(I=l[h].key,O=!0),e.isObservable(a)||((a=e.observableArray([])).mappedRemove=function(e){var t="function"==typeof e?e:function(t){return t===I(e)};return a.remove((function(e){return t(I(e))}))},a.mappedRemoveAll=function(t){var n=S(t,I);return a.remove((function(t){return-1!=e.utils.arrayIndexOf(n,I(t))}))},a.mappedDestroy=function(e){var t="function"==typeof e?e:function(t){return t===I(e)};return a.destroy((function(e){return t(I(e))}))},a.mappedDestroyAll=function(t){var n=S(t,I);return a.destroy((function(t){return-1!=e.utils.arrayIndexOf(n,I(t))}))},a.mappedIndexOf=function(t){var n=S(a(),I),r=I(t);return e.utils.arrayIndexOf(n,r)},a.mappedGet=function(e){return a()[a.mappedIndexOf(e)]},a.mappedCreate=function(t){if(-1!==a.mappedIndexOf(t))throw new Error("There already is an object with the key that you specified.");var n=E()?k(t):t;if(A()){var r=N(n,t);e.isWriteableObservable(n)?n(r):n=r}return a.push(n),n});var R=S(e.utils.unwrapObservable(a),I).sort(),L=S(c,I);O&&L.sort();var M,D,j,F=e.utils.compareArrays(R,L),B={},q=e.utils.unwrapObservable(c),U={},z=!0;for(M=0,D=q.length;M<D;M++){if(void 0===(j=I(q[M]))||j instanceof Object){z=!1;break}U[j]=q[M]}var $=[],H=0;for(M=0,D=F.length;M<D;M++){var G;j=F[M];var V,W,K=f+"["+M+"]";switch(j.status){case"added":G=v(void 0,V=z?U[j.value]:w(e.utils.unwrapObservable(c),j.value,I),l,h,a,K,d),E()||(G=e.utils.unwrapObservable(G)),W=y(e.utils.unwrapObservable(c),V,B),G===u?H++:$[W-H]=G,B[W]=!0;break;case"retained":V=z?U[j.value]:w(e.utils.unwrapObservable(c),j.value,I),v(G=w(a,j.value,I),V,l,h,a,K,d),$[W=y(e.utils.unwrapObservable(c),V,B)]=G,B[W]=!0;break;case"deleted":G=w(a,j.value,I)}P.push({event:j.status,item:G})}a($),l[h]&&l[h].arrayChanged&&e.utils.arrayForEach(P,(function(e){l[h].arrayChanged(e.event,e.item)}))}else if(x(c)){if(!(a=e.utils.unwrapObservable(a))){if(E()){var Z=k();return A()&&(Z=N(Z)),Z}if(A())return N(Z);a={}}if(A()&&(a=N(a)),r.save(c,a),A())return a;_(c,(function(t){var n=f.length?f+"."+t:t;if(-1==e.utils.arrayIndexOf(l.ignore,n))if(-1==e.utils.arrayIndexOf(l.copy,n)){if("object"!=typeof c[t]&&"array"!=typeof c[t]&&l.observe.length>0&&-1==e.utils.arrayIndexOf(l.observe,n))return a[t]=c[t],void(l.copiedProperties[n]=!0);var i=r.get(c[t]),o=v(a[t],c[t],l,t,a,n,a),s=i||o;if(l.observe.length>0&&-1==e.utils.arrayIndexOf(l.observe,n))return a[t]=e.utils.unwrapObservable(s),void(l.copiedProperties[n]=!0);e.isWriteableObservable(a[t])?(s=e.utils.unwrapObservable(s),a[t]()!==s&&a[t](s)):(s=void 0===a[t]?s:e.utils.unwrapObservable(s),a[t]=s),l.mappedProperties[n]=!0}else a[t]=c[t]}))}else if("function"===t.getType(c))A()?e.isWriteableObservable(c)?(c(N(c)),a=c):a=N(c):a=c;else{var Y;if(e.isWriteableObservable(a))return A()?(Y=N(a),a(Y),Y):(Y=e.utils.unwrapObservable(c),a(Y),Y);var J=E()||A();if(a=E()?k():e.observable(e.utils.unwrapObservable(c)),A()&&a(N(a)),J)return a}return a}function y(e,t,n){for(var r=0,i=e.length;r<i;r++)if(!0!==n[r]&&e[r]===t)return r;return null}function b(n,r){var i;return r&&(i=r(n)),"undefined"===t.getType(i)&&(i=n),e.utils.unwrapObservable(i)}function w(t,n,r){for(var i=0,o=(t=e.utils.unwrapObservable(t)).length;i<o;i++){var s=t[i];if(b(s,r)===n)return s}throw new Error("When calling ko.update*, the key '"+n+"' was not found!")}function S(t,n){return e.utils.arrayMap(e.utils.unwrapObservable(t),(function(e){return n?b(e,n):e}))}function _(e,n){if("array"===t.getType(e))for(var r=0;r<e.length;r++)n(r);else for(var i in e)n(i)}function x(e){var n=t.getType(e);return("object"===n||"array"===n)&&null!==e}function C(){var t=[],n=[];this.save=function(r,i){var o=e.utils.arrayIndexOf(t,r);o>=0?n[o]=i:(t.push(r),n.push(i))},this.get=function(r){var i=e.utils.arrayIndexOf(t,r);return i>=0?n[i]:void 0}}function E(){var e={},t=function(t){var n;try{n=t}catch(e){n="$$$"}var r=e[n];return void 0===r&&(r=new C,e[n]=r),r};this.save=function(e,n){t(e).save(e,n)},this.get=function(e){return t(e).get(e)}}t.isMapped=function(t){var n=e.utils.unwrapObservable(t);return n&&n[o]},t.fromJS=function(e){if(!arguments.length)throw new Error("When calling ko.mapping.fromJS, pass the object you want to convert.");try{var t,i;a++||(n=[],r=new E),2==arguments.length&&(arguments[1][o]?i=arguments[1]:t=arguments[1]),3==arguments.length&&(t=arguments[1],i=arguments[2]),i&&(t=p(t,i[o]));var s=v(i,e,t=m(t));if(i&&(s=i),!--a)for(;n.length;){var c=n.pop();c&&(c(),c.__DO.throttleEvaluation=c.throttleEvaluation)}return s[o]=p(s[o],t),s}catch(e){throw a=0,e}},t.fromJSON=function(n){var r=e.utils.parseJson(n),i=Array.prototype.slice.call(arguments);return i[0]=r,t.fromJS.apply(this,i)},t.updateFromJS=function(e){throw new Error("ko.mapping.updateFromJS, use ko.mapping.fromJS instead. Please note that the order of parameters is different!")},t.updateFromJSON=function(e){throw new Error("ko.mapping.updateFromJSON, use ko.mapping.fromJSON instead. Please note that the order of parameters is different!")},t.toJS=function(n,r){if(h||t.resetDefaultOptions(),!arguments.length)throw new Error("When calling ko.mapping.toJS, pass the object you want to convert.");if("array"!==t.getType(h.ignore))throw new Error("ko.mapping.defaultOptions().ignore should be an array.");if("array"!==t.getType(h.include))throw new Error("ko.mapping.defaultOptions().include should be an array.");if("array"!==t.getType(h.copy))throw new Error("ko.mapping.defaultOptions().copy should be an array.");return r=m(r,n[o]),t.visitModel(n,(function(t){return e.utils.unwrapObservable(t)}),r)},t.toJSON=function(n,r){var i=t.toJS(n,r);return e.utils.stringifyJson(i)},t.defaultOptions=function(){if(!(arguments.length>0))return h;h=arguments[0]},t.resetDefaultOptions=function(){h={include:l.include.slice(0),ignore:l.ignore.slice(0),copy:l.copy.slice(0),observe:l.observe.slice(0)}},t.getType=function(e){if(e&&"object"==typeof e){if(e.constructor===Date)return"date";if(e.constructor===Array)return"array"}return typeof e},t.visitModel=function(n,r,i){var s;(i=i||{}).visitedObjects=i.visitedObjects||new E;var a=e.utils.unwrapObservable(n);if(!x(a))return r(n,i.parentName);i=m(i,a[o]),r(n,i.parentName),s="array"===t.getType(a)?[]:{},i.visitedObjects.save(n,s);var c=i.parentName;return _(a,(function(n){if(!i.ignore||-1==e.utils.arrayIndexOf(i.ignore,n)){var u=a[n];if(i.parentName=function(e,n,r){var i=e||"";return"array"===t.getType(n)?e&&(i+="["+r+"]"):(e&&(i+="."),i+=r),i}(c,a,n),-1!==e.utils.arrayIndexOf(i.copy,n)||-1!==e.utils.arrayIndexOf(i.include,n)||!a[o]||!a[o].mappedProperties||a[o].mappedProperties[n]||!a[o].copiedProperties||a[o].copiedProperties[n]||"array"===t.getType(a))switch(t.getType(e.utils.unwrapObservable(u))){case"object":case"array":case"undefined":var l=i.visitedObjects.get(u);s[n]="undefined"!==t.getType(l)?l:t.visitModel(u,r,i);break;default:s[n]=r(u,i.parentName)}}})),s}}(n(74315),t)},74315:(e,t,n)=>{var r,i,o;!function(s){var a=this||(0,eval)("this"),c=a.document,u=a.navigator,l=a.jQuery,h=a.JSON;l||"undefined"==typeof jQuery||(l=jQuery),function(s){i=[t,n],void 0===(o="function"==typeof(r=s)?r.apply(t,i):r)||(e.exports=o)}((function(e,t){function n(e,t){return(null===e||typeof e in S)&&e===t}function r(e,t){var n;return function(){n||(n=w.a.setTimeout((function(){n=s,e()}),t))}}function i(e,t){var n;return function(){clearTimeout(n),n=w.a.setTimeout(e,t)}}function o(e,t){t&&"change"!==t?"beforeChange"===t?this.pc(e):this.gb(e,t):this.qc(e)}function d(e,t){null!==t&&t.s&&t.s()}function f(e,t){var n=this.qd,r=n[k];r.ra||(this.Qb&&this.mb[t]?(n.uc(t,e,this.mb[t]),this.mb[t]=null,--this.Qb):r.I[t]||n.uc(t,e,r.J?{da:e}:n.$c(e)),e.Ja&&e.gd())}var p,m,g,v,y,b,w=void 0!==e?e:{};w.b=function(e,t){for(var n=e.split("."),r=w,i=0;i<n.length-1;i++)r=r[n[i]];r[n[n.length-1]]=t},w.L=function(e,t,n){e[t]=n},w.version="3.5.1",w.b("version",w.version),w.options={deferUpdates:!1,useOnlyNativeEvents:!1,foreachHidesDestroyed:!1},w.a=function(){function e(e,t){for(var n in e)i.call(e,n)&&t(n,e[n])}function t(e,t){if(t)for(var n in t)i.call(t,n)&&(e[n]=t[n]);return e}function n(e,t){return e.__proto__=t,e}function r(e,t,n,r){var i=e[t].match(y)||[];w.a.D(n.match(y),(function(e){w.a.Na(i,e,r)})),e[t]=i.join(" ")}var i=Object.prototype.hasOwnProperty,o={__proto__:[]}instanceof Array,d="function"==typeof Symbol,f={},p={};f[u&&/Firefox\/2/i.test(u.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"],f.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" "),e(f,(function(e,t){if(t.length)for(var n=0,r=t.length;n<r;n++)p[t[n]]=e}));var m,g={propertychange:!0},v=c&&function(){for(var e=3,t=c.createElement("div"),n=t.getElementsByTagName("i");t.innerHTML="\x3c!--[if gt IE "+ ++e+"]><i></i><![endif]--\x3e",n[0];);return 4<e?e:s}(),y=/\S+/g;return{Jc:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],D:function(e,t,n){for(var r=0,i=e.length;r<i;r++)t.call(n,e[r],r,e)},A:"function"==typeof Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t)}:function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},Lb:function(e,t,n){for(var r=0,i=e.length;r<i;r++)if(t.call(n,e[r],r,e))return e[r];return s},Pa:function(e,t){var n=w.a.A(e,t);0<n?e.splice(n,1):0===n&&e.shift()},wc:function(e){var t=[];return e&&w.a.D(e,(function(e){0>w.a.A(t,e)&&t.push(e)})),t},Mb:function(e,t,n){var r=[];if(e)for(var i=0,o=e.length;i<o;i++)r.push(t.call(n,e[i],i));return r},jb:function(e,t,n){var r=[];if(e)for(var i=0,o=e.length;i<o;i++)t.call(n,e[i],i)&&r.push(e[i]);return r},Nb:function(e,t){if(t instanceof Array)e.push.apply(e,t);else for(var n=0,r=t.length;n<r;n++)e.push(t[n]);return e},Na:function(e,t,n){var r=w.a.A(w.a.bc(e),t);0>r?n&&e.push(t):n||e.splice(r,1)},Ba:o,extend:t,setPrototypeOf:n,Ab:o?n:t,P:e,Ga:function(e,t,n){if(!e)return e;var r,o={};for(r in e)i.call(e,r)&&(o[r]=t.call(n,e[r],r,e));return o},Tb:function(e){for(;e.firstChild;)w.removeNode(e.firstChild)},Yb:function(e){for(var t=((e=w.a.la(e))[0]&&e[0].ownerDocument||c).createElement("div"),n=0,r=e.length;n<r;n++)t.appendChild(w.oa(e[n]));return t},Ca:function(e,t){for(var n=0,r=e.length,i=[];n<r;n++){var o=e[n].cloneNode(!0);i.push(t?w.oa(o):o)}return i},va:function(e,t){if(w.a.Tb(e),t)for(var n=0,r=t.length;n<r;n++)e.appendChild(t[n])},Xc:function(e,t){var n=e.nodeType?[e]:e;if(0<n.length){for(var r=n[0],i=r.parentNode,o=0,s=t.length;o<s;o++)i.insertBefore(t[o],r);for(o=0,s=n.length;o<s;o++)w.removeNode(n[o])}},Ua:function(e,t){if(e.length){for(t=8===t.nodeType&&t.parentNode||t;e.length&&e[0].parentNode!==t;)e.splice(0,1);for(;1<e.length&&e[e.length-1].parentNode!==t;)e.length--;if(1<e.length){var n=e[0],r=e[e.length-1];for(e.length=0;n!==r;)e.push(n),n=n.nextSibling;e.push(r)}}return e},Zc:function(e,t){7>v?e.setAttribute("selected",t):e.selected=t},Db:function(e){return null===e||e===s?"":e.trim?e.trim():e.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},Ud:function(e,t){return e=e||"",!(t.length>e.length)&&e.substring(0,t.length)===t},vd:function(e,t){if(e===t)return!0;if(11===e.nodeType)return!1;if(t.contains)return t.contains(1!==e.nodeType?e.parentNode:e);if(t.compareDocumentPosition)return 16==(16&t.compareDocumentPosition(e));for(;e&&e!=t;)e=e.parentNode;return!!e},Sb:function(e){return w.a.vd(e,e.ownerDocument.documentElement)},kd:function(e){return!!w.a.Lb(e,w.a.Sb)},R:function(e){return e&&e.tagName&&e.tagName.toLowerCase()},Ac:function(e){return w.onError?function(){try{return e.apply(this,arguments)}catch(e){throw w.onError&&w.onError(e),e}}:e},setTimeout:function(e,t){return setTimeout(w.a.Ac(e),t)},Gc:function(e){setTimeout((function(){throw w.onError&&w.onError(e),e}),0)},B:function(e,t,n){var r=w.a.Ac(n);if(n=g[t],w.options.useOnlyNativeEvents||n||!l)if(n||"function"!=typeof e.addEventListener){if(void 0===e.attachEvent)throw Error("Browser doesn't support addEventListener or attachEvent");var i=function(t){r.call(e,t)},o="on"+t;e.attachEvent(o,i),w.a.K.za(e,(function(){e.detachEvent(o,i)}))}else e.addEventListener(t,r,!1);else m||(m="function"==typeof l(e).on?"on":"bind"),l(e)[m](t,r)},Fb:function(e,t){if(!e||!e.nodeType)throw Error("element must be a DOM node when calling triggerEvent");var n;if(n=!("input"!==w.a.R(e)||!e.type||"click"!=t.toLowerCase()||"checkbox"!=(n=e.type)&&"radio"!=n),w.options.useOnlyNativeEvents||!l||n)if("function"==typeof c.createEvent){if("function"!=typeof e.dispatchEvent)throw Error("The supplied element doesn't support dispatchEvent");(n=c.createEvent(p[t]||"HTMLEvents")).initEvent(t,!0,!0,a,0,0,0,0,0,!1,!1,!1,!1,0,e),e.dispatchEvent(n)}else if(n&&e.click)e.click();else{if(void 0===e.fireEvent)throw Error("Browser doesn't support triggering events");e.fireEvent("on"+t)}else l(e).trigger(t)},f:function(e){return w.O(e)?e():e},bc:function(e){return w.O(e)?e.v():e},Eb:function(e,t,n){var i;t&&("object"==typeof e.classList?(i=e.classList[n?"add":"remove"],w.a.D(t.match(y),(function(t){i.call(e.classList,t)}))):"string"==typeof e.className.baseVal?r(e.className,"baseVal",t,n):r(e,"className",t,n))},Bb:function(e,t){var n=w.a.f(t);null!==n&&n!==s||(n="");var r=w.h.firstChild(e);!r||3!=r.nodeType||w.h.nextSibling(r)?w.h.va(e,[e.ownerDocument.createTextNode(n)]):r.data=n,w.a.Ad(e)},Yc:function(e,t){if(e.name=t,7>=v)try{var n=e.name.replace(/[&<>'"]/g,(function(e){return"&#"+e.charCodeAt(0)+";"}));e.mergeAttributes(c.createElement("<input name='"+n+"'/>"),!1)}catch(e){}},Ad:function(e){9<=v&&(e=1==e.nodeType?e:e.parentNode).style&&(e.style.zoom=e.style.zoom)},wd:function(e){if(v){var t=e.style.width;e.style.width=0,e.style.width=t}},Pd:function(e,t){e=w.a.f(e),t=w.a.f(t);for(var n=[],r=e;r<=t;r++)n.push(r);return n},la:function(e){for(var t=[],n=0,r=e.length;n<r;n++)t.push(e[n]);return t},Da:function(e){return d?Symbol(e):e},Zd:6===v,$d:7===v,W:v,Lc:function(e,t){for(var n=w.a.la(e.getElementsByTagName("input")).concat(w.a.la(e.getElementsByTagName("textarea"))),r="string"==typeof t?function(e){return e.name===t}:function(e){return t.test(e.name)},i=[],o=n.length-1;0<=o;o--)r(n[o])&&i.push(n[o]);return i},Nd:function(e){return"string"==typeof e&&(e=w.a.Db(e))?h&&h.parse?h.parse(e):new Function("return "+e)():null},hc:function(e,t,n){if(!h||!h.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return h.stringify(w.a.f(e),t,n)},Od:function(t,n,r){var i=(r=r||{}).params||{},o=r.includeFields||this.Jc,s=t;if("object"==typeof t&&"form"===w.a.R(t)){s=t.action;for(var a=o.length-1;0<=a;a--)for(var u=w.a.Lc(t,o[a]),l=u.length-1;0<=l;l--)i[u[l].name]=u[l].value}n=w.a.f(n);var h=c.createElement("form");for(var d in h.style.display="none",h.action=s,h.method="post",n)(t=c.createElement("input")).type="hidden",t.name=d,t.value=w.a.hc(w.a.f(n[d])),h.appendChild(t);e(i,(function(e,t){var n=c.createElement("input");n.type="hidden",n.name=e,n.value=t,h.appendChild(n)})),c.body.appendChild(h),r.submitter?r.submitter(h):h.submit(),setTimeout((function(){h.parentNode.removeChild(h)}),0)}}}(),w.b("utils",w.a),w.b("utils.arrayForEach",w.a.D),w.b("utils.arrayFirst",w.a.Lb),w.b("utils.arrayFilter",w.a.jb),w.b("utils.arrayGetDistinctValues",w.a.wc),w.b("utils.arrayIndexOf",w.a.A),w.b("utils.arrayMap",w.a.Mb),w.b("utils.arrayPushAll",w.a.Nb),w.b("utils.arrayRemoveItem",w.a.Pa),w.b("utils.cloneNodes",w.a.Ca),w.b("utils.createSymbolOrString",w.a.Da),w.b("utils.extend",w.a.extend),w.b("utils.fieldsIncludedWithJsonPost",w.a.Jc),w.b("utils.getFormFields",w.a.Lc),w.b("utils.objectMap",w.a.Ga),w.b("utils.peekObservable",w.a.bc),w.b("utils.postJson",w.a.Od),w.b("utils.parseJson",w.a.Nd),w.b("utils.registerEventHandler",w.a.B),w.b("utils.stringifyJson",w.a.hc),w.b("utils.range",w.a.Pd),w.b("utils.toggleDomNodeCssClass",w.a.Eb),w.b("utils.triggerEvent",w.a.Fb),w.b("utils.unwrapObservable",w.a.f),w.b("utils.objectForEach",w.a.P),w.b("utils.addOrRemoveItem",w.a.Na),w.b("utils.setTextContent",w.a.Bb),w.b("unwrap",w.a.f),Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if(1===arguments.length)return function(){return t.apply(e,arguments)};var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice(0);return r.push.apply(r,arguments),t.apply(e,r)}}),w.a.g=new function(){var e,t,n=0,r="__ko__"+(new Date).getTime(),i={};return w.a.W?(e=function(e,t){var o=e[r];if(!o||"null"===o||!i[o]){if(!t)return s;o=e[r]="ko"+n++,i[o]={}}return i[o]},t=function(e){var t=e[r];return!!t&&(delete i[t],e[r]=null,!0)}):(e=function(e,t){var n=e[r];return!n&&t&&(n=e[r]={}),n},t=function(e){return!!e[r]&&(delete e[r],!0)}),{get:function(t,n){var r=e(t,!1);return r&&r[n]},set:function(t,n,r){(t=e(t,r!==s))&&(t[n]=r)},Ub:function(t,n,r){return(t=e(t,!0))[n]||(t[n]=r)},clear:t,Z:function(){return n+++r}}},w.b("utils.domData",w.a.g),w.b("utils.domData.clear",w.a.g.clear),w.a.K=new function(){function e(e,t){var n=w.a.g.get(e,r);return n===s&&t&&(n=[],w.a.g.set(e,r,n)),n}function t(t){if(r=e(t,!1))for(var r=r.slice(0),i=0;i<r.length;i++)r[i](t);w.a.g.clear(t),w.a.K.cleanExternalData(t),o[t.nodeType]&&n(t.childNodes,!0)}function n(e,n){for(var r,i=[],o=0;o<e.length;o++)if((!n||8===e[o].nodeType)&&(t(i[i.length]=r=e[o]),e[o]!==r))for(;o--&&-1==w.a.A(i,e[o]););}var r=w.a.g.Z(),i={1:!0,8:!0,9:!0},o={1:!0,9:!0};return{za:function(t,n){if("function"!=typeof n)throw Error("Callback must be a function");e(t,!0).push(n)},yb:function(t,n){var i=e(t,!1);i&&(w.a.Pa(i,n),0==i.length&&w.a.g.set(t,r,s))},oa:function(e){return w.u.G((function(){i[e.nodeType]&&(t(e),o[e.nodeType]&&n(e.getElementsByTagName("*")))})),e},removeNode:function(e){w.oa(e),e.parentNode&&e.parentNode.removeChild(e)},cleanExternalData:function(e){l&&"function"==typeof l.cleanData&&l.cleanData([e])}}},w.oa=w.a.K.oa,w.removeNode=w.a.K.removeNode,w.b("cleanNode",w.oa),w.b("removeNode",w.removeNode),w.b("utils.domNodeDisposal",w.a.K),w.b("utils.domNodeDisposal.addDisposeCallback",w.a.K.za),w.b("utils.domNodeDisposal.removeDisposeCallback",w.a.K.yb),p=[0,"",""],y={thead:m=[1,"<table>","</table>"],tbody:m,tfoot:m,tr:[2,"<table><tbody>","</tbody></table>"],td:g=[3,"<table><tbody><tr>","</tr></tbody></table>"],th:g,option:v=[1,"<select multiple='multiple'>","</select>"],optgroup:v},b=8>=w.a.W,w.a.ua=function(e,t){var n;if(l){if(l.parseHTML)n=l.parseHTML(e,t)||[];else if((n=l.clean([e],t))&&n[0]){for(var r=n[0];r.parentNode&&11!==r.parentNode.nodeType;)r=r.parentNode;r.parentNode&&r.parentNode.removeChild(r)}}else{(n=t)||(n=c),r=n.parentWindow||n.defaultView||a;var i,o=w.a.Db(e).toLowerCase(),s=n.createElement("div");for(i=(o=o.match(/^(?:\x3c!--.*?--\x3e\s*?)*?<([a-z]+)[\s>]/))&&y[o[1]]||p,o=i[0],i="ignored<div>"+i[1]+e+i[2]+"</div>","function"==typeof r.innerShiv?s.appendChild(r.innerShiv(i)):(b&&n.body.appendChild(s),s.innerHTML=i,b&&s.parentNode.removeChild(s));o--;)s=s.lastChild;n=w.a.la(s.lastChild.childNodes)}return n},w.a.Md=function(e,t){var n=w.a.ua(e,t);return n.length&&n[0].parentElement||w.a.Yb(n)},w.a.fc=function(e,t){if(w.a.Tb(e),null!==(t=w.a.f(t))&&t!==s)if("string"!=typeof t&&(t=t.toString()),l)l(e).html(t);else for(var n=w.a.ua(t,e.ownerDocument),r=0;r<n.length;r++)e.appendChild(n[r])},w.b("utils.parseHtmlFragment",w.a.ua),w.b("utils.setHtml",w.a.fc),w.aa=function(){function e(t,n){if(t)if(8==t.nodeType)null!=(r=w.aa.Uc(t.nodeValue))&&n.push({ud:t,Kd:r});else if(1==t.nodeType)for(var r=0,i=t.childNodes,o=i.length;r<o;r++)e(i[r],n)}var t={};return{Xb:function(e){if("function"!=typeof e)throw Error("You can only pass a function to ko.memoization.memoize()");var n=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);return t[n]=e,"\x3c!--[ko_memo:"+n+"]--\x3e"},bd:function(e,n){var r=t[e];if(r===s)throw Error("Couldn't find any memo with ID "+e+". Perhaps it's already been unmemoized.");try{return r.apply(null,n||[]),!0}finally{delete t[e]}},cd:function(t,n){var r=[];e(t,r);for(var i=0,o=r.length;i<o;i++){var s=r[i].ud,a=[s];n&&w.a.Nb(a,n),w.aa.bd(r[i].Kd,a),s.nodeValue="",s.parentNode&&s.parentNode.removeChild(s)}},Uc:function(e){return(e=e.match(/^\[ko_memo\:(.*?)\]$/))?e[1]:null}}}(),w.b("memoization",w.aa),w.b("memoization.memoize",w.aa.Xb),w.b("memoization.unmemoize",w.aa.bd),w.b("memoization.parseMemoText",w.aa.Uc),w.b("memoization.unmemoizeDomNodeAndDescendants",w.aa.cd),w.na=function(){function e(){if(i)for(var e,t=i,n=0;s<i;)if(e=r[s++]){if(s>t){if(5e3<=++n){s=i,w.a.Gc(Error("'Too much recursion' after processing "+n+" task groups."));break}t=i}try{e()}catch(e){w.a.Gc(e)}}}function t(){e(),s=i=r.length=0}var n,r=[],i=0,o=1,s=0;return n=a.MutationObserver?function(e){var t=c.createElement("div");return new MutationObserver(e).observe(t,{attributes:!0}),function(){t.classList.toggle("foo")}}(t):c&&"onreadystatechange"in c.createElement("script")?function(e){var t=c.createElement("script");t.onreadystatechange=function(){t.onreadystatechange=null,c.documentElement.removeChild(t),t=null,e()},c.documentElement.appendChild(t)}:function(e){setTimeout(e,0)},{scheduler:n,zb:function(e){return i||w.na.scheduler(t),r[i++]=e,o++},cancel:function(e){(e-=o-i)>=s&&e<i&&(r[e]=null)},resetForTesting:function(){var e=i-s;return s=i=r.length=0,e},Sd:e}}(),w.b("tasks",w.na),w.b("tasks.schedule",w.na.zb),w.b("tasks.runEarly",w.na.Sd),w.Ta={throttle:function(e,t){e.throttleEvaluation=t;var n=null;return w.$({read:e,write:function(r){clearTimeout(n),n=w.a.setTimeout((function(){e(r)}),t)}})},rateLimit:function(e,t){var n,o,s;"number"==typeof t?n=t:(n=t.timeout,o=t.method),e.Hb=!1,s="function"==typeof o?o:"notifyWhenChangesStop"==o?i:r,e.ub((function(e){return s(e,n,t)}))},deferred:function(e,t){if(!0!==t)throw Error("The 'deferred' extender only accepts the value 'true', because it is not supported to turn deferral off once enabled.");e.Hb||(e.Hb=!0,e.ub((function(t){var n,r=!1;return function(){if(!r){w.na.cancel(n),n=w.na.zb(t);try{r=!0,e.notifySubscribers(s,"dirty")}finally{r=!1}}}})))},notify:function(e,t){e.equalityComparer="always"==t?null:n}};var S={undefined:1,boolean:1,number:1,string:1};w.b("extenders",w.Ta),w.ic=function(e,t,n){this.da=e,this.lc=t,this.mc=n,this.Ib=!1,this.fb=this.Jb=null,w.L(this,"dispose",this.s),w.L(this,"disposeWhenNodeIsRemoved",this.l)},w.ic.prototype.s=function(){this.Ib||(this.fb&&w.a.K.yb(this.Jb,this.fb),this.Ib=!0,this.mc(),this.da=this.lc=this.mc=this.Jb=this.fb=null)},w.ic.prototype.l=function(e){this.Jb=e,w.a.K.za(e,this.fb=this.s.bind(this))},w.T=function(){w.a.Ab(this,_),_.qb(this)};var _={qb:function(e){e.U={change:[]},e.sc=1},subscribe:function(e,t,n){var r=this;n=n||"change";var i=new w.ic(r,t?e.bind(t):e,(function(){w.a.Pa(r.U[n],i),r.hb&&r.hb(n)}));return r.Qa&&r.Qa(n),r.U[n]||(r.U[n]=[]),r.U[n].push(i),i},notifySubscribers:function(e,t){if("change"===(t=t||"change")&&this.Gb(),this.Wa(t)){var n="change"===t&&this.ed||this.U[t].slice(0);try{w.u.xc();for(var r,i=0;r=n[i];++i)r.Ib||r.lc(e)}finally{w.u.end()}}},ob:function(){return this.sc},Dd:function(e){return this.ob()!==e},Gb:function(){++this.sc},ub:function(e){var t,n,r,i,s,a=this,c=w.O(a);a.gb||(a.gb=a.notifySubscribers,a.notifySubscribers=o);var u=e((function(){a.Ja=!1,c&&i===a&&(i=a.nc?a.nc():a());var e=n||s&&a.sb(r,i);s=n=t=!1,e&&a.gb(r=i)}));a.qc=function(e,n){n&&a.Ja||(s=!n),a.ed=a.U.change.slice(0),a.Ja=t=!0,i=e,u()},a.pc=function(e){t||(r=e,a.gb(e,"beforeChange"))},a.rc=function(){s=!0},a.gd=function(){a.sb(r,a.v(!0))&&(n=!0)}},Wa:function(e){return this.U[e]&&this.U[e].length},Bd:function(e){if(e)return this.U[e]&&this.U[e].length||0;var t=0;return w.a.P(this.U,(function(e,n){"dirty"!==e&&(t+=n.length)})),t},sb:function(e,t){return!this.equalityComparer||!this.equalityComparer(e,t)},toString:function(){return"[object Object]"},extend:function(e){var t=this;return e&&w.a.P(e,(function(e,n){var r=w.Ta[e];"function"==typeof r&&(t=r(t,n)||t)})),t}};w.L(_,"init",_.qb),w.L(_,"subscribe",_.subscribe),w.L(_,"extend",_.extend),w.L(_,"getSubscriptionsCount",_.Bd),w.a.Ba&&w.a.setPrototypeOf(_,Function.prototype),w.T.fn=_,w.Qc=function(e){return null!=e&&"function"==typeof e.subscribe&&"function"==typeof e.notifySubscribers},w.b("subscribable",w.T),w.b("isSubscribable",w.Qc),w.S=w.u=function(){function e(e){r.push(n),n=e}function t(){n=r.pop()}var n,r=[],i=0;return{xc:e,end:t,cc:function(e){if(n){if(!w.Qc(e))throw Error("Only subscribable things can act as dependencies");n.od.call(n.pd,e,e.fd||(e.fd=++i))}},G:function(n,r,i){try{return e(),n.apply(r,i||[])}finally{t()}},qa:function(){if(n)return n.o.qa()},Va:function(){if(n)return n.o.Va()},Ya:function(){if(n)return n.Ya},o:function(){if(n)return n.o}}}(),w.b("computedContext",w.S),w.b("computedContext.getDependenciesCount",w.S.qa),w.b("computedContext.getDependencies",w.S.Va),w.b("computedContext.isInitial",w.S.Ya),w.b("computedContext.registerDependency",w.S.cc),w.b("ignoreDependencies",w.Yd=w.u.G);var x=w.a.Da("_latestValue");w.ta=function(e){function t(){return 0<arguments.length?(t.sb(t[x],arguments[0])&&(t.ya(),t[x]=arguments[0],t.xa()),this):(w.u.cc(t),t[x])}return t[x]=e,w.a.Ba||w.a.extend(t,w.T.fn),w.T.fn.qb(t),w.a.Ab(t,C),w.options.deferUpdates&&w.Ta.deferred(t,!0),t};var C={equalityComparer:n,v:function(){return this[x]},xa:function(){this.notifySubscribers(this[x],"spectate"),this.notifySubscribers(this[x])},ya:function(){this.notifySubscribers(this[x],"beforeChange")}};w.a.Ba&&w.a.setPrototypeOf(C,w.T.fn);var E=w.ta.Ma="__ko_proto__";C[E]=w.ta,w.O=function(e){if((e="function"==typeof e&&e[E])&&e!==C[E]&&e!==w.o.fn[E])throw Error("Invalid object that looks like an observable; possibly from another Knockout instance");return!!e},w.Za=function(e){return"function"==typeof e&&(e[E]===C[E]||e[E]===w.o.fn[E]&&e.Nc)},w.b("observable",w.ta),w.b("isObservable",w.O),w.b("isWriteableObservable",w.Za),w.b("isWritableObservable",w.Za),w.b("observable.fn",C),w.L(C,"peek",C.v),w.L(C,"valueHasMutated",C.xa),w.L(C,"valueWillMutate",C.ya),w.Ha=function(e){if("object"!=typeof(e=e||[])||!("length"in e))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");return e=w.ta(e),w.a.Ab(e,w.Ha.fn),e.extend({trackArrayChanges:!0})},w.Ha.fn={remove:function(e){for(var t=this.v(),n=[],r="function"!=typeof e||w.O(e)?function(t){return t===e}:e,i=0;i<t.length;i++){var o=t[i];if(r(o)){if(0===n.length&&this.ya(),t[i]!==o)throw Error("Array modified during remove; cannot remove item");n.push(o),t.splice(i,1),i--}}return n.length&&this.xa(),n},removeAll:function(e){if(e===s){var t=this.v(),n=t.slice(0);return this.ya(),t.splice(0,t.length),this.xa(),n}return e?this.remove((function(t){return 0<=w.a.A(e,t)})):[]},destroy:function(e){var t=this.v(),n="function"!=typeof e||w.O(e)?function(t){return t===e}:e;this.ya();for(var r=t.length-1;0<=r;r--){var i=t[r];n(i)&&(i._destroy=!0)}this.xa()},destroyAll:function(e){return e===s?this.destroy((function(){return!0})):e?this.destroy((function(t){return 0<=w.a.A(e,t)})):[]},indexOf:function(e){var t=this();return w.a.A(t,e)},replace:function(e,t){var n=this.indexOf(e);0<=n&&(this.ya(),this.v()[n]=t,this.xa())},sorted:function(e){var t=this().slice(0);return e?t.sort(e):t.sort()},reversed:function(){return this().slice(0).reverse()}},w.a.Ba&&w.a.setPrototypeOf(w.Ha.fn,w.ta.fn),w.a.D("pop push reverse shift sort splice unshift".split(" "),(function(e){w.Ha.fn[e]=function(){var t=this.v();this.ya(),this.zc(t,e,arguments);var n=t[e].apply(t,arguments);return this.xa(),n===t?this:n}})),w.a.D(["slice"],(function(e){w.Ha.fn[e]=function(){var t=this();return t[e].apply(t,arguments)}})),w.Pc=function(e){return w.O(e)&&"function"==typeof e.remove&&"function"==typeof e.push},w.b("observableArray",w.Ha),w.b("isObservableArray",w.Pc),w.Ta.trackArrayChanges=function(e,t){function n(){function t(){if(u){var t,n=[].concat(e.v()||[]);e.Wa("arrayChange")&&((!c||1<u)&&(c=w.a.Pb(o,n,e.Ob)),t=c),o=n,c=null,u=0,t&&t.length&&e.notifySubscribers(t,"arrayChange")}}a?t():(a=!0,i=e.subscribe((function(){++u}),null,"spectate"),o=[].concat(e.v()||[]),c=null,r=e.subscribe(t))}if(e.Ob={},t&&"object"==typeof t&&w.a.extend(e.Ob,t),e.Ob.sparse=!0,!e.zc){var r,i,o,a=!1,c=null,u=0,l=e.Qa,h=e.hb;e.Qa=function(t){l&&l.call(e,t),"arrayChange"===t&&n()},e.hb=function(t){h&&h.call(e,t),"arrayChange"!==t||e.Wa("arrayChange")||(r&&r.s(),i&&i.s(),i=r=null,a=!1,o=s)},e.zc=function(e,t,n){function r(e,t,n){return i[i.length]={status:e,value:t,index:n}}if(a&&!u){var i=[],o=e.length,s=n.length,l=0;switch(t){case"push":l=o;case"unshift":for(t=0;t<s;t++)r("added",n[t],l+t);break;case"pop":l=o-1;case"shift":o&&r("deleted",e[l],l);break;case"splice":t=Math.min(Math.max(0,0>n[0]?o+n[0]:n[0]),o),o=1===s?o:Math.min(t+(n[1]||0),o),s=t+s-2,l=Math.max(o,s);for(var h=[],d=[],f=2;t<l;++t,++f)t<o&&d.push(r("deleted",e[t],t)),t<s&&h.push(r("added",n[f],t));w.a.Kc(d,h);break;default:return}c=i}}}};var k=w.a.Da("_state");w.o=w.$=function(e,t,n){function r(){if(0<arguments.length){if("function"!=typeof i)throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return i.apply(o.nb,arguments),this}return o.ra||w.u.cc(r),(o.ka||o.J&&r.Xa())&&r.ha(),o.X}if("object"==typeof e?n=e:(n=n||{},e&&(n.read=e)),"function"!=typeof n.read)throw Error("Pass a function that returns the value of the ko.computed");var i=n.write,o={X:s,sa:!0,ka:!0,rb:!1,jc:!1,ra:!1,wb:!1,J:!1,Wc:n.read,nb:t||n.owner,l:n.disposeWhenNodeIsRemoved||n.l||null,Sa:n.disposeWhen||n.Sa,Rb:null,I:{},V:0,Ic:null};return r[k]=o,r.Nc="function"==typeof i,w.a.Ba||w.a.extend(r,w.T.fn),w.T.fn.qb(r),w.a.Ab(r,A),n.pure?(o.wb=!0,o.J=!0,w.a.extend(r,N)):n.deferEvaluation&&w.a.extend(r,T),w.options.deferUpdates&&w.Ta.deferred(r,!0),o.l&&(o.jc=!0,o.l.nodeType||(o.l=null)),o.J||n.deferEvaluation||r.ha(),o.l&&r.ja()&&w.a.K.za(o.l,o.Rb=function(){r.s()}),r};var A={equalityComparer:n,qa:function(){return this[k].V},Va:function(){var e=[];return w.a.P(this[k].I,(function(t,n){e[n.Ka]=n.da})),e},Vb:function(e){if(!this[k].V)return!1;var t=this.Va();return-1!==w.a.A(t,e)||!!w.a.Lb(t,(function(t){return t.Vb&&t.Vb(e)}))},uc:function(e,t,n){if(this[k].wb&&t===this)throw Error("A 'pure' computed must not be called recursively");this[k].I[e]=n,n.Ka=this[k].V++,n.La=t.ob()},Xa:function(){var e,t,n=this[k].I;for(e in n)if(Object.prototype.hasOwnProperty.call(n,e)&&(t=n[e],this.Ia&&t.da.Ja||t.da.Dd(t.La)))return!0},Jd:function(){this.Ia&&!this[k].rb&&this.Ia(!1)},ja:function(){var e=this[k];return e.ka||0<e.V},Rd:function(){this.Ja?this[k].ka&&(this[k].sa=!0):this.Hc()},$c:function(e){if(e.Hb){var t=e.subscribe(this.Jd,this,"dirty"),n=e.subscribe(this.Rd,this);return{da:e,s:function(){t.s(),n.s()}}}return e.subscribe(this.Hc,this)},Hc:function(){var e=this,t=e.throttleEvaluation;t&&0<=t?(clearTimeout(this[k].Ic),this[k].Ic=w.a.setTimeout((function(){e.ha(!0)}),t)):e.Ia?e.Ia(!0):e.ha(!0)},ha:function(e){var t=this[k],n=t.Sa,r=!1;if(!t.rb&&!t.ra){if(t.l&&!w.a.Sb(t.l)||n&&n()){if(!t.jc)return void this.s()}else t.jc=!1;t.rb=!0;try{r=this.zd(e)}finally{t.rb=!1}return r}},zd:function(e){var t=this[k],n=!1,r=t.wb?s:!t.V;n={qd:this,mb:t.I,Qb:t.V},w.u.xc({pd:n,od:f,o:this,Ya:r}),t.I={},t.V=0;var i=this.yd(t,n);return t.V?n=this.sb(t.X,i):(this.s(),n=!0),n&&(t.J?this.Gb():this.notifySubscribers(t.X,"beforeChange"),t.X=i,this.notifySubscribers(t.X,"spectate"),!t.J&&e&&this.notifySubscribers(t.X),this.rc&&this.rc()),r&&this.notifySubscribers(t.X,"awake"),n},yd:function(e,t){try{var n=e.Wc;return e.nb?n.call(e.nb):n()}finally{w.u.end(),t.Qb&&!e.J&&w.a.P(t.mb,d),e.sa=e.ka=!1}},v:function(e){var t=this[k];return(t.ka&&(e||!t.V)||t.J&&this.Xa())&&this.ha(),t.X},ub:function(e){w.T.fn.ub.call(this,e),this.nc=function(){return this[k].J||(this[k].sa?this.ha():this[k].ka=!1),this[k].X},this.Ia=function(e){this.pc(this[k].X),this[k].ka=!0,e&&(this[k].sa=!0),this.qc(this,!e)}},s:function(){var e=this[k];!e.J&&e.I&&w.a.P(e.I,(function(e,t){t.s&&t.s()})),e.l&&e.Rb&&w.a.K.yb(e.l,e.Rb),e.I=s,e.V=0,e.ra=!0,e.sa=!1,e.ka=!1,e.J=!1,e.l=s,e.Sa=s,e.Wc=s,this.Nc||(e.nb=s)}},N={Qa:function(e){var t=this,n=t[k];if(!n.ra&&n.J&&"change"==e){if(n.J=!1,n.sa||t.Xa())n.I=null,n.V=0,t.ha()&&t.Gb();else{var r=[];w.a.P(n.I,(function(e,t){r[t.Ka]=e})),w.a.D(r,(function(e,r){var i=n.I[e],o=t.$c(i.da);o.Ka=r,o.La=i.La,n.I[e]=o})),t.Xa()&&t.ha()&&t.Gb()}n.ra||t.notifySubscribers(n.X,"awake")}},hb:function(e){var t=this[k];t.ra||"change"!=e||this.Wa("change")||(w.a.P(t.I,(function(e,n){n.s&&(t.I[e]={da:n.da,Ka:n.Ka,La:n.La},n.s())})),t.J=!0,this.notifySubscribers(s,"asleep"))},ob:function(){var e=this[k];return e.J&&(e.sa||this.Xa())&&this.ha(),w.T.fn.ob.call(this)}},T={Qa:function(e){"change"!=e&&"beforeChange"!=e||this.v()}};w.a.Ba&&w.a.setPrototypeOf(A,w.T.fn);var P=w.ta.Ma;A[P]=w.o,w.Oc=function(e){return"function"==typeof e&&e[P]===A[P]},w.Fd=function(e){return w.Oc(e)&&e[k]&&e[k].wb},w.b("computed",w.o),w.b("dependentObservable",w.o),w.b("isComputed",w.Oc),w.b("isPureComputed",w.Fd),w.b("computed.fn",A),w.L(A,"peek",A.v),w.L(A,"dispose",A.s),w.L(A,"isActive",A.ja),w.L(A,"getDependenciesCount",A.qa),w.L(A,"getDependencies",A.Va),w.xb=function(e,t){return"function"==typeof e?w.o(e,t,{pure:!0}):((e=w.a.extend({},e)).pure=!0,w.o(e,t))},w.b("pureComputed",w.xb),function(){function e(n,r,i){if(i=i||new t,"object"!=typeof(n=r(n))||null===n||n===s||n instanceof RegExp||n instanceof Date||n instanceof String||n instanceof Number||n instanceof Boolean)return n;var o=n instanceof Array?[]:{};return i.save(n,o),function(e,t){if(e instanceof Array){for(var n=0;n<e.length;n++)t(n);"function"==typeof e.toJSON&&t("toJSON")}else for(n in e)t(n)}(n,(function(t){var a=r(n[t]);switch(typeof a){case"boolean":case"number":case"string":case"function":o[t]=a;break;case"object":case"undefined":var c=i.get(a);o[t]=c!==s?c:e(a,r,i)}})),o}function t(){this.keys=[],this.values=[]}w.ad=function(t){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");return e(t,(function(e){for(var t=0;w.O(e)&&10>t;t++)e=e();return e}))},w.toJSON=function(e,t,n){return e=w.ad(e),w.a.hc(e,t,n)},t.prototype={constructor:t,save:function(e,t){var n=w.a.A(this.keys,e);0<=n?this.values[n]=t:(this.keys.push(e),this.values.push(t))},get:function(e){return 0<=(e=w.a.A(this.keys,e))?this.values[e]:s}}}(),w.b("toJS",w.ad),w.b("toJSON",w.toJSON),w.Wd=function(e,t,n){function r(t){var r=w.xb(e,n).extend({ma:"always"}),i=r.subscribe((function(e){e&&(i.s(),t(e))}));return r.notifySubscribers(r.v()),i}return"function"!=typeof Promise||t?r(t.bind(n)):new Promise(r)},w.b("when",w.Wd),w.w={M:function(e){switch(w.a.R(e)){case"option":return!0===e.__ko__hasDomDataOptionValue__?w.a.g.get(e,w.c.options.$b):7>=w.a.W?e.getAttributeNode("value")&&e.getAttributeNode("value").specified?e.value:e.text:e.value;case"select":return 0<=e.selectedIndex?w.w.M(e.options[e.selectedIndex]):s;default:return e.value}},cb:function(e,t,n){switch(w.a.R(e)){case"option":"string"==typeof t?(w.a.g.set(e,w.c.options.$b,s),"__ko__hasDomDataOptionValue__"in e&&delete e.__ko__hasDomDataOptionValue__,e.value=t):(w.a.g.set(e,w.c.options.$b,t),e.__ko__hasDomDataOptionValue__=!0,e.value="number"==typeof t?t:"");break;case"select":""!==t&&null!==t||(t=s);for(var r,i=-1,o=0,a=e.options.length;o<a;++o)if((r=w.w.M(e.options[o]))==t||""===r&&t===s){i=o;break}(n||0<=i||t===s&&1<e.size)&&(e.selectedIndex=i,6===w.a.W&&w.a.setTimeout((function(){e.selectedIndex=i}),0));break;default:null!==t&&t!==s||(t=""),e.value=t}}},w.b("selectExtensions",w.w),w.b("selectExtensions.readValue",w.w.M),w.b("selectExtensions.writeValue",w.w.cb),w.m=function(){function e(e){123===(e=w.a.Db(e)).charCodeAt(0)&&(e=e.slice(1,-1));var t,n=[],s=(e+="\n,").match(r),a=[],c=0;if(1<s.length){for(var u,l=0;u=s[l];++l){var h=u.charCodeAt(0);if(44===h){if(0>=c){n.push(t&&a.length?{key:t,value:a.join("")}:{unknown:t||a.join("")}),t=c=0,a=[];continue}}else if(58===h){if(!c&&!t&&1===a.length){t=a.pop();continue}}else{if(47===h&&1<u.length&&(47===u.charCodeAt(1)||42===u.charCodeAt(1)))continue;47===h&&l&&1<u.length?(h=s[l-1].match(i))&&!o[h[0]]&&(s=(e=e.substr(e.indexOf(u)+1)).match(r),l=-1,u="/"):40===h||123===h||91===h?++c:41===h||125===h||93===h?--c:t||a.length||34!==h&&39!==h||(u=u.slice(1,-1))}a.push(u)}if(0<c)throw Error("Unbalanced parentheses, braces, or brackets")}return n}var t=["true","false","null","undefined"],n=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,r=RegExp("\"(?:\\\\.|[^\"])*\"|'(?:\\\\.|[^'])*'|`(?:\\\\.|[^`])*`|/\\*(?:[^*]|\\*+[^*/])*\\*+/|//.*\n|/(?:\\\\.|[^/])+/w*|[^\\s:,/][^,\"'`{}()/:[\\]]*[^\\s,\"'`{}()/:[\\]]|[^\\s]","g"),i=/[\])"'A-Za-z0-9_$]+$/,o={in:1,return:1,typeof:1},s={};return{Ra:[],wa:s,ac:e,vb:function(r,i){function o(e,r){var i;if(!l){var h=w.getBindingHandler(e);if(h&&h.preprocess&&!(r=h.preprocess(r,e,o)))return;(h=s[e])&&(i=r,0<=w.a.A(t,i)?i=!1:(h=i.match(n),i=null!==h&&(h[1]?"Object("+h[1]+")"+h[2]:i)),h=i),h&&c.push("'"+("string"==typeof s[e]?s[e]:e)+"':function(_z){"+i+"=_z}")}u&&(r="function(){return "+r+" }"),a.push("'"+e+"':"+r)}var a=[],c=[],u=(i=i||{}).valueAccessors,l=i.bindingParams,h="string"==typeof r?e(r):r;return w.a.D(h,(function(e){o(e.key||e.unknown,e.value)})),c.length&&o("_ko_property_writers","{"+c.join(",")+" }"),a.join(",")},Id:function(e,t){for(var n=0;n<e.length;n++)if(e[n].key==t)return!0;return!1},eb:function(e,t,n,r,i){e&&w.O(e)?!w.Za(e)||i&&e.v()===r||e(r):(e=t.get("_ko_property_writers"))&&e[n]&&e[n](r)}}}(),w.b("expressionRewriting",w.m),w.b("expressionRewriting.bindingRewriteValidators",w.m.Ra),w.b("expressionRewriting.parseObjectLiteral",w.m.ac),w.b("expressionRewriting.preProcessBindings",w.m.vb),w.b("expressionRewriting._twoWayBindings",w.m.wa),w.b("jsonExpressionRewriting",w.m),w.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",w.m.vb),function(){function e(e){return 8==e.nodeType&&o.test(i?e.text:e.nodeValue)}function t(e){return 8==e.nodeType&&s.test(i?e.text:e.nodeValue)}function n(n,r){for(var i=n,o=1,s=[];i=i.nextSibling;){if(t(i)&&(w.a.g.set(i,u,!0),0==--o))return s;s.push(i),e(i)&&o++}if(!r)throw Error("Cannot find closing comment tag to match: "+n.nodeValue);return null}function r(e,t){var r=n(e,t);return r?0<r.length?r[r.length-1].nextSibling:e.nextSibling:null}var i=c&&"\x3c!--test--\x3e"===c.createComment("test").text,o=i?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,s=i?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,a={ul:!0,ol:!0},u="__ko_matchedEndComment__";w.h={ea:{},childNodes:function(t){return e(t)?n(t):t.childNodes},Ea:function(t){if(e(t))for(var n=0,r=(t=w.h.childNodes(t)).length;n<r;n++)w.removeNode(t[n]);else w.a.Tb(t)},va:function(t,n){if(e(t)){w.h.Ea(t);for(var r=t.nextSibling,i=0,o=n.length;i<o;i++)r.parentNode.insertBefore(n[i],r)}else w.a.va(t,n)},Vc:function(t,n){var r;e(t)?(r=t.nextSibling,t=t.parentNode):r=t.firstChild,r?n!==r&&t.insertBefore(n,r):t.appendChild(n)},Wb:function(t,n,r){r?(r=r.nextSibling,e(t)&&(t=t.parentNode),r?n!==r&&t.insertBefore(n,r):t.appendChild(n)):w.h.Vc(t,n)},firstChild:function(n){if(e(n))return!n.nextSibling||t(n.nextSibling)?null:n.nextSibling;if(n.firstChild&&t(n.firstChild))throw Error("Found invalid end comment, as the first child of "+n);return n.firstChild},nextSibling:function(n){if(e(n)&&(n=r(n)),n.nextSibling&&t(n.nextSibling)){var i=n.nextSibling;if(t(i)&&!w.a.g.get(i,u))throw Error("Found end comment without a matching opening comment, as child of "+n);return null}return n.nextSibling},Cd:e,Vd:function(e){return(e=(i?e.text:e.nodeValue).match(o))?e[1]:null},Sc:function(n){if(a[w.a.R(n)]){var i=n.firstChild;if(i)do{if(1===i.nodeType){var o,s=null;if(o=i.firstChild)do{if(s)s.push(o);else if(e(o)){var c=r(o,!0);c?o=c:s=[o]}else t(o)&&(s=[o])}while(o=o.nextSibling);if(o=s)for(s=i.nextSibling,c=0;c<o.length;c++)s?n.insertBefore(o[c],s):n.appendChild(o[c])}}while(i=i.nextSibling)}}}}(),w.b("virtualElements",w.h),w.b("virtualElements.allowedBindings",w.h.ea),w.b("virtualElements.emptyNode",w.h.Ea),w.b("virtualElements.insertAfter",w.h.Wb),w.b("virtualElements.prepend",w.h.Vc),w.b("virtualElements.setDomNodeChildren",w.h.va),w.ga=function(){this.nd={}},w.a.extend(w.ga.prototype,{nodeHasBindings:function(e){switch(e.nodeType){case 1:return null!=e.getAttribute("data-bind")||w.j.getComponentNameForNode(e);case 8:return w.h.Cd(e);default:return!1}},getBindings:function(e,t){var n=(n=this.getBindingsString(e,t))?this.parseBindingsString(n,t,e):null;return w.j.tc(n,e,t,!1)},getBindingAccessors:function(e,t){var n=(n=this.getBindingsString(e,t))?this.parseBindingsString(n,t,e,{valueAccessors:!0}):null;return w.j.tc(n,e,t,!0)},getBindingsString:function(e){switch(e.nodeType){case 1:return e.getAttribute("data-bind");case 8:return w.h.Vd(e);default:return null}},parseBindingsString:function(e,t,n,r){try{var i,o=this.nd,s=e+(r&&r.valueAccessors||"");if(!(i=o[s])){var a,c="with($context){with($data||{}){return{"+w.m.vb(e,r)+"}}}";a=new Function("$context","$element",c),i=o[s]=a}return i(t,n)}catch(t){throw t.message="Unable to parse bindings.\nBindings value: "+e+"\nMessage: "+t.message,t}}}),w.ga.instance=new w.ga,w.b("bindingProvider",w.ga),function(){function e(e){var t=(e=w.a.g.get(e,S))&&e.N;t&&(e.N=null,t.Tc())}function t(t,n,r){this.node=t,this.yc=n,this.kb=[],this.H=!1,n.N||w.a.K.za(t,e),r&&r.N&&(r.N.kb.push(t),this.Kb=r)}function n(e){return function(){return e}}function r(e){return e()}function i(e){return w.a.Ga(w.u.G(e),(function(t,n){return function(){return e()[n]}}))}function o(e,t,r){return"function"==typeof e?i(e.bind(null,t,r)):w.a.Ga(e,n)}function u(e,t){return i(this.getBindings.bind(this,e,t))}function h(e,t){var n=w.h.firstChild(t);if(n){var r,i=w.ga.instance,o=i.preprocessNode;if(o){for(;r=n;)n=w.h.nextSibling(r),o.call(i,r);n=w.h.firstChild(t)}for(;r=n;)n=w.h.nextSibling(r),d(e,r)}w.i.ma(t,w.i.H)}function d(e,t){var n=e,r=1===t.nodeType;r&&w.h.Sc(t),(r||w.ga.instance.nodeHasBindings(t))&&(n=f(t,null,e).bindingContextForDescendants),n&&!y[w.a.R(t)]&&h(n,t)}function f(e,t,n){var i,o=w.a.g.Ub(e,S,{}),a=o.hd;if(!t){if(a)throw Error("You cannot apply bindings multiple times to the same element.");o.hd=!0}if(a||(o.context=n),o.Zb||(o.Zb={}),t&&"function"!=typeof t)i=t;else{var c=w.ga.instance,l=c.getBindingAccessors||u,h=w.$((function(){return(i=t?t(n,e):l.call(c,e,n))&&(n[m]&&n[m](),n[v]&&n[v]()),i}),null,{l:e});i&&h.ja()||(h=null)}var d,f=n;if(i){var p=function(){return w.a.Ga(h?h():i,r)},g=h?function(e){return function(){return r(h()[e])}}:function(e){return i[e]};p.get=function(e){return i[e]&&r(g(e))},p.has=function(e){return e in i},w.i.H in i&&w.i.subscribe(e,w.i.H,(function(){var t=(0,i[w.i.H])();if(t){var n=w.h.childNodes(e);n.length&&t(n,w.Ec(n[0]))}})),w.i.pa in i&&(f=w.i.Cb(e,n),w.i.subscribe(e,w.i.pa,(function(){var t=(0,i[w.i.pa])();t&&w.h.firstChild(e)&&t(e)}))),o=function(e){var t=[],n={},r=[];return w.a.P(e,(function i(o){if(!n[o]){var s=w.getBindingHandler(o);s&&(s.after&&(r.push(o),w.a.D(s.after,(function(t){if(e[t]){if(-1!==w.a.A(r,t))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+r.join(", "));i(t)}})),r.length--),t.push({key:o,Mc:s})),n[o]=!0}})),t}(i),w.a.D(o,(function(t){var n=t.Mc.init,r=t.Mc.update,o=t.key;if(8===e.nodeType&&!w.h.ea[o])throw Error("The binding '"+o+"' cannot be used with virtual elements");try{"function"==typeof n&&w.u.G((function(){var t=n(e,g(o),p,f.$data,f);if(t&&t.controlsDescendantBindings){if(d!==s)throw Error("Multiple bindings ("+d+" and "+o+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");d=o}})),"function"==typeof r&&w.$((function(){r(e,g(o),p,f.$data,f)}),null,{l:e})}catch(e){throw e.message='Unable to process binding "'+o+": "+i[o]+'"\nMessage: '+e.message,e}}))}return{shouldBindDescendants:o=d===s,bindingContextForDescendants:o&&f}}function p(e,t){return e&&e instanceof w.fa?e:new w.fa(e,s,s,t)}var m=w.a.Da("_subscribable"),g=w.a.Da("_ancestorBindingInfo"),v=w.a.Da("_dataDependency");w.c={};var y={script:!0,textarea:!0,template:!0};w.getBindingHandler=function(e){return w.c[e]};var b={};w.fa=function(e,t,n,r,i){function o(){var e=h?l():l,i=w.a.f(e);return t?(w.a.extend(c,t),g in t&&(c[g]=t[g])):(c.$parents=[],c.$root=i,c.ko=w),c[m]=a,u?i=c.$data:(c.$rawData=e,c.$data=i),n&&(c[n]=i),r&&r(c,t,i),t&&t[m]&&!w.S.o().Vb(t[m])&&t[m](),d&&(c[v]=d),c.$data}var a,c=this,u=e===b,l=u?s:e,h="function"==typeof l&&!w.O(l),d=i&&i.dataDependency;i&&i.exportDependencies?o():((a=w.xb(o)).v(),a.ja()?a.equalityComparer=null:c[m]=s)},w.fa.prototype.createChildContext=function(e,t,n,r){if(!r&&t&&"object"==typeof t&&(t=(r=t).as,n=r.extend),t&&r&&r.noChildContext){var i="function"==typeof e&&!w.O(e);return new w.fa(b,this,null,(function(r){n&&n(r),r[t]=i?e():e}),r)}return new w.fa(e,this,t,(function(e,t){e.$parentContext=t,e.$parent=t.$data,e.$parents=(t.$parents||[]).slice(0),e.$parents.unshift(e.$parent),n&&n(e)}),r)},w.fa.prototype.extend=function(e,t){return new w.fa(b,this,null,(function(t){w.a.extend(t,"function"==typeof e?e(t):e)}),t)};var S=w.a.g.Z();t.prototype.Tc=function(){this.Kb&&this.Kb.N&&this.Kb.N.sd(this.node)},t.prototype.sd=function(e){w.a.Pa(this.kb,e),!this.kb.length&&this.H&&this.Cc()},t.prototype.Cc=function(){this.H=!0,this.yc.N&&!this.kb.length&&(this.yc.N=null,w.a.K.yb(this.node,e),w.i.ma(this.node,w.i.pa),this.Tc())},w.i={H:"childrenComplete",pa:"descendantsComplete",subscribe:function(e,t,n,r,i){var o=w.a.g.Ub(e,S,{});return o.Fa||(o.Fa=new w.T),i&&i.notifyImmediately&&o.Zb[t]&&w.u.G(n,r,[e]),o.Fa.subscribe(n,r,t)},ma:function(e,t){var n=w.a.g.get(e,S);if(n&&(n.Zb[t]=!0,n.Fa&&n.Fa.notifySubscribers(e,t),t==w.i.H))if(n.N)n.N.Cc();else if(n.N===s&&n.Fa&&n.Fa.Wa(w.i.pa))throw Error("descendantsComplete event not supported for bindings on this node")},Cb:function(e,n){var r=w.a.g.Ub(e,S,{});return r.N||(r.N=new t(e,r,n[g])),n[g]==r?n:n.extend((function(e){e[g]=r}))}},w.Td=function(e){return(e=w.a.g.get(e,S))&&e.context},w.ib=function(e,t,n){return 1===e.nodeType&&w.h.Sc(e),f(e,t,p(n))},w.ld=function(e,t,n){return n=p(n),w.ib(e,o(t,n,e),n)},w.Oa=function(e,t){1!==t.nodeType&&8!==t.nodeType||h(p(e),t)},w.vc=function(e,t,n){if(!l&&a.jQuery&&(l=a.jQuery),2>arguments.length){if(!(t=c.body))throw Error("ko.applyBindings: could not find document.body; has the document been loaded?")}else if(!t||1!==t.nodeType&&8!==t.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");d(p(e,n),t)},w.Dc=function(e){return!e||1!==e.nodeType&&8!==e.nodeType?s:w.Td(e)},w.Ec=function(e){return(e=w.Dc(e))?e.$data:s},w.b("bindingHandlers",w.c),w.b("bindingEvent",w.i),w.b("bindingEvent.subscribe",w.i.subscribe),w.b("bindingEvent.startPossiblyAsyncContentBinding",w.i.Cb),w.b("applyBindings",w.vc),w.b("applyBindingsToDescendants",w.Oa),w.b("applyBindingAccessorsToNode",w.ib),w.b("applyBindingsToNode",w.ld),w.b("contextFor",w.Dc),w.b("dataFor",w.Ec)}(),function(e){function t(t,r){var s,a=Object.prototype.hasOwnProperty.call(i,t)?i[t]:e;a?a.subscribe(r):((a=i[t]=new w.T).subscribe(r),n(t,(function(e,n){var r=!(!n||!n.synchronous);o[t]={definition:e,Gd:r},delete i[t],s||r?a.notifySubscribers(e):w.na.zb((function(){a.notifySubscribers(e)}))})),s=!0)}function n(e,t){r("getConfig",[e],(function(n){n?r("loadComponent",[e,n],(function(e){t(e,n)})):t(null,null)}))}function r(t,n,i,o){o||(o=w.j.loaders.slice(0));var s=o.shift();if(s){var a=s[t];if(a){var c=!1;if(a.apply(s,n.concat((function(e){c?i(null):null!==e?i(e):r(t,n,i,o)})))!==e&&(c=!0,!s.suppressLoaderExceptions))throw Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.")}else r(t,n,i,o)}else i(null)}var i={},o={};w.j={get:function(n,r){var i=Object.prototype.hasOwnProperty.call(o,n)?o[n]:e;i?i.Gd?w.u.G((function(){r(i.definition)})):w.na.zb((function(){r(i.definition)})):t(n,r)},Bc:function(e){delete o[e]},oc:r},w.j.loaders=[],w.b("components",w.j),w.b("components.get",w.j.get),w.b("components.clearCachedDefinition",w.j.Bc)}(),function(){function e(e,t,n,r){function i(){0==--a&&r(s)}var s={},a=2,c=n.template;n=n.viewModel,c?o(t,c,(function(t){w.j.oc("loadTemplate",[e,t],(function(e){s.template=e,i()}))})):i(),n?o(t,n,(function(t){w.j.oc("loadViewModel",[e,t],(function(e){s[l]=e,i()}))})):i()}function n(e,t,r){if("function"==typeof t)r((function(e){return new t(e)}));else if("function"==typeof t[l])r(t[l]);else if("instance"in t){var i=t.instance;r((function(){return i}))}else"viewModel"in t?n(e,t.viewModel,r):e("Unknown viewModel value: "+t)}function r(e){switch(w.a.R(e)){case"script":return w.a.ua(e.text);case"textarea":return w.a.ua(e.value);case"template":if(i(e.content))return w.a.Ca(e.content.childNodes)}return w.a.Ca(e.childNodes)}function i(e){return a.DocumentFragment?e instanceof DocumentFragment:e&&11===e.nodeType}function o(e,n,r){"string"==typeof n.require?t||a.require?(t||a.require)([n.require],(function(e){e&&"object"==typeof e&&e.Xd&&e.default&&(e=e.default),r(e)})):e("Uses require, but no AMD loader is present"):r(n)}function s(e){return function(t){throw Error("Component '"+e+"': "+t)}}var u={};w.j.register=function(e,t){if(!t)throw Error("Invalid configuration for "+e);if(w.j.tb(e))throw Error("Component "+e+" is already registered");u[e]=t},w.j.tb=function(e){return Object.prototype.hasOwnProperty.call(u,e)},w.j.unregister=function(e){delete u[e],w.j.Bc(e)},w.j.Fc={getConfig:function(e,t){t(w.j.tb(e)?u[e]:null)},loadComponent:function(t,n,r){var i=s(t);o(i,n,(function(n){e(t,i,n,r)}))},loadTemplate:function(e,t,n){if(e=s(e),"string"==typeof t)n(w.a.ua(t));else if(t instanceof Array)n(t);else if(i(t))n(w.a.la(t.childNodes));else if(t.element)if(t=t.element,a.HTMLElement?t instanceof HTMLElement:t&&t.tagName&&1===t.nodeType)n(r(t));else if("string"==typeof t){var o=c.getElementById(t);o?n(r(o)):e("Cannot find element with ID "+t)}else e("Unknown element type: "+t);else e("Unknown template value: "+t)},loadViewModel:function(e,t,r){n(s(e),t,r)}};var l="createViewModel";w.b("components.register",w.j.register),w.b("components.isRegistered",w.j.tb),w.b("components.unregister",w.j.unregister),w.b("components.defaultLoader",w.j.Fc),w.j.loaders.push(w.j.Fc),w.j.dd=u}(),function(){function e(e,n){if(r=e.getAttribute("params")){var r=t.parseBindingsString(r,n,e,{valueAccessors:!0,bindingParams:!0}),i=(r=w.a.Ga(r,(function(t){return w.o(t,null,{l:e})})),w.a.Ga(r,(function(t){var n=t.v();return t.ja()?w.o({read:function(){return w.a.f(t())},write:w.Za(n)&&function(e){t()(e)},l:e}):n})));return Object.prototype.hasOwnProperty.call(i,"$raw")||(i.$raw=r),i}return{$raw:{}}}w.j.getComponentNameForNode=function(e){var t=w.a.R(e);if(w.j.tb(t)&&(-1!=t.indexOf("-")||"[object HTMLUnknownElement]"==""+e||8>=w.a.W&&e.tagName===t))return t},w.j.tc=function(t,n,r,i){if(1===n.nodeType){var o=w.j.getComponentNameForNode(n);if(o){if((t=t||{}).component)throw Error('Cannot use the "component" binding on a custom element matching a component');var s={name:o,params:e(n,r)};t.component=i?function(){return s}:s}}return t};var t=new w.ga;9>w.a.W&&(w.j.register=function(e){return function(t){return e.apply(this,arguments)}}(w.j.register),c.createDocumentFragment=function(e){return function(){var t,n=e(),r=w.j.dd;for(t in r);return n}}(c.createDocumentFragment))}(),function(){var e=0;w.c.component={init:function(t,n,r,i,o){function s(){var e=a&&a.dispose;"function"==typeof e&&e.call(a),u&&u.s(),c=a=u=null}var a,c,u,l=w.a.la(w.h.childNodes(t));return w.h.Ea(t),w.a.K.za(t,s),w.o((function(){var r,i,h=w.a.f(n());if("string"==typeof h?r=h:(r=w.a.f(h.name),i=w.a.f(h.params)),!r)throw Error("No component name specified");var d=w.i.Cb(t,o),f=c=++e;w.j.get(r,(function(e){if(c===f){if(s(),!e)throw Error("Unknown component '"+r+"'");!function(e,t,n){if(!(t=t.template))throw Error("Component '"+e+"' has no template");e=w.a.Ca(t),w.h.va(n,e)}(r,e,t);var n=function(e,t,n){var r=e.createViewModel;return r?r.call(e,t,n):t}(e,i,{element:t,templateNodes:l});e=d.createChildContext(n,{extend:function(e){e.$component=n,e.$componentTemplateNodes=l}}),n&&n.koDescendantsComplete&&(u=w.i.subscribe(t,w.i.pa,n.koDescendantsComplete,n)),a=n,w.Oa(e,t)}}))}),null,{l:t}),{controlsDescendantBindings:!0}}},w.h.ea.component=!0}();var O={class:"className",for:"htmlFor"};w.c.attr={update:function(e,t){var n=w.a.f(t())||{};w.a.P(n,(function(t,n){n=w.a.f(n);var r=t.indexOf(":"),i=(r="lookupNamespaceURI"in e&&0<r&&e.lookupNamespaceURI(t.substr(0,r)),!1===n||null===n||n===s);i?r?e.removeAttributeNS(r,t):e.removeAttribute(t):n=n.toString(),8>=w.a.W&&t in O?(t=O[t],i?e.removeAttribute(t):e[t]=n):i||(r?e.setAttributeNS(r,t,n):e.setAttribute(t,n)),"name"===t&&w.a.Yc(e,i?"":n)}))}},w.c.checked={after:["value","attr"],init:function(e,t,n){function r(){var r=e.checked,c=i();if(!w.S.Ya()&&(r||!a&&!w.S.qa())){var h=w.u.G(t);if(u){var f=l?h.v():h,p=d;d=c,p!==c?r&&(w.a.Na(f,c,!0),w.a.Na(f,p,!1)):w.a.Na(f,c,r),l&&w.Za(h)&&h(f)}else o&&(c===s?c=r:r||(c=s)),w.m.eb(h,n,"checked",c,!0)}}var i=w.xb((function(){return n.has("checkedValue")?w.a.f(n.get("checkedValue")):h?n.has("value")?w.a.f(n.get("value")):e.value:void 0})),o="checkbox"==e.type,a="radio"==e.type;if(o||a){var c=t(),u=o&&w.a.f(c)instanceof Array,l=!(u&&c.push&&c.splice),h=a||u,d=u?i():s;a&&!e.name&&w.c.uniqueName.init(e,(function(){return!0})),w.o(r,null,{l:e}),w.a.B(e,"click",r),w.o((function(){var n=w.a.f(t()),r=i();u?(e.checked=0<=w.a.A(n,r),d=r):e.checked=o&&r===s?!!n:i()===n}),null,{l:e}),c=s}}},w.m.wa.checked=!0,w.c.checkedValue={update:function(e,t){e.value=w.a.f(t())}},w.c.class={update:function(e,t){var n=w.a.Db(w.a.f(t()));w.a.Eb(e,e.__ko__cssValue,!1),e.__ko__cssValue=n,w.a.Eb(e,n,!0)}},w.c.css={update:function(e,t){var n=w.a.f(t());null!==n&&"object"==typeof n?w.a.P(n,(function(t,n){n=w.a.f(n),w.a.Eb(e,t,n)})):w.c.class.update(e,t)}},w.c.enable={update:function(e,t){var n=w.a.f(t());n&&e.disabled?e.removeAttribute("disabled"):n||e.disabled||(e.disabled=!0)}},w.c.disable={update:function(e,t){w.c.enable.update(e,(function(){return!w.a.f(t())}))}},w.c.event={init:function(e,t,n,r,i){var o=t()||{};w.a.P(o,(function(o){"string"==typeof o&&w.a.B(e,o,(function(e){var s,a=t()[o];if(a){try{var c=w.a.la(arguments);r=i.$data,c.unshift(r),s=a.apply(r,c)}finally{!0!==s&&(e.preventDefault?e.preventDefault():e.returnValue=!1)}!1===n.get(o+"Bubble")&&(e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation())}}))}))}},w.c.foreach={Rc:function(e){return function(){var t=e(),n=w.a.bc(t);return n&&"number"!=typeof n.length?(w.a.f(t),{foreach:n.data,as:n.as,noChildContext:n.noChildContext,includeDestroyed:n.includeDestroyed,afterAdd:n.afterAdd,beforeRemove:n.beforeRemove,afterRender:n.afterRender,beforeMove:n.beforeMove,afterMove:n.afterMove,templateEngine:w.ba.Ma}):{foreach:t,templateEngine:w.ba.Ma}}},init:function(e,t){return w.c.template.init(e,w.c.foreach.Rc(t))},update:function(e,t,n,r,i){return w.c.template.update(e,w.c.foreach.Rc(t),n,r,i)}},w.m.Ra.foreach=!1,w.h.ea.foreach=!0,w.c.hasfocus={init:function(e,t,n){function r(r){e.__ko_hasfocusUpdating=!0;var i=e.ownerDocument;if("activeElement"in i){var o;try{o=i.activeElement}catch(e){o=i.body}r=o===e}i=t(),w.m.eb(i,n,"hasfocus",r,!0),e.__ko_hasfocusLastValue=r,e.__ko_hasfocusUpdating=!1}var i=r.bind(null,!0),o=r.bind(null,!1);w.a.B(e,"focus",i),w.a.B(e,"focusin",i),w.a.B(e,"blur",o),w.a.B(e,"focusout",o),e.__ko_hasfocusLastValue=!1},update:function(e,t){var n=!!w.a.f(t());e.__ko_hasfocusUpdating||e.__ko_hasfocusLastValue===n||(n?e.focus():e.blur(),!n&&e.__ko_hasfocusLastValue&&e.ownerDocument.body.focus(),w.u.G(w.a.Fb,null,[e,n?"focusin":"focusout"]))}},w.m.wa.hasfocus=!0,w.c.hasFocus=w.c.hasfocus,w.m.wa.hasFocus="hasfocus",w.c.html={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t){w.a.fc(e,t())}},function(){function e(e,t,n){w.c[e]={init:function(e,r,i,o,s){var a,c,u,l,h,d={};if(t){o=i.get("as");var f=i.get("noChildContext");d={as:o,noChildContext:f,exportDependencies:h=!(o&&f)}}return l=(u="render"==i.get("completeOn"))||i.has(w.i.pa),w.o((function(){var i,o=w.a.f(r()),f=!n!=!o,p=!c;(h||f!==a)&&(l&&(s=w.i.Cb(e,s)),f&&(t&&!h||(d.dataDependency=w.S.o()),i=t?s.createChildContext("function"==typeof o?o:r,d):w.S.qa()?s.extend(null,d):s),p&&w.S.qa()&&(c=w.a.Ca(w.h.childNodes(e),!0)),f?(p||w.h.va(e,w.a.Ca(c)),w.Oa(i,e)):(w.h.Ea(e),u||w.i.ma(e,w.i.H)),a=f)}),null,{l:e}),{controlsDescendantBindings:!0}}},w.m.Ra[e]=!1,w.h.ea[e]=!0}e("if"),e("ifnot",!1,!0),e("with",!0)}(),w.c.let={init:function(e,t,n,r,i){return t=i.extend(t),w.Oa(t,e),{controlsDescendantBindings:!0}}},w.h.ea.let=!0;var I={};w.c.options={init:function(e){if("select"!==w.a.R(e))throw Error("options binding applies only to SELECT elements");for(;0<e.length;)e.remove(0);return{controlsDescendantBindings:!0}},update:function(e,t,n){function r(){return w.a.jb(e.options,(function(e){return e.selected}))}function i(e,t,n){var r=typeof t;return"function"==r?t(e):"string"==r?e[t]:n}function o(t,n){if(p&&l)w.i.ma(e,w.i.H);else if(f.length){var r=0<=w.a.A(f,w.w.M(n[0]));w.a.Zc(n[0],r),p&&!r&&w.u.G(w.a.Fb,null,[e,"change"])}}var a=e.multiple,c=0!=e.length&&a?e.scrollTop:null,u=w.a.f(t()),l=n.get("valueAllowUnset")&&n.has("value"),h=n.get("optionsIncludeDestroyed");t={};var d,f=[];l||(a?f=w.a.Mb(r(),w.w.M):0<=e.selectedIndex&&f.push(w.w.M(e.options[e.selectedIndex]))),u&&(void 0===u.length&&(u=[u]),d=w.a.jb(u,(function(e){return h||e===s||null===e||!w.a.f(e._destroy)})),n.has("optionsCaption")&&null!==(u=w.a.f(n.get("optionsCaption")))&&u!==s&&d.unshift(I));var p=!1;t.beforeRemove=function(t){e.removeChild(t)},u=o,n.has("optionsAfterRender")&&"function"==typeof n.get("optionsAfterRender")&&(u=function(e,t){o(0,t),w.u.G(n.get("optionsAfterRender"),null,[t[0],e!==I?e:s])}),w.a.ec(e,d,(function(t,r,o){return o.length&&(f=!l&&o[0].selected?[w.w.M(o[0])]:[],p=!0),r=e.ownerDocument.createElement("option"),t===I?(w.a.Bb(r,n.get("optionsCaption")),w.w.cb(r,s)):(o=i(t,n.get("optionsValue"),t),w.w.cb(r,w.a.f(o)),t=i(t,n.get("optionsText"),o),w.a.Bb(r,t)),[r]}),t,u),l||(a?f.length&&r().length<f.length:f.length&&0<=e.selectedIndex?w.w.M(e.options[e.selectedIndex])!==f[0]:f.length||0<=e.selectedIndex)&&w.u.G(w.a.Fb,null,[e,"change"]),(l||w.S.Ya())&&w.i.ma(e,w.i.H),w.a.wd(e),c&&20<Math.abs(c-e.scrollTop)&&(e.scrollTop=c)}},w.c.options.$b=w.a.g.Z(),w.c.selectedOptions={init:function(e,t,n){function r(){var r=t(),i=[];w.a.D(e.getElementsByTagName("option"),(function(e){e.selected&&i.push(w.w.M(e))})),w.m.eb(r,n,"selectedOptions",i)}function i(){var n=w.a.f(t()),r=e.scrollTop;n&&"number"==typeof n.length&&w.a.D(e.getElementsByTagName("option"),(function(e){var t=0<=w.a.A(n,w.w.M(e));e.selected!=t&&w.a.Zc(e,t)})),e.scrollTop=r}if("select"!=w.a.R(e))throw Error("selectedOptions binding applies only to SELECT elements");var o;w.i.subscribe(e,w.i.H,(function(){o?r():(w.a.B(e,"change",r),o=w.o(i,null,{l:e}))}),null,{notifyImmediately:!0})},update:function(){}},w.m.wa.selectedOptions=!0,w.c.style={update:function(e,t){var n=w.a.f(t()||{});w.a.P(n,(function(t,n){if(null!==(n=w.a.f(n))&&n!==s&&!1!==n||(n=""),l)l(e).css(t,n);else if(/^--/.test(t))e.style.setProperty(t,n);else{t=t.replace(/-(\w)/g,(function(e,t){return t.toUpperCase()}));var r=e.style[t];e.style[t]=n,n===r||e.style[t]!=r||isNaN(n)||(e.style[t]=n+"px")}}))}},w.c.submit={init:function(e,t,n,r,i){if("function"!=typeof t())throw Error("The value for a submit binding must be a function");w.a.B(e,"submit",(function(n){var r,o=t();try{r=o.call(i.$data,e)}finally{!0!==r&&(n.preventDefault?n.preventDefault():n.returnValue=!1)}}))}},w.c.text={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t){w.a.Bb(e,t())}},w.h.ea.text=!0,function(){if(a&&a.navigator){var e,t,n,r,i,o=function(e){if(e)return parseFloat(e[1])},c=a.navigator.userAgent;(e=a.opera&&a.opera.version&&parseInt(a.opera.version()))||(i=o(c.match(/Edge\/([^ ]+)$/)))||o(c.match(/Chrome\/([^ ]+)/))||(t=o(c.match(/Version\/([^ ]+) Safari/)))||(n=o(c.match(/Firefox\/([^ ]+)/)))||(r=w.a.W||o(c.match(/MSIE ([^ ]+)/)))||(r=o(c.match(/rv:([^ )]+)/)))}if(8<=r&&10>r)var u=w.a.g.Z(),l=w.a.g.Z(),h=function(e){var t=this.activeElement;(t=t&&w.a.g.get(t,l))&&t(e)},d=function(e,t){var n=e.ownerDocument;w.a.g.get(n,u)||(w.a.g.set(n,u,!0),w.a.B(n,"selectionchange",h)),w.a.g.set(e,l,t)};w.c.textInput={init:function(o,a,c){function u(e,t){w.a.B(o,e,t)}function l(){f||(p=o.value,f=w.a.setTimeout(h,4))}function h(){clearTimeout(f),p=f=s;var e=o.value;m!==e&&(m=e,w.m.eb(a(),c,"textInput",e))}var f,p,m=o.value,g=9==w.a.W?l:h,v=!1;r&&u("keypress",h),11>r&&u("propertychange",(function(e){v||"value"!==e.propertyName||g(e)})),8==r&&(u("keyup",h),u("keydown",h)),d&&(d(o,g),u("dragend",l)),(!r||9<=r)&&u("input",g),5>t&&"textarea"===w.a.R(o)?(u("keydown",l),u("paste",l),u("cut",l)):11>e?u("keydown",l):4>n?(u("DOMAutoComplete",h),u("dragdrop",h),u("drop",h)):i&&"number"===o.type&&u("keydown",l),u("change",h),u("blur",h),w.o((function e(){var t=w.a.f(a());null!==t&&t!==s||(t=""),p!==s&&t===p?w.a.setTimeout(e,4):o.value!==t&&(v=!0,o.value=t,v=!1,m=o.value)}),null,{l:o})}},w.m.wa.textInput=!0,w.c.textinput={preprocess:function(e,t,n){n("textInput",e)}}}(),w.c.uniqueName={init:function(e,t){if(t()){var n="ko_unique_"+ ++w.c.uniqueName.rd;w.a.Yc(e,n)}}},w.c.uniqueName.rd=0,w.c.using={init:function(e,t,n,r,i){var o;return n.has("as")&&(o={as:n.get("as"),noChildContext:n.get("noChildContext")}),t=i.createChildContext(t,o),w.Oa(t,e),{controlsDescendantBindings:!0}}},w.h.ea.using=!0,w.c.value={init:function(e,t,n){var r=w.a.R(e),i="input"==r;if(!i||"checkbox"!=e.type&&"radio"!=e.type){var o=[],a=n.get("valueUpdate"),c=!1,u=null;a&&(o="string"==typeof a?[a]:w.a.wc(a),w.a.Pa(o,"change"));var l,h,d=function(){u=null,c=!1;var r=t(),i=w.w.M(e);w.m.eb(r,n,"value",i)};!w.a.W||!i||"text"!=e.type||"off"==e.autocomplete||e.form&&"off"==e.form.autocomplete||-1!=w.a.A(o,"propertychange")||(w.a.B(e,"propertychange",(function(){c=!0})),w.a.B(e,"focus",(function(){c=!1})),w.a.B(e,"blur",(function(){c&&d()}))),w.a.D(o,(function(t){var n=d;w.a.Ud(t,"after")&&(n=function(){u=w.w.M(e),w.a.setTimeout(d,0)},t=t.substring(5)),w.a.B(e,t,n)})),l=i&&"file"==e.type?function(){var n=w.a.f(t());null===n||n===s||""===n?e.value="":w.u.G(d)}:function(){var i=w.a.f(t()),o=w.w.M(e);null!==u&&i===u?w.a.setTimeout(l,0):i===o&&o!==s||("select"===r?(o=n.get("valueAllowUnset"),w.w.cb(e,i,o),o||i===w.w.M(e)||w.u.G(d)):w.w.cb(e,i))},"select"===r?w.i.subscribe(e,w.i.H,(function(){h?n.get("valueAllowUnset")?l():d():(w.a.B(e,"change",d),h=w.o(l,null,{l:e}))}),null,{notifyImmediately:!0}):(w.a.B(e,"change",d),w.o(l,null,{l:e}))}else w.ib(e,{checkedValue:t})},update:function(){}},w.m.wa.value=!0,w.c.visible={update:function(e,t){var n=w.a.f(t()),r="none"!=e.style.display;n&&!r?e.style.display="":!n&&r&&(e.style.display="none")}},w.c.hidden={update:function(e,t){w.c.visible.update(e,(function(){return!w.a.f(t())}))}},function(e){w.c[e]={init:function(t,n,r,i,o){return w.c.event.init.call(this,t,(function(){var t={};return t[e]=n(),t}),r,i,o)}}}("click"),w.ca=function(){},w.ca.prototype.renderTemplateSource=function(){throw Error("Override renderTemplateSource")},w.ca.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock")},w.ca.prototype.makeTemplateSource=function(e,t){if("string"==typeof e){var n=(t=t||c).getElementById(e);if(!n)throw Error("Cannot find template with ID "+e);return new w.C.F(n)}if(1==e.nodeType||8==e.nodeType)return new w.C.ia(e);throw Error("Unknown template type: "+e)},w.ca.prototype.renderTemplate=function(e,t,n,r){return e=this.makeTemplateSource(e,r),this.renderTemplateSource(e,t,n,r)},w.ca.prototype.isTemplateRewritten=function(e,t){return!1===this.allowTemplateRewriting||this.makeTemplateSource(e,t).data("isRewritten")},w.ca.prototype.rewriteTemplate=function(e,t,n){t=t((e=this.makeTemplateSource(e,n)).text()),e.text(t),e.data("isRewritten",!0)},w.b("templateEngine",w.ca),w.kc=function(){function e(e,t,n,r){e=w.m.ac(e);for(var i=w.m.Ra,o=0;o<e.length;o++){var s=e[o].key;if(Object.prototype.hasOwnProperty.call(i,s)){var a=i[s];if("function"==typeof a){if(s=a(e[o].value))throw Error(s)}else if(!a)throw Error("This template engine does not support the '"+s+"' binding within its templates")}}return n="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+w.m.vb(e,{valueAccessors:!0})+" } })()},'"+n.toLowerCase()+"')",r.createJavaScriptEvaluatorBlock(n)+t}var t=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,n=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{xd:function(e,t,n){t.isTemplateRewritten(e,n)||t.rewriteTemplate(e,(function(e){return w.kc.Ld(e,t)}),n)},Ld:function(r,i){return r.replace(t,(function(t,n,r,o,s){return e(s,n,r,i)})).replace(n,(function(t,n){return e(n,"\x3c!-- ko --\x3e","#comment",i)}))},md:function(e,t){return w.aa.Xb((function(n,r){var i=n.nextSibling;i&&i.nodeName.toLowerCase()===t&&w.ib(i,e,r)}))}}}(),w.b("__tr_ambtns",w.kc.md),function(){w.C={},w.C.F=function(e){if(this.F=e){var t=w.a.R(e);this.ab="script"===t?1:"textarea"===t?2:"template"==t&&e.content&&11===e.content.nodeType?3:4}},w.C.F.prototype.text=function(){var e=1===this.ab?"text":2===this.ab?"value":"innerHTML";if(0==arguments.length)return this.F[e];var t=arguments[0];"innerHTML"===e?w.a.fc(this.F,t):this.F[e]=t};var e=w.a.g.Z()+"_";w.C.F.prototype.data=function(t){if(1===arguments.length)return w.a.g.get(this.F,e+t);w.a.g.set(this.F,e+t,arguments[1])};var t=w.a.g.Z();w.C.F.prototype.nodes=function(){var e=this.F;if(0==arguments.length){var n=w.a.g.get(e,t)||{},r=n.lb||(3===this.ab?e.content:4===this.ab?e:s);if(!r||n.jd){var i=this.text();i&&i!==n.bb&&(r=w.a.Md(i,e.ownerDocument),w.a.g.set(e,t,{lb:r,bb:i,jd:!0}))}return r}n=arguments[0],this.ab!==s&&this.text(""),w.a.g.set(e,t,{lb:n})},w.C.ia=function(e){this.F=e},w.C.ia.prototype=new w.C.F,w.C.ia.prototype.constructor=w.C.ia,w.C.ia.prototype.text=function(){if(0==arguments.length){var e=w.a.g.get(this.F,t)||{};return e.bb===s&&e.lb&&(e.bb=e.lb.innerHTML),e.bb}w.a.g.set(this.F,t,{bb:arguments[0]})},w.b("templateSources",w.C),w.b("templateSources.domElement",w.C.F),w.b("templateSources.anonymousTemplate",w.C.ia)}(),function(){function e(e,t,n){var r;for(t=w.h.nextSibling(t);e&&(r=e)!==t;)n(r,e=w.h.nextSibling(r))}function t(t,n){if(t.length){var r=t[0],i=t[t.length-1],o=r.parentNode,s=w.ga.instance,a=s.preprocessNode;if(a){if(e(r,i,(function(e,t){var n=e.previousSibling,o=a.call(s,e);o&&(e===r&&(r=o[0]||t),e===i&&(i=o[o.length-1]||n))})),t.length=0,!r)return;r===i?t.push(r):(t.push(r,i),w.a.Ua(t,o))}e(r,i,(function(e){1!==e.nodeType&&8!==e.nodeType||w.vc(n,e)})),e(r,i,(function(e){1!==e.nodeType&&8!==e.nodeType||w.aa.cd(e,[n])})),w.a.Ua(t,o)}}function n(e){return e.nodeType?e:0<e.length?e[0]:null}function r(e,r,i,s,a){a=a||{};var c=(e&&n(e)||i||{}).ownerDocument,u=a.templateEngine||o;if(w.kc.xd(i,u,c),"number"!=typeof(i=u.renderTemplate(i,s,a,c)).length||0<i.length&&"number"!=typeof i[0].nodeType)throw Error("Template engine must return an array of DOM nodes");switch(c=!1,r){case"replaceChildren":w.h.va(e,i),c=!0;break;case"replaceNode":w.a.Xc(e,i),c=!0;break;case"ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+r)}return c&&(t(i,s),a.afterRender&&w.u.G(a.afterRender,null,[i,s[a.as||"$data"]]),"replaceChildren"==r&&w.i.ma(e,w.i.H)),i}function i(e,t,n){return w.O(e)?e():"function"==typeof e?e(t,n):e}var o;w.gc=function(e){if(e!=s&&!(e instanceof w.ca))throw Error("templateEngine must inherit from ko.templateEngine");o=e},w.dc=function(e,t,a,c,u){if(((a=a||{}).templateEngine||o)==s)throw Error("Set a template engine before calling renderTemplate");if(u=u||"replaceChildren",c){var l=n(c);return w.$((function(){var o=t&&t instanceof w.fa?t:new w.fa(t,null,null,null,{exportDependencies:!0}),s=i(e,o.$data,o);o=r(c,u,s,o,a),"replaceNode"==u&&(l=n(c=o))}),null,{Sa:function(){return!l||!w.a.Sb(l)},l:l&&"replaceNode"==u?l.parentNode:l})}return w.aa.Xb((function(n){w.dc(e,t,a,n,"replaceNode")}))},w.Qd=function(e,n,o,a,c){function u(e,t){w.u.G(w.a.ec,null,[a,e,h,o,l,t]),w.i.ma(a,w.i.H)}function l(e,n){t(n,d),o.afterRender&&o.afterRender(n,e),d=null}function h(t,n){d=c.createChildContext(t,{as:f,noChildContext:o.noChildContext,extend:function(e){e.$index=n,f&&(e[f+"Index"]=n)}});var s=i(e,t,d);return r(a,"ignoreTargetNode",s,d,o)}var d,f=o.as,p=!1===o.includeDestroyed||w.options.foreachHidesDestroyed&&!o.includeDestroyed;if(p||o.beforeRemove||!w.Pc(n))return w.$((function(){var e=w.a.f(n)||[];void 0===e.length&&(e=[e]),p&&(e=w.a.jb(e,(function(e){return e===s||null===e||!w.a.f(e._destroy)}))),u(e)}),null,{l:a});u(n.v());var m=n.subscribe((function(e){u(n(),e)}),null,"arrayChange");return m.l(a),m};var a=w.a.g.Z(),c=w.a.g.Z();w.c.template={init:function(e,t){var n=w.a.f(t());if("string"==typeof n||"name"in n)w.h.Ea(e);else if("nodes"in n){if(n=n.nodes||[],w.O(n))throw Error('The "nodes" option must be a plain, non-observable array.');var r=n[0]&&n[0].parentNode;r&&w.a.g.get(r,c)||(r=w.a.Yb(n),w.a.g.set(r,c,!0)),new w.C.ia(e).nodes(r)}else{if(!(0<(n=w.h.childNodes(e)).length))throw Error("Anonymous template defined, but no template content was provided");r=w.a.Yb(n),new w.C.ia(e).nodes(r)}return{controlsDescendantBindings:!0}},update:function(e,t,n,r,i){var o=t();n=!0,r=null,"string"==typeof(t=w.a.f(o))?t={}:(o="name"in t?t.name:e,"if"in t&&(n=w.a.f(t.if)),n&&"ifnot"in t&&(n=!w.a.f(t.ifnot)),n&&!o&&(n=!1)),"foreach"in t?r=w.Qd(o,n&&t.foreach||[],t,e,i):n?(n=i,"data"in t&&(n=i.createChildContext(t.data,{as:t.as,noChildContext:t.noChildContext,exportDependencies:!0})),r=w.dc(o,n,t,e)):w.h.Ea(e),i=r,(t=w.a.g.get(e,a))&&"function"==typeof t.s&&t.s(),w.a.g.set(e,a,!i||i.ja&&!i.ja()?s:i)}},w.m.Ra.template=function(e){return 1==(e=w.m.ac(e)).length&&e[0].unknown||w.m.Id(e,"name")?null:"This template engine does not support anonymous templates nested within its templates"},w.h.ea.template=!0}(),w.b("setTemplateEngine",w.gc),w.b("renderTemplate",w.dc),w.a.Kc=function(e,t,n){var r,i,o,s,a;if(e.length&&t.length)for(r=i=0;(!n||r<n)&&(s=e[i]);++i){for(o=0;a=t[o];++o)if(s.value===a.value){s.moved=a.index,a.moved=s.index,t.splice(o,1),r=o=0;break}r+=o}},w.a.Pb=function(){function e(e,t,n,r,i){var o,s,a,c,u,l=Math.min,h=Math.max,d=[],f=e.length,p=t.length,m=p-f||1,g=f+p+1;for(o=0;o<=f;o++)for(c=a,d.push(a=[]),u=l(p,o+m),s=h(0,o-1);s<=u;s++)a[s]=s?o?e[o-1]===t[s-1]?c[s-1]:l(c[s]||g,a[s-1]||g)+1:s+1:o+1;for(l=[],h=[],m=[],o=f,s=p;o||s;)p=d[o][s]-1,s&&p===d[o][s-1]?h.push(l[l.length]={status:n,value:t[--s],index:s}):o&&p===d[o-1][s]?m.push(l[l.length]={status:r,value:e[--o],index:o}):(--s,--o,i.sparse||l.push({status:"retained",value:t[s]}));return w.a.Kc(m,h,!i.dontLimitMoves&&10*f),l.reverse()}return function(t,n,r){return r="boolean"==typeof r?{dontLimitMoves:r}:r||{},n=n||[],(t=t||[]).length<n.length?e(t,n,"added","deleted",r):e(n,t,"deleted","added",r)}}(),w.b("utils.compareArrays",w.a.Pb),function(){function e(e,t,n,r,i){var o=[],a=w.$((function(){var s=t(n,i,w.a.Ua(o,e))||[];0<o.length&&(w.a.Xc(o,s),r&&w.u.G(r,null,[n,s,i])),o.length=0,w.a.Nb(o,s)}),null,{l:e,Sa:function(){return!w.a.kd(o)}});return{Y:o,$:a.ja()?a:s}}var t=w.a.g.Z(),n=w.a.g.Z();w.a.ec=function(r,i,o,a,c,u){function l(e){f={Aa:e,pb:w.ta(_++)},b.push(f),y||A.push(f)}function h(e){f=v[e],_!==f.pb.v()&&k.push(f),f.pb(_++),w.a.Ua(f.Y,r),b.push(f)}function d(e,t){if(e)for(var n=0,r=t.length;n<r;n++)w.a.D(t[n].Y,(function(r){e(r,n,t[n].Aa)}))}void 0===(i=i||[]).length&&(i=[i]),a=a||{};var f,p,m,g,v=w.a.g.get(r,t),y=!v,b=[],S=0,_=0,x=[],C=[],E=[],k=[],A=[],N=0;if(y)w.a.D(i,l);else{if(!u||v&&v._countWaitingForRemove){var T=w.a.Mb(v,(function(e){return e.Aa}));u=w.a.Pb(T,i,{dontLimitMoves:a.dontLimitMoves,sparse:!0})}var P,O,I;for(T=0;P=u[T];T++)switch(O=P.moved,I=P.index,P.status){case"deleted":for(;S<I;)h(S++);O===s&&((f=v[S]).$&&(f.$.s(),f.$=s),w.a.Ua(f.Y,r).length&&(a.beforeRemove&&(b.push(f),N++,f.Aa===n?f=null:E.push(f)),f&&x.push.apply(x,f.Y))),S++;break;case"added":for(;_<I;)h(S++);O!==s?(C.push(b.length),h(O)):l(P.value)}for(;_<i.length;)h(S++);b._countWaitingForRemove=N}w.a.g.set(r,t,b),d(a.beforeMove,k),w.a.D(x,a.beforeRemove?w.oa:w.removeNode);try{g=r.ownerDocument.activeElement}catch(e){}if(C.length)for(;(T=C.shift())!=s;){for(f=b[T],p=s;T;)if((m=b[--T].Y)&&m.length){p=m[m.length-1];break}for(i=0;S=f.Y[i];p=S,i++)w.h.Wb(r,S,p)}for(T=0;f=b[T];T++){for(f.Y||w.a.extend(f,e(r,o,f.Aa,c,f.pb)),i=0;S=f.Y[i];p=S,i++)w.h.Wb(r,S,p);!f.Ed&&c&&(c(f.Aa,f.Y,f.pb),f.Ed=!0,p=f.Y[f.Y.length-1])}for(g&&r.ownerDocument.activeElement!=g&&g.focus(),d(a.beforeRemove,E),T=0;T<E.length;++T)E[T].Aa=n;d(a.afterMove,k),d(a.afterAdd,A)}}(),w.b("utils.setDomNodeChildrenFromArrayMapping",w.a.ec),w.ba=function(){this.allowTemplateRewriting=!1},w.ba.prototype=new w.ca,w.ba.prototype.constructor=w.ba,w.ba.prototype.renderTemplateSource=function(e,t,n,r){return(t=9>w.a.W||!e.nodes?null:e.nodes())?w.a.la(t.cloneNode(!0).childNodes):(e=e.text(),w.a.ua(e,r))},w.ba.Ma=new w.ba,w.gc(w.ba.Ma),w.b("nativeTemplateEngine",w.ba),function(){w.$a=function(){var e=this.Hd=function(){if(!l||!l.tmpl)return 0;try{if(0<=l.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(e){}return 1}();this.renderTemplateSource=function(t,n,r,i){if(i=i||c,r=r||{},2>e)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var o=t.data("precompiled");return o||(o=t.text()||"",o=l.template(null,"{{ko_with $item.koBindingContext}}"+o+"{{/ko_with}}"),t.data("precompiled",o)),t=[n.$data],n=l.extend({koBindingContext:n},r.templateOptions),(n=l.tmpl(o,t,n)).appendTo(i.createElement("div")),l.fragments={},n},this.createJavaScriptEvaluatorBlock=function(e){return"{{ko_code ((function() { return "+e+" })()) }}"},this.addTemplate=function(e,t){c.write("<script type='text/html' id='"+e+"'>"+t+"<\/script>")},0<e&&(l.tmpl.tag.ko_code={open:"__.push($1 || '');"},l.tmpl.tag.ko_with={open:"with($1) {",close:"} "})},w.$a.prototype=new w.ca,w.$a.prototype.constructor=w.$a;var e=new w.$a;0<e.Hd&&w.gc(e),w.b("jqueryTmplTemplateEngine",w.$a)}()}))}()},1204:e=>{function t(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function n(e,t){e.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,t(null,e))}}e.exports=function(e,r,i){var o=document.head||document.getElementsByTagName("head")[0],s=document.createElement("script");"function"==typeof r&&(i=r,r={}),r=r||{},i=i||function(){},s.type=r.type||"text/javascript",s.charset=r.charset||"utf8",s.async=!("async"in r)||!!r.async,s.src=e,r.attrs&&function(e,t){for(var n in t)e.setAttribute(n,t[n])}(s,r.attrs),r.text&&(s.text=""+r.text),("onload"in s?t:n)(s,i),s.onload||t(s,i),o.appendChild(s)}},82545:(e,t,n)=>{var r=n(81822)(n(77400),"DataView");e.exports=r},96586:(e,t,n)=>{var r=n(57753),i=n(82452),o=n(22115),s=n(38256),a=n(67426);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=s,c.prototype.set=a,e.exports=c},36301:(e,t,n)=>{var r=n(69417),i=n(72470),o=n(66165),s=n(71873),a=n(52556);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=s,c.prototype.set=a,e.exports=c},44538:(e,t,n)=>{var r=n(81822)(n(77400),"Map");e.exports=r},74554:(e,t,n)=>{var r=n(39448),i=n(7738),o=n(66575),s=n(7238),a=n(38738);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=s,c.prototype.set=a,e.exports=c},64825:(e,t,n)=>{var r=n(81822)(n(77400),"Promise");e.exports=r},46151:(e,t,n)=>{var r=n(81822)(n(77400),"Set");e.exports=r},52485:(e,t,n)=>{var r=n(74554),i=n(38639),o=n(88379);function s(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}s.prototype.add=s.prototype.push=i,s.prototype.has=o,e.exports=s},23694:(e,t,n)=>{var r=n(36301),i=n(7354),o=n(5863),s=n(12367),a=n(90748),c=n(97569);function u(e){var t=this.__data__=new r(e);this.size=t.size}u.prototype.clear=i,u.prototype.delete=o,u.prototype.get=s,u.prototype.has=a,u.prototype.set=c,e.exports=u},96539:(e,t,n)=>{var r=n(77400).Symbol;e.exports=r},59942:(e,t,n)=>{var r=n(77400).Uint8Array;e.exports=r},66902:(e,t,n)=>{var r=n(81822)(n(77400),"WeakMap");e.exports=r},79349:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},80594:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},10263:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}},98213:(e,t,n)=>{var r=n(24701),i=n(2900),o=n(19785),s=n(43854),a=n(42383),c=n(48519),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),l=!n&&i(e),h=!n&&!l&&s(e),d=!n&&!l&&!h&&c(e),f=n||l||h||d,p=f?r(e.length,String):[],m=p.length;for(var g in e)!t&&!u.call(e,g)||f&&("length"==g||h&&("offset"==g||"parent"==g)||d&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||a(g,m))||p.push(g);return p}},66070:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},97141:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},90756:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},85630:e=>{e.exports=function(e){return e.split("")}},73140:(e,t,n)=>{var r=n(88799),i=n(85638);e.exports=function(e,t,n){(void 0!==n&&!i(e[t],n)||void 0===n&&!(t in e))&&r(e,t,n)}},71928:(e,t,n)=>{var r=n(88799),i=n(85638),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var s=e[t];o.call(e,t)&&i(s,n)&&(void 0!==n||t in e)||r(e,t,n)}},93382:(e,t,n)=>{var r=n(85638);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},41876:(e,t,n)=>{var r=n(35159),i=n(50098);e.exports=function(e,t){return e&&r(t,i(t),e)}},5947:(e,t,n)=>{var r=n(35159),i=n(53893);e.exports=function(e,t){return e&&r(t,i(t),e)}},88799:(e,t,n)=>{var r=n(42630);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},40699:(e,t,n)=>{var r=n(23694),i=n(80594),o=n(71928),s=n(41876),a=n(5947),c=n(2734),u=n(37561),l=n(31102),h=n(37048),d=n(51385),f=n(39759),p=n(3533),m=n(86541),g=n(2078),v=n(97635),y=n(19785),b=n(43854),w=n(98247),S=n(11611),_=n(47614),x=n(50098),C=n(53893),E="[object Arguments]",k="[object Function]",A="[object Object]",N={};N[E]=N["[object Array]"]=N["[object ArrayBuffer]"]=N["[object DataView]"]=N["[object Boolean]"]=N["[object Date]"]=N["[object Float32Array]"]=N["[object Float64Array]"]=N["[object Int8Array]"]=N["[object Int16Array]"]=N["[object Int32Array]"]=N["[object Map]"]=N["[object Number]"]=N[A]=N["[object RegExp]"]=N["[object Set]"]=N["[object String]"]=N["[object Symbol]"]=N["[object Uint8Array]"]=N["[object Uint8ClampedArray]"]=N["[object Uint16Array]"]=N["[object Uint32Array]"]=!0,N["[object Error]"]=N[k]=N["[object WeakMap]"]=!1,e.exports=function e(t,n,T,P,O,I){var R,L=1&n,M=2&n,D=4&n;if(T&&(R=O?T(t,P,O,I):T(t)),void 0!==R)return R;if(!S(t))return t;var j=y(t);if(j){if(R=m(t),!L)return u(t,R)}else{var F=p(t),B=F==k||"[object GeneratorFunction]"==F;if(b(t))return c(t,L);if(F==A||F==E||B&&!O){if(R=M||B?{}:v(t),!L)return M?h(t,a(R,t)):l(t,s(R,t))}else{if(!N[F])return O?t:{};R=g(t,F,L)}}I||(I=new r);var q=I.get(t);if(q)return q;I.set(t,R),_(t)?t.forEach((function(r){R.add(e(r,n,T,r,t,I))})):w(t)&&t.forEach((function(r,i){R.set(i,e(r,n,T,i,t,I))}));var U=j?void 0:(D?M?f:d:M?C:x)(t);return i(U||t,(function(r,i){U&&(r=t[i=r]),o(R,i,e(r,n,T,i,t,I))})),R}},80158:(e,t,n)=>{var r=n(11611),i=Object.create,o=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},95372:e=>{e.exports=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}},49819:(e,t,n)=>{var r=n(18911)();e.exports=r},11324:(e,t,n)=>{var r=n(97141),i=n(19785);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},99736:(e,t,n)=>{var r=n(96539),i=n(34840),o=n(21258),s=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?i(e):o(e)}},8817:(e,t,n)=>{var r=n(95372),i=n(1129),o=n(58263);e.exports=function(e,t,n){return t==t?o(e,t,n):r(e,i,n)}},55829:(e,t,n)=>{var r=n(99736),i=n(92360);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},32866:(e,t,n)=>{var r=n(12772),i=n(92360);e.exports=function e(t,n,o,s,a){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!=t&&n!=n:r(t,n,o,s,e,a))}},12772:(e,t,n)=>{var r=n(23694),i=n(27042),o=n(370),s=n(39584),a=n(3533),c=n(19785),u=n(43854),l=n(48519),h="[object Arguments]",d="[object Array]",f="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,g,v){var y=c(e),b=c(t),w=y?d:a(e),S=b?d:a(t),_=(w=w==h?f:w)==f,x=(S=S==h?f:S)==f,C=w==S;if(C&&u(e)){if(!u(t))return!1;y=!0,_=!1}if(C&&!_)return v||(v=new r),y||l(e)?i(e,t,n,m,g,v):o(e,t,w,n,m,g,v);if(!(1&n)){var E=_&&p.call(e,"__wrapped__"),k=x&&p.call(t,"__wrapped__");if(E||k){var A=E?e.value():e,N=k?t.value():t;return v||(v=new r),g(A,N,n,m,v)}}return!!C&&(v||(v=new r),s(e,t,n,m,g,v))}},57657:(e,t,n)=>{var r=n(3533),i=n(92360);e.exports=function(e){return i(e)&&"[object Map]"==r(e)}},1129:e=>{e.exports=function(e){return e!=e}},46729:(e,t,n)=>{var r=n(28338),i=n(99678),o=n(11611),s=n(76532),a=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,l=c.toString,h=u.hasOwnProperty,d=RegExp("^"+l.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?d:a).test(s(e))}},26903:(e,t,n)=>{var r=n(3533),i=n(92360);e.exports=function(e){return i(e)&&"[object Set]"==r(e)}},26972:(e,t,n)=>{var r=n(99736),i=n(84194),o=n(92360),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!s[r(e)]}},20186:(e,t,n)=>{var r=n(56016),i=n(50962),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},59464:(e,t,n)=>{var r=n(11611),i=n(56016),o=n(21586),s=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=i(e),n=[];for(var a in e)("constructor"!=a||!t&&s.call(e,a))&&n.push(a);return n}},40015:(e,t,n)=>{var r=n(23694),i=n(73140),o=n(49819),s=n(68867),a=n(11611),c=n(53893),u=n(97494);e.exports=function e(t,n,l,h,d){t!==n&&o(n,(function(o,c){if(d||(d=new r),a(o))s(t,n,c,l,e,h,d);else{var f=h?h(u(t,c),o,c+"",t,n,d):void 0;void 0===f&&(f=o),i(t,c,f)}}),c)}},68867:(e,t,n)=>{var r=n(73140),i=n(2734),o=n(63428),s=n(37561),a=n(97635),c=n(2900),u=n(19785),l=n(36468),h=n(43854),d=n(28338),f=n(11611),p=n(40861),m=n(48519),g=n(97494),v=n(89328);e.exports=function(e,t,n,y,b,w,S){var _=g(e,n),x=g(t,n),C=S.get(x);if(C)r(e,n,C);else{var E=w?w(_,x,n+"",e,t,S):void 0,k=void 0===E;if(k){var A=u(x),N=!A&&h(x),T=!A&&!N&&m(x);E=x,A||N||T?u(_)?E=_:l(_)?E=s(_):N?(k=!1,E=i(x,!0)):T?(k=!1,E=o(x,!0)):E=[]:p(x)||c(x)?(E=_,c(_)?E=v(_):f(_)&&!d(_)||(E=a(x))):k=!1}k&&(S.set(x,E),b(E,x,y,w,S),S.delete(x)),r(e,n,E)}}},1197:(e,t,n)=>{var r=n(31137),i=n(11871),o=n(63132);e.exports=function(e,t){return o(i(e,t,r),e+"")}},54459:(e,t,n)=>{var r=n(551),i=n(42630),o=n(31137),s=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=s},75733:e=>{e.exports=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}},24701:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},34282:(e,t,n)=>{var r=n(96539),i=n(66070),o=n(19785),s=n(55193),a=r?r.prototype:void 0,c=a?a.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(s(t))return c?c.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n}},74833:(e,t,n)=>{var r=n(56127),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},39334:e=>{e.exports=function(e){return function(t){return e(t)}}},65581:e=>{e.exports=function(e,t){return e.has(t)}},39158:(e,t,n)=>{var r=n(75733);e.exports=function(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:r(e,t,n)}},24159:(e,t,n)=>{var r=n(8817);e.exports=function(e,t){for(var n=e.length;n--&&r(t,e[n],0)>-1;);return n}},63574:(e,t,n)=>{var r=n(8817);e.exports=function(e,t){for(var n=-1,i=e.length;++n<i&&r(t,e[n],0)>-1;);return n}},95825:(e,t,n)=>{var r=n(59942);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},2734:(e,t,n)=>{e=n.nmd(e);var r=n(77400),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,s=o&&o.exports===i?r.Buffer:void 0,a=s?s.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=a?a(n):new e.constructor(n);return e.copy(r),r}},61859:(e,t,n)=>{var r=n(95825);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},9377:e=>{var t=/\w*$/;e.exports=function(e){var n=new e.constructor(e.source,t.exec(e));return n.lastIndex=e.lastIndex,n}},24116:(e,t,n)=>{var r=n(96539),i=r?r.prototype:void 0,o=i?i.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},63428:(e,t,n)=>{var r=n(95825);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},37561:e=>{e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},35159:(e,t,n)=>{var r=n(71928),i=n(88799);e.exports=function(e,t,n,o){var s=!n;n||(n={});for(var a=-1,c=t.length;++a<c;){var u=t[a],l=o?o(n[u],e[u],u,n,e):void 0;void 0===l&&(l=e[u]),s?i(n,u,l):r(n,u,l)}return n}},31102:(e,t,n)=>{var r=n(35159),i=n(83080);e.exports=function(e,t){return r(e,i(e),t)}},37048:(e,t,n)=>{var r=n(35159),i=n(30791);e.exports=function(e,t){return r(e,i(e),t)}},64937:(e,t,n)=>{var r=n(77400)["__core-js_shared__"];e.exports=r},7270:(e,t,n)=>{var r=n(1197),i=n(57535);e.exports=function(e){return r((function(t,n){var r=-1,o=n.length,s=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(s=e.length>3&&"function"==typeof s?(o--,s):void 0,a&&i(n[0],n[1],a)&&(s=o<3?void 0:s,o=1),t=Object(t);++r<o;){var c=n[r];c&&e(t,c,r,s)}return t}))}},18911:e=>{e.exports=function(e){return function(t,n,r){for(var i=-1,o=Object(t),s=r(t),a=s.length;a--;){var c=s[e?a:++i];if(!1===n(o[c],c,o))break}return t}}},62690:(e,t,n)=>{var r=n(39158),i=n(25348),o=n(63528),s=n(65567);e.exports=function(e){return function(t){t=s(t);var n=i(t)?o(t):void 0,a=n?n[0]:t.charAt(0),c=n?r(n,1).join(""):t.slice(1);return a[e]()+c}}},42630:(e,t,n)=>{var r=n(81822),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},27042:(e,t,n)=>{var r=n(52485),i=n(90756),o=n(65581);e.exports=function(e,t,n,s,a,c){var u=1&n,l=e.length,h=t.length;if(l!=h&&!(u&&h>l))return!1;var d=c.get(e),f=c.get(t);if(d&&f)return d==t&&f==e;var p=-1,m=!0,g=2&n?new r:void 0;for(c.set(e,t),c.set(t,e);++p<l;){var v=e[p],y=t[p];if(s)var b=u?s(y,v,p,t,e,c):s(v,y,p,e,t,c);if(void 0!==b){if(b)continue;m=!1;break}if(g){if(!i(t,(function(e,t){if(!o(g,t)&&(v===e||a(v,e,n,s,c)))return g.push(t)}))){m=!1;break}}else if(v!==y&&!a(v,y,n,s,c)){m=!1;break}}return c.delete(e),c.delete(t),m}},370:(e,t,n)=>{var r=n(96539),i=n(59942),o=n(85638),s=n(27042),a=n(19383),c=n(43735),u=r?r.prototype:void 0,l=u?u.valueOf:void 0;e.exports=function(e,t,n,r,u,h,d){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!h(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var f=a;case"[object Set]":var p=1&r;if(f||(f=c),e.size!=t.size&&!p)return!1;var m=d.get(e);if(m)return m==t;r|=2,d.set(e,t);var g=s(f(e),f(t),r,u,h,d);return d.delete(e),g;case"[object Symbol]":if(l)return l.call(e)==l.call(t)}return!1}},39584:(e,t,n)=>{var r=n(51385),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,s,a){var c=1&n,u=r(e),l=u.length;if(l!=r(t).length&&!c)return!1;for(var h=l;h--;){var d=u[h];if(!(c?d in t:i.call(t,d)))return!1}var f=a.get(e),p=a.get(t);if(f&&p)return f==t&&p==e;var m=!0;a.set(e,t),a.set(t,e);for(var g=c;++h<l;){var v=e[d=u[h]],y=t[d];if(o)var b=c?o(y,v,d,t,e,a):o(v,y,d,e,t,a);if(!(void 0===b?v===y||s(v,y,n,o,a):b)){m=!1;break}g||(g="constructor"==d)}if(m&&!g){var w=e.constructor,S=t.constructor;w==S||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof S&&S instanceof S||(m=!1)}return a.delete(e),a.delete(t),m}},39120:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},51385:(e,t,n)=>{var r=n(11324),i=n(83080),o=n(50098);e.exports=function(e){return r(e,o,i)}},39759:(e,t,n)=>{var r=n(11324),i=n(30791),o=n(53893);e.exports=function(e){return r(e,o,i)}},95899:(e,t,n)=>{var r=n(54479);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},81822:(e,t,n)=>{var r=n(46729),i=n(15371);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},2173:(e,t,n)=>{var r=n(58023)(Object.getPrototypeOf,Object);e.exports=r},34840:(e,t,n)=>{var r=n(96539),i=Object.prototype,o=i.hasOwnProperty,s=i.toString,a=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,a),n=e[a];try{e[a]=void 0;var r=!0}catch(e){}var i=s.call(e);return r&&(t?e[a]=n:delete e[a]),i}},83080:(e,t,n)=>{var r=n(10263),i=n(15937),o=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,a=s?function(e){return null==e?[]:(e=Object(e),r(s(e),(function(t){return o.call(e,t)})))}:i;e.exports=a},30791:(e,t,n)=>{var r=n(97141),i=n(2173),o=n(83080),s=n(15937),a=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,o(e)),e=i(e);return t}:s;e.exports=a},3533:(e,t,n)=>{var r=n(82545),i=n(44538),o=n(64825),s=n(46151),a=n(66902),c=n(99736),u=n(76532),l="[object Map]",h="[object Promise]",d="[object Set]",f="[object WeakMap]",p="[object DataView]",m=u(r),g=u(i),v=u(o),y=u(s),b=u(a),w=c;(r&&w(new r(new ArrayBuffer(1)))!=p||i&&w(new i)!=l||o&&w(o.resolve())!=h||s&&w(new s)!=d||a&&w(new a)!=f)&&(w=function(e){var t=c(e),n="[object Object]"==t?e.constructor:void 0,r=n?u(n):"";if(r)switch(r){case m:return p;case g:return l;case v:return h;case y:return d;case b:return f}return t}),e.exports=w},15371:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},25348:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},57753:(e,t,n)=>{var r=n(35718);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},82452:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},22115:(e,t,n)=>{var r=n(35718),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},38256:(e,t,n)=>{var r=n(35718),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},67426:(e,t,n)=>{var r=n(35718);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},86541:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var n=e.length,r=new e.constructor(n);return n&&"string"==typeof e[0]&&t.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},2078:(e,t,n)=>{var r=n(95825),i=n(61859),o=n(9377),s=n(24116),a=n(63428);e.exports=function(e,t,n){var c=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new c(+e);case"[object DataView]":return i(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return a(e,n);case"[object Map]":case"[object Set]":return new c;case"[object Number]":case"[object String]":return new c(e);case"[object RegExp]":return o(e);case"[object Symbol]":return s(e)}}},97635:(e,t,n)=>{var r=n(80158),i=n(2173),o=n(56016);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:r(i(e))}},42383:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},57535:(e,t,n)=>{var r=n(85638),i=n(80068),o=n(42383),s=n(11611);e.exports=function(e,t,n){if(!s(n))return!1;var a=typeof t;return!!("number"==a?i(n)&&o(t,n.length):"string"==a&&t in n)&&r(n[t],e)}},54479:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},99678:(e,t,n)=>{var r,i=n(64937),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!o&&o in e}},56016:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},69417:e=>{e.exports=function(){this.__data__=[],this.size=0}},72470:(e,t,n)=>{var r=n(93382),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():i.call(t,n,1),--this.size,0))}},66165:(e,t,n)=>{var r=n(93382);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},71873:(e,t,n)=>{var r=n(93382);e.exports=function(e){return r(this.__data__,e)>-1}},52556:(e,t,n)=>{var r=n(93382);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},39448:(e,t,n)=>{var r=n(96586),i=n(36301),o=n(44538);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},7738:(e,t,n)=>{var r=n(95899);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},66575:(e,t,n)=>{var r=n(95899);e.exports=function(e){return r(this,e).get(e)}},7238:(e,t,n)=>{var r=n(95899);e.exports=function(e){return r(this,e).has(e)}},38738:(e,t,n)=>{var r=n(95899);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},19383:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},35718:(e,t,n)=>{var r=n(81822)(Object,"create");e.exports=r},50962:(e,t,n)=>{var r=n(58023)(Object.keys,Object);e.exports=r},21586:e=>{e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},18125:(e,t,n)=>{e=n.nmd(e);var r=n(39120),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,s=o&&o.exports===i&&r.process,a=function(){try{return o&&o.require&&o.require("util").types||s&&s.binding&&s.binding("util")}catch(e){}}();e.exports=a},21258:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},58023:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},11871:(e,t,n)=>{var r=n(79349),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,s=-1,a=i(o.length-t,0),c=Array(a);++s<a;)c[s]=o[t+s];s=-1;for(var u=Array(t+1);++s<t;)u[s]=o[s];return u[t]=n(c),r(e,this,u)}}},77400:(e,t,n)=>{var r=n(39120),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},97494:e=>{e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},38639:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},88379:e=>{e.exports=function(e){return this.__data__.has(e)}},43735:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},63132:(e,t,n)=>{var r=n(54459),i=n(49591)(r);e.exports=i},49591:e=>{var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var i=t(),o=16-(i-r);if(r=i,o>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},7354:(e,t,n)=>{var r=n(36301);e.exports=function(){this.__data__=new r,this.size=0}},5863:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},12367:e=>{e.exports=function(e){return this.__data__.get(e)}},90748:e=>{e.exports=function(e){return this.__data__.has(e)}},97569:(e,t,n)=>{var r=n(36301),i=n(44538),o=n(74554);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!i||s.length<199)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(s)}return n.set(e,t),this.size=n.size,this}},58263:e=>{e.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}},63528:(e,t,n)=>{var r=n(85630),i=n(25348),o=n(84890);e.exports=function(e){return i(e)?o(e):r(e)}},76532:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},56127:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},84890:e=>{var t="\\ud800-\\udfff",n="["+t+"]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",o="[^"+t+"]",s="(?:\\ud83c[\\udde6-\\uddff]){2}",a="[\\ud800-\\udbff][\\udc00-\\udfff]",c="(?:"+r+"|"+i+")?",u="[\\ufe0e\\ufe0f]?",l=u+c+"(?:\\u200d(?:"+[o,s,a].join("|")+")"+u+c+")*",h="(?:"+[o+r+"?",r,s,a,n].join("|")+")",d=RegExp(i+"(?="+i+")|"+h+l,"g");e.exports=function(e){return e.match(d)||[]}},30454:(e,t,n)=>{var r=n(40699);e.exports=function(e){return r(e,5)}},551:e=>{e.exports=function(e){return function(){return e}}},85638:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},31137:e=>{e.exports=function(e){return e}},2900:(e,t,n)=>{var r=n(55829),i=n(92360),o=Object.prototype,s=o.hasOwnProperty,a=o.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(e){return i(e)&&s.call(e,"callee")&&!a.call(e,"callee")};e.exports=c},19785:e=>{var t=Array.isArray;e.exports=t},80068:(e,t,n)=>{var r=n(28338),i=n(84194);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},36468:(e,t,n)=>{var r=n(80068),i=n(92360);e.exports=function(e){return i(e)&&r(e)}},43854:(e,t,n)=>{e=n.nmd(e);var r=n(77400),i=n(57714),o=t&&!t.nodeType&&t,s=o&&e&&!e.nodeType&&e,a=s&&s.exports===o?r.Buffer:void 0,c=(a?a.isBuffer:void 0)||i;e.exports=c},90104:(e,t,n)=>{var r=n(20186),i=n(3533),o=n(2900),s=n(19785),a=n(80068),c=n(43854),u=n(56016),l=n(48519),h=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(a(e)&&(s(e)||"string"==typeof e||"function"==typeof e.splice||c(e)||l(e)||o(e)))return!e.length;var t=i(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(u(e))return!r(e).length;for(var n in e)if(h.call(e,n))return!1;return!0}},56141:(e,t,n)=>{var r=n(32866);e.exports=function(e,t){return r(e,t)}},28338:(e,t,n)=>{var r=n(99736),i=n(11611);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},84194:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},98247:(e,t,n)=>{var r=n(57657),i=n(39334),o=n(18125),s=o&&o.isMap,a=s?i(s):r;e.exports=a},11611:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},92360:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},40861:(e,t,n)=>{var r=n(99736),i=n(2173),o=n(92360),s=Function.prototype,a=Object.prototype,c=s.toString,u=a.hasOwnProperty,l=c.call(Object);e.exports=function(e){if(!o(e)||"[object Object]"!=r(e))return!1;var t=i(e);if(null===t)return!0;var n=u.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==l}},47614:(e,t,n)=>{var r=n(26903),i=n(39334),o=n(18125),s=o&&o.isSet,a=s?i(s):r;e.exports=a},55193:(e,t,n)=>{var r=n(99736),i=n(92360);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},48519:(e,t,n)=>{var r=n(26972),i=n(39334),o=n(18125),s=o&&o.isTypedArray,a=s?i(s):r;e.exports=a},50098:(e,t,n)=>{var r=n(98213),i=n(20186),o=n(80068);e.exports=function(e){return o(e)?r(e):i(e)}},53893:(e,t,n)=>{var r=n(98213),i=n(59464),o=n(80068);e.exports=function(e){return o(e)?r(e,!0):i(e)}},98784:function(e,t,n){var r;e=n.nmd(e),function(){var i,o="Expected a function",s="__lodash_hash_undefined__",a="__lodash_placeholder__",c=32,u=128,l=1/0,h=9007199254740991,d=NaN,f=4294967295,p=[["ary",u],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",c],["partialRight",64],["rearg",256]],m="[object Arguments]",g="[object Array]",v="[object Boolean]",y="[object Date]",b="[object Error]",w="[object Function]",S="[object GeneratorFunction]",_="[object Map]",x="[object Number]",C="[object Object]",E="[object Promise]",k="[object RegExp]",A="[object Set]",N="[object String]",T="[object Symbol]",P="[object WeakMap]",O="[object ArrayBuffer]",I="[object DataView]",R="[object Float32Array]",L="[object Float64Array]",M="[object Int8Array]",D="[object Int16Array]",j="[object Int32Array]",F="[object Uint8Array]",B="[object Uint8ClampedArray]",q="[object Uint16Array]",U="[object Uint32Array]",z=/\b__p \+= '';/g,$=/\b(__p \+=) '' \+/g,H=/(__e\(.*?\)|\b__t\)) \+\n'';/g,G=/&(?:amp|lt|gt|quot|#39);/g,V=/[&<>"']/g,W=RegExp(G.source),K=RegExp(V.source),Z=/<%-([\s\S]+?)%>/g,Y=/<%([\s\S]+?)%>/g,J=/<%=([\s\S]+?)%>/g,Q=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,X=/^\w*$/,ee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,te=/[\\^$.*+?()[\]{}|]/g,ne=RegExp(te.source),re=/^\s+/,ie=/\s/,oe=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,se=/\{\n\/\* \[wrapped with (.+)\] \*/,ae=/,? & /,ce=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ue=/[()=,{}\[\]\/\s]/,le=/\\(\\)?/g,he=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,de=/\w*$/,fe=/^[-+]0x[0-9a-f]+$/i,pe=/^0b[01]+$/i,me=/^\[object .+?Constructor\]$/,ge=/^0o[0-7]+$/i,ve=/^(?:0|[1-9]\d*)$/,ye=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,be=/($^)/,we=/['\n\r\u2028\u2029\\]/g,Se="\\ud800-\\udfff",_e="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",xe="\\u2700-\\u27bf",Ce="a-z\\xdf-\\xf6\\xf8-\\xff",Ee="A-Z\\xc0-\\xd6\\xd8-\\xde",ke="\\ufe0e\\ufe0f",Ae="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ne="["+Se+"]",Te="["+Ae+"]",Pe="["+_e+"]",Oe="\\d+",Ie="["+xe+"]",Re="["+Ce+"]",Le="[^"+Se+Ae+Oe+xe+Ce+Ee+"]",Me="\\ud83c[\\udffb-\\udfff]",De="[^"+Se+"]",je="(?:\\ud83c[\\udde6-\\uddff]){2}",Fe="[\\ud800-\\udbff][\\udc00-\\udfff]",Be="["+Ee+"]",qe="\\u200d",Ue="(?:"+Re+"|"+Le+")",ze="(?:"+Be+"|"+Le+")",$e="(?:['’](?:d|ll|m|re|s|t|ve))?",He="(?:['’](?:D|LL|M|RE|S|T|VE))?",Ge="(?:"+Pe+"|"+Me+")?",Ve="["+ke+"]?",We=Ve+Ge+"(?:"+qe+"(?:"+[De,je,Fe].join("|")+")"+Ve+Ge+")*",Ke="(?:"+[Ie,je,Fe].join("|")+")"+We,Ze="(?:"+[De+Pe+"?",Pe,je,Fe,Ne].join("|")+")",Ye=RegExp("['’]","g"),Je=RegExp(Pe,"g"),Qe=RegExp(Me+"(?="+Me+")|"+Ze+We,"g"),Xe=RegExp([Be+"?"+Re+"+"+$e+"(?="+[Te,Be,"$"].join("|")+")",ze+"+"+He+"(?="+[Te,Be+Ue,"$"].join("|")+")",Be+"?"+Ue+"+"+$e,Be+"+"+He,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Oe,Ke].join("|"),"g"),et=RegExp("["+qe+Se+_e+ke+"]"),tt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,nt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],rt=-1,it={};it[R]=it[L]=it[M]=it[D]=it[j]=it[F]=it[B]=it[q]=it[U]=!0,it[m]=it[g]=it[O]=it[v]=it[I]=it[y]=it[b]=it[w]=it[_]=it[x]=it[C]=it[k]=it[A]=it[N]=it[P]=!1;var ot={};ot[m]=ot[g]=ot[O]=ot[I]=ot[v]=ot[y]=ot[R]=ot[L]=ot[M]=ot[D]=ot[j]=ot[_]=ot[x]=ot[C]=ot[k]=ot[A]=ot[N]=ot[T]=ot[F]=ot[B]=ot[q]=ot[U]=!0,ot[b]=ot[w]=ot[P]=!1;var st={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},at=parseFloat,ct=parseInt,ut="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,lt="object"==typeof self&&self&&self.Object===Object&&self,ht=ut||lt||Function("return this")(),dt=t&&!t.nodeType&&t,ft=dt&&e&&!e.nodeType&&e,pt=ft&&ft.exports===dt,mt=pt&&ut.process,gt=function(){try{return ft&&ft.require&&ft.require("util").types||mt&&mt.binding&&mt.binding("util")}catch(e){}}(),vt=gt&&gt.isArrayBuffer,yt=gt&&gt.isDate,bt=gt&&gt.isMap,wt=gt&&gt.isRegExp,St=gt&&gt.isSet,_t=gt&&gt.isTypedArray;function xt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Ct(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var s=e[i];t(r,s,n(s),e)}return r}function Et(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function kt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function At(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Nt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}function Tt(e,t){return!(null==e||!e.length)&&Bt(e,t,0)>-1}function Pt(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Ot(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function It(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Rt(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function Lt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Mt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Dt=$t("length");function jt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function Ft(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function Bt(e,t,n){return t==t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):Ft(e,Ut,n)}function qt(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function Ut(e){return e!=e}function zt(e,t){var n=null==e?0:e.length;return n?Vt(e,t)/n:d}function $t(e){return function(t){return null==t?i:t[e]}}function Ht(e){return function(t){return null==e?i:e[t]}}function Gt(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function Vt(e,t){for(var n,r=-1,o=e.length;++r<o;){var s=t(e[r]);s!==i&&(n=n===i?s:n+s)}return n}function Wt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Kt(e){return e?e.slice(0,dn(e)+1).replace(re,""):e}function Zt(e){return function(t){return e(t)}}function Yt(e,t){return Ot(t,(function(t){return e[t]}))}function Jt(e,t){return e.has(t)}function Qt(e,t){for(var n=-1,r=e.length;++n<r&&Bt(t,e[n],0)>-1;);return n}function Xt(e,t){for(var n=e.length;n--&&Bt(t,e[n],0)>-1;);return n}var en=Ht({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),tn=Ht({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function nn(e){return"\\"+st[e]}function rn(e){return et.test(e)}function on(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function sn(e,t){return function(n){return e(t(n))}}function an(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n];s!==t&&s!==a||(e[n]=a,o[i++]=n)}return o}function cn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function un(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function ln(e){return rn(e)?function(e){for(var t=Qe.lastIndex=0;Qe.test(e);)++t;return t}(e):Dt(e)}function hn(e){return rn(e)?function(e){return e.match(Qe)||[]}(e):function(e){return e.split("")}(e)}function dn(e){for(var t=e.length;t--&&ie.test(e.charAt(t)););return t}var fn=Ht({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),pn=function e(t){var n,r=(t=null==t?ht:pn.defaults(ht.Object(),t,pn.pick(ht,nt))).Array,ie=t.Date,Se=t.Error,_e=t.Function,xe=t.Math,Ce=t.Object,Ee=t.RegExp,ke=t.String,Ae=t.TypeError,Ne=r.prototype,Te=_e.prototype,Pe=Ce.prototype,Oe=t["__core-js_shared__"],Ie=Te.toString,Re=Pe.hasOwnProperty,Le=0,Me=(n=/[^.]+$/.exec(Oe&&Oe.keys&&Oe.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",De=Pe.toString,je=Ie.call(Ce),Fe=ht._,Be=Ee("^"+Ie.call(Re).replace(te,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),qe=pt?t.Buffer:i,Ue=t.Symbol,ze=t.Uint8Array,$e=qe?qe.allocUnsafe:i,He=sn(Ce.getPrototypeOf,Ce),Ge=Ce.create,Ve=Pe.propertyIsEnumerable,We=Ne.splice,Ke=Ue?Ue.isConcatSpreadable:i,Ze=Ue?Ue.iterator:i,Qe=Ue?Ue.toStringTag:i,et=function(){try{var e=co(Ce,"defineProperty");return e({},"",{}),e}catch(e){}}(),st=t.clearTimeout!==ht.clearTimeout&&t.clearTimeout,ut=ie&&ie.now!==ht.Date.now&&ie.now,lt=t.setTimeout!==ht.setTimeout&&t.setTimeout,dt=xe.ceil,ft=xe.floor,mt=Ce.getOwnPropertySymbols,gt=qe?qe.isBuffer:i,Dt=t.isFinite,Ht=Ne.join,mn=sn(Ce.keys,Ce),gn=xe.max,vn=xe.min,yn=ie.now,bn=t.parseInt,wn=xe.random,Sn=Ne.reverse,_n=co(t,"DataView"),xn=co(t,"Map"),Cn=co(t,"Promise"),En=co(t,"Set"),kn=co(t,"WeakMap"),An=co(Ce,"create"),Nn=kn&&new kn,Tn={},Pn=Mo(_n),On=Mo(xn),In=Mo(Cn),Rn=Mo(En),Ln=Mo(kn),Mn=Ue?Ue.prototype:i,Dn=Mn?Mn.valueOf:i,jn=Mn?Mn.toString:i;function Fn(e){if(Qs(e)&&!Us(e)&&!(e instanceof zn)){if(e instanceof Un)return e;if(Re.call(e,"__wrapped__"))return Do(e)}return new Un(e)}var Bn=function(){function e(){}return function(t){if(!Js(t))return{};if(Ge)return Ge(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function qn(){}function Un(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function zn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=f,this.__views__=[]}function $n(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Hn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Vn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Gn;++t<n;)this.add(e[t])}function Wn(e){var t=this.__data__=new Hn(e);this.size=t.size}function Kn(e,t){var n=Us(e),r=!n&&qs(e),i=!n&&!r&&Gs(e),o=!n&&!r&&!i&&sa(e),s=n||r||i||o,a=s?Wt(e.length,ke):[],c=a.length;for(var u in e)!t&&!Re.call(e,u)||s&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||go(u,c))||a.push(u);return a}function Zn(e){var t=e.length;return t?e[Gr(0,t-1)]:i}function Yn(e,t){return Io(ki(e),or(t,0,e.length))}function Jn(e){return Io(ki(e))}function Qn(e,t,n){(n!==i&&!js(e[t],n)||n===i&&!(t in e))&&rr(e,t,n)}function Xn(e,t,n){var r=e[t];Re.call(e,t)&&js(r,n)&&(n!==i||t in e)||rr(e,t,n)}function er(e,t){for(var n=e.length;n--;)if(js(e[n][0],t))return n;return-1}function tr(e,t,n,r){return lr(e,(function(e,i,o){t(r,e,n(e),o)})),r}function nr(e,t){return e&&Ai(t,Na(t),e)}function rr(e,t,n){"__proto__"==t&&et?et(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function ir(e,t){for(var n=-1,o=t.length,s=r(o),a=null==e;++n<o;)s[n]=a?i:xa(e,t[n]);return s}function or(e,t,n){return e==e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function sr(e,t,n,r,o,s){var a,c=1&t,u=2&t,l=4&t;if(n&&(a=o?n(e,r,o,s):n(e)),a!==i)return a;if(!Js(e))return e;var h=Us(e);if(h){if(a=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Re.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!c)return ki(e,a)}else{var d=ho(e),f=d==w||d==S;if(Gs(e))return wi(e,c);if(d==C||d==m||f&&!o){if(a=u||f?{}:po(e),!c)return u?function(e,t){return Ai(e,lo(e),t)}(e,function(e,t){return e&&Ai(t,Ta(t),e)}(a,e)):function(e,t){return Ai(e,uo(e),t)}(e,nr(a,e))}else{if(!ot[d])return o?e:{};a=function(e,t,n){var r,i=e.constructor;switch(t){case O:return Si(e);case v:case y:return new i(+e);case I:return function(e,t){var n=t?Si(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case R:case L:case M:case D:case j:case F:case B:case q:case U:return _i(e,n);case _:return new i;case x:case N:return new i(e);case k:return function(e){var t=new e.constructor(e.source,de.exec(e));return t.lastIndex=e.lastIndex,t}(e);case A:return new i;case T:return r=e,Dn?Ce(Dn.call(r)):{}}}(e,d,c)}}s||(s=new Wn);var p=s.get(e);if(p)return p;s.set(e,a),ra(e)?e.forEach((function(r){a.add(sr(r,t,n,r,e,s))})):Xs(e)&&e.forEach((function(r,i){a.set(i,sr(r,t,n,i,e,s))}));var g=h?i:(l?u?to:eo:u?Ta:Na)(e);return Et(g||e,(function(r,i){g&&(r=e[i=r]),Xn(a,i,sr(r,t,n,i,e,s))})),a}function ar(e,t,n){var r=n.length;if(null==e)return!r;for(e=Ce(e);r--;){var o=n[r],s=t[o],a=e[o];if(a===i&&!(o in e)||!s(a))return!1}return!0}function cr(e,t,n){if("function"!=typeof e)throw new Ae(o);return No((function(){e.apply(i,n)}),t)}function ur(e,t,n,r){var i=-1,o=Tt,s=!0,a=e.length,c=[],u=t.length;if(!a)return c;n&&(t=Ot(t,Zt(n))),r?(o=Pt,s=!1):t.length>=200&&(o=Jt,s=!1,t=new Vn(t));e:for(;++i<a;){var l=e[i],h=null==n?l:n(l);if(l=r||0!==l?l:0,s&&h==h){for(var d=u;d--;)if(t[d]===h)continue e;c.push(l)}else o(t,h,r)||c.push(l)}return c}Fn.templateSettings={escape:Z,evaluate:Y,interpolate:J,variable:"",imports:{_:Fn}},Fn.prototype=qn.prototype,Fn.prototype.constructor=Fn,Un.prototype=Bn(qn.prototype),Un.prototype.constructor=Un,zn.prototype=Bn(qn.prototype),zn.prototype.constructor=zn,$n.prototype.clear=function(){this.__data__=An?An(null):{},this.size=0},$n.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},$n.prototype.get=function(e){var t=this.__data__;if(An){var n=t[e];return n===s?i:n}return Re.call(t,e)?t[e]:i},$n.prototype.has=function(e){var t=this.__data__;return An?t[e]!==i:Re.call(t,e)},$n.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=An&&t===i?s:t,this},Hn.prototype.clear=function(){this.__data__=[],this.size=0},Hn.prototype.delete=function(e){var t=this.__data__,n=er(t,e);return!(n<0||(n==t.length-1?t.pop():We.call(t,n,1),--this.size,0))},Hn.prototype.get=function(e){var t=this.__data__,n=er(t,e);return n<0?i:t[n][1]},Hn.prototype.has=function(e){return er(this.__data__,e)>-1},Hn.prototype.set=function(e,t){var n=this.__data__,r=er(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Gn.prototype.clear=function(){this.size=0,this.__data__={hash:new $n,map:new(xn||Hn),string:new $n}},Gn.prototype.delete=function(e){var t=so(this,e).delete(e);return this.size-=t?1:0,t},Gn.prototype.get=function(e){return so(this,e).get(e)},Gn.prototype.has=function(e){return so(this,e).has(e)},Gn.prototype.set=function(e,t){var n=so(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Vn.prototype.add=Vn.prototype.push=function(e){return this.__data__.set(e,s),this},Vn.prototype.has=function(e){return this.__data__.has(e)},Wn.prototype.clear=function(){this.__data__=new Hn,this.size=0},Wn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Wn.prototype.get=function(e){return this.__data__.get(e)},Wn.prototype.has=function(e){return this.__data__.has(e)},Wn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Hn){var r=n.__data__;if(!xn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Gn(r)}return n.set(e,t),this.size=n.size,this};var lr=Pi(yr),hr=Pi(br,!0);function dr(e,t){var n=!0;return lr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function fr(e,t,n){for(var r=-1,o=e.length;++r<o;){var s=e[r],a=t(s);if(null!=a&&(c===i?a==a&&!oa(a):n(a,c)))var c=a,u=s}return u}function pr(e,t){var n=[];return lr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function mr(e,t,n,r,i){var o=-1,s=e.length;for(n||(n=mo),i||(i=[]);++o<s;){var a=e[o];t>0&&n(a)?t>1?mr(a,t-1,n,r,i):It(i,a):r||(i[i.length]=a)}return i}var gr=Oi(),vr=Oi(!0);function yr(e,t){return e&&gr(e,t,Na)}function br(e,t){return e&&vr(e,t,Na)}function wr(e,t){return Nt(t,(function(t){return Ks(e[t])}))}function Sr(e,t){for(var n=0,r=(t=gi(t,e)).length;null!=e&&n<r;)e=e[Lo(t[n++])];return n&&n==r?e:i}function _r(e,t,n){var r=t(e);return Us(e)?r:It(r,n(e))}function xr(e){return null==e?e===i?"[object Undefined]":"[object Null]":Qe&&Qe in Ce(e)?function(e){var t=Re.call(e,Qe),n=e[Qe];try{e[Qe]=i;var r=!0}catch(e){}var o=De.call(e);return r&&(t?e[Qe]=n:delete e[Qe]),o}(e):function(e){return De.call(e)}(e)}function Cr(e,t){return e>t}function Er(e,t){return null!=e&&Re.call(e,t)}function kr(e,t){return null!=e&&t in Ce(e)}function Ar(e,t,n){for(var o=n?Pt:Tt,s=e[0].length,a=e.length,c=a,u=r(a),l=1/0,h=[];c--;){var d=e[c];c&&t&&(d=Ot(d,Zt(t))),l=vn(d.length,l),u[c]=!n&&(t||s>=120&&d.length>=120)?new Vn(c&&d):i}d=e[0];var f=-1,p=u[0];e:for(;++f<s&&h.length<l;){var m=d[f],g=t?t(m):m;if(m=n||0!==m?m:0,!(p?Jt(p,g):o(h,g,n))){for(c=a;--c;){var v=u[c];if(!(v?Jt(v,g):o(e[c],g,n)))continue e}p&&p.push(g),h.push(m)}}return h}function Nr(e,t,n){var r=null==(e=Eo(e,t=gi(t,e)))?e:e[Lo(Wo(t))];return null==r?i:xt(r,e,n)}function Tr(e){return Qs(e)&&xr(e)==m}function Pr(e,t,n,r,o){return e===t||(null==e||null==t||!Qs(e)&&!Qs(t)?e!=e&&t!=t:function(e,t,n,r,o,s){var a=Us(e),c=Us(t),u=a?g:ho(e),l=c?g:ho(t),h=(u=u==m?C:u)==C,d=(l=l==m?C:l)==C,f=u==l;if(f&&Gs(e)){if(!Gs(t))return!1;a=!0,h=!1}if(f&&!h)return s||(s=new Wn),a||sa(e)?Qi(e,t,n,r,o,s):function(e,t,n,r,i,o,s){switch(n){case I:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case O:return!(e.byteLength!=t.byteLength||!o(new ze(e),new ze(t)));case v:case y:case x:return js(+e,+t);case b:return e.name==t.name&&e.message==t.message;case k:case N:return e==t+"";case _:var a=on;case A:var c=1&r;if(a||(a=cn),e.size!=t.size&&!c)return!1;var u=s.get(e);if(u)return u==t;r|=2,s.set(e,t);var l=Qi(a(e),a(t),r,i,o,s);return s.delete(e),l;case T:if(Dn)return Dn.call(e)==Dn.call(t)}return!1}(e,t,u,n,r,o,s);if(!(1&n)){var p=h&&Re.call(e,"__wrapped__"),w=d&&Re.call(t,"__wrapped__");if(p||w){var S=p?e.value():e,E=w?t.value():t;return s||(s=new Wn),o(S,E,n,r,s)}}return!!f&&(s||(s=new Wn),function(e,t,n,r,o,s){var a=1&n,c=eo(e),u=c.length;if(u!=eo(t).length&&!a)return!1;for(var l=u;l--;){var h=c[l];if(!(a?h in t:Re.call(t,h)))return!1}var d=s.get(e),f=s.get(t);if(d&&f)return d==t&&f==e;var p=!0;s.set(e,t),s.set(t,e);for(var m=a;++l<u;){var g=e[h=c[l]],v=t[h];if(r)var y=a?r(v,g,h,t,e,s):r(g,v,h,e,t,s);if(!(y===i?g===v||o(g,v,n,r,s):y)){p=!1;break}m||(m="constructor"==h)}if(p&&!m){var b=e.constructor,w=t.constructor;b==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(p=!1)}return s.delete(e),s.delete(t),p}(e,t,n,r,o,s))}(e,t,n,r,Pr,o))}function Or(e,t,n,r){var o=n.length,s=o,a=!r;if(null==e)return!s;for(e=Ce(e);o--;){var c=n[o];if(a&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<s;){var u=(c=n[o])[0],l=e[u],h=c[1];if(a&&c[2]){if(l===i&&!(u in e))return!1}else{var d=new Wn;if(r)var f=r(l,h,u,e,t,d);if(!(f===i?Pr(h,l,3,r,d):f))return!1}}return!0}function Ir(e){return!(!Js(e)||(t=e,Me&&Me in t))&&(Ks(e)?Be:me).test(Mo(e));var t}function Rr(e){return"function"==typeof e?e:null==e?ec:"object"==typeof e?Us(e)?Fr(e[0],e[1]):jr(e):uc(e)}function Lr(e){if(!So(e))return mn(e);var t=[];for(var n in Ce(e))Re.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Mr(e,t){return e<t}function Dr(e,t){var n=-1,i=$s(e)?r(e.length):[];return lr(e,(function(e,r,o){i[++n]=t(e,r,o)})),i}function jr(e){var t=ao(e);return 1==t.length&&t[0][2]?xo(t[0][0],t[0][1]):function(n){return n===e||Or(n,e,t)}}function Fr(e,t){return yo(e)&&_o(t)?xo(Lo(e),t):function(n){var r=xa(n,e);return r===i&&r===t?Ca(n,e):Pr(t,r,3)}}function Br(e,t,n,r,o){e!==t&&gr(t,(function(s,a){if(o||(o=new Wn),Js(s))!function(e,t,n,r,o,s,a){var c=ko(e,n),u=ko(t,n),l=a.get(u);if(l)Qn(e,n,l);else{var h=s?s(c,u,n+"",e,t,a):i,d=h===i;if(d){var f=Us(u),p=!f&&Gs(u),m=!f&&!p&&sa(u);h=u,f||p||m?Us(c)?h=c:Hs(c)?h=ki(c):p?(d=!1,h=wi(u,!0)):m?(d=!1,h=_i(u,!0)):h=[]:ta(u)||qs(u)?(h=c,qs(c)?h=pa(c):Js(c)&&!Ks(c)||(h=po(u))):d=!1}d&&(a.set(u,h),o(h,u,r,s,a),a.delete(u)),Qn(e,n,h)}}(e,t,a,n,Br,r,o);else{var c=r?r(ko(e,a),s,a+"",e,t,o):i;c===i&&(c=s),Qn(e,a,c)}}),Ta)}function qr(e,t){var n=e.length;if(n)return go(t+=t<0?n:0,n)?e[t]:i}function Ur(e,t,n){t=t.length?Ot(t,(function(e){return Us(e)?function(t){return Sr(t,1===e.length?e[0]:e)}:e})):[ec];var r=-1;t=Ot(t,Zt(oo()));var i=Dr(e,(function(e,n,i){var o=Ot(t,(function(t){return t(e)}));return{criteria:o,index:++r,value:e}}));return function(e,t){var r=e.length;for(e.sort((function(e,t){return function(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,s=i.length,a=n.length;++r<s;){var c=xi(i[r],o[r]);if(c)return r>=a?c:c*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}));r--;)e[r]=e[r].value;return e}(i)}function zr(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var s=t[r],a=Sr(e,s);n(a,s)&&Yr(o,gi(s,e),a)}return o}function $r(e,t,n,r){var i=r?qt:Bt,o=-1,s=t.length,a=e;for(e===t&&(t=ki(t)),n&&(a=Ot(e,Zt(n)));++o<s;)for(var c=0,u=t[o],l=n?n(u):u;(c=i(a,l,c,r))>-1;)a!==e&&We.call(a,c,1),We.call(e,c,1);return e}function Hr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;go(i)?We.call(e,i,1):ci(e,i)}}return e}function Gr(e,t){return e+ft(wn()*(t-e+1))}function Vr(e,t){var n="";if(!e||t<1||t>h)return n;do{t%2&&(n+=e),(t=ft(t/2))&&(e+=e)}while(t);return n}function Wr(e,t){return To(Co(e,t,ec),e+"")}function Kr(e){return Zn(ja(e))}function Zr(e,t){var n=ja(e);return Io(n,or(t,0,n.length))}function Yr(e,t,n,r){if(!Js(e))return e;for(var o=-1,s=(t=gi(t,e)).length,a=s-1,c=e;null!=c&&++o<s;){var u=Lo(t[o]),l=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(o!=a){var h=c[u];(l=r?r(h,u,c):i)===i&&(l=Js(h)?h:go(t[o+1])?[]:{})}Xn(c,u,l),c=c[u]}return e}var Jr=Nn?function(e,t){return Nn.set(e,t),e}:ec,Qr=et?function(e,t){return et(e,"toString",{configurable:!0,enumerable:!1,value:Ja(t),writable:!0})}:ec;function Xr(e){return Io(ja(e))}function ei(e,t,n){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var s=r(o);++i<o;)s[i]=e[i+t];return s}function ti(e,t){var n;return lr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function ni(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,s=e[o];null!==s&&!oa(s)&&(n?s<=t:s<t)?r=o+1:i=o}return i}return ri(e,t,ec,n)}function ri(e,t,n,r){var o=0,s=null==e?0:e.length;if(0===s)return 0;for(var a=(t=n(t))!=t,c=null===t,u=oa(t),l=t===i;o<s;){var h=ft((o+s)/2),d=n(e[h]),f=d!==i,p=null===d,m=d==d,g=oa(d);if(a)var v=r||m;else v=l?m&&(r||f):c?m&&f&&(r||!p):u?m&&f&&!p&&(r||!g):!p&&!g&&(r?d<=t:d<t);v?o=h+1:s=h}return vn(s,4294967294)}function ii(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n],a=t?t(s):s;if(!n||!js(a,c)){var c=a;o[i++]=0===s?0:s}}return o}function oi(e){return"number"==typeof e?e:oa(e)?d:+e}function si(e){if("string"==typeof e)return e;if(Us(e))return Ot(e,si)+"";if(oa(e))return jn?jn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ai(e,t,n){var r=-1,i=Tt,o=e.length,s=!0,a=[],c=a;if(n)s=!1,i=Pt;else if(o>=200){var u=t?null:Vi(e);if(u)return cn(u);s=!1,i=Jt,c=new Vn}else c=t?[]:a;e:for(;++r<o;){var l=e[r],h=t?t(l):l;if(l=n||0!==l?l:0,s&&h==h){for(var d=c.length;d--;)if(c[d]===h)continue e;t&&c.push(h),a.push(l)}else i(c,h,n)||(c!==a&&c.push(h),a.push(l))}return a}function ci(e,t){return null==(e=Eo(e,t=gi(t,e)))||delete e[Lo(Wo(t))]}function ui(e,t,n,r){return Yr(e,t,n(Sr(e,t)),r)}function li(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?ei(e,r?0:o,r?o+1:i):ei(e,r?o+1:0,r?i:o)}function hi(e,t){var n=e;return n instanceof zn&&(n=n.value()),Rt(t,(function(e,t){return t.func.apply(t.thisArg,It([e],t.args))}),n)}function di(e,t,n){var i=e.length;if(i<2)return i?ai(e[0]):[];for(var o=-1,s=r(i);++o<i;)for(var a=e[o],c=-1;++c<i;)c!=o&&(s[o]=ur(s[o]||a,e[c],t,n));return ai(mr(s,1),t,n)}function fi(e,t,n){for(var r=-1,o=e.length,s=t.length,a={};++r<o;){var c=r<s?t[r]:i;n(a,e[r],c)}return a}function pi(e){return Hs(e)?e:[]}function mi(e){return"function"==typeof e?e:ec}function gi(e,t){return Us(e)?e:yo(e,t)?[e]:Ro(ma(e))}var vi=Wr;function yi(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:ei(e,t,n)}var bi=st||function(e){return ht.clearTimeout(e)};function wi(e,t){if(t)return e.slice();var n=e.length,r=$e?$e(n):new e.constructor(n);return e.copy(r),r}function Si(e){var t=new e.constructor(e.byteLength);return new ze(t).set(new ze(e)),t}function _i(e,t){var n=t?Si(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function xi(e,t){if(e!==t){var n=e!==i,r=null===e,o=e==e,s=oa(e),a=t!==i,c=null===t,u=t==t,l=oa(t);if(!c&&!l&&!s&&e>t||s&&a&&u&&!c&&!l||r&&a&&u||!n&&u||!o)return 1;if(!r&&!s&&!l&&e<t||l&&n&&o&&!r&&!s||c&&n&&o||!a&&o||!u)return-1}return 0}function Ci(e,t,n,i){for(var o=-1,s=e.length,a=n.length,c=-1,u=t.length,l=gn(s-a,0),h=r(u+l),d=!i;++c<u;)h[c]=t[c];for(;++o<a;)(d||o<s)&&(h[n[o]]=e[o]);for(;l--;)h[c++]=e[o++];return h}function Ei(e,t,n,i){for(var o=-1,s=e.length,a=-1,c=n.length,u=-1,l=t.length,h=gn(s-c,0),d=r(h+l),f=!i;++o<h;)d[o]=e[o];for(var p=o;++u<l;)d[p+u]=t[u];for(;++a<c;)(f||o<s)&&(d[p+n[a]]=e[o++]);return d}function ki(e,t){var n=-1,i=e.length;for(t||(t=r(i));++n<i;)t[n]=e[n];return t}function Ai(e,t,n,r){var o=!n;n||(n={});for(var s=-1,a=t.length;++s<a;){var c=t[s],u=r?r(n[c],e[c],c,n,e):i;u===i&&(u=e[c]),o?rr(n,c,u):Xn(n,c,u)}return n}function Ni(e,t){return function(n,r){var i=Us(n)?Ct:tr,o=t?t():{};return i(n,e,oo(r,2),o)}}function Ti(e){return Wr((function(t,n){var r=-1,o=n.length,s=o>1?n[o-1]:i,a=o>2?n[2]:i;for(s=e.length>3&&"function"==typeof s?(o--,s):i,a&&vo(n[0],n[1],a)&&(s=o<3?i:s,o=1),t=Ce(t);++r<o;){var c=n[r];c&&e(t,c,r,s)}return t}))}function Pi(e,t){return function(n,r){if(null==n)return n;if(!$s(n))return e(n,r);for(var i=n.length,o=t?i:-1,s=Ce(n);(t?o--:++o<i)&&!1!==r(s[o],o,s););return n}}function Oi(e){return function(t,n,r){for(var i=-1,o=Ce(t),s=r(t),a=s.length;a--;){var c=s[e?a:++i];if(!1===n(o[c],c,o))break}return t}}function Ii(e){return function(t){var n=rn(t=ma(t))?hn(t):i,r=n?n[0]:t.charAt(0),o=n?yi(n,1).join(""):t.slice(1);return r[e]()+o}}function Ri(e){return function(t){return Rt(Ka(qa(t).replace(Ye,"")),e,"")}}function Li(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Bn(e.prototype),r=e.apply(n,t);return Js(r)?r:n}}function Mi(e){return function(t,n,r){var o=Ce(t);if(!$s(t)){var s=oo(n,3);t=Na(t),n=function(e){return s(o[e],e,o)}}var a=e(t,n,r);return a>-1?o[s?t[a]:a]:i}}function Di(e){return Xi((function(t){var n=t.length,r=n,s=Un.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if("function"!=typeof a)throw new Ae(o);if(s&&!c&&"wrapper"==ro(a))var c=new Un([],!0)}for(r=c?r:n;++r<n;){var u=ro(a=t[r]),l="wrapper"==u?no(a):i;c=l&&bo(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?c[ro(l[0])].apply(c,l[3]):1==a.length&&bo(a)?c[u]():c.thru(a)}return function(){var e=arguments,r=e[0];if(c&&1==e.length&&Us(r))return c.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}}))}function ji(e,t,n,o,s,a,c,l,h,d){var f=t&u,p=1&t,m=2&t,g=24&t,v=512&t,y=m?i:Li(e);return function u(){for(var b=arguments.length,w=r(b),S=b;S--;)w[S]=arguments[S];if(g)var _=io(u),x=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(w,_);if(o&&(w=Ci(w,o,s,g)),a&&(w=Ei(w,a,c,g)),b-=x,g&&b<d){var C=an(w,_);return Hi(e,t,ji,u.placeholder,n,w,C,l,h,d-b)}var E=p?n:this,k=m?E[e]:e;return b=w.length,l?w=function(e,t){for(var n=e.length,r=vn(t.length,n),o=ki(e);r--;){var s=t[r];e[r]=go(s,n)?o[s]:i}return e}(w,l):v&&b>1&&w.reverse(),f&&h<b&&(w.length=h),this&&this!==ht&&this instanceof u&&(k=y||Li(k)),k.apply(E,w)}}function Fi(e,t){return function(n,r){return function(e,t,n,r){return yr(e,(function(e,i,o){t(r,n(e),i,o)})),r}(n,e,t(r),{})}}function Bi(e,t){return function(n,r){var o;if(n===i&&r===i)return t;if(n!==i&&(o=n),r!==i){if(o===i)return r;"string"==typeof n||"string"==typeof r?(n=si(n),r=si(r)):(n=oi(n),r=oi(r)),o=e(n,r)}return o}}function qi(e){return Xi((function(t){return t=Ot(t,Zt(oo())),Wr((function(n){var r=this;return e(t,(function(e){return xt(e,r,n)}))}))}))}function Ui(e,t){var n=(t=t===i?" ":si(t)).length;if(n<2)return n?Vr(t,e):t;var r=Vr(t,dt(e/ln(t)));return rn(t)?yi(hn(r),0,e).join(""):r.slice(0,e)}function zi(e){return function(t,n,o){return o&&"number"!=typeof o&&vo(t,n,o)&&(n=o=i),t=la(t),n===i?(n=t,t=0):n=la(n),function(e,t,n,i){for(var o=-1,s=gn(dt((t-e)/(n||1)),0),a=r(s);s--;)a[i?s:++o]=e,e+=n;return a}(t,n,o=o===i?t<n?1:-1:la(o),e)}}function $i(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=fa(t),n=fa(n)),e(t,n)}}function Hi(e,t,n,r,o,s,a,u,l,h){var d=8&t;t|=d?c:64,4&(t&=~(d?64:c))||(t&=-4);var f=[e,t,o,d?s:i,d?a:i,d?i:s,d?i:a,u,l,h],p=n.apply(i,f);return bo(e)&&Ao(p,f),p.placeholder=r,Po(p,e,t)}function Gi(e){var t=xe[e];return function(e,n){if(e=fa(e),(n=null==n?0:vn(ha(n),292))&&Dt(e)){var r=(ma(e)+"e").split("e");return+((r=(ma(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Vi=En&&1/cn(new En([,-0]))[1]==l?function(e){return new En(e)}:oc;function Wi(e){return function(t){var n=ho(t);return n==_?on(t):n==A?un(t):function(e,t){return Ot(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Ki(e,t,n,s,l,h,d,f){var p=2&t;if(!p&&"function"!=typeof e)throw new Ae(o);var m=s?s.length:0;if(m||(t&=-97,s=l=i),d=d===i?d:gn(ha(d),0),f=f===i?f:ha(f),m-=l?l.length:0,64&t){var g=s,v=l;s=l=i}var y=p?i:no(e),b=[e,t,n,s,l,g,v,h,d,f];if(y&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<131,s=r==u&&8==n||r==u&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!o&&!s)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var c=t[3];if(c){var l=e[3];e[3]=l?Ci(l,c,t[4]):c,e[4]=l?an(e[3],a):t[4]}(c=t[5])&&(l=e[5],e[5]=l?Ei(l,c,t[6]):c,e[6]=l?an(e[5],a):t[6]),(c=t[7])&&(e[7]=c),r&u&&(e[8]=null==e[8]?t[8]:vn(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(b,y),e=b[0],t=b[1],n=b[2],s=b[3],l=b[4],!(f=b[9]=b[9]===i?p?0:e.length:gn(b[9]-m,0))&&24&t&&(t&=-25),t&&1!=t)w=8==t||16==t?function(e,t,n){var o=Li(e);return function s(){for(var a=arguments.length,c=r(a),u=a,l=io(s);u--;)c[u]=arguments[u];var h=a<3&&c[0]!==l&&c[a-1]!==l?[]:an(c,l);return(a-=h.length)<n?Hi(e,t,ji,s.placeholder,i,c,h,i,i,n-a):xt(this&&this!==ht&&this instanceof s?o:e,this,c)}}(e,t,f):t!=c&&33!=t||l.length?ji.apply(i,b):function(e,t,n,i){var o=1&t,s=Li(e);return function t(){for(var a=-1,c=arguments.length,u=-1,l=i.length,h=r(l+c),d=this&&this!==ht&&this instanceof t?s:e;++u<l;)h[u]=i[u];for(;c--;)h[u++]=arguments[++a];return xt(d,o?n:this,h)}}(e,t,n,s);else var w=function(e,t,n){var r=1&t,i=Li(e);return function t(){return(this&&this!==ht&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,n);return Po((y?Jr:Ao)(w,b),e,t)}function Zi(e,t,n,r){return e===i||js(e,Pe[n])&&!Re.call(r,n)?t:e}function Yi(e,t,n,r,o,s){return Js(e)&&Js(t)&&(s.set(t,e),Br(e,t,i,Yi,s),s.delete(t)),e}function Ji(e){return ta(e)?i:e}function Qi(e,t,n,r,o,s){var a=1&n,c=e.length,u=t.length;if(c!=u&&!(a&&u>c))return!1;var l=s.get(e),h=s.get(t);if(l&&h)return l==t&&h==e;var d=-1,f=!0,p=2&n?new Vn:i;for(s.set(e,t),s.set(t,e);++d<c;){var m=e[d],g=t[d];if(r)var v=a?r(g,m,d,t,e,s):r(m,g,d,e,t,s);if(v!==i){if(v)continue;f=!1;break}if(p){if(!Mt(t,(function(e,t){if(!Jt(p,t)&&(m===e||o(m,e,n,r,s)))return p.push(t)}))){f=!1;break}}else if(m!==g&&!o(m,g,n,r,s)){f=!1;break}}return s.delete(e),s.delete(t),f}function Xi(e){return To(Co(e,i,zo),e+"")}function eo(e){return _r(e,Na,uo)}function to(e){return _r(e,Ta,lo)}var no=Nn?function(e){return Nn.get(e)}:oc;function ro(e){for(var t=e.name+"",n=Tn[t],r=Re.call(Tn,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function io(e){return(Re.call(Fn,"placeholder")?Fn:e).placeholder}function oo(){var e=Fn.iteratee||tc;return e=e===tc?Rr:e,arguments.length?e(arguments[0],arguments[1]):e}function so(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function ao(e){for(var t=Na(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,_o(i)]}return t}function co(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return Ir(n)?n:i}var uo=mt?function(e){return null==e?[]:(e=Ce(e),Nt(mt(e),(function(t){return Ve.call(e,t)})))}:dc,lo=mt?function(e){for(var t=[];e;)It(t,uo(e)),e=He(e);return t}:dc,ho=xr;function fo(e,t,n){for(var r=-1,i=(t=gi(t,e)).length,o=!1;++r<i;){var s=Lo(t[r]);if(!(o=null!=e&&n(e,s)))break;e=e[s]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&Ys(i)&&go(s,i)&&(Us(e)||qs(e))}function po(e){return"function"!=typeof e.constructor||So(e)?{}:Bn(He(e))}function mo(e){return Us(e)||qs(e)||!!(Ke&&e&&e[Ke])}function go(e,t){var n=typeof e;return!!(t=null==t?h:t)&&("number"==n||"symbol"!=n&&ve.test(e))&&e>-1&&e%1==0&&e<t}function vo(e,t,n){if(!Js(n))return!1;var r=typeof t;return!!("number"==r?$s(n)&&go(t,n.length):"string"==r&&t in n)&&js(n[t],e)}function yo(e,t){if(Us(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!oa(e))||X.test(e)||!Q.test(e)||null!=t&&e in Ce(t)}function bo(e){var t=ro(e),n=Fn[t];if("function"!=typeof n||!(t in zn.prototype))return!1;if(e===n)return!0;var r=no(n);return!!r&&e===r[0]}(_n&&ho(new _n(new ArrayBuffer(1)))!=I||xn&&ho(new xn)!=_||Cn&&ho(Cn.resolve())!=E||En&&ho(new En)!=A||kn&&ho(new kn)!=P)&&(ho=function(e){var t=xr(e),n=t==C?e.constructor:i,r=n?Mo(n):"";if(r)switch(r){case Pn:return I;case On:return _;case In:return E;case Rn:return A;case Ln:return P}return t});var wo=Oe?Ks:fc;function So(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Pe)}function _o(e){return e==e&&!Js(e)}function xo(e,t){return function(n){return null!=n&&n[e]===t&&(t!==i||e in Ce(n))}}function Co(e,t,n){return t=gn(t===i?e.length-1:t,0),function(){for(var i=arguments,o=-1,s=gn(i.length-t,0),a=r(s);++o<s;)a[o]=i[t+o];o=-1;for(var c=r(t+1);++o<t;)c[o]=i[o];return c[t]=n(a),xt(e,this,c)}}function Eo(e,t){return t.length<2?e:Sr(e,ei(t,0,-1))}function ko(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Ao=Oo(Jr),No=lt||function(e,t){return ht.setTimeout(e,t)},To=Oo(Qr);function Po(e,t,n){var r=t+"";return To(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(oe,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Et(p,(function(n){var r="_."+n[0];t&n[1]&&!Tt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(se);return t?t[1].split(ae):[]}(r),n)))}function Oo(e){var t=0,n=0;return function(){var r=yn(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Io(e,t){var n=-1,r=e.length,o=r-1;for(t=t===i?r:t;++n<t;){var s=Gr(n,o),a=e[s];e[s]=e[n],e[n]=a}return e.length=t,e}var Ro=function(e){var t=Os((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ee,(function(e,n,r,i){t.push(r?i.replace(le,"$1"):n||e)})),t}),(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}();function Lo(e){if("string"==typeof e||oa(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Mo(e){if(null!=e){try{return Ie.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Do(e){if(e instanceof zn)return e.clone();var t=new Un(e.__wrapped__,e.__chain__);return t.__actions__=ki(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var jo=Wr((function(e,t){return Hs(e)?ur(e,mr(t,1,Hs,!0)):[]})),Fo=Wr((function(e,t){var n=Wo(t);return Hs(n)&&(n=i),Hs(e)?ur(e,mr(t,1,Hs,!0),oo(n,2)):[]})),Bo=Wr((function(e,t){var n=Wo(t);return Hs(n)&&(n=i),Hs(e)?ur(e,mr(t,1,Hs,!0),i,n):[]}));function qo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ha(n);return i<0&&(i=gn(r+i,0)),Ft(e,oo(t,3),i)}function Uo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r-1;return n!==i&&(o=ha(n),o=n<0?gn(r+o,0):vn(o,r-1)),Ft(e,oo(t,3),o,!0)}function zo(e){return null!=e&&e.length?mr(e,1):[]}function $o(e){return e&&e.length?e[0]:i}var Ho=Wr((function(e){var t=Ot(e,pi);return t.length&&t[0]===e[0]?Ar(t):[]})),Go=Wr((function(e){var t=Wo(e),n=Ot(e,pi);return t===Wo(n)?t=i:n.pop(),n.length&&n[0]===e[0]?Ar(n,oo(t,2)):[]})),Vo=Wr((function(e){var t=Wo(e),n=Ot(e,pi);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?Ar(n,i,t):[]}));function Wo(e){var t=null==e?0:e.length;return t?e[t-1]:i}var Ko=Wr(Zo);function Zo(e,t){return e&&e.length&&t&&t.length?$r(e,t):e}var Yo=Xi((function(e,t){var n=null==e?0:e.length,r=ir(e,t);return Hr(e,Ot(t,(function(e){return go(e,n)?+e:e})).sort(xi)),r}));function Jo(e){return null==e?e:Sn.call(e)}var Qo=Wr((function(e){return ai(mr(e,1,Hs,!0))})),Xo=Wr((function(e){var t=Wo(e);return Hs(t)&&(t=i),ai(mr(e,1,Hs,!0),oo(t,2))})),es=Wr((function(e){var t=Wo(e);return t="function"==typeof t?t:i,ai(mr(e,1,Hs,!0),i,t)}));function ts(e){if(!e||!e.length)return[];var t=0;return e=Nt(e,(function(e){if(Hs(e))return t=gn(e.length,t),!0})),Wt(t,(function(t){return Ot(e,$t(t))}))}function ns(e,t){if(!e||!e.length)return[];var n=ts(e);return null==t?n:Ot(n,(function(e){return xt(t,i,e)}))}var rs=Wr((function(e,t){return Hs(e)?ur(e,t):[]})),is=Wr((function(e){return di(Nt(e,Hs))})),os=Wr((function(e){var t=Wo(e);return Hs(t)&&(t=i),di(Nt(e,Hs),oo(t,2))})),ss=Wr((function(e){var t=Wo(e);return t="function"==typeof t?t:i,di(Nt(e,Hs),i,t)})),as=Wr(ts),cs=Wr((function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,ns(e,n)}));function us(e){var t=Fn(e);return t.__chain__=!0,t}function ls(e,t){return t(e)}var hs=Xi((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(t){return ir(t,e)};return!(t>1||this.__actions__.length)&&r instanceof zn&&go(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:ls,args:[o],thisArg:i}),new Un(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(o)})),ds=Ni((function(e,t,n){Re.call(e,n)?++e[n]:rr(e,n,1)})),fs=Mi(qo),ps=Mi(Uo);function ms(e,t){return(Us(e)?Et:lr)(e,oo(t,3))}function gs(e,t){return(Us(e)?kt:hr)(e,oo(t,3))}var vs=Ni((function(e,t,n){Re.call(e,n)?e[n].push(t):rr(e,n,[t])})),ys=Wr((function(e,t,n){var i=-1,o="function"==typeof t,s=$s(e)?r(e.length):[];return lr(e,(function(e){s[++i]=o?xt(t,e,n):Nr(e,t,n)})),s})),bs=Ni((function(e,t,n){rr(e,n,t)}));function ws(e,t){return(Us(e)?Ot:Dr)(e,oo(t,3))}var Ss=Ni((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]})),_s=Wr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&vo(e,t[0],t[1])?t=[]:n>2&&vo(t[0],t[1],t[2])&&(t=[t[0]]),Ur(e,mr(t,1),[])})),xs=ut||function(){return ht.Date.now()};function Cs(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,Ki(e,u,i,i,i,i,t)}function Es(e,t){var n;if("function"!=typeof t)throw new Ae(o);return e=ha(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var ks=Wr((function(e,t,n){var r=1;if(n.length){var i=an(n,io(ks));r|=c}return Ki(e,r,t,n,i)})),As=Wr((function(e,t,n){var r=3;if(n.length){var i=an(n,io(As));r|=c}return Ki(t,r,e,n,i)}));function Ns(e,t,n){var r,s,a,c,u,l,h=0,d=!1,f=!1,p=!0;if("function"!=typeof e)throw new Ae(o);function m(t){var n=r,o=s;return r=s=i,h=t,c=e.apply(o,n)}function g(e){var n=e-l;return l===i||n>=t||n<0||f&&e-h>=a}function v(){var e=xs();if(g(e))return y(e);u=No(v,function(e){var n=t-(e-l);return f?vn(n,a-(e-h)):n}(e))}function y(e){return u=i,p&&r?m(e):(r=s=i,c)}function b(){var e=xs(),n=g(e);if(r=arguments,s=this,l=e,n){if(u===i)return function(e){return h=e,u=No(v,t),d?m(e):c}(l);if(f)return bi(u),u=No(v,t),m(l)}return u===i&&(u=No(v,t)),c}return t=fa(t)||0,Js(n)&&(d=!!n.leading,a=(f="maxWait"in n)?gn(fa(n.maxWait)||0,t):a,p="trailing"in n?!!n.trailing:p),b.cancel=function(){u!==i&&bi(u),h=0,r=l=s=u=i},b.flush=function(){return u===i?c:y(xs())},b}var Ts=Wr((function(e,t){return cr(e,1,t)})),Ps=Wr((function(e,t,n){return cr(e,fa(t)||0,n)}));function Os(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ae(o);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(Os.Cache||Gn),n}function Is(e){if("function"!=typeof e)throw new Ae(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Os.Cache=Gn;var Rs=vi((function(e,t){var n=(t=1==t.length&&Us(t[0])?Ot(t[0],Zt(oo())):Ot(mr(t,1),Zt(oo()))).length;return Wr((function(r){for(var i=-1,o=vn(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return xt(e,this,r)}))})),Ls=Wr((function(e,t){var n=an(t,io(Ls));return Ki(e,c,i,t,n)})),Ms=Wr((function(e,t){var n=an(t,io(Ms));return Ki(e,64,i,t,n)})),Ds=Xi((function(e,t){return Ki(e,256,i,i,i,t)}));function js(e,t){return e===t||e!=e&&t!=t}var Fs=$i(Cr),Bs=$i((function(e,t){return e>=t})),qs=Tr(function(){return arguments}())?Tr:function(e){return Qs(e)&&Re.call(e,"callee")&&!Ve.call(e,"callee")},Us=r.isArray,zs=vt?Zt(vt):function(e){return Qs(e)&&xr(e)==O};function $s(e){return null!=e&&Ys(e.length)&&!Ks(e)}function Hs(e){return Qs(e)&&$s(e)}var Gs=gt||fc,Vs=yt?Zt(yt):function(e){return Qs(e)&&xr(e)==y};function Ws(e){if(!Qs(e))return!1;var t=xr(e);return t==b||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ta(e)}function Ks(e){if(!Js(e))return!1;var t=xr(e);return t==w||t==S||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Zs(e){return"number"==typeof e&&e==ha(e)}function Ys(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=h}function Js(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Qs(e){return null!=e&&"object"==typeof e}var Xs=bt?Zt(bt):function(e){return Qs(e)&&ho(e)==_};function ea(e){return"number"==typeof e||Qs(e)&&xr(e)==x}function ta(e){if(!Qs(e)||xr(e)!=C)return!1;var t=He(e);if(null===t)return!0;var n=Re.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Ie.call(n)==je}var na=wt?Zt(wt):function(e){return Qs(e)&&xr(e)==k},ra=St?Zt(St):function(e){return Qs(e)&&ho(e)==A};function ia(e){return"string"==typeof e||!Us(e)&&Qs(e)&&xr(e)==N}function oa(e){return"symbol"==typeof e||Qs(e)&&xr(e)==T}var sa=_t?Zt(_t):function(e){return Qs(e)&&Ys(e.length)&&!!it[xr(e)]},aa=$i(Mr),ca=$i((function(e,t){return e<=t}));function ua(e){if(!e)return[];if($s(e))return ia(e)?hn(e):ki(e);if(Ze&&e[Ze])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Ze]());var t=ho(e);return(t==_?on:t==A?cn:ja)(e)}function la(e){return e?(e=fa(e))===l||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function ha(e){var t=la(e),n=t%1;return t==t?n?t-n:t:0}function da(e){return e?or(ha(e),0,f):0}function fa(e){if("number"==typeof e)return e;if(oa(e))return d;if(Js(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Js(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Kt(e);var n=pe.test(e);return n||ge.test(e)?ct(e.slice(2),n?2:8):fe.test(e)?d:+e}function pa(e){return Ai(e,Ta(e))}function ma(e){return null==e?"":si(e)}var ga=Ti((function(e,t){if(So(t)||$s(t))Ai(t,Na(t),e);else for(var n in t)Re.call(t,n)&&Xn(e,n,t[n])})),va=Ti((function(e,t){Ai(t,Ta(t),e)})),ya=Ti((function(e,t,n,r){Ai(t,Ta(t),e,r)})),ba=Ti((function(e,t,n,r){Ai(t,Na(t),e,r)})),wa=Xi(ir),Sa=Wr((function(e,t){e=Ce(e);var n=-1,r=t.length,o=r>2?t[2]:i;for(o&&vo(t[0],t[1],o)&&(r=1);++n<r;)for(var s=t[n],a=Ta(s),c=-1,u=a.length;++c<u;){var l=a[c],h=e[l];(h===i||js(h,Pe[l])&&!Re.call(e,l))&&(e[l]=s[l])}return e})),_a=Wr((function(e){return e.push(i,Yi),xt(Oa,i,e)}));function xa(e,t,n){var r=null==e?i:Sr(e,t);return r===i?n:r}function Ca(e,t){return null!=e&&fo(e,t,kr)}var Ea=Fi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=De.call(t)),e[t]=n}),Ja(ec)),ka=Fi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=De.call(t)),Re.call(e,t)?e[t].push(n):e[t]=[n]}),oo),Aa=Wr(Nr);function Na(e){return $s(e)?Kn(e):Lr(e)}function Ta(e){return $s(e)?Kn(e,!0):function(e){if(!Js(e))return function(e){var t=[];if(null!=e)for(var n in Ce(e))t.push(n);return t}(e);var t=So(e),n=[];for(var r in e)("constructor"!=r||!t&&Re.call(e,r))&&n.push(r);return n}(e)}var Pa=Ti((function(e,t,n){Br(e,t,n)})),Oa=Ti((function(e,t,n,r){Br(e,t,n,r)})),Ia=Xi((function(e,t){var n={};if(null==e)return n;var r=!1;t=Ot(t,(function(t){return t=gi(t,e),r||(r=t.length>1),t})),Ai(e,to(e),n),r&&(n=sr(n,7,Ji));for(var i=t.length;i--;)ci(n,t[i]);return n})),Ra=Xi((function(e,t){return null==e?{}:function(e,t){return zr(e,t,(function(t,n){return Ca(e,n)}))}(e,t)}));function La(e,t){if(null==e)return{};var n=Ot(to(e),(function(e){return[e]}));return t=oo(t),zr(e,n,(function(e,n){return t(e,n[0])}))}var Ma=Wi(Na),Da=Wi(Ta);function ja(e){return null==e?[]:Yt(e,Na(e))}var Fa=Ri((function(e,t,n){return t=t.toLowerCase(),e+(n?Ba(t):t)}));function Ba(e){return Wa(ma(e).toLowerCase())}function qa(e){return(e=ma(e))&&e.replace(ye,en).replace(Je,"")}var Ua=Ri((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),za=Ri((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),$a=Ii("toLowerCase"),Ha=Ri((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()})),Ga=Ri((function(e,t,n){return e+(n?" ":"")+Wa(t)})),Va=Ri((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Wa=Ii("toUpperCase");function Ka(e,t,n){return e=ma(e),(t=n?i:t)===i?function(e){return tt.test(e)}(e)?function(e){return e.match(Xe)||[]}(e):function(e){return e.match(ce)||[]}(e):e.match(t)||[]}var Za=Wr((function(e,t){try{return xt(e,i,t)}catch(e){return Ws(e)?e:new Se(e)}})),Ya=Xi((function(e,t){return Et(t,(function(t){t=Lo(t),rr(e,t,ks(e[t],e))})),e}));function Ja(e){return function(){return e}}var Qa=Di(),Xa=Di(!0);function ec(e){return e}function tc(e){return Rr("function"==typeof e?e:sr(e,1))}var nc=Wr((function(e,t){return function(n){return Nr(n,e,t)}})),rc=Wr((function(e,t){return function(n){return Nr(e,n,t)}}));function ic(e,t,n){var r=Na(t),i=wr(t,r);null!=n||Js(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=wr(t,Na(t)));var o=!(Js(n)&&"chain"in n&&!n.chain),s=Ks(e);return Et(i,(function(n){var r=t[n];e[n]=r,s&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__);return(n.__actions__=ki(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,It([this.value()],arguments))})})),e}function oc(){}var sc=qi(Ot),ac=qi(At),cc=qi(Mt);function uc(e){return yo(e)?$t(Lo(e)):function(e){return function(t){return Sr(t,e)}}(e)}var lc=zi(),hc=zi(!0);function dc(){return[]}function fc(){return!1}var pc,mc=Bi((function(e,t){return e+t}),0),gc=Gi("ceil"),vc=Bi((function(e,t){return e/t}),1),yc=Gi("floor"),bc=Bi((function(e,t){return e*t}),1),wc=Gi("round"),Sc=Bi((function(e,t){return e-t}),0);return Fn.after=function(e,t){if("function"!=typeof t)throw new Ae(o);return e=ha(e),function(){if(--e<1)return t.apply(this,arguments)}},Fn.ary=Cs,Fn.assign=ga,Fn.assignIn=va,Fn.assignInWith=ya,Fn.assignWith=ba,Fn.at=wa,Fn.before=Es,Fn.bind=ks,Fn.bindAll=Ya,Fn.bindKey=As,Fn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Us(e)?e:[e]},Fn.chain=us,Fn.chunk=function(e,t,n){t=(n?vo(e,t,n):t===i)?1:gn(ha(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var s=0,a=0,c=r(dt(o/t));s<o;)c[a++]=ei(e,s,s+=t);return c},Fn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},Fn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return It(Us(n)?ki(n):[n],mr(t,1))},Fn.cond=function(e){var t=null==e?0:e.length,n=oo();return e=t?Ot(e,(function(e){if("function"!=typeof e[1])throw new Ae(o);return[n(e[0]),e[1]]})):[],Wr((function(n){for(var r=-1;++r<t;){var i=e[r];if(xt(i[0],this,n))return xt(i[1],this,n)}}))},Fn.conforms=function(e){return function(e){var t=Na(e);return function(n){return ar(n,e,t)}}(sr(e,1))},Fn.constant=Ja,Fn.countBy=ds,Fn.create=function(e,t){var n=Bn(e);return null==t?n:nr(n,t)},Fn.curry=function e(t,n,r){var o=Ki(t,8,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},Fn.curryRight=function e(t,n,r){var o=Ki(t,16,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},Fn.debounce=Ns,Fn.defaults=Sa,Fn.defaultsDeep=_a,Fn.defer=Ts,Fn.delay=Ps,Fn.difference=jo,Fn.differenceBy=Fo,Fn.differenceWith=Bo,Fn.drop=function(e,t,n){var r=null==e?0:e.length;return r?ei(e,(t=n||t===i?1:ha(t))<0?0:t,r):[]},Fn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?ei(e,0,(t=r-(t=n||t===i?1:ha(t)))<0?0:t):[]},Fn.dropRightWhile=function(e,t){return e&&e.length?li(e,oo(t,3),!0,!0):[]},Fn.dropWhile=function(e,t){return e&&e.length?li(e,oo(t,3),!0):[]},Fn.fill=function(e,t,n,r){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&vo(e,t,n)&&(n=0,r=o),function(e,t,n,r){var o=e.length;for((n=ha(n))<0&&(n=-n>o?0:o+n),(r=r===i||r>o?o:ha(r))<0&&(r+=o),r=n>r?0:da(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Fn.filter=function(e,t){return(Us(e)?Nt:pr)(e,oo(t,3))},Fn.flatMap=function(e,t){return mr(ws(e,t),1)},Fn.flatMapDeep=function(e,t){return mr(ws(e,t),l)},Fn.flatMapDepth=function(e,t,n){return n=n===i?1:ha(n),mr(ws(e,t),n)},Fn.flatten=zo,Fn.flattenDeep=function(e){return null!=e&&e.length?mr(e,l):[]},Fn.flattenDepth=function(e,t){return null!=e&&e.length?mr(e,t=t===i?1:ha(t)):[]},Fn.flip=function(e){return Ki(e,512)},Fn.flow=Qa,Fn.flowRight=Xa,Fn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Fn.functions=function(e){return null==e?[]:wr(e,Na(e))},Fn.functionsIn=function(e){return null==e?[]:wr(e,Ta(e))},Fn.groupBy=vs,Fn.initial=function(e){return null!=e&&e.length?ei(e,0,-1):[]},Fn.intersection=Ho,Fn.intersectionBy=Go,Fn.intersectionWith=Vo,Fn.invert=Ea,Fn.invertBy=ka,Fn.invokeMap=ys,Fn.iteratee=tc,Fn.keyBy=bs,Fn.keys=Na,Fn.keysIn=Ta,Fn.map=ws,Fn.mapKeys=function(e,t){var n={};return t=oo(t,3),yr(e,(function(e,r,i){rr(n,t(e,r,i),e)})),n},Fn.mapValues=function(e,t){var n={};return t=oo(t,3),yr(e,(function(e,r,i){rr(n,r,t(e,r,i))})),n},Fn.matches=function(e){return jr(sr(e,1))},Fn.matchesProperty=function(e,t){return Fr(e,sr(t,1))},Fn.memoize=Os,Fn.merge=Pa,Fn.mergeWith=Oa,Fn.method=nc,Fn.methodOf=rc,Fn.mixin=ic,Fn.negate=Is,Fn.nthArg=function(e){return e=ha(e),Wr((function(t){return qr(t,e)}))},Fn.omit=Ia,Fn.omitBy=function(e,t){return La(e,Is(oo(t)))},Fn.once=function(e){return Es(2,e)},Fn.orderBy=function(e,t,n,r){return null==e?[]:(Us(t)||(t=null==t?[]:[t]),Us(n=r?i:n)||(n=null==n?[]:[n]),Ur(e,t,n))},Fn.over=sc,Fn.overArgs=Rs,Fn.overEvery=ac,Fn.overSome=cc,Fn.partial=Ls,Fn.partialRight=Ms,Fn.partition=Ss,Fn.pick=Ra,Fn.pickBy=La,Fn.property=uc,Fn.propertyOf=function(e){return function(t){return null==e?i:Sr(e,t)}},Fn.pull=Ko,Fn.pullAll=Zo,Fn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?$r(e,t,oo(n,2)):e},Fn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?$r(e,t,i,n):e},Fn.pullAt=Yo,Fn.range=lc,Fn.rangeRight=hc,Fn.rearg=Ds,Fn.reject=function(e,t){return(Us(e)?Nt:pr)(e,Is(oo(t,3)))},Fn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=oo(t,3);++r<o;){var s=e[r];t(s,r,e)&&(n.push(s),i.push(r))}return Hr(e,i),n},Fn.rest=function(e,t){if("function"!=typeof e)throw new Ae(o);return Wr(e,t=t===i?t:ha(t))},Fn.reverse=Jo,Fn.sampleSize=function(e,t,n){return t=(n?vo(e,t,n):t===i)?1:ha(t),(Us(e)?Yn:Zr)(e,t)},Fn.set=function(e,t,n){return null==e?e:Yr(e,t,n)},Fn.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:Yr(e,t,n,r)},Fn.shuffle=function(e){return(Us(e)?Jn:Xr)(e)},Fn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&vo(e,t,n)?(t=0,n=r):(t=null==t?0:ha(t),n=n===i?r:ha(n)),ei(e,t,n)):[]},Fn.sortBy=_s,Fn.sortedUniq=function(e){return e&&e.length?ii(e):[]},Fn.sortedUniqBy=function(e,t){return e&&e.length?ii(e,oo(t,2)):[]},Fn.split=function(e,t,n){return n&&"number"!=typeof n&&vo(e,t,n)&&(t=n=i),(n=n===i?f:n>>>0)?(e=ma(e))&&("string"==typeof t||null!=t&&!na(t))&&!(t=si(t))&&rn(e)?yi(hn(e),0,n):e.split(t,n):[]},Fn.spread=function(e,t){if("function"!=typeof e)throw new Ae(o);return t=null==t?0:gn(ha(t),0),Wr((function(n){var r=n[t],i=yi(n,0,t);return r&&It(i,r),xt(e,this,i)}))},Fn.tail=function(e){var t=null==e?0:e.length;return t?ei(e,1,t):[]},Fn.take=function(e,t,n){return e&&e.length?ei(e,0,(t=n||t===i?1:ha(t))<0?0:t):[]},Fn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?ei(e,(t=r-(t=n||t===i?1:ha(t)))<0?0:t,r):[]},Fn.takeRightWhile=function(e,t){return e&&e.length?li(e,oo(t,3),!1,!0):[]},Fn.takeWhile=function(e,t){return e&&e.length?li(e,oo(t,3)):[]},Fn.tap=function(e,t){return t(e),e},Fn.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Ae(o);return Js(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Ns(e,t,{leading:r,maxWait:t,trailing:i})},Fn.thru=ls,Fn.toArray=ua,Fn.toPairs=Ma,Fn.toPairsIn=Da,Fn.toPath=function(e){return Us(e)?Ot(e,Lo):oa(e)?[e]:ki(Ro(ma(e)))},Fn.toPlainObject=pa,Fn.transform=function(e,t,n){var r=Us(e),i=r||Gs(e)||sa(e);if(t=oo(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:Js(e)&&Ks(o)?Bn(He(e)):{}}return(i?Et:yr)(e,(function(e,r,i){return t(n,e,r,i)})),n},Fn.unary=function(e){return Cs(e,1)},Fn.union=Qo,Fn.unionBy=Xo,Fn.unionWith=es,Fn.uniq=function(e){return e&&e.length?ai(e):[]},Fn.uniqBy=function(e,t){return e&&e.length?ai(e,oo(t,2)):[]},Fn.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?ai(e,i,t):[]},Fn.unset=function(e,t){return null==e||ci(e,t)},Fn.unzip=ts,Fn.unzipWith=ns,Fn.update=function(e,t,n){return null==e?e:ui(e,t,mi(n))},Fn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:ui(e,t,mi(n),r)},Fn.values=ja,Fn.valuesIn=function(e){return null==e?[]:Yt(e,Ta(e))},Fn.without=rs,Fn.words=Ka,Fn.wrap=function(e,t){return Ls(mi(t),e)},Fn.xor=is,Fn.xorBy=os,Fn.xorWith=ss,Fn.zip=as,Fn.zipObject=function(e,t){return fi(e||[],t||[],Xn)},Fn.zipObjectDeep=function(e,t){return fi(e||[],t||[],Yr)},Fn.zipWith=cs,Fn.entries=Ma,Fn.entriesIn=Da,Fn.extend=va,Fn.extendWith=ya,ic(Fn,Fn),Fn.add=mc,Fn.attempt=Za,Fn.camelCase=Fa,Fn.capitalize=Ba,Fn.ceil=gc,Fn.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=fa(n))==n?n:0),t!==i&&(t=(t=fa(t))==t?t:0),or(fa(e),t,n)},Fn.clone=function(e){return sr(e,4)},Fn.cloneDeep=function(e){return sr(e,5)},Fn.cloneDeepWith=function(e,t){return sr(e,5,t="function"==typeof t?t:i)},Fn.cloneWith=function(e,t){return sr(e,4,t="function"==typeof t?t:i)},Fn.conformsTo=function(e,t){return null==t||ar(e,t,Na(t))},Fn.deburr=qa,Fn.defaultTo=function(e,t){return null==e||e!=e?t:e},Fn.divide=vc,Fn.endsWith=function(e,t,n){e=ma(e),t=si(t);var r=e.length,o=n=n===i?r:or(ha(n),0,r);return(n-=t.length)>=0&&e.slice(n,o)==t},Fn.eq=js,Fn.escape=function(e){return(e=ma(e))&&K.test(e)?e.replace(V,tn):e},Fn.escapeRegExp=function(e){return(e=ma(e))&&ne.test(e)?e.replace(te,"\\$&"):e},Fn.every=function(e,t,n){var r=Us(e)?At:dr;return n&&vo(e,t,n)&&(t=i),r(e,oo(t,3))},Fn.find=fs,Fn.findIndex=qo,Fn.findKey=function(e,t){return jt(e,oo(t,3),yr)},Fn.findLast=ps,Fn.findLastIndex=Uo,Fn.findLastKey=function(e,t){return jt(e,oo(t,3),br)},Fn.floor=yc,Fn.forEach=ms,Fn.forEachRight=gs,Fn.forIn=function(e,t){return null==e?e:gr(e,oo(t,3),Ta)},Fn.forInRight=function(e,t){return null==e?e:vr(e,oo(t,3),Ta)},Fn.forOwn=function(e,t){return e&&yr(e,oo(t,3))},Fn.forOwnRight=function(e,t){return e&&br(e,oo(t,3))},Fn.get=xa,Fn.gt=Fs,Fn.gte=Bs,Fn.has=function(e,t){return null!=e&&fo(e,t,Er)},Fn.hasIn=Ca,Fn.head=$o,Fn.identity=ec,Fn.includes=function(e,t,n,r){e=$s(e)?e:ja(e),n=n&&!r?ha(n):0;var i=e.length;return n<0&&(n=gn(i+n,0)),ia(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Bt(e,t,n)>-1},Fn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ha(n);return i<0&&(i=gn(r+i,0)),Bt(e,t,i)},Fn.inRange=function(e,t,n){return t=la(t),n===i?(n=t,t=0):n=la(n),function(e,t,n){return e>=vn(t,n)&&e<gn(t,n)}(e=fa(e),t,n)},Fn.invoke=Aa,Fn.isArguments=qs,Fn.isArray=Us,Fn.isArrayBuffer=zs,Fn.isArrayLike=$s,Fn.isArrayLikeObject=Hs,Fn.isBoolean=function(e){return!0===e||!1===e||Qs(e)&&xr(e)==v},Fn.isBuffer=Gs,Fn.isDate=Vs,Fn.isElement=function(e){return Qs(e)&&1===e.nodeType&&!ta(e)},Fn.isEmpty=function(e){if(null==e)return!0;if($s(e)&&(Us(e)||"string"==typeof e||"function"==typeof e.splice||Gs(e)||sa(e)||qs(e)))return!e.length;var t=ho(e);if(t==_||t==A)return!e.size;if(So(e))return!Lr(e).length;for(var n in e)if(Re.call(e,n))return!1;return!0},Fn.isEqual=function(e,t){return Pr(e,t)},Fn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?Pr(e,t,i,n):!!r},Fn.isError=Ws,Fn.isFinite=function(e){return"number"==typeof e&&Dt(e)},Fn.isFunction=Ks,Fn.isInteger=Zs,Fn.isLength=Ys,Fn.isMap=Xs,Fn.isMatch=function(e,t){return e===t||Or(e,t,ao(t))},Fn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,Or(e,t,ao(t),n)},Fn.isNaN=function(e){return ea(e)&&e!=+e},Fn.isNative=function(e){if(wo(e))throw new Se("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Ir(e)},Fn.isNil=function(e){return null==e},Fn.isNull=function(e){return null===e},Fn.isNumber=ea,Fn.isObject=Js,Fn.isObjectLike=Qs,Fn.isPlainObject=ta,Fn.isRegExp=na,Fn.isSafeInteger=function(e){return Zs(e)&&e>=-9007199254740991&&e<=h},Fn.isSet=ra,Fn.isString=ia,Fn.isSymbol=oa,Fn.isTypedArray=sa,Fn.isUndefined=function(e){return e===i},Fn.isWeakMap=function(e){return Qs(e)&&ho(e)==P},Fn.isWeakSet=function(e){return Qs(e)&&"[object WeakSet]"==xr(e)},Fn.join=function(e,t){return null==e?"":Ht.call(e,t)},Fn.kebabCase=Ua,Fn.last=Wo,Fn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r;return n!==i&&(o=(o=ha(n))<0?gn(r+o,0):vn(o,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,o):Ft(e,Ut,o,!0)},Fn.lowerCase=za,Fn.lowerFirst=$a,Fn.lt=aa,Fn.lte=ca,Fn.max=function(e){return e&&e.length?fr(e,ec,Cr):i},Fn.maxBy=function(e,t){return e&&e.length?fr(e,oo(t,2),Cr):i},Fn.mean=function(e){return zt(e,ec)},Fn.meanBy=function(e,t){return zt(e,oo(t,2))},Fn.min=function(e){return e&&e.length?fr(e,ec,Mr):i},Fn.minBy=function(e,t){return e&&e.length?fr(e,oo(t,2),Mr):i},Fn.stubArray=dc,Fn.stubFalse=fc,Fn.stubObject=function(){return{}},Fn.stubString=function(){return""},Fn.stubTrue=function(){return!0},Fn.multiply=bc,Fn.nth=function(e,t){return e&&e.length?qr(e,ha(t)):i},Fn.noConflict=function(){return ht._===this&&(ht._=Fe),this},Fn.noop=oc,Fn.now=xs,Fn.pad=function(e,t,n){e=ma(e);var r=(t=ha(t))?ln(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Ui(ft(i),n)+e+Ui(dt(i),n)},Fn.padEnd=function(e,t,n){e=ma(e);var r=(t=ha(t))?ln(e):0;return t&&r<t?e+Ui(t-r,n):e},Fn.padStart=function(e,t,n){e=ma(e);var r=(t=ha(t))?ln(e):0;return t&&r<t?Ui(t-r,n)+e:e},Fn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),bn(ma(e).replace(re,""),t||0)},Fn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&vo(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=la(e),t===i?(t=e,e=0):t=la(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var o=wn();return vn(e+o*(t-e+at("1e-"+((o+"").length-1))),t)}return Gr(e,t)},Fn.reduce=function(e,t,n){var r=Us(e)?Rt:Gt,i=arguments.length<3;return r(e,oo(t,4),n,i,lr)},Fn.reduceRight=function(e,t,n){var r=Us(e)?Lt:Gt,i=arguments.length<3;return r(e,oo(t,4),n,i,hr)},Fn.repeat=function(e,t,n){return t=(n?vo(e,t,n):t===i)?1:ha(t),Vr(ma(e),t)},Fn.replace=function(){var e=arguments,t=ma(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Fn.result=function(e,t,n){var r=-1,o=(t=gi(t,e)).length;for(o||(o=1,e=i);++r<o;){var s=null==e?i:e[Lo(t[r])];s===i&&(r=o,s=n),e=Ks(s)?s.call(e):s}return e},Fn.round=wc,Fn.runInContext=e,Fn.sample=function(e){return(Us(e)?Zn:Kr)(e)},Fn.size=function(e){if(null==e)return 0;if($s(e))return ia(e)?ln(e):e.length;var t=ho(e);return t==_||t==A?e.size:Lr(e).length},Fn.snakeCase=Ha,Fn.some=function(e,t,n){var r=Us(e)?Mt:ti;return n&&vo(e,t,n)&&(t=i),r(e,oo(t,3))},Fn.sortedIndex=function(e,t){return ni(e,t)},Fn.sortedIndexBy=function(e,t,n){return ri(e,t,oo(n,2))},Fn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=ni(e,t);if(r<n&&js(e[r],t))return r}return-1},Fn.sortedLastIndex=function(e,t){return ni(e,t,!0)},Fn.sortedLastIndexBy=function(e,t,n){return ri(e,t,oo(n,2),!0)},Fn.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=ni(e,t,!0)-1;if(js(e[n],t))return n}return-1},Fn.startCase=Ga,Fn.startsWith=function(e,t,n){return e=ma(e),n=null==n?0:or(ha(n),0,e.length),t=si(t),e.slice(n,n+t.length)==t},Fn.subtract=Sc,Fn.sum=function(e){return e&&e.length?Vt(e,ec):0},Fn.sumBy=function(e,t){return e&&e.length?Vt(e,oo(t,2)):0},Fn.template=function(e,t,n){var r=Fn.templateSettings;n&&vo(e,t,n)&&(t=i),e=ma(e),t=ya({},t,r,Zi);var o,s,a=ya({},t.imports,r.imports,Zi),c=Na(a),u=Yt(a,c),l=0,h=t.interpolate||be,d="__p += '",f=Ee((t.escape||be).source+"|"+h.source+"|"+(h===J?he:be).source+"|"+(t.evaluate||be).source+"|$","g"),p="//# sourceURL="+(Re.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++rt+"]")+"\n";e.replace(f,(function(t,n,r,i,a,c){return r||(r=i),d+=e.slice(l,c).replace(we,nn),n&&(o=!0,d+="' +\n__e("+n+") +\n'"),a&&(s=!0,d+="';\n"+a+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=c+t.length,t})),d+="';\n";var m=Re.call(t,"variable")&&t.variable;if(m){if(ue.test(m))throw new Se("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(s?d.replace(z,""):d).replace($,"$1").replace(H,"$1;"),d="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var g=Za((function(){return _e(c,p+"return "+d).apply(i,u)}));if(g.source=d,Ws(g))throw g;return g},Fn.times=function(e,t){if((e=ha(e))<1||e>h)return[];var n=f,r=vn(e,f);t=oo(t),e-=f;for(var i=Wt(r,t);++n<e;)t(n);return i},Fn.toFinite=la,Fn.toInteger=ha,Fn.toLength=da,Fn.toLower=function(e){return ma(e).toLowerCase()},Fn.toNumber=fa,Fn.toSafeInteger=function(e){return e?or(ha(e),-9007199254740991,h):0===e?e:0},Fn.toString=ma,Fn.toUpper=function(e){return ma(e).toUpperCase()},Fn.trim=function(e,t,n){if((e=ma(e))&&(n||t===i))return Kt(e);if(!e||!(t=si(t)))return e;var r=hn(e),o=hn(t);return yi(r,Qt(r,o),Xt(r,o)+1).join("")},Fn.trimEnd=function(e,t,n){if((e=ma(e))&&(n||t===i))return e.slice(0,dn(e)+1);if(!e||!(t=si(t)))return e;var r=hn(e);return yi(r,0,Xt(r,hn(t))+1).join("")},Fn.trimStart=function(e,t,n){if((e=ma(e))&&(n||t===i))return e.replace(re,"");if(!e||!(t=si(t)))return e;var r=hn(e);return yi(r,Qt(r,hn(t))).join("")},Fn.truncate=function(e,t){var n=30,r="...";if(Js(t)){var o="separator"in t?t.separator:o;n="length"in t?ha(t.length):n,r="omission"in t?si(t.omission):r}var s=(e=ma(e)).length;if(rn(e)){var a=hn(e);s=a.length}if(n>=s)return e;var c=n-ln(r);if(c<1)return r;var u=a?yi(a,0,c).join(""):e.slice(0,c);if(o===i)return u+r;if(a&&(c+=u.length-c),na(o)){if(e.slice(c).search(o)){var l,h=u;for(o.global||(o=Ee(o.source,ma(de.exec(o))+"g")),o.lastIndex=0;l=o.exec(h);)var d=l.index;u=u.slice(0,d===i?c:d)}}else if(e.indexOf(si(o),c)!=c){var f=u.lastIndexOf(o);f>-1&&(u=u.slice(0,f))}return u+r},Fn.unescape=function(e){return(e=ma(e))&&W.test(e)?e.replace(G,fn):e},Fn.uniqueId=function(e){var t=++Le;return ma(e)+t},Fn.upperCase=Va,Fn.upperFirst=Wa,Fn.each=ms,Fn.eachRight=gs,Fn.first=$o,ic(Fn,(pc={},yr(Fn,(function(e,t){Re.call(Fn.prototype,t)||(pc[t]=e)})),pc),{chain:!1}),Fn.VERSION="4.17.21",Et(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Fn[e].placeholder=Fn})),Et(["drop","take"],(function(e,t){zn.prototype[e]=function(n){n=n===i?1:gn(ha(n),0);var r=this.__filtered__&&!t?new zn(this):this.clone();return r.__filtered__?r.__takeCount__=vn(n,r.__takeCount__):r.__views__.push({size:vn(n,f),type:e+(r.__dir__<0?"Right":"")}),r},zn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Et(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;zn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:oo(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Et(["head","last"],(function(e,t){var n="take"+(t?"Right":"");zn.prototype[e]=function(){return this[n](1).value()[0]}})),Et(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");zn.prototype[e]=function(){return this.__filtered__?new zn(this):this[n](1)}})),zn.prototype.compact=function(){return this.filter(ec)},zn.prototype.find=function(e){return this.filter(e).head()},zn.prototype.findLast=function(e){return this.reverse().find(e)},zn.prototype.invokeMap=Wr((function(e,t){return"function"==typeof e?new zn(this):this.map((function(n){return Nr(n,e,t)}))})),zn.prototype.reject=function(e){return this.filter(Is(oo(e)))},zn.prototype.slice=function(e,t){e=ha(e);var n=this;return n.__filtered__&&(e>0||t<0)?new zn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=ha(t))<0?n.dropRight(-t):n.take(t-e)),n)},zn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},zn.prototype.toArray=function(){return this.take(f)},yr(zn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),o=Fn[r?"take"+("last"==t?"Right":""):t],s=r||/^find/.test(t);o&&(Fn.prototype[t]=function(){var t=this.__wrapped__,a=r?[1]:arguments,c=t instanceof zn,u=a[0],l=c||Us(t),h=function(e){var t=o.apply(Fn,It([e],a));return r&&d?t[0]:t};l&&n&&"function"==typeof u&&1!=u.length&&(c=l=!1);var d=this.__chain__,f=!!this.__actions__.length,p=s&&!d,m=c&&!f;if(!s&&l){t=m?t:new zn(this);var g=e.apply(t,a);return g.__actions__.push({func:ls,args:[h],thisArg:i}),new Un(g,d)}return p&&m?e.apply(this,a):(g=this.thru(h),p?r?g.value()[0]:g.value():g)})})),Et(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Ne[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Fn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Us(i)?i:[],e)}return this[n]((function(n){return t.apply(Us(n)?n:[],e)}))}})),yr(zn.prototype,(function(e,t){var n=Fn[t];if(n){var r=n.name+"";Re.call(Tn,r)||(Tn[r]=[]),Tn[r].push({name:t,func:n})}})),Tn[ji(i,2).name]=[{name:"wrapper",func:i}],zn.prototype.clone=function(){var e=new zn(this.__wrapped__);return e.__actions__=ki(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=ki(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=ki(this.__views__),e},zn.prototype.reverse=function(){if(this.__filtered__){var e=new zn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},zn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Us(e),r=t<0,i=n?e.length:0,o=function(e,t,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],s=o.size;switch(o.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=vn(t,e+s);break;case"takeRight":e=gn(e,t-s)}}return{start:e,end:t}}(0,i,this.__views__),s=o.start,a=o.end,c=a-s,u=r?a:s-1,l=this.__iteratees__,h=l.length,d=0,f=vn(c,this.__takeCount__);if(!n||!r&&i==c&&f==c)return hi(e,this.__actions__);var p=[];e:for(;c--&&d<f;){for(var m=-1,g=e[u+=t];++m<h;){var v=l[m],y=v.iteratee,b=v.type,w=y(g);if(2==b)g=w;else if(!w){if(1==b)continue e;break e}}p[d++]=g}return p},Fn.prototype.at=hs,Fn.prototype.chain=function(){return us(this)},Fn.prototype.commit=function(){return new Un(this.value(),this.__chain__)},Fn.prototype.next=function(){this.__values__===i&&(this.__values__=ua(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},Fn.prototype.plant=function(e){for(var t,n=this;n instanceof qn;){var r=Do(n);r.__index__=0,r.__values__=i,t?o.__wrapped__=r:t=r;var o=r;n=n.__wrapped__}return o.__wrapped__=e,t},Fn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof zn){var t=e;return this.__actions__.length&&(t=new zn(this)),(t=t.reverse()).__actions__.push({func:ls,args:[Jo],thisArg:i}),new Un(t,this.__chain__)}return this.thru(Jo)},Fn.prototype.toJSON=Fn.prototype.valueOf=Fn.prototype.value=function(){return hi(this.__wrapped__,this.__actions__)},Fn.prototype.first=Fn.prototype.head,Ze&&(Fn.prototype[Ze]=function(){return this}),Fn}();ht._=pn,(r=function(){return pn}.call(t,n,t,e))===i||(e.exports=r)}.call(this)},15409:(e,t,n)=>{var r=n(40015),i=n(7270)((function(e,t,n){r(e,t,n)}));e.exports=i},15937:e=>{e.exports=function(){return[]}},57714:e=>{e.exports=function(){return!1}},89328:(e,t,n)=>{var r=n(35159),i=n(53893);e.exports=function(e){return r(e,i(e))}},65567:(e,t,n)=>{var r=n(34282);e.exports=function(e){return null==e?"":r(e)}},55663:(e,t,n)=>{var r=n(34282),i=n(74833),o=n(39158),s=n(24159),a=n(63574),c=n(63528),u=n(65567);e.exports=function(e,t,n){if((e=u(e))&&(n||void 0===t))return i(e);if(!e||!(t=r(t)))return e;var l=c(e),h=c(t),d=a(l,h),f=s(l,h)+1;return o(l,d,f).join("")}},76744:(e,t,n)=>{var r=n(62690)("toUpperCase");e.exports=r},48628:e=>{var t=1e3,n=60*t,r=60*n,i=24*r;function o(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}e.exports=function(e,s){s=s||{};var a,c,u=typeof e;if("string"===u&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var o=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(o){var s=parseFloat(o[1]);switch((o[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return 6048e5*s;case"days":case"day":case"d":return s*i;case"hours":case"hour":case"hrs":case"hr":case"h":return s*r;case"minutes":case"minute":case"mins":case"min":case"m":return s*n;case"seconds":case"second":case"secs":case"sec":case"s":return s*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(e);if("number"===u&&isFinite(e))return s.long?(a=e,(c=Math.abs(a))>=i?o(a,c,i,"day"):c>=r?o(a,c,r,"hour"):c>=n?o(a,c,n,"minute"):c>=t?o(a,c,t,"second"):a+" ms"):function(e){var o=Math.abs(e);return o>=i?Math.round(e/i)+"d":o>=r?Math.round(e/r)+"h":o>=n?Math.round(e/n)+"m":o>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},3604:(e,t,n)=>{"use strict";n.d(t,{er:()=>ae,xQ:()=>mt});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o,s=function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},s.apply(this,arguments)},a=function(){function e(){}return Object.defineProperty(e,"errorDescription",{get:function(){return"error_description"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"error",{get:function(){return"error"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"scope",{get:function(){return"scope"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"clientInfo",{get:function(){return"client_info"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"clientId",{get:function(){return"clientId"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"idToken",{get:function(){return"id_token"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"adalIdToken",{get:function(){return"adal.idtoken"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"accessToken",{get:function(){return"access_token"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"expiresIn",{get:function(){return"expires_in"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"sessionState",{get:function(){return"session_state"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"claims",{get:function(){return"claims"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"msalClientInfo",{get:function(){return"msal.client.info"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"msalError",{get:function(){return"msal.error"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"msalErrorDescription",{get:function(){return"msal.error.description"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"msalSessionState",{get:function(){return"msal.session.state"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"tokenKeys",{get:function(){return"msal.token.keys"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"accessTokenKey",{get:function(){return"msal.access.token.key"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"expirationKey",{get:function(){return"msal.expiration.key"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"stateLogin",{get:function(){return"msal.state.login"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"stateAcquireToken",{get:function(){return"msal.state.acquireToken"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"stateRenew",{get:function(){return"msal.state.renew"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"nonceIdToken",{get:function(){return"msal.nonce.idtoken"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"userName",{get:function(){return"msal.username"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"idTokenKey",{get:function(){return"msal.idtoken"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"loginRequest",{get:function(){return"msal.login.request"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"loginError",{get:function(){return"msal.login.error"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"renewStatus",{get:function(){return"msal.token.renew.status"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"urlHash",{get:function(){return"msal.urlHash"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"angularLoginRequest",{get:function(){return"msal.angular.login.request"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"msal",{get:function(){return"msal"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"no_account",{get:function(){return"NO_ACCOUNT"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"consumersUtid",{get:function(){return"9188040d-6c67-4c5b-b112-36a304b66dad"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"upn",{get:function(){return"upn"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"prompt_select_account",{get:function(){return"&prompt=select_account"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"prompt_none",{get:function(){return"&prompt=none"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"prompt",{get:function(){return"prompt"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"response_mode_fragment",{get:function(){return"&response_mode=fragment"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"resourceDelimiter",{get:function(){return"|"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"tokenRenewStatusCancelled",{get:function(){return"Canceled"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"tokenRenewStatusCompleted",{get:function(){return"Completed"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"tokenRenewStatusInProgress",{get:function(){return"In Progress"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"popUpWidth",{get:function(){return this._popUpWidth},set:function(e){this._popUpWidth=e},enumerable:!0,configurable:!0}),Object.defineProperty(e,"popUpHeight",{get:function(){return this._popUpHeight},set:function(e){this._popUpHeight=e},enumerable:!0,configurable:!0}),Object.defineProperty(e,"login",{get:function(){return"LOGIN"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"renewToken",{get:function(){return"RENEW_TOKEN"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"unknown",{get:function(){return"UNKNOWN"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"homeAccountIdentifier",{get:function(){return"homeAccountIdentifier"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"common",{get:function(){return"common"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"openidScope",{get:function(){return"openid"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"profileScope",{get:function(){return"profile"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"cacheLocationLocal",{get:function(){return"localStorage"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"cacheLocationSession",{get:function(){return"sessionStorage"},enumerable:!0,configurable:!0}),e._popUpWidth=483,e._popUpHeight=600,e}(),c="msal.authority",u="msal.acquireTokenAccount",l="sid",h="login_hint",d="id_token",f="domain_hint",p="organizations",m="consumers",g="homeAccountIdentifier",v="login_req",y="domain_req",b={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none"},w="unexpected_error",S="Unexpected error in authentication.",_=function(e){function t(n,r){var i=e.call(this,r)||this;return Object.setPrototypeOf(i,t.prototype),i.errorCode=n,i.errorMessage=r,i.name="AuthError",i}return i(t,e),t.createUnexpectedError=function(e){return new t(w,S+": "+e)},t}(Error),x="multiple_matching_tokens",C="The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements like authority.",E="multiple_authorities",k="Multiple authorities found in the cache. Pass authority in the API overload.",A="endpoints_resolution_error",N="Error: could not resolve endpoints. Please check network and try again.",T="popup_window_error",P="Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser.",O="token_renewal_error",I="Token renewal operation failed due to timeout.",R="invalid_id_token",L="Invalid ID token format.",M="invalid_state_error",D="Invalid state.",j="nonce_mismatch_error",F="Nonce is not matching, Nonce received: ",B="login_progress_error",q="Login_In_Progress: Error during login call - login is already in progress.",U="acquiretoken_progress_error",z="AcquireToken_In_Progress: Error during login call - login is already in progress.",$="user_cancelled",H="User cancelled the flow.",G="callback_error",V="Error occurred in token received callback function.",W="user_login_error",K="User login is required.",Z="user_non_existent",Y="User object does not exist. Please call a login API.",J="client_info_decoding_error",Q="The client info could not be parsed/decoded correctly. Please review the trace to determine the root cause.",X="client_info_not_populated_error",ee="The service did not populate client_info in the response, Please verify with the service team",te="null_or_empty_id_token",ne="The idToken is null or empty. Please review the trace to determine the root cause.",re="id_token_parsing_error",ie="ID token cannot be parsed. Please review stack trace to determine root cause.",oe="token_encoding_error",se="The token to be decoded is not encoded correctly.",ae=function(e){function t(n,r){var i=e.call(this,n,r)||this;return i.name="ClientAuthError",Object.setPrototypeOf(i,t.prototype),i}return i(t,e),t.createEndpointResolutionError=function(e){var n=N;return e&&!ue.isEmpty(e)&&(n+=" Details: "+e),new t(A,n)},t.createMultipleMatchingTokensInCacheError=function(e){return new t(x,"Cache error for scope "+e+": "+C+".")},t.createMultipleAuthoritiesInCacheError=function(e){return new t(E,"Cache error for scope "+e+": "+k+".")},t.createPopupWindowError=function(e){var n=P;return e&&!ue.isEmpty(e)&&(n+=" Details: "+e),new t(T,n)},t.createTokenRenewalTimeoutError=function(){return new t(O,I)},t.createInvalidIdTokenError=function(e){return new t(R,L+" Given token: "+e)},t.createInvalidStateError=function(e,n){return new t(M,D+" "+e+", state expected : "+n+".")},t.createNonceMismatchError=function(e,n){return new t(j,F+" "+e+", nonce expected : "+n+".")},t.createLoginInProgressError=function(){return new t(B,q)},t.createAcquireTokenInProgressError=function(){return new t(U,z)},t.createUserCancelledError=function(){return new t($,H)},t.createErrorInCallbackFunction=function(e){return new t(G,V+" "+e+".")},t.createUserLoginRequiredError=function(){return new t(W,K)},t.createUserDoesNotExistError=function(){return new t(Z,Y)},t.createClientInfoDecodingError=function(e){return new t(J,Q+" Failed with error: "+e)},t.createClientInfoNotPopulatedError=function(e){return new t(X,ee+" Failed with error: "+e)},t.createIdTokenNullOrEmptyError=function(e){return new t(te,ne+" Raw ID Token Value: "+e)},t.createIdTokenParsingError=function(e){return new t(re,ie+" Failed with error: "+e)},t.createTokenEncodingError=function(e){return new t(oe,se+" Attempted to decode: "+e)},t}(_),ce=n(83578),ue=function(){function e(){}return e.compareAccounts=function(e,t){return!!(e&&t&&e.homeAccountIdentifier&&t.homeAccountIdentifier&&e.homeAccountIdentifier===t.homeAccountIdentifier)},e.decimalToHex=function(e){for(var t=e.toString(16);t.length<2;)t="0"+t;return t},e.getLibraryVersion=function(){return"1.0.1"},e.createNewGuid=function(){var t=window.crypto;if(t&&t.getRandomValues){var n=new Uint8Array(16);return t.getRandomValues(n),n[6]|=64,n[6]&=79,n[8]|=128,n[8]&=191,e.decimalToHex(n[0])+e.decimalToHex(n[1])+e.decimalToHex(n[2])+e.decimalToHex(n[3])+"-"+e.decimalToHex(n[4])+e.decimalToHex(n[5])+"-"+e.decimalToHex(n[6])+e.decimalToHex(n[7])+"-"+e.decimalToHex(n[8])+e.decimalToHex(n[9])+"-"+e.decimalToHex(n[10])+e.decimalToHex(n[11])+e.decimalToHex(n[12])+e.decimalToHex(n[13])+e.decimalToHex(n[14])+e.decimalToHex(n[15])}for(var r="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx",i="0123456789abcdef",o=0,s="",a=0;a<36;a++)"-"!==r[a]&&"4"!==r[a]&&(o=16*Math.random()|0),"x"===r[a]?s+=i[o]:"y"===r[a]?(o&=3,s+=i[o|=8]):s+=r[a];return s},e.expiresIn=function(e){return e||(e="3599"),this.now()+parseInt(e,10)},e.now=function(){return Math.round((new Date).getTime()/1e3)},e.isEmpty=function(e){return void 0===e||!e||0===e.length},e.decodeJwt=function(e){if(this.isEmpty(e))return null;var t=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(e);return!t||t.length<4?null:{header:t[1],JWSPayload:t[2],JWSSig:t[3]}},e.extractIdToken=function(e){var t=this.decodeJwt(e);if(!t)return null;try{var n=t.JWSPayload,r=this.base64DecodeStringUrlSafe(n);return r?JSON.parse(r):null}catch(e){}return null},e.base64EncodeStringUrlSafe=function(e){return ce.Base64.encode(e)},e.base64DecodeStringUrlSafe=function(e){return e=e.replace(/-/g,"+").replace(/_/g,"/"),decodeURIComponent(encodeURIComponent(ce.Base64.decode(e)))},e.encode=function(e){var t,n,r,i,o,s,a,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u="",l=0;for(e=this.utf8Encode(e);l<e.length;)i=(t=e.charCodeAt(l++))>>2,o=(3&t)<<4|(n=e.charCodeAt(l++))>>4,s=(15&n)<<2|(r=e.charCodeAt(l++))>>6,a=63&r,isNaN(n)?s=a=64:isNaN(r)&&(a=64),u=u+c.charAt(i)+c.charAt(o)+c.charAt(s)+c.charAt(a);return u.replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")},e.utf8Encode=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t},e.decode=function(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n=(e=String(e).replace(/=+$/,"")).length;if(n%4==1)throw ae.createTokenEncodingError(e);for(var r,i,o,s,a,c,u,l,h="",d=0;d<n;d+=4){if(r=t.indexOf(e.charAt(d)),i=t.indexOf(e.charAt(d+1)),o=t.indexOf(e.charAt(d+2)),s=t.indexOf(e.charAt(d+3)),d+2===n-1){c=(a=r<<18|i<<12|o<<6)>>16&255,u=a>>8&255,h+=String.fromCharCode(c,u);break}if(d+1===n-1){c=(a=r<<18|i<<12)>>16&255,h+=String.fromCharCode(c);break}c=(a=r<<18|i<<12|o<<6|s)>>16&255,u=a>>8&255,l=255&a,h+=String.fromCharCode(c,u,l)}return h},e.deserialize=function(e){var t,n=/\+/g,r=/([^&=]+)=([^&]*)/g,i=function(e){return decodeURIComponent(e.replace(n," "))},o={};for(t=r.exec(e);t;)o[i(t[1])]=i(t[2]),t=r.exec(e);return o},e.isIntersectingScopes=function(e,t){e=this.convertToLowerCase(e);for(var n=0;n<t.length;n++)if(e.indexOf(t[n].toLowerCase())>-1)return!0;return!1},e.containsScope=function(e,t){return e=this.convertToLowerCase(e),t.every((function(t){return e.indexOf(t.toString().toLowerCase())>=0}))},e.convertToLowerCase=function(e){return e.map((function(e){return e.toLowerCase()}))},e.removeElement=function(e,t){return e.filter((function(e){return e!==t}))},e.getDefaultRedirectUri=function(){return window.location.href.split("?")[0].split("#")[0]},e.replaceTenantPath=function(e,t){e=e.toLowerCase();var n=this.GetUrlComponents(e),r=n.PathSegments;return!t||0===r.length||r[0]!==a.common&&r[0]!==p||(r[0]=t),this.constructAuthorityUriFromObject(n,r)},e.constructAuthorityUriFromObject=function(e,t){return this.CanonicalizeUri(e.Protocol+"//"+e.HostNameAndPort+"/"+t.join("/"))},e.GetUrlComponents=function(e){if(!e)throw"Url required";var t=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),n=e.match(t);if(!n||n.length<6)throw"Valid url required";var r={Protocol:n[1],HostNameAndPort:n[4],AbsolutePath:n[5]},i=r.AbsolutePath.split("/");return i=i.filter((function(e){return e&&e.length>0})),r.PathSegments=i,r},e.CanonicalizeUri=function(t){return t&&(t=t.toLowerCase()),t&&!e.endsWith(t,"/")&&(t+="/"),t},e.endsWith=function(e,t){return!(!e||!t)&&-1!==e.indexOf(t,e.length-t.length)},e.urlRemoveQueryStringParameter=function(e,t){if(this.isEmpty(e))return e;var n=new RegExp("(\\&"+t+"=)[^&]+");return e=e.replace(n,""),n=new RegExp("("+t+"=)[^&]+&"),e=e.replace(n,""),n=new RegExp("("+t+"=)[^&]+"),e.replace(n,"")},e.constructUnifiedCacheQueryParameter=function(e,t){var n,r,i={};if(e)if(e.account){var o=e.account;o.sid?(n=l,r=o.sid):o.userName&&(n=h,r=o.userName)}else e.sid?(n=l,r=e.sid):e.loginHint&&(n=h,r=e.loginHint);else t&&(t.hasOwnProperty(a.upn)?(n=d,r=t.upn):(n=p,r=null));return i=this.addSSOParameter(n,r),e&&e.account&&e.account.homeAccountIdentifier&&(i=this.addSSOParameter(g,e.account.homeAccountIdentifier,i)),i},e.addSSOParameter=function(t,n,r){if(r||(r={}),!n)return r;switch(t){case l:r[l]=n;break;case d:r[h]=n,r[f]=p;break;case h:r[h]=n;break;case p:r[f]=p;break;case m:r[f]=m;break;case g:var i=n.split("."),o=e.base64DecodeStringUrlSafe(i[0]),s=e.base64DecodeStringUrlSafe(i[1]);r[v]=o,r[y]=s,s===a.consumersUtid?r[f]=m:r[f]=p;break;case v:r[v]=n;break;case y:r[y]=n}return r},e.generateQueryParametersString=function(e){var t=null;return e&&Object.keys(e).forEach((function(n){null==t?t=n+"="+encodeURIComponent(e[n]):t+="&"+n+"="+encodeURIComponent(e[n])})),t},e.isSSOParam=function(e){return e&&(e.account||e.sid||e.loginHint)},e.setResponseIdToken=function(e,t){var n=s({},e);return n.idToken=t,n.idToken.objectId?n.uniqueId=n.idToken.objectId:n.uniqueId=n.idToken.subject,n.tenantId=n.idToken.tenantId,n},e}(),le=function(e,t,n,r,i){this.authority=ue.CanonicalizeUri(e),this.clientId=t,this.scopes=n,this.homeAccountIdentifier=ue.base64EncodeStringUrlSafe(r)+"."+ue.base64EncodeStringUrlSafe(i)},he=function(e,t,n,r){this.accessToken=e,this.idToken=t,this.expiresIn=n,this.homeAccountIdentifier=r},de=function(){function e(e,t,n,r,i,o){this.authorityInstance=e,this.clientId=t,this.scopes=n,this.nonce=ue.createNewGuid(),this.state=o&&!ue.isEmpty(o)?ue.createNewGuid()+"|"+o:ue.createNewGuid(),this.correlationId=ue.createNewGuid(),this.xClientSku="MSAL.JS",this.xClientVer=ue.getLibraryVersion(),this.responseType=r,this.redirectUri=i}return Object.defineProperty(e.prototype,"authority",{get:function(){return this.authorityInstance?this.authorityInstance.CanonicalAuthority:null},enumerable:!0,configurable:!0}),e.prototype.createNavigateUrl=function(e){var t=this.createNavigationUrlString(e),n=this.authorityInstance.AuthorizationEndpoint;return n.indexOf("?")<0?n+="?":n+="&",""+n+t.join("&")},e.prototype.createNavigationUrlString=function(e){e||(e=[this.clientId]),-1===e.indexOf(this.clientId)&&e.push(this.clientId);var t=[];return t.push("response_type="+this.responseType),this.translateclientIdUsedInScope(e),t.push("scope="+encodeURIComponent(this.parseScope(e))),t.push("client_id="+encodeURIComponent(this.clientId)),t.push("redirect_uri="+encodeURIComponent(this.redirectUri)),t.push("state="+encodeURIComponent(this.state)),t.push("nonce="+encodeURIComponent(this.nonce)),t.push("client_info=1"),t.push("x-client-SKU="+this.xClientSku),t.push("x-client-Ver="+this.xClientVer),this.promptValue&&t.push("prompt="+encodeURIComponent(this.promptValue)),this.claimsValue&&t.push("claims="+encodeURIComponent(this.claimsValue)),this.queryParameters&&t.push(this.queryParameters),this.extraQueryParameters&&t.push(this.extraQueryParameters),t.push("client-request-id="+encodeURIComponent(this.correlationId)),t},e.prototype.translateclientIdUsedInScope=function(e){var t=e.indexOf(this.clientId);t>=0&&(e.splice(t,1),-1===e.indexOf("openid")&&e.push("openid"),-1===e.indexOf("profile")&&e.push("profile"))},e.prototype.parseScope=function(e){var t="";if(e)for(var n=0;n<e.length;++n)t+=n!==e.length-1?e[n]+" ":e[n];return t},e}(),fe=function(){function e(e){if(!e||ue.isEmpty(e))return this.uid="",void(this.utid="");try{var t=ue.base64DecodeStringUrlSafe(e),n=JSON.parse(t);n&&(n.hasOwnProperty("uid")&&(this.uid=n.uid),n.hasOwnProperty("utid")&&(this.utid=n.utid))}catch(e){throw ae.createClientInfoDecodingError(e)}}return Object.defineProperty(e.prototype,"uid",{get:function(){return this._uid?this._uid:""},set:function(e){this._uid=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"utid",{get:function(){return this._utid?this._utid:""},set:function(e){this._utid=e},enumerable:!0,configurable:!0}),e}(),pe=function(e){if(ue.isEmpty(e))throw ae.createIdTokenNullOrEmptyError(e);try{this.rawIdToken=e,this.decodedIdToken=ue.extractIdToken(e),this.decodedIdToken&&(this.decodedIdToken.hasOwnProperty("iss")&&(this.issuer=this.decodedIdToken.iss),this.decodedIdToken.hasOwnProperty("oid")&&(this.objectId=this.decodedIdToken.oid),this.decodedIdToken.hasOwnProperty("sub")&&(this.subject=this.decodedIdToken.sub),this.decodedIdToken.hasOwnProperty("tid")&&(this.tenantId=this.decodedIdToken.tid),this.decodedIdToken.hasOwnProperty("ver")&&(this.version=this.decodedIdToken.ver),this.decodedIdToken.hasOwnProperty("preferred_username")&&(this.preferredName=this.decodedIdToken.preferred_username),this.decodedIdToken.hasOwnProperty("name")&&(this.name=this.decodedIdToken.name),this.decodedIdToken.hasOwnProperty("nonce")&&(this.nonce=this.decodedIdToken.nonce),this.decodedIdToken.hasOwnProperty("exp")&&(this.expiration=this.decodedIdToken.exp),this.decodedIdToken.hasOwnProperty("home_oid")&&(this.homeObjectId=this.decodedIdToken.home_oid),this.decodedIdToken.hasOwnProperty("sid")&&(this.sid=this.decodedIdToken.sid))}catch(e){throw ae.createIdTokenParsingError(e)}},me=function(e,t){this.key=e,this.value=t},ge="no_config_set",ve="Configuration has not been set. Please call the UserAgentApplication constructor with a valid Configuration object.",ye="invalid_cache_location",be="The cache location provided is not valid.",we="browser_storage_not_supported",Se="localStorage and sessionStorage are not supported.",_e="no_redirect_callbacks",xe="No redirect callbacks have been set. Please call setRedirectCallbacks() with the appropriate function arguments before continuing. More information is available here: https://github.com/AzureAD/microsoft-authentication-library-for-js/wiki/-basics.",Ce="invalid_callback_object",Ee="The object passed for the callback was invalid. More information is available here: https://github.com/AzureAD/microsoft-authentication-library-for-js/wiki/-basics.",ke="scopes_required",Ae="Scopes are required to obtain an access token.",Ne="empty_input_scopes_error",Te="Scopes cannot be passed as empty array.",Pe="nonarray_input_scopes_error",Oe="Scopes cannot be passed as non-array.",Ie="clientid_input_scopes_error",Re="Client ID can only be provided as a single scope.",Le="invalid_prompt_value",Me="Supported prompt values are 'login', 'select_account', 'consent' and 'none'",De={code:"invalid_authority_type",desc:"The given authority is not a valid type of authority supported by MSAL. Please see here for valid authorities: <insert URL here>."},je={code:"authority_uri_insecure",desc:"Authority URIs must use https."},Fe={code:"authority_uri_invalid_path",desc:"Given authority URI is invalid."},Be={code:"unsupported_authority_validation",desc:"The authority validation is not supported for this authority type."},qe={code:"b2c_authority_uri_invalid_path",desc:"The given URI for the B2C authority is invalid."},Ue="claims_request_parsing_error",ze="Could not parse the given claims request object.",$e=function(e){function t(n,r){var i=e.call(this,n,r)||this;return i.name="ClientConfigurationError",Object.setPrototypeOf(i,t.prototype),i}return i(t,e),t.createNoSetConfigurationError=function(){return new t(ge,""+ve)},t.createInvalidCacheLocationConfigError=function(e){return new t(ye,be+" Provided value: "+e+". Possible values are: "+a.cacheLocationLocal+", "+a.cacheLocationSession+".")},t.createNoStorageSupportedError=function(){return new t(we,Se)},t.createRedirectCallbacksNotSetError=function(){return new t(_e,xe)},t.createInvalidCallbackObjectError=function(e){return new t(Ce,Ee+" Given value for callback function: "+e)},t.createEmptyScopesArrayError=function(e){return new t(Ne,Te+" Given value: "+e+".")},t.createScopesNonArrayError=function(e){return new t(Pe,Oe+" Given value: "+e+".")},t.createClientIdSingleScopeError=function(e){return new t(Ie,Re+" Given value: "+e+".")},t.createScopesRequiredError=function(e){return new t(ke,Ae+" Given value: "+e)},t.createInvalidPromptError=function(e){return new t(Le,Me+" Given value: "+e)},t.createClaimsRequestParsingError=function(e){return new t(Ue,ze+" Given value: "+e)},t}(ae),He=function(){function e(t){if(e.instance)return e.instance;if(this.cacheLocation=t,this.localStorageSupported=void 0!==window[this.cacheLocation]&&null!=window[this.cacheLocation],this.sessionStorageSupported=void 0!==window[t]&&null!=window[t],e.instance=this,!this.localStorageSupported&&!this.sessionStorageSupported)throw $e.createNoStorageSupportedError();return e.instance}return e.prototype.setItem=function(e,t,n){window[this.cacheLocation]&&window[this.cacheLocation].setItem(e,t),n&&this.setItemCookie(e,t)},e.prototype.getItem=function(e,t){return t&&this.getItemCookie(e)?this.getItemCookie(e):window[this.cacheLocation]?window[this.cacheLocation].getItem(e):null},e.prototype.removeItem=function(e){if(window[this.cacheLocation])return window[this.cacheLocation].removeItem(e)},e.prototype.clear=function(){if(window[this.cacheLocation])return window[this.cacheLocation].clear()},e.prototype.getAllAccessTokens=function(e,t){var n,r=[],i=window[this.cacheLocation];if(i){var o=void 0;for(o in i)if(i.hasOwnProperty(o)&&o.match(e)&&o.match(t)){var s=this.getItem(o);s&&(n=new me(JSON.parse(o),JSON.parse(s)),r.push(n))}}return r},e.prototype.removeAcquireTokenEntries=function(){var e=window[this.cacheLocation];if(e){var t=void 0;for(t in e)if(e.hasOwnProperty(t)&&(-1!==t.indexOf(c)||1!==t.indexOf(u))){var n=t.split(a.resourceDelimiter),r=void 0;n.length>1&&(r=n[1]),r&&!this.tokenRenewalInProgress(r)&&(this.removeItem(t),this.removeItem(a.renewStatus+r),this.removeItem(a.stateLogin),this.removeItem(a.stateAcquireToken),this.setItemCookie(t,"",-1))}}this.clearCookie()},e.prototype.tokenRenewalInProgress=function(e){var t=window[this.cacheLocation][a.renewStatus+e];return!(!t||t!==a.tokenRenewStatusInProgress)},e.prototype.resetCacheItems=function(){var e=window[this.cacheLocation];if(e){var t=void 0;for(t in e)e.hasOwnProperty(t)&&-1!==t.indexOf(a.msal)&&this.removeItem(t);this.removeAcquireTokenEntries()}},e.prototype.setItemCookie=function(e,t,n){var r=e+"="+t+";";n&&(r+="expires="+this.getCookieExpirationTime(n)+";"),document.cookie=r},e.prototype.getItemCookie=function(e){for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var i=n[r];" "===i.charAt(0);)i=i.substring(1);if(0===i.indexOf(t))return i.substring(t.length,i.length)}return""},e.prototype.getCookieExpirationTime=function(e){var t=new Date;return new Date(t.getTime()+24*e*60*60*1e3).toUTCString()},e.prototype.clearCookie=function(){this.setItemCookie(a.nonceIdToken,"",-1),this.setItemCookie(a.stateLogin,"",-1),this.setItemCookie(a.loginRequest,"",-1),this.setItemCookie(a.stateAcquireToken,"",-1)},e.generateAcquireTokenAccountKey=function(e,t){return u+a.resourceDelimiter+""+e+a.resourceDelimiter+t},e.generateAuthorityKey=function(e){return c+a.resourceDelimiter+""+e},e}(),Ge=function(){function e(e,t,n,r,i,o,s){this.accountIdentifier=e,this.homeAccountIdentifier=t,this.userName=n,this.name=r,this.idToken=i,this.sid=o,this.environment=s}return e.createAccount=function(t,n){var r,i=t.objectId||t.subject,o=n?n.uid:"",s=n?n.utid:"";return ue.isEmpty(o)||ue.isEmpty(s)||(r=ue.base64EncodeStringUrlSafe(o)+"."+ue.base64EncodeStringUrlSafe(s)),new e(i,r,t.preferredName,t.name,t.decodedIdToken,t.sid,t.issuer)},e}(),Ve=function(){function e(){}return e.prototype.sendRequestAsync=function(e,t,n){var r=this;return new Promise((function(n,i){var o=new XMLHttpRequest;if(o.open(t,e,!0),o.onload=function(e){(o.status<200||o.status>=300)&&i(r.handleError(o.responseText));try{var t=JSON.parse(o.responseText)}catch(e){i(r.handleError(o.responseText))}n(t)},o.onerror=function(e){i(o.status)},"GET"!==t)throw"not implemented";o.send()}))},e.prototype.handleError=function(e){var t;try{if((t=JSON.parse(e)).error)return t.error;throw e}catch(t){return e}},e}();!function(e){e[e.Aad=0]="Aad",e[e.Adfs=1]="Adfs",e[e.B2C=2]="B2C"}(o||(o={}));var We,Ke=function(e){function t(t,n){return e.call(this,t,n)||this}return i(t,e),Object.defineProperty(t.prototype,"AadInstanceDiscoveryEndpointUrl",{get:function(){return t.AadInstanceDiscoveryEndpoint+"?api-version=1.0&authorization_endpoint="+this.CanonicalAuthority+"oauth2/v2.0/authorize"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"AuthorityType",{get:function(){return o.Aad},enumerable:!0,configurable:!0}),t.prototype.GetOpenIdConfigurationEndpointAsync=function(){var e=this,t=new Promise((function(t,n){return t(e.DefaultOpenIdConfigurationEndpoint)}));if(!this.IsValidationEnabled)return t;var n=this.CanonicalAuthorityUrlComponents.HostNameAndPort;return this.IsInTrustedHostList(n)?t:(new Ve).sendRequestAsync(this.AadInstanceDiscoveryEndpointUrl,"GET",!0).then((function(e){return e.tenant_discovery_endpoint}))},t.prototype.IsInTrustedHostList=function(e){return t.TrustedHostList[e.toLowerCase()]},t.AadInstanceDiscoveryEndpoint="https://login.microsoftonline.com/common/discovery/instance",t.TrustedHostList={"login.windows.net":"login.windows.net","login.chinacloudapi.cn":"login.chinacloudapi.cn","login.cloudgovapi.us":"login.cloudgovapi.us","login.microsoftonline.com":"login.microsoftonline.com","login.microsoftonline.de":"login.microsoftonline.de","login.microsoftonline.us":"login.microsoftonline.us"},t}(function(){function e(e,t){this.IsValidationEnabled=t,this.CanonicalAuthority=e,this.validateAsUri()}return Object.defineProperty(e.prototype,"Tenant",{get:function(){return this.CanonicalAuthorityUrlComponents.PathSegments[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"AuthorizationEndpoint",{get:function(){return this.validateResolved(),this.tenantDiscoveryResponse.AuthorizationEndpoint.replace("{tenant}",this.Tenant)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"EndSessionEndpoint",{get:function(){return this.validateResolved(),this.tenantDiscoveryResponse.EndSessionEndpoint.replace("{tenant}",this.Tenant)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"SelfSignedJwtAudience",{get:function(){return this.validateResolved(),this.tenantDiscoveryResponse.Issuer.replace("{tenant}",this.Tenant)},enumerable:!0,configurable:!0}),e.prototype.validateResolved=function(){if(!this.tenantDiscoveryResponse)throw"Please call ResolveEndpointsAsync first"},Object.defineProperty(e.prototype,"CanonicalAuthority",{get:function(){return this.canonicalAuthority},set:function(e){this.canonicalAuthority=ue.CanonicalizeUri(e),this.canonicalAuthorityUrlComponents=null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"CanonicalAuthorityUrlComponents",{get:function(){return this.canonicalAuthorityUrlComponents||(this.canonicalAuthorityUrlComponents=ue.GetUrlComponents(this.CanonicalAuthority)),this.canonicalAuthorityUrlComponents},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"DefaultOpenIdConfigurationEndpoint",{get:function(){return this.CanonicalAuthority+"v2.0/.well-known/openid-configuration"},enumerable:!0,configurable:!0}),e.prototype.validateAsUri=function(){var e;try{e=this.CanonicalAuthorityUrlComponents}catch(e){throw De}if(!e.Protocol||"https:"!==e.Protocol.toLowerCase())throw je;if(!e.PathSegments||e.PathSegments.length<1)throw Fe},e.prototype.DiscoverEndpoints=function(e){return(new Ve).sendRequestAsync(e,"GET",!0).then((function(e){return{AuthorizationEndpoint:e.authorization_endpoint,EndSessionEndpoint:e.end_session_endpoint,Issuer:e.issuer}}))},e.prototype.resolveEndpointsAsync=function(){var e=this,t="";return this.GetOpenIdConfigurationEndpointAsync().then((function(n){return t=n,e.DiscoverEndpoints(t)})).then((function(t){return e.tenantDiscoveryResponse=t,e}))},e}()),Ze=function(e){function t(t,n){var r=e.call(this,t,n)||this,i=ue.GetUrlComponents(t),o=i.PathSegments;if(o.length<3)throw qe;return r.CanonicalAuthority="https://"+i.HostNameAndPort+"/"+o[0]+"/"+o[1]+"/"+o[2]+"/",r}return i(t,e),Object.defineProperty(t.prototype,"AuthorityType",{get:function(){return o.B2C},enumerable:!0,configurable:!0}),t.prototype.GetOpenIdConfigurationEndpointAsync=function(){var e=this,t=new Promise((function(t,n){return t(e.DefaultOpenIdConfigurationEndpoint)}));return this.IsValidationEnabled?this.IsInTrustedHostList(this.CanonicalAuthorityUrlComponents.HostNameAndPort)?t:new Promise((function(e,t){return t(Be)})):t},t}(Ke),Ye=function(){function e(){}return e.DetectAuthorityFromUrl=function(e){switch(e=ue.CanonicalizeUri(e),ue.GetUrlComponents(e).PathSegments[0]){case"tfp":return o.B2C;case"adfs":return o.Adfs;default:return o.Aad}},e.CreateInstance=function(t,n){if(ue.isEmpty(t))return null;switch(e.DetectAuthorityFromUrl(t)){case o.B2C:return new Ze(t,n);case o.Aad:return new Ke(t,n);default:throw De}},e}();!function(e){e[e.Error=0]="Error",e[e.Warning=1]="Warning",e[e.Info=2]="Info",e[e.Verbose=3]="Verbose"}(We||(We={}));var Je=function(){function e(e,t){void 0===t&&(t={}),this.level=We.Info;var n=t.correlationId,r=void 0===n?"":n,i=t.level,o=void 0===i?We.Info:i,s=t.piiLoggingEnabled,a=void 0!==s&&s;this.localCallback=e,this.correlationId=r,this.level=o,this.piiLoggingEnabled=a}return e.prototype.logMessage=function(e,t,n){if(!(e>this.level||!this.piiLoggingEnabled&&n)){var r,i=(new Date).toUTCString();r=ue.isEmpty(this.correlationId)?i+":"+ue.getLibraryVersion()+"-"+We[e]+" "+t:i+":"+this.correlationId+"-"+ue.getLibraryVersion()+"-"+We[e]+" "+t,this.executeCallback(e,r,n)}},e.prototype.executeCallback=function(e,t,n){this.localCallback&&this.localCallback(e,t,n)},e.prototype.error=function(e){this.logMessage(We.Error,e,!1)},e.prototype.errorPii=function(e){this.logMessage(We.Error,e,!0)},e.prototype.warning=function(e){this.logMessage(We.Warning,e,!1)},e.prototype.warningPii=function(e){this.logMessage(We.Warning,e,!0)},e.prototype.info=function(e){this.logMessage(We.Info,e,!1)},e.prototype.infoPii=function(e){this.logMessage(We.Info,e,!0)},e.prototype.verbose=function(e){this.logMessage(We.Verbose,e,!1)},e.prototype.verbosePii=function(e){this.logMessage(We.Verbose,e,!0)},e}(),Qe={clientId:"",authority:null,validateAuthority:!0,redirectUri:function(){return ue.getDefaultRedirectUri()},postLogoutRedirectUri:function(){return ue.getDefaultRedirectUri()},navigateToLoginRequestUrl:!0},Xe={cacheLocation:"sessionStorage",storeAuthStateInCookie:!1},et={logger:new Je(null),loadFrameTimeout:6e3,tokenRenewalOffsetSeconds:300,navigateFrameWait:500},tt={isAngular:!1,unprotectedResources:new Array,protectedResourceMap:new Map},nt="server_unavailable",rt="Server is temporarily unavailable.",it="unknown_server_error",ot=function(e){function t(n,r){var i=e.call(this,n,r)||this;return i.name="ServerError",Object.setPrototypeOf(i,t.prototype),i}return i(t,e),t.createServerUnavailableError=function(){return new t(nt,rt)},t.createUnknownServerError=function(e){return new t(it,e)},t}(_),st="login_required",at="interaction_required",ct="consent_required",ut=function(e){function t(n,r){var i=e.call(this,n,r)||this;return i.name="InteractionRequiredAuthError",Object.setPrototypeOf(i,t.prototype),i}return i(t,e),t.createLoginRequiredAuthError=function(e){return new t(st,e)},t.createInteractionRequiredAuthError=function(e){return new t(at,e)},t.createConsentRequiredAuthError=function(e){return new t(ct,e)},t}(ot);function lt(e){return{uniqueId:"",tenantId:"",tokenType:"",idToken:null,accessToken:"",scopes:null,expiresOn:null,account:null,accountState:e}}var ht="id_token",dt="token",ft="id_token token",pt=function(e,t,n){var r=n.value;return n.value=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.isInIframe()?new Promise((function(){})):r.apply(this,e)},n},mt=function(){function e(e){var t,n,r,i,o,a,c,u;this.authResponseCallback=null,this.tokenReceivedCallback=null,this.errorReceivedCallback=null,this.config=(n=(t=e).auth,i=void 0===(r=t.cache)?{}:r,a=void 0===(o=t.system)?{}:o,u=void 0===(c=t.framework)?{}:c,{auth:s({},Qe,n),cache:s({},Xe,i),system:s({},et,a),framework:s({},tt,u)}),this.redirectCallbacksSet=!1,this.logger=this.config.system.logger,this.clientId=this.config.auth.clientId,this.inCookie=this.config.cache.storeAuthStateInCookie,this.authority=this.config.auth.authority||"https://login.microsoftonline.com/common",this.loginInProgress=!1,this.acquireTokenInProgress=!1;try{this.cacheStorage=new He(this.config.cache.cacheLocation)}catch(e){throw $e.createInvalidCacheLocationConfigError(this.config.cache.cacheLocation)}window.openedWindows=[],window.activeRenewals={},window.renewStates=[],window.callbackMappedToRenewStates={},window.promiseMappedToRenewStates={},window.msal=this;var l=window.location.hash,h=this.isCallback(l);this.config.framework.isAngular||h&&this.handleAuthenticationResponse(l)}return Object.defineProperty(e.prototype,"authority",{get:function(){return this.authorityInstance.CanonicalAuthority},set:function(e){this.authorityInstance=Ye.CreateInstance(e,this.config.auth.validateAuthority)},enumerable:!0,configurable:!0}),e.prototype.getAuthorityInstance=function(){return this.authorityInstance},e.prototype.handleRedirectCallback=function(e,t){if(!e)throw this.redirectCallbacksSet=!1,$e.createInvalidCallbackObjectError(e);if(t?(this.tokenReceivedCallback=e,this.errorReceivedCallback=t,this.logger.warning("This overload for callback is deprecated - please change the format of the callbacks to a single callback as shown: (err: AuthError, response: AuthResponse).")):this.authResponseCallback=e,this.redirectCallbacksSet=!0,!this.config.framework.isAngular){var n=this.cacheStorage.getItem(a.urlHash);n&&this.processCallBack(n,null)}},e.prototype.redirectSuccessHandler=function(e){this.errorReceivedCallback?this.tokenReceivedCallback(e):this.authResponseCallback&&this.authResponseCallback(null,e)},e.prototype.redirectErrorHandler=function(e,t){this.errorReceivedCallback?this.errorReceivedCallback(e,t.accountState):this.authResponseCallback(e,t)},e.prototype.loginRedirect=function(e){var t=this;if(!this.redirectCallbacksSet)throw $e.createRedirectCallbacksNotSetError();if(this.loginInProgress)this.redirectErrorHandler(ae.createLoginInProgressError(),lt(e&&e.state));else{var n=this.appendScopes(e);this.validateInputScope(n,!1);var r=this.getAccount();if(ue.isSSOParam(e))this.loginRedirectHelper(r,e,n);else if(this.extractADALIdToken()&&!n){this.logger.info("ADAL's idToken exists. Extracting login information from ADAL's idToken ");var i=this.buildIDTokenRequest(e);this.silentLogin=!0,this.acquireTokenSilent(i).then((function(e){t.silentLogin=!1,t.logger.info("Unified cache call is successful"),t.redirectCallbacksSet&&t.redirectSuccessHandler(e)}),(function(r){t.silentLogin=!1,t.logger.error("Error occurred during unified cache ATS"),t.loginRedirectHelper(null,e,n)}))}else this.loginRedirectHelper(null,e,n)}},e.prototype.loginRedirectHelper=function(e,t,n){var r=this;this.loginInProgress=!0,this.authorityInstance.resolveEndpointsAsync().then((function(){var i=new de(r.authorityInstance,r.clientId,n,ht,r.getRedirectUri(),t&&t.state);i=r.populateQueryParams(e,t,i);var o=r.cacheStorage.getItem(a.angularLoginRequest);o&&""!==o?r.cacheStorage.setItem(a.angularLoginRequest,""):o=window.location.href,r.updateCacheEntries(i,e,o);var s=i.createNavigateUrl(n)+a.response_mode_fragment;r.promptUser(s)})).catch((function(e){r.logger.warning("could not resolve endpoints"),r.redirectErrorHandler(ae.createEndpointResolutionError(e.toString),lt(t&&t.state))}))},e.prototype.acquireTokenRedirect=function(e){var t=this;if(!this.redirectCallbacksSet)throw $e.createRedirectCallbacksNotSetError();this.validateInputScope(e.scopes,!0);var n=e.account||this.getAccount();if(this.acquireTokenInProgress)this.redirectErrorHandler(ae.createAcquireTokenInProgressError(),lt(this.getAccountState(e.state)));else{if(!n&&!e.sid&&!e.loginHint)throw this.logger.info("User login is required"),ae.createUserLoginRequiredError();var r,i=e.authority?Ye.CreateInstance(e.authority,this.config.auth.validateAuthority):this.authorityInstance;this.acquireTokenInProgress=!0,i.resolveEndpointsAsync().then((function(){var o=t.getTokenType(n,e.scopes,!1);r=new de(i,t.clientId,e.scopes,o,t.getRedirectUri(),e.state),t.updateCacheEntries(r,n);var s=(r=t.populateQueryParams(n,e,r)).createNavigateUrl(e.scopes)+a.response_mode_fragment;s&&(t.cacheStorage.setItem(a.stateAcquireToken,r.state,t.inCookie),window.location.replace(s))})).catch((function(n){t.logger.warning("could not resolve endpoints"),t.redirectErrorHandler(ae.createEndpointResolutionError(n.toString),lt(e.state))}))}},e.prototype.isCallback=function(e){e=this.getHash(e);var t=ue.deserialize(e);return t.hasOwnProperty(a.errorDescription)||t.hasOwnProperty(a.error)||t.hasOwnProperty(a.accessToken)||t.hasOwnProperty(a.idToken)},e.prototype.loginPopup=function(e){var t=this;return new Promise((function(n,r){if(t.loginInProgress)return r(ae.createLoginInProgressError());var i=t.appendScopes(e);t.validateInputScope(i,!1);var o=t.getAccount();if(ue.isSSOParam(e))t.loginPopupHelper(o,n,r,e,i);else if(t.extractADALIdToken()&&!i){t.logger.info("ADAL's idToken exists. Extracting login information from ADAL's idToken ");var s=t.buildIDTokenRequest(e);t.silentLogin=!0,t.acquireTokenSilent(s).then((function(e){t.silentLogin=!1,t.logger.info("Unified cache call is successful"),n(e)}),(function(o){t.silentLogin=!1,t.logger.error("Error occurred during unified cache ATS"),t.loginPopupHelper(null,n,r,e,i)}))}else t.loginPopupHelper(null,n,r,e,i)}))},e.prototype.loginPopupHelper=function(e,t,n,r,i){var o=this;i||(i=[this.clientId]);var s=i.join(" ").toLowerCase(),c=this.openWindow("about:blank","_blank",1,this,t,n);c&&(this.loginInProgress=!0,this.authorityInstance.resolveEndpointsAsync().then((function(){var u=new de(o.authorityInstance,o.clientId,i,ht,o.getRedirectUri(),r&&r.state);u=o.populateQueryParams(e,r,u),o.updateCacheEntries(u,e,window.location.href),o.cacheStorage.setItem(a.loginRequest,window.location.href,o.inCookie),o.cacheStorage.setItem(a.loginError,""),o.cacheStorage.setItem(a.nonceIdToken,u.nonce,o.inCookie),o.cacheStorage.setItem(a.msalError,""),o.cacheStorage.setItem(a.msalErrorDescription,""),o.setAuthorityCache(u.state,o.authority);var l=u.createNavigateUrl(i)+a.response_mode_fragment;window.renewStates.push(u.state),window.requestType=a.login,o.registerCallback(u.state,s,t,n),c&&(o.logger.infoPii("Navigated Popup window to:"+l),c.location.href=l)}),(function(){o.logger.info(A+":"+N),o.cacheStorage.setItem(a.msalError,A),o.cacheStorage.setItem(a.msalErrorDescription,N),n&&n(ae.createEndpointResolutionError()),c&&c.close()})).catch((function(e){o.logger.warning("could not resolve endpoints"),n(ae.createEndpointResolutionError(e.toString))})))},e.prototype.acquireTokenPopup=function(e){var t=this;return new Promise((function(n,r){t.validateInputScope(e.scopes,!0);var i,o=e.scopes.join(" ").toLowerCase(),s=e.account||t.getAccount();if(t.acquireTokenInProgress)return r(ae.createAcquireTokenInProgressError());if(!s&&!e.sid&&!e.loginHint)return t.logger.info("User login is required"),r(ae.createUserLoginRequiredError());t.acquireTokenInProgress=!0;var c=e.authority?Ye.CreateInstance(e.authority,t.config.auth.validateAuthority):t.authorityInstance,u=t.openWindow("about:blank","_blank",1,t,n,r);u&&c.resolveEndpointsAsync().then((function(){var l=t.getTokenType(s,e.scopes,!1);i=new de(c,t.clientId,e.scopes,l,t.getRedirectUri(),e.state),i=t.populateQueryParams(s,e,i),t.updateCacheEntries(i,s);var h=i.createNavigateUrl(e.scopes)+a.response_mode_fragment;window.renewStates.push(i.state),window.requestType=a.renewToken,t.registerCallback(i.state,o,n,r),u&&(u.location.href=h)}),(function(){t.logger.info(A+":"+N),t.cacheStorage.setItem(a.msalError,A),t.cacheStorage.setItem(a.msalErrorDescription,N),r&&r(ae.createEndpointResolutionError()),u&&u.close()})).catch((function(e){t.logger.warning("could not resolve endpoints"),r(ae.createEndpointResolutionError(e.toString()))}))}))},e.prototype.openWindow=function(e,t,n,r,i,o){var s,c=this;try{s=this.openPopup(e,t,a.popUpWidth,a.popUpHeight)}catch(e){return r.loginInProgress=!1,r.acquireTokenInProgress=!1,this.logger.info(T+":"+P),this.cacheStorage.setItem(a.msalError,T),this.cacheStorage.setItem(a.msalErrorDescription,P),o&&o(ae.createPopupWindowError()),null}window.openedWindows.push(s);var u=window.setInterval((function(){if(s&&s.closed&&(r.loginInProgress||r.acquireTokenInProgress)){if(o&&o(ae.createUserCancelledError()),window.clearInterval(u),c.config.framework.isAngular)return void c.broadcast("msal:popUpClosed",$+a.resourceDelimiter+H);r.loginInProgress=!1,r.acquireTokenInProgress=!1}try{var e=s.location;if(-1!==e.href.indexOf(c.getRedirectUri())&&(window.clearInterval(u),r.loginInProgress=!1,r.acquireTokenInProgress=!1,c.logger.info("Closing popup window"),c.config.framework.isAngular)){c.broadcast("msal:popUpHashChanged",e.hash);for(var t=0;t<window.openedWindows.length;t++)window.openedWindows[t].close()}}catch(e){}}),n);return s},e.prototype.openPopup=function(e,t,n,r){try{var i=window.screenLeft?window.screenLeft:window.screenX,o=window.screenTop?window.screenTop:window.screenY,s=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,a=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,c=s/2-n/2+i,u=a/2-r/2+o,l=window.open(e,t,"width="+n+", height="+r+", top="+u+", left="+c);if(!l)throw ae.createPopupWindowError();return l.focus&&l.focus(),l}catch(e){throw this.logger.error("error opening popup "+e.message),this.loginInProgress=!1,this.acquireTokenInProgress=!1,ae.createPopupWindowError(e.toString())}},e.prototype.acquireTokenSilent=function(e){var t=this;return new Promise((function(n,r){t.validateInputScope(e.scopes,!0);var i=e.scopes.join(" ").toLowerCase(),o=e.account||t.getAccount(),s=t.cacheStorage.getItem(a.adalIdToken);if(!o&&!e.sid&&!e.loginHint&&ue.isEmpty(s))return t.logger.info("User login is required"),r(ae.createUserLoginRequiredError());var c=t.getTokenType(o,e.scopes,!0),u=new de(Ye.CreateInstance(e.authority,t.config.auth.validateAuthority),t.clientId,e.scopes,c,t.getRedirectUri(),e&&e.state);if(ue.isSSOParam(e)||o)u=t.populateQueryParams(o,e,u);else if(!o&&!ue.isEmpty(s)){var l=ue.extractIdToken(s);t.logger.verbose("ADAL's idToken exists. Extracting login information from ADAL's idToken "),u=t.populateQueryParams(o,null,u,l)}var h,d,f=e.claimsRequest||u.claimsValue;if(!f)try{d=t.getCachedToken(u,o)}catch(e){h=e}return d?(t.logger.info("Token is already in cache for scope:"+i),n(d),null):h?(t.logger.infoPii(h.errorCode+":"+h.errorMessage),r(h),null):(f?t.logger.verbose("Skipped cache lookup since claims were given."):t.logger.verbose("Token is not in cache for scope:"+i),u.authorityInstance||(u.authorityInstance=e.authority?Ye.CreateInstance(e.authority,t.config.auth.validateAuthority):t.authorityInstance),u.authorityInstance.resolveEndpointsAsync().then((function(){window.activeRenewals[i]?(t.logger.verbose("Renew token for scope: "+i+" is in progress. Registering callback"),t.registerCallback(window.activeRenewals[i],i,n,r)):e.scopes&&e.scopes.indexOf(t.clientId)>-1&&1===e.scopes.length?(t.logger.verbose("renewing idToken"),t.renewIdToken(e.scopes,n,r,o,u)):(t.logger.verbose("renewing accesstoken"),t.renewToken(e.scopes,n,r,o,u))})).catch((function(e){return t.logger.warning("could not resolve endpoints"),r(ae.createEndpointResolutionError(e.toString())),null})))}))},e.prototype.isInIframe=function(){return window.parent!==window},e.prototype.parentIsMsal=function(){return window.parent!==window&&window.parent.msal},e.prototype.isInteractionRequired=function(e){return-1!==e.indexOf("interaction_required")||-1!==e.indexOf("consent_required")||-1!==e.indexOf("login_required")},e.prototype.loadIframeTimeout=function(e,t,n){var r=this,i=window.activeRenewals[n];this.logger.verbose("Set loading state to pending for: "+n+":"+i),this.cacheStorage.setItem(a.renewStatus+i,a.tokenRenewStatusInProgress),this.loadFrame(e,t),setTimeout((function(){r.cacheStorage.getItem(a.renewStatus+i)===a.tokenRenewStatusInProgress&&(r.logger.verbose("Loading frame has timed out after: "+r.config.system.loadFrameTimeout/1e3+" seconds for scope "+n+":"+i),i&&window.callbackMappedToRenewStates[i]&&window.callbackMappedToRenewStates[i](null,ae.createTokenRenewalTimeoutError()),r.cacheStorage.setItem(a.renewStatus+i,a.tokenRenewStatusCancelled))}),this.config.system.loadFrameTimeout)},e.prototype.loadFrame=function(e,t){var n=this;this.logger.info("LoadFrame: "+t);var r=t;setTimeout((function(){var i=n.addHiddenIFrame(r);""!==i.src&&"about:blank"!==i.src||(i.src=e,n.logger.infoPii("Frame Name : "+t+" Navigated to: "+e))}),this.config.system.navigateFrameWait)},e.prototype.addHiddenIFrame=function(e){if(void 0===e)return null;this.logger.info("Add msal frame to document:"+e);var t=document.getElementById(e);if(!t){if(document.createElement&&document.documentElement&&-1===window.navigator.userAgent.indexOf("MSIE 5.0")){var n=document.createElement("iframe");n.setAttribute("id",e),n.style.visibility="hidden",n.style.position="absolute",n.style.width=n.style.height="0",n.style.border="0",t=document.getElementsByTagName("body")[0].appendChild(n)}else document.body&&document.body.insertAdjacentHTML&&document.body.insertAdjacentHTML("beforeend","<iframe name='"+e+"' id='"+e+"' style='display:none'></iframe>");window.frames&&window.frames[e]&&(t=window.frames[e])}return t},e.prototype.addHintParameters=function(e,t,n){var r=e||this.getAccount();return r&&!t[l]&&(!t[h]&&r.sid&&n.promptValue===b.NONE?t=ue.addSSOParameter(l,r.sid,t):!t[h]&&r.userName&&!ue.isEmpty(r.userName)&&(t=ue.addSSOParameter(h,r.userName,t)),!t[y]&&!t[v]&&(t=ue.addSSOParameter(g,r.homeAccountIdentifier,t))),t},e.prototype.promptUser=function(e){if(!e||ue.isEmpty(e))throw this.logger.info("Navigate url is empty"),_.createUnexpectedError("Navigate url is empty");this.logger.infoPii("Navigate to:"+e),window.location.replace(e)},e.prototype.registerCallback=function(e,t,n,r){var i=this;window.activeRenewals[t]=e,window.promiseMappedToRenewStates[e]||(window.promiseMappedToRenewStates[e]=[]),window.promiseMappedToRenewStates[e].push({resolve:n,reject:r}),window.callbackMappedToRenewStates[e]||(window.callbackMappedToRenewStates[e]=function(n,r){window.activeRenewals[t]=null;for(var o=0;o<window.promiseMappedToRenewStates[e].length;++o)try{if(r)window.promiseMappedToRenewStates[e][o].reject(r);else{if(!n)throw _.createUnexpectedError("Error and response are both null");window.promiseMappedToRenewStates[e][o].resolve(n)}}catch(e){i.logger.warning(e)}window.promiseMappedToRenewStates[e]=null,window.callbackMappedToRenewStates[e]=null})},e.prototype.logout=function(){var e=this;this.clearCache(),this.account=null;var t="";this.getPostLogoutRedirectUri()&&(t="post_logout_redirect_uri="+encodeURIComponent(this.getPostLogoutRedirectUri())),this.authorityInstance.resolveEndpointsAsync().then((function(n){var r=n.EndSessionEndpoint?n.EndSessionEndpoint+"?"+t:e.authority+"oauth2/v2.0/logout?"+t;e.promptUser(r)}))},e.prototype.clearCache=function(){window.renewStates=[];for(var e=this.cacheStorage.getAllAccessTokens(a.clientId,a.homeAccountIdentifier),t=0;t<e.length;t++)this.cacheStorage.removeItem(JSON.stringify(e[t].key));this.cacheStorage.resetCacheItems(),this.cacheStorage.clearCookie()},e.prototype.clearCacheForScope=function(e){for(var t=this.cacheStorage.getAllAccessTokens(a.clientId,a.homeAccountIdentifier),n=0;n<t.length;n++){var r=t[n];r.value.accessToken===e&&this.cacheStorage.removeItem(JSON.stringify(r.key))}},e.prototype.processCallBack=function(e,t,n){var r,i;this.logger.info("Processing the callback from redirect response"),t||(t=this.getResponseState(e));try{r=this.saveTokenFromHash(e,t)}catch(e){i=e}this.cacheStorage.removeItem(a.urlHash);try{this.cacheStorage.clearCookie();var o=this.getAccountState(t.state);if(r){if(t.requestType===a.renewToken||r.accessToken?(window.parent!==window?this.logger.verbose("Window is in iframe, acquiring token silently"):this.logger.verbose("acquiring token interactive in progress"),r.tokenType=a.accessToken):t.requestType===a.login&&(r.tokenType=a.idToken),!n)return void this.redirectSuccessHandler(r)}else if(!n)return void this.redirectErrorHandler(i,lt(o));n(r,i)}catch(e){throw this.logger.error("Error occurred in token received callback function: "+e),ae.createErrorInCallbackFunction(e.toString())}},e.prototype.handleAuthenticationResponse=function(e){null==e&&(e=window.location.hash);var t=null,n=!1,r=!1;try{r=window.opener&&window.opener.msal&&window.opener.msal!==window.msal}catch(e){r=!1}r?(t=window.opener.msal,n=!0):window.parent&&window.parent.msal&&(t=window.parent.msal);var i=t.getResponseState(e),o=null;if(t.logger.info("Returned from redirect url"),this.parentIsMsal())o=window.parent.callbackMappedToRenewStates[i.state];else if(r)o=window.opener.callbackMappedToRenewStates[i.state];else{if(o=null,t.config.auth.navigateToLoginRequestUrl)return t.cacheStorage.setItem(a.urlHash,e),void(window.parent!==window||n||(window.location.href=t.cacheStorage.getItem(a.loginRequest,t.inCookie)));if(window.location.hash="",!this.redirectCallbacksSet)return void t.cacheStorage.setItem(a.urlHash,e)}if(t.processCallBack(e,i,o),r)for(var s=0;s<window.opener.openedWindows.length;s++)window.opener.openedWindows[s].close()},e.prototype.deserializeHash=function(e){return e=this.getHash(e),ue.deserialize(e)},e.prototype.getResponseState=function(e){var t,n=this.deserializeHash(e);if(!n)throw _.createUnexpectedError("Hash was not parsed correctly.");if(!n.hasOwnProperty("state"))throw _.createUnexpectedError("Hash does not contain state.");if((t={requestType:a.unknown,state:n.state,stateMatch:!1}).state===this.cacheStorage.getItem(a.stateLogin,this.inCookie)||t.state===this.silentAuthenticationState)return t.requestType=a.login,t.stateMatch=!0,t;if(t.state===this.cacheStorage.getItem(a.stateAcquireToken,this.inCookie))return t.requestType=a.renewToken,t.stateMatch=!0,t;if(!t.stateMatch){t.requestType=window.requestType;for(var r=window.renewStates,i=0;i<r.length;i++)if(r[i]===t.state){t.stateMatch=!0;break}}return t},e.prototype.getCachedToken=function(e,t){var n=null,r=e.scopes,i=this.cacheStorage.getAllAccessTokens(this.clientId,t?t.homeAccountIdentifier:null);if(0===i.length)return null;var o=[];if(e.authority){for(s=0;s<i.length;s++)u=(c=i[s]).key.scopes.split(" "),ue.containsScope(u,r)&&ue.CanonicalizeUri(c.key.authority)===e.authority&&o.push(c);if(0===o.length)return null;if(1!==o.length)throw ae.createMultipleMatchingTokensInCacheError(r.toString());n=o[0]}else{for(var s=0;s<i.length;s++){var c,u=(c=i[s]).key.scopes.split(" ");ue.containsScope(u,r)&&o.push(c)}if(1===o.length)n=o[0],e.authorityInstance=Ye.CreateInstance(n.key.authority,this.config.auth.validateAuthority);else{if(o.length>1)throw ae.createMultipleMatchingTokensInCacheError(r.toString());var l=this.getUniqueAuthority(i,"authority");if(l.length>1)throw ae.createMultipleAuthoritiesInCacheError(r.toString());e.authorityInstance=Ye.CreateInstance(l[0],this.config.auth.validateAuthority)}}if(null!=n){var h=Number(n.value.expiresIn),d=this.config.system.tokenRenewalOffsetSeconds||300;if(h&&h>ue.now()+d){var f=new pe(n.value.idToken);if(!t&&!(t=this.getAccount()))throw _.createUnexpectedError("Account should not be null here.");var p=this.getAccountState(e.state),m={uniqueId:"",tenantId:"",tokenType:n.value.idToken===n.value.accessToken?a.idToken:a.accessToken,idToken:f,accessToken:n.value.accessToken,scopes:n.key.scopes.split(" "),expiresOn:new Date(1e3*h),account:t,accountState:p};return ue.setResponseIdToken(m,f),m}return this.cacheStorage.removeItem(JSON.stringify(o[0].key)),null}return null},e.prototype.getUniqueAuthority=function(e,t){var n=[],r=[];return e.forEach((function(e){e.key.hasOwnProperty(t)&&-1===r.indexOf(e.key[t])&&(r.push(e.key[t]),n.push(e.key[t]))})),n},e.prototype.extractADALIdToken=function(){var e=this.cacheStorage.getItem(a.adalIdToken);return ue.isEmpty(e)?null:ue.extractIdToken(e)},e.prototype.renewToken=function(e,t,n,r,i){var o=e.join(" ").toLowerCase();this.logger.verbose("renewToken is called for scope:"+o);var s=this.addHiddenIFrame("msalRenewFrame"+o);this.updateCacheEntries(i,r),this.logger.verbose("Renew token Expected state: "+i.state);var c=ue.urlRemoveQueryStringParameter(i.createNavigateUrl(e),a.prompt)+a.prompt_none;window.renewStates.push(i.state),window.requestType=a.renewToken,this.registerCallback(i.state,o,t,n),this.logger.infoPii("Navigate to:"+c),s.src="about:blank",this.loadIframeTimeout(c,"msalRenewFrame"+o,o)},e.prototype.renewIdToken=function(e,t,n,r,i){this.logger.info("renewidToken is called");var o=this.addHiddenIFrame("msalIdTokenFrame");this.updateCacheEntries(i,r),this.logger.verbose("Renew Idtoken Expected state: "+i.state);var s=ue.urlRemoveQueryStringParameter(i.createNavigateUrl(e),a.prompt)+a.prompt_none;this.silentLogin?(window.requestType=a.login,this.silentAuthenticationState=i.state):(window.requestType=a.renewToken,window.renewStates.push(i.state)),this.registerCallback(i.state,this.clientId,t,n),this.logger.infoPii("Navigate to:"+s),o.src="about:blank",this.loadIframeTimeout(s,"msalIdTokenFrame",this.clientId)},e.prototype.saveAccessToken=function(e,t,n,r){var i,o=s({},e),c=new fe(r);if(n.hasOwnProperty("scope")){for(var u=(i=n.scope).split(" "),l=this.cacheStorage.getAllAccessTokens(this.clientId,t),h=0;h<l.length;h++){var d=l[h];if(d.key.homeAccountIdentifier===e.account.homeAccountIdentifier){var f=d.key.scopes.split(" ");ue.isIntersectingScopes(f,u)&&this.cacheStorage.removeItem(JSON.stringify(d.key))}}var p=ue.expiresIn(n[a.expiresIn]).toString(),m=new le(t,this.clientId,i,c.uid,c.utid),g=new he(n[a.accessToken],e.idToken.rawIdToken,p,r);this.cacheStorage.setItem(JSON.stringify(m),JSON.stringify(g)),o.accessToken=n[a.accessToken],o.scopes=u,(v=Number(p))?o.expiresOn=new Date(1e3*(ue.now()+v)):this.logger.error("Could not parse expiresIn parameter. Given value: "+p)}else{var v;i=this.clientId,m=new le(t,this.clientId,i,c.uid,c.utid),g=new he(n[a.idToken],n[a.idToken],e.idToken.expiration,r),this.cacheStorage.setItem(JSON.stringify(m),JSON.stringify(g)),o.scopes=[i],o.accessToken=n[a.idToken],(v=Number(e.idToken.expiration))?o.expiresOn=new Date(1e3*v):this.logger.error("Could not parse expiresIn parameter")}return o},e.prototype.saveTokenFromHash=function(e,t){this.logger.info("State status:"+t.stateMatch+"; Request type:"+t.requestType),this.cacheStorage.setItem(a.msalError,""),this.cacheStorage.setItem(a.msalErrorDescription,"");var n,r={uniqueId:"",tenantId:"",tokenType:"",idToken:null,accessToken:null,scopes:[],expiresOn:null,account:null,accountState:""},i=this.deserializeHash(e),o="",s="";if(i.hasOwnProperty(a.errorDescription)||i.hasOwnProperty(a.error)){if(this.logger.infoPii("Error :"+i[a.error]+"; Error description:"+i[a.errorDescription]),this.cacheStorage.setItem(a.msalError,i[a.error]),this.cacheStorage.setItem(a.msalErrorDescription,i[a.errorDescription]),t.requestType===a.login&&(this.loginInProgress=!1,this.cacheStorage.setItem(a.loginError,i[a.errorDescription]+":"+i[a.error]),o=He.generateAuthorityKey(t.state)),t.requestType===a.renewToken){this.acquireTokenInProgress=!1,o=He.generateAuthorityKey(t.state);var c,u=this.getAccount();c=u&&!ue.isEmpty(u.homeAccountIdentifier)?u.homeAccountIdentifier:a.no_account,s=He.generateAcquireTokenAccountKey(c,t.state)}n=this.isInteractionRequired(i[a.errorDescription])?new ut(i[a.error],i[a.errorDescription]):new ot(i[a.error],i[a.errorDescription])}else if(t.stateMatch){this.logger.info("State is right"),i.hasOwnProperty(a.sessionState)&&this.cacheStorage.setItem(a.msalSessionState,i[a.sessionState]),r.accountState=this.getAccountState(t.state);var l="";if(i.hasOwnProperty(a.accessToken)){this.logger.info("Fragment has access token"),this.acquireTokenInProgress=!1,i.hasOwnProperty(a.idToken)?r.idToken=new pe(i[a.idToken]):r=ue.setResponseIdToken(r,new pe(this.cacheStorage.getItem(a.idTokenKey)));var h=He.generateAuthorityKey(t.state),d=this.cacheStorage.getItem(h,this.inCookie);if(ue.isEmpty(d)||(d=ue.replaceTenantPath(d,r.tenantId)),!i.hasOwnProperty(a.clientInfo))throw this.logger.warning("ClientInfo not received in the response from AAD"),ae.createClientInfoNotPopulatedError("ClientInfo not received in the response from the server");l=i[a.clientInfo],r.account=Ge.createAccount(r.idToken,new fe(l));var f;f=r.account&&!ue.isEmpty(r.account.homeAccountIdentifier)?r.account.homeAccountIdentifier:a.no_account,s=He.generateAcquireTokenAccountKey(f,t.state);var p=He.generateAcquireTokenAccountKey(a.no_account,t.state),m=this.cacheStorage.getItem(s),g=void 0;ue.isEmpty(m)?ue.isEmpty(this.cacheStorage.getItem(p))||(r=this.saveAccessToken(r,d,i,l)):(g=JSON.parse(m),r.account&&g&&ue.compareAccounts(r.account,g)?(r=this.saveAccessToken(r,d,i,l),this.logger.info("The user object received in the response is the same as the one passed in the acquireToken request")):this.logger.warning("The account object created from the response is not the same as the one passed in the acquireToken request"))}i.hasOwnProperty(a.idToken)&&(this.logger.info("Fragment has id token"),this.loginInProgress=!1,r=ue.setResponseIdToken(r,new pe(i[a.idToken])),i.hasOwnProperty(a.clientInfo)?l=i[a.clientInfo]:this.logger.warning("ClientInfo not received in the response from AAD"),o=He.generateAuthorityKey(t.state),d=this.cacheStorage.getItem(o,this.inCookie),ue.isEmpty(d)||(d=ue.replaceTenantPath(d,r.idToken.tenantId)),this.account=Ge.createAccount(r.idToken,new fe(l)),r.account=this.account,r.idToken&&r.idToken.nonce?r.idToken.nonce!==this.cacheStorage.getItem(a.nonceIdToken,this.inCookie)?(this.account=null,this.cacheStorage.setItem(a.loginError,"Nonce Mismatch. Expected Nonce: "+this.cacheStorage.getItem(a.nonceIdToken,this.inCookie)+",Actual Nonce: "+r.idToken.nonce),this.logger.error("Nonce Mismatch.Expected Nonce: "+this.cacheStorage.getItem(a.nonceIdToken,this.inCookie)+",Actual Nonce: "+r.idToken.nonce),n=ae.createNonceMismatchError(this.cacheStorage.getItem(a.nonceIdToken,this.inCookie),r.idToken.nonce)):(this.cacheStorage.setItem(a.idTokenKey,i[a.idToken]),this.cacheStorage.setItem(a.msalClientInfo,l),this.saveAccessToken(r,d,i,l)):(o=t.state,s=t.state,this.logger.error("Invalid id_token received in the response"),n=ae.createInvalidIdTokenError(r.idToken),this.cacheStorage.setItem(a.msalError,n.errorCode),this.cacheStorage.setItem(a.msalErrorDescription,n.errorMessage)))}else{o=t.state,s=t.state;var v=this.cacheStorage.getItem(a.stateLogin,this.inCookie);this.logger.error("State Mismatch.Expected State: "+v+",Actual State: "+t.state),n=ae.createInvalidStateError(t.state,v),this.cacheStorage.setItem(a.msalError,n.errorCode),this.cacheStorage.setItem(a.msalErrorDescription,n.errorMessage)}if(this.cacheStorage.setItem(a.renewStatus+t.state,a.tokenRenewStatusCompleted),this.cacheStorage.removeAcquireTokenEntries(),this.inCookie&&(this.cacheStorage.setItemCookie(o,"",-1),this.cacheStorage.clearCookie()),n)throw n;if(!r)throw _.createUnexpectedError("Response is null");return r},e.prototype.getAccount=function(){if(this.account)return this.account;var e=this.cacheStorage.getItem(a.idTokenKey),t=this.cacheStorage.getItem(a.msalClientInfo);if(!ue.isEmpty(e)&&!ue.isEmpty(t)){var n=new pe(e),r=new fe(t);return this.account=Ge.createAccount(n,r),this.account}return null},e.prototype.getAccountState=function(e){if(e){var t=e.indexOf("|");if(t>-1&&t+1<e.length)return e.substring(t+1)}return e},e.prototype.getAllAccounts=function(){for(var e=[],t=this.cacheStorage.getAllAccessTokens(a.clientId,a.homeAccountIdentifier),n=0;n<t.length;n++){var r=new pe(t[n].value.idToken),i=new fe(t[n].value.homeAccountIdentifier),o=Ge.createAccount(r,i);e.push(o)}return this.getUniqueAccounts(e)},e.prototype.getUniqueAccounts=function(e){if(!e||e.length<=1)return e;for(var t=[],n=[],r=0;r<e.length;++r)e[r].homeAccountIdentifier&&-1===t.indexOf(e[r].homeAccountIdentifier)&&(t.push(e[r].homeAccountIdentifier),n.push(e[r]));return n},e.prototype.validateInputScope=function(e,t){if(e){if(!Array.isArray(e))throw $e.createScopesNonArrayError(e);if(e.length<1)throw $e.createEmptyScopesArrayError(e.toString());if(e.indexOf(this.clientId)>-1&&e.length>1)throw $e.createClientIdSingleScopeError(e.toString())}else if(t)throw $e.createScopesRequiredError(e)},e.prototype.getScopeFromState=function(e){if(e){var t=e.indexOf("|");if(t>-1&&t+1<e.length)return e.substring(t+1)}return""},e.prototype.appendScopes=function(e){var t;return e&&e.scopes&&(t=e.extraScopesToConsent?e.scopes.concat(e.extraScopesToConsent):e.scopes),t},e.prototype.broadcast=function(e,t){var n=new CustomEvent(e,{detail:t});window.dispatchEvent(n)},e.prototype.getCachedTokenInternal=function(e,t,n){var r=t||this.getAccount();if(!r)return null;var i=this.authorityInstance?this.authorityInstance:Ye.CreateInstance(this.authority,this.config.auth.validateAuthority),o=this.getTokenType(r,e,!0),s=new de(i,this.clientId,e,o,this.getRedirectUri(),n);return this.getCachedToken(s,t)},e.prototype.getScopesForEndpoint=function(e){if(this.config.framework.unprotectedResources.length>0)for(var t=0;t<this.config.framework.unprotectedResources.length;t++)if(e.indexOf(this.config.framework.unprotectedResources[t])>-1)return null;if(this.config.framework.protectedResourceMap.size>0)for(var n=0,r=Array.from(this.config.framework.protectedResourceMap.keys());n<r.length;n++){var i=r[n];if(e.indexOf(i)>-1)return this.config.framework.protectedResourceMap.get(i)}return e.indexOf("http://")>-1||e.indexOf("https://")>-1?this.getHostFromUri(e)===this.getHostFromUri(this.getRedirectUri())?new Array(this.clientId):null:new Array(this.clientId)},e.prototype.getLoginInProgress=function(){return!!this.cacheStorage.getItem(a.urlHash)||this.loginInProgress},e.prototype.setloginInProgress=function(e){this.loginInProgress=e},e.prototype.getAcquireTokenInProgress=function(){return this.acquireTokenInProgress},e.prototype.setAcquireTokenInProgress=function(e){this.acquireTokenInProgress=e},e.prototype.getLogger=function(){return this.config.system.logger},e.prototype.getRedirectUri=function(){return"function"==typeof this.config.auth.redirectUri?this.config.auth.redirectUri():this.config.auth.redirectUri},e.prototype.getPostLogoutRedirectUri=function(){return"function"==typeof this.config.auth.postLogoutRedirectUri?this.config.auth.postLogoutRedirectUri():this.config.auth.postLogoutRedirectUri},e.prototype.getCurrentConfiguration=function(){if(!this.config)throw $e.createNoSetConfigurationError();return this.config},e.prototype.getHash=function(e){return e.indexOf("#/")>-1?e=e.substring(e.indexOf("#/")+2):e.indexOf("#")>-1&&(e=e.substring(1)),e},e.prototype.getHostFromUri=function(e){var t=String(e).replace(/^(https?:)\/\//,"");return t.split("/")[0]},e.prototype.getTokenType=function(e,t,n){return n?ue.compareAccounts(e,this.getAccount())?t.indexOf(this.config.auth.clientId)>-1?ht:dt:t.indexOf(this.config.auth.clientId)>-1?ht:ft:ue.compareAccounts(e,this.getAccount())?t.indexOf(this.clientId)>-1?ht:dt:ft},e.prototype.setAccountCache=function(e,t){var n=e?this.getAccountId(e):a.no_account,r=He.generateAcquireTokenAccountKey(n,t);this.cacheStorage.setItem(r,JSON.stringify(e))},e.prototype.setAuthorityCache=function(e,t){var n=He.generateAuthorityKey(e);this.cacheStorage.setItem(n,ue.CanonicalizeUri(t),this.inCookie)},e.prototype.updateCacheEntries=function(e,t,n){n?(this.cacheStorage.setItem(a.loginRequest,n,this.inCookie),this.cacheStorage.setItem(a.loginError,""),this.cacheStorage.setItem(a.stateLogin,e.state,this.inCookie),this.cacheStorage.setItem(a.nonceIdToken,e.nonce,this.inCookie),this.cacheStorage.setItem(a.msalError,""),this.cacheStorage.setItem(a.msalErrorDescription,"")):this.setAccountCache(t,e.state),this.setAuthorityCache(e.state,e.authority),this.cacheStorage.setItem(a.nonceIdToken,e.nonce,this.inCookie)},e.prototype.getAccountId=function(e){return ue.isEmpty(e.homeAccountIdentifier)?a.no_account:e.homeAccountIdentifier},e.prototype.buildIDTokenRequest=function(e){return{scopes:[this.clientId],authority:this.authority,account:this.getAccount(),extraQueryParameters:e.extraQueryParameters}},e.prototype.populateQueryParams=function(e,t,n,r){var i,o={};return t&&(t.prompt&&(this.validatePromptParameter(t.prompt),n.promptValue=t.prompt),t.claimsRequest&&(function(e){if(e.claimsRequest)try{JSON.parse(e.claimsRequest)}catch(e){throw $e.createClaimsRequestParsingError(e)}}(t),n.claimsValue=t.claimsRequest),ue.isSSOParam(t)&&(o=ue.constructUnifiedCacheQueryParameter(t,null))),r&&(o=ue.constructUnifiedCacheQueryParameter(null,r)),this.logger.verbose("Calling addHint parameters"),o=this.addHintParameters(e,o,n),t&&(i=this.sanitizeEQParams(t)),n.queryParameters=ue.generateQueryParametersString(o),n.extraQueryParameters=ue.generateQueryParametersString(i),n},e.prototype.validatePromptParameter=function(e){if(!([b.LOGIN,b.SELECT_ACCOUNT,b.CONSENT,b.NONE].indexOf(e)>=0))throw $e.createInvalidPromptError(e)},e.prototype.sanitizeEQParams=function(e){var t=e.extraQueryParameters;return t?(e.claimsRequest&&(this.logger.warning("Removed duplicate claims from extraQueryParameters. Please use either the claimsRequest field OR pass as extraQueryParameter - not both."),delete t[a.claims]),delete t[l],delete t[h],t):null},function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);o>3&&s&&Object.defineProperty(t,n,s)}([pt],e.prototype,"acquireTokenSilent",null),e}()},40759:(e,t,n)=>{"use strict";var r=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw new Error("unable to locate global object")}();e.exports=t=r.fetch,r.fetch&&(t.default=r.fetch.bind(r)),t.Headers=r.Headers,t.Request=r.Request,t.Response=r.Response},50880:(e,t)=>{var n,r;void 0===(r="function"==typeof(n=function(){"use strict";function e(e){var t=e.getBoundingClientRect(),n=e.ownerDocument.documentElement,r=a();return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(r.x=0),{top:t.top+r.y-n.clientTop,left:t.left+r.x-n.clientLeft}}function t(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}function n(e,t,n){o(e,t),setTimeout((function(){s(e,t)}),n)}function r(e){return Math.max(Math.min(e,100),0)}function i(e){return Array.isArray(e)?e:[e]}function o(e,t){e.classList?e.classList.add(t):e.className+=" "+t}function s(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}function a(){var e=void 0!==window.pageXOffset,t="CSS1Compat"===(document.compatMode||"");return{x:e?window.pageXOffset:t?document.documentElement.scrollLeft:document.body.scrollLeft,y:e?window.pageYOffset:t?document.documentElement.scrollTop:document.body.scrollTop}}function c(e,t){return 100/(t-e)}function u(e,t){return 100*t/(e[1]-e[0])}function l(e,t){for(var n=1;e>=t[n];)n+=1;return n}function h(e,t,n){if(n>=e.slice(-1)[0])return 100;var r,i,o,s,a=l(n,e);return r=e[a-1],i=e[a],o=t[a-1],s=t[a],o+function(e,t){return u(e,e[0]<0?t+Math.abs(e[0]):t-e[0])}([r,i],n)/c(o,s)}function d(e,t,n,r){if(100===r)return r;var i,o,s=l(r,e);return n?r-(i=e[s-1])>((o=e[s])-i)/2?o:i:t[s-1]?e[s-1]+function(e,t){return Math.round(e/t)*t}(r-e[s-1],t[s-1]):r}function f(e,n,r){var i;if("number"==typeof n&&(n=[n]),"[object Array]"!==Object.prototype.toString.call(n))throw new Error("noUiSlider: 'range' contains invalid value.");if(!t(i="min"===e?0:"max"===e?100:parseFloat(e))||!t(n[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");r.xPct.push(i),r.xVal.push(n[0]),i?r.xSteps.push(!isNaN(n[1])&&n[1]):isNaN(n[1])||(r.xSteps[0]=n[1])}function p(e,t,n){if(!t)return!0;n.xSteps[e]=u([n.xVal[e],n.xVal[e+1]],t)/c(n.xPct[e],n.xPct[e+1])}function m(e,t,n,r){this.xPct=[],this.xVal=[],this.xSteps=[r||!1],this.xNumSteps=[!1],this.snap=t,this.direction=n;var i,o=[];for(i in e)e.hasOwnProperty(i)&&o.push([e[i],i]);for(o.length&&"object"==typeof o[0][0]?o.sort((function(e,t){return e[0][0]-t[0][0]})):o.sort((function(e,t){return e[0]-t[0]})),i=0;i<o.length;i++)f(o[i][1],o[i][0],this);for(this.xNumSteps=this.xSteps.slice(0),i=0;i<this.xNumSteps.length;i++)p(i,this.xNumSteps[i],this)}m.prototype.getMargin=function(e){return 2===this.xPct.length&&u(this.xVal,e)},m.prototype.toStepping=function(e){return e=h(this.xVal,this.xPct,e),this.direction&&(e=100-e),e},m.prototype.fromStepping=function(e){return this.direction&&(e=100-e),function(e,t,n){if(n>=100)return e.slice(-1)[0];var r,i=l(n,t);return function(e,t){return t*(e[1]-e[0])/100+e[0]}([e[i-1],e[i]],(n-(r=t[i-1]))*c(r,t[i]))}(this.xVal,this.xPct,e)},m.prototype.getStep=function(e){return this.direction&&(e=100-e),e=d(this.xPct,this.xSteps,this.snap,e),this.direction&&(e=100-e),e},m.prototype.getApplicableStep=function(e){var t=l(e,this.xPct),n=100===e?2:1;return[this.xNumSteps[t-2],this.xVal[t-n],this.xNumSteps[t-n]]},m.prototype.convert=function(e){return this.getStep(this.toStepping(e))};var g={to:function(e){return void 0!==e&&e.toFixed(2)},from:Number};function v(e,n){if(!t(n))throw new Error("noUiSlider: 'step' is not numeric.");e.singleStep=n}function y(e,t){if("object"!=typeof t||Array.isArray(t))throw new Error("noUiSlider: 'range' is not an object.");if(void 0===t.min||void 0===t.max)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");if(t.min===t.max)throw new Error("noUiSlider: 'range' 'min' and 'max' cannot be equal.");e.spectrum=new m(t,e.snap,e.dir,e.singleStep)}function b(e,t){if(t=i(t),!Array.isArray(t)||!t.length||t.length>2)throw new Error("noUiSlider: 'start' option is incorrect.");e.handles=t.length,e.start=t}function w(e,t){if(e.snap=t,"boolean"!=typeof t)throw new Error("noUiSlider: 'snap' option must be a boolean.")}function S(e,t){if(e.animate=t,"boolean"!=typeof t)throw new Error("noUiSlider: 'animate' option must be a boolean.")}function _(e,t){if(e.animationDuration=t,"number"!=typeof t)throw new Error("noUiSlider: 'animationDuration' option must be a number.")}function x(e,t){if("lower"===t&&1===e.handles)e.connect=1;else if("upper"===t&&1===e.handles)e.connect=2;else if(!0===t&&2===e.handles)e.connect=3;else{if(!1!==t)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");e.connect=0}}function C(e,t){switch(t){case"horizontal":e.ort=0;break;case"vertical":e.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function E(e,n){if(!t(n))throw new Error("noUiSlider: 'margin' option must be numeric.");if(0!==n&&(e.margin=e.spectrum.getMargin(n),!e.margin))throw new Error("noUiSlider: 'margin' option is only supported on linear sliders.")}function k(e,n){if(!t(n))throw new Error("noUiSlider: 'limit' option must be numeric.");if(e.limit=e.spectrum.getMargin(n),!e.limit)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders.")}function A(e,t){switch(t){case"ltr":e.dir=0;break;case"rtl":e.dir=1,e.connect=[0,2,1,3][e.connect];break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function N(e,t){if("string"!=typeof t)throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var n=t.indexOf("tap")>=0,r=t.indexOf("drag")>=0,i=t.indexOf("fixed")>=0,o=t.indexOf("snap")>=0,s=t.indexOf("hover")>=0;if(r&&!e.connect)throw new Error("noUiSlider: 'drag' behaviour must be used with 'connect': true.");e.events={tap:n||o,drag:r,fixed:i,snap:o,hover:s}}function T(e,t){var n;if(!1!==t)if(!0===t)for(e.tooltips=[],n=0;n<e.handles;n++)e.tooltips.push(!0);else{if(e.tooltips=i(t),e.tooltips.length!==e.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");e.tooltips.forEach((function(e){if("boolean"!=typeof e&&("object"!=typeof e||"function"!=typeof e.to))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")}))}}function P(e,t){if(e.format=t,"function"==typeof t.to&&"function"==typeof t.from)return!0;throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.")}function O(e,t){if(void 0!==t&&"string"!=typeof t&&!1!==t)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");e.cssPrefix=t}function I(e,t){if(void 0!==t&&"object"!=typeof t)throw new Error("noUiSlider: 'cssClasses' must be an object.");if("string"==typeof e.cssPrefix)for(var n in e.cssClasses={},t)t.hasOwnProperty(n)&&(e.cssClasses[n]=e.cssPrefix+t[n]);else e.cssClasses=t}function R(e){var t,n={margin:0,limit:0,animate:!0,animationDuration:300,format:g};t={step:{r:!1,t:v},start:{r:!0,t:b},connect:{r:!0,t:x},direction:{r:!0,t:A},snap:{r:!1,t:w},animate:{r:!1,t:S},animationDuration:{r:!1,t:_},range:{r:!0,t:y},orientation:{r:!1,t:C},margin:{r:!1,t:E},limit:{r:!1,t:k},behaviour:{r:!0,t:N},format:{r:!1,t:P},tooltips:{r:!1,t:T},cssPrefix:{r:!1,t:O},cssClasses:{r:!1,t:I}};var r={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",cssPrefix:"noUi-",cssClasses:{target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",ltr:"ltr",rtl:"rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",stacking:"stacking",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"}};return Object.keys(t).forEach((function(i){if(void 0===e[i]&&void 0===r[i]){if(t[i].r)throw new Error("noUiSlider: '"+i+"' is required.");return!0}t[i].t(n,void 0===e[i]?r[i]:e[i])})),n.pips=e.pips,n.style=n.ort?"top":"left",n}function L(t,c,u){var l,h,d,f=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},p=t,m=[-1,-1],g=c.spectrum,v=[],y={};function b(e,t){var n=document.createElement("div"),r=document.createElement("div"),i=[c.cssClasses.handleLower,c.cssClasses.handleUpper];return e&&i.reverse(),o(r,c.cssClasses.handle),o(r,i[t]),o(n,c.cssClasses.origin),n.appendChild(r),n}function w(e,t){if(!c.tooltips[t])return!1;var n=document.createElement("div");return n.className=c.cssClasses.tooltip,e.firstChild.appendChild(n)}function S(e,t,n){var r=document.createElement("div"),i="",s=[c.cssClasses.valueNormal,c.cssClasses.valueLarge,c.cssClasses.valueSub],a=[c.cssClasses.markerNormal,c.cssClasses.markerLarge,c.cssClasses.markerSub],u=[c.cssClasses.valueHorizontal,c.cssClasses.valueVertical],l=[c.cssClasses.markerHorizontal,c.cssClasses.markerVertical];function h(e,t,n){return'class="'+function(e,t){var n=t===c.cssClasses.value,r=n?s:a;return t+" "+(n?u:l)[c.ort]+" "+r[e]}(n[1],t)+'" style="'+c.style+": "+e+'%"'}return o(r,c.cssClasses.pips),o(r,0===c.ort?c.cssClasses.pipsHorizontal:c.cssClasses.pipsVertical),Object.keys(e).forEach((function(r){!function(e,r){g.direction&&(e=100-e),r[1]=r[1]&&t?t(r[0],r[1]):r[1],i+="<div "+h(e,c.cssClasses.marker,r)+"></div>",r[1]&&(i+="<div "+h(e,c.cssClasses.value,r)+">"+n.to(r[0])+"</div>")}(r,e[r])})),r.innerHTML=i,r}function _(e){var t=e.mode,n=e.density||1,r=e.filter||!1,i=function(e,t,n){var r,i=g.direction,o={},s=g.xVal[0],a=g.xVal[g.xVal.length-1],c=!1,u=!1,l=0;return g.direction=0,(r=n.slice().sort((function(e,t){return e-t})),n=r.filter((function(e){return!this[e]&&(this[e]=!0)}),{}))[0]!==s&&(n.unshift(s),c=!0),n[n.length-1]!==a&&(n.push(a),u=!0),n.forEach((function(r,i){var s,a,h,d,f,p,m,v,y,b=r,w=n[i+1];if("steps"===t&&(s=g.xNumSteps[i]),s||(s=w-b),!1!==b&&void 0!==w)for(a=b;a<=w;a=(a+s).toFixed(7)/1){for(m=(f=(d=g.toStepping(a))-l)/e,y=f/(v=Math.round(m)),h=1;h<=v;h+=1)o[(l+h*y).toFixed(5)]=["x",0];p=n.indexOf(a)>-1?1:"steps"===t?2:0,!i&&c&&(p=0),a===w&&u||(o[d.toFixed(5)]=[a,p]),l=d}})),g.direction=i,o}(n,t,function(e,t,n){if("range"===e||"steps"===e)return g.xVal;if("count"===e){var r,i=100/(t-1),o=0;for(t=[];(r=o++*i)<=100;)t.push(r);e="positions"}return"positions"===e?t.map((function(e){return g.fromStepping(n?g.getStep(e):e)})):"values"===e?n?t.map((function(e){return g.fromStepping(g.getStep(g.toStepping(e)))})):t:void 0}(t,e.values||!1,e.stepped||!1)),o=e.format||{to:Math.round};return p.appendChild(S(i,r,o))}function x(){var e=l.getBoundingClientRect(),t="offset"+["Width","Height"][c.ort];return 0===c.ort?e.width||l[t]:e.height||l[t]}function C(e,t,n){var r;for(r=0;r<c.handles;r++)if(-1===m[r])return;void 0!==t&&1!==c.handles&&(t=Math.abs(t-c.dir)),Object.keys(y).forEach((function(r){var o=r.split(".")[0];e===o&&y[r].forEach((function(e){e.call(d,i(D()),t,i(E(Array.prototype.slice.call(v))),n||!1,m)}))}))}function E(e){return 1===e.length?e[0]:c.dir?e.reverse():e}function k(e,t,n,r){var i=function(t){return!p.hasAttribute("disabled")&&(i=p,o=c.cssClasses.tap,!(i.classList?i.classList.contains(o):new RegExp("\\b"+o+"\\b").test(i.className)))&&(t=function(e,t){e.preventDefault();var n,r,i=0===e.type.indexOf("touch"),o=0===e.type.indexOf("mouse"),s=0===e.type.indexOf("pointer"),c=e;return 0===e.type.indexOf("MSPointer")&&(s=!0),i&&(n=e.changedTouches[0].pageX,r=e.changedTouches[0].pageY),t=t||a(),(o||s)&&(n=e.clientX+t.x,r=e.clientY+t.y),c.pageOffset=t,c.points=[n,r],c.cursor=o||s,c}(t,r.pageOffset),!(e===f.start&&void 0!==t.buttons&&t.buttons>1)&&(!r.hover||!t.buttons)&&(t.calcPoint=t.points[c.ort],void n(t,r)));var i,o},o=[];return e.split(" ").forEach((function(e){t.addEventListener(e,i,!1),o.push([e,i])})),o}function A(e,t){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===e.buttons&&0!==t.buttonsProperty)return N(e,t);var n,i,o,s,a,c,u,l=t.handles||h,d=!1,f=100*(e.calcPoint-t.start)/t.baseSize,p=l[0]===h[0]?0:1;if(o=f,s=t.positions,a=l.length>1,c=o+s[0],u=o+s[1],n=a?(c<0&&(u+=Math.abs(c)),u>100&&(c-=u-100),[r(c),r(u)]):[c,u],d=L(l[0],n[p],1===l.length),l.length>1){if(d=L(l[1],n[p?0:1],!1)||d)for(i=0;i<t.handles.length;i++)C("slide",i)}else d&&C("slide",p)}function N(e,t){var n=l.querySelector("."+c.cssClasses.active),r=t.handles[0]===h[0]?0:1;null!==n&&s(n,c.cssClasses.active),e.cursor&&(document.body.style.cursor="",document.body.removeEventListener("selectstart",document.body.noUiListener));var i=document.documentElement;i.noUiListeners.forEach((function(e){i.removeEventListener(e[0],e[1])})),s(p,c.cssClasses.drag),C("set",r),C("change",r),void 0!==t.handleNumber&&C("end",t.handleNumber)}function T(e,t){"mouseout"===e.type&&"HTML"===e.target.nodeName&&null===e.relatedTarget&&N(e,t)}function P(e,t){var n=document.documentElement;if(1===t.handles.length){if(t.handles[0].hasAttribute("disabled"))return!1;o(t.handles[0].children[0],c.cssClasses.active)}e.preventDefault(),e.stopPropagation();var r=k(f.move,n,A,{start:e.calcPoint,baseSize:x(),pageOffset:e.pageOffset,handles:t.handles,handleNumber:t.handleNumber,buttonsProperty:e.buttons,positions:[m[0],m[h.length-1]]}),i=k(f.end,n,N,{handles:t.handles,handleNumber:t.handleNumber}),s=k("mouseout",n,T,{handles:t.handles,handleNumber:t.handleNumber});if(n.noUiListeners=r.concat(i,s),e.cursor){document.body.style.cursor=getComputedStyle(e.target).cursor,h.length>1&&o(p,c.cssClasses.drag);var a=function(){return!1};document.body.noUiListener=a,document.body.addEventListener("selectstart",a,!1)}void 0!==t.handleNumber&&C("start",t.handleNumber)}function O(t){var r,i,o=t.calcPoint,s=0;if(t.stopPropagation(),h.forEach((function(t){s+=e(t)[c.style]})),r=o<s/2||1===h.length?0:1,h[r].hasAttribute("disabled")&&(r=r?0:1),i=100*(o-=e(l)[c.style])/x(),c.events.snap||n(p,c.cssClasses.tap,c.animationDuration),h[r].hasAttribute("disabled"))return!1;L(h[r],i),C("slide",r,!0),C("set",r,!0),C("change",r,!0),c.events.snap&&P(t,{handles:[h[r]]})}function I(t){var n=t.calcPoint-e(l)[c.style],r=g.getStep(100*n/x()),i=g.fromStepping(r);Object.keys(y).forEach((function(e){"hover"===e.split(".")[0]&&y[e].forEach((function(e){e.call(d,i)}))}))}function L(e,t,n){var i=e!==h[0]?1:0,a=m[0]+c.margin,u=m[1]-c.margin,l=m[0]+c.limit,d=m[1]-c.limit;return h.length>1&&(t=i?Math.max(t,a):Math.min(t,u)),!1!==n&&c.limit&&h.length>1&&(t=i?Math.min(t,l):Math.max(t,d)),(t=r(t=g.getStep(t)))!==m[i]&&(window.requestAnimationFrame?window.requestAnimationFrame((function(){e.style[c.style]=t+"%"})):e.style[c.style]=t+"%",e.previousSibling||(s(e,c.cssClasses.stacking),t>50&&o(e,c.cssClasses.stacking)),m[i]=t,v[i]=g.fromStepping(t),C("update",i),!0)}function M(e,t){var r,o,s=i(e);for(t=void 0===t||!!t,c.dir&&c.handles>1&&s.reverse(),c.animate&&-1!==m[0]&&n(p,c.cssClasses.tap,c.animationDuration),r=h.length>1?3:1,1===s.length&&(r=1),function(e,t){var n,r,i;for(c.limit&&(e+=1),n=0;n<e;n+=1)null!==(i=t[r=n%2])&&!1!==i&&("number"==typeof i&&(i=String(i)),(!1===(i=c.format.from(i))||isNaN(i)||!1===L(h[r],g.toStepping(i),n===3-c.dir))&&C("update",r))}(r,s),o=0;o<h.length;o++)null!==s[o]&&t&&C("set",o)}function D(){var e,t=[];for(e=0;e<c.handles;e+=1)t[e]=c.format.to(v[e]);return E(t)}function j(e,t){y[e]=y[e]||[],y[e].push(t),"update"===e.split(".")[0]&&h.forEach((function(e,t){C("update",t)}))}if(p.noUiSlider)throw new Error("Slider was already initialized.");return l=function(e,t,n){o(n,c.cssClasses.target),o(n,0===e?c.cssClasses.ltr:c.cssClasses.rtl),o(n,0===t?c.cssClasses.horizontal:c.cssClasses.vertical);var r=document.createElement("div");return o(r,c.cssClasses.base),n.appendChild(r),r}(c.dir,c.ort,p),h=function(e,t,n){var r,i=[];for(r=0;r<e;r+=1)i.push(n.appendChild(b(t,r)));return i}(c.handles,c.dir,l),function(e,t,n){switch(e){case 1:o(t,c.cssClasses.connect),o(n[0],c.cssClasses.background);break;case 3:o(n[1],c.cssClasses.background);case 2:o(n[0],c.cssClasses.connect);case 0:o(t,c.cssClasses.background)}}(c.connect,p,h),c.pips&&_(c.pips),c.tooltips&&function(){c.dir&&c.tooltips.reverse();var e=h.map(w);c.dir&&(e.reverse(),c.tooltips.reverse()),j("update",(function(t,n,r){e[n]&&(e[n].innerHTML=!0===c.tooltips[n]?t[n]:c.tooltips[n].to(r[n]))}))}(),d={destroy:function(){for(var e in c.cssClasses)c.cssClasses.hasOwnProperty(e)&&s(p,c.cssClasses[e]);for(;p.firstChild;)p.removeChild(p.firstChild);delete p.noUiSlider},steps:function(){return E(m.map((function(e,t){var n,r,i=g.getApplicableStep(e),o=(n=String(i[2]),(r=n.split(".")).length>1?r[1].length:0),s=v[t],a=100===e?null:i[2],c=Number((s-i[2]).toFixed(o));return[0===e?null:c>=i[1]?i[2]:i[0]||!1,a]})))},on:j,off:function(e){var t=e&&e.split(".")[0],n=t&&e.substring(t.length);Object.keys(y).forEach((function(e){var r=e.split(".")[0],i=e.substring(r.length);t&&t!==r||n&&n!==i||delete y[e]}))},get:D,set:M,updateOptions:function(e,t){var n=D(),r=R({start:[0,0],margin:e.margin,limit:e.limit,step:void 0===e.step?c.singleStep:e.step,range:e.range,animate:e.animate,snap:void 0===e.snap?c.snap:e.snap});["margin","limit","range","animate"].forEach((function(t){void 0!==e[t]&&(c[t]=e[t])})),r.spectrum.direction=g.direction,g=r.spectrum,m=[-1,-1],M(e.start||n,t)},options:u,target:p,pips:_},function(e){if(e.fixed||h.forEach((function(e,t){k(f.start,e.children[0],P,{handles:[e],handleNumber:t})})),e.tap&&k(f.start,l,O,{handles:h}),e.hover&&k(f.move,l,I,{hover:!0}),e.drag){var t=[l.querySelector("."+c.cssClasses.connect)];o(t[0],c.cssClasses.draggable),e.fixed&&t.push(h[t[0]===h[0]?1:0].children[0]),t.forEach((function(e){k(f.start,e,P,{handles:h})}))}}(c.events),d}return{create:function(e,t){if(!e.nodeName)throw new Error("noUiSlider.create requires a single element.");var n=R(t),r=L(e,n,t);return r.set(n.start),e.noUiSlider=r,r}}})?n.apply(t,[]):n)||(e.exports=r)},94960:function(e,t,n){var r,i;r=function(){var e,t,n,r,i,o={},s={},a={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},c={currentLocale:a.currentLocale,zeroFormat:a.zeroFormat,nullFormat:a.nullFormat,defaultFormat:a.defaultFormat,scalePercentBy100:a.scalePercentBy100};function u(e,t){this._input=e,this._value=t}return(e=function(n){var r,i,s,a;if(e.isNumeral(n))r=n.value();else if(0===n||void 0===n)r=0;else if(null===n||t.isNaN(n))r=null;else if("string"==typeof n)if(c.zeroFormat&&n===c.zeroFormat)r=0;else if(c.nullFormat&&n===c.nullFormat||!n.replace(/[^0-9]+/g,"").length)r=null;else{for(i in o)if((a="function"==typeof o[i].regexps.unformat?o[i].regexps.unformat():o[i].regexps.unformat)&&n.match(a)){s=o[i].unformat;break}r=(s=s||e._.stringToNumber)(n)}else r=Number(n)||null;return new u(n,r)}).version="2.0.6",e.isNumeral=function(e){return e instanceof u},e._=t={numberToFormat:function(t,n,r){var i,o,a,c,u,l,h,d,f=s[e.options.currentLocale],p=!1,m=!1,g="",v=1e12,y=1e9,b=1e6,w="",S=!1;if(t=t||0,o=Math.abs(t),e._.includes(n,"(")?(p=!0,n=n.replace(/[\(|\)]/g,"")):(e._.includes(n,"+")||e._.includes(n,"-"))&&(u=e._.includes(n,"+")?n.indexOf("+"):t<0?n.indexOf("-"):-1,n=n.replace(/[\+|\-]/g,"")),e._.includes(n,"a")&&(i=!!(i=n.match(/a(k|m|b|t)?/))&&i[1],e._.includes(n," a")&&(g=" "),n=n.replace(new RegExp(g+"a[kmbt]?"),""),o>=v&&!i||"t"===i?(g+=f.abbreviations.trillion,t/=v):o<v&&o>=y&&!i||"b"===i?(g+=f.abbreviations.billion,t/=y):o<y&&o>=b&&!i||"m"===i?(g+=f.abbreviations.million,t/=b):(o<b&&o>=1e3&&!i||"k"===i)&&(g+=f.abbreviations.thousand,t/=1e3)),e._.includes(n,"[.]")&&(m=!0,n=n.replace("[.]",".")),a=t.toString().split(".")[0],c=n.split(".")[1],l=n.indexOf(","),d=(n.split(".")[0].split(",")[0].match(/0/g)||[]).length,c?(e._.includes(c,"[")?(c=(c=c.replace("]","")).split("["),w=e._.toFixed(t,c[0].length+c[1].length,r,c[1].length)):w=e._.toFixed(t,c.length,r),a=w.split(".")[0],w=e._.includes(w,".")?f.delimiters.decimal+w.split(".")[1]:"",m&&0===Number(w.slice(1))&&(w="")):a=e._.toFixed(t,0,r),g&&!i&&Number(a)>=1e3&&g!==f.abbreviations.trillion)switch(a=String(Number(a)/1e3),g){case f.abbreviations.thousand:g=f.abbreviations.million;break;case f.abbreviations.million:g=f.abbreviations.billion;break;case f.abbreviations.billion:g=f.abbreviations.trillion}if(e._.includes(a,"-")&&(a=a.slice(1),S=!0),a.length<d)for(var _=d-a.length;_>0;_--)a="0"+a;return l>-1&&(a=a.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+f.delimiters.thousands)),0===n.indexOf(".")&&(a=""),h=a+w+(g||""),p?h=(p&&S?"(":"")+h+(p&&S?")":""):u>=0?h=0===u?(S?"-":"+")+h:h+(S?"-":"+"):S&&(h="-"+h),h},stringToNumber:function(e){var t,n,r,i=s[c.currentLocale],o=e,a={thousand:3,million:6,billion:9,trillion:12};if(c.zeroFormat&&e===c.zeroFormat)n=0;else if(c.nullFormat&&e===c.nullFormat||!e.replace(/[^0-9]+/g,"").length)n=null;else{for(t in n=1,"."!==i.delimiters.decimal&&(e=e.replace(/\./g,"").replace(i.delimiters.decimal,".")),a)if(r=new RegExp("[^a-zA-Z]"+i.abbreviations[t]+"(?:\\)|(\\"+i.currency.symbol+")?(?:\\))?)?$"),o.match(r)){n*=Math.pow(10,a[t]);break}n*=(e.split("-").length+Math.min(e.split("(").length-1,e.split(")").length-1))%2?1:-1,e=e.replace(/[^0-9\.]+/g,""),n*=Number(e)}return n},isNaN:function(e){return"number"==typeof e&&isNaN(e)},includes:function(e,t){return-1!==e.indexOf(t)},insert:function(e,t,n){return e.slice(0,n)+t+e.slice(n)},reduce:function(e,t){if(null===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof t)throw new TypeError(t+" is not a function");var n,r=Object(e),i=r.length>>>0,o=0;if(3===arguments.length)n=arguments[2];else{for(;o<i&&!(o in r);)o++;if(o>=i)throw new TypeError("Reduce of empty array with no initial value");n=r[o++]}for(;o<i;o++)o in r&&(n=t(n,r[o],o,r));return n},multiplier:function(e){var t=e.toString().split(".");return t.length<2?1:Math.pow(10,t[1].length)},correctionFactor:function(){return Array.prototype.slice.call(arguments).reduce((function(e,n){var r=t.multiplier(n);return e>r?e:r}),1)},toFixed:function(e,t,n,r){var i,o,s,a,c=e.toString().split("."),u=t-(r||0);return i=2===c.length?Math.min(Math.max(c[1].length,u),t):u,s=Math.pow(10,i),a=(n(e+"e+"+i)/s).toFixed(i),r>t-i&&(o=new RegExp("\\.?0{1,"+(r-(t-i))+"}$"),a=a.replace(o,"")),a}},e.options=c,e.formats=o,e.locales=s,e.locale=function(e){return e&&(c.currentLocale=e.toLowerCase()),c.currentLocale},e.localeData=function(e){if(!e)return s[c.currentLocale];if(e=e.toLowerCase(),!s[e])throw new Error("Unknown locale : "+e);return s[e]},e.reset=function(){for(var e in a)c[e]=a[e]},e.zeroFormat=function(e){c.zeroFormat="string"==typeof e?e:null},e.nullFormat=function(e){c.nullFormat="string"==typeof e?e:null},e.defaultFormat=function(e){c.defaultFormat="string"==typeof e?e:"0.0"},e.register=function(e,t,n){if(t=t.toLowerCase(),this[e+"s"][t])throw new TypeError(t+" "+e+" already registered.");return this[e+"s"][t]=n,n},e.validate=function(t,n){var r,i,o,s,a,c,u,l;if("string"!=typeof t&&(t+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",t)),(t=t.trim()).match(/^\d+$/))return!0;if(""===t)return!1;try{u=e.localeData(n)}catch(t){u=e.localeData(e.locale())}return o=u.currency.symbol,a=u.abbreviations,r=u.delimiters.decimal,i="."===u.delimiters.thousands?"\\.":u.delimiters.thousands,!(null!==(l=t.match(/^[^\d]+/))&&(t=t.substr(1),l[0]!==o)||null!==(l=t.match(/[^\d]+$/))&&(t=t.slice(0,-1),l[0]!==a.thousand&&l[0]!==a.million&&l[0]!==a.billion&&l[0]!==a.trillion)||(c=new RegExp(i+"{2}"),t.match(/[^\d.,]/g)||(s=t.split(r)).length>2||(s.length<2?!s[0].match(/^\d+.*\d$/)||s[0].match(c):1===s[0].length?!s[0].match(/^\d+$/)||s[0].match(c)||!s[1].match(/^\d+$/):!s[0].match(/^\d+.*\d$/)||s[0].match(c)||!s[1].match(/^\d+$/))))},e.fn=u.prototype={clone:function(){return e(this)},format:function(t,n){var r,i,s,a=this._value,u=t||c.defaultFormat;if(n=n||Math.round,0===a&&null!==c.zeroFormat)i=c.zeroFormat;else if(null===a&&null!==c.nullFormat)i=c.nullFormat;else{for(r in o)if(u.match(o[r].regexps.format)){s=o[r].format;break}i=(s=s||e._.numberToFormat)(a,u,n)}return i},value:function(){return this._value},input:function(){return this._input},set:function(e){return this._value=Number(e),this},add:function(e){var n=t.correctionFactor.call(null,this._value,e);return this._value=t.reduce([this._value,e],(function(e,t,r,i){return e+Math.round(n*t)}),0)/n,this},subtract:function(e){var n=t.correctionFactor.call(null,this._value,e);return this._value=t.reduce([e],(function(e,t,r,i){return e-Math.round(n*t)}),Math.round(this._value*n))/n,this},multiply:function(e){return this._value=t.reduce([this._value,e],(function(e,n,r,i){var o=t.correctionFactor(e,n);return Math.round(e*o)*Math.round(n*o)/Math.round(o*o)}),1),this},divide:function(e){return this._value=t.reduce([this._value,e],(function(e,n,r,i){var o=t.correctionFactor(e,n);return Math.round(e*o)/Math.round(n*o)})),this},difference:function(t){return Math.abs(e(this._value).subtract(t).value())}},e.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th"},currency:{symbol:"$"}}),e.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(t,n,r){var i,o=e._.includes(n," BPS")?" ":"";return t*=1e4,n=n.replace(/\s?BPS/,""),i=e._.numberToFormat(t,n,r),e._.includes(i,")")?((i=i.split("")).splice(-1,0,o+"BPS"),i=i.join("")):i=i+o+"BPS",i},unformat:function(t){return+(1e-4*e._.stringToNumber(t)).toFixed(15)}}),r={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},i="("+(i=(n={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}).suffixes.concat(r.suffixes.filter((function(e){return n.suffixes.indexOf(e)<0}))).join("|")).replace("B","B(?!PS)")+")",e.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(i)},format:function(t,i,o){var s,a,c,u=e._.includes(i,"ib")?r:n,l=e._.includes(i," b")||e._.includes(i," ib")?" ":"";for(i=i.replace(/\s?i?b/,""),s=0;s<=u.suffixes.length;s++)if(a=Math.pow(u.base,s),c=Math.pow(u.base,s+1),null===t||0===t||t>=a&&t<c){l+=u.suffixes[s],a>0&&(t/=a);break}return e._.numberToFormat(t,i,o)+l},unformat:function(t){var i,o,s=e._.stringToNumber(t);if(s){for(i=n.suffixes.length-1;i>=0;i--){if(e._.includes(t,n.suffixes[i])){o=Math.pow(n.base,i);break}if(e._.includes(t,r.suffixes[i])){o=Math.pow(r.base,i);break}}s*=o||1}return s}}),e.register("format","currency",{regexps:{format:/(\$)/},format:function(t,n,r){var i,o,s=e.locales[e.options.currentLocale],a={before:n.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:n.match(/([\+|\-|\)|\s|\$]*)$/)[0]};for(n=n.replace(/\s?\$\s?/,""),i=e._.numberToFormat(t,n,r),t>=0?(a.before=a.before.replace(/[\-\(]/,""),a.after=a.after.replace(/[\-\)]/,"")):t<0&&!e._.includes(a.before,"-")&&!e._.includes(a.before,"(")&&(a.before="-"+a.before),o=0;o<a.before.length;o++)switch(a.before[o]){case"$":i=e._.insert(i,s.currency.symbol,o);break;case" ":i=e._.insert(i," ",o+s.currency.symbol.length-1)}for(o=a.after.length-1;o>=0;o--)switch(a.after[o]){case"$":i=o===a.after.length-1?i+s.currency.symbol:e._.insert(i,s.currency.symbol,-(a.after.length-(1+o)));break;case" ":i=o===a.after.length-1?i+" ":e._.insert(i," ",-(a.after.length-(1+o)+s.currency.symbol.length-1))}return i}}),e.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(t,n,r){var i=("number"!=typeof t||e._.isNaN(t)?"0e+0":t.toExponential()).split("e");return n=n.replace(/e[\+|\-]{1}0/,""),e._.numberToFormat(Number(i[0]),n,r)+"e"+i[1]},unformat:function(t){var n=e._.includes(t,"e+")?t.split("e+"):t.split("e-"),r=Number(n[0]),i=Number(n[1]);return i=e._.includes(t,"e-")?i*=-1:i,e._.reduce([r,Math.pow(10,i)],(function(t,n,r,i){var o=e._.correctionFactor(t,n);return t*o*(n*o)/(o*o)}),1)}}),e.register("format","ordinal",{regexps:{format:/(o)/},format:function(t,n,r){var i=e.locales[e.options.currentLocale],o=e._.includes(n," o")?" ":"";return n=n.replace(/\s?o/,""),o+=i.ordinal(t),e._.numberToFormat(t,n,r)+o}}),e.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(t,n,r){var i,o=e._.includes(n," %")?" ":"";return e.options.scalePercentBy100&&(t*=100),n=n.replace(/\s?\%/,""),i=e._.numberToFormat(t,n,r),e._.includes(i,")")?((i=i.split("")).splice(-1,0,o+"%"),i=i.join("")):i=i+o+"%",i},unformat:function(t){var n=e._.stringToNumber(t);return e.options.scalePercentBy100?.01*n:n}}),e.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(e,t,n){var r=Math.floor(e/60/60),i=Math.floor((e-60*r*60)/60),o=Math.round(e-60*r*60-60*i);return r+":"+(i<10?"0"+i:i)+":"+(o<10?"0"+o:o)},unformat:function(e){var t=e.split(":"),n=0;return 3===t.length?(n+=60*Number(t[0])*60,n+=60*Number(t[1]),n+=Number(t[2])):2===t.length&&(n+=60*Number(t[0]),n+=Number(t[1])),Number(n)}}),e},void 0===(i=r.call(t,n,t,e))||(e.exports=i)},62525:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,i){for(var o,s,a=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),c=1;c<arguments.length;c++){for(var u in o=Object(arguments[c]))n.call(o,u)&&(a[u]=o[u]);if(t){s=t(o);for(var l=0;l<s.length;l++)r.call(o,s[l])&&(a[s[l]]=o[s[l]])}}return a}},67425:e=>{"use strict";function t(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function n(e,t){for(var n,r="",i=0,o=-1,s=0,a=0;a<=e.length;++a){if(a<e.length)n=e.charCodeAt(a);else{if(47===n)break;n=47}if(47===n){if(o===a-1||1===s);else if(o!==a-1&&2===s){if(r.length<2||2!==i||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2))if(r.length>2){var c=r.lastIndexOf("/");if(c!==r.length-1){-1===c?(r="",i=0):i=(r=r.slice(0,c)).length-1-r.lastIndexOf("/"),o=a,s=0;continue}}else if(2===r.length||1===r.length){r="",i=0,o=a,s=0;continue}t&&(r.length>0?r+="/..":r="..",i=2)}else r.length>0?r+="/"+e.slice(o+1,a):r=e.slice(o+1,a),i=a-o-1;o=a,s=0}else 46===n&&-1!==s?++s:s=-1}return r}var r={resolve:function(){for(var e,r="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var s;o>=0?s=arguments[o]:(void 0===e&&(e=process.cwd()),s=e),t(s),0!==s.length&&(r=s+"/"+r,i=47===s.charCodeAt(0))}return r=n(r,!i),i?r.length>0?"/"+r:"/":r.length>0?r:"."},normalize:function(e){if(t(e),0===e.length)return".";var r=47===e.charCodeAt(0),i=47===e.charCodeAt(e.length-1);return 0!==(e=n(e,!r)).length||r||(e="."),e.length>0&&i&&(e+="/"),r?"/"+e:e},isAbsolute:function(e){return t(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,n=0;n<arguments.length;++n){var i=arguments[n];t(i),i.length>0&&(void 0===e?e=i:e+="/"+i)}return void 0===e?".":r.normalize(e)},relative:function(e,n){if(t(e),t(n),e===n)return"";if((e=r.resolve(e))===(n=r.resolve(n)))return"";for(var i=1;i<e.length&&47===e.charCodeAt(i);++i);for(var o=e.length,s=o-i,a=1;a<n.length&&47===n.charCodeAt(a);++a);for(var c=n.length-a,u=s<c?s:c,l=-1,h=0;h<=u;++h){if(h===u){if(c>u){if(47===n.charCodeAt(a+h))return n.slice(a+h+1);if(0===h)return n.slice(a+h)}else s>u&&(47===e.charCodeAt(i+h)?l=h:0===h&&(l=0));break}var d=e.charCodeAt(i+h);if(d!==n.charCodeAt(a+h))break;47===d&&(l=h)}var f="";for(h=i+l+1;h<=o;++h)h!==o&&47!==e.charCodeAt(h)||(0===f.length?f+="..":f+="/..");return f.length>0?f+n.slice(a+l):(a+=l,47===n.charCodeAt(a)&&++a,n.slice(a))},_makeLong:function(e){return e},dirname:function(e){if(t(e),0===e.length)return".";for(var n=e.charCodeAt(0),r=47===n,i=-1,o=!0,s=e.length-1;s>=1;--s)if(47===(n=e.charCodeAt(s))){if(!o){i=s;break}}else o=!1;return-1===i?r?"/":".":r&&1===i?"//":e.slice(0,i)},basename:function(e,n){if(void 0!==n&&"string"!=typeof n)throw new TypeError('"ext" argument must be a string');t(e);var r,i=0,o=-1,s=!0;if(void 0!==n&&n.length>0&&n.length<=e.length){if(n.length===e.length&&n===e)return"";var a=n.length-1,c=-1;for(r=e.length-1;r>=0;--r){var u=e.charCodeAt(r);if(47===u){if(!s){i=r+1;break}}else-1===c&&(s=!1,c=r+1),a>=0&&(u===n.charCodeAt(a)?-1==--a&&(o=r):(a=-1,o=c))}return i===o?o=c:-1===o&&(o=e.length),e.slice(i,o)}for(r=e.length-1;r>=0;--r)if(47===e.charCodeAt(r)){if(!s){i=r+1;break}}else-1===o&&(s=!1,o=r+1);return-1===o?"":e.slice(i,o)},extname:function(e){t(e);for(var n=-1,r=0,i=-1,o=!0,s=0,a=e.length-1;a>=0;--a){var c=e.charCodeAt(a);if(47!==c)-1===i&&(o=!1,i=a+1),46===c?-1===n?n=a:1!==s&&(s=1):-1!==n&&(s=-1);else if(!o){r=a+1;break}}return-1===n||-1===i||0===s||1===s&&n===i-1&&n===r+1?"":e.slice(n,i)},format:function(e){if(null===e||"object"!=typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,t){var n=t.dir||t.root,r=t.base||(t.name||"")+(t.ext||"");return n?n===t.root?n+r:n+"/"+r:r}(0,e)},parse:function(e){t(e);var n={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return n;var r,i=e.charCodeAt(0),o=47===i;o?(n.root="/",r=1):r=0;for(var s=-1,a=0,c=-1,u=!0,l=e.length-1,h=0;l>=r;--l)if(47!==(i=e.charCodeAt(l)))-1===c&&(u=!1,c=l+1),46===i?-1===s?s=l:1!==h&&(h=1):-1!==s&&(h=-1);else if(!u){a=l+1;break}return-1===s||-1===c||0===h||1===h&&s===c-1&&s===a+1?-1!==c&&(n.base=n.name=0===a&&o?e.slice(1,c):e.slice(a,c)):(0===a&&o?(n.name=e.slice(1,s),n.base=e.slice(1,c)):(n.name=e.slice(a,s),n.base=e.slice(a,c)),n.ext=e.slice(s,c)),a>0?n.dir=e.slice(0,a-1):o&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};r.posix=r,e.exports=r},39350:e=>{"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,n,r,i){n=n||"&",r=r||"=";var o={};if("string"!=typeof e||0===e.length)return o;var s=/\+/g;e=e.split(n);var a=1e3;i&&"number"==typeof i.maxKeys&&(a=i.maxKeys);var c=e.length;a>0&&c>a&&(c=a);for(var u=0;u<c;++u){var l,h,d,f,p=e[u].replace(s,"%20"),m=p.indexOf(r);m>=0?(l=p.substr(0,m),h=p.substr(m+1)):(l=p,h=""),d=decodeURIComponent(l),f=decodeURIComponent(h),t(o,d)?Array.isArray(o[d])?o[d].push(f):o[d]=[o[d],f]:o[d]=f}return o}},94104:e=>{"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,n,r,i){return n=n||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(i){var o=encodeURIComponent(t(i))+r;return Array.isArray(e[i])?e[i].map((function(e){return o+encodeURIComponent(t(e))})).join(n):o+encodeURIComponent(t(e[i]))})).join(n):i?encodeURIComponent(t(i))+r+encodeURIComponent(t(e)):""}},48966:(e,t,n)=>{"use strict";t.decode=t.parse=n(39350),t.encode=t.stringify=n(94104)},88157:(e,t)=>{"use strict";var n=Object.prototype.hasOwnProperty;function r(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}function i(e){try{return encodeURIComponent(e)}catch(e){return null}}t.stringify=function(e,t){t=t||"";var r,o,s=[];for(o in"string"!=typeof t&&(t="?"),e)if(n.call(e,o)){if((r=e[o])||null!=r&&!isNaN(r)||(r=""),o=i(o),r=i(r),null===o||null===r)continue;s.push(o+"="+r)}return s.length?t+s.join("&"):""},t.parse=function(e){for(var t,n=/([^=?#&]+)=?([^&]*)/g,i={};t=n.exec(e);){var o=r(t[1]),s=r(t[2]);null===o||null===s||o in i||(i[o]=s)}return i}},53096:e=>{"use strict";e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},56829:e=>{var t=["Black","White","Gray","Brown","Red","Pink","Crimson","Carnelian","Orange","Yellow","Ivory","Cream","Green","Viridian","Aquamarine","Cyan","Blue","Cerulean","Azure","Indigo","Navy","Violet","Purple","Lavender","Magenta","Rainbow","Iridescent","Spectrum","Prism","Bold","Vivid","Pale","Clear","Glass","Translucent","Misty","Dark","Light","Gold","Silver","Copper","Bronze","Steel","Iron","Brass","Mercury","Zinc","Chrome","Platinum","Titanium","Nickel","Lead","Pewter","Rust","Metal","Stone","Quartz","Granite","Marble","Alabaster","Agate","Jasper","Pebble","Pyrite","Crystal","Geode","Obsidian","Mica","Flint","Sand","Gravel","Boulder","Basalt","Ruby","Beryl","Scarlet","Citrine","Sulpher","Topaz","Amber","Emerald","Malachite","Jade","Abalone","Lapis","Sapphire","Diamond","Peridot","Gem","Jewel","Bevel","Coral","Jet","Ebony","Wood","Tree","Cherry","Maple","Cedar","Branch","Bramble","Rowan","Ash","Fir","Pine","Cactus","Alder","Grove","Forest","Jungle","Palm","Bush","Mulberry","Juniper","Vine","Ivy","Rose","Lily","Tulip","Daffodil","Honeysuckle","Fuschia","Hazel","Walnut","Almond","Lime","Lemon","Apple","Blossom","Bloom","Crocus","Rose","Buttercup","Dandelion","Iris","Carnation","Fern","Root","Branch","Leaf","Seed","Flower","Petal","Pollen","Orchid","Mangrove","Cypress","Sequoia","Sage","Heather","Snapdragon","Daisy","Mountain","Hill","Alpine","Chestnut","Valley","Glacier","Forest","Grove","Glen","Tree","Thorn","Stump","Desert","Canyon","Dune","Oasis","Mirage","Well","Spring","Meadow","Field","Prairie","Grass","Tundra","Island","Shore","Sand","Shell","Surf","Wave","Foam","Tide","Lake","River","Brook","Stream","Pool","Pond","Sun","Sprinkle","Shade","Shadow","Rain","Cloud","Storm","Hail","Snow","Sleet","Thunder","Lightning","Wind","Hurricane","Typhoon","Dawn","Sunrise","Morning","Noon","Twilight","Evening","Sunset","Midnight","Night","Sky","Star","Stellar","Comet","Nebula","Quasar","Solar","Lunar","Planet","Meteor","Sprout","Pear","Plum","Kiwi","Berry","Apricot","Peach","Mango","Pineapple","Coconut","Olive","Ginger","Root","Plain","Fancy","Stripe","Spot","Speckle","Spangle","Ring","Band","Blaze","Paint","Pinto","Shade","Tabby","Brindle","Patch","Calico","Checker","Dot","Pattern","Glitter","Glimmer","Shimmer","Dull","Dust","Dirt","Glaze","Scratch","Quick","Swift","Fast","Slow","Clever","Fire","Flicker","Flash","Spark","Ember","Coal","Flame","Chocolate","Vanilla","Sugar","Spice","Cake","Pie","Cookie","Candy","Caramel","Spiral","Round","Jelly","Square","Narrow","Long","Short","Small","Tiny","Big","Giant","Great","Atom","Peppermint","Mint","Butter","Fringe","Rag","Quilt","Truth","Lie","Holy","Curse","Noble","Sly","Brave","Shy","Lava","Foul","Leather","Fantasy","Keen","Luminous","Feather","Sticky","Gossamer","Cotton","Rattle","Silk","Satin","Cord","Denim","Flannel","Plaid","Wool","Linen","Silent","Flax","Weak","Valiant","Fierce","Gentle","Rhinestone","Splash","North","South","East","West","Summer","Winter","Autumn","Spring","Season","Equinox","Solstice","Paper","Motley","Torch","Ballistic","Rampant","Shag","Freckle","Wild","Free","Chain","Sheer","Crazy","Mad","Candle","Ribbon","Lace","Notch","Wax","Shine","Shallow","Deep","Bubble","Harvest","Fluff","Venom","Boom","Slash","Rune","Cold","Quill","Love","Hate","Garnet","Zircon","Power","Bone","Void","Horn","Glory","Cyber","Nova","Hot","Helix","Cosmic","Quark","Quiver","Holly","Clover","Polar","Regal","Ripple","Ebony","Wheat","Phantom","Dew","Chisel","Crack","Chatter","Laser","Foil","Tin","Clever","Treasure","Maze","Twisty","Curly","Fortune","Fate","Destiny","Cute","Slime","Ink","Disco","Plume","Time","Psychadelic","Relic","Fossil","Water","Savage","Ancient","Rapid","Road","Trail","Stitch","Button","Bow","Nimble","Zest","Sour","Bitter","Phase","Fan","Frill","Plump","Pickle","Mud","Puddle","Pond","River","Spring","Stream","Battle","Arrow","Plume","Roan","Pitch","Tar","Cat","Dog","Horse","Lizard","Bird","Fish","Saber","Scythe","Sharp","Soft","Razor","Neon","Dandy","Weed","Swamp","Marsh","Bog","Peat","Moor","Muck","Mire","Grave","Fair","Just","Brick","Puzzle","Skitter","Prong","Fork","Dent","Dour","Warp","Luck","Coffee","Split","Chip","Hollow","Heavy","Legend","Hickory","Mesquite","Nettle","Rogue","Charm","Prickle","Bead","Sponge","Whip","Bald","Frost","Fog","Oil","Veil","Cliff","Volcano","Rift","Maze","Proud","Dew","Mirror","Shard","Salt","Pepper","Honey","Thread","Bristle","Ripple","Glow","Zenith"],n=["head","crest","crown","tooth","fang","horn","frill","skull","bone","tongue","throat","voice","nose","snout","chin","eye","sight","seer","speaker","singer","song","chanter","howler","chatter","shrieker","shriek","jaw","bite","biter","neck","shoulder","fin","wing","arm","lifter","grasp","grabber","hand","paw","foot","finger","toe","thumb","talon","palm","touch","racer","runner","hoof","fly","flier","swoop","roar","hiss","hisser","snarl","dive","diver","rib","chest","back","ridge","leg","legs","tail","beak","walker","lasher","swisher","carver","kicker","roarer","crusher","spike","shaker","charger","hunter","weaver","crafter","binder","scribe","muse","snap","snapper","slayer","stalker","track","tracker","scar","scarer","fright","killer","death","doom","healer","saver","friend","foe","guardian","thunder","lightning","cloud","storm","forger","scale","hair","braid","nape","belly","thief","stealer","reaper","giver","taker","dancer","player","gambler","twister","turner","painter","dart","drifter","sting","stinger","venom","spur","ripper","swallow","devourer","knight","lady","lord","queen","king","master","mistress","prince","princess","duke","dutchess","samurai","ninja","knave","slave","servant","sage","wizard","witch","warlock","warrior","jester","paladin","bard","trader","sword","shield","knife","dagger","arrow","bow","fighter","bane","follower","leader","scourge","watcher","cat","panther","tiger","cougar","puma","jaguar","ocelot","lynx","lion","leopard","ferret","weasel","wolverine","bear","raccoon","dog","wolf","kitten","puppy","cub","fox","hound","terrier","coyote","hyena","jackal","pig","horse","donkey","stallion","mare","zebra","antelope","gazelle","deer","buffalo","bison","boar","elk","whale","dolphin","shark","fish","minnow","salmon","ray","fisher","otter","gull","duck","goose","crow","raven","bird","eagle","raptor","hawk","falcon","moose","heron","owl","stork","crane","sparrow","robin","parrot","cockatoo","carp","lizard","gecko","iguana","snake","python","viper","boa","condor","vulture","spider","fly","scorpion","heron","oriole","toucan","bee","wasp","hornet","rabbit","bunny","hare","brow","mustang","ox","piper","soarer","flasher","moth","mask","hide","hero","antler","chill","chiller","gem","ogre","myth","elf","fairy","pixie","dragon","griffin","unicorn","pegasus","sprite","fancier","chopper","slicer","skinner","butterfly","legend","wanderer","rover","raver","loon","lancer","glass","glazer","flame","crystal","lantern","lighter","cloak","bell","ringer","keeper","centaur","bolt","catcher","whimsey","quester","rat","mouse","serpent","wyrm","gargoyle","thorn","whip","rider","spirit","sentry","bat","beetle","burn","cowl","stone","gem","collar","mark","grin","scowl","spear","razor","edge","seeker","jay","ape","monkey","gorilla","koala","kangaroo","yak","sloth","ant","roach","weed","seed","eater","razor","shirt","face","goat","mind","shift","rider","face","mole","vole","pirate","llama","stag","bug","cap","boot","drop","hugger","sargent","snagglefoot","carpet","curtain"];function r(e){return e=e||Math.random,n[Math.floor(e()*n.length)]}function i(e){return e=e||Math.random,t[Math.floor(e()*t.length)]}e.exports=function(e){var t=r(e),n=r(e);return n=n.substr(0,1).toUpperCase()+n.substr(1),i(e)+t+" "+n},e.exports.randomNoun=r,e.exports.randomAdjective=i},99438:e=>{"use strict";var t;t=function(){var e={},t={};return e.on=function(e,n){var r={name:e,handler:n};return t[e]=t[e]||[],t[e].unshift(r),r},e.off=function(e){var n=t[e.name].indexOf(e);-1!==n&&t[e.name].splice(n,1)},e.trigger=function(e,n){var r,i=t[e];if(i)for(r=i.length;r--;)i[r].handler(n)},e},e.exports=t},23465:function(e,t,n){e.exports=function(){"use strict";var e=function(e){var t=e.id,n=e.viewBox,r=e.content;this.id=t,this.viewBox=n,this.content=r};e.prototype.stringify=function(){return this.content},e.prototype.toString=function(){return this.stringify()},e.prototype.destroy=function(){var e=this;["id","viewBox","content"].forEach((function(t){return delete e[t]}))};function t(e,t){return e(t={exports:{}},t.exports),t.exports}"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self&&self;var r=t((function(e,t){e.exports=function(){function e(e){return e&&"object"==typeof e&&"[object RegExp]"!==Object.prototype.toString.call(e)&&"[object Date]"!==Object.prototype.toString.call(e)}function t(e){return Array.isArray(e)?[]:{}}function n(n,r){return r&&!0===r.clone&&e(n)?o(t(n),n,r):n}function r(t,r,i){var s=t.slice();return r.forEach((function(r,a){void 0===s[a]?s[a]=n(r,i):e(r)?s[a]=o(t[a],r,i):-1===t.indexOf(r)&&s.push(n(r,i))})),s}function i(t,r,i){var s={};return e(t)&&Object.keys(t).forEach((function(e){s[e]=n(t[e],i)})),Object.keys(r).forEach((function(a){e(r[a])&&t[a]?s[a]=o(t[a],r[a],i):s[a]=n(r[a],i)})),s}function o(e,t,o){var s=Array.isArray(t),a=(o||{arrayMerge:r}).arrayMerge||r;return s?Array.isArray(e)?a(e,t,o):n(t,o):i(e,t,o)}return o.all=function(e,t){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce((function(e,n){return o(e,n,t)}))},o}()})),i=t((function(e,t){t.default={svg:{name:"xmlns",uri:"http://www.w3.org/2000/svg"},xlink:{name:"xmlns:xlink",uri:"http://www.w3.org/1999/xlink"}},e.exports=t.default})),o=i.svg,s=i.xlink,a={};a[o.name]=o.uri,a[s.name]=s.uri;var c=function(e,t){return void 0===e&&(e=""),"<svg "+function(e){return Object.keys(e).map((function(t){return t+'="'+e[t].toString().replace(/"/g,"&quot;")+'"'})).join(" ")}(r(a,t||{}))+">"+e+"</svg>"},u=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={isMounted:{}};return n.isMounted.get=function(){return!!this.node},t.createFromExistingNode=function(e){return new t({id:e.getAttribute("id"),viewBox:e.getAttribute("viewBox"),content:e.outerHTML})},t.prototype.destroy=function(){this.isMounted&&this.unmount(),e.prototype.destroy.call(this)},t.prototype.mount=function(e){if(this.isMounted)return this.node;var t="string"==typeof e?document.querySelector(e):e,n=this.render();return this.node=n,t.appendChild(n),n},t.prototype.render=function(){var e=this.stringify();return function(e){var t=!!document.importNode,n=(new DOMParser).parseFromString(e,"image/svg+xml").documentElement;return t?document.importNode(n,!0):n}(c(e)).childNodes[0]},t.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},Object.defineProperties(t.prototype,n),t}(e);return u}()},52594:function(e,t,n){e.exports=function(){"use strict";function e(e,t){return e(t={exports:{}},t.exports),t.exports}"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self&&self;var t=e((function(e,t){e.exports=function(){function e(e){return e&&"object"==typeof e&&"[object RegExp]"!==Object.prototype.toString.call(e)&&"[object Date]"!==Object.prototype.toString.call(e)}function t(e){return Array.isArray(e)?[]:{}}function n(n,r){return r&&!0===r.clone&&e(n)?o(t(n),n,r):n}function r(t,r,i){var s=t.slice();return r.forEach((function(r,a){void 0===s[a]?s[a]=n(r,i):e(r)?s[a]=o(t[a],r,i):-1===t.indexOf(r)&&s.push(n(r,i))})),s}function i(t,r,i){var s={};return e(t)&&Object.keys(t).forEach((function(e){s[e]=n(t[e],i)})),Object.keys(r).forEach((function(a){e(r[a])&&t[a]?s[a]=o(t[a],r[a],i):s[a]=n(r[a],i)})),s}function o(e,t,o){var s=Array.isArray(t),a=(o||{arrayMerge:r}).arrayMerge||r;return s?Array.isArray(e)?a(e,t,o):n(t,o):i(e,t,o)}return o.all=function(e,t){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce((function(e,n){return o(e,n,t)}))},o}()}));var r=e((function(e,t){t.default={svg:{name:"xmlns",uri:"http://www.w3.org/2000/svg"},xlink:{name:"xmlns:xlink",uri:"http://www.w3.org/1999/xlink"}},e.exports=t.default})),i=r.svg,o=r.xlink,s={};s[i.name]=i.uri,s[o.name]=o.uri;var a,c=function(e,n){return void 0===e&&(e=""),"<svg "+function(e){return Object.keys(e).map((function(t){return t+'="'+e[t].toString().replace(/"/g,"&quot;")+'"'})).join(" ")}(t(s,n||{}))+">"+e+"</svg>"},u=r.svg,l=r.xlink,h={attrs:(a={style:["position: absolute","width: 0","height: 0"].join("; "),"aria-hidden":"true"},a[u.name]=u.uri,a[l.name]=l.uri,a)},d=function(e){this.config=t(h,e||{}),this.symbols=[]};d.prototype.add=function(e){var t=this.symbols,n=this.find(e.id);return n?(t[t.indexOf(n)]=e,!1):(t.push(e),!0)},d.prototype.remove=function(e){var t=this.symbols,n=this.find(e);return!!n&&(t.splice(t.indexOf(n),1),n.destroy(),!0)},d.prototype.find=function(e){return this.symbols.filter((function(t){return t.id===e}))[0]||null},d.prototype.has=function(e){return null!==this.find(e)},d.prototype.stringify=function(){var e=this.config.attrs,t=this.symbols.map((function(e){return e.stringify()})).join("");return c(t,e)},d.prototype.toString=function(){return this.stringify()},d.prototype.destroy=function(){this.symbols.forEach((function(e){return e.destroy()}))};var f=function(e){var t=e.id,n=e.viewBox,r=e.content;this.id=t,this.viewBox=n,this.content=r};f.prototype.stringify=function(){return this.content},f.prototype.toString=function(){return this.stringify()},f.prototype.destroy=function(){var e=this;["id","viewBox","content"].forEach((function(t){return delete e[t]}))};var p=function(e){var t=!!document.importNode,n=(new DOMParser).parseFromString(e,"image/svg+xml").documentElement;return t?document.importNode(n,!0):n},m=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={isMounted:{}};return n.isMounted.get=function(){return!!this.node},t.createFromExistingNode=function(e){return new t({id:e.getAttribute("id"),viewBox:e.getAttribute("viewBox"),content:e.outerHTML})},t.prototype.destroy=function(){this.isMounted&&this.unmount(),e.prototype.destroy.call(this)},t.prototype.mount=function(e){if(this.isMounted)return this.node;var t="string"==typeof e?document.querySelector(e):e,n=this.render();return this.node=n,t.appendChild(n),n},t.prototype.render=function(){var e=this.stringify();return p(c(e)).childNodes[0]},t.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},Object.defineProperties(t.prototype,n),t}(f),g={autoConfigure:!0,mountTo:"body",syncUrlsWithBaseTag:!1,listenLocationChangeEvent:!0,locationChangeEvent:"locationChange",locationChangeAngularEmitter:!1,usagesToUpdate:"use[*|href]",moveGradientsOutsideSymbol:!1},v=function(e){return Array.prototype.slice.call(e,0)},y=function(){return/firefox/i.test(navigator.userAgent)},b=function(){return/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)},w=function(){return/edge/i.test(navigator.userAgent)},S=function(e){return(e||window.location.href).split("#")[0]},_=function(e){angular.module("ng").run(["$rootScope",function(t){t.$on("$locationChangeSuccess",(function(t,n,r){var i,o,s;i=e,o={oldUrl:r,newUrl:n},(s=document.createEvent("CustomEvent")).initCustomEvent(i,!1,!1,o),window.dispatchEvent(s)}))}])},x=function(e,t){return void 0===t&&(t="linearGradient, radialGradient, pattern, mask, clipPath"),v(e.querySelectorAll("symbol")).forEach((function(e){v(e.querySelectorAll(t)).forEach((function(t){e.parentNode.insertBefore(t,e)}))})),e};var C=r.xlink.uri,E="xlink:href",k=/[{}|\\\^\[\]`"<>]/g;function A(e){return e.replace(k,(function(e){return"%"+e[0].charCodeAt(0).toString(16).toUpperCase()}))}var N,T=["clipPath","colorProfile","src","cursor","fill","filter","marker","markerStart","markerMid","markerEnd","mask","stroke","style"],P=T.map((function(e){return"["+e+"]"})).join(","),O=function(e,t,n,r){var i,o,s=A(n),a=A(r);(i=e.querySelectorAll(P),o=function(e){var t=e.localName,n=e.value;return-1!==T.indexOf(t)&&-1!==n.indexOf("url("+s)},v(i).reduce((function(e,t){if(!t.attributes)return e;var n=v(t.attributes),r=o?n.filter(o):n;return e.concat(r)}),[])).forEach((function(e){return e.value=e.value.replace(new RegExp(s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),a)})),function(e,t,n){v(e).forEach((function(e){var r=e.getAttribute(E);if(r&&0===r.indexOf(t)){var i=r.replace(t,n);e.setAttributeNS(C,E,i)}}))}(t,s,a)},I="mount",R="symbol_mount",L=function(e){function n(n){var r=this;void 0===n&&(n={}),e.call(this,t(g,n));var i,o=(i=i||Object.create(null),{on:function(e,t){(i[e]||(i[e]=[])).push(t)},off:function(e,t){i[e]&&i[e].splice(i[e].indexOf(t)>>>0,1)},emit:function(e,t){(i[e]||[]).map((function(e){e(t)})),(i["*"]||[]).map((function(n){n(e,t)}))}});this._emitter=o,this.node=null;var s=this.config;if(s.autoConfigure&&this._autoConfigure(n),s.syncUrlsWithBaseTag){var a=document.getElementsByTagName("base")[0].getAttribute("href");o.on(I,(function(){return r.updateUrls("#",a)}))}var c=this._handleLocationChange.bind(this);this._handleLocationChange=c,s.listenLocationChangeEvent&&window.addEventListener(s.locationChangeEvent,c),s.locationChangeAngularEmitter&&_(s.locationChangeEvent),o.on(I,(function(e){s.moveGradientsOutsideSymbol&&x(e)})),o.on(R,(function(e){var t;s.moveGradientsOutsideSymbol&&x(e.parentNode),(b()||w())&&(t=[],v(e.querySelectorAll("style")).forEach((function(e){e.textContent+="",t.push(e)})))}))}e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n;var r={isMounted:{}};return r.isMounted.get=function(){return!!this.node},n.prototype._autoConfigure=function(e){var t=this.config;void 0===e.syncUrlsWithBaseTag&&(t.syncUrlsWithBaseTag=void 0!==document.getElementsByTagName("base")[0]),void 0===e.locationChangeAngularEmitter&&(t.locationChangeAngularEmitter=void 0!==window.angular),void 0===e.moveGradientsOutsideSymbol&&(t.moveGradientsOutsideSymbol=y())},n.prototype._handleLocationChange=function(e){var t=e.detail,n=t.oldUrl,r=t.newUrl;this.updateUrls(n,r)},n.prototype.add=function(t){var n=e.prototype.add.call(this,t);return this.isMounted&&n&&(t.mount(this.node),this._emitter.emit(R,t.node)),n},n.prototype.attach=function(e){var t=this,n=this;if(n.isMounted)return n.node;var r="string"==typeof e?document.querySelector(e):e;return n.node=r,this.symbols.forEach((function(e){e.mount(n.node),t._emitter.emit(R,e.node)})),v(r.querySelectorAll("symbol")).forEach((function(e){var t=m.createFromExistingNode(e);t.node=e,n.add(t)})),this._emitter.emit(I,r),r},n.prototype.destroy=function(){var e=this,t=e.config,n=e.symbols,r=e._emitter;n.forEach((function(e){return e.destroy()})),r.off("*"),window.removeEventListener(t.locationChangeEvent,this._handleLocationChange),this.isMounted&&this.unmount()},n.prototype.mount=function(e,t){void 0===e&&(e=this.config.mountTo),void 0===t&&(t=!1);var n=this;if(n.isMounted)return n.node;var r="string"==typeof e?document.querySelector(e):e,i=n.render();return this.node=i,t&&r.childNodes[0]?r.insertBefore(i,r.childNodes[0]):r.appendChild(i),this._emitter.emit(I,i),i},n.prototype.render=function(){return p(this.stringify())},n.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},n.prototype.updateUrls=function(e,t){if(!this.isMounted)return!1;var n=document.querySelectorAll(this.config.usagesToUpdate);return O(this.node,n,S(e)+"#",S(t)+"#"),!0},Object.defineProperties(n.prototype,r),n}(d),M=e((function(e){var t;t=function(){var e,t=[],n=document,r=n.documentElement.doScroll,i="DOMContentLoaded",o=(r?/^loaded|^c/:/^loaded|^i|^c/).test(n.readyState);return o||n.addEventListener(i,e=function(){for(n.removeEventListener(i,e),o=1;e=t.shift();)e()}),function(e){o?setTimeout(e,0):t.push(e)}},e.exports=t()})),D="__SVG_SPRITE_NODE__",j="__SVG_SPRITE__";window[j]?N=window[j]:(N=new L({attrs:{id:D,"aria-hidden":"true"}}),window[j]=N);var F=function(){var e=document.getElementById(D);e?N.attach(e):N.mount(document.body,!0)};return document.body?F():M(F),N}()},59312:(e,t,n)=>{"use strict";n.d(t,{CR:()=>c,XA:()=>a,ZT:()=>i,ev:()=>u,fM:()=>s,gn:()=>o});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function o(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}function s(e,t){return function(n,r){t(n,r,e)}}function a(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function u(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create,Object.create},22371:function(e,t){!function(e){"use strict";function t(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length>1){t[0]=t[0].slice(0,-1);for(var r=t.length-1,i=1;i<r;++i)t[i]=t[i].slice(1,-1);return t[r]=t[r].slice(1),t.join("")}return t[0]}function n(e){return"(?:"+e+")"}function r(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function i(e){return e.toUpperCase()}function o(e){var r="[A-Za-z]",i="[0-9]",o=t(i,"[A-Fa-f]"),s=n(n("%[EFef]"+o+"%"+o+o+"%"+o+o)+"|"+n("%[89A-Fa-f]"+o+"%"+o+o)+"|"+n("%"+o+o)),a="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",c=t("[\\:\\/\\?\\#\\[\\]\\@]",a),u=e?"[\\uE000-\\uF8FF]":"[]",l=t(r,i,"[\\-\\.\\_\\~]",e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),h=n(r+t(r,i,"[\\+\\-\\.]")+"*"),d=n(n(s+"|"+t(l,a,"[\\:]"))+"*"),f=(n(n("25[0-5]")+"|"+n("2[0-4]"+i)+"|"+n("1"+i+i)+"|"+n("[1-9]"+i)+"|"+i),n(n("25[0-5]")+"|"+n("2[0-4]"+i)+"|"+n("1"+i+i)+"|"+n("0?[1-9]"+i)+"|0?0?"+i)),p=n(f+"\\."+f+"\\."+f+"\\."+f),m=n(o+"{1,4}"),g=n(n(m+"\\:"+m)+"|"+p),v=n(n(m+"\\:")+"{6}"+g),y=n("\\:\\:"+n(m+"\\:")+"{5}"+g),b=n(n(m)+"?\\:\\:"+n(m+"\\:")+"{4}"+g),w=n(n(n(m+"\\:")+"{0,1}"+m)+"?\\:\\:"+n(m+"\\:")+"{3}"+g),S=n(n(n(m+"\\:")+"{0,2}"+m)+"?\\:\\:"+n(m+"\\:")+"{2}"+g),_=n(n(n(m+"\\:")+"{0,3}"+m)+"?\\:\\:"+m+"\\:"+g),x=n(n(n(m+"\\:")+"{0,4}"+m)+"?\\:\\:"+g),C=n(n(n(m+"\\:")+"{0,5}"+m)+"?\\:\\:"+m),E=n(n(n(m+"\\:")+"{0,6}"+m)+"?\\:\\:"),k=n([v,y,b,w,S,_,x,C,E].join("|")),A=n(n(l+"|"+s)+"+"),N=(n(k+"\\%25"+A),n(k+n("\\%25|\\%(?!"+o+"{2})")+A)),T=n("[vV]"+o+"+\\."+t(l,a,"[\\:]")+"+"),P=n("\\["+n(N+"|"+k+"|"+T)+"\\]"),O=n(n(s+"|"+t(l,a))+"*"),I=n(P+"|"+p+"(?!"+O+")|"+O),R=n(i+"*"),L=n(n(d+"@")+"?"+I+n("\\:"+R)+"?"),M=n(s+"|"+t(l,a,"[\\:\\@]")),D=n(M+"*"),j=n(M+"+"),F=n(n(s+"|"+t(l,a,"[\\@]"))+"+"),B=n(n("\\/"+D)+"*"),q=n("\\/"+n(j+B)+"?"),U=n(F+B),z=n(j+B),$="(?!"+M+")",H=(n(B+"|"+q+"|"+U+"|"+z+"|"+$),n(n(M+"|"+t("[\\/\\?]",u))+"*")),G=n(n(M+"|[\\/\\?]")+"*"),V=n(n("\\/\\/"+L+B)+"|"+q+"|"+z+"|"+$),W=n(h+"\\:"+V+n("\\?"+H)+"?"+n("\\#"+G)+"?"),K=n(n("\\/\\/"+L+B)+"|"+q+"|"+U+"|"+$),Z=n(K+n("\\?"+H)+"?"+n("\\#"+G)+"?");return n(W+"|"+Z),n(h+"\\:"+V+n("\\?"+H)+"?"),n(n("\\/\\/("+n("("+d+")@")+"?("+I+")"+n("\\:("+R+")")+"?)")+"?("+B+"|"+q+"|"+z+"|"+$+")"),n("\\?("+H+")"),n("\\#("+G+")"),n(n("\\/\\/("+n("("+d+")@")+"?("+I+")"+n("\\:("+R+")")+"?)")+"?("+B+"|"+q+"|"+U+"|"+$+")"),n("\\?("+H+")"),n("\\#("+G+")"),n(n("\\/\\/("+n("("+d+")@")+"?("+I+")"+n("\\:("+R+")")+"?)")+"?("+B+"|"+q+"|"+z+"|"+$+")"),n("\\?("+H+")"),n("\\#("+G+")"),n("("+d+")@"),n("\\:("+R+")"),{NOT_SCHEME:new RegExp(t("[^]",r,i,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",l,a),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",l,a),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",l,a),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",l,a),"g"),NOT_QUERY:new RegExp(t("[^\\%]",l,a,"[\\:\\@\\/\\?]",u),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",l,a,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",l,a),"g"),UNRESERVED:new RegExp(l,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",l,c),"g"),PCT_ENCODED:new RegExp(s,"g"),IPV4ADDRESS:new RegExp("^("+p+")$"),IPV6ADDRESS:new RegExp("^\\[?("+k+")"+n(n("\\%25|\\%(?!"+o+"{2})")+"("+A+")")+"?\\]?$")}}var s=o(!1),a=o(!0),c=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},u=2147483647,l=36,h=/^xn--/,d=/[^\0-\x7E]/,f=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},m=Math.floor,g=String.fromCharCode;function v(e){throw new RangeError(p[e])}function y(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+function(e,t){for(var n=[],r=e.length;r--;)n[r]=t(e[r]);return n}((e=e.replace(f,".")).split("."),t).join(".")}function b(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=e.charCodeAt(n++);56320==(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),n--)}else t.push(i)}return t}var w=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},S=function(e,t,n){var r=0;for(e=n?m(e/700):e>>1,e+=m(e/t);e>455;r+=l)e=m(e/35);return m(r+36*e/(e+38))},_=function(e){var t,n=[],r=e.length,i=0,o=128,s=72,a=e.lastIndexOf("-");a<0&&(a=0);for(var c=0;c<a;++c)e.charCodeAt(c)>=128&&v("not-basic"),n.push(e.charCodeAt(c));for(var h=a>0?a+1:0;h<r;){for(var d=i,f=1,p=l;;p+=l){h>=r&&v("invalid-input");var g=(t=e.charCodeAt(h++))-48<10?t-22:t-65<26?t-65:t-97<26?t-97:l;(g>=l||g>m((u-i)/f))&&v("overflow"),i+=g*f;var y=p<=s?1:p>=s+26?26:p-s;if(g<y)break;var b=l-y;f>m(u/b)&&v("overflow"),f*=b}var w=n.length+1;s=S(i-d,w,0==d),m(i/w)>u-o&&v("overflow"),o+=m(i/w),i%=w,n.splice(i++,0,o)}return String.fromCodePoint.apply(String,n)},x=function(e){var t=[],n=(e=b(e)).length,r=128,i=0,o=72,s=!0,a=!1,c=void 0;try{for(var h,d=e[Symbol.iterator]();!(s=(h=d.next()).done);s=!0){var f=h.value;f<128&&t.push(g(f))}}catch(e){a=!0,c=e}finally{try{!s&&d.return&&d.return()}finally{if(a)throw c}}var p=t.length,y=p;for(p&&t.push("-");y<n;){var _=u,x=!0,C=!1,E=void 0;try{for(var k,A=e[Symbol.iterator]();!(x=(k=A.next()).done);x=!0){var N=k.value;N>=r&&N<_&&(_=N)}}catch(e){C=!0,E=e}finally{try{!x&&A.return&&A.return()}finally{if(C)throw E}}var T=y+1;_-r>m((u-i)/T)&&v("overflow"),i+=(_-r)*T,r=_;var P=!0,O=!1,I=void 0;try{for(var R,L=e[Symbol.iterator]();!(P=(R=L.next()).done);P=!0){var M=R.value;if(M<r&&++i>u&&v("overflow"),M==r){for(var D=i,j=l;;j+=l){var F=j<=o?1:j>=o+26?26:j-o;if(D<F)break;var B=D-F,q=l-F;t.push(g(w(F+B%q,0))),D=m(B/q)}t.push(g(w(D,0))),o=S(i,T,y==p),i=0,++y}}}catch(e){O=!0,I=e}finally{try{!P&&L.return&&L.return()}finally{if(O)throw I}}++i,++r}return t.join("")},C={version:"2.1.0",ucs2:{decode:b,encode:function(e){return String.fromCodePoint.apply(String,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e))}},decode:_,encode:x,toASCII:function(e){return y(e,(function(e){return d.test(e)?"xn--"+x(e):e}))},toUnicode:function(e){return y(e,(function(e){return h.test(e)?_(e.slice(4).toLowerCase()):e}))}},E={};function k(e){var t=e.charCodeAt(0);return t<16?"%0"+t.toString(16).toUpperCase():t<128?"%"+t.toString(16).toUpperCase():t<2048?"%"+(t>>6|192).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase():"%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase()}function A(e){for(var t="",n=0,r=e.length;n<r;){var i=parseInt(e.substr(n+1,2),16);if(i<128)t+=String.fromCharCode(i),n+=3;else if(i>=194&&i<224){if(r-n>=6){var o=parseInt(e.substr(n+4,2),16);t+=String.fromCharCode((31&i)<<6|63&o)}else t+=e.substr(n,6);n+=6}else if(i>=224){if(r-n>=9){var s=parseInt(e.substr(n+4,2),16),a=parseInt(e.substr(n+7,2),16);t+=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}else t+=e.substr(n,9);n+=9}else t+=e.substr(n,3),n+=3}return t}function N(e,t){function n(e){var n=A(e);return n.match(t.UNRESERVED)?n:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,n).toLowerCase().replace(t.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,n).replace(t.NOT_USERINFO,k).replace(t.PCT_ENCODED,i)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,n).toLowerCase().replace(t.NOT_HOST,k).replace(t.PCT_ENCODED,i)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,n).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,k).replace(t.PCT_ENCODED,i)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,n).replace(t.NOT_QUERY,k).replace(t.PCT_ENCODED,i)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,n).replace(t.NOT_FRAGMENT,k).replace(t.PCT_ENCODED,i)),e}function T(e){return e.replace(/^0*(.*)/,"$1")||"0"}function P(e,t){var n=e.match(t.IPV4ADDRESS)||[],r=c(n,2)[1];return r?r.split(".").map(T).join("."):e}function O(e,t){var n=e.match(t.IPV6ADDRESS)||[],r=c(n,3),i=r[1],o=r[2];if(i){for(var s=i.toLowerCase().split("::").reverse(),a=c(s,2),u=a[0],l=a[1],h=l?l.split(":").map(T):[],d=u.split(":").map(T),f=t.IPV4ADDRESS.test(d[d.length-1]),p=f?7:8,m=d.length-p,g=Array(p),v=0;v<p;++v)g[v]=h[v]||d[m+v]||"";f&&(g[p-1]=P(g[p-1],t));var y=g.reduce((function(e,t,n){if(!t||"0"===t){var r=e[e.length-1];r&&r.index+r.length===n?r.length++:e.push({index:n,length:1})}return e}),[]).sort((function(e,t){return t.length-e.length}))[0],b=void 0;if(y&&y.length>1){var w=g.slice(0,y.index),S=g.slice(y.index+y.length);b=w.join(":")+"::"+S.join(":")}else b=g.join(":");return o&&(b+="%"+o),b}return e}var I=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,R=void 0==="".match(/(){0}/)[1];function L(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={},r=!1!==t.iri?a:s;"suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e);var i=e.match(I);if(i){R?(n.scheme=i[1],n.userinfo=i[3],n.host=i[4],n.port=parseInt(i[5],10),n.path=i[6]||"",n.query=i[7],n.fragment=i[8],isNaN(n.port)&&(n.port=i[5])):(n.scheme=i[1]||void 0,n.userinfo=-1!==e.indexOf("@")?i[3]:void 0,n.host=-1!==e.indexOf("//")?i[4]:void 0,n.port=parseInt(i[5],10),n.path=i[6]||"",n.query=-1!==e.indexOf("?")?i[7]:void 0,n.fragment=-1!==e.indexOf("#")?i[8]:void 0,isNaN(n.port)&&(n.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?i[4]:void 0)),n.host&&(n.host=O(P(n.host,r),r)),void 0!==n.scheme||void 0!==n.userinfo||void 0!==n.host||void 0!==n.port||n.path||void 0!==n.query?void 0===n.scheme?n.reference="relative":void 0===n.fragment?n.reference="absolute":n.reference="uri":n.reference="same-document",t.reference&&"suffix"!==t.reference&&t.reference!==n.reference&&(n.error=n.error||"URI is not a "+t.reference+" reference.");var o=E[(t.scheme||n.scheme||"").toLowerCase()];if(t.unicodeSupport||o&&o.unicodeSupport)N(n,r);else{if(n.host&&(t.domainHost||o&&o.domainHost))try{n.host=C.toASCII(n.host.replace(r.PCT_ENCODED,A).toLowerCase())}catch(e){n.error=n.error||"Host's domain name can not be converted to ASCII via punycode: "+e}N(n,s)}o&&o.parse&&o.parse(n,t)}else n.error=n.error||"URI can not be parsed.";return n}var M=/^\.\.?\//,D=/^\/\.(\/|$)/,j=/^\/\.\.(\/|$)/,F=/^\/?(?:.|\n)*?(?=\/|$)/;function B(e){for(var t=[];e.length;)if(e.match(M))e=e.replace(M,"");else if(e.match(D))e=e.replace(D,"/");else if(e.match(j))e=e.replace(j,"/"),t.pop();else if("."===e||".."===e)e="";else{var n=e.match(F);if(!n)throw new Error("Unexpected dot segment condition");var r=n[0];e=e.slice(r.length),t.push(r)}return t.join("")}function q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.iri?a:s,r=[],i=E[(t.scheme||e.scheme||"").toLowerCase()];if(i&&i.serialize&&i.serialize(e,t),e.host)if(n.IPV6ADDRESS.test(e.host));else if(t.domainHost||i&&i.domainHost)try{e.host=t.iri?C.toUnicode(e.host):C.toASCII(e.host.replace(n.PCT_ENCODED,A).toLowerCase())}catch(n){e.error=e.error||"Host's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+n}N(e,n),"suffix"!==t.reference&&e.scheme&&(r.push(e.scheme),r.push(":"));var o=function(e,t){var n=!1!==t.iri?a:s,r=[];return void 0!==e.userinfo&&(r.push(e.userinfo),r.push("@")),void 0!==e.host&&r.push(O(P(String(e.host),n),n).replace(n.IPV6ADDRESS,(function(e,t,n){return"["+t+(n?"%25"+n:"")+"]"}))),"number"!=typeof e.port&&"string"!=typeof e.port||(r.push(":"),r.push(String(e.port))),r.length?r.join(""):void 0}(e,t);if(void 0!==o&&("suffix"!==t.reference&&r.push("//"),r.push(o),e.path&&"/"!==e.path.charAt(0)&&r.push("/")),void 0!==e.path){var c=e.path;t.absolutePath||i&&i.absolutePath||(c=B(c)),void 0===o&&(c=c.replace(/^\/\//,"/%2F")),r.push(c)}return void 0!==e.query&&(r.push("?"),r.push(e.query)),void 0!==e.fragment&&(r.push("#"),r.push(e.fragment)),r.join("")}function U(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={};return arguments[3]||(e=L(q(e,n),n),t=L(q(t,n),n)),!(n=n||{}).tolerant&&t.scheme?(r.scheme=t.scheme,r.userinfo=t.userinfo,r.host=t.host,r.port=t.port,r.path=B(t.path||""),r.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(r.userinfo=t.userinfo,r.host=t.host,r.port=t.port,r.path=B(t.path||""),r.query=t.query):(t.path?("/"===t.path.charAt(0)?r.path=B(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?r.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:r.path=t.path:r.path="/"+t.path,r.path=B(r.path)),r.query=t.query):(r.path=e.path,void 0!==t.query?r.query=t.query:r.query=e.query),r.userinfo=e.userinfo,r.host=e.host,r.port=e.port),r.scheme=e.scheme),r.fragment=t.fragment,r}function z(e,t){return e&&e.toString().replace(t&&t.iri?a.PCT_ENCODED:s.PCT_ENCODED,A)}var $={scheme:"http",domainHost:!0,parse:function(e,t){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,t){var n="https"===String(e.scheme).toLowerCase();return e.port!==(n?443:80)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},H={scheme:"https",domainHost:$.domainHost,parse:$.parse,serialize:$.serialize};function G(e){return"boolean"==typeof e.secure?e.secure:"wss"===String(e.scheme).toLowerCase()}var V={scheme:"ws",domainHost:!0,parse:function(e,t){var n=e;return n.secure=G(n),n.resourceName=(n.path||"/")+(n.query?"?"+n.query:""),n.path=void 0,n.query=void 0,n},serialize:function(e,t){if(e.port!==(G(e)?443:80)&&""!==e.port||(e.port=void 0),"boolean"==typeof e.secure&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){var n=e.resourceName.split("?"),r=c(n,2),i=r[0],o=r[1];e.path=i&&"/"!==i?i:void 0,e.query=o,e.resourceName=void 0}return e.fragment=void 0,e}},W={scheme:"wss",domainHost:V.domainHost,parse:V.parse,serialize:V.serialize},K={},Z="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Y="[0-9A-Fa-f]",J=n(n("%[EFef]"+Y+"%"+Y+Y+"%"+Y+Y)+"|"+n("%[89A-Fa-f]"+Y+"%"+Y+Y)+"|"+n("%"+Y+Y)),Q=t("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),X=new RegExp(Z,"g"),ee=new RegExp(J,"g"),te=new RegExp(t("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',Q),"g"),ne=new RegExp(t("[^]",Z,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),re=ne;function ie(e){var t=A(e);return t.match(X)?t:e}var oe={scheme:"mailto",parse:function(e,t){var n=e,r=n.to=n.path?n.path.split(","):[];if(n.path=void 0,n.query){for(var i=!1,o={},s=n.query.split("&"),a=0,c=s.length;a<c;++a){var u=s[a].split("=");switch(u[0]){case"to":for(var l=u[1].split(","),h=0,d=l.length;h<d;++h)r.push(l[h]);break;case"subject":n.subject=z(u[1],t);break;case"body":n.body=z(u[1],t);break;default:i=!0,o[z(u[0],t)]=z(u[1],t)}}i&&(n.headers=o)}n.query=void 0;for(var f=0,p=r.length;f<p;++f){var m=r[f].split("@");if(m[0]=z(m[0]),t.unicodeSupport)m[1]=z(m[1],t).toLowerCase();else try{m[1]=C.toASCII(z(m[1],t).toLowerCase())}catch(e){n.error=n.error||"Email address's domain name can not be converted to ASCII via punycode: "+e}r[f]=m.join("@")}return n},serialize:function(e,t){var n,r=e,o=null!=(n=e.to)?n instanceof Array?n:"number"!=typeof n.length||n.split||n.setInterval||n.call?[n]:Array.prototype.slice.call(n):[];if(o){for(var s=0,a=o.length;s<a;++s){var c=String(o[s]),u=c.lastIndexOf("@"),l=c.slice(0,u).replace(ee,ie).replace(ee,i).replace(te,k),h=c.slice(u+1);try{h=t.iri?C.toUnicode(h):C.toASCII(z(h,t).toLowerCase())}catch(e){r.error=r.error||"Email address's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+e}o[s]=l+"@"+h}r.path=o.join(",")}var d=e.headers=e.headers||{};e.subject&&(d.subject=e.subject),e.body&&(d.body=e.body);var f=[];for(var p in d)d[p]!==K[p]&&f.push(p.replace(ee,ie).replace(ee,i).replace(ne,k)+"="+d[p].replace(ee,ie).replace(ee,i).replace(re,k));return f.length&&(r.query=f.join("&")),r}},se=/^([^\:]+)\:(.*)/,ae={scheme:"urn",parse:function(e,t){var n=e.path&&e.path.match(se),r=e;if(n){var i=t.scheme||r.scheme||"urn",o=n[1].toLowerCase(),s=n[2],a=i+":"+(t.nid||o),c=E[a];r.nid=o,r.nss=s,r.path=void 0,c&&(r=c.parse(r,t))}else r.error=r.error||"URN can not be parsed.";return r},serialize:function(e,t){var n=t.scheme||e.scheme||"urn",r=e.nid,i=n+":"+(t.nid||r),o=E[i];o&&(e=o.serialize(e,t));var s=e,a=e.nss;return s.path=(r||t.nid)+":"+a,s}},ce=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,ue={scheme:"urn:uuid",parse:function(e,t){var n=e;return n.uuid=n.nss,n.nss=void 0,t.tolerant||n.uuid&&n.uuid.match(ce)||(n.error=n.error||"UUID is not valid."),n},serialize:function(e,t){var n=e;return n.nss=(e.uuid||"").toLowerCase(),n}};E[$.scheme]=$,E[H.scheme]=H,E[V.scheme]=V,E[W.scheme]=W,E[oe.scheme]=oe,E[ae.scheme]=ae,E[ue.scheme]=ue,e.SCHEMES=E,e.pctEncChar=k,e.pctDecChars=A,e.parse=L,e.removeDotSegments=B,e.serialize=q,e.resolveComponents=U,e.resolve=function(e,t,n){var r=function(e,t){var n=e;if(t)for(var r in t)n[r]=t[r];return n}({scheme:"null"},n);return q(U(L(e,r),L(t,r),r,!0),r)},e.normalize=function(e,t){return"string"==typeof e?e=q(L(e,t),t):"object"===r(e)&&(e=L(q(e,t),t)),e},e.equal=function(e,t,n){return"string"==typeof e?e=q(L(e,n),n):"object"===r(e)&&(e=q(e,n)),"string"==typeof t?t=q(L(t,n),n):"object"===r(t)&&(t=q(t,n)),e===t},e.escapeComponent=function(e,t){return e&&e.toString().replace(t&&t.iri?a.ESCAPE:s.ESCAPE,k)},e.unescapeComponent=z,Object.defineProperty(e,"__esModule",{value:!0})}(t)},86436:function(e,t,n){var r,i;!function(o,s){"use strict";e.exports?e.exports=s():void 0===(i="function"==typeof(r=s)?r.call(t,n,t,e):r)||(e.exports=i)}(0,(function(e){"use strict";var t=e&&e.IPv6;return{best:function(e){var t,n,r=e.toLowerCase().split(":"),i=r.length,o=8;for(""===r[0]&&""===r[1]&&""===r[2]?(r.shift(),r.shift()):""===r[0]&&""===r[1]?r.shift():""===r[i-1]&&""===r[i-2]&&r.pop(),-1!==r[(i=r.length)-1].indexOf(".")&&(o=7),t=0;t<i&&""!==r[t];t++);if(t<o)for(r.splice(t,1,"0000");r.length<o;)r.splice(t,0,"0000");for(var s=0;s<o;s++){n=r[s].split("");for(var a=0;a<3&&"0"===n[0]&&n.length>1;a++)n.splice(0,1);r[s]=n.join("")}var c=-1,u=0,l=0,h=-1,d=!1;for(s=0;s<o;s++)d?"0"===r[s]?l+=1:(d=!1,l>u&&(c=h,u=l)):"0"===r[s]&&(d=!0,h=s,l=1);l>u&&(c=h,u=l),u>1&&r.splice(c,u,""),i=r.length;var f="";for(""===r[0]&&(f=":"),s=0;s<i&&(f+=r[s],s!==i-1);s++)f+=":";return""===r[i-1]&&(f+=":"),f},noConflict:function(){return e.IPv6===this&&(e.IPv6=t),this}}}))},75134:function(e,t,n){var r,i;!function(o,s){"use strict";e.exports?e.exports=s():void 0===(i="function"==typeof(r=s)?r.call(t,n,t,e):r)||(e.exports=i)}(0,(function(e){"use strict";var t=e&&e.SecondLevelDomains,n={list:{ac:" com gov mil net org ",ae:" ac co gov mil name net org pro sch ",af:" com edu gov net org ",al:" com edu gov mil net org ",ao:" co ed gv it og pb ",ar:" com edu gob gov int mil net org tur ",at:" ac co gv or ",au:" asn com csiro edu gov id net org ",ba:" co com edu gov mil net org rs unbi unmo unsa untz unze ",bb:" biz co com edu gov info net org store tv ",bh:" biz cc com edu gov info net org ",bn:" com edu gov net org ",bo:" com edu gob gov int mil net org tv ",br:" adm adv agr am arq art ato b bio blog bmd cim cng cnt com coop ecn edu eng esp etc eti far flog fm fnd fot fst g12 ggf gov imb ind inf jor jus lel mat med mil mus net nom not ntr odo org ppg pro psc psi qsl rec slg srv tmp trd tur tv vet vlog wiki zlg ",bs:" com edu gov net org ",bz:" du et om ov rg ",ca:" ab bc mb nb nf nl ns nt nu on pe qc sk yk ",ck:" biz co edu gen gov info net org ",cn:" ac ah bj com cq edu fj gd gov gs gx gz ha hb he hi hl hn jl js jx ln mil net nm nx org qh sc sd sh sn sx tj tw xj xz yn zj ",co:" com edu gov mil net nom org ",cr:" ac c co ed fi go or sa ",cy:" ac biz com ekloges gov ltd name net org parliament press pro tm ",do:" art com edu gob gov mil net org sld web ",dz:" art asso com edu gov net org pol ",ec:" com edu fin gov info med mil net org pro ",eg:" com edu eun gov mil name net org sci ",er:" com edu gov ind mil net org rochest w ",es:" com edu gob nom org ",et:" biz com edu gov info name net org ",fj:" ac biz com info mil name net org pro ",fk:" ac co gov net nom org ",fr:" asso com f gouv nom prd presse tm ",gg:" co net org ",gh:" com edu gov mil org ",gn:" ac com gov net org ",gr:" com edu gov mil net org ",gt:" com edu gob ind mil net org ",gu:" com edu gov net org ",hk:" com edu gov idv net org ",hu:" 2000 agrar bolt casino city co erotica erotika film forum games hotel info ingatlan jogasz konyvelo lakas media news org priv reklam sex shop sport suli szex tm tozsde utazas video ",id:" ac co go mil net or sch web ",il:" ac co gov idf k12 muni net org ",in:" ac co edu ernet firm gen gov i ind mil net nic org res ",iq:" com edu gov i mil net org ",ir:" ac co dnssec gov i id net org sch ",it:" edu gov ",je:" co net org ",jo:" com edu gov mil name net org sch ",jp:" ac ad co ed go gr lg ne or ",ke:" ac co go info me mobi ne or sc ",kh:" com edu gov mil net org per ",ki:" biz com de edu gov info mob net org tel ",km:" asso com coop edu gouv k medecin mil nom notaires pharmaciens presse tm veterinaire ",kn:" edu gov net org ",kr:" ac busan chungbuk chungnam co daegu daejeon es gangwon go gwangju gyeongbuk gyeonggi gyeongnam hs incheon jeju jeonbuk jeonnam k kg mil ms ne or pe re sc seoul ulsan ",kw:" com edu gov net org ",ky:" com edu gov net org ",kz:" com edu gov mil net org ",lb:" com edu gov net org ",lk:" assn com edu gov grp hotel int ltd net ngo org sch soc web ",lr:" com edu gov net org ",lv:" asn com conf edu gov id mil net org ",ly:" com edu gov id med net org plc sch ",ma:" ac co gov m net org press ",mc:" asso tm ",me:" ac co edu gov its net org priv ",mg:" com edu gov mil nom org prd tm ",mk:" com edu gov inf name net org pro ",ml:" com edu gov net org presse ",mn:" edu gov org ",mo:" com edu gov net org ",mt:" com edu gov net org ",mv:" aero biz com coop edu gov info int mil museum name net org pro ",mw:" ac co com coop edu gov int museum net org ",mx:" com edu gob net org ",my:" com edu gov mil name net org sch ",nf:" arts com firm info net other per rec store web ",ng:" biz com edu gov mil mobi name net org sch ",ni:" ac co com edu gob mil net nom org ",np:" com edu gov mil net org ",nr:" biz com edu gov info net org ",om:" ac biz co com edu gov med mil museum net org pro sch ",pe:" com edu gob mil net nom org sld ",ph:" com edu gov i mil net ngo org ",pk:" biz com edu fam gob gok gon gop gos gov net org web ",pl:" art bialystok biz com edu gda gdansk gorzow gov info katowice krakow lodz lublin mil net ngo olsztyn org poznan pwr radom slupsk szczecin torun warszawa waw wroc wroclaw zgora ",pr:" ac biz com edu est gov info isla name net org pro prof ",ps:" com edu gov net org plo sec ",pw:" belau co ed go ne or ",ro:" arts com firm info nom nt org rec store tm www ",rs:" ac co edu gov in org ",sb:" com edu gov net org ",sc:" com edu gov net org ",sh:" co com edu gov net nom org ",sl:" com edu gov net org ",st:" co com consulado edu embaixada gov mil net org principe saotome store ",sv:" com edu gob org red ",sz:" ac co org ",tr:" av bbs bel biz com dr edu gen gov info k12 name net org pol tel tsk tv web ",tt:" aero biz cat co com coop edu gov info int jobs mil mobi museum name net org pro tel travel ",tw:" club com ebiz edu game gov idv mil net org ",mu:" ac co com gov net or org ",mz:" ac co edu gov org ",na:" co com ",nz:" ac co cri geek gen govt health iwi maori mil net org parliament school ",pa:" abo ac com edu gob ing med net nom org sld ",pt:" com edu gov int net nome org publ ",py:" com edu gov mil net org ",qa:" com edu gov mil net org ",re:" asso com nom ",ru:" ac adygeya altai amur arkhangelsk astrakhan bashkiria belgorod bir bryansk buryatia cbg chel chelyabinsk chita chukotka chuvashia com dagestan e-burg edu gov grozny int irkutsk ivanovo izhevsk jar joshkar-ola kalmykia kaluga kamchatka karelia kazan kchr kemerovo khabarovsk khakassia khv kirov koenig komi kostroma kranoyarsk kuban kurgan kursk lipetsk magadan mari mari-el marine mil mordovia mosreg msk murmansk nalchik net nnov nov novosibirsk nsk omsk orenburg org oryol penza perm pp pskov ptz rnd ryazan sakhalin samara saratov simbirsk smolensk spb stavropol stv surgut tambov tatarstan tom tomsk tsaritsyn tsk tula tuva tver tyumen udm udmurtia ulan-ude vladikavkaz vladimir vladivostok volgograd vologda voronezh vrn vyatka yakutia yamal yekaterinburg yuzhno-sakhalinsk ",rw:" ac co com edu gouv gov int mil net ",sa:" com edu gov med net org pub sch ",sd:" com edu gov info med net org tv ",se:" a ac b bd c d e f g h i k l m n o org p parti pp press r s t tm u w x y z ",sg:" com edu gov idn net org per ",sn:" art com edu gouv org perso univ ",sy:" com edu gov mil net news org ",th:" ac co go in mi net or ",tj:" ac biz co com edu go gov info int mil name net nic org test web ",tn:" agrinet com defense edunet ens fin gov ind info intl mincom nat net org perso rnrt rns rnu tourism ",tz:" ac co go ne or ",ua:" biz cherkassy chernigov chernovtsy ck cn co com crimea cv dn dnepropetrovsk donetsk dp edu gov if in ivano-frankivsk kh kharkov kherson khmelnitskiy kiev kirovograd km kr ks kv lg lugansk lutsk lviv me mk net nikolaev od odessa org pl poltava pp rovno rv sebastopol sumy te ternopil uzhgorod vinnica vn zaporizhzhe zhitomir zp zt ",ug:" ac co go ne or org sc ",uk:" ac bl british-library co cym gov govt icnet jet lea ltd me mil mod national-library-scotland nel net nhs nic nls org orgn parliament plc police sch scot soc ",us:" dni fed isa kids nsn ",uy:" com edu gub mil net org ",ve:" co com edu gob info mil net org web ",vi:" co com k12 net org ",vn:" ac biz com edu gov health info int name net org pro ",ye:" co com gov ltd me net org plc ",yu:" ac co edu gov org ",za:" ac agric alt bourse city co cybernet db edu gov grondar iaccess imt inca landesign law mil net ngo nis nom olivetti org pix school tm web ",zm:" ac co com edu gov net org sch ",com:"ar br cn de eu gb gr hu jpn kr no qc ru sa se uk us uy za ",net:"gb jp se uk ",org:"ae",de:"com "},has:function(e){var t=e.lastIndexOf(".");if(t<=0||t>=e.length-1)return!1;var r=e.lastIndexOf(".",t-1);if(r<=0||r>=t-1)return!1;var i=n.list[e.slice(t+1)];return!!i&&i.indexOf(" "+e.slice(r+1,t)+" ")>=0},is:function(e){var t=e.lastIndexOf(".");if(t<=0||t>=e.length-1)return!1;if(e.lastIndexOf(".",t-1)>=0)return!1;var r=n.list[e.slice(t+1)];return!!r&&r.indexOf(" "+e.slice(0,t)+" ")>=0},get:function(e){var t=e.lastIndexOf(".");if(t<=0||t>=e.length-1)return null;var r=e.lastIndexOf(".",t-1);if(r<=0||r>=t-1)return null;var i=n.list[e.slice(t+1)];return i?i.indexOf(" "+e.slice(r+1,t)+" ")<0?null:e.slice(r+1):null},noConflict:function(){return e.SecondLevelDomains===this&&(e.SecondLevelDomains=t),this}};return n}))},92471:function(e,t,n){var r,i,o;!function(s,a){"use strict";e.exports?e.exports=a(n(51069),n(86436),n(75134)):(i=[n(51069),n(86436),n(75134)],void 0===(o="function"==typeof(r=a)?r.apply(t,i):r)||(e.exports=o))}(0,(function(e,t,n,r){"use strict";var i=r&&r.URI;function o(e,t){var n=arguments.length>=1;if(!(this instanceof o))return n?arguments.length>=2?new o(e,t):new o(e):new o;if(void 0===e){if(n)throw new TypeError("undefined is not a valid argument for URI");e="undefined"!=typeof location?location.href+"":""}if(null===e&&n)throw new TypeError("null is not a valid argument for URI");return this.href(e),void 0!==t?this.absoluteTo(t):this}o.version="1.19.11";var s=o.prototype,a=Object.prototype.hasOwnProperty;function c(e){return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function u(e){return void 0===e?"Undefined":String(Object.prototype.toString.call(e)).slice(8,-1)}function l(e){return"Array"===u(e)}function h(e,t){var n,r,i={};if("RegExp"===u(t))i=null;else if(l(t))for(n=0,r=t.length;n<r;n++)i[t[n]]=!0;else i[t]=!0;for(n=0,r=e.length;n<r;n++)(i&&void 0!==i[e[n]]||!i&&t.test(e[n]))&&(e.splice(n,1),r--,n--);return e}function d(e,t){var n,r;if(l(t)){for(n=0,r=t.length;n<r;n++)if(!d(e,t[n]))return!1;return!0}var i=u(t);for(n=0,r=e.length;n<r;n++)if("RegExp"===i){if("string"==typeof e[n]&&e[n].match(t))return!0}else if(e[n]===t)return!0;return!1}function f(e,t){if(!l(e)||!l(t))return!1;if(e.length!==t.length)return!1;e.sort(),t.sort();for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function p(e){return e.replace(/^\/+|\/+$/g,"")}function m(e){return escape(e)}function g(e){return encodeURIComponent(e).replace(/[!'()*]/g,m).replace(/\*/g,"%2A")}o._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,preventInvalidHostname:o.preventInvalidHostname,duplicateQueryParameters:o.duplicateQueryParameters,escapeQuerySpace:o.escapeQuerySpace}},o.preventInvalidHostname=!1,o.duplicateQueryParameters=!1,o.escapeQuerySpace=!0,o.protocol_expression=/^[a-z][a-z0-9.+-]*$/i,o.idn_expression=/[^a-z0-9\._-]/i,o.punycode_expression=/(xn--)/i,o.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,o.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,o.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/gi,o.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?«»“”„‘’]+$/,parens:/(\([^\)]*\)|\[[^\]]*\]|\{[^}]*\}|<[^>]*>)/g},o.leading_whitespace_expression=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,o.ascii_tab_whitespace=/[\u0009\u000A\u000D]+/g,o.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"},o.hostProtocols=["http","https"],o.invalid_hostname_characters=/[^a-zA-Z0-9\.\-:_]/,o.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src",audio:"src",video:"src"},o.getDomAttribute=function(e){if(e&&e.nodeName){var t=e.nodeName.toLowerCase();if("input"!==t||"image"===e.type)return o.domAttributes[t]}},o.encode=g,o.decode=decodeURIComponent,o.iso8859=function(){o.encode=escape,o.decode=unescape},o.unicode=function(){o.encode=g,o.decode=decodeURIComponent},o.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}},urnpath:{encode:{expression:/%(21|24|27|28|29|2A|2B|2C|3B|3D|40)/gi,map:{"%21":"!","%24":"$","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"=","%40":"@"}},decode:{expression:/[\/\?#:]/g,map:{"/":"%2F","?":"%3F","#":"%23",":":"%3A"}}}},o.encodeQuery=function(e,t){var n=o.encode(e+"");return void 0===t&&(t=o.escapeQuerySpace),t?n.replace(/%20/g,"+"):n},o.decodeQuery=function(e,t){e+="",void 0===t&&(t=o.escapeQuerySpace);try{return o.decode(t?e.replace(/\+/g,"%20"):e)}catch(t){return e}};var v,y={encode:"encode",decode:"decode"},b=function(e,t){return function(n){try{return o[t](n+"").replace(o.characters[e][t].expression,(function(n){return o.characters[e][t].map[n]}))}catch(e){return n}}};for(v in y)o[v+"PathSegment"]=b("pathname",y[v]),o[v+"UrnPathSegment"]=b("urnpath",y[v]);var w=function(e,t,n){return function(r){var i;i=n?function(e){return o[t](o[n](e))}:o[t];for(var s=(r+"").split(e),a=0,c=s.length;a<c;a++)s[a]=i(s[a]);return s.join(e)}};function S(e){return function(t,n){return void 0===t?this._parts[e]||"":(this._parts[e]=t||null,this.build(!n),this)}}function _(e,t){return function(n,r){return void 0===n?this._parts[e]||"":(null!==n&&(n+="").charAt(0)===t&&(n=n.substring(1)),this._parts[e]=n,this.build(!r),this)}}o.decodePath=w("/","decodePathSegment"),o.decodeUrnPath=w(":","decodeUrnPathSegment"),o.recodePath=w("/","encodePathSegment","decode"),o.recodeUrnPath=w(":","encodeUrnPathSegment","decode"),o.encodeReserved=b("reserved","encode"),o.parse=function(e,t){var n;return t||(t={preventInvalidHostname:o.preventInvalidHostname}),(n=(e=(e=e.replace(o.leading_whitespace_expression,"")).replace(o.ascii_tab_whitespace,"")).indexOf("#"))>-1&&(t.fragment=e.substring(n+1)||null,e=e.substring(0,n)),(n=e.indexOf("?"))>-1&&(t.query=e.substring(n+1)||null,e=e.substring(0,n)),"//"===(e=(e=e.replace(/^(https?|ftp|wss?)?:+[/\\]*/i,"$1://")).replace(/^[/\\]{2,}/i,"//")).substring(0,2)?(t.protocol=null,e=e.substring(2),e=o.parseAuthority(e,t)):(n=e.indexOf(":"))>-1&&(t.protocol=e.substring(0,n)||null,t.protocol&&!t.protocol.match(o.protocol_expression)?t.protocol=void 0:"//"===e.substring(n+1,n+3).replace(/\\/g,"/")?(e=e.substring(n+3),e=o.parseAuthority(e,t)):(e=e.substring(n+1),t.urn=!0)),t.path=e,t},o.parseHost=function(e,t){e||(e="");var n,r,i=(e=e.replace(/\\/g,"/")).indexOf("/");if(-1===i&&(i=e.length),"["===e.charAt(0))n=e.indexOf("]"),t.hostname=e.substring(1,n)||null,t.port=e.substring(n+2,i)||null,"/"===t.port&&(t.port=null);else{var s=e.indexOf(":"),a=e.indexOf("/"),c=e.indexOf(":",s+1);-1!==c&&(-1===a||c<a)?(t.hostname=e.substring(0,i)||null,t.port=null):(r=e.substring(0,i).split(":"),t.hostname=r[0]||null,t.port=r[1]||null)}return t.hostname&&"/"!==e.substring(i).charAt(0)&&(i++,e="/"+e),t.preventInvalidHostname&&o.ensureValidHostname(t.hostname,t.protocol),t.port&&o.ensureValidPort(t.port),e.substring(i)||"/"},o.parseAuthority=function(e,t){return e=o.parseUserinfo(e,t),o.parseHost(e,t)},o.parseUserinfo=function(e,t){var n=e;-1!==e.indexOf("\\")&&(e=e.replace(/\\/g,"/"));var r,i=e.indexOf("/"),s=e.lastIndexOf("@",i>-1?i:e.length-1);return s>-1&&(-1===i||s<i)?(r=e.substring(0,s).split(":"),t.username=r[0]?o.decode(r[0]):null,r.shift(),t.password=r[0]?o.decode(r.join(":")):null,e=n.substring(s+1)):(t.username=null,t.password=null),e},o.parseQuery=function(e,t){if(!e)return{};if(!(e=e.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,"")))return{};for(var n,r,i,s={},c=e.split("&"),u=c.length,l=0;l<u;l++)n=c[l].split("="),r=o.decodeQuery(n.shift(),t),i=n.length?o.decodeQuery(n.join("="),t):null,"__proto__"!==r&&(a.call(s,r)?("string"!=typeof s[r]&&null!==s[r]||(s[r]=[s[r]]),s[r].push(i)):s[r]=i);return s},o.build=function(e){var t="",n=!1;return e.protocol&&(t+=e.protocol+":"),e.urn||!t&&!e.hostname||(t+="//",n=!0),t+=o.buildAuthority(e)||"","string"==typeof e.path&&("/"!==e.path.charAt(0)&&n&&(t+="/"),t+=e.path),"string"==typeof e.query&&e.query&&(t+="?"+e.query),"string"==typeof e.fragment&&e.fragment&&(t+="#"+e.fragment),t},o.buildHost=function(e){var t="";return e.hostname?(o.ip6_expression.test(e.hostname)?t+="["+e.hostname+"]":t+=e.hostname,e.port&&(t+=":"+e.port),t):""},o.buildAuthority=function(e){return o.buildUserinfo(e)+o.buildHost(e)},o.buildUserinfo=function(e){var t="";return e.username&&(t+=o.encode(e.username)),e.password&&(t+=":"+o.encode(e.password)),t&&(t+="@"),t},o.buildQuery=function(e,t,n){var r,i,s,c,u="";for(i in e)if("__proto__"!==i&&a.call(e,i))if(l(e[i]))for(r={},s=0,c=e[i].length;s<c;s++)void 0!==e[i][s]&&void 0===r[e[i][s]+""]&&(u+="&"+o.buildQueryParameter(i,e[i][s],n),!0!==t&&(r[e[i][s]+""]=!0));else void 0!==e[i]&&(u+="&"+o.buildQueryParameter(i,e[i],n));return u.substring(1)},o.buildQueryParameter=function(e,t,n){return o.encodeQuery(e,n)+(null!==t?"="+o.encodeQuery(t,n):"")},o.addQuery=function(e,t,n){if("object"==typeof t)for(var r in t)a.call(t,r)&&o.addQuery(e,r,t[r]);else{if("string"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");if(void 0===e[t])return void(e[t]=n);"string"==typeof e[t]&&(e[t]=[e[t]]),l(n)||(n=[n]),e[t]=(e[t]||[]).concat(n)}},o.setQuery=function(e,t,n){if("object"==typeof t)for(var r in t)a.call(t,r)&&o.setQuery(e,r,t[r]);else{if("string"!=typeof t)throw new TypeError("URI.setQuery() accepts an object, string as the name parameter");e[t]=void 0===n?null:n}},o.removeQuery=function(e,t,n){var r,i,s;if(l(t))for(r=0,i=t.length;r<i;r++)e[t[r]]=void 0;else if("RegExp"===u(t))for(s in e)t.test(s)&&(e[s]=void 0);else if("object"==typeof t)for(s in t)a.call(t,s)&&o.removeQuery(e,s,t[s]);else{if("string"!=typeof t)throw new TypeError("URI.removeQuery() accepts an object, string, RegExp as the first parameter");void 0!==n?"RegExp"===u(n)?!l(e[t])&&n.test(e[t])?e[t]=void 0:e[t]=h(e[t],n):e[t]!==String(n)||l(n)&&1!==n.length?l(e[t])&&(e[t]=h(e[t],n)):e[t]=void 0:e[t]=void 0}},o.hasQuery=function(e,t,n,r){switch(u(t)){case"String":break;case"RegExp":for(var i in e)if(a.call(e,i)&&t.test(i)&&(void 0===n||o.hasQuery(e,i,n)))return!0;return!1;case"Object":for(var s in t)if(a.call(t,s)&&!o.hasQuery(e,s,t[s]))return!1;return!0;default:throw new TypeError("URI.hasQuery() accepts a string, regular expression or object as the name parameter")}switch(u(n)){case"Undefined":return t in e;case"Boolean":return n===Boolean(l(e[t])?e[t].length:e[t]);case"Function":return!!n(e[t],t,e);case"Array":return!!l(e[t])&&(r?d:f)(e[t],n);case"RegExp":return l(e[t])?!!r&&d(e[t],n):Boolean(e[t]&&e[t].match(n));case"Number":n=String(n);case"String":return l(e[t])?!!r&&d(e[t],n):e[t]===n;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},o.joinPaths=function(){for(var e=[],t=[],n=0,r=0;r<arguments.length;r++){var i=new o(arguments[r]);e.push(i);for(var s=i.segment(),a=0;a<s.length;a++)"string"==typeof s[a]&&t.push(s[a]),s[a]&&n++}if(!t.length||!n)return new o("");var c=new o("").segment(t);return""!==e[0].path()&&"/"!==e[0].path().slice(0,1)||c.path("/"+c.path()),c.normalize()},o.commonPath=function(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n++)if(e.charAt(n)!==t.charAt(n)){n--;break}return n<1?e.charAt(0)===t.charAt(0)&&"/"===e.charAt(0)?"/":"":("/"===e.charAt(n)&&"/"===t.charAt(n)||(n=e.substring(0,n).lastIndexOf("/")),e.substring(0,n+1))},o.withinString=function(e,t,n){n||(n={});var r=n.start||o.findUri.start,i=n.end||o.findUri.end,s=n.trim||o.findUri.trim,a=n.parens||o.findUri.parens,c=/[a-z0-9-]=["']?$/i;for(r.lastIndex=0;;){var u=r.exec(e);if(!u)break;var l=u.index;if(n.ignoreHtml){var h=e.slice(Math.max(l-3,0),l);if(h&&c.test(h))continue}for(var d=l+e.slice(l).search(i),f=e.slice(l,d),p=-1;;){var m=a.exec(f);if(!m)break;var g=m.index+m[0].length;p=Math.max(p,g)}if(!((f=p>-1?f.slice(0,p)+f.slice(p).replace(s,""):f.replace(s,"")).length<=u[0].length||n.ignore&&n.ignore.test(f))){var v=t(f,l,d=l+f.length,e);void 0!==v?(v=String(v),e=e.slice(0,l)+v+e.slice(d),r.lastIndex=l+v.length):r.lastIndex=d}}return r.lastIndex=0,e},o.ensureValidHostname=function(t,n){var r=!!t,i=!1;if(!!n&&(i=d(o.hostProtocols,n)),i&&!r)throw new TypeError("Hostname cannot be empty, if protocol is "+n);if(t&&t.match(o.invalid_hostname_characters)){if(!e)throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-:_] and Punycode.js is not available');if(e.toASCII(t).match(o.invalid_hostname_characters))throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-:_]')}},o.ensureValidPort=function(e){if(e){var t=Number(e);if(!(/^[0-9]+$/.test(t)&&t>0&&t<65536))throw new TypeError('Port "'+e+'" is not a valid port')}},o.noConflict=function(e){if(e){var t={URI:this.noConflict()};return r.URITemplate&&"function"==typeof r.URITemplate.noConflict&&(t.URITemplate=r.URITemplate.noConflict()),r.IPv6&&"function"==typeof r.IPv6.noConflict&&(t.IPv6=r.IPv6.noConflict()),r.SecondLevelDomains&&"function"==typeof r.SecondLevelDomains.noConflict&&(t.SecondLevelDomains=r.SecondLevelDomains.noConflict()),t}return r.URI===this&&(r.URI=i),this},s.build=function(e){return!0===e?this._deferred_build=!0:(void 0===e||this._deferred_build)&&(this._string=o.build(this._parts),this._deferred_build=!1),this},s.clone=function(){return new o(this)},s.valueOf=s.toString=function(){return this.build(!1)._string},s.protocol=S("protocol"),s.username=S("username"),s.password=S("password"),s.hostname=S("hostname"),s.port=S("port"),s.query=_("query","?"),s.fragment=_("fragment","#"),s.search=function(e,t){var n=this.query(e,t);return"string"==typeof n&&n.length?"?"+n:n},s.hash=function(e,t){var n=this.fragment(e,t);return"string"==typeof n&&n.length?"#"+n:n},s.pathname=function(e,t){if(void 0===e||!0===e){var n=this._parts.path||(this._parts.hostname?"/":"");return e?(this._parts.urn?o.decodeUrnPath:o.decodePath)(n):n}return this._parts.urn?this._parts.path=e?o.recodeUrnPath(e):"":this._parts.path=e?o.recodePath(e):"/",this.build(!t),this},s.path=s.pathname,s.href=function(e,t){var n;if(void 0===e)return this.toString();this._string="",this._parts=o._parts();var r=e instanceof o,i="object"==typeof e&&(e.hostname||e.path||e.pathname);if(e.nodeName&&(e=e[o.getDomAttribute(e)]||"",i=!1),!r&&i&&void 0!==e.pathname&&(e=e.toString()),"string"==typeof e||e instanceof String)this._parts=o.parse(String(e),this._parts);else{if(!r&&!i)throw new TypeError("invalid input");var s=r?e._parts:e;for(n in s)"query"!==n&&a.call(this._parts,n)&&(this._parts[n]=s[n]);s.query&&this.query(s.query,!1)}return this.build(!t),this},s.is=function(e){var t=!1,r=!1,i=!1,s=!1,a=!1,c=!1,u=!1,l=!this._parts.urn;switch(this._parts.hostname&&(l=!1,r=o.ip4_expression.test(this._parts.hostname),i=o.ip6_expression.test(this._parts.hostname),a=(s=!(t=r||i))&&n&&n.has(this._parts.hostname),c=s&&o.idn_expression.test(this._parts.hostname),u=s&&o.punycode_expression.test(this._parts.hostname)),e.toLowerCase()){case"relative":return l;case"absolute":return!l;case"domain":case"name":return s;case"sld":return a;case"ip":return t;case"ip4":case"ipv4":case"inet4":return r;case"ip6":case"ipv6":case"inet6":return i;case"idn":return c;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return u}return null};var x=s.protocol,C=s.port,E=s.hostname;s.protocol=function(e,t){if(e&&!(e=e.replace(/:(\/\/)?$/,"")).match(o.protocol_expression))throw new TypeError('Protocol "'+e+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return x.call(this,e,t)},s.scheme=s.protocol,s.port=function(e,t){return this._parts.urn?void 0===e?"":this:(void 0!==e&&(0===e&&(e=null),e&&(":"===(e+="").charAt(0)&&(e=e.substring(1)),o.ensureValidPort(e))),C.call(this,e,t))},s.hostname=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e){var n={preventInvalidHostname:this._parts.preventInvalidHostname};if("/"!==o.parseHost(e,n))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');e=n.hostname,this._parts.preventInvalidHostname&&o.ensureValidHostname(e,this._parts.protocol)}return E.call(this,e,t)},s.origin=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){var n=this.protocol();return this.authority()?(n?n+"://":"")+this.authority():""}var r=o(e);return this.protocol(r.protocol()).authority(r.authority()).build(!t),this},s.host=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e)return this._parts.hostname?o.buildHost(this._parts):"";if("/"!==o.parseHost(e,this._parts))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');return this.build(!t),this},s.authority=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e)return this._parts.hostname?o.buildAuthority(this._parts):"";if("/"!==o.parseAuthority(e,this._parts))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');return this.build(!t),this},s.userinfo=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){var n=o.buildUserinfo(this._parts);return n?n.substring(0,n.length-1):n}return"@"!==e[e.length-1]&&(e+="@"),o.parseUserinfo(e,this._parts),this.build(!t),this},s.resource=function(e,t){var n;return void 0===e?this.path()+this.search()+this.hash():(n=o.parse(e),this._parts.path=n.path,this._parts.query=n.query,this._parts.fragment=n.fragment,this.build(!t),this)},s.subdomain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,n)||""}var r=this._parts.hostname.length-this.domain().length,i=this._parts.hostname.substring(0,r),s=new RegExp("^"+c(i));if(e&&"."!==e.charAt(e.length-1)&&(e+="."),-1!==e.indexOf(":"))throw new TypeError("Domains cannot contain colons");return e&&o.ensureValidHostname(e,this._parts.protocol),this._parts.hostname=this._parts.hostname.replace(s,e),this.build(!t),this},s.domain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.match(/\./g);if(n&&n.length<2)return this._parts.hostname;var r=this._parts.hostname.length-this.tld(t).length-1;return r=this._parts.hostname.lastIndexOf(".",r-1)+1,this._parts.hostname.substring(r)||""}if(!e)throw new TypeError("cannot set domain empty");if(-1!==e.indexOf(":"))throw new TypeError("Domains cannot contain colons");if(o.ensureValidHostname(e,this._parts.protocol),!this._parts.hostname||this.is("IP"))this._parts.hostname=e;else{var i=new RegExp(c(this.domain())+"$");this._parts.hostname=this._parts.hostname.replace(i,e)}return this.build(!t),this},s.tld=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var r=this._parts.hostname.lastIndexOf("."),i=this._parts.hostname.substring(r+1);return!0!==t&&n&&n.list[i.toLowerCase()]&&n.get(this._parts.hostname)||i}var o;if(!e)throw new TypeError("cannot set TLD empty");if(e.match(/[^a-zA-Z0-9-]/)){if(!n||!n.is(e))throw new TypeError('TLD "'+e+'" contains characters other than [A-Z0-9]');o=new RegExp(c(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(o,e)}else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");o=new RegExp(c(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(o,e)}return this.build(!t),this},s.directory=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var n=this._parts.path.length-this.filename().length-1,r=this._parts.path.substring(0,n)||(this._parts.hostname?"/":"");return e?o.decodePath(r):r}var i=this._parts.path.length-this.filename().length,s=this._parts.path.substring(0,i),a=new RegExp("^"+c(s));return this.is("relative")||(e||(e="/"),"/"!==e.charAt(0)&&(e="/"+e)),e&&"/"!==e.charAt(e.length-1)&&(e+="/"),e=o.recodePath(e),this._parts.path=this._parts.path.replace(a,e),this.build(!t),this},s.filename=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("string"!=typeof e){if(!this._parts.path||"/"===this._parts.path)return"";var n=this._parts.path.lastIndexOf("/"),r=this._parts.path.substring(n+1);return e?o.decodePathSegment(r):r}var i=!1;"/"===e.charAt(0)&&(e=e.substring(1)),e.match(/\.?\//)&&(i=!0);var s=new RegExp(c(this.filename())+"$");return e=o.recodePath(e),this._parts.path=this._parts.path.replace(s,e),i?this.normalizePath(t):this.build(!t),this},s.suffix=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path||"/"===this._parts.path)return"";var n,r,i=this.filename(),s=i.lastIndexOf(".");return-1===s?"":(n=i.substring(s+1),r=/^[a-z0-9%]+$/i.test(n)?n:"",e?o.decodePathSegment(r):r)}"."===e.charAt(0)&&(e=e.substring(1));var a,u=this.suffix();if(u)a=e?new RegExp(c(u)+"$"):new RegExp(c("."+u)+"$");else{if(!e)return this;this._parts.path+="."+o.recodePath(e)}return a&&(e=o.recodePath(e),this._parts.path=this._parts.path.replace(a,e)),this.build(!t),this},s.segment=function(e,t,n){var r=this._parts.urn?":":"/",i=this.path(),o="/"===i.substring(0,1),s=i.split(r);if(void 0!==e&&"number"!=typeof e&&(n=t,t=e,e=void 0),void 0!==e&&"number"!=typeof e)throw new Error('Bad segment "'+e+'", must be 0-based integer');if(o&&s.shift(),e<0&&(e=Math.max(s.length+e,0)),void 0===t)return void 0===e?s:s[e];if(null===e||void 0===s[e])if(l(t)){s=[];for(var a=0,c=t.length;a<c;a++)(t[a].length||s.length&&s[s.length-1].length)&&(s.length&&!s[s.length-1].length&&s.pop(),s.push(p(t[a])))}else(t||"string"==typeof t)&&(t=p(t),""===s[s.length-1]?s[s.length-1]=t:s.push(t));else t?s[e]=p(t):s.splice(e,1);return o&&s.unshift(""),this.path(s.join(r),n)},s.segmentCoded=function(e,t,n){var r,i,s;if("number"!=typeof e&&(n=t,t=e,e=void 0),void 0===t){if(l(r=this.segment(e,t,n)))for(i=0,s=r.length;i<s;i++)r[i]=o.decode(r[i]);else r=void 0!==r?o.decode(r):void 0;return r}if(l(t))for(i=0,s=t.length;i<s;i++)t[i]=o.encode(t[i]);else t="string"==typeof t||t instanceof String?o.encode(t):t;return this.segment(e,t,n)};var k=s.query;return s.query=function(e,t){if(!0===e)return o.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("function"==typeof e){var n=o.parseQuery(this._parts.query,this._parts.escapeQuerySpace),r=e.call(this,n);return this._parts.query=o.buildQuery(r||n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this}return void 0!==e&&"string"!=typeof e?(this._parts.query=o.buildQuery(e,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this):k.call(this,e,t)},s.setQuery=function(e,t,n){var r=o.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("string"==typeof e||e instanceof String)r[e]=void 0!==t?t:null;else{if("object"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");for(var i in e)a.call(e,i)&&(r[i]=e[i])}return this._parts.query=o.buildQuery(r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(n=t),this.build(!n),this},s.addQuery=function(e,t,n){var r=o.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return o.addQuery(r,e,void 0===t?null:t),this._parts.query=o.buildQuery(r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(n=t),this.build(!n),this},s.removeQuery=function(e,t,n){var r=o.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return o.removeQuery(r,e,t),this._parts.query=o.buildQuery(r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(n=t),this.build(!n),this},s.hasQuery=function(e,t,n){var r=o.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return o.hasQuery(r,e,t,n)},s.setSearch=s.setQuery,s.addSearch=s.addQuery,s.removeSearch=s.removeQuery,s.hasSearch=s.hasQuery,s.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},s.normalizeProtocol=function(e){return"string"==typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!e)),this},s.normalizeHostname=function(n){return this._parts.hostname&&(this.is("IDN")&&e?this._parts.hostname=e.toASCII(this._parts.hostname):this.is("IPv6")&&t&&(this._parts.hostname=t.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!n)),this},s.normalizePort=function(e){return"string"==typeof this._parts.protocol&&this._parts.port===o.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!e)),this},s.normalizePath=function(e){var t,n=this._parts.path;if(!n)return this;if(this._parts.urn)return this._parts.path=o.recodeUrnPath(this._parts.path),this.build(!e),this;if("/"===this._parts.path)return this;var r,i,s="";for("/"!==(n=o.recodePath(n)).charAt(0)&&(t=!0,n="/"+n),"/.."!==n.slice(-3)&&"/."!==n.slice(-2)||(n+="/"),n=n.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),t&&(s=n.substring(1).match(/^(\.\.\/)+/)||"")&&(s=s[0]);-1!==(r=n.search(/\/\.\.(\/|$)/));)0!==r?(-1===(i=n.substring(0,r).lastIndexOf("/"))&&(i=r),n=n.substring(0,i)+n.substring(r+3)):n=n.substring(3);return t&&this.is("relative")&&(n=s+n.substring(1)),this._parts.path=n,this.build(!e),this},s.normalizePathname=s.normalizePath,s.normalizeQuery=function(e){return"string"==typeof this._parts.query&&(this._parts.query.length?this.query(o.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!e)),this},s.normalizeFragment=function(e){return this._parts.fragment||(this._parts.fragment=null,this.build(!e)),this},s.normalizeSearch=s.normalizeQuery,s.normalizeHash=s.normalizeFragment,s.iso8859=function(){var e=o.encode,t=o.decode;o.encode=escape,o.decode=decodeURIComponent;try{this.normalize()}finally{o.encode=e,o.decode=t}return this},s.unicode=function(){var e=o.encode,t=o.decode;o.encode=g,o.decode=unescape;try{this.normalize()}finally{o.encode=e,o.decode=t}return this},s.readable=function(){var t=this.clone();t.username("").password("").normalize();var n="";if(t._parts.protocol&&(n+=t._parts.protocol+"://"),t._parts.hostname&&(t.is("punycode")&&e?(n+=e.toUnicode(t._parts.hostname),t._parts.port&&(n+=":"+t._parts.port)):n+=t.host()),t._parts.hostname&&t._parts.path&&"/"!==t._parts.path.charAt(0)&&(n+="/"),n+=t.path(!0),t._parts.query){for(var r="",i=0,s=t._parts.query.split("&"),a=s.length;i<a;i++){var c=(s[i]||"").split("=");r+="&"+o.decodeQuery(c[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"),void 0!==c[1]&&(r+="="+o.decodeQuery(c[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}n+="?"+r.substring(1)}return n+o.decodeQuery(t.hash(),!0)},s.absoluteTo=function(e){var t,n,r,i=this.clone(),s=["protocol","username","password","hostname","port"];if(this._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e instanceof o||(e=new o(e)),i._parts.protocol)return i;if(i._parts.protocol=e._parts.protocol,this._parts.hostname)return i;for(n=0;r=s[n];n++)i._parts[r]=e._parts[r];return i._parts.path?(".."===i._parts.path.substring(-2)&&(i._parts.path+="/"),"/"!==i.path().charAt(0)&&(t=(t=e.directory())||(0===e.path().indexOf("/")?"/":""),i._parts.path=(t?t+"/":"")+i._parts.path,i.normalizePath())):(i._parts.path=e._parts.path,i._parts.query||(i._parts.query=e._parts.query)),i.build(),i},s.relativeTo=function(e){var t,n,r,i,s,a=this.clone().normalize();if(a._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e=new o(e).normalize(),t=a._parts,n=e._parts,i=a.path(),s=e.path(),"/"!==i.charAt(0))throw new Error("URI is already relative");if("/"!==s.charAt(0))throw new Error("Cannot calculate a URI relative to another relative URI");if(t.protocol===n.protocol&&(t.protocol=null),t.username!==n.username||t.password!==n.password)return a.build();if(null!==t.protocol||null!==t.username||null!==t.password)return a.build();if(t.hostname!==n.hostname||t.port!==n.port)return a.build();if(t.hostname=null,t.port=null,i===s)return t.path="",a.build();if(!(r=o.commonPath(i,s)))return a.build();var c=n.path.substring(r.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");return t.path=c+t.path.substring(r.length)||"./",a.build()},s.equals=function(e){var t,n,r,i,s,c=this.clone(),u=new o(e),h={};if(c.normalize(),u.normalize(),c.toString()===u.toString())return!0;if(r=c.query(),i=u.query(),c.query(""),u.query(""),c.toString()!==u.toString())return!1;if(r.length!==i.length)return!1;for(s in t=o.parseQuery(r,this._parts.escapeQuerySpace),n=o.parseQuery(i,this._parts.escapeQuerySpace),t)if(a.call(t,s)){if(l(t[s])){if(!f(t[s],n[s]))return!1}else if(t[s]!==n[s])return!1;h[s]=!0}for(s in n)if(a.call(n,s)&&!h[s])return!1;return!0},s.preventInvalidHostname=function(e){return this._parts.preventInvalidHostname=!!e,this},s.duplicateQueryParameters=function(e){return this._parts.duplicateQueryParameters=!!e,this},s.escapeQuerySpace=function(e){return this._parts.escapeQuerySpace=!!e,this},o}))},51069:function(e,t,n){var r;e=n.nmd(e),function(i){t&&t.nodeType,e&&e.nodeType;var o="object"==typeof n.g&&n.g;o.global!==o&&o.window!==o&&o.self;var s,a=2147483647,c=36,u=1,l=26,h=38,d=700,f=72,p=128,m="-",g=/^xn--/,v=/[^\x20-\x7E]/,y=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},w=c-u,S=Math.floor,_=String.fromCharCode;function x(e){throw new RangeError(b[e])}function C(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function E(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+C((e=e.replace(y,".")).split("."),t).join(".")}function k(e){for(var t,n,r=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function A(e){return C(e,(function(e){var t="";return e>65535&&(t+=_((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+_(e)})).join("")}function N(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function T(e,t,n){var r=0;for(e=n?S(e/d):e>>1,e+=S(e/t);e>w*l>>1;r+=c)e=S(e/w);return S(r+(w+1)*e/(e+h))}function P(e){var t,n,r,i,o,s,h,d,g,v,y,b=[],w=e.length,_=0,C=p,E=f;for((n=e.lastIndexOf(m))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&x("not-basic"),b.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<w;){for(o=_,s=1,h=c;i>=w&&x("invalid-input"),((d=(y=e.charCodeAt(i++))-48<10?y-22:y-65<26?y-65:y-97<26?y-97:c)>=c||d>S((a-_)/s))&&x("overflow"),_+=d*s,!(d<(g=h<=E?u:h>=E+l?l:h-E));h+=c)s>S(a/(v=c-g))&&x("overflow"),s*=v;E=T(_-o,t=b.length+1,0==o),S(_/t)>a-C&&x("overflow"),C+=S(_/t),_%=t,b.splice(_++,0,C)}return A(b)}function O(e){var t,n,r,i,o,s,h,d,g,v,y,b,w,C,E,A=[];for(b=(e=k(e)).length,t=p,n=0,o=f,s=0;s<b;++s)(y=e[s])<128&&A.push(_(y));for(r=i=A.length,i&&A.push(m);r<b;){for(h=a,s=0;s<b;++s)(y=e[s])>=t&&y<h&&(h=y);for(h-t>S((a-n)/(w=r+1))&&x("overflow"),n+=(h-t)*w,t=h,s=0;s<b;++s)if((y=e[s])<t&&++n>a&&x("overflow"),y==t){for(d=n,g=c;!(d<(v=g<=o?u:g>=o+l?l:g-o));g+=c)E=d-v,C=c-v,A.push(_(N(v+E%C,0))),d=S(E/C);A.push(_(N(d,0))),o=T(n,w,r==i),n=0,++r}++n,++t}return A.join("")}s={version:"1.3.2",ucs2:{decode:k,encode:A},decode:P,encode:O,toASCII:function(e){return E(e,(function(e){return v.test(e)?"xn--"+O(e):e}))},toUnicode:function(e){return E(e,(function(e){return g.test(e)?P(e.slice(4).toLowerCase()):e}))}},void 0===(r=function(){return s}.call(t,n,t,e))||(e.exports=r)}()},80899:(e,t,n)=>{"use strict";var r=n(53096),i=n(88157),o=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,s=/[\n\r\t]/g,a=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,c=/:\d+$/,u=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,l=/^[a-zA-Z]:/;function h(e){return(e||"").toString().replace(o,"")}var d=[["#","hash"],["?","query"],function(e,t){return m(t.protocol)?e.replace(/\\/g,"/"):e},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],f={hash:1,query:1};function p(e){var t,r=("undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{}).location||{},i={},o=typeof(e=e||r);if("blob:"===e.protocol)i=new v(unescape(e.pathname),{});else if("string"===o)for(t in i=new v(e,{}),f)delete i[t];else if("object"===o){for(t in e)t in f||(i[t]=e[t]);void 0===i.slashes&&(i.slashes=a.test(e.href))}return i}function m(e){return"file:"===e||"ftp:"===e||"http:"===e||"https:"===e||"ws:"===e||"wss:"===e}function g(e,t){e=(e=h(e)).replace(s,""),t=t||{};var n,r=u.exec(e),i=r[1]?r[1].toLowerCase():"",o=!!r[2],a=!!r[3],c=0;return o?a?(n=r[2]+r[3]+r[4],c=r[2].length+r[3].length):(n=r[2]+r[4],c=r[2].length):a?(n=r[3]+r[4],c=r[3].length):n=r[4],"file:"===i?c>=2&&(n=n.slice(2)):m(i)?n=r[4]:i?o&&(n=n.slice(2)):c>=2&&m(t.protocol)&&(n=r[4]),{protocol:i,slashes:o||m(i),slashesCount:c,rest:n}}function v(e,t,n){if(e=(e=h(e)).replace(s,""),!(this instanceof v))return new v(e,t,n);var o,a,c,u,f,y,b=d.slice(),w=typeof t,S=this,_=0;for("object"!==w&&"string"!==w&&(n=t,t=null),n&&"function"!=typeof n&&(n=i.parse),o=!(a=g(e||"",t=p(t))).protocol&&!a.slashes,S.slashes=a.slashes||o&&t.slashes,S.protocol=a.protocol||t.protocol||"",e=a.rest,("file:"===a.protocol&&(2!==a.slashesCount||l.test(e))||!a.slashes&&(a.protocol||a.slashesCount<2||!m(S.protocol)))&&(b[3]=[/(.*)/,"pathname"]);_<b.length;_++)"function"!=typeof(u=b[_])?(c=u[0],y=u[1],c!=c?S[y]=e:"string"==typeof c?~(f="@"===c?e.lastIndexOf(c):e.indexOf(c))&&("number"==typeof u[2]?(S[y]=e.slice(0,f),e=e.slice(f+u[2])):(S[y]=e.slice(f),e=e.slice(0,f))):(f=c.exec(e))&&(S[y]=f[1],e=e.slice(0,f.index)),S[y]=S[y]||o&&u[3]&&t[y]||"",u[4]&&(S[y]=S[y].toLowerCase())):e=u(e,S);n&&(S.query=n(S.query)),o&&t.slashes&&"/"!==S.pathname.charAt(0)&&(""!==S.pathname||""!==t.pathname)&&(S.pathname=function(e,t){if(""===e)return t;for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=n.length,i=n[r-1],o=!1,s=0;r--;)"."===n[r]?n.splice(r,1):".."===n[r]?(n.splice(r,1),s++):s&&(0===r&&(o=!0),n.splice(r,1),s--);return o&&n.unshift(""),"."!==i&&".."!==i||n.push(""),n.join("/")}(S.pathname,t.pathname)),"/"!==S.pathname.charAt(0)&&m(S.protocol)&&(S.pathname="/"+S.pathname),r(S.port,S.protocol)||(S.host=S.hostname,S.port=""),S.username=S.password="",S.auth&&(~(f=S.auth.indexOf(":"))?(S.username=S.auth.slice(0,f),S.username=encodeURIComponent(decodeURIComponent(S.username)),S.password=S.auth.slice(f+1),S.password=encodeURIComponent(decodeURIComponent(S.password))):S.username=encodeURIComponent(decodeURIComponent(S.auth)),S.auth=S.password?S.username+":"+S.password:S.username),S.origin="file:"!==S.protocol&&m(S.protocol)&&S.host?S.protocol+"//"+S.host:"null",S.href=S.toString()}v.prototype={set:function(e,t,n){var o=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(n||i.parse)(t)),o[e]=t;break;case"port":o[e]=t,r(t,o.protocol)?t&&(o.host=o.hostname+":"+t):(o.host=o.hostname,o[e]="");break;case"hostname":o[e]=t,o.port&&(t+=":"+o.port),o.host=t;break;case"host":o[e]=t,c.test(t)?(t=t.split(":"),o.port=t.pop(),o.hostname=t.join(":")):(o.hostname=t,o.port="");break;case"protocol":o.protocol=t.toLowerCase(),o.slashes=!n;break;case"pathname":case"hash":if(t){var s="pathname"===e?"/":"#";o[e]=t.charAt(0)!==s?s+t:t}else o[e]=t;break;case"username":case"password":o[e]=encodeURIComponent(t);break;case"auth":var a=t.indexOf(":");~a?(o.username=t.slice(0,a),o.username=encodeURIComponent(decodeURIComponent(o.username)),o.password=t.slice(a+1),o.password=encodeURIComponent(decodeURIComponent(o.password))):o.username=encodeURIComponent(decodeURIComponent(t))}for(var u=0;u<d.length;u++){var l=d[u];l[4]&&(o[l[1]]=o[l[1]].toLowerCase())}return o.auth=o.password?o.username+":"+o.password:o.username,o.origin="file:"!==o.protocol&&m(o.protocol)&&o.host?o.protocol+"//"+o.host:"null",o.href=o.toString(),o},toString:function(e){e&&"function"==typeof e||(e=i.stringify);var t,n=this,r=n.host,o=n.protocol;o&&":"!==o.charAt(o.length-1)&&(o+=":");var s=o+(n.protocol&&n.slashes||m(n.protocol)?"//":"");return n.username?(s+=n.username,n.password&&(s+=":"+n.password),s+="@"):n.password?(s+=":"+n.password,s+="@"):"file:"!==n.protocol&&m(n.protocol)&&!r&&"/"!==n.pathname&&(s+="@"),(":"===r[r.length-1]||c.test(n.hostname)&&!n.port)&&(r+=":"),s+=r+n.pathname,(t="object"==typeof n.query?e(n.query):n.query)&&(s+="?"!==t.charAt(0)?"?"+t:t),n.hash&&(s+=n.hash),s}},v.extractProtocol=g,v.location=p,v.trimLeft=h,v.qs=i,e.exports=v},68884:function(e,t,n){var r;e=n.nmd(e),function(i){t&&t.nodeType,e&&e.nodeType;var o="object"==typeof n.g&&n.g;o.global!==o&&o.window!==o&&o.self;var s,a=2147483647,c=36,u=1,l=26,h=38,d=700,f=72,p=128,m="-",g=/^xn--/,v=/[^\x20-\x7E]/,y=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},w=c-u,S=Math.floor,_=String.fromCharCode;function x(e){throw RangeError(b[e])}function C(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function E(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+C((e=e.replace(y,".")).split("."),t).join(".")}function k(e){for(var t,n,r=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function A(e){return C(e,(function(e){var t="";return e>65535&&(t+=_((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+_(e)})).join("")}function N(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function T(e,t,n){var r=0;for(e=n?S(e/d):e>>1,e+=S(e/t);e>w*l>>1;r+=c)e=S(e/w);return S(r+(w+1)*e/(e+h))}function P(e){var t,n,r,i,o,s,h,d,g,v,y,b=[],w=e.length,_=0,C=p,E=f;for((n=e.lastIndexOf(m))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&x("not-basic"),b.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<w;){for(o=_,s=1,h=c;i>=w&&x("invalid-input"),((d=(y=e.charCodeAt(i++))-48<10?y-22:y-65<26?y-65:y-97<26?y-97:c)>=c||d>S((a-_)/s))&&x("overflow"),_+=d*s,!(d<(g=h<=E?u:h>=E+l?l:h-E));h+=c)s>S(a/(v=c-g))&&x("overflow"),s*=v;E=T(_-o,t=b.length+1,0==o),S(_/t)>a-C&&x("overflow"),C+=S(_/t),_%=t,b.splice(_++,0,C)}return A(b)}function O(e){var t,n,r,i,o,s,h,d,g,v,y,b,w,C,E,A=[];for(b=(e=k(e)).length,t=p,n=0,o=f,s=0;s<b;++s)(y=e[s])<128&&A.push(_(y));for(r=i=A.length,i&&A.push(m);r<b;){for(h=a,s=0;s<b;++s)(y=e[s])>=t&&y<h&&(h=y);for(h-t>S((a-n)/(w=r+1))&&x("overflow"),n+=(h-t)*w,t=h,s=0;s<b;++s)if((y=e[s])<t&&++n>a&&x("overflow"),y==t){for(d=n,g=c;!(d<(v=g<=o?u:g>=o+l?l:g-o));g+=c)E=d-v,C=c-v,A.push(_(N(v+E%C,0))),d=S(E/C);A.push(_(N(d,0))),o=T(n,w,r==i),n=0,++r}++n,++t}return A.join("")}s={version:"1.3.2",ucs2:{decode:k,encode:A},decode:P,encode:O,toASCII:function(e){return E(e,(function(e){return v.test(e)?"xn--"+O(e):e}))},toUnicode:function(e){return E(e,(function(e){return g.test(e)?P(e.slice(4).toLowerCase()):e}))}},void 0===(r=function(){return s}.call(t,n,t,e))||(e.exports=r)}()},84760:(e,t,n)=>{"use strict";var r=n(68884),i=n(70569);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.Qc=b;var s=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(u),h=["%","/","?",";","#"].concat(l),d=["/","?","#"],f=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=n(48966);function b(e,t,n){if(e&&i.isObject(e)&&e instanceof o)return e;var r=new o;return r.parse(e,t,n),r}o.prototype.parse=function(e,t,n){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),a=-1!==o&&o<e.indexOf("#")?"?":"#",u=e.split(a);u[0]=u[0].replace(/\\/g,"/");var b=e=u.join(a);if(b=b.trim(),!n&&1===e.split("#").length){var w=c.exec(b);if(w)return this.path=b,this.href=b,this.pathname=w[1],w[2]?(this.search=w[2],this.query=t?y.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var S=s.exec(b);if(S){var _=(S=S[0]).toLowerCase();this.protocol=_,b=b.substr(S.length)}if(n||S||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var x="//"===b.substr(0,2);!x||S&&g[S]||(b=b.substr(2),this.slashes=!0)}if(!g[S]&&(x||S&&!v[S])){for(var C,E,k=-1,A=0;A<d.length;A++)-1!==(N=b.indexOf(d[A]))&&(-1===k||N<k)&&(k=N);for(-1!==(E=-1===k?b.lastIndexOf("@"):b.lastIndexOf("@",k))&&(C=b.slice(0,E),b=b.slice(E+1),this.auth=decodeURIComponent(C)),k=-1,A=0;A<h.length;A++){var N;-1!==(N=b.indexOf(h[A]))&&(-1===k||N<k)&&(k=N)}-1===k&&(k=b.length),this.host=b.slice(0,k),b=b.slice(k),this.parseHost(),this.hostname=this.hostname||"";var T="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!T)for(var P=this.hostname.split(/\./),O=(A=0,P.length);A<O;A++){var I=P[A];if(I&&!I.match(f)){for(var R="",L=0,M=I.length;L<M;L++)I.charCodeAt(L)>127?R+="x":R+=I[L];if(!R.match(f)){var D=P.slice(0,A),j=P.slice(A+1),F=I.match(p);F&&(D.push(F[1]),j.unshift(F[2])),j.length&&(b="/"+j.join(".")+b),this.hostname=D.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),T||(this.hostname=r.toASCII(this.hostname));var B=this.port?":"+this.port:"",q=this.hostname||"";this.host=q+B,this.href+=this.host,T&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!m[_])for(A=0,O=l.length;A<O;A++){var U=l[A];if(-1!==b.indexOf(U)){var z=encodeURIComponent(U);z===U&&(z=escape(U)),b=b.split(U).join(z)}}var $=b.indexOf("#");-1!==$&&(this.hash=b.substr($),b=b.slice(0,$));var H=b.indexOf("?");if(-1!==H?(this.search=b.substr(H),this.query=b.substr(H+1),t&&(this.query=y.parse(this.query)),b=b.slice(0,H)):t&&(this.search="",this.query={}),b&&(this.pathname=b),v[_]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){B=this.pathname||"";var G=this.search||"";this.path=B+G}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,s="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(s=y.stringify(this.query));var a=this.search||s&&"?"+s||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||v[t])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),t+o+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(a=a.replace("#","%23"))+r},o.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(i.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var n=new o,r=Object.keys(this),s=0;s<r.length;s++){var a=r[s];n[a]=this[a]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var c=Object.keys(e),u=0;u<c.length;u++){var l=c[u];"protocol"!==l&&(n[l]=e[l])}return v[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!v[e.protocol]){for(var h=Object.keys(e),d=0;d<h.length;d++){var f=h[d];n[f]=e[f]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||g[e.protocol])n.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),n.pathname=p.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var m=n.pathname||"",y=n.search||"";n.path=m+y}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var b=n.pathname&&"/"===n.pathname.charAt(0),w=e.host||e.pathname&&"/"===e.pathname.charAt(0),S=w||b||n.host&&e.pathname,_=S,x=n.pathname&&n.pathname.split("/")||[],C=(p=e.pathname&&e.pathname.split("/")||[],n.protocol&&!v[n.protocol]);if(C&&(n.hostname="",n.port=null,n.host&&(""===x[0]?x[0]=n.host:x.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),S=S&&(""===p[0]||""===x[0])),w)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,x=p;else if(p.length)x||(x=[]),x.pop(),x=x.concat(p),n.search=e.search,n.query=e.query;else if(!i.isNullOrUndefined(e.search))return C&&(n.hostname=n.host=x.shift(),(T=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=T.shift(),n.host=n.hostname=T.shift())),n.search=e.search,n.query=e.query,i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!x.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var E=x.slice(-1)[0],k=(n.host||e.host||x.length>1)&&("."===E||".."===E)||""===E,A=0,N=x.length;N>=0;N--)"."===(E=x[N])?x.splice(N,1):".."===E?(x.splice(N,1),A++):A&&(x.splice(N,1),A--);if(!S&&!_)for(;A--;A)x.unshift("..");!S||""===x[0]||x[0]&&"/"===x[0].charAt(0)||x.unshift(""),k&&"/"!==x.join("/").substr(-1)&&x.push("");var T,P=""===x[0]||x[0]&&"/"===x[0].charAt(0);return C&&(n.hostname=n.host=P?"":x.length?x.shift():"",(T=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=T.shift(),n.host=n.hostname=T.shift())),(S=S||n.host&&x.length)&&!P&&x.unshift(""),x.length?n.pathname=x.join("/"):(n.pathname=null,n.path=null),i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var e=this.host,t=a.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},70569:e=>{"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},11719:(e,t,n)=>{var r=n(12998),i=n(36541),o=i;o.v1=r,o.v4=i,e.exports=o},53973:e=>{for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,i=t;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},6963:e=>{var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},12998:(e,t,n)=>{var r,i,o=n(6963),s=n(53973),a=0,c=0;e.exports=function(e,t,n){var u=t&&n||0,l=t||[],h=(e=e||{}).node||r,d=void 0!==e.clockseq?e.clockseq:i;if(null==h||null==d){var f=o();null==h&&(h=r=[1|f[0],f[1],f[2],f[3],f[4],f[5]]),null==d&&(d=i=16383&(f[6]<<8|f[7]))}var p=void 0!==e.msecs?e.msecs:(new Date).getTime(),m=void 0!==e.nsecs?e.nsecs:c+1,g=p-a+(m-c)/1e4;if(g<0&&void 0===e.clockseq&&(d=d+1&16383),(g<0||p>a)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=p,c=m,i=d;var v=(1e4*(268435455&(p+=122192928e5))+m)%4294967296;l[u++]=v>>>24&255,l[u++]=v>>>16&255,l[u++]=v>>>8&255,l[u++]=255&v;var y=p/4294967296*1e4&268435455;l[u++]=y>>>8&255,l[u++]=255&y,l[u++]=y>>>24&15|16,l[u++]=y>>>16&255,l[u++]=d>>>8|128,l[u++]=255&d;for(var b=0;b<6;++b)l[u+b]=h[b];return t||s(l)}},36541:(e,t,n)=>{var r=n(6963),i=n(53973);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var s=(e=e||{}).random||(e.rng||r)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var a=0;a<16;++a)t[o+a]=s[a];return t||i(s)}},37183:function(e){"undefined"!=typeof self&&self,e.exports=function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=22)}([function(e,t){function n(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var i=function(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}(r);return[n].concat(r.sources.map((function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"}))).concat([i]).join("\n")}return[n].join("\n")}e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r=n(t,e);return t[2]?"@media "+t[2]+"{"+r+"}":r})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<e.length;i++){var s=e[i];"number"==typeof s[0]&&r[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),t.push(s))}},t}},function(e,t,n){function r(e){for(var t=0;t<e.length;t++){var n=e[t],r=l[n.id];if(r){r.refs++;for(var i=0;i<r.parts.length;i++)r.parts[i](n.parts[i]);for(;i<n.parts.length;i++)r.parts.push(o(n.parts[i]));r.parts.length>n.parts.length&&(r.parts.length=n.parts.length)}else{var s=[];for(i=0;i<n.parts.length;i++)s.push(o(n.parts[i]));l[n.id]={id:n.id,refs:1,parts:s}}}}function i(){var e=document.createElement("style");return e.type="text/css",h.appendChild(e),e}function o(e){var t,n,r=document.querySelector("style["+v+'~="'+e.id+'"]');if(r){if(p)return m;r.parentNode.removeChild(r)}if(y){var o=f++;r=d||(d=i()),t=s.bind(null,r,o,!1),n=s.bind(null,r,o,!0)}else r=i(),t=a.bind(null,r),n=function(){r.parentNode.removeChild(r)};return t(e),function(r){if(r){if(r.css===e.css&&r.media===e.media&&r.sourceMap===e.sourceMap)return;t(e=r)}else n()}}function s(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=b(t,i);else{var o=document.createTextNode(i),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(o,s[t]):e.appendChild(o)}}function a(e,t){var n=t.css,r=t.media,i=t.sourceMap;if(r&&e.setAttribute("media",r),g.ssrId&&e.setAttribute(v,t.id),i&&(n+="\n/*# sourceURL="+i.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var c="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!c)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var u=n(26),l={},h=c&&(document.head||document.getElementsByTagName("head")[0]),d=null,f=0,p=!1,m=function(){},g=null,v="data-vue-ssr-id",y="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());e.exports=function(e,t,n,i){p=n,g=i||{};var o=u(e,t);return r(o),function(t){for(var n=[],i=0;i<o.length;i++){var s=o[i];(a=l[s.id]).refs--,n.push(a)}for(t?r(o=u(e,t)):o=[],i=0;i<n.length;i++){var a;if(0===(a=n[i]).refs){for(var c=0;c<a.parts.length;c++)a.parts[c]();delete l[a.id]}}}};var b=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t){e.exports=function(e,t,n,r,i,o){var s,a=e=e||{},c=typeof e.default;"object"!==c&&"function"!==c||(s=e,a=e.default);var u,l="function"==typeof a?a.options:a;if(t&&(l.render=t.render,l.staticRenderFns=t.staticRenderFns,l._compiled=!0),n&&(l.functional=!0),i&&(l._scopeId=i),o?(u=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},l._ssrRegister=u):r&&(u=r),u){var h=l.functional,d=h?l.render:l.beforeCreate;h?(l._injectStyles=u,l.render=function(e,t){return u.call(t),d(e,t)}):l.beforeCreate=d?[].concat(d,u):[u]}return{esModule:s,exports:a,options:l}}},function(e,t,n){"use strict";function r(e,t){var n,r=e&&e.a;!(n=e&&e.hsl?(0,i.default)(e.hsl):e&&e.hex&&e.hex.length>0?(0,i.default)(e.hex):(0,i.default)(e))||void 0!==n._a&&null!==n._a||n.setAlpha(r||1);var o=n.toHsl(),s=n.toHsv();return 0===o.s&&(s.h=o.h=e.h||e.hsl&&e.hsl.h||t||0),{hsl:o,hex:n.toHexString().toUpperCase(),hex8:n.toHex8String().toUpperCase(),rgba:n.toRgb(),hsv:s,oldHue:e.h||t||o.h,source:e.source,a:e.a||n.getAlpha()}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(27));t.default={props:["value"],data:function(){return{val:r(this.value)}},computed:{colors:{get:function(){return this.val},set:function(e){this.val=e,this.$emit("input",e)}}},watch:{value:function(e){this.val=r(e)}},methods:{colorChange:function(e,t){this.oldHue=this.colors.hsl.h,this.colors=r(e,t||this.oldHue)},isValidHex:function(e){return(0,i.default)(e).isValid()},simpleCheckForValidColor:function(e){for(var t=["r","g","b","a","h","s","l","v"],n=0,r=0,i=0;i<t.length;i++){var o=t[i];e[o]&&(n++,isNaN(e[o])||r++)}if(n===r)return e},paletteUpperCase:function(e){return e.map((function(e){return e.toUpperCase()}))},isTransparent:function(e){return 0===(0,i.default)(e).getAlpha()}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10),i=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);var s=n(30),a=!1,c=function(e){a||n(28)},u=n(2)(i.a,s.a,!1,c,null,null);u.options.__file="src/components/common/EditableInput.vue",t.default=u.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(14),i=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);var s=n(45),a=!1,c=function(e){a||n(43)},u=n(2)(i.a,s.a,!1,c,null,null);u.options.__file="src/components/common/Hue.vue",t.default=u.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17),i=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);var s=n(60),a=!1,c=function(e){a||n(55)},u=n(2)(i.a,s.a,!1,c,null,null);u.options.__file="src/components/common/Saturation.vue",t.default=u.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(18),i=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);var s=n(66),a=!1,c=function(e){a||n(61)},u=n(2)(i.a,s.a,!1,c,null,null);u.options.__file="src/components/common/Alpha.vue",t.default=u.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(19),i=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);var s=n(65),a=!1,c=function(e){a||n(63)},u=n(2)(i.a,s.a,!1,c,null,null);u.options.__file="src/components/common/Checkboard.vue",t.default=u.exports},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(3)),o=r(n(4)),s=["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#CCCCCC","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"];t.default={name:"Compact",mixins:[i.default],props:{palette:{type:Array,default:function(){return s}}},components:{"ed-in":o.default},computed:{pick:function(){return this.colors.hex.toUpperCase()}},methods:{handlerClick:function(e){this.colorChange({hex:e,source:"hex"})}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"editableInput",props:{label:String,labelText:String,desc:String,value:[String,Number],max:Number,min:Number,arrowOffset:{type:Number,default:1}},computed:{val:{get:function(){return this.value},set:function(e){if(!(void 0!==this.max&&+e>this.max))return e;this.$refs.input.value=this.max}},labelId:function(){return"input__label__"+this.label+"__"+Math.random().toString().slice(2,5)},labelSpanText:function(){return this.labelText||this.label}},methods:{update:function(e){this.handleChange(e.target.value)},handleChange:function(e){var t={};t[this.label]=e,(void 0===t.hex&&void 0===t["#"]||e.length>5)&&this.$emit("change",t)},handleKeyDown:function(e){var t=this.val,n=Number(t);if(n){var r=this.arrowOffset||1;38===e.keyCode&&(t=n+r,this.handleChange(t),e.preventDefault()),40===e.keyCode&&(t=n-r,this.handleChange(t),e.preventDefault())}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(3)),i=["#FFFFFF","#F2F2F2","#E6E6E6","#D9D9D9","#CCCCCC","#BFBFBF","#B3B3B3","#A6A6A6","#999999","#8C8C8C","#808080","#737373","#666666","#595959","#4D4D4D","#404040","#333333","#262626","#0D0D0D","#000000"];t.default={name:"Grayscale",mixins:[r.default],props:{palette:{type:Array,default:function(){return i}}},components:{},computed:{pick:function(){return this.colors.hex.toUpperCase()}},methods:{handlerClick:function(e){this.colorChange({hex:e,source:"hex"})}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(4)),o=r(n(3));t.default={name:"Material",mixins:[o.default],components:{"ed-in":i.default},methods:{onChange:function(e){e&&(e.hex?this.isValidHex(e.hex)&&this.colorChange({hex:e.hex,source:"hex"}):(e.r||e.g||e.b)&&this.colorChange({r:e.r||this.colors.rgba.r,g:e.g||this.colors.rgba.g,b:e.b||this.colors.rgba.b,a:e.a||this.colors.rgba.a,source:"rgba"}))}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(3)),o=r(n(5));t.default={name:"Slider",mixins:[i.default],props:{swatches:{type:Array,default:function(){return[".80",".65",".50",".35",".20"]}}},components:{hue:o.default},computed:{activeOffset:function(){var e=this.swatches.includes("0"),t=this.swatches.includes("1"),n=this.colors.hsl;return Math.round(100*n.s)/100==.5?Math.round(100*n.l)/100:e&&0===n.l?0:t&&1===n.l?1:-1}},methods:{hueChange:function(e){this.colorChange(e)},handleSwClick:function(e,t){this.colorChange({h:this.colors.hsl.h,s:.5,l:t,source:"hsl"})}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"Hue",props:{value:Object,direction:{type:String,default:"horizontal"}},data:function(){return{oldHue:0,pullDirection:""}},computed:{colors:function(){var e=this.value.hsl.h;return 0!==e&&e-this.oldHue>0&&(this.pullDirection="right"),0!==e&&e-this.oldHue<0&&(this.pullDirection="left"),this.oldHue=e,this.value},directionClass:function(){return{"vc-hue--horizontal":"horizontal"===this.direction,"vc-hue--vertical":"vertical"===this.direction}},pointerTop:function(){return"vertical"===this.direction?0===this.colors.hsl.h&&"right"===this.pullDirection?0:-100*this.colors.hsl.h/360+100+"%":0},pointerLeft:function(){return"vertical"===this.direction?0:0===this.colors.hsl.h&&"right"===this.pullDirection?"100%":100*this.colors.hsl.h/360+"%"}},methods:{handleChange:function(e,t){!t&&e.preventDefault();var n,r=this.$refs.container,i=r.clientWidth,o=r.clientHeight,s=r.getBoundingClientRect().left+window.pageXOffset,a=r.getBoundingClientRect().top+window.pageYOffset,c=(e.pageX||(e.touches?e.touches[0].pageX:0))-s,u=(e.pageY||(e.touches?e.touches[0].pageY:0))-a;"vertical"===this.direction?(n=u<0?360:u>o?0:360*(-100*u/o+100)/100,this.colors.hsl.h!==n&&this.$emit("change",{h:n,s:this.colors.hsl.s,l:this.colors.hsl.l,a:this.colors.hsl.a,source:"hsl"})):(n=c<0?0:c>i?360:100*c/i*360/100,this.colors.hsl.h!==n&&this.$emit("change",{h:n,s:this.colors.hsl.s,l:this.colors.hsl.l,a:this.colors.hsl.a,source:"hsl"}))},handleMouseDown:function(e){this.handleChange(e,!0),window.addEventListener("mousemove",this.handleChange),window.addEventListener("mouseup",this.handleMouseUp)},handleMouseUp:function(e){this.unbindEventListeners()},unbindEventListeners:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(50)),o=r(n(3)),s=["red","pink","purple","deepPurple","indigo","blue","lightBlue","cyan","teal","green","lightGreen","lime","yellow","amber","orange","deepOrange","brown","blueGrey","black"],a=["900","700","500","300","100"],c=function(){var e=[];return s.forEach((function(t){var n=[];"black"===t.toLowerCase()||"white"===t.toLowerCase()?n=n.concat(["#000000","#FFFFFF"]):a.forEach((function(e){var r=i.default[t][e];n.push(r.toUpperCase())})),e.push(n)})),e}();t.default={name:"Swatches",mixins:[o.default],props:{palette:{type:Array,default:function(){return c}}},computed:{pick:function(){return this.colors.hex}},methods:{equal:function(e){return e.toLowerCase()===this.colors.hex.toLowerCase()},handlerClick:function(e){this.colorChange({hex:e,source:"hex"})}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(3)),o=r(n(4)),s=r(n(6)),a=r(n(5)),c=r(n(7));t.default={name:"Photoshop",mixins:[i.default],props:{head:{type:String,default:"Color Picker"},disableFields:{type:Boolean,default:!1},hasResetButton:{type:Boolean,default:!1},acceptLabel:{type:String,default:"OK"},cancelLabel:{type:String,default:"Cancel"},resetLabel:{type:String,default:"Reset"},newLabel:{type:String,default:"new"},currentLabel:{type:String,default:"current"}},components:{saturation:s.default,hue:a.default,alpha:c.default,"ed-in":o.default},data:function(){return{currentColor:"#FFF"}},computed:{hsv:function(){var e=this.colors.hsv;return{h:e.h.toFixed(),s:(100*e.s).toFixed(),v:(100*e.v).toFixed()}},hex:function(){var e=this.colors.hex;return e&&e.replace("#","")}},created:function(){this.currentColor=this.colors.hex},methods:{childChange:function(e){this.colorChange(e)},inputChange:function(e){e&&(e["#"]?this.isValidHex(e["#"])&&this.colorChange({hex:e["#"],source:"hex"}):e.r||e.g||e.b||e.a?this.colorChange({r:e.r||this.colors.rgba.r,g:e.g||this.colors.rgba.g,b:e.b||this.colors.rgba.b,a:e.a||this.colors.rgba.a,source:"rgba"}):(e.h||e.s||e.v)&&this.colorChange({h:e.h||this.colors.hsv.h,s:e.s/100||this.colors.hsv.s,v:e.v/100||this.colors.hsv.v,source:"hsv"}))},clickCurrentColor:function(){this.colorChange({hex:this.currentColor,source:"hex"})},handleAccept:function(){this.$emit("ok")},handleCancel:function(){this.$emit("cancel")},handleReset:function(){this.$emit("reset")}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(57)),o=r(n(58));t.default={name:"Saturation",props:{value:Object},computed:{colors:function(){return this.value},bgColor:function(){return"hsl("+this.colors.hsv.h+", 100%, 50%)"},pointerTop:function(){return-100*this.colors.hsv.v+1+100+"%"},pointerLeft:function(){return 100*this.colors.hsv.s+"%"}},methods:{throttle:(0,o.default)((function(e,t){e(t)}),20,{leading:!0,trailing:!1}),handleChange:function(e,t){!t&&e.preventDefault();var n=this.$refs.container,r=n.clientWidth,o=n.clientHeight,s=n.getBoundingClientRect().left+window.pageXOffset,a=n.getBoundingClientRect().top+window.pageYOffset,c=e.pageX||(e.touches?e.touches[0].pageX:0),u=e.pageY||(e.touches?e.touches[0].pageY:0),l=(0,i.default)(c-s,0,r),h=(0,i.default)(u-a,0,o),d=l/r,f=(0,i.default)(-h/o+1,0,1);this.throttle(this.onChange,{h:this.colors.hsv.h,s:d,v:f,a:this.colors.hsv.a,source:"hsva"})},onChange:function(e){this.$emit("change",e)},handleMouseDown:function(e){window.addEventListener("mousemove",this.handleChange),window.addEventListener("mouseup",this.handleChange),window.addEventListener("mouseup",this.handleMouseUp)},handleMouseUp:function(e){this.unbindEventListeners()},unbindEventListeners:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(8));t.default={name:"Alpha",props:{value:Object,onChange:Function},components:{checkboard:r.default},computed:{colors:function(){return this.value},gradientColor:function(){var e=this.colors.rgba,t=[e.r,e.g,e.b].join(",");return"linear-gradient(to right, rgba("+t+", 0) 0%, rgba("+t+", 1) 100%)"}},methods:{handleChange:function(e,t){!t&&e.preventDefault();var n,r=this.$refs.container,i=r.clientWidth,o=r.getBoundingClientRect().left+window.pageXOffset,s=(e.pageX||(e.touches?e.touches[0].pageX:0))-o;n=s<0?0:s>i?1:Math.round(100*s/i)/100,this.colors.a!==n&&this.$emit("change",{h:this.colors.hsl.h,s:this.colors.hsl.s,l:this.colors.hsl.l,a:n,source:"rgba"})},handleMouseDown:function(e){this.handleChange(e,!0),window.addEventListener("mousemove",this.handleChange),window.addEventListener("mouseup",this.handleMouseUp)},handleMouseUp:function(){this.unbindEventListeners()},unbindEventListeners:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}}}},function(e,t,n){"use strict";function r(e,t,n){var r=e+","+t+","+n;if(i[r])return i[r];var o=function(e,t,n){if("undefined"==typeof document)return null;var r=document.createElement("canvas");r.width=r.height=2*n;var i=r.getContext("2d");return i?(i.fillStyle=e,i.fillRect(0,0,r.width,r.height),i.fillStyle=t,i.fillRect(0,0,n,n),i.translate(n,n),i.fillRect(0,0,n,n),r.toDataURL()):null}(e,t,n);return i[r]=o,o}Object.defineProperty(t,"__esModule",{value:!0});var i={};t.default={name:"Checkboard",props:{size:{type:[Number,String],default:8},white:{type:String,default:"#fff"},grey:{type:String,default:"#e6e6e6"}},computed:{bgStyle:function(){return{"background-image":"url("+r(this.white,this.grey,this.size)+")"}}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(3)),o=r(n(4)),s=r(n(6)),a=r(n(5)),c=r(n(7)),u=r(n(8)),l=["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF","rgba(0,0,0,0)"];t.default={name:"Sketch",mixins:[i.default],components:{saturation:s.default,hue:a.default,alpha:c.default,"ed-in":o.default,checkboard:u.default},props:{presetColors:{type:Array,default:function(){return l}},disableAlpha:{type:Boolean,default:!1},disableFields:{type:Boolean,default:!1}},computed:{hex:function(){return(this.colors.a<1?this.colors.hex8:this.colors.hex).replace("#","")},activeColor:function(){var e=this.colors.rgba;return"rgba("+[e.r,e.g,e.b,e.a].join(",")+")"}},methods:{handlePreset:function(e){this.colorChange({hex:e,source:"hex"})},childChange:function(e){this.colorChange(e)},inputChange:function(e){e&&(e.hex?this.isValidHex(e.hex)&&this.colorChange({hex:e.hex,source:"hex"}):(e.r||e.g||e.b||e.a)&&this.colorChange({r:e.r||this.colors.rgba.r,g:e.g||this.colors.rgba.g,b:e.b||this.colors.rgba.b,a:e.a||this.colors.rgba.a,source:"rgba"}))}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(3)),o=r(n(4)),s=r(n(6)),a=r(n(5)),c=r(n(7)),u=r(n(8));t.default={name:"Chrome",mixins:[i.default],props:{disableAlpha:{type:Boolean,default:!1},disableFields:{type:Boolean,default:!1}},components:{saturation:s.default,hue:a.default,alpha:c.default,"ed-in":o.default,checkboard:u.default},data:function(){return{fieldsIndex:0,highlight:!1}},computed:{hsl:function(){var e=this.colors.hsl,t=e.h,n=e.s,r=e.l;return{h:t.toFixed(),s:(100*n).toFixed()+"%",l:(100*r).toFixed()+"%"}},activeColor:function(){var e=this.colors.rgba;return"rgba("+[e.r,e.g,e.b,e.a].join(",")+")"},hasAlpha:function(){return this.colors.a<1}},methods:{childChange:function(e){this.colorChange(e)},inputChange:function(e){if(e)if(e.hex)this.isValidHex(e.hex)&&this.colorChange({hex:e.hex,source:"hex"});else if(e.r||e.g||e.b||e.a)this.colorChange({r:e.r||this.colors.rgba.r,g:e.g||this.colors.rgba.g,b:e.b||this.colors.rgba.b,a:e.a||this.colors.rgba.a,source:"rgba"});else if(e.h||e.s||e.l){var t=e.s?e.s.replace("%","")/100:this.colors.hsl.s,n=e.l?e.l.replace("%","")/100:this.colors.hsl.l;this.colorChange({h:e.h||this.colors.hsl.h,s:t,l:n,source:"hsl"})}},toggleViews:function(){this.fieldsIndex>=2?this.fieldsIndex=0:this.fieldsIndex++},showHighlight:function(){this.highlight=!0},hideHighlight:function(){this.highlight=!1}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=r(n(23)),o=r(n(32)),s=r(n(36)),a=r(n(40)),c=r(n(47)),u=r(n(52)),l=r(n(68)),h=r(n(72)),d=r(n(7)),f=r(n(8)),p=r(n(4)),m=r(n(5)),g=r(n(6)),v=r(n(3)),y={version:"2.7.0",Compact:i.default,Grayscale:o.default,Material:s.default,Slider:a.default,Swatches:c.default,Photoshop:u.default,Sketch:l.default,Chrome:h.default,Alpha:d.default,Checkboard:f.default,EditableInput:p.default,Hue:m.default,Saturation:g.default,ColorMixin:v.default};e.exports=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9),i=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);var s=n(31),a=!1,c=function(e){a||n(24)},u=n(2)(i.a,s.a,!1,c,null,null);u.options.__file="src/components/Compact.vue",t.default=u.exports},function(e,t,n){var r=n(25);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals),n(1)("6ce8a5a8",r,!1,{})},function(e,t,n){(e.exports=n(0)(!1)).push([e.i,"\n.vc-compact {\n  padding-top: 5px;\n  padding-left: 5px;\n  width: 240px;\n  border-radius: 2px;\n  box-shadow: 0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16);\n  background-color: #fff;\n}\n.vc-compact-colors {\n  overflow: hidden;\n  padding: 0;\n  margin: 0;\n}\n.vc-compact-color-item {\n  list-style: none;\n  width: 15px;\n  height: 15px;\n  float: left;\n  margin-right: 5px;\n  margin-bottom: 5px;\n  position: relative;\n  cursor: pointer;\n}\n.vc-compact-color-item--white {\n  box-shadow: inset 0 0 0 1px #ddd;\n}\n.vc-compact-color-item--white .vc-compact-dot {\n  background: #000;\n}\n.vc-compact-dot {\n  position: absolute;\n  top: 5px;\n  right: 5px;\n  bottom: 5px;\n  left: 5px;\n  border-radius: 50%;\n  opacity: 1;\n  background: #fff;\n}\n",""])},function(e,t){e.exports=function(e,t){for(var n=[],r={},i=0;i<t.length;i++){var o=t[i],s=o[0],a={id:e+":"+i,css:o[1],media:o[2],sourceMap:o[3]};r[s]?r[s].parts.push(a):n.push(r[s]={id:s,parts:[a]})}return n}},function(e,t,n){var r;!function(i){function o(e,t){if(t=t||{},(e=e||"")instanceof o)return e;if(!(this instanceof o))return new o(e,t);var n=function(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,o=null,s=!1,a=!1;return"string"==typeof e&&(e=function(e){e=e.replace(R,"").replace(L,"").toLowerCase();var t,n=!1;if(q[e])e=q[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};return(t=z.rgb.exec(e))?{r:t[1],g:t[2],b:t[3]}:(t=z.rgba.exec(e))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=z.hsl.exec(e))?{h:t[1],s:t[2],l:t[3]}:(t=z.hsla.exec(e))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=z.hsv.exec(e))?{h:t[1],s:t[2],v:t[3]}:(t=z.hsva.exec(e))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=z.hex8.exec(e))?{r:A(t[1]),g:A(t[2]),b:A(t[3]),a:O(t[4]),format:n?"name":"hex8"}:(t=z.hex6.exec(e))?{r:A(t[1]),g:A(t[2]),b:A(t[3]),format:n?"name":"hex"}:(t=z.hex4.exec(e))?{r:A(t[1]+""+t[1]),g:A(t[2]+""+t[2]),b:A(t[3]+""+t[3]),a:O(t[4]+""+t[4]),format:n?"name":"hex8"}:!!(t=z.hex3.exec(e))&&{r:A(t[1]+""+t[1]),g:A(t[2]+""+t[2]),b:A(t[3]+""+t[3]),format:n?"name":"hex"}}(e)),"object"==typeof e&&(I(e.r)&&I(e.g)&&I(e.b)?(t=function(e,t,n){return{r:255*E(e,255),g:255*E(t,255),b:255*E(n,255)}}(e.r,e.g,e.b),s=!0,a="%"===String(e.r).substr(-1)?"prgb":"rgb"):I(e.h)&&I(e.s)&&I(e.v)?(r=T(e.s),i=T(e.v),t=c(e.h,r,i),s=!0,a="hsv"):I(e.h)&&I(e.s)&&I(e.l)&&(r=T(e.s),o=T(e.l),t=function(e,t,n){function r(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}var i,o,s;if(e=E(e,360),t=E(t,100),n=E(n,100),0===t)i=o=s=n;else{var a=n<.5?n*(1+t):n+t-n*t,c=2*n-a;i=r(c,a,e+1/3),o=r(c,a,e),s=r(c,a,e-1/3)}return{r:255*i,g:255*o,b:255*s}}(e.h,r,o),s=!0,a="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=C(n),{ok:s,format:e.format||a,r:j(255,F(t.r,0)),g:j(255,F(t.g,0)),b:j(255,F(t.b,0)),a:n}}(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=D(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=D(this._r)),this._g<1&&(this._g=D(this._g)),this._b<1&&(this._b=D(this._b)),this._ok=n.ok,this._tc_id=M++}function s(e,t,n){e=E(e,255),t=E(t,255),n=E(n,255);var r,i,o=F(e,t,n),s=j(e,t,n),a=(o+s)/2;if(o==s)r=i=0;else{var c=o-s;switch(i=a>.5?c/(2-o-s):c/(o+s),o){case e:r=(t-n)/c+(t<n?6:0);break;case t:r=(n-e)/c+2;break;case n:r=(e-t)/c+4}r/=6}return{h:r,s:i,l:a}}function a(e,t,n){e=E(e,255),t=E(t,255),n=E(n,255);var r,i,o=F(e,t,n),s=j(e,t,n),a=o,c=o-s;if(i=0===o?0:c/o,o==s)r=0;else{switch(o){case e:r=(t-n)/c+(t<n?6:0);break;case t:r=(n-e)/c+2;break;case n:r=(e-t)/c+4}r/=6}return{h:r,s:i,v:a}}function c(e,t,n){e=6*E(e,360),t=E(t,100),n=E(n,100);var r=i.floor(e),o=e-r,s=n*(1-t),a=n*(1-o*t),c=n*(1-(1-o)*t),u=r%6;return{r:255*[n,a,s,s,c,n][u],g:255*[c,n,n,a,s,s][u],b:255*[s,s,c,n,n,a][u]}}function u(e,t,n,r){var i=[N(D(e).toString(16)),N(D(t).toString(16)),N(D(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function l(e,t,n,r){return[N(P(r)),N(D(e).toString(16)),N(D(t).toString(16)),N(D(n).toString(16))].join("")}function h(e,t){t=0===t?0:t||10;var n=o(e).toHsl();return n.s-=t/100,n.s=k(n.s),o(n)}function d(e,t){t=0===t?0:t||10;var n=o(e).toHsl();return n.s+=t/100,n.s=k(n.s),o(n)}function f(e){return o(e).desaturate(100)}function p(e,t){t=0===t?0:t||10;var n=o(e).toHsl();return n.l+=t/100,n.l=k(n.l),o(n)}function m(e,t){t=0===t?0:t||10;var n=o(e).toRgb();return n.r=F(0,j(255,n.r-D(-t/100*255))),n.g=F(0,j(255,n.g-D(-t/100*255))),n.b=F(0,j(255,n.b-D(-t/100*255))),o(n)}function g(e,t){t=0===t?0:t||10;var n=o(e).toHsl();return n.l-=t/100,n.l=k(n.l),o(n)}function v(e,t){var n=o(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,o(n)}function y(e){var t=o(e).toHsl();return t.h=(t.h+180)%360,o(t)}function b(e){var t=o(e).toHsl(),n=t.h;return[o(e),o({h:(n+120)%360,s:t.s,l:t.l}),o({h:(n+240)%360,s:t.s,l:t.l})]}function w(e){var t=o(e).toHsl(),n=t.h;return[o(e),o({h:(n+90)%360,s:t.s,l:t.l}),o({h:(n+180)%360,s:t.s,l:t.l}),o({h:(n+270)%360,s:t.s,l:t.l})]}function S(e){var t=o(e).toHsl(),n=t.h;return[o(e),o({h:(n+72)%360,s:t.s,l:t.l}),o({h:(n+216)%360,s:t.s,l:t.l})]}function _(e,t,n){t=t||6,n=n||30;var r=o(e).toHsl(),i=360/n,s=[o(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,s.push(o(r));return s}function x(e,t){t=t||6;for(var n=o(e).toHsv(),r=n.h,i=n.s,s=n.v,a=[],c=1/t;t--;)a.push(o({h:r,s:i,v:s})),s=(s+c)%1;return a}function C(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function E(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=j(t,F(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),i.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function k(e){return j(1,F(0,e))}function A(e){return parseInt(e,16)}function N(e){return 1==e.length?"0"+e:""+e}function T(e){return e<=1&&(e=100*e+"%"),e}function P(e){return i.round(255*parseFloat(e)).toString(16)}function O(e){return A(e)/255}function I(e){return!!z.CSS_UNIT.exec(e)}var R=/^\s+/,L=/\s+$/,M=0,D=i.round,j=i.min,F=i.max,B=i.random;o.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,r=this.toRgb();return e=r.r/255,t=r.g/255,n=r.b/255,.2126*(e<=.03928?e/12.92:i.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:i.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:i.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=C(e),this._roundA=D(100*this._a)/100,this},toHsv:function(){var e=a(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=a(this._r,this._g,this._b),t=D(360*e.h),n=D(100*e.s),r=D(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=s(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=s(this._r,this._g,this._b),t=D(360*e.h),n=D(100*e.s),r=D(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return u(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,n,r,i){var o=[N(D(e).toString(16)),N(D(t).toString(16)),N(D(n).toString(16)),N(P(r))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:D(this._r),g:D(this._g),b:D(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+D(this._r)+", "+D(this._g)+", "+D(this._b)+")":"rgba("+D(this._r)+", "+D(this._g)+", "+D(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:D(100*E(this._r,255))+"%",g:D(100*E(this._g,255))+"%",b:D(100*E(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+D(100*E(this._r,255))+"%, "+D(100*E(this._g,255))+"%, "+D(100*E(this._b,255))+"%)":"rgba("+D(100*E(this._r,255))+"%, "+D(100*E(this._g,255))+"%, "+D(100*E(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(U[u(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+l(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var i=o(e);n="#"+l(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return o(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(p,arguments)},brighten:function(){return this._applyModification(m,arguments)},darken:function(){return this._applyModification(g,arguments)},desaturate:function(){return this._applyModification(h,arguments)},saturate:function(){return this._applyModification(d,arguments)},greyscale:function(){return this._applyModification(f,arguments)},spin:function(){return this._applyModification(v,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(_,arguments)},complement:function(){return this._applyCombination(y,arguments)},monochromatic:function(){return this._applyCombination(x,arguments)},splitcomplement:function(){return this._applyCombination(S,arguments)},triad:function(){return this._applyCombination(b,arguments)},tetrad:function(){return this._applyCombination(w,arguments)}},o.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:T(e[r]));e=n}return o(e,t)},o.equals=function(e,t){return!(!e||!t)&&o(e).toRgbString()==o(t).toRgbString()},o.random=function(){return o.fromRatio({r:B(),g:B(),b:B()})},o.mix=function(e,t,n){n=0===n?0:n||50;var r=o(e).toRgb(),i=o(t).toRgb(),s=n/100;return o({r:(i.r-r.r)*s+r.r,g:(i.g-r.g)*s+r.g,b:(i.b-r.b)*s+r.b,a:(i.a-r.a)*s+r.a})},o.readability=function(e,t){var n=o(e),r=o(t);return(i.max(n.getLuminance(),r.getLuminance())+.05)/(i.min(n.getLuminance(),r.getLuminance())+.05)},o.isReadable=function(e,t,n){var r,i,s=o.readability(e,t);switch(i=!1,(r=function(e){var t,n;return"AA"!==(t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==t&&(t="AA"),"small"!==(n=(e.size||"small").toLowerCase())&&"large"!==n&&(n="small"),{level:t,size:n}}(n)).level+r.size){case"AAsmall":case"AAAlarge":i=s>=4.5;break;case"AAlarge":i=s>=3;break;case"AAAsmall":i=s>=7}return i},o.mostReadable=function(e,t,n){var r,i,s,a,c=null,u=0;i=(n=n||{}).includeFallbackColors,s=n.level,a=n.size;for(var l=0;l<t.length;l++)(r=o.readability(e,t[l]))>u&&(u=r,c=o(t[l]));return o.isReadable(e,c,{level:s,size:a})||!i?c:(n.includeFallbackColors=!1,o.mostReadable(e,["#fff","#000"],n))};var q=o.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},U=o.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(q),z=function(){var e="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",t="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?",n="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?";return{CSS_UNIT:new RegExp(e),rgb:new RegExp("rgb"+t),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+t),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+t),hsva:new RegExp("hsva"+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();void 0!==e&&e.exports?e.exports=o:void 0!==(r=function(){return o}.call(t,n,t,e))&&(e.exports=r)}(Math)},function(e,t,n){var r=n(29);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals),n(1)("0f73e73c",r,!1,{})},function(e,t,n){(e.exports=n(0)(!1)).push([e.i,"\n.vc-editable-input {\n  position: relative;\n}\n.vc-input__input {\n  padding: 0;\n  border: 0;\n  outline: none;\n}\n.vc-input__label {\n  text-transform: capitalize;\n}\n",""])},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vc-editable-input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.val,expression:"val"}],ref:"input",staticClass:"vc-input__input",attrs:{"aria-labelledby":e.labelId},domProps:{value:e.val},on:{keydown:e.handleKeyDown,input:[function(t){t.target.composing||(e.val=t.target.value)},e.update]}}),e._v(" "),n("span",{staticClass:"vc-input__label",attrs:{for:e.label,id:e.labelId}},[e._v(e._s(e.labelSpanText))]),e._v(" "),n("span",{staticClass:"vc-input__desc"},[e._v(e._s(e.desc))])])};r._withStripped=!0;var i={render:r,staticRenderFns:[]};t.a=i},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vc-compact",attrs:{role:"application","aria-label":"Compact color picker"}},[n("ul",{staticClass:"vc-compact-colors",attrs:{role:"listbox"}},e._l(e.paletteUpperCase(e.palette),(function(t){return n("li",{key:t,staticClass:"vc-compact-color-item",class:{"vc-compact-color-item--white":"#FFFFFF"===t},style:{background:t},attrs:{role:"option","aria-label":"color:"+t,"aria-selected":t===e.pick},on:{click:function(n){e.handlerClick(t)}}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t===e.pick,expression:"c === pick"}],staticClass:"vc-compact-dot"})])})))])};r._withStripped=!0;var i={render:r,staticRenderFns:[]};t.a=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),i=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);var s=n(35),a=!1,c=function(e){a||n(33)},u=n(2)(i.a,s.a,!1,c,null,null);u.options.__file="src/components/Grayscale.vue",t.default=u.exports},function(e,t,n){var r=n(34);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals),n(1)("21ddbb74",r,!1,{})},function(e,t,n){(e.exports=n(0)(!1)).push([e.i,"\n.vc-grayscale {\n  width: 125px;\n  border-radius: 2px;\n  box-shadow: 0 2px 15px rgba(0,0,0,.12), 0 2px 10px rgba(0,0,0,.16);\n  background-color: #fff;\n}\n.vc-grayscale-colors {\n  border-radius: 2px;\n  overflow: hidden;\n  padding: 0;\n  margin: 0;\n}\n.vc-grayscale-color-item {\n  list-style: none;\n  width: 25px;\n  height: 25px;\n  float: left;\n  position: relative;\n  cursor: pointer;\n}\n.vc-grayscale-color-item--white .vc-grayscale-dot {\n  background: #000;\n}\n.vc-grayscale-dot {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  width: 6px;\n  height: 6px;\n  margin: -3px 0 0 -2px;\n  border-radius: 50%;\n  opacity: 1;\n  background: #fff;\n}\n",""])},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vc-grayscale",attrs:{role:"application","aria-label":"Grayscale color picker"}},[n("ul",{staticClass:"vc-grayscale-colors",attrs:{role:"listbox"}},e._l(e.paletteUpperCase(e.palette),(function(t){return n("li",{key:t,staticClass:"vc-grayscale-color-item",class:{"vc-grayscale-color-item--white":"#FFFFFF"==t},style:{background:t},attrs:{role:"option","aria-label":"Color:"+t,"aria-selected":t===e.pick},on:{click:function(n){e.handlerClick(t)}}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t===e.pick,expression:"c === pick"}],staticClass:"vc-grayscale-dot"})])})))])};r._withStripped=!0;var i={render:r,staticRenderFns:[]};t.a=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),i=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);var s=n(39),a=!1,c=function(e){a||n(37)},u=n(2)(i.a,s.a,!1,c,null,null);u.options.__file="src/components/Material.vue",t.default=u.exports},function(e,t,n){var r=n(38);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals),n(1)("1ff3af73",r,!1,{})},function(e,t,n){(e.exports=n(0)(!1)).push([e.i,'\n.vc-material {\n  width: 98px;\n  height: 98px;\n  padding: 16px;\n  font-family: "Roboto";\n  position: relative;\n  border-radius: 2px;\n  box-shadow: 0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16);\n  background-color: #fff;\n}\n.vc-material .vc-input__input {\n  width: 100%;\n  margin-top: 12px;\n  font-size: 15px;\n  color: #333;\n  height: 30px;\n}\n.vc-material .vc-input__label {\n  position: absolute;\n  top: 0;\n  left: 0;\n  font-size: 11px;\n  color: #999;\n  text-transform: capitalize;\n}\n.vc-material-hex {\n  border-bottom-width: 2px;\n  border-bottom-style: solid;\n}\n.vc-material-split {\n  display: flex;\n  margin-right: -10px;\n  padding-top: 11px;\n}\n.vc-material-third {\n  flex: 1;\n  padding-right: 10px;\n}\n',""])},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vc-material",attrs:{role:"application","aria-label":"Material color picker"}},[n("ed-in",{staticClass:"vc-material-hex",style:{borderColor:e.colors.hex},attrs:{label:"hex"},on:{change:e.onChange},model:{value:e.colors.hex,callback:function(t){e.$set(e.colors,"hex",t)},expression:"colors.hex"}}),e._v(" "),n("div",{staticClass:"vc-material-split"},[n("div",{staticClass:"vc-material-third"},[n("ed-in",{attrs:{label:"r"},on:{change:e.onChange},model:{value:e.colors.rgba.r,callback:function(t){e.$set(e.colors.rgba,"r",t)},expression:"colors.rgba.r"}})],1),e._v(" "),n("div",{staticClass:"vc-material-third"},[n("ed-in",{attrs:{label:"g"},on:{change:e.onChange},model:{value:e.colors.rgba.g,callback:function(t){e.$set(e.colors.rgba,"g",t)},expression:"colors.rgba.g"}})],1),e._v(" "),n("div",{staticClass:"vc-material-third"},[n("ed-in",{attrs:{label:"b"},on:{change:e.onChange},model:{value:e.colors.rgba.b,callback:function(t){e.$set(e.colors.rgba,"b",t)},expression:"colors.rgba.b"}})],1)])],1)};r._withStripped=!0;var i={render:r,staticRenderFns:[]};t.a=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(13),i=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);var s=n(46),a=!1,c=function(e){a||n(41)},u=n(2)(i.a,s.a,!1,c,null,null);u.options.__file="src/components/Slider.vue",t.default=u.exports},function(e,t,n){var r=n(42);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals),n(1)("7982aa43",r,!1,{})},function(e,t,n){(e.exports=n(0)(!1)).push([e.i,"\n.vc-slider {\n  position: relative;\n  width: 410px;\n}\n.vc-slider-hue-warp {\n  height: 12px;\n  position: relative;\n}\n.vc-slider-hue-warp .vc-hue-picker {\n  width: 14px;\n  height: 14px;\n  border-radius: 6px;\n  transform: translate(-7px, -2px);\n  background-color: rgb(248, 248, 248);\n  box-shadow: 0 1px 4px 0 rgba(0, 0, 0, 0.37);\n}\n.vc-slider-swatches {\n  display: flex;\n  margin-top: 20px;\n}\n.vc-slider-swatch {\n  margin-right: 1px;\n  flex: 1;\n  width: 20%;\n}\n.vc-slider-swatch:first-child {\n  margin-right: 1px;\n}\n.vc-slider-swatch:first-child .vc-slider-swatch-picker {\n  border-radius: 2px 0px 0px 2px;\n}\n.vc-slider-swatch:last-child {\n  margin-right: 0;\n}\n.vc-slider-swatch:last-child .vc-slider-swatch-picker {\n  border-radius: 0px 2px 2px 0px;\n}\n.vc-slider-swatch-picker {\n  cursor: pointer;\n  height: 12px;\n}\n.vc-slider-swatch-picker--active {\n  transform: scaleY(1.8);\n  border-radius: 3.6px/2px;\n}\n.vc-slider-swatch-picker--white {\n  box-shadow: inset 0 0 0 1px #ddd;\n}\n.vc-slider-swatch-picker--active.vc-slider-swatch-picker--white {\n  box-shadow: inset 0 0 0 0.6px #ddd;\n}\n",""])},function(e,t,n){var r=n(44);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals),n(1)("7c5f1a1c",r,!1,{})},function(e,t,n){(e.exports=n(0)(!1)).push([e.i,"\n.vc-hue {\n  position: absolute;\n  top: 0px;\n  right: 0px;\n  bottom: 0px;\n  left: 0px;\n  border-radius: 2px;\n}\n.vc-hue--horizontal {\n  background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n}\n.vc-hue--vertical {\n  background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n}\n.vc-hue-container {\n  cursor: pointer;\n  margin: 0 2px;\n  position: relative;\n  height: 100%;\n}\n.vc-hue-pointer {\n  z-index: 2;\n  position: absolute;\n}\n.vc-hue-picker {\n  cursor: pointer;\n  margin-top: 1px;\n  width: 4px;\n  border-radius: 1px;\n  height: 8px;\n  box-shadow: 0 0 2px rgba(0, 0, 0, .6);\n  background: #fff;\n  transform: translateX(-2px) ;\n}\n",""])},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["vc-hue",e.directionClass]},[n("div",{ref:"container",staticClass:"vc-hue-container",attrs:{role:"slider","aria-valuenow":e.colors.hsl.h,"aria-valuemin":"0","aria-valuemax":"360"},on:{mousedown:e.handleMouseDown,touchmove:e.handleChange,touchstart:e.handleChange}},[n("div",{staticClass:"vc-hue-pointer",style:{top:e.pointerTop,left:e.pointerLeft},attrs:{role:"presentation"}},[n("div",{staticClass:"vc-hue-picker"})])])])};r._withStripped=!0;var i={render:r,staticRenderFns:[]};t.a=i},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vc-slider",attrs:{role:"application","aria-label":"Slider color picker"}},[n("div",{staticClass:"vc-slider-hue-warp"},[n("hue",{on:{change:e.hueChange},model:{value:e.colors,callback:function(t){e.colors=t},expression:"colors"}})],1),e._v(" "),n("div",{staticClass:"vc-slider-swatches",attrs:{role:"group"}},e._l(e.swatches,(function(t,r){return n("div",{key:r,staticClass:"vc-slider-swatch",attrs:{"data-index":r,"aria-label":"color:"+e.colors.hex,role:"button"},on:{click:function(n){e.handleSwClick(r,t)}}},[n("div",{staticClass:"vc-slider-swatch-picker",class:{"vc-slider-swatch-picker--active":t==e.activeOffset,"vc-slider-swatch-picker--white":"1"===t},style:{background:"hsl("+e.colors.hsl.h+", 50%, "+100*t+"%)"}})])})))])};r._withStripped=!0;var i={render:r,staticRenderFns:[]};t.a=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(15),i=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);var s=n(51),a=!1,c=function(e){a||n(48)},u=n(2)(i.a,s.a,!1,c,null,null);u.options.__file="src/components/Swatches.vue",t.default=u.exports},function(e,t,n){var r=n(49);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals),n(1)("10f839a2",r,!1,{})},function(e,t,n){(e.exports=n(0)(!1)).push([e.i,"\n.vc-swatches {\n  width: 320px;\n  height: 240px;\n  overflow-y: scroll;\n  background-color: #fff;\n  box-shadow: 0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16);\n}\n.vc-swatches-box {\n  padding: 16px 0 6px 16px;\n  overflow: hidden;\n}\n.vc-swatches-color-group {\n  padding-bottom: 10px;\n  width: 40px;\n  float: left;\n  margin-right: 10px;\n}\n.vc-swatches-color-it {\n  box-sizing: border-box;\n  width: 40px;\n  height: 24px;\n  cursor: pointer;\n  background: #880e4f;\n  margin-bottom: 1px;\n  overflow: hidden;\n  -ms-border-radius: 2px 2px 0 0;\n  -moz-border-radius: 2px 2px 0 0;\n  -o-border-radius: 2px 2px 0 0;\n  -webkit-border-radius: 2px 2px 0 0;\n  border-radius: 2px 2px 0 0;\n}\n.vc-swatches-color--white {\n  border: 1px solid #DDD;\n}\n.vc-swatches-pick {\n  fill: rgb(255, 255, 255);\n  margin-left: 8px;\n  display: block;\n}\n.vc-swatches-color--white .vc-swatches-pick {\n  fill: rgb(51, 51, 51);\n}\n",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"red",(function(){return r})),n.d(t,"pink",(function(){return i})),n.d(t,"purple",(function(){return o})),n.d(t,"deepPurple",(function(){return s})),n.d(t,"indigo",(function(){return a})),n.d(t,"blue",(function(){return c})),n.d(t,"lightBlue",(function(){return u})),n.d(t,"cyan",(function(){return l})),n.d(t,"teal",(function(){return h})),n.d(t,"green",(function(){return d})),n.d(t,"lightGreen",(function(){return f})),n.d(t,"lime",(function(){return p})),n.d(t,"yellow",(function(){return m})),n.d(t,"amber",(function(){return g})),n.d(t,"orange",(function(){return v})),n.d(t,"deepOrange",(function(){return y})),n.d(t,"brown",(function(){return b})),n.d(t,"grey",(function(){return w})),n.d(t,"blueGrey",(function(){return S})),n.d(t,"darkText",(function(){return _})),n.d(t,"lightText",(function(){return x})),n.d(t,"darkIcons",(function(){return C})),n.d(t,"lightIcons",(function(){return E})),n.d(t,"white",(function(){return k})),n.d(t,"black",(function(){return A}));var r={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},i={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},o={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},s={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},a={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},c={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},u={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},l={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},h={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},d={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},f={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},p={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},m={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},g={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},v={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},y={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},b={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},w={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121"},S={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},_={primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",dividers:"rgba(0, 0, 0, 0.12)"},x={primary:"rgba(255, 255, 255, 1)",secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",dividers:"rgba(255, 255, 255, 0.12)"},C={active:"rgba(0, 0, 0, 0.54)",inactive:"rgba(0, 0, 0, 0.38)"},E={active:"rgba(255, 255, 255, 1)",inactive:"rgba(255, 255, 255, 0.5)"},k="#ffffff",A="#000000";t.default={red:r,pink:i,purple:o,deepPurple:s,indigo:a,blue:c,lightBlue:u,cyan:l,teal:h,green:d,lightGreen:f,lime:p,yellow:m,amber:g,orange:v,deepOrange:y,brown:b,grey:w,blueGrey:S,darkText:_,lightText:x,darkIcons:C,lightIcons:E,white:k,black:A}},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vc-swatches",attrs:{role:"application","aria-label":"Swatches color picker","data-pick":e.pick}},[n("div",{staticClass:"vc-swatches-box",attrs:{role:"listbox"}},e._l(e.palette,(function(t,r){return n("div",{key:r,staticClass:"vc-swatches-color-group"},e._l(t,(function(t){return n("div",{key:t,class:["vc-swatches-color-it",{"vc-swatches-color--white":"#FFFFFF"===t}],style:{background:t},attrs:{role:"option","aria-label":"Color:"+t,"aria-selected":e.equal(t),"data-color":t},on:{click:function(n){e.handlerClick(t)}}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.equal(t),expression:"equal(c)"}],staticClass:"vc-swatches-pick"},[n("svg",{staticStyle:{width:"24px",height:"24px"},attrs:{viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}})])])])})))})))])};r._withStripped=!0;var i={render:r,staticRenderFns:[]};t.a=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(16),i=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);var s=n(67),a=!1,c=function(e){a||n(53)},u=n(2)(i.a,s.a,!1,c,null,null);u.options.__file="src/components/Photoshop.vue",t.default=u.exports},function(e,t,n){var r=n(54);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals),n(1)("080365d4",r,!1,{})},function(e,t,n){(e.exports=n(0)(!1)).push([e.i,'\n.vc-photoshop {\n  background: #DCDCDC;\n  border-radius: 4px;\n  box-shadow: 0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15);\n  box-sizing: initial;\n  width: 513px;\n  font-family: Roboto;\n}\n.vc-photoshop__disable-fields {\n  width: 390px;\n}\n.vc-ps-head {\n  background-image: linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%);\n  border-bottom: 1px solid #B1B1B1;\n  box-shadow: inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02);\n  height: 23px;\n  line-height: 24px;\n  border-radius: 4px 4px 0 0;\n  font-size: 13px;\n  color: #4D4D4D;\n  text-align: center;\n}\n.vc-ps-body {\n  padding: 15px;\n  display: flex;\n}\n.vc-ps-saturation-wrap {\n  width: 256px;\n  height: 256px;\n  position: relative;\n  border: 2px solid #B3B3B3;\n  border-bottom: 2px solid #F0F0F0;\n  overflow: hidden;\n}\n.vc-ps-saturation-wrap .vc-saturation-circle {\n  width: 12px;\n  height: 12px;\n}\n.vc-ps-hue-wrap {\n  position: relative;\n  height: 256px;\n  width: 19px;\n  margin-left: 10px;\n  border: 2px solid #B3B3B3;\n  border-bottom: 2px solid #F0F0F0;\n}\n.vc-ps-hue-pointer {\n  position: relative;\n}\n.vc-ps-hue-pointer--left,\n.vc-ps-hue-pointer--right {\n  position: absolute;\n  width: 0;\n  height: 0;\n  border-style: solid;\n  border-width: 5px 0 5px 8px;\n  border-color: transparent transparent transparent #555;\n}\n.vc-ps-hue-pointer--left:after,\n.vc-ps-hue-pointer--right:after {\n  content: "";\n  width: 0;\n  height: 0;\n  border-style: solid;\n  border-width: 4px 0 4px 6px;\n  border-color: transparent transparent transparent #fff;\n  position: absolute;\n  top: 1px;\n  left: 1px;\n  transform: translate(-8px, -5px);\n}\n.vc-ps-hue-pointer--left {\n  transform: translate(-13px, -4px);\n}\n.vc-ps-hue-pointer--right {\n  transform: translate(20px, -4px) rotate(180deg);\n}\n.vc-ps-controls {\n  width: 180px;\n  margin-left: 10px;\n  display: flex;\n}\n.vc-ps-controls__disable-fields {\n  width: auto;\n}\n.vc-ps-actions {\n  margin-left: 20px;\n  flex: 1;\n}\n.vc-ps-ac-btn {\n  cursor: pointer;\n  background-image: linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%);\n  border: 1px solid #878787;\n  border-radius: 2px;\n  height: 20px;\n  box-shadow: 0 1px 0 0 #EAEAEA;\n  font-size: 14px;\n  color: #000;\n  line-height: 20px;\n  text-align: center;\n  margin-bottom: 10px;\n}\n.vc-ps-previews {\n  width: 60px;\n}\n.vc-ps-previews__swatches {\n  border: 1px solid #B3B3B3;\n  border-bottom: 1px solid #F0F0F0;\n  margin-bottom: 2px;\n  margin-top: 1px;\n}\n.vc-ps-previews__pr-color {\n  height: 34px;\n  box-shadow: inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000;\n}\n.vc-ps-previews__label {\n  font-size: 14px;\n  color: #000;\n  text-align: center;\n}\n.vc-ps-fields {\n  padding-top: 5px;\n  padding-bottom: 9px;\n  width: 80px;\n  position: relative;\n}\n.vc-ps-fields .vc-input__input {\n  margin-left: 40%;\n  width: 40%;\n  height: 18px;\n  border: 1px solid #888888;\n  box-shadow: inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC;\n  margin-bottom: 5px;\n  font-size: 13px;\n  padding-left: 3px;\n  margin-right: 10px;\n}\n.vc-ps-fields .vc-input__label, .vc-ps-fields .vc-input__desc {\n  top: 0;\n  text-transform: uppercase;\n  font-size: 13px;\n  height: 18px;\n  line-height: 22px;\n  position: absolute;\n}\n.vc-ps-fields .vc-input__label {\n  left: 0;\n  width: 34px;\n}\n.vc-ps-fields .vc-input__desc {\n  right: 0;\n  width: 0;\n}\n.vc-ps-fields__divider {\n  height: 5px;\n}\n.vc-ps-fields__hex .vc-input__input {\n  margin-left: 20%;\n  width: 80%;\n  height: 18px;\n  border: 1px solid #888888;\n  box-shadow: inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC;\n  margin-bottom: 6px;\n  font-size: 13px;\n  padding-left: 3px;\n}\n.vc-ps-fields__hex .vc-input__label {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 14px;\n  text-transform: uppercase;\n  font-size: 13px;\n  height: 18px;\n  line-height: 22px;\n}\n',""])},function(e,t,n){var r=n(56);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals),n(1)("b5380e52",r,!1,{})},function(e,t,n){(e.exports=n(0)(!1)).push([e.i,"\n.vc-saturation,\n.vc-saturation--white,\n.vc-saturation--black {\n  cursor: pointer;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n}\n.vc-saturation--white {\n  background: linear-gradient(to right, #fff, rgba(255,255,255,0));\n}\n.vc-saturation--black {\n  background: linear-gradient(to top, #000, rgba(0,0,0,0));\n}\n.vc-saturation-pointer {\n  cursor: pointer;\n  position: absolute;\n}\n.vc-saturation-circle {\n  cursor: head;\n  width: 4px;\n  height: 4px;\n  box-shadow: 0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3), 0 0 1px 2px rgba(0,0,0,.4);\n  border-radius: 50%;\n  transform: translate(-2px, -2px);\n}\n",""])},function(e,t){e.exports=function(e,t,n){return t<n?e<t?t:e>n?n:e:e<n?n:e>t?t:e}},function(e,t,n){(function(t){function n(e,t,n){function s(t){var n=h,r=d;return h=d=void 0,w=t,p=e.apply(r,n)}function a(e){var n=e-g;return void 0===g||n>=t||n<0||_&&e-w>=f}function c(){var e=b();if(a(e))return u(e);m=setTimeout(c,function(e){var n=t-(e-g);return _?y(n,f-(e-w)):n}(e))}function u(e){return m=void 0,x&&h?s(e):(h=d=void 0,p)}function l(){var e=b(),n=a(e);if(h=arguments,d=this,g=e,n){if(void 0===m)return function(e){return w=e,m=setTimeout(c,t),S?s(e):p}(g);if(_)return m=setTimeout(c,t),s(g)}return void 0===m&&(m=setTimeout(c,t)),p}var h,d,f,p,m,g,w=0,S=!1,_=!1,x=!0;if("function"!=typeof e)throw new TypeError(o);return t=i(t)||0,r(n)&&(S=!!n.leading,f=(_="maxWait"in n)?v(i(n.maxWait)||0,t):f,x="trailing"in n?!!n.trailing:x),l.cancel=function(){void 0!==m&&clearTimeout(m),w=0,h=g=d=m=void 0},l.flush=function(){return void 0===m?p:u(b())},l}function r(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function i(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&g.call(e)==a}(e))return s;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(c,"");var n=l.test(e);return n||h.test(e)?d(e.slice(2),n?2:8):u.test(e)?s:+e}var o="Expected a function",s=NaN,a="[object Symbol]",c=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,h=/^0o[0-7]+$/i,d=parseInt,f="object"==typeof t&&t&&t.Object===Object&&t,p="object"==typeof self&&self&&self.Object===Object&&self,m=f||p||Function("return this")(),g=Object.prototype.toString,v=Math.max,y=Math.min,b=function(){return m.Date.now()};e.exports=function(e,t,i){var s=!0,a=!0;if("function"!=typeof e)throw new TypeError(o);return r(i)&&(s="leading"in i?!!i.leading:s,a="trailing"in i?!!i.trailing:a),n(e,t,{leading:s,maxWait:t,trailing:a})}}).call(t,n(59))},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"container",staticClass:"vc-saturation",style:{background:e.bgColor},on:{mousedown:e.handleMouseDown,touchmove:e.handleChange,touchstart:e.handleChange}},[n("div",{staticClass:"vc-saturation--white"}),e._v(" "),n("div",{staticClass:"vc-saturation--black"}),e._v(" "),n("div",{staticClass:"vc-saturation-pointer",style:{top:e.pointerTop,left:e.pointerLeft}},[n("div",{staticClass:"vc-saturation-circle"})])])};r._withStripped=!0;var i={render:r,staticRenderFns:[]};t.a=i},function(e,t,n){var r=n(62);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals),n(1)("4dc1b086",r,!1,{})},function(e,t,n){(e.exports=n(0)(!1)).push([e.i,"\n.vc-alpha {\n  position: absolute;\n  top: 0px;\n  right: 0px;\n  bottom: 0px;\n  left: 0px;\n}\n.vc-alpha-checkboard-wrap {\n  position: absolute;\n  top: 0px;\n  right: 0px;\n  bottom: 0px;\n  left: 0px;\n  overflow: hidden;\n}\n.vc-alpha-gradient {\n  position: absolute;\n  top: 0px;\n  right: 0px;\n  bottom: 0px;\n  left: 0px;\n}\n.vc-alpha-container {\n  cursor: pointer;\n  position: relative;\n  z-index: 2;\n  height: 100%;\n  margin: 0 3px;\n}\n.vc-alpha-pointer {\n  z-index: 2;\n  position: absolute;\n}\n.vc-alpha-picker {\n  cursor: pointer;\n  width: 4px;\n  border-radius: 1px;\n  height: 8px;\n  box-shadow: 0 0 2px rgba(0, 0, 0, .6);\n  background: #fff;\n  margin-top: 1px;\n  transform: translateX(-2px);\n}\n",""])},function(e,t,n){var r=n(64);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals),n(1)("7e15c05b",r,!1,{})},function(e,t,n){(e.exports=n(0)(!1)).push([e.i,"\n.vc-checkerboard {\n  position: absolute;\n  top: 0px;\n  right: 0px;\n  bottom: 0px;\n  left: 0px;\n  background-size: contain;\n}\n",""])},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"vc-checkerboard",style:e.bgStyle})};r._withStripped=!0;var i={render:r,staticRenderFns:[]};t.a=i},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vc-alpha"},[n("div",{staticClass:"vc-alpha-checkboard-wrap"},[n("checkboard")],1),e._v(" "),n("div",{staticClass:"vc-alpha-gradient",style:{background:e.gradientColor}}),e._v(" "),n("div",{ref:"container",staticClass:"vc-alpha-container",on:{mousedown:e.handleMouseDown,touchmove:e.handleChange,touchstart:e.handleChange}},[n("div",{staticClass:"vc-alpha-pointer",style:{left:100*e.colors.a+"%"}},[n("div",{staticClass:"vc-alpha-picker"})])])])};r._withStripped=!0;var i={render:r,staticRenderFns:[]};t.a=i},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["vc-photoshop",e.disableFields?"vc-photoshop__disable-fields":""],attrs:{role:"application","aria-label":"PhotoShop color picker"}},[n("div",{staticClass:"vc-ps-head",attrs:{role:"heading"}},[e._v(e._s(e.head))]),e._v(" "),n("div",{staticClass:"vc-ps-body"},[n("div",{staticClass:"vc-ps-saturation-wrap"},[n("saturation",{on:{change:e.childChange},model:{value:e.colors,callback:function(t){e.colors=t},expression:"colors"}})],1),e._v(" "),n("div",{staticClass:"vc-ps-hue-wrap"},[n("hue",{attrs:{direction:"vertical"},on:{change:e.childChange},model:{value:e.colors,callback:function(t){e.colors=t},expression:"colors"}},[n("div",{staticClass:"vc-ps-hue-pointer"},[n("i",{staticClass:"vc-ps-hue-pointer--left"}),n("i",{staticClass:"vc-ps-hue-pointer--right"})])])],1),e._v(" "),n("div",{class:["vc-ps-controls",e.disableFields?"vc-ps-controls__disable-fields":""]},[n("div",{staticClass:"vc-ps-previews"},[n("div",{staticClass:"vc-ps-previews__label"},[e._v(e._s(e.newLabel))]),e._v(" "),n("div",{staticClass:"vc-ps-previews__swatches"},[n("div",{staticClass:"vc-ps-previews__pr-color",style:{background:e.colors.hex},attrs:{"aria-label":"New color is "+e.colors.hex}}),e._v(" "),n("div",{staticClass:"vc-ps-previews__pr-color",style:{background:e.currentColor},attrs:{"aria-label":"Current color is "+e.currentColor},on:{click:e.clickCurrentColor}})]),e._v(" "),n("div",{staticClass:"vc-ps-previews__label"},[e._v(e._s(e.currentLabel))])]),e._v(" "),e.disableFields?e._e():n("div",{staticClass:"vc-ps-actions"},[n("div",{staticClass:"vc-ps-ac-btn",attrs:{role:"button","aria-label":e.acceptLabel},on:{click:e.handleAccept}},[e._v(e._s(e.acceptLabel))]),e._v(" "),n("div",{staticClass:"vc-ps-ac-btn",attrs:{role:"button","aria-label":e.cancelLabel},on:{click:e.handleCancel}},[e._v(e._s(e.cancelLabel))]),e._v(" "),n("div",{staticClass:"vc-ps-fields"},[n("ed-in",{attrs:{label:"h",desc:"°",value:e.hsv.h},on:{change:e.inputChange}}),e._v(" "),n("ed-in",{attrs:{label:"s",desc:"%",value:e.hsv.s,max:100},on:{change:e.inputChange}}),e._v(" "),n("ed-in",{attrs:{label:"v",desc:"%",value:e.hsv.v,max:100},on:{change:e.inputChange}}),e._v(" "),n("div",{staticClass:"vc-ps-fields__divider"}),e._v(" "),n("ed-in",{attrs:{label:"r",value:e.colors.rgba.r},on:{change:e.inputChange}}),e._v(" "),n("ed-in",{attrs:{label:"g",value:e.colors.rgba.g},on:{change:e.inputChange}}),e._v(" "),n("ed-in",{attrs:{label:"b",value:e.colors.rgba.b},on:{change:e.inputChange}}),e._v(" "),n("div",{staticClass:"vc-ps-fields__divider"}),e._v(" "),n("ed-in",{staticClass:"vc-ps-fields__hex",attrs:{label:"#",value:e.hex},on:{change:e.inputChange}})],1),e._v(" "),e.hasResetButton?n("div",{staticClass:"vc-ps-ac-btn",attrs:{"aria-label":"reset"},on:{click:e.handleReset}},[e._v(e._s(e.resetLabel))]):e._e()])])])])};r._withStripped=!0;var i={render:r,staticRenderFns:[]};t.a=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(20),i=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);var s=n(71),a=!1,c=function(e){a||n(69)},u=n(2)(i.a,s.a,!1,c,null,null);u.options.__file="src/components/Sketch.vue",t.default=u.exports},function(e,t,n){var r=n(70);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals),n(1)("612c6604",r,!1,{})},function(e,t,n){(e.exports=n(0)(!1)).push([e.i,"\n.vc-sketch {\n  position: relative;\n  width: 200px;\n  padding: 10px 10px 0;\n  box-sizing: initial;\n  background: #fff;\n  border-radius: 4px;\n  box-shadow: 0 0 0 1px rgba(0, 0, 0, .15), 0 8px 16px rgba(0, 0, 0, .15);\n}\n.vc-sketch-saturation-wrap {\n  width: 100%;\n  padding-bottom: 75%;\n  position: relative;\n  overflow: hidden;\n}\n.vc-sketch-controls {\n  display: flex;\n}\n.vc-sketch-sliders {\n  padding: 4px 0;\n  flex: 1;\n}\n.vc-sketch-sliders .vc-hue,\n.vc-sketch-sliders .vc-alpha-gradient {\n  border-radius: 2px;\n}\n.vc-sketch-hue-wrap {\n  position: relative;\n  height: 10px;\n}\n.vc-sketch-alpha-wrap {\n  position: relative;\n  height: 10px;\n  margin-top: 4px;\n  overflow: hidden;\n}\n.vc-sketch-color-wrap {\n  width: 24px;\n  height: 24px;\n  position: relative;\n  margin-top: 4px;\n  margin-left: 4px;\n  border-radius: 3px;\n}\n.vc-sketch-active-color {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  border-radius: 2px;\n  box-shadow: inset 0 0 0 1px rgba(0, 0, 0, .15), inset 0 0 4px rgba(0, 0, 0, .25);\n  z-index: 2;\n}\n.vc-sketch-color-wrap .vc-checkerboard {\n  background-size: auto;\n}\n.vc-sketch-field {\n  display: flex;\n  padding-top: 4px;\n}\n.vc-sketch-field .vc-input__input {\n  width: 90%;\n  padding: 4px 0 3px 10%;\n  border: none;\n  box-shadow: inset 0 0 0 1px #ccc;\n  font-size: 10px;\n}\n.vc-sketch-field .vc-input__label {\n  display: block;\n  text-align: center;\n  font-size: 11px;\n  color: #222;\n  padding-top: 3px;\n  padding-bottom: 4px;\n  text-transform: capitalize;\n}\n.vc-sketch-field--single {\n  flex: 1;\n  padding-left: 6px;\n}\n.vc-sketch-field--double {\n  flex: 2;\n}\n.vc-sketch-presets {\n  margin-right: -10px;\n  margin-left: -10px;\n  padding-left: 10px;\n  padding-top: 10px;\n  border-top: 1px solid #eee;\n}\n.vc-sketch-presets-color {\n  border-radius: 3px;\n  overflow: hidden;\n  position: relative;\n  display: inline-block;\n  margin: 0 10px 10px 0;\n  vertical-align: top;\n  cursor: pointer;\n  width: 16px;\n  height: 16px;\n  box-shadow: inset 0 0 0 1px rgba(0, 0, 0, .15);\n}\n.vc-sketch-presets-color .vc-checkerboard {\n  box-shadow: inset 0 0 0 1px rgba(0, 0, 0, .15);\n  border-radius: 3px;\n}\n.vc-sketch__disable-alpha .vc-sketch-color-wrap {\n  height: 10px;\n}\n",""])},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["vc-sketch",e.disableAlpha?"vc-sketch__disable-alpha":""],attrs:{role:"application","aria-label":"Sketch color picker"}},[n("div",{staticClass:"vc-sketch-saturation-wrap"},[n("saturation",{on:{change:e.childChange},model:{value:e.colors,callback:function(t){e.colors=t},expression:"colors"}})],1),e._v(" "),n("div",{staticClass:"vc-sketch-controls"},[n("div",{staticClass:"vc-sketch-sliders"},[n("div",{staticClass:"vc-sketch-hue-wrap"},[n("hue",{on:{change:e.childChange},model:{value:e.colors,callback:function(t){e.colors=t},expression:"colors"}})],1),e._v(" "),e.disableAlpha?e._e():n("div",{staticClass:"vc-sketch-alpha-wrap"},[n("alpha",{on:{change:e.childChange},model:{value:e.colors,callback:function(t){e.colors=t},expression:"colors"}})],1)]),e._v(" "),n("div",{staticClass:"vc-sketch-color-wrap"},[n("div",{staticClass:"vc-sketch-active-color",style:{background:e.activeColor},attrs:{"aria-label":"Current color is "+e.activeColor}}),e._v(" "),n("checkboard")],1)]),e._v(" "),e.disableFields?e._e():n("div",{staticClass:"vc-sketch-field"},[n("div",{staticClass:"vc-sketch-field--double"},[n("ed-in",{attrs:{label:"hex",value:e.hex},on:{change:e.inputChange}})],1),e._v(" "),n("div",{staticClass:"vc-sketch-field--single"},[n("ed-in",{attrs:{label:"r",value:e.colors.rgba.r},on:{change:e.inputChange}})],1),e._v(" "),n("div",{staticClass:"vc-sketch-field--single"},[n("ed-in",{attrs:{label:"g",value:e.colors.rgba.g},on:{change:e.inputChange}})],1),e._v(" "),n("div",{staticClass:"vc-sketch-field--single"},[n("ed-in",{attrs:{label:"b",value:e.colors.rgba.b},on:{change:e.inputChange}})],1),e._v(" "),e.disableAlpha?e._e():n("div",{staticClass:"vc-sketch-field--single"},[n("ed-in",{attrs:{label:"a",value:e.colors.a,"arrow-offset":.01,max:1},on:{change:e.inputChange}})],1)]),e._v(" "),n("div",{staticClass:"vc-sketch-presets",attrs:{role:"group","aria-label":"A color preset, pick one to set as current color"}},[e._l(e.presetColors,(function(t){return[e.isTransparent(t)?n("div",{key:t,staticClass:"vc-sketch-presets-color",attrs:{"aria-label":"Color:"+t},on:{click:function(n){e.handlePreset(t)}}},[n("checkboard")],1):n("div",{key:t,staticClass:"vc-sketch-presets-color",style:{background:t},attrs:{"aria-label":"Color:"+t},on:{click:function(n){e.handlePreset(t)}}})]}))],2)])};r._withStripped=!0;var i={render:r,staticRenderFns:[]};t.a=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(21),i=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);var s=n(75),a=!1,c=function(e){a||n(73)},u=n(2)(i.a,s.a,!1,c,null,null);u.options.__file="src/components/Chrome.vue",t.default=u.exports},function(e,t,n){var r=n(74);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals),n(1)("1cd16048",r,!1,{})},function(e,t,n){(e.exports=n(0)(!1)).push([e.i,"\n.vc-chrome {\n  background: #fff;\n  border-radius: 2px;\n  box-shadow: 0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3);\n  box-sizing: initial;\n  width: 225px;\n  font-family: Menlo;\n  background-color: #fff;\n}\n.vc-chrome-controls {\n  display: flex;\n}\n.vc-chrome-color-wrap {\n  position: relative;\n  width: 36px;\n}\n.vc-chrome-active-color {\n  position: relative;\n  width: 30px;\n  height: 30px;\n  border-radius: 15px;\n  overflow: hidden;\n  z-index: 1;\n}\n.vc-chrome-color-wrap .vc-checkerboard {\n  width: 30px;\n  height: 30px;\n  border-radius: 15px;\n  background-size: auto;\n}\n.vc-chrome-sliders {\n  flex: 1;\n}\n.vc-chrome-fields-wrap {\n  display: flex;\n  padding-top: 16px;\n}\n.vc-chrome-fields {\n  display: flex;\n  margin-left: -6px;\n  flex: 1;\n}\n.vc-chrome-field {\n  padding-left: 6px;\n  width: 100%;\n}\n.vc-chrome-toggle-btn {\n  width: 32px;\n  text-align: right;\n  position: relative;\n}\n.vc-chrome-toggle-icon {\n  margin-right: -4px;\n  margin-top: 12px;\n  cursor: pointer;\n  position: relative;\n  z-index: 2;\n}\n.vc-chrome-toggle-icon-highlight {\n  position: absolute;\n  width: 24px;\n  height: 28px;\n  background: #eee;\n  border-radius: 4px;\n  top: 10px;\n  left: 12px;\n}\n.vc-chrome-hue-wrap {\n  position: relative;\n  height: 10px;\n  margin-bottom: 8px;\n}\n.vc-chrome-alpha-wrap {\n  position: relative;\n  height: 10px;\n}\n.vc-chrome-hue-wrap .vc-hue {\n  border-radius: 2px;\n}\n.vc-chrome-alpha-wrap .vc-alpha-gradient {\n  border-radius: 2px;\n}\n.vc-chrome-hue-wrap .vc-hue-picker, .vc-chrome-alpha-wrap .vc-alpha-picker {\n  width: 12px;\n  height: 12px;\n  border-radius: 6px;\n  transform: translate(-6px, -2px);\n  background-color: rgb(248, 248, 248);\n  box-shadow: 0 1px 4px 0 rgba(0, 0, 0, 0.37);\n}\n.vc-chrome-body {\n  padding: 16px 16px 12px;\n  background-color: #fff;\n}\n.vc-chrome-saturation-wrap {\n  width: 100%;\n  padding-bottom: 55%;\n  position: relative;\n  border-radius: 2px 2px 0 0;\n  overflow: hidden;\n}\n.vc-chrome-saturation-wrap .vc-saturation-circle {\n  width: 12px;\n  height: 12px;\n}\n.vc-chrome-fields .vc-input__input {\n  font-size: 11px;\n  color: #333;\n  width: 100%;\n  border-radius: 2px;\n  border: none;\n  box-shadow: inset 0 0 0 1px #dadada;\n  height: 21px;\n  text-align: center;\n}\n.vc-chrome-fields .vc-input__label {\n  text-transform: uppercase;\n  font-size: 11px;\n  line-height: 11px;\n  color: #969696;\n  text-align: center;\n  display: block;\n  margin-top: 12px;\n}\n.vc-chrome__disable-alpha .vc-chrome-active-color {\n  width: 18px;\n  height: 18px;\n}\n.vc-chrome__disable-alpha .vc-chrome-color-wrap {\n  width: 30px;\n}\n.vc-chrome__disable-alpha .vc-chrome-hue-wrap {\n  margin-top: 4px;\n  margin-bottom: 4px;\n}\n",""])},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["vc-chrome",e.disableAlpha?"vc-chrome__disable-alpha":""],attrs:{role:"application","aria-label":"Chrome color picker"}},[n("div",{staticClass:"vc-chrome-saturation-wrap"},[n("saturation",{on:{change:e.childChange},model:{value:e.colors,callback:function(t){e.colors=t},expression:"colors"}})],1),e._v(" "),n("div",{staticClass:"vc-chrome-body"},[n("div",{staticClass:"vc-chrome-controls"},[n("div",{staticClass:"vc-chrome-color-wrap"},[n("div",{staticClass:"vc-chrome-active-color",style:{background:e.activeColor},attrs:{"aria-label":"current color is "+e.colors.hex}}),e._v(" "),e.disableAlpha?e._e():n("checkboard")],1),e._v(" "),n("div",{staticClass:"vc-chrome-sliders"},[n("div",{staticClass:"vc-chrome-hue-wrap"},[n("hue",{on:{change:e.childChange},model:{value:e.colors,callback:function(t){e.colors=t},expression:"colors"}})],1),e._v(" "),e.disableAlpha?e._e():n("div",{staticClass:"vc-chrome-alpha-wrap"},[n("alpha",{on:{change:e.childChange},model:{value:e.colors,callback:function(t){e.colors=t},expression:"colors"}})],1)])]),e._v(" "),e.disableFields?e._e():n("div",{staticClass:"vc-chrome-fields-wrap"},[n("div",{directives:[{name:"show",rawName:"v-show",value:0===e.fieldsIndex,expression:"fieldsIndex === 0"}],staticClass:"vc-chrome-fields"},[n("div",{staticClass:"vc-chrome-field"},[e.hasAlpha?e._e():n("ed-in",{attrs:{label:"hex",value:e.colors.hex},on:{change:e.inputChange}}),e._v(" "),e.hasAlpha?n("ed-in",{attrs:{label:"hex",value:e.colors.hex8},on:{change:e.inputChange}}):e._e()],1)]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:1===e.fieldsIndex,expression:"fieldsIndex === 1"}],staticClass:"vc-chrome-fields"},[n("div",{staticClass:"vc-chrome-field"},[n("ed-in",{attrs:{label:"r",value:e.colors.rgba.r},on:{change:e.inputChange}})],1),e._v(" "),n("div",{staticClass:"vc-chrome-field"},[n("ed-in",{attrs:{label:"g",value:e.colors.rgba.g},on:{change:e.inputChange}})],1),e._v(" "),n("div",{staticClass:"vc-chrome-field"},[n("ed-in",{attrs:{label:"b",value:e.colors.rgba.b},on:{change:e.inputChange}})],1),e._v(" "),e.disableAlpha?e._e():n("div",{staticClass:"vc-chrome-field"},[n("ed-in",{attrs:{label:"a",value:e.colors.a,"arrow-offset":.01,max:1},on:{change:e.inputChange}})],1)]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:2===e.fieldsIndex,expression:"fieldsIndex === 2"}],staticClass:"vc-chrome-fields"},[n("div",{staticClass:"vc-chrome-field"},[n("ed-in",{attrs:{label:"h",value:e.hsl.h},on:{change:e.inputChange}})],1),e._v(" "),n("div",{staticClass:"vc-chrome-field"},[n("ed-in",{attrs:{label:"s",value:e.hsl.s},on:{change:e.inputChange}})],1),e._v(" "),n("div",{staticClass:"vc-chrome-field"},[n("ed-in",{attrs:{label:"l",value:e.hsl.l},on:{change:e.inputChange}})],1),e._v(" "),e.disableAlpha?e._e():n("div",{staticClass:"vc-chrome-field"},[n("ed-in",{attrs:{label:"a",value:e.colors.a,"arrow-offset":.01,max:1},on:{change:e.inputChange}})],1)]),e._v(" "),n("div",{staticClass:"vc-chrome-toggle-btn",attrs:{role:"button","aria-label":"Change another color definition"},on:{click:e.toggleViews}},[n("div",{staticClass:"vc-chrome-toggle-icon"},[n("svg",{staticStyle:{width:"24px",height:"24px"},attrs:{viewBox:"0 0 24 24"},on:{mouseover:e.showHighlight,mouseenter:e.showHighlight,mouseout:e.hideHighlight}},[n("path",{attrs:{fill:"#333",d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}})])]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.highlight,expression:"highlight"}],staticClass:"vc-chrome-toggle-icon-highlight"})])])])])};r._withStripped=!0;var i={render:r,staticRenderFns:[]};t.a=i}])},40810:(e,t,n)=>{"use strict";function r(e,t,n,r,i,o,s,a){var c,u="function"==typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),o&&(u._scopeId="data-v-"+o),s?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},u._ssrRegister=c):i&&(c=a?function(){i.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:i),c)if(u.functional){u._injectStyles=c;var l=u.render;u.render=function(e,t){return c.call(t),l(e,t)}}else{var h=u.beforeCreate;u.beforeCreate=h?[].concat(h,c):[c]}return{exports:e,options:u}}n.d(t,{Z:()=>r})},49441:(e,t,n)=>{"use strict";function r(e,t){for(var n=[],r={},i=0;i<t.length;i++){var o=t[i],s=o[0],a={id:e+":"+i,css:o[1],media:o[2],sourceMap:o[3]};r[s]?r[s].parts.push(a):n.push(r[s]={id:s,parts:[a]})}return n}n.d(t,{Z:()=>p});var i="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!i)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var o={},s=i&&(document.head||document.getElementsByTagName("head")[0]),a=null,c=0,u=!1,l=function(){},h=null,d="data-vue-ssr-id",f="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function p(e,t,n,i){u=n,h=i||{};var s=r(e,t);return m(s),function(t){for(var n=[],i=0;i<s.length;i++){var a=s[i];(c=o[a.id]).refs--,n.push(c)}for(t?m(s=r(e,t)):s=[],i=0;i<n.length;i++){var c;if(0===(c=n[i]).refs){for(var u=0;u<c.parts.length;u++)c.parts[u]();delete o[c.id]}}}}function m(e){for(var t=0;t<e.length;t++){var n=e[t],r=o[n.id];if(r){r.refs++;for(var i=0;i<r.parts.length;i++)r.parts[i](n.parts[i]);for(;i<n.parts.length;i++)r.parts.push(v(n.parts[i]));r.parts.length>n.parts.length&&(r.parts.length=n.parts.length)}else{var s=[];for(i=0;i<n.parts.length;i++)s.push(v(n.parts[i]));o[n.id]={id:n.id,refs:1,parts:s}}}}function g(){var e=document.createElement("style");return e.type="text/css",s.appendChild(e),e}function v(e){var t,n,r=document.querySelector("style["+d+'~="'+e.id+'"]');if(r){if(u)return l;r.parentNode.removeChild(r)}if(f){var i=c++;r=a||(a=g()),t=w.bind(null,r,i,!1),n=w.bind(null,r,i,!0)}else r=g(),t=S.bind(null,r),n=function(){r.parentNode.removeChild(r)};return t(e),function(r){if(r){if(r.css===e.css&&r.media===e.media&&r.sourceMap===e.sourceMap)return;t(e=r)}else n()}}var y,b=(y=[],function(e,t){return y[e]=t,y.filter(Boolean).join("\n")});function w(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=b(t,i);else{var o=document.createTextNode(i),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(o,s[t]):e.appendChild(o)}}function S(e,t){var n=t.css,r=t.media,i=t.sourceMap;if(r&&e.setAttribute("media",r),h.ssrId&&e.setAttribute(d,t.id),i&&(n+="\n/*# sourceURL="+i.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},86916:(e,t,n)=>{"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,{Z:()=>j});var i=void 0!==n.g&&"[object global]"==={}.toString.call(n.g);function o(e,t){return 0===e.indexOf(t.toLowerCase())?e:"".concat(t.toLowerCase()).concat(e.substr(0,1).toUpperCase()).concat(e.substr(1))}function s(e){return/^(https?:)?\/\/((player|www)\.)?vimeo\.com(?=$|\/)/.test(e)}function a(e){return/^https:\/\/player\.vimeo\.com\/video\/\d+/.test(e)}function c(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.id,r=t.url,i=n||r;if(!i)throw new Error("An id or url must be passed, either in an options object or as a data-vimeo-id or data-vimeo-url attribute.");if(e=i,!isNaN(parseFloat(e))&&isFinite(e)&&Math.floor(e)==e)return"https://vimeo.com/".concat(i);if(s(i))return i.replace("http:","https:");if(n)throw new TypeError("“".concat(n,"” is not a valid video id."));throw new TypeError("“".concat(i,"” is not a vimeo.com url."))}var u=void 0!==Array.prototype.indexOf,l="undefined"!=typeof window&&void 0!==window.postMessage;if(!(i||u&&l))throw new Error("Sorry, the Vimeo Player API is not available in this browser.");var h="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};!function(e){if(!e.WeakMap){var t=Object.prototype.hasOwnProperty,n=Object.defineProperty&&function(){try{return 1===Object.defineProperty({},"x",{value:1}).x}catch(e){}}(),r=function(e,t,r){n?Object.defineProperty(e,t,{configurable:!0,writable:!0,value:r}):e[t]=r};e.WeakMap=function(){function e(){if(void 0===this)throw new TypeError("Constructor WeakMap requires 'new'");if(r(this,"_id","_WeakMap_"+o()+"."+o()),arguments.length>0)throw new TypeError("WeakMap iterable is not supported")}function n(e,n){if(!i(e)||!t.call(e,"_id"))throw new TypeError(n+" method called on incompatible receiver "+typeof e)}function o(){return Math.random().toString().substring(2)}return r(e.prototype,"delete",(function(e){if(n(this,"delete"),!i(e))return!1;var t=e[this._id];return!(!t||t[0]!==e||(delete e[this._id],0))})),r(e.prototype,"get",(function(e){if(n(this,"get"),i(e)){var t=e[this._id];return t&&t[0]===e?t[1]:void 0}})),r(e.prototype,"has",(function(e){if(n(this,"has"),!i(e))return!1;var t=e[this._id];return!(!t||t[0]!==e)})),r(e.prototype,"set",(function(e,t){if(n(this,"set"),!i(e))throw new TypeError("Invalid value used as weak map key");var o=e[this._id];return o&&o[0]===e?(o[1]=t,this):(r(e,this._id,[e,t]),this)})),r(e,"_polyfill",!0),e}()}function i(e){return Object(e)===e}}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:h);var d,f,p=(d=function(e){var t,n,r;r=function(){var e,t,n,r=Object.prototype.toString,i="undefined"!=typeof setImmediate?function(e){return setImmediate(e)}:setTimeout;try{Object.defineProperty({},"x",{}),e=function(e,t,n,r){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:!1!==r})}}catch(t){e=function(e,t,n){return e[t]=n,e}}function o(e,r){n.add(e,r),t||(t=i(n.drain))}function s(e){var t,n=typeof e;return null==e||"object"!=n&&"function"!=n||(t=e.then),"function"==typeof t&&t}function a(){for(var e=0;e<this.chain.length;e++)c(this,1===this.state?this.chain[e].success:this.chain[e].failure,this.chain[e]);this.chain.length=0}function c(e,t,n){var r,i;try{!1===t?n.reject(e.msg):(r=!0===t?e.msg:t.call(void 0,e.msg))===n.promise?n.reject(TypeError("Promise-chain cycle")):(i=s(r))?i.call(r,n.resolve,n.reject):n.resolve(r)}catch(e){n.reject(e)}}function u(e){var t,n=this;if(!n.triggered){n.triggered=!0,n.def&&(n=n.def);try{(t=s(e))?o((function(){var r=new d(n);try{t.call(e,(function(){u.apply(r,arguments)}),(function(){l.apply(r,arguments)}))}catch(e){l.call(r,e)}})):(n.msg=e,n.state=1,n.chain.length>0&&o(a,n))}catch(e){l.call(new d(n),e)}}}function l(e){var t=this;t.triggered||(t.triggered=!0,t.def&&(t=t.def),t.msg=e,t.state=2,t.chain.length>0&&o(a,t))}function h(e,t,n,r){for(var i=0;i<t.length;i++)!function(i){e.resolve(t[i]).then((function(e){n(i,e)}),r)}(i)}function d(e){this.def=e,this.triggered=!1}function f(e){this.promise=e,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function p(e){if("function"!=typeof e)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var t=new f(this);this.then=function(e,n){var r={success:"function"!=typeof e||e,failure:"function"==typeof n&&n};return r.promise=new this.constructor((function(e,t){if("function"!=typeof e||"function"!=typeof t)throw TypeError("Not a function");r.resolve=e,r.reject=t})),t.chain.push(r),0!==t.state&&o(a,t),r.promise},this.catch=function(e){return this.then(void 0,e)};try{e.call(void 0,(function(e){u.call(t,e)}),(function(e){l.call(t,e)}))}catch(e){l.call(t,e)}}n=function(){var e,n,r;function i(e,t){this.fn=e,this.self=t,this.next=void 0}return{add:function(t,o){r=new i(t,o),n?n.next=r:e=r,n=r,r=void 0},drain:function(){var r=e;for(e=n=t=void 0;r;)r.fn.call(r.self),r=r.next}}}();var m=e({},"constructor",p,!1);return p.prototype=m,e(m,"__NPO__",0,!1),e(p,"resolve",(function(e){return e&&"object"==typeof e&&1===e.__NPO__?e:new this((function(t,n){if("function"!=typeof t||"function"!=typeof n)throw TypeError("Not a function");t(e)}))})),e(p,"reject",(function(e){return new this((function(t,n){if("function"!=typeof t||"function"!=typeof n)throw TypeError("Not a function");n(e)}))})),e(p,"all",(function(e){var t=this;return"[object Array]"!=r.call(e)?t.reject(TypeError("Not an array")):0===e.length?t.resolve([]):new t((function(n,r){if("function"!=typeof n||"function"!=typeof r)throw TypeError("Not a function");var i=e.length,o=Array(i),s=0;h(t,e,(function(e,t){o[e]=t,++s===i&&n(o)}),r)}))})),e(p,"race",(function(e){var t=this;return"[object Array]"!=r.call(e)?t.reject(TypeError("Not an array")):new t((function(n,r){if("function"!=typeof n||"function"!=typeof r)throw TypeError("Not a function");h(t,e,(function(e,t){n(t)}),r)}))})),p},(n=h)[t="Promise"]=n[t]||r(),e.exports&&(e.exports=n[t])},d(f={exports:{}}),f.exports),m=new WeakMap;function g(e,t,n){var r=m.get(e.element)||{};t in r||(r[t]=[]),r[t].push(n),m.set(e.element,r)}function v(e,t){return(m.get(e.element)||{})[t]||[]}function y(e,t,n){var r=m.get(e.element)||{};if(!r[t])return!0;if(!n)return r[t]=[],m.set(e.element,r),!0;var i=r[t].indexOf(n);return-1!==i&&r[t].splice(i,1),m.set(e.element,r),r[t]&&0===r[t].length}function b(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){return console.warn(e),{}}return e}function w(e,t,n){if(e.element.contentWindow&&e.element.contentWindow.postMessage){var r={method:t};void 0!==n&&(r.value=n);var i=parseFloat(navigator.userAgent.toLowerCase().replace(/^.*msie (\d+).*$/,"$1"));i>=8&&i<10&&(r=JSON.stringify(r)),e.element.contentWindow.postMessage(r,e.origin)}}var S=["autopause","autoplay","background","byline","color","controls","dnt","height","id","interactive_params","keyboard","loop","maxheight","maxwidth","muted","playsinline","portrait","responsive","speed","texttrack","title","transparent","url","width"];function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return S.reduce((function(t,n){var r=e.getAttribute("data-vimeo-".concat(n));return(r||""===r)&&(t[n]=""===r?1:r),t}),t)}function x(e,t){var n=e.html;if(!t)throw new TypeError("An element must be provided");if(null!==t.getAttribute("data-vimeo-initialized"))return t.querySelector("iframe");var r=document.createElement("div");return r.innerHTML=n,t.appendChild(r.firstChild),t.setAttribute("data-vimeo-initialized","true"),t.querySelector("iframe")}function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return new Promise((function(r,i){if(!s(e))throw new TypeError("“".concat(e,"” is not a vimeo.com url."));var o="https://vimeo.com/api/oembed.json?url=".concat(encodeURIComponent(e));for(var a in t)t.hasOwnProperty(a)&&(o+="&".concat(a,"=").concat(encodeURIComponent(t[a])));var c="XDomainRequest"in window?new XDomainRequest:new XMLHttpRequest;c.open("GET",o,!0),c.onload=function(){if(404!==c.status)if(403!==c.status)try{var t=JSON.parse(c.responseText);if(403===t.domain_status_code)return x(t,n),void i(new Error("“".concat(e,"” is not embeddable.")));r(t)}catch(e){i(e)}else i(new Error("“".concat(e,"” is not embeddable.")));else i(new Error("“".concat(e,"” was not found.")))},c.onerror=function(){var e=c.status?" (".concat(c.status,")"):"";i(new Error("There was an error fetching the embed code from Vimeo".concat(e,".")))},c.send()}))}var E=new WeakMap,k=new WeakMap,A={},N=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),window.jQuery&&t instanceof jQuery&&(t.length>1&&window.console&&console.warn&&console.warn("A jQuery object with multiple elements was passed, using the first element."),t=t[0]),"undefined"!=typeof document&&"string"==typeof t&&(t=document.getElementById(t)),!function(e){return Boolean(e&&1===e.nodeType&&"nodeName"in e&&e.ownerDocument&&e.ownerDocument.defaultView)}(t))throw new TypeError("You must pass either a valid element or a valid id.");if("IFRAME"!==t.nodeName){var i=t.querySelector("iframe");i&&(t=i)}if("IFRAME"===t.nodeName&&!s(t.getAttribute("src")||""))throw new Error("The player element passed isn’t a Vimeo embed.");if(E.has(t))return E.get(t);this._window=t.ownerDocument.defaultView,this.element=t,this.origin="*";var o=new p((function(e,i){if(n._onMessage=function(t){if(s(t.origin)&&n.element.contentWindow===t.source){"*"===n.origin&&(n.origin=t.origin);var r=b(t.data);if(r&&"error"===r.event&&r.data&&"ready"===r.data.method){var o=new Error(r.data.message);return o.name=r.data.name,void i(o)}var a=r&&"ready"===r.event,c=r&&"ping"===r.method;if(a||c)return n.element.setAttribute("data-ready","true"),void e();!function(e,t){var n,r=[];if((t=b(t)).event)"error"===t.event&&v(e,t.data.method).forEach((function(n){var r=new Error(t.data.message);r.name=t.data.name,n.reject(r),y(e,t.data.method,n)})),r=v(e,"event:".concat(t.event)),n=t.data;else if(t.method){var i=function(e,t){var n=v(e,t);if(n.length<1)return!1;var r=n.shift();return y(e,t,r),r}(e,t.method);i&&(r.push(i),n=t.value)}r.forEach((function(t){try{if("function"==typeof t)return void t.call(e,n);t.resolve(n)}catch(e){}}))}(n,r)}},n._window.addEventListener("message",n._onMessage),"IFRAME"!==n.element.nodeName){var o=_(t,r);C(c(o),o,t).then((function(e){var r,i,o,s=x(e,t);return n.element=s,n._originalElement=t,r=t,i=s,o=m.get(r),m.set(i,o),m.delete(r),E.set(n.element,n),e})).catch(i)}}));if(k.set(this,o),E.set(this.element,this),"IFRAME"===this.element.nodeName&&w(this,"ping"),A.isEnabled){var a=function(){return A.exit()};this.fullscreenchangeHandler=function(){A.isFullscreen?g(n,"event:exitFullscreen",a):y(n,"event:exitFullscreen",a),n.ready().then((function(){w(n,"fullscreenchange",A.isFullscreen)}))},A.on("fullscreenchange",this.fullscreenchangeHandler)}return this}var t,n;return t=e,n=[{key:"callMethod",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new p((function(r,i){return t.ready().then((function(){g(t,e,{resolve:r,reject:i}),w(t,e,n)})).catch(i)}))}},{key:"get",value:function(e){var t=this;return new p((function(n,r){return e=o(e,"get"),t.ready().then((function(){g(t,e,{resolve:n,reject:r}),w(t,e)})).catch(r)}))}},{key:"set",value:function(e,t){var n=this;return new p((function(r,i){if(e=o(e,"set"),null==t)throw new TypeError("There must be a value to set.");return n.ready().then((function(){g(n,e,{resolve:r,reject:i}),w(n,e,t)})).catch(i)}))}},{key:"on",value:function(e,t){if(!e)throw new TypeError("You must pass an event name.");if(!t)throw new TypeError("You must pass a callback function.");if("function"!=typeof t)throw new TypeError("The callback must be a function.");0===v(this,"event:".concat(e)).length&&this.callMethod("addEventListener",e).catch((function(){})),g(this,"event:".concat(e),t)}},{key:"off",value:function(e,t){if(!e)throw new TypeError("You must pass an event name.");if(t&&"function"!=typeof t)throw new TypeError("The callback must be a function.");y(this,"event:".concat(e),t)&&this.callMethod("removeEventListener",e).catch((function(e){}))}},{key:"loadVideo",value:function(e){return this.callMethod("loadVideo",e)}},{key:"ready",value:function(){var e=k.get(this)||new p((function(e,t){t(new Error("Unknown player. Probably unloaded."))}));return p.resolve(e)}},{key:"addCuePoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.callMethod("addCuePoint",{time:e,data:t})}},{key:"removeCuePoint",value:function(e){return this.callMethod("removeCuePoint",e)}},{key:"enableTextTrack",value:function(e,t){if(!e)throw new TypeError("You must pass a language.");return this.callMethod("enableTextTrack",{language:e,kind:t})}},{key:"disableTextTrack",value:function(){return this.callMethod("disableTextTrack")}},{key:"pause",value:function(){return this.callMethod("pause")}},{key:"play",value:function(){return this.callMethod("play")}},{key:"requestFullscreen",value:function(){return A.isEnabled?A.request(this.element):this.callMethod("requestFullscreen")}},{key:"exitFullscreen",value:function(){return A.isEnabled?A.exit():this.callMethod("exitFullscreen")}},{key:"getFullscreen",value:function(){return A.isEnabled?p.resolve(A.isFullscreen):this.get("fullscreen")}},{key:"requestPictureInPicture",value:function(){return this.callMethod("requestPictureInPicture")}},{key:"exitPictureInPicture",value:function(){return this.callMethod("exitPictureInPicture")}},{key:"getPictureInPicture",value:function(){return this.get("pictureInPicture")}},{key:"unload",value:function(){return this.callMethod("unload")}},{key:"destroy",value:function(){var e=this;return new p((function(t){if(k.delete(e),E.delete(e.element),e._originalElement&&(E.delete(e._originalElement),e._originalElement.removeAttribute("data-vimeo-initialized")),e.element&&"IFRAME"===e.element.nodeName&&e.element.parentNode&&(e.element.parentNode.parentNode&&e._originalElement&&e._originalElement!==e.element.parentNode?e.element.parentNode.parentNode.removeChild(e.element.parentNode):e.element.parentNode.removeChild(e.element)),e.element&&"DIV"===e.element.nodeName&&e.element.parentNode){e.element.removeAttribute("data-vimeo-initialized");var n=e.element.querySelector("iframe");n&&n.parentNode&&(n.parentNode.parentNode&&e._originalElement&&e._originalElement!==n.parentNode?n.parentNode.parentNode.removeChild(n.parentNode):n.parentNode.removeChild(n))}e._window.removeEventListener("message",e._onMessage),A.isEnabled&&A.off("fullscreenchange",e.fullscreenchangeHandler),t()}))}},{key:"getAutopause",value:function(){return this.get("autopause")}},{key:"setAutopause",value:function(e){return this.set("autopause",e)}},{key:"getBuffered",value:function(){return this.get("buffered")}},{key:"getCameraProps",value:function(){return this.get("cameraProps")}},{key:"setCameraProps",value:function(e){return this.set("cameraProps",e)}},{key:"getChapters",value:function(){return this.get("chapters")}},{key:"getCurrentChapter",value:function(){return this.get("currentChapter")}},{key:"getColor",value:function(){return this.get("color")}},{key:"setColor",value:function(e){return this.set("color",e)}},{key:"getCuePoints",value:function(){return this.get("cuePoints")}},{key:"getCurrentTime",value:function(){return this.get("currentTime")}},{key:"setCurrentTime",value:function(e){return this.set("currentTime",e)}},{key:"getDuration",value:function(){return this.get("duration")}},{key:"getEnded",value:function(){return this.get("ended")}},{key:"getLoop",value:function(){return this.get("loop")}},{key:"setLoop",value:function(e){return this.set("loop",e)}},{key:"setMuted",value:function(e){return this.set("muted",e)}},{key:"getMuted",value:function(){return this.get("muted")}},{key:"getPaused",value:function(){return this.get("paused")}},{key:"getPlaybackRate",value:function(){return this.get("playbackRate")}},{key:"setPlaybackRate",value:function(e){return this.set("playbackRate",e)}},{key:"getPlayed",value:function(){return this.get("played")}},{key:"getQualities",value:function(){return this.get("qualities")}},{key:"getQuality",value:function(){return this.get("quality")}},{key:"setQuality",value:function(e){return this.set("quality",e)}},{key:"getSeekable",value:function(){return this.get("seekable")}},{key:"getSeeking",value:function(){return this.get("seeking")}},{key:"getTextTracks",value:function(){return this.get("textTracks")}},{key:"getVideoEmbedCode",value:function(){return this.get("videoEmbedCode")}},{key:"getVideoId",value:function(){return this.get("videoId")}},{key:"getVideoTitle",value:function(){return this.get("videoTitle")}},{key:"getVideoWidth",value:function(){return this.get("videoWidth")}},{key:"getVideoHeight",value:function(){return this.get("videoHeight")}},{key:"getVideoUrl",value:function(){return this.get("videoUrl")}},{key:"getVolume",value:function(){return this.get("volume")}},{key:"setVolume",value:function(e){return this.set("volume",e)}}],n&&r(t.prototype,n),e}();i||(A=function(){var e=function(){for(var e,t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0,r=t.length,i={};n<r;n++)if((e=t[n])&&e[1]in document){for(n=0;n<e.length;n++)i[t[0][n]]=e[n];return i}return!1}(),t={fullscreenchange:e.fullscreenchange,fullscreenerror:e.fullscreenerror},n={request:function(t){return new Promise((function(r,i){var o=function e(){n.off("fullscreenchange",e),r()};n.on("fullscreenchange",o);var s=(t=t||document.documentElement)[e.requestFullscreen]();s instanceof Promise&&s.then(o).catch(i)}))},exit:function(){return new Promise((function(t,r){if(n.isFullscreen){var i=function e(){n.off("fullscreenchange",e),t()};n.on("fullscreenchange",i);var o=document[e.exitFullscreen]();o instanceof Promise&&o.then(i).catch(r)}else t()}))},on:function(e,n){var r=t[e];r&&document.addEventListener(r,n)},off:function(e,n){var r=t[e];r&&document.removeEventListener(r,n)}};return Object.defineProperties(n,{isFullscreen:{get:function(){return Boolean(document[e.fullscreenElement])}},element:{enumerable:!0,get:function(){return document[e.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(document[e.fullscreenEnabled])}}}),n}(),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=[].slice.call(e.querySelectorAll("[data-vimeo-id], [data-vimeo-url]")),n=function(e){"console"in window&&console.error&&console.error("There was an error creating an embed: ".concat(e))};t.forEach((function(e){try{if(null!==e.getAttribute("data-vimeo-defer"))return;var t=_(e);C(c(t),t,e).then((function(t){return x(t,e)})).catch(n)}catch(e){n(e)}}))}(),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;window.VimeoPlayerResizeEmbeds_||(window.VimeoPlayerResizeEmbeds_=!0,window.addEventListener("message",(function(t){if(s(t.origin)&&t.data&&"spacechange"===t.data.event)for(var n=e.querySelectorAll("iframe"),r=0;r<n.length;r++)if(n[r].contentWindow===t.source){n[r].parentElement.style.paddingBottom="".concat(t.data.data[0].bottom,"px");break}})))}(),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;window.VimeoSeoMetadataAppended||(window.VimeoSeoMetadataAppended=!0,window.addEventListener("message",(function(t){if(s(t.origin)){var n=b(t.data);if(n&&"ready"===n.event)for(var r=e.querySelectorAll("iframe"),i=0;i<r.length;i++){var o=r[i],c=o.contentWindow===t.source;a(o.src)&&c&&new N(o).callMethod("appendVideoMetadata",window.location.href)}}})))}(),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;if(!window.VimeoCheckedUrlTimeParam){window.VimeoCheckedUrlTimeParam=!0;var t=function(e){"console"in window&&console.error&&console.error("There was an error getting video Id: ".concat(e))};window.addEventListener("message",(function(n){if(s(n.origin)){var r=b(n.data);if(r&&"ready"===r.event)for(var i=e.querySelectorAll("iframe"),o=0;o<i.length;o++){var c=i[o],u=c.contentWindow===n.source;a(c.src)&&u&&function(){var e=new N(c);e.getVideoId().then((function(t){var n=new RegExp("[?&]vimeo_t_".concat(t,"=([^&#]*)")).exec(window.location.href);if(n&&n[1]){var r=decodeURI(n[1]);e.setCurrentTime(r)}})).catch(t)}()}}}))}}());const T=N;var P=n(62525),O=n.n(P),I=0;function R(e){var t=this;this.player.on(e,(function(n){t.$emit(e,n,t.player)}))}var L=["play","pause","ended","timeupdate","progress","seeked","texttrackchange","cuechange","cuepoint","volumechange","error","loaded"],M={props:{playerHeight:{default:320},playerWidth:{default:640},options:{default:function(){return{}}},videoId:{required:!0},loop:{default:!1},autoplay:{default:!1}},render:function(e){return e("div",{attrs:{id:this.elementId}})},watch:{videoId:"update"},data:function(){return{elementId:"vimeo-player-"+(I+=1),player:null}},methods:{update:function(e){return this.player.loadVideo(e)},play:function(){return this.player.play()},pause:function(){return this.player.pause()},mute:function(){return this.player.setVolume(0)},unmute:function(e){return void 0===e&&(e=.5),this.player.setVolume(e)},setEvents:function(){var e=this;this.player.ready().then((function(){e.$emit("ready",e.player)})).catch((function(t){e.$emit("error",t,e.player)})),L.forEach((function(t){return R.call(e,t)}))}},mounted:function(){var e={id:this.videoId,width:this.playerWidth,height:this.playerHeight,loop:this.loop,autoplay:this.autoplay};this.player=new T(this.elementId,O()(e,this.options)),this.setEvents()},beforeDestroy:function(){this.player.unload()}};function D(e,t){e.component("vimeo-player",M)}D.version="0.0.9","undefined"!=typeof window&&window.Vue&&window.Vue.use(D);const j=D},21368:function(e,t,n){!function(e){"use strict";"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self&&self;var t,r,i=(t=function(e,t){e.exports=function(e,t){if(null==t&&(t={fuzzy:!0}),/youtu\.?be/.test(e)){var n,r=[/youtu\.be\/([^#\&\?]{11})/,/\?v=([^#\&\?]{11})/,/\&v=([^#\&\?]{11})/,/embed\/([^#\&\?]{11})/,/\/v\/([^#\&\?]{11})/];for(n=0;n<r.length;++n)if(r[n].test(e))return r[n].exec(e)[1];if(t.fuzzy){var i=e.split(/[\/\&\?=#\.\s]/g);for(n=0;n<i.length;++n)if(/^[^#\&\?]{11}$/.test(i[n]))return i[n]}}return null}},t(r={exports:{}},r.exports),r.exports),o=n(57640),s={name:"Youtube",props:{videoId:String,playerVars:{type:Object,default:function(){return{}}},height:{type:[Number,String],default:360},width:{type:[Number,String],default:640},resize:{type:Boolean,default:!1},resizeDelay:{type:Number,default:100},fitParent:{type:Boolean,default:!1}},data:function(){return{player:{},events:(e={},e[-1]="unstarted",e[1]="playing",e[2]="paused",e[0]="ended",e[3]="buffering",e[5]="cued",e),resizeTimeout:null};var e},computed:{aspectRatio:function(){return this.width/this.height}},methods:{playerReady:function(e){this.$emit("ready",e.target)},playerStateChange:function(e){null!==e.data&&-1!==e.data&&this.$emit(this.events[e.data],e.target)},playerError:function(e){this.$emit("error",e.target)},updatePlayer:function(e){e?1!==this.playerVars.autoplay?this.player.cueVideoById({videoId:e}):this.player.loadVideoById({videoId:e}):this.player.stopVideo()},resizeProportionally:function(){var e=this;this.player.getIframe().then((function(t){var n=e.fitParent?t.parentElement.offsetWidth:t.offsetWidth,r=n/e.aspectRatio;e.player.setSize(n,r)}))},onResize:function(){clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(this.resizeProportionally,this.resizeDelay)}},watch:{videoId:"updatePlayer",resize:function(e){e?(window.addEventListener("resize",this.onResize),this.resizeProportionally()):(window.removeEventListener("resize",this.onResize),this.player.setSize(this.width,this.height))},width:function(e){this.player.setSize(e,this.height)},height:function(e){this.player.setSize(this.width,e)}},beforeDestroy:function(){null!==this.player&&this.player.destroy&&(this.player.destroy(),delete this.player),this.resize&&window.removeEventListener("resize",this.onResize)},mounted:function(){window.YTConfig={host:"https://www.youtube.com/iframe_api"},this.player=o(this.$el,{width:this.width,height:this.height,videoId:this.videoId,playerVars:this.playerVars}),this.player.on("ready",this.playerReady),this.player.on("stateChange",this.playerStateChange),this.player.on("error",this.playerError),this.resize&&window.addEventListener("resize",this.onResize),this.fitParent&&this.resizeProportionally()},render:function(e){return e("div")}};function a(e){e.prototype.$youtube={getIdFromUrl:i},e.component("youtube",s)}"undefined"!=typeof window&&window.Vue&&window.Vue.use(a);e.default=a,e.Youtube=s,e.getIdFromUrl=i,e.version="1.3.5",Object.defineProperty(e,"__esModule",{value:!0})}(t)},26427:(e,t,n)=>{"use strict";n.d(t,{Ah:()=>vn,BK:()=>Ke,EB:()=>at,FN:()=>le,Fl:()=>Ye,JJ:()=>ct,Jd:()=>gn,SU:()=>Ge,Y3:()=>ln,YP:()=>rt,ZM:()=>We,ZP:()=>kr,aZ:()=>yn,bv:()=>pn,dq:()=>$e,f3:()=>lt,iH:()=>He,ic:()=>mn,nZ:()=>st,qj:()=>De,sj:()=>hn,wF:()=>fn});var r=Object.freeze({}),i=Array.isArray;function o(e){return null==e}function s(e){return null!=e}function a(e){return!0===e}function c(e){return"string"==typeof e||"number"==typeof e||"symbol"==typeof e||"boolean"==typeof e}function u(e){return"function"==typeof e}function l(e){return null!==e&&"object"==typeof e}var h=Object.prototype.toString;function d(e){return"[object Object]"===h.call(e)}function f(e){var t=parseFloat(String(e));return t>=0&&Math.floor(t)===t&&isFinite(e)}function p(e){return s(e)&&"function"==typeof e.then&&"function"==typeof e.catch}function m(e){return null==e?"":Array.isArray(e)||d(e)&&e.toString===h?JSON.stringify(e,null,2):String(e)}function g(e){var t=parseFloat(e);return isNaN(t)?e:t}function v(e,t){for(var n=Object.create(null),r=e.split(","),i=0;i<r.length;i++)n[r[i]]=!0;return t?function(e){return n[e.toLowerCase()]}:function(e){return n[e]}}v("slot,component",!0);var y=v("key,ref,slot,slot-scope,is");function b(e,t){var n=e.length;if(n){if(t===e[n-1])return void(e.length=n-1);var r=e.indexOf(t);if(r>-1)return e.splice(r,1)}}var w=Object.prototype.hasOwnProperty;function S(e,t){return w.call(e,t)}function _(e){var t=Object.create(null);return function(n){return t[n]||(t[n]=e(n))}}var x=/-(\w)/g,C=_((function(e){return e.replace(x,(function(e,t){return t?t.toUpperCase():""}))})),E=_((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})),k=/\B([A-Z])/g,A=_((function(e){return e.replace(k,"-$1").toLowerCase()})),N=Function.prototype.bind?function(e,t){return e.bind(t)}:function(e,t){function n(n){var r=arguments.length;return r?r>1?e.apply(t,arguments):e.call(t,n):e.call(t)}return n._length=e.length,n};function T(e,t){t=t||0;for(var n=e.length-t,r=new Array(n);n--;)r[n]=e[n+t];return r}function P(e,t){for(var n in t)e[n]=t[n];return e}function O(e){for(var t={},n=0;n<e.length;n++)e[n]&&P(t,e[n]);return t}function I(e,t,n){}var R=function(e,t,n){return!1},L=function(e){return e};function M(e,t){if(e===t)return!0;var n=l(e),r=l(t);if(!n||!r)return!n&&!r&&String(e)===String(t);try{var i=Array.isArray(e),o=Array.isArray(t);if(i&&o)return e.length===t.length&&e.every((function(e,n){return M(e,t[n])}));if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(i||o)return!1;var s=Object.keys(e),a=Object.keys(t);return s.length===a.length&&s.every((function(n){return M(e[n],t[n])}))}catch(e){return!1}}function D(e,t){for(var n=0;n<e.length;n++)if(M(e[n],t))return n;return-1}function j(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}function F(e,t){return e===t?0===e&&1/e!=1/t:e==e||t==t}var B="data-server-rendered",q=["component","directive","filter"],U=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch","renderTracked","renderTriggered"],z={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:R,isReservedAttr:R,isUnknownElement:R,getTagNamespace:I,parsePlatformTagName:L,mustUseProp:R,async:!0,_lifecycleHooks:U};function $(e){var t=(e+"").charCodeAt(0);return 36===t||95===t}function H(e,t,n,r){Object.defineProperty(e,t,{value:n,enumerable:!!r,writable:!0,configurable:!0})}var G=new RegExp("[^".concat(/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/.source,".$_\\d]")),V="__proto__"in{},W="undefined"!=typeof window,K=W&&window.navigator.userAgent.toLowerCase(),Z=K&&/msie|trident/.test(K),Y=K&&K.indexOf("msie 9.0")>0,J=K&&K.indexOf("edge/")>0;K&&K.indexOf("android");var Q=K&&/iphone|ipad|ipod|ios/.test(K);K&&/chrome\/\d+/.test(K),K&&/phantomjs/.test(K);var X,ee=K&&K.match(/firefox\/(\d+)/),te={}.watch,ne=!1;if(W)try{var re={};Object.defineProperty(re,"passive",{get:function(){ne=!0}}),window.addEventListener("test-passive",null,re)}catch(e){}var ie=function(){return void 0===X&&(X=!W&&void 0!==n.g&&n.g.process&&"server"===n.g.process.env.VUE_ENV),X},oe=W&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function se(e){return"function"==typeof e&&/native code/.test(e.toString())}var ae,ce="undefined"!=typeof Symbol&&se(Symbol)&&"undefined"!=typeof Reflect&&se(Reflect.ownKeys);ae="undefined"!=typeof Set&&se(Set)?Set:function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(e){return!0===this.set[e]},e.prototype.add=function(e){this.set[e]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var ue=null;function le(){return ue&&{proxy:ue}}function he(e){void 0===e&&(e=null),e||ue&&ue._scope.off(),ue=e,e&&e._scope.on()}var de=function(){function e(e,t,n,r,i,o,s,a){this.tag=e,this.data=t,this.children=n,this.text=r,this.elm=i,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=t&&t.key,this.componentOptions=s,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=a,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1}return Object.defineProperty(e.prototype,"child",{get:function(){return this.componentInstance},enumerable:!1,configurable:!0}),e}(),fe=function(e){void 0===e&&(e="");var t=new de;return t.text=e,t.isComment=!0,t};function pe(e){return new de(void 0,void 0,void 0,String(e))}function me(e){var t=new de(e.tag,e.data,e.children&&e.children.slice(),e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isComment=e.isComment,t.fnContext=e.fnContext,t.fnOptions=e.fnOptions,t.fnScopeId=e.fnScopeId,t.asyncMeta=e.asyncMeta,t.isCloned=!0,t}var ge=0,ve=[],ye=function(){for(var e=0;e<ve.length;e++){var t=ve[e];t.subs=t.subs.filter((function(e){return e})),t._pending=!1}ve.length=0},be=function(){function e(){this._pending=!1,this.id=ge++,this.subs=[]}return e.prototype.addSub=function(e){this.subs.push(e)},e.prototype.removeSub=function(e){this.subs[this.subs.indexOf(e)]=null,this._pending||(this._pending=!0,ve.push(this))},e.prototype.depend=function(t){e.target&&e.target.addDep(this)},e.prototype.notify=function(e){for(var t=this.subs.filter((function(e){return e})),n=0,r=t.length;n<r;n++)t[n].update()},e}();be.target=null;var we=[];function Se(e){we.push(e),be.target=e}function _e(){we.pop(),be.target=we[we.length-1]}var xe=Array.prototype,Ce=Object.create(xe);["push","pop","shift","unshift","splice","sort","reverse"].forEach((function(e){var t=xe[e];H(Ce,e,(function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i,o=t.apply(this,n),s=this.__ob__;switch(e){case"push":case"unshift":i=n;break;case"splice":i=n.slice(2)}return i&&s.observeArray(i),s.dep.notify(),o}))}));var Ee=Object.getOwnPropertyNames(Ce),ke={},Ae=!0;function Ne(e){Ae=e}var Te={notify:I,depend:I,addSub:I,removeSub:I},Pe=function(){function e(e,t,n){if(void 0===t&&(t=!1),void 0===n&&(n=!1),this.value=e,this.shallow=t,this.mock=n,this.dep=n?Te:new be,this.vmCount=0,H(e,"__ob__",this),i(e)){if(!n)if(V)e.__proto__=Ce;else for(var r=0,o=Ee.length;r<o;r++)H(e,a=Ee[r],Ce[a]);t||this.observeArray(e)}else{var s=Object.keys(e);for(r=0;r<s.length;r++){var a;Ie(e,a=s[r],ke,void 0,t,n)}}}return e.prototype.observeArray=function(e){for(var t=0,n=e.length;t<n;t++)Oe(e[t],!1,this.mock)},e}();function Oe(e,t,n){return e&&S(e,"__ob__")&&e.__ob__ instanceof Pe?e.__ob__:!Ae||!n&&ie()||!i(e)&&!d(e)||!Object.isExtensible(e)||e.__v_skip||$e(e)||e instanceof de?void 0:new Pe(e,t,n)}function Ie(e,t,n,r,o,s){var a=new be,c=Object.getOwnPropertyDescriptor(e,t);if(!c||!1!==c.configurable){var u=c&&c.get,l=c&&c.set;u&&!l||n!==ke&&2!==arguments.length||(n=e[t]);var h=!o&&Oe(n,!1,s);return Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){var t=u?u.call(e):n;return be.target&&(a.depend(),h&&(h.dep.depend(),i(t)&&Me(t))),$e(t)&&!o?t.value:t},set:function(t){var r=u?u.call(e):n;if(F(r,t)){if(l)l.call(e,t);else{if(u)return;if(!o&&$e(r)&&!$e(t))return void(r.value=t);n=t}h=!o&&Oe(t,!1,s),a.notify()}}}),a}}function Re(e,t,n){if(!Ue(e)){var r=e.__ob__;return i(e)&&f(t)?(e.length=Math.max(e.length,t),e.splice(t,1,n),r&&!r.shallow&&r.mock&&Oe(n,!1,!0),n):t in e&&!(t in Object.prototype)?(e[t]=n,n):e._isVue||r&&r.vmCount?n:r?(Ie(r.value,t,n,void 0,r.shallow,r.mock),r.dep.notify(),n):(e[t]=n,n)}}function Le(e,t){if(i(e)&&f(t))e.splice(t,1);else{var n=e.__ob__;e._isVue||n&&n.vmCount||Ue(e)||S(e,t)&&(delete e[t],n&&n.dep.notify())}}function Me(e){for(var t=void 0,n=0,r=e.length;n<r;n++)(t=e[n])&&t.__ob__&&t.__ob__.dep.depend(),i(t)&&Me(t)}function De(e){return Fe(e,!1),e}function je(e){return Fe(e,!0),H(e,"__v_isShallow",!0),e}function Fe(e,t){Ue(e)||Oe(e,t,ie())}function Be(e){return Ue(e)?Be(e.__v_raw):!(!e||!e.__ob__)}function qe(e){return!(!e||!e.__v_isShallow)}function Ue(e){return!(!e||!e.__v_isReadonly)}var ze="__v_isRef";function $e(e){return!(!e||!0!==e.__v_isRef)}function He(e){return function(e,t){if($e(e))return e;var n={};return H(n,ze,!0),H(n,"__v_isShallow",t),H(n,"dep",Ie(n,"value",e,null,t,ie())),n}(e,!1)}function Ge(e){return $e(e)?e.value:e}function Ve(e,t,n){Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:function(){var e=t[n];if($e(e))return e.value;var r=e&&e.__ob__;return r&&r.dep.depend(),e},set:function(e){var r=t[n];$e(r)&&!$e(e)?r.value=e:t[n]=e}})}function We(e){var t=new be,n=e((function(){t.depend()}),(function(){t.notify()})),r=n.get,i=n.set,o={get value(){return r()},set value(e){i(e)}};return H(o,ze,!0),o}function Ke(e){var t=i(e)?new Array(e.length):{};for(var n in e)t[n]=Ze(e,n);return t}function Ze(e,t,n){var r=e[t];if($e(r))return r;var i={get value(){var r=e[t];return void 0===r?n:r},set value(n){e[t]=n}};return H(i,ze,!0),i}function Ye(e,t){var n,r,i=u(e);i?(n=e,r=I):(n=e.get,r=e.set);var o=ie()?null:new Cn(ue,n,I,{lazy:!0}),s={effect:o,get value(){return o?(o.dirty&&o.evaluate(),be.target&&o.depend(),o.value):n()},set value(e){r(e)}};return H(s,ze,!0),H(s,"__v_isReadonly",i),s}var Je,Qe="watcher",Xe="".concat(Qe," callback"),et="".concat(Qe," getter"),tt="".concat(Qe," cleanup"),nt={};function rt(e,t,n){return it(e,t,n)}function it(e,t,n){var o=void 0===n?r:n,s=o.immediate,a=o.deep,c=o.flush,l=void 0===c?"pre":c;o.onTrack,o.onTrigger;var h,d,f=ue,p=function(e,t,n){return void 0===n&&(n=null),Jt(e,null,n,f,t)},m=!1,g=!1;if($e(e)?(h=function(){return e.value},m=qe(e)):Be(e)?(h=function(){return e.__ob__.dep.depend(),e},a=!0):i(e)?(g=!0,m=e.some((function(e){return Be(e)||qe(e)})),h=function(){return e.map((function(e){return $e(e)?e.value:Be(e)?wn(e):u(e)?p(e,et):void 0}))}):h=u(e)?t?function(){return p(e,et)}:function(){if(!f||!f._isDestroyed)return d&&d(),p(e,Qe,[y])}:I,t&&a){var v=h;h=function(){return wn(v())}}var y=function(e){d=b.onStop=function(){p(e,tt)}};if(ie())return y=I,t?s&&p(t,Xe,[h(),g?[]:void 0,y]):h(),I;var b=new Cn(ue,h,I,{lazy:!0});b.noRecurse=!t;var w=g?[]:nt;return b.run=function(){if(b.active)if(t){var e=b.get();(a||m||(g?e.some((function(e,t){return F(e,w[t])})):F(e,w)))&&(d&&d(),p(t,Xe,[e,w===nt?void 0:w,y]),w=e)}else b.get()},"sync"===l?b.update=b.run:"post"===l?(b.post=!0,b.update=function(){return Vn(b)}):b.update=function(){if(f&&f===ue&&!f._isMounted){var e=f._preWatchers||(f._preWatchers=[]);e.indexOf(b)<0&&e.push(b)}else Vn(b)},t?s?b.run():w=b.get():"post"===l&&f?f.$once("hook:mounted",(function(){return b.get()})):b.get(),function(){b.teardown()}}var ot=function(){function e(e){void 0===e&&(e=!1),this.detached=e,this.active=!0,this.effects=[],this.cleanups=[],this.parent=Je,!e&&Je&&(this.index=(Je.scopes||(Je.scopes=[])).push(this)-1)}return e.prototype.run=function(e){if(this.active){var t=Je;try{return Je=this,e()}finally{Je=t}}},e.prototype.on=function(){Je=this},e.prototype.off=function(){Je=this.parent},e.prototype.stop=function(e){if(this.active){var t=void 0,n=void 0;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].teardown();for(t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!e){var r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this.active=!1}},e}();function st(){return Je}function at(e){Je&&Je.cleanups.push(e)}function ct(e,t){ue&&(ut(ue)[e]=t)}function ut(e){var t=e._provided,n=e.$parent&&e.$parent._provided;return n===t?e._provided=Object.create(n):t}function lt(e,t,n){void 0===n&&(n=!1);var r=ue;if(r){var i=r.$parent&&r.$parent._provided;if(i&&e in i)return i[e];if(arguments.length>1)return n&&u(t)?t.call(r):t}}var ht=_((function(e){var t="&"===e.charAt(0),n="~"===(e=t?e.slice(1):e).charAt(0),r="!"===(e=n?e.slice(1):e).charAt(0);return{name:e=r?e.slice(1):e,once:n,capture:r,passive:t}}));function dt(e,t){function n(){var e=n.fns;if(!i(e))return Jt(e,null,arguments,t,"v-on handler");for(var r=e.slice(),o=0;o<r.length;o++)Jt(r[o],null,arguments,t,"v-on handler")}return n.fns=e,n}function ft(e,t,n,r,i,s){var c,u,l,h;for(c in e)u=e[c],l=t[c],h=ht(c),o(u)||(o(l)?(o(u.fns)&&(u=e[c]=dt(u,s)),a(h.once)&&(u=e[c]=i(h.name,u,h.capture)),n(h.name,u,h.capture,h.passive,h.params)):u!==l&&(l.fns=u,e[c]=l));for(c in t)o(e[c])&&r((h=ht(c)).name,t[c],h.capture)}function pt(e,t,n){var r;e instanceof de&&(e=e.data.hook||(e.data.hook={}));var i=e[t];function c(){n.apply(this,arguments),b(r.fns,c)}o(i)?r=dt([c]):s(i.fns)&&a(i.merged)?(r=i).fns.push(c):r=dt([i,c]),r.merged=!0,e[t]=r}function mt(e,t,n,r,i){if(s(t)){if(S(t,n))return e[n]=t[n],i||delete t[n],!0;if(S(t,r))return e[n]=t[r],i||delete t[r],!0}return!1}function gt(e){return c(e)?[pe(e)]:i(e)?yt(e):void 0}function vt(e){return s(e)&&s(e.text)&&!1===e.isComment}function yt(e,t){var n,r,u,l,h=[];for(n=0;n<e.length;n++)o(r=e[n])||"boolean"==typeof r||(l=h[u=h.length-1],i(r)?r.length>0&&(vt((r=yt(r,"".concat(t||"","_").concat(n)))[0])&&vt(l)&&(h[u]=pe(l.text+r[0].text),r.shift()),h.push.apply(h,r)):c(r)?vt(l)?h[u]=pe(l.text+r):""!==r&&h.push(pe(r)):vt(r)&&vt(l)?h[u]=pe(l.text+r.text):(a(e._isVList)&&s(r.tag)&&o(r.key)&&s(t)&&(r.key="__vlist".concat(t,"_").concat(n,"__")),h.push(r)));return h}function bt(e,t){var n,r,o,a,c=null;if(i(e)||"string"==typeof e)for(c=new Array(e.length),n=0,r=e.length;n<r;n++)c[n]=t(e[n],n);else if("number"==typeof e)for(c=new Array(e),n=0;n<e;n++)c[n]=t(n+1,n);else if(l(e))if(ce&&e[Symbol.iterator]){c=[];for(var u=e[Symbol.iterator](),h=u.next();!h.done;)c.push(t(h.value,c.length)),h=u.next()}else for(o=Object.keys(e),c=new Array(o.length),n=0,r=o.length;n<r;n++)a=o[n],c[n]=t(e[a],a,n);return s(c)||(c=[]),c._isVList=!0,c}function wt(e,t,n,r){var i,o=this.$scopedSlots[e];o?(n=n||{},r&&(n=P(P({},r),n)),i=o(n)||(u(t)?t():t)):i=this.$slots[e]||(u(t)?t():t);var s=n&&n.slot;return s?this.$createElement("template",{slot:s},i):i}function St(e){return lr(this.$options,"filters",e)||L}function _t(e,t){return i(e)?-1===e.indexOf(t):e!==t}function xt(e,t,n,r,i){var o=z.keyCodes[t]||n;return i&&r&&!z.keyCodes[t]?_t(i,r):o?_t(o,e):r?A(r)!==t:void 0===e}function Ct(e,t,n,r,o){if(n&&l(n)){i(n)&&(n=O(n));var s=void 0,a=function(i){if("class"===i||"style"===i||y(i))s=e;else{var a=e.attrs&&e.attrs.type;s=r||z.mustUseProp(t,a,i)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}var c=C(i),u=A(i);c in s||u in s||(s[i]=n[i],o&&((e.on||(e.on={}))["update:".concat(i)]=function(e){n[i]=e}))};for(var c in n)a(c)}return e}function Et(e,t){var n=this._staticTrees||(this._staticTrees=[]),r=n[e];return r&&!t||At(r=n[e]=this.$options.staticRenderFns[e].call(this._renderProxy,this._c,this),"__static__".concat(e),!1),r}function kt(e,t,n){return At(e,"__once__".concat(t).concat(n?"_".concat(n):""),!0),e}function At(e,t,n){if(i(e))for(var r=0;r<e.length;r++)e[r]&&"string"!=typeof e[r]&&Nt(e[r],"".concat(t,"_").concat(r),n);else Nt(e,t,n)}function Nt(e,t,n){e.isStatic=!0,e.key=t,e.isOnce=n}function Tt(e,t){if(t&&d(t)){var n=e.on=e.on?P({},e.on):{};for(var r in t){var i=n[r],o=t[r];n[r]=i?[].concat(i,o):o}}return e}function Pt(e,t,n,r){t=t||{$stable:!n};for(var o=0;o<e.length;o++){var s=e[o];i(s)?Pt(s,t,n):s&&(s.proxy&&(s.fn.proxy=!0),t[s.key]=s.fn)}return r&&(t.$key=r),t}function Ot(e,t){for(var n=0;n<t.length;n+=2){var r=t[n];"string"==typeof r&&r&&(e[t[n]]=t[n+1])}return e}function It(e,t){return"string"==typeof e?t+e:e}function Rt(e){e._o=kt,e._n=g,e._s=m,e._l=bt,e._t=wt,e._q=M,e._i=D,e._m=Et,e._f=St,e._k=xt,e._b=Ct,e._v=pe,e._e=fe,e._u=Pt,e._g=Tt,e._d=Ot,e._p=It}function Lt(e,t){if(!e||!e.length)return{};for(var n={},r=0,i=e.length;r<i;r++){var o=e[r],s=o.data;if(s&&s.attrs&&s.attrs.slot&&delete s.attrs.slot,o.context!==t&&o.fnContext!==t||!s||null==s.slot)(n.default||(n.default=[])).push(o);else{var a=s.slot,c=n[a]||(n[a]=[]);"template"===o.tag?c.push.apply(c,o.children||[]):c.push(o)}}for(var u in n)n[u].every(Mt)&&delete n[u];return n}function Mt(e){return e.isComment&&!e.asyncFactory||" "===e.text}function Dt(e){return e.isComment&&e.asyncFactory}function jt(e,t,n,i){var o,s=Object.keys(n).length>0,a=t?!!t.$stable:!s,c=t&&t.$key;if(t){if(t._normalized)return t._normalized;if(a&&i&&i!==r&&c===i.$key&&!s&&!i.$hasNormal)return i;for(var u in o={},t)t[u]&&"$"!==u[0]&&(o[u]=Ft(e,n,u,t[u]))}else o={};for(var l in n)l in o||(o[l]=Bt(n,l));return t&&Object.isExtensible(t)&&(t._normalized=o),H(o,"$stable",a),H(o,"$key",c),H(o,"$hasNormal",s),o}function Ft(e,t,n,r){var o=function(){var t=ue;he(e);var n=arguments.length?r.apply(null,arguments):r({}),o=(n=n&&"object"==typeof n&&!i(n)?[n]:gt(n))&&n[0];return he(t),n&&(!o||1===n.length&&o.isComment&&!Dt(o))?void 0:n};return r.proxy&&Object.defineProperty(t,n,{get:o,enumerable:!0,configurable:!0}),o}function Bt(e,t){return function(){return e[t]}}function qt(e,t,n,r,i){var o=!1;for(var s in t)s in e?t[s]!==n[s]&&(o=!0):(o=!0,Ut(e,s,r,i));for(var s in e)s in t||(o=!0,delete e[s]);return o}function Ut(e,t,n,r){Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){return n[r][t]}})}function zt(e,t){for(var n in t)e[n]=t[n];for(var n in e)n in t||delete e[n]}var $t=null;function Ht(e,t){return(e.__esModule||ce&&"Module"===e[Symbol.toStringTag])&&(e=e.default),l(e)?t.extend(e):e}function Gt(e){if(i(e))for(var t=0;t<e.length;t++){var n=e[t];if(s(n)&&(s(n.componentOptions)||Dt(n)))return n}}var Vt=1,Wt=2;function Kt(e,t,n,r,o,h){return(i(n)||c(n))&&(o=r,r=n,n=void 0),a(h)&&(o=Wt),function(e,t,n,r,o){if(s(n)&&s(n.__ob__))return fe();if(s(n)&&s(n.is)&&(t=n.is),!t)return fe();var a,c;if(i(r)&&u(r[0])&&((n=n||{}).scopedSlots={default:r[0]},r.length=0),o===Wt?r=gt(r):o===Vt&&(r=function(e){for(var t=0;t<e.length;t++)if(i(e[t]))return Array.prototype.concat.apply([],e);return e}(r)),"string"==typeof t){var h=void 0;c=e.$vnode&&e.$vnode.ns||z.getTagNamespace(t),a=z.isReservedTag(t)?new de(z.parsePlatformTagName(t),n,r,void 0,void 0,e):n&&n.pre||!s(h=lr(e.$options,"components",t))?new de(t,n,r,void 0,void 0,e):er(h,n,e,r,t)}else a=er(t,n,e,r);return i(a)?a:s(a)?(s(c)&&Zt(a,c),s(n)&&function(e){l(e.style)&&wn(e.style),l(e.class)&&wn(e.class)}(n),a):fe()}(e,t,n,r,o)}function Zt(e,t,n){if(e.ns=t,"foreignObject"===e.tag&&(t=void 0,n=!0),s(e.children))for(var r=0,i=e.children.length;r<i;r++){var c=e.children[r];s(c.tag)&&(o(c.ns)||a(n)&&"svg"!==c.tag)&&Zt(c,t,n)}}function Yt(e,t,n){Se();try{if(t)for(var r=t;r=r.$parent;){var i=r.$options.errorCaptured;if(i)for(var o=0;o<i.length;o++)try{if(!1===i[o].call(r,e,t,n))return}catch(e){Qt(e,r,"errorCaptured hook")}}Qt(e,t,n)}finally{_e()}}function Jt(e,t,n,r,i){var o;try{(o=n?e.apply(t,n):e.call(t))&&!o._isVue&&p(o)&&!o._handled&&(o.catch((function(e){return Yt(e,r,i+" (Promise/async)")})),o._handled=!0)}catch(e){Yt(e,r,i)}return o}function Qt(e,t,n){if(z.errorHandler)try{return z.errorHandler.call(null,e,t,n)}catch(t){t!==e&&Xt(t)}Xt(e)}function Xt(e,t,n){if(!W||"undefined"==typeof console)throw e;console.error(e)}var en,tn=!1,nn=[],rn=!1;function on(){rn=!1;var e=nn.slice(0);nn.length=0;for(var t=0;t<e.length;t++)e[t]()}if("undefined"!=typeof Promise&&se(Promise)){var sn=Promise.resolve();en=function(){sn.then(on),Q&&setTimeout(I)},tn=!0}else if(Z||"undefined"==typeof MutationObserver||!se(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())en="undefined"!=typeof setImmediate&&se(setImmediate)?function(){setImmediate(on)}:function(){setTimeout(on,0)};else{var an=1,cn=new MutationObserver(on),un=document.createTextNode(String(an));cn.observe(un,{characterData:!0}),en=function(){an=(an+1)%2,un.data=String(an)},tn=!0}function ln(e,t){var n;if(nn.push((function(){if(e)try{e.call(t)}catch(e){Yt(e,t,"nextTick")}else n&&n(t)})),rn||(rn=!0,en()),!e&&"undefined"!=typeof Promise)return new Promise((function(e){n=e}))}function hn(e){if(W){var t,n=ue;n&&(t=function(){var t=n.$el,r=e(n,n._setupProxy);if(t&&1===t.nodeType){var i=t.style;for(var o in r)i.setProperty("--".concat(o),r[o])}},it(t,null,{flush:"post"}))}}function dn(e){return function(t,n){if(void 0===n&&(n=ue),n)return function(e,t,n){var r=e.$options;r[t]=sr(r[t],n)}(n,e,t)}}var fn=dn("beforeMount"),pn=dn("mounted"),mn=(dn("beforeUpdate"),dn("updated")),gn=dn("beforeDestroy"),vn=dn("destroyed");function yn(e){return e}dn("activated"),dn("deactivated"),dn("serverPrefetch"),dn("renderTracked"),dn("renderTriggered"),dn("errorCaptured");var bn=new ae;function wn(e){return Sn(e,bn),bn.clear(),e}function Sn(e,t){var n,r,o=i(e);if(!(!o&&!l(e)||e.__v_skip||Object.isFrozen(e)||e instanceof de)){if(e.__ob__){var s=e.__ob__.dep.id;if(t.has(s))return;t.add(s)}if(o)for(n=e.length;n--;)Sn(e[n],t);else if($e(e))Sn(e.value,t);else for(n=(r=Object.keys(e)).length;n--;)Sn(e[r[n]],t)}}var _n,xn=0,Cn=function(){function e(e,t,n,r,i){var o;void 0===(o=Je&&!Je._vm?Je:e?e._scope:void 0)&&(o=Je),o&&o.active&&o.effects.push(this),(this.vm=e)&&i&&(e._watcher=this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++xn,this.active=!0,this.post=!1,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new ae,this.newDepIds=new ae,this.expression="",u(t)?this.getter=t:(this.getter=function(e){if(!G.test(e)){var t=e.split(".");return function(e){for(var n=0;n<t.length;n++){if(!e)return;e=e[t[n]]}return e}}}(t),this.getter||(this.getter=I)),this.value=this.lazy?void 0:this.get()}return e.prototype.get=function(){var e;Se(this);var t=this.vm;try{e=this.getter.call(t,t)}catch(e){if(!this.user)throw e;Yt(e,t,'getter for watcher "'.concat(this.expression,'"'))}finally{this.deep&&wn(e),_e(),this.cleanupDeps()}return e},e.prototype.addDep=function(e){var t=e.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(e),this.depIds.has(t)||e.addSub(this))},e.prototype.cleanupDeps=function(){for(var e=this.deps.length;e--;){var t=this.deps[e];this.newDepIds.has(t.id)||t.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},e.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():Vn(this)},e.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||l(e)||this.deep){var t=this.value;if(this.value=e,this.user){var n='callback for watcher "'.concat(this.expression,'"');Jt(this.cb,this.vm,[e,t],this.vm,n)}else this.cb.call(this.vm,e,t)}}},e.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},e.prototype.depend=function(){for(var e=this.deps.length;e--;)this.deps[e].depend()},e.prototype.teardown=function(){if(this.vm&&!this.vm._isBeingDestroyed&&b(this.vm._scope.effects,this),this.active){for(var e=this.deps.length;e--;)this.deps[e].removeSub(this);this.active=!1,this.onStop&&this.onStop()}},e}();function En(e,t){_n.$on(e,t)}function kn(e,t){_n.$off(e,t)}function An(e,t){var n=_n;return function r(){null!==t.apply(null,arguments)&&n.$off(e,r)}}function Nn(e,t,n){_n=e,ft(t,n||{},En,kn,An,e),_n=void 0}var Tn=null;function Pn(e){var t=Tn;return Tn=e,function(){Tn=t}}function On(e){for(;e&&(e=e.$parent);)if(e._inactive)return!0;return!1}function In(e,t){if(t){if(e._directInactive=!1,On(e))return}else if(e._directInactive)return;if(e._inactive||null===e._inactive){e._inactive=!1;for(var n=0;n<e.$children.length;n++)In(e.$children[n]);Ln(e,"activated")}}function Rn(e,t){if(!(t&&(e._directInactive=!0,On(e))||e._inactive)){e._inactive=!0;for(var n=0;n<e.$children.length;n++)Rn(e.$children[n]);Ln(e,"deactivated")}}function Ln(e,t,n,r){void 0===r&&(r=!0),Se();var i=ue;r&&he(e);var o=e.$options[t],s="".concat(t," hook");if(o)for(var a=0,c=o.length;a<c;a++)Jt(o[a],e,n||null,e,s);e._hasHookEvent&&e.$emit("hook:"+t),r&&he(i),_e()}var Mn=[],Dn=[],jn={},Fn=!1,Bn=!1,qn=0,Un=0,zn=Date.now;if(W&&!Z){var $n=window.performance;$n&&"function"==typeof $n.now&&zn()>document.createEvent("Event").timeStamp&&(zn=function(){return $n.now()})}var Hn=function(e,t){if(e.post){if(!t.post)return 1}else if(t.post)return-1;return e.id-t.id};function Gn(){var e,t;for(Un=zn(),Bn=!0,Mn.sort(Hn),qn=0;qn<Mn.length;qn++)(e=Mn[qn]).before&&e.before(),t=e.id,jn[t]=null,e.run();var n=Dn.slice(),r=Mn.slice();qn=Mn.length=Dn.length=0,jn={},Fn=Bn=!1,function(e){for(var t=0;t<e.length;t++)e[t]._inactive=!0,In(e[t],!0)}(n),function(e){for(var t=e.length;t--;){var n=e[t],r=n.vm;r&&r._watcher===n&&r._isMounted&&!r._isDestroyed&&Ln(r,"updated")}}(r),ye(),oe&&z.devtools&&oe.emit("flush")}function Vn(e){var t=e.id;if(null==jn[t]&&(e!==be.target||!e.noRecurse)){if(jn[t]=!0,Bn){for(var n=Mn.length-1;n>qn&&Mn[n].id>e.id;)n--;Mn.splice(n+1,0,e)}else Mn.push(e);Fn||(Fn=!0,ln(Gn))}}function Wn(e,t){if(e){for(var n=Object.create(null),r=ce?Reflect.ownKeys(e):Object.keys(e),i=0;i<r.length;i++){var o=r[i];if("__ob__"!==o){var s=e[o].from;if(s in t._provided)n[o]=t._provided[s];else if("default"in e[o]){var a=e[o].default;n[o]=u(a)?a.call(t):a}}}return n}}function Kn(e,t,n,o,s){var c,u=this,l=s.options;S(o,"_uid")?(c=Object.create(o))._original=o:(c=o,o=o._original);var h=a(l._compiled),d=!h;this.data=e,this.props=t,this.children=n,this.parent=o,this.listeners=e.on||r,this.injections=Wn(l.inject,o),this.slots=function(){return u.$slots||jt(o,e.scopedSlots,u.$slots=Lt(n,o)),u.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return jt(o,e.scopedSlots,this.slots())}}),h&&(this.$options=l,this.$slots=this.slots(),this.$scopedSlots=jt(o,e.scopedSlots,this.$slots)),l._scopeId?this._c=function(e,t,n,r){var s=Kt(c,e,t,n,r,d);return s&&!i(s)&&(s.fnScopeId=l._scopeId,s.fnContext=o),s}:this._c=function(e,t,n,r){return Kt(c,e,t,n,r,d)}}function Zn(e,t,n,r,i){var o=me(e);return o.fnContext=n,o.fnOptions=r,t.slot&&((o.data||(o.data={})).slot=t.slot),o}function Yn(e,t){for(var n in t)e[C(n)]=t[n]}function Jn(e){return e.name||e.__name||e._componentTag}Rt(Kn.prototype);var Qn={init:function(e,t){if(e.componentInstance&&!e.componentInstance._isDestroyed&&e.data.keepAlive){var n=e;Qn.prepatch(n,n)}else(e.componentInstance=function(e,t){var n={_isComponent:!0,_parentVnode:e,parent:t},r=e.data.inlineTemplate;return s(r)&&(n.render=r.render,n.staticRenderFns=r.staticRenderFns),new e.componentOptions.Ctor(n)}(e,Tn)).$mount(t?e.elm:void 0,t)},prepatch:function(e,t){var n=t.componentOptions;!function(e,t,n,i,o){var s=i.data.scopedSlots,a=e.$scopedSlots,c=!!(s&&!s.$stable||a!==r&&!a.$stable||s&&e.$scopedSlots.$key!==s.$key||!s&&e.$scopedSlots.$key),u=!!(o||e.$options._renderChildren||c),l=e.$vnode;e.$options._parentVnode=i,e.$vnode=i,e._vnode&&(e._vnode.parent=i),e.$options._renderChildren=o;var h=i.data.attrs||r;e._attrsProxy&&qt(e._attrsProxy,h,l.data&&l.data.attrs||r,e,"$attrs")&&(u=!0),e.$attrs=h,n=n||r;var d=e.$options._parentListeners;if(e._listenersProxy&&qt(e._listenersProxy,n,d||r,e,"$listeners"),e.$listeners=e.$options._parentListeners=n,Nn(e,n,d),t&&e.$options.props){Ne(!1);for(var f=e._props,p=e.$options._propKeys||[],m=0;m<p.length;m++){var g=p[m],v=e.$options.props;f[g]=hr(g,v,t,e)}Ne(!0),e.$options.propsData=t}u&&(e.$slots=Lt(o,i.context),e.$forceUpdate())}(t.componentInstance=e.componentInstance,n.propsData,n.listeners,t,n.children)},insert:function(e){var t,n=e.context,r=e.componentInstance;r._isMounted||(r._isMounted=!0,Ln(r,"mounted")),e.data.keepAlive&&(n._isMounted?((t=r)._inactive=!1,Dn.push(t)):In(r,!0))},destroy:function(e){var t=e.componentInstance;t._isDestroyed||(e.data.keepAlive?Rn(t,!0):t.$destroy())}},Xn=Object.keys(Qn);function er(e,t,n,c,u){if(!o(e)){var h=n.$options._base;if(l(e)&&(e=h.extend(e)),"function"==typeof e){var d;if(o(e.cid)&&(e=function(e,t){if(a(e.error)&&s(e.errorComp))return e.errorComp;if(s(e.resolved))return e.resolved;var n=$t;if(n&&s(e.owners)&&-1===e.owners.indexOf(n)&&e.owners.push(n),a(e.loading)&&s(e.loadingComp))return e.loadingComp;if(n&&!s(e.owners)){var r=e.owners=[n],i=!0,c=null,u=null;n.$on("hook:destroyed",(function(){return b(r,n)}));var h=function(e){for(var t=0,n=r.length;t<n;t++)r[t].$forceUpdate();e&&(r.length=0,null!==c&&(clearTimeout(c),c=null),null!==u&&(clearTimeout(u),u=null))},d=j((function(n){e.resolved=Ht(n,t),i?r.length=0:h(!0)})),f=j((function(t){s(e.errorComp)&&(e.error=!0,h(!0))})),m=e(d,f);return l(m)&&(p(m)?o(e.resolved)&&m.then(d,f):p(m.component)&&(m.component.then(d,f),s(m.error)&&(e.errorComp=Ht(m.error,t)),s(m.loading)&&(e.loadingComp=Ht(m.loading,t),0===m.delay?e.loading=!0:c=setTimeout((function(){c=null,o(e.resolved)&&o(e.error)&&(e.loading=!0,h(!1))}),m.delay||200)),s(m.timeout)&&(u=setTimeout((function(){u=null,o(e.resolved)&&f(null)}),m.timeout)))),i=!1,e.loading?e.loadingComp:e.resolved}}(d=e,h),void 0===e))return function(e,t,n,r,i){var o=fe();return o.asyncFactory=e,o.asyncMeta={data:t,context:n,children:r,tag:i},o}(d,t,n,c,u);t=t||{},Er(e),s(t.model)&&function(e,t){var n=e.model&&e.model.prop||"value",r=e.model&&e.model.event||"input";(t.attrs||(t.attrs={}))[n]=t.model.value;var o=t.on||(t.on={}),a=o[r],c=t.model.callback;s(a)?(i(a)?-1===a.indexOf(c):a!==c)&&(o[r]=[c].concat(a)):o[r]=c}(e.options,t);var f=function(e,t,n){var r=t.options.props;if(!o(r)){var i={},a=e.attrs,c=e.props;if(s(a)||s(c))for(var u in r){var l=A(u);mt(i,c,u,l,!0)||mt(i,a,u,l,!1)}return i}}(t,e);if(a(e.options.functional))return function(e,t,n,o,a){var c=e.options,u={},l=c.props;if(s(l))for(var h in l)u[h]=hr(h,l,t||r);else s(n.attrs)&&Yn(u,n.attrs),s(n.props)&&Yn(u,n.props);var d=new Kn(n,u,a,o,e),f=c.render.call(null,d._c,d);if(f instanceof de)return Zn(f,n,d.parent,c);if(i(f)){for(var p=gt(f)||[],m=new Array(p.length),g=0;g<p.length;g++)m[g]=Zn(p[g],n,d.parent,c);return m}}(e,f,t,n,c);var m=t.on;if(t.on=t.nativeOn,a(e.options.abstract)){var g=t.slot;t={},g&&(t.slot=g)}!function(e){for(var t=e.hook||(e.hook={}),n=0;n<Xn.length;n++){var r=Xn[n],i=t[r],o=Qn[r];i===o||i&&i._merged||(t[r]=i?tr(o,i):o)}}(t);var v=Jn(e.options)||u;return new de("vue-component-".concat(e.cid).concat(v?"-".concat(v):""),t,void 0,void 0,void 0,n,{Ctor:e,propsData:f,listeners:m,tag:u,children:c},d)}}}function tr(e,t){var n=function(n,r){e(n,r),t(n,r)};return n._merged=!0,n}var nr=I,rr=z.optionMergeStrategies;function ir(e,t,n){if(void 0===n&&(n=!0),!t)return e;for(var r,i,o,s=ce?Reflect.ownKeys(t):Object.keys(t),a=0;a<s.length;a++)"__ob__"!==(r=s[a])&&(i=e[r],o=t[r],n&&S(e,r)?i!==o&&d(i)&&d(o)&&ir(i,o):Re(e,r,o));return e}function or(e,t,n){return n?function(){var r=u(t)?t.call(n,n):t,i=u(e)?e.call(n,n):e;return r?ir(r,i):i}:t?e?function(){return ir(u(t)?t.call(this,this):t,u(e)?e.call(this,this):e)}:t:e}function sr(e,t){var n=t?e?e.concat(t):i(t)?t:[t]:e;return n?function(e){for(var t=[],n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t}(n):n}function ar(e,t,n,r){var i=Object.create(e||null);return t?P(i,t):i}rr.data=function(e,t,n){return n?or(e,t,n):t&&"function"!=typeof t?e:or(e,t)},U.forEach((function(e){rr[e]=sr})),q.forEach((function(e){rr[e+"s"]=ar})),rr.watch=function(e,t,n,r){if(e===te&&(e=void 0),t===te&&(t=void 0),!t)return Object.create(e||null);if(!e)return t;var o={};for(var s in P(o,e),t){var a=o[s],c=t[s];a&&!i(a)&&(a=[a]),o[s]=a?a.concat(c):i(c)?c:[c]}return o},rr.props=rr.methods=rr.inject=rr.computed=function(e,t,n,r){if(!e)return t;var i=Object.create(null);return P(i,e),t&&P(i,t),i},rr.provide=function(e,t){return e?function(){var n=Object.create(null);return ir(n,u(e)?e.call(this):e),t&&ir(n,u(t)?t.call(this):t,!1),n}:t};var cr=function(e,t){return void 0===t?e:t};function ur(e,t,n){if(u(t)&&(t=t.options),function(e,t){var n=e.props;if(n){var r,o,s={};if(i(n))for(r=n.length;r--;)"string"==typeof(o=n[r])&&(s[C(o)]={type:null});else if(d(n))for(var a in n)o=n[a],s[C(a)]=d(o)?o:{type:o};e.props=s}}(t),function(e,t){var n=e.inject;if(n){var r=e.inject={};if(i(n))for(var o=0;o<n.length;o++)r[n[o]]={from:n[o]};else if(d(n))for(var s in n){var a=n[s];r[s]=d(a)?P({from:s},a):{from:a}}}}(t),function(e){var t=e.directives;if(t)for(var n in t){var r=t[n];u(r)&&(t[n]={bind:r,update:r})}}(t),!t._base&&(t.extends&&(e=ur(e,t.extends,n)),t.mixins))for(var r=0,o=t.mixins.length;r<o;r++)e=ur(e,t.mixins[r],n);var s,a={};for(s in e)c(s);for(s in t)S(e,s)||c(s);function c(r){var i=rr[r]||cr;a[r]=i(e[r],t[r],n,r)}return a}function lr(e,t,n,r){if("string"==typeof n){var i=e[t];if(S(i,n))return i[n];var o=C(n);if(S(i,o))return i[o];var s=E(o);return S(i,s)?i[s]:i[n]||i[o]||i[s]}}function hr(e,t,n,r){var i=t[e],o=!S(n,e),s=n[e],a=mr(Boolean,i.type);if(a>-1)if(o&&!S(i,"default"))s=!1;else if(""===s||s===A(e)){var c=mr(String,i.type);(c<0||a<c)&&(s=!0)}if(void 0===s){s=function(e,t,n){if(S(t,"default")){var r=t.default;return e&&e.$options.propsData&&void 0===e.$options.propsData[n]&&void 0!==e._props[n]?e._props[n]:u(r)&&"Function"!==fr(t.type)?r.call(e):r}}(r,i,e);var l=Ae;Ne(!0),Oe(s),Ne(l)}return s}var dr=/^\s*function (\w+)/;function fr(e){var t=e&&e.toString().match(dr);return t?t[1]:""}function pr(e,t){return fr(e)===fr(t)}function mr(e,t){if(!i(t))return pr(t,e)?0:-1;for(var n=0,r=t.length;n<r;n++)if(pr(t[n],e))return n;return-1}var gr={enumerable:!0,configurable:!0,get:I,set:I};function vr(e,t,n){gr.get=function(){return this[t][n]},gr.set=function(e){this[t][n]=e},Object.defineProperty(e,n,gr)}function yr(e){var t=e.$options;if(t.props&&function(e,t){var n=e.$options.propsData||{},r=e._props=je({}),i=e.$options._propKeys=[];!e.$parent||Ne(!1);var o=function(o){i.push(o);var s=hr(o,t,n,e);Ie(r,o,s),o in e||vr(e,"_props",o)};for(var s in t)o(s);Ne(!0)}(e,t.props),function(e){var t=e.$options,n=t.setup;if(n){var i=e._setupContext=function(e){return{get attrs(){if(!e._attrsProxy){var t=e._attrsProxy={};H(t,"_v_attr_proxy",!0),qt(t,e.$attrs,r,e,"$attrs")}return e._attrsProxy},get listeners(){return e._listenersProxy||qt(e._listenersProxy={},e.$listeners,r,e,"$listeners"),e._listenersProxy},get slots(){return function(e){return e._slotsProxy||zt(e._slotsProxy={},e.$scopedSlots),e._slotsProxy}(e)},emit:N(e.$emit,e),expose:function(t){t&&Object.keys(t).forEach((function(n){return Ve(e,t,n)}))}}}(e);he(e),Se();var o=Jt(n,null,[e._props||je({}),i],e,"setup");if(_e(),he(),u(o))t.render=o;else if(l(o))if(e._setupState=o,o.__sfc){var s=e._setupProxy={};for(var a in o)"__sfc"!==a&&Ve(s,o,a)}else for(var a in o)$(a)||Ve(e,o,a)}}(e),t.methods&&function(e,t){for(var n in e.$options.props,t)e[n]="function"!=typeof t[n]?I:N(t[n],e)}(e,t.methods),t.data)!function(e){var t=e.$options.data;d(t=e._data=u(t)?function(e,t){Se();try{return e.call(t,t)}catch(e){return Yt(e,t,"data()"),{}}finally{_e()}}(t,e):t||{})||(t={});for(var n=Object.keys(t),r=e.$options.props,i=(e.$options.methods,n.length);i--;){var o=n[i];r&&S(r,o)||$(o)||vr(e,"_data",o)}var s=Oe(t);s&&s.vmCount++}(e);else{var n=Oe(e._data={});n&&n.vmCount++}t.computed&&function(e,t){var n=e._computedWatchers=Object.create(null),r=ie();for(var i in t){var o=t[i],s=u(o)?o:o.get;r||(n[i]=new Cn(e,s||I,I,br)),i in e||wr(e,i,o)}}(e,t.computed),t.watch&&t.watch!==te&&function(e,t){for(var n in t){var r=t[n];if(i(r))for(var o=0;o<r.length;o++)xr(e,n,r[o]);else xr(e,n,r)}}(e,t.watch)}var br={lazy:!0};function wr(e,t,n){var r=!ie();u(n)?(gr.get=r?Sr(t):_r(n),gr.set=I):(gr.get=n.get?r&&!1!==n.cache?Sr(t):_r(n.get):I,gr.set=n.set||I),Object.defineProperty(e,t,gr)}function Sr(e){return function(){var t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),be.target&&t.depend(),t.value}}function _r(e){return function(){return e.call(this,this)}}function xr(e,t,n,r){return d(n)&&(r=n,n=n.handler),"string"==typeof n&&(n=e[n]),e.$watch(t,n,r)}var Cr=0;function Er(e){var t=e.options;if(e.super){var n=Er(e.super);if(n!==e.superOptions){e.superOptions=n;var r=function(e){var t,n=e.options,r=e.sealedOptions;for(var i in n)n[i]!==r[i]&&(t||(t={}),t[i]=n[i]);return t}(e);r&&P(e.extendOptions,r),(t=e.options=ur(n,e.extendOptions)).name&&(t.components[t.name]=e)}}return t}function kr(e){this._init(e)}function Ar(e){return e&&(Jn(e.Ctor.options)||e.tag)}function Nr(e,t){return i(e)?e.indexOf(t)>-1:"string"==typeof e?e.split(",").indexOf(t)>-1:(n=e,!("[object RegExp]"!==h.call(n))&&e.test(t));var n}function Tr(e,t){var n=e.cache,r=e.keys,i=e._vnode;for(var o in n){var s=n[o];if(s){var a=s.name;a&&!t(a)&&Pr(n,o,r,i)}}}function Pr(e,t,n,r){var i=e[t];!i||r&&i.tag===r.tag||i.componentInstance.$destroy(),e[t]=null,b(n,t)}!function(e){e.prototype._init=function(e){var t=this;t._uid=Cr++,t._isVue=!0,t.__v_skip=!0,t._scope=new ot(!0),t._scope._vm=!0,e&&e._isComponent?function(e,t){var n=e.$options=Object.create(e.constructor.options),r=t._parentVnode;n.parent=t.parent,n._parentVnode=r;var i=r.componentOptions;n.propsData=i.propsData,n._parentListeners=i.listeners,n._renderChildren=i.children,n._componentTag=i.tag,t.render&&(n.render=t.render,n.staticRenderFns=t.staticRenderFns)}(t,e):t.$options=ur(Er(t.constructor),e||{},t),t._renderProxy=t,t._self=t,function(e){var t=e.$options,n=t.parent;if(n&&!t.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(e)}e.$parent=n,e.$root=n?n.$root:e,e.$children=[],e.$refs={},e._provided=n?n._provided:Object.create(null),e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}(t),function(e){e._events=Object.create(null),e._hasHookEvent=!1;var t=e.$options._parentListeners;t&&Nn(e,t)}(t),function(e){e._vnode=null,e._staticTrees=null;var t=e.$options,n=e.$vnode=t._parentVnode,i=n&&n.context;e.$slots=Lt(t._renderChildren,i),e.$scopedSlots=n?jt(e.$parent,n.data.scopedSlots,e.$slots):r,e._c=function(t,n,r,i){return Kt(e,t,n,r,i,!1)},e.$createElement=function(t,n,r,i){return Kt(e,t,n,r,i,!0)};var o=n&&n.data;Ie(e,"$attrs",o&&o.attrs||r,null,!0),Ie(e,"$listeners",t._parentListeners||r,null,!0)}(t),Ln(t,"beforeCreate",void 0,!1),function(e){var t=Wn(e.$options.inject,e);t&&(Ne(!1),Object.keys(t).forEach((function(n){Ie(e,n,t[n])})),Ne(!0))}(t),yr(t),function(e){var t=e.$options.provide;if(t){var n=u(t)?t.call(e):t;if(!l(n))return;for(var r=ut(e),i=ce?Reflect.ownKeys(n):Object.keys(n),o=0;o<i.length;o++){var s=i[o];Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(n,s))}}}(t),Ln(t,"created"),t.$options.el&&t.$mount(t.$options.el)}}(kr),function(e){Object.defineProperty(e.prototype,"$data",{get:function(){return this._data}}),Object.defineProperty(e.prototype,"$props",{get:function(){return this._props}}),e.prototype.$set=Re,e.prototype.$delete=Le,e.prototype.$watch=function(e,t,n){var r=this;if(d(t))return xr(r,e,t,n);(n=n||{}).user=!0;var i=new Cn(r,e,t,n);if(n.immediate){var o='callback for immediate watcher "'.concat(i.expression,'"');Se(),Jt(t,r,[i.value],r,o),_e()}return function(){i.teardown()}}}(kr),function(e){var t=/^hook:/;e.prototype.$on=function(e,n){var r=this;if(i(e))for(var o=0,s=e.length;o<s;o++)r.$on(e[o],n);else(r._events[e]||(r._events[e]=[])).push(n),t.test(e)&&(r._hasHookEvent=!0);return r},e.prototype.$once=function(e,t){var n=this;function r(){n.$off(e,r),t.apply(n,arguments)}return r.fn=t,n.$on(e,r),n},e.prototype.$off=function(e,t){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(i(e)){for(var r=0,o=e.length;r<o;r++)n.$off(e[r],t);return n}var s,a=n._events[e];if(!a)return n;if(!t)return n._events[e]=null,n;for(var c=a.length;c--;)if((s=a[c])===t||s.fn===t){a.splice(c,1);break}return n},e.prototype.$emit=function(e){var t=this,n=t._events[e];if(n){n=n.length>1?T(n):n;for(var r=T(arguments,1),i='event handler for "'.concat(e,'"'),o=0,s=n.length;o<s;o++)Jt(n[o],t,r,t,i)}return t}}(kr),function(e){e.prototype._update=function(e,t){var n=this,r=n.$el,i=n._vnode,o=Pn(n);n._vnode=e,n.$el=i?n.__patch__(i,e):n.__patch__(n.$el,e,t,!1),o(),r&&(r.__vue__=null),n.$el&&(n.$el.__vue__=n);for(var s=n;s&&s.$vnode&&s.$parent&&s.$vnode===s.$parent._vnode;)s.$parent.$el=s.$el,s=s.$parent},e.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},e.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){Ln(e,"beforeDestroy"),e._isBeingDestroyed=!0;var t=e.$parent;!t||t._isBeingDestroyed||e.$options.abstract||b(t.$children,e),e._scope.stop(),e._data.__ob__&&e._data.__ob__.vmCount--,e._isDestroyed=!0,e.__patch__(e._vnode,null),Ln(e,"destroyed"),e.$off(),e.$el&&(e.$el.__vue__=null),e.$vnode&&(e.$vnode.parent=null)}}}(kr),function(e){Rt(e.prototype),e.prototype.$nextTick=function(e){return ln(e,this)},e.prototype._render=function(){var e,t=this,n=t.$options,r=n.render,o=n._parentVnode;o&&t._isMounted&&(t.$scopedSlots=jt(t.$parent,o.data.scopedSlots,t.$slots,t.$scopedSlots),t._slotsProxy&&zt(t._slotsProxy,t.$scopedSlots)),t.$vnode=o;try{he(t),$t=t,e=r.call(t._renderProxy,t.$createElement)}catch(n){Yt(n,t,"render"),e=t._vnode}finally{$t=null,he()}return i(e)&&1===e.length&&(e=e[0]),e instanceof de||(e=fe()),e.parent=o,e}}(kr);var Or=[String,RegExp,Array],Ir={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:Or,exclude:Or,max:[String,Number]},methods:{cacheVNode:function(){var e=this,t=e.cache,n=e.keys,r=e.vnodeToCache,i=e.keyToCache;if(r){var o=r.tag,s=r.componentInstance,a=r.componentOptions;t[i]={name:Ar(a),tag:o,componentInstance:s},n.push(i),this.max&&n.length>parseInt(this.max)&&Pr(t,n[0],n,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var e in this.cache)Pr(this.cache,e,this.keys)},mounted:function(){var e=this;this.cacheVNode(),this.$watch("include",(function(t){Tr(e,(function(e){return Nr(t,e)}))})),this.$watch("exclude",(function(t){Tr(e,(function(e){return!Nr(t,e)}))}))},updated:function(){this.cacheVNode()},render:function(){var e=this.$slots.default,t=Gt(e),n=t&&t.componentOptions;if(n){var r=Ar(n),i=this.include,o=this.exclude;if(i&&(!r||!Nr(i,r))||o&&r&&Nr(o,r))return t;var s=this.cache,a=this.keys,c=null==t.key?n.Ctor.cid+(n.tag?"::".concat(n.tag):""):t.key;s[c]?(t.componentInstance=s[c].componentInstance,b(a,c),a.push(c)):(this.vnodeToCache=t,this.keyToCache=c),t.data.keepAlive=!0}return t||e&&e[0]}}};!function(e){var t={get:function(){return z}};Object.defineProperty(e,"config",t),e.util={warn:nr,extend:P,mergeOptions:ur,defineReactive:Ie},e.set=Re,e.delete=Le,e.nextTick=ln,e.observable=function(e){return Oe(e),e},e.options=Object.create(null),q.forEach((function(t){e.options[t+"s"]=Object.create(null)})),e.options._base=e,P(e.options.components,Ir),function(e){e.use=function(e){var t=this._installedPlugins||(this._installedPlugins=[]);if(t.indexOf(e)>-1)return this;var n=T(arguments,1);return n.unshift(this),u(e.install)?e.install.apply(e,n):u(e)&&e.apply(null,n),t.push(e),this}}(e),function(e){e.mixin=function(e){return this.options=ur(this.options,e),this}}(e),function(e){e.cid=0;var t=1;e.extend=function(e){e=e||{};var n=this,r=n.cid,i=e._Ctor||(e._Ctor={});if(i[r])return i[r];var o=Jn(e)||Jn(n.options),s=function(e){this._init(e)};return(s.prototype=Object.create(n.prototype)).constructor=s,s.cid=t++,s.options=ur(n.options,e),s.super=n,s.options.props&&function(e){var t=e.options.props;for(var n in t)vr(e.prototype,"_props",n)}(s),s.options.computed&&function(e){var t=e.options.computed;for(var n in t)wr(e.prototype,n,t[n])}(s),s.extend=n.extend,s.mixin=n.mixin,s.use=n.use,q.forEach((function(e){s[e]=n[e]})),o&&(s.options.components[o]=s),s.superOptions=n.options,s.extendOptions=e,s.sealedOptions=P({},s.options),i[r]=s,s}}(e),function(e){q.forEach((function(t){e[t]=function(e,n){return n?("component"===t&&d(n)&&(n.name=n.name||e,n=this.options._base.extend(n)),"directive"===t&&u(n)&&(n={bind:n,update:n}),this.options[t+"s"][e]=n,n):this.options[t+"s"][e]}}))}(e)}(kr),Object.defineProperty(kr.prototype,"$isServer",{get:ie}),Object.defineProperty(kr.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(kr,"FunctionalRenderContext",{value:Kn}),kr.version="2.7.14";var Rr=v("style,class"),Lr=v("input,textarea,option,select,progress"),Mr=v("contenteditable,draggable,spellcheck"),Dr=v("events,caret,typing,plaintext-only"),jr=function(e,t){return zr(t)||"false"===t?"false":"contenteditable"===e&&Dr(t)?t:"true"},Fr=v("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),Br="http://www.w3.org/1999/xlink",qr=function(e){return":"===e.charAt(5)&&"xlink"===e.slice(0,5)},Ur=function(e){return qr(e)?e.slice(6,e.length):""},zr=function(e){return null==e||!1===e};function $r(e,t){return{staticClass:Hr(e.staticClass,t.staticClass),class:s(e.class)?[e.class,t.class]:t.class}}function Hr(e,t){return e?t?e+" "+t:e:t||""}function Gr(e){return Array.isArray(e)?function(e){for(var t,n="",r=0,i=e.length;r<i;r++)s(t=Gr(e[r]))&&""!==t&&(n&&(n+=" "),n+=t);return n}(e):l(e)?function(e){var t="";for(var n in e)e[n]&&(t&&(t+=" "),t+=n);return t}(e):"string"==typeof e?e:""}var Vr={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Wr=v("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Kr=v("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Zr=function(e){return Wr(e)||Kr(e)},Yr=Object.create(null),Jr=v("text,number,password,search,email,tel,url"),Qr=Object.freeze({__proto__:null,createElement:function(e,t){var n=document.createElement(e);return"select"!==e||t.data&&t.data.attrs&&void 0!==t.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n},createElementNS:function(e,t){return document.createElementNS(Vr[e],t)},createTextNode:function(e){return document.createTextNode(e)},createComment:function(e){return document.createComment(e)},insertBefore:function(e,t,n){e.insertBefore(t,n)},removeChild:function(e,t){e.removeChild(t)},appendChild:function(e,t){e.appendChild(t)},parentNode:function(e){return e.parentNode},nextSibling:function(e){return e.nextSibling},tagName:function(e){return e.tagName},setTextContent:function(e,t){e.textContent=t},setStyleScope:function(e,t){e.setAttribute(t,"")}}),Xr={create:function(e,t){ei(t)},update:function(e,t){e.data.ref!==t.data.ref&&(ei(e,!0),ei(t))},destroy:function(e){ei(e,!0)}};function ei(e,t){var n=e.data.ref;if(s(n)){var r=e.context,o=e.componentInstance||e.elm,a=t?null:o,c=t?void 0:o;if(u(n))Jt(n,r,[a],r,"template ref function");else{var l=e.data.refInFor,h="string"==typeof n||"number"==typeof n,d=$e(n),f=r.$refs;if(h||d)if(l){var p=h?f[n]:n.value;t?i(p)&&b(p,o):i(p)?p.includes(o)||p.push(o):h?(f[n]=[o],ti(r,n,f[n])):n.value=[o]}else if(h){if(t&&f[n]!==o)return;f[n]=c,ti(r,n,a)}else if(d){if(t&&n.value!==o)return;n.value=a}}}}function ti(e,t,n){var r=e._setupState;r&&S(r,t)&&($e(r[t])?r[t].value=n:r[t]=n)}var ni=new de("",{},[]),ri=["create","activate","update","remove","destroy"];function ii(e,t){return e.key===t.key&&e.asyncFactory===t.asyncFactory&&(e.tag===t.tag&&e.isComment===t.isComment&&s(e.data)===s(t.data)&&function(e,t){if("input"!==e.tag)return!0;var n,r=s(n=e.data)&&s(n=n.attrs)&&n.type,i=s(n=t.data)&&s(n=n.attrs)&&n.type;return r===i||Jr(r)&&Jr(i)}(e,t)||a(e.isAsyncPlaceholder)&&o(t.asyncFactory.error))}function oi(e,t,n){var r,i,o={};for(r=t;r<=n;++r)s(i=e[r].key)&&(o[i]=r);return o}var si={create:ai,update:ai,destroy:function(e){ai(e,ni)}};function ai(e,t){(e.data.directives||t.data.directives)&&function(e,t){var n,r,i,o=e===ni,s=t===ni,a=ui(e.data.directives,e.context),c=ui(t.data.directives,t.context),u=[],l=[];for(n in c)r=a[n],i=c[n],r?(i.oldValue=r.value,i.oldArg=r.arg,hi(i,"update",t,e),i.def&&i.def.componentUpdated&&l.push(i)):(hi(i,"bind",t,e),i.def&&i.def.inserted&&u.push(i));if(u.length){var h=function(){for(var n=0;n<u.length;n++)hi(u[n],"inserted",t,e)};o?pt(t,"insert",h):h()}if(l.length&&pt(t,"postpatch",(function(){for(var n=0;n<l.length;n++)hi(l[n],"componentUpdated",t,e)})),!o)for(n in a)c[n]||hi(a[n],"unbind",e,e,s)}(e,t)}var ci=Object.create(null);function ui(e,t){var n,r,i=Object.create(null);if(!e)return i;for(n=0;n<e.length;n++){if((r=e[n]).modifiers||(r.modifiers=ci),i[li(r)]=r,t._setupState&&t._setupState.__sfc){var o=r.def||lr(t,"_setupState","v-"+r.name);r.def="function"==typeof o?{bind:o,update:o}:o}r.def=r.def||lr(t.$options,"directives",r.name)}return i}function li(e){return e.rawName||"".concat(e.name,".").concat(Object.keys(e.modifiers||{}).join("."))}function hi(e,t,n,r,i){var o=e.def&&e.def[t];if(o)try{o(n.elm,e,n,r,i)}catch(r){Yt(r,n.context,"directive ".concat(e.name," ").concat(t," hook"))}}var di=[Xr,si];function fi(e,t){var n=t.componentOptions;if(!(s(n)&&!1===n.Ctor.options.inheritAttrs||o(e.data.attrs)&&o(t.data.attrs))){var r,i,c=t.elm,u=e.data.attrs||{},l=t.data.attrs||{};for(r in(s(l.__ob__)||a(l._v_attr_proxy))&&(l=t.data.attrs=P({},l)),l)i=l[r],u[r]!==i&&pi(c,r,i,t.data.pre);for(r in(Z||J)&&l.value!==u.value&&pi(c,"value",l.value),u)o(l[r])&&(qr(r)?c.removeAttributeNS(Br,Ur(r)):Mr(r)||c.removeAttribute(r))}}function pi(e,t,n,r){r||e.tagName.indexOf("-")>-1?mi(e,t,n):Fr(t)?zr(n)?e.removeAttribute(t):(n="allowfullscreen"===t&&"EMBED"===e.tagName?"true":t,e.setAttribute(t,n)):Mr(t)?e.setAttribute(t,jr(t,n)):qr(t)?zr(n)?e.removeAttributeNS(Br,Ur(t)):e.setAttributeNS(Br,t,n):mi(e,t,n)}function mi(e,t,n){if(zr(n))e.removeAttribute(t);else{if(Z&&!Y&&"TEXTAREA"===e.tagName&&"placeholder"===t&&""!==n&&!e.__ieph){var r=function(t){t.stopImmediatePropagation(),e.removeEventListener("input",r)};e.addEventListener("input",r),e.__ieph=!0}e.setAttribute(t,n)}}var gi={create:fi,update:fi};function vi(e,t){var n=t.elm,r=t.data,i=e.data;if(!(o(r.staticClass)&&o(r.class)&&(o(i)||o(i.staticClass)&&o(i.class)))){var a=function(e){for(var t=e.data,n=e,r=e;s(r.componentInstance);)(r=r.componentInstance._vnode)&&r.data&&(t=$r(r.data,t));for(;s(n=n.parent);)n&&n.data&&(t=$r(t,n.data));return i=t.staticClass,o=t.class,s(i)||s(o)?Hr(i,Gr(o)):"";var i,o}(t),c=n._transitionClasses;s(c)&&(a=Hr(a,Gr(c))),a!==n._prevClass&&(n.setAttribute("class",a),n._prevClass=a)}}var yi,bi={create:vi,update:vi},wi="__r",Si="__c";function _i(e,t,n){var r=yi;return function i(){null!==t.apply(null,arguments)&&Ei(e,i,n,r)}}var xi=tn&&!(ee&&Number(ee[1])<=53);function Ci(e,t,n,r){if(xi){var i=Un,o=t;t=o._wrapper=function(e){if(e.target===e.currentTarget||e.timeStamp>=i||e.timeStamp<=0||e.target.ownerDocument!==document)return o.apply(this,arguments)}}yi.addEventListener(e,t,ne?{capture:n,passive:r}:n)}function Ei(e,t,n,r){(r||yi).removeEventListener(e,t._wrapper||t,n)}function ki(e,t){if(!o(e.data.on)||!o(t.data.on)){var n=t.data.on||{},r=e.data.on||{};yi=t.elm||e.elm,function(e){if(s(e[wi])){var t=Z?"change":"input";e[t]=[].concat(e[wi],e[t]||[]),delete e[wi]}s(e[Si])&&(e.change=[].concat(e[Si],e.change||[]),delete e[Si])}(n),ft(n,r,Ci,Ei,_i,t.context),yi=void 0}}var Ai,Ni={create:ki,update:ki,destroy:function(e){return ki(e,ni)}};function Ti(e,t){if(!o(e.data.domProps)||!o(t.data.domProps)){var n,r,i=t.elm,c=e.data.domProps||{},u=t.data.domProps||{};for(n in(s(u.__ob__)||a(u._v_attr_proxy))&&(u=t.data.domProps=P({},u)),c)n in u||(i[n]="");for(n in u){if(r=u[n],"textContent"===n||"innerHTML"===n){if(t.children&&(t.children.length=0),r===c[n])continue;1===i.childNodes.length&&i.removeChild(i.childNodes[0])}if("value"===n&&"PROGRESS"!==i.tagName){i._value=r;var l=o(r)?"":String(r);Pi(i,l)&&(i.value=l)}else if("innerHTML"===n&&Kr(i.tagName)&&o(i.innerHTML)){(Ai=Ai||document.createElement("div")).innerHTML="<svg>".concat(r,"</svg>");for(var h=Ai.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;h.firstChild;)i.appendChild(h.firstChild)}else if(r!==c[n])try{i[n]=r}catch(e){}}}}function Pi(e,t){return!e.composing&&("OPTION"===e.tagName||function(e,t){var n=!0;try{n=document.activeElement!==e}catch(e){}return n&&e.value!==t}(e,t)||function(e,t){var n=e.value,r=e._vModifiers;if(s(r)){if(r.number)return g(n)!==g(t);if(r.trim)return n.trim()!==t.trim()}return n!==t}(e,t))}var Oi={create:Ti,update:Ti},Ii=_((function(e){var t={},n=/:(.+)/;return e.split(/;(?![^(]*\))/g).forEach((function(e){if(e){var r=e.split(n);r.length>1&&(t[r[0].trim()]=r[1].trim())}})),t}));function Ri(e){var t=Li(e.style);return e.staticStyle?P(e.staticStyle,t):t}function Li(e){return Array.isArray(e)?O(e):"string"==typeof e?Ii(e):e}var Mi,Di=/^--/,ji=/\s*!important$/,Fi=function(e,t,n){if(Di.test(t))e.style.setProperty(t,n);else if(ji.test(n))e.style.setProperty(A(t),n.replace(ji,""),"important");else{var r=qi(t);if(Array.isArray(n))for(var i=0,o=n.length;i<o;i++)e.style[r]=n[i];else e.style[r]=n}},Bi=["Webkit","Moz","ms"],qi=_((function(e){if(Mi=Mi||document.createElement("div").style,"filter"!==(e=C(e))&&e in Mi)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<Bi.length;n++){var r=Bi[n]+t;if(r in Mi)return r}}));function Ui(e,t){var n=t.data,r=e.data;if(!(o(n.staticStyle)&&o(n.style)&&o(r.staticStyle)&&o(r.style))){var i,a,c=t.elm,u=r.staticStyle,l=r.normalizedStyle||r.style||{},h=u||l,d=Li(t.data.style)||{};t.data.normalizedStyle=s(d.__ob__)?P({},d):d;var f=function(e,t){for(var n,r={},i=e;i.componentInstance;)(i=i.componentInstance._vnode)&&i.data&&(n=Ri(i.data))&&P(r,n);(n=Ri(e.data))&&P(r,n);for(var o=e;o=o.parent;)o.data&&(n=Ri(o.data))&&P(r,n);return r}(t);for(a in h)o(f[a])&&Fi(c,a,"");for(a in f)(i=f[a])!==h[a]&&Fi(c,a,null==i?"":i)}}var zi={create:Ui,update:Ui},$i=/\s+/;function Hi(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split($i).forEach((function(t){return e.classList.add(t)})):e.classList.add(t);else{var n=" ".concat(e.getAttribute("class")||""," ");n.indexOf(" "+t+" ")<0&&e.setAttribute("class",(n+t).trim())}}function Gi(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split($i).forEach((function(t){return e.classList.remove(t)})):e.classList.remove(t),e.classList.length||e.removeAttribute("class");else{for(var n=" ".concat(e.getAttribute("class")||""," "),r=" "+t+" ";n.indexOf(r)>=0;)n=n.replace(r," ");(n=n.trim())?e.setAttribute("class",n):e.removeAttribute("class")}}function Vi(e){if(e){if("object"==typeof e){var t={};return!1!==e.css&&P(t,Wi(e.name||"v")),P(t,e),t}return"string"==typeof e?Wi(e):void 0}}var Wi=_((function(e){return{enterClass:"".concat(e,"-enter"),enterToClass:"".concat(e,"-enter-to"),enterActiveClass:"".concat(e,"-enter-active"),leaveClass:"".concat(e,"-leave"),leaveToClass:"".concat(e,"-leave-to"),leaveActiveClass:"".concat(e,"-leave-active")}})),Ki=W&&!Y,Zi="transition",Yi="animation",Ji="transition",Qi="transitionend",Xi="animation",eo="animationend";Ki&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Ji="WebkitTransition",Qi="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Xi="WebkitAnimation",eo="webkitAnimationEnd"));var to=W?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(e){return e()};function no(e){to((function(){to(e)}))}function ro(e,t){var n=e._transitionClasses||(e._transitionClasses=[]);n.indexOf(t)<0&&(n.push(t),Hi(e,t))}function io(e,t){e._transitionClasses&&b(e._transitionClasses,t),Gi(e,t)}function oo(e,t,n){var r=ao(e,t),i=r.type,o=r.timeout,s=r.propCount;if(!i)return n();var a=i===Zi?Qi:eo,c=0,u=function(){e.removeEventListener(a,l),n()},l=function(t){t.target===e&&++c>=s&&u()};setTimeout((function(){c<s&&u()}),o+1),e.addEventListener(a,l)}var so=/\b(transform|all)(,|$)/;function ao(e,t){var n,r=window.getComputedStyle(e),i=(r[Ji+"Delay"]||"").split(", "),o=(r[Ji+"Duration"]||"").split(", "),s=co(i,o),a=(r[Xi+"Delay"]||"").split(", "),c=(r[Xi+"Duration"]||"").split(", "),u=co(a,c),l=0,h=0;return t===Zi?s>0&&(n=Zi,l=s,h=o.length):t===Yi?u>0&&(n=Yi,l=u,h=c.length):h=(n=(l=Math.max(s,u))>0?s>u?Zi:Yi:null)?n===Zi?o.length:c.length:0,{type:n,timeout:l,propCount:h,hasTransform:n===Zi&&so.test(r[Ji+"Property"])}}function co(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max.apply(null,t.map((function(t,n){return uo(t)+uo(e[n])})))}function uo(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function lo(e,t){var n=e.elm;s(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var r=Vi(e.data.transition);if(!o(r)&&!s(n._enterCb)&&1===n.nodeType){for(var i=r.css,a=r.type,c=r.enterClass,h=r.enterToClass,d=r.enterActiveClass,f=r.appearClass,p=r.appearToClass,m=r.appearActiveClass,v=r.beforeEnter,y=r.enter,b=r.afterEnter,w=r.enterCancelled,S=r.beforeAppear,_=r.appear,x=r.afterAppear,C=r.appearCancelled,E=r.duration,k=Tn,A=Tn.$vnode;A&&A.parent;)k=A.context,A=A.parent;var N=!k._isMounted||!e.isRootInsert;if(!N||_||""===_){var T=N&&f?f:c,P=N&&m?m:d,O=N&&p?p:h,I=N&&S||v,R=N&&u(_)?_:y,L=N&&x||b,M=N&&C||w,D=g(l(E)?E.enter:E),F=!1!==i&&!Y,B=po(R),q=n._enterCb=j((function(){F&&(io(n,O),io(n,P)),q.cancelled?(F&&io(n,T),M&&M(n)):L&&L(n),n._enterCb=null}));e.data.show||pt(e,"insert",(function(){var t=n.parentNode,r=t&&t._pending&&t._pending[e.key];r&&r.tag===e.tag&&r.elm._leaveCb&&r.elm._leaveCb(),R&&R(n,q)})),I&&I(n),F&&(ro(n,T),ro(n,P),no((function(){io(n,T),q.cancelled||(ro(n,O),B||(fo(D)?setTimeout(q,D):oo(n,a,q)))}))),e.data.show&&(t&&t(),R&&R(n,q)),F||B||q()}}}function ho(e,t){var n=e.elm;s(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var r=Vi(e.data.transition);if(o(r)||1!==n.nodeType)return t();if(!s(n._leaveCb)){var i=r.css,a=r.type,c=r.leaveClass,u=r.leaveToClass,h=r.leaveActiveClass,d=r.beforeLeave,f=r.leave,p=r.afterLeave,m=r.leaveCancelled,v=r.delayLeave,y=r.duration,b=!1!==i&&!Y,w=po(f),S=g(l(y)?y.leave:y),_=n._leaveCb=j((function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[e.key]=null),b&&(io(n,u),io(n,h)),_.cancelled?(b&&io(n,c),m&&m(n)):(t(),p&&p(n)),n._leaveCb=null}));v?v(x):x()}function x(){_.cancelled||(!e.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[e.key]=e),d&&d(n),b&&(ro(n,c),ro(n,h),no((function(){io(n,c),_.cancelled||(ro(n,u),w||(fo(S)?setTimeout(_,S):oo(n,a,_)))}))),f&&f(n,_),b||w||_())}}function fo(e){return"number"==typeof e&&!isNaN(e)}function po(e){if(o(e))return!1;var t=e.fns;return s(t)?po(Array.isArray(t)?t[0]:t):(e._length||e.length)>1}function mo(e,t){!0!==t.data.show&&lo(t)}var go=function(e){var t,n,r={},u=e.modules,l=e.nodeOps;for(t=0;t<ri.length;++t)for(r[ri[t]]=[],n=0;n<u.length;++n)s(u[n][ri[t]])&&r[ri[t]].push(u[n][ri[t]]);function h(e){var t=l.parentNode(e);s(t)&&l.removeChild(t,e)}function d(e,t,n,i,o,c,u){if(s(e.elm)&&s(c)&&(e=c[u]=me(e)),e.isRootInsert=!o,!function(e,t,n,i){var o=e.data;if(s(o)){var c=s(e.componentInstance)&&o.keepAlive;if(s(o=o.hook)&&s(o=o.init)&&o(e,!1),s(e.componentInstance))return f(e,t),p(n,e.elm,i),a(c)&&function(e,t,n,i){for(var o,a=e;a.componentInstance;)if(s(o=(a=a.componentInstance._vnode).data)&&s(o=o.transition)){for(o=0;o<r.activate.length;++o)r.activate[o](ni,a);t.push(a);break}p(n,e.elm,i)}(e,t,n,i),!0}}(e,t,n,i)){var h=e.data,d=e.children,g=e.tag;s(g)?(e.elm=e.ns?l.createElementNS(e.ns,g):l.createElement(g,e),b(e),m(e,d,t),s(h)&&y(e,t),p(n,e.elm,i)):a(e.isComment)?(e.elm=l.createComment(e.text),p(n,e.elm,i)):(e.elm=l.createTextNode(e.text),p(n,e.elm,i))}}function f(e,t){s(e.data.pendingInsert)&&(t.push.apply(t,e.data.pendingInsert),e.data.pendingInsert=null),e.elm=e.componentInstance.$el,g(e)?(y(e,t),b(e)):(ei(e),t.push(e))}function p(e,t,n){s(e)&&(s(n)?l.parentNode(n)===e&&l.insertBefore(e,t,n):l.appendChild(e,t))}function m(e,t,n){if(i(t))for(var r=0;r<t.length;++r)d(t[r],n,e.elm,null,!0,t,r);else c(e.text)&&l.appendChild(e.elm,l.createTextNode(String(e.text)))}function g(e){for(;e.componentInstance;)e=e.componentInstance._vnode;return s(e.tag)}function y(e,n){for(var i=0;i<r.create.length;++i)r.create[i](ni,e);s(t=e.data.hook)&&(s(t.create)&&t.create(ni,e),s(t.insert)&&n.push(e))}function b(e){var t;if(s(t=e.fnScopeId))l.setStyleScope(e.elm,t);else for(var n=e;n;)s(t=n.context)&&s(t=t.$options._scopeId)&&l.setStyleScope(e.elm,t),n=n.parent;s(t=Tn)&&t!==e.context&&t!==e.fnContext&&s(t=t.$options._scopeId)&&l.setStyleScope(e.elm,t)}function w(e,t,n,r,i,o){for(;r<=i;++r)d(n[r],o,e,t,!1,n,r)}function S(e){var t,n,i=e.data;if(s(i))for(s(t=i.hook)&&s(t=t.destroy)&&t(e),t=0;t<r.destroy.length;++t)r.destroy[t](e);if(s(t=e.children))for(n=0;n<e.children.length;++n)S(e.children[n])}function _(e,t,n){for(;t<=n;++t){var r=e[t];s(r)&&(s(r.tag)?(x(r),S(r)):h(r.elm))}}function x(e,t){if(s(t)||s(e.data)){var n,i=r.remove.length+1;for(s(t)?t.listeners+=i:t=function(e,t){function n(){0==--n.listeners&&h(e)}return n.listeners=t,n}(e.elm,i),s(n=e.componentInstance)&&s(n=n._vnode)&&s(n.data)&&x(n,t),n=0;n<r.remove.length;++n)r.remove[n](e,t);s(n=e.data.hook)&&s(n=n.remove)?n(e,t):t()}else h(e.elm)}function C(e,t,n,r){for(var i=n;i<r;i++){var o=t[i];if(s(o)&&ii(e,o))return i}}function E(e,t,n,i,c,u){if(e!==t){s(t.elm)&&s(i)&&(t=i[c]=me(t));var h=t.elm=e.elm;if(a(e.isAsyncPlaceholder))s(t.asyncFactory.resolved)?N(e.elm,t,n):t.isAsyncPlaceholder=!0;else if(a(t.isStatic)&&a(e.isStatic)&&t.key===e.key&&(a(t.isCloned)||a(t.isOnce)))t.componentInstance=e.componentInstance;else{var f,p=t.data;s(p)&&s(f=p.hook)&&s(f=f.prepatch)&&f(e,t);var m=e.children,v=t.children;if(s(p)&&g(t)){for(f=0;f<r.update.length;++f)r.update[f](e,t);s(f=p.hook)&&s(f=f.update)&&f(e,t)}o(t.text)?s(m)&&s(v)?m!==v&&function(e,t,n,r,i){for(var a,c,u,h=0,f=0,p=t.length-1,m=t[0],g=t[p],v=n.length-1,y=n[0],b=n[v],S=!i;h<=p&&f<=v;)o(m)?m=t[++h]:o(g)?g=t[--p]:ii(m,y)?(E(m,y,r,n,f),m=t[++h],y=n[++f]):ii(g,b)?(E(g,b,r,n,v),g=t[--p],b=n[--v]):ii(m,b)?(E(m,b,r,n,v),S&&l.insertBefore(e,m.elm,l.nextSibling(g.elm)),m=t[++h],b=n[--v]):ii(g,y)?(E(g,y,r,n,f),S&&l.insertBefore(e,g.elm,m.elm),g=t[--p],y=n[++f]):(o(a)&&(a=oi(t,h,p)),o(c=s(y.key)?a[y.key]:C(y,t,h,p))?d(y,r,e,m.elm,!1,n,f):ii(u=t[c],y)?(E(u,y,r,n,f),t[c]=void 0,S&&l.insertBefore(e,u.elm,m.elm)):d(y,r,e,m.elm,!1,n,f),y=n[++f]);h>p?w(e,o(n[v+1])?null:n[v+1].elm,n,f,v,r):f>v&&_(t,h,p)}(h,m,v,n,u):s(v)?(s(e.text)&&l.setTextContent(h,""),w(h,null,v,0,v.length-1,n)):s(m)?_(m,0,m.length-1):s(e.text)&&l.setTextContent(h,""):e.text!==t.text&&l.setTextContent(h,t.text),s(p)&&s(f=p.hook)&&s(f=f.postpatch)&&f(e,t)}}}function k(e,t,n){if(a(n)&&s(e.parent))e.parent.data.pendingInsert=t;else for(var r=0;r<t.length;++r)t[r].data.hook.insert(t[r])}var A=v("attrs,class,staticClass,staticStyle,key");function N(e,t,n,r){var i,o=t.tag,c=t.data,u=t.children;if(r=r||c&&c.pre,t.elm=e,a(t.isComment)&&s(t.asyncFactory))return t.isAsyncPlaceholder=!0,!0;if(s(c)&&(s(i=c.hook)&&s(i=i.init)&&i(t,!0),s(i=t.componentInstance)))return f(t,n),!0;if(s(o)){if(s(u))if(e.hasChildNodes())if(s(i=c)&&s(i=i.domProps)&&s(i=i.innerHTML)){if(i!==e.innerHTML)return!1}else{for(var l=!0,h=e.firstChild,d=0;d<u.length;d++){if(!h||!N(h,u[d],n,r)){l=!1;break}h=h.nextSibling}if(!l||h)return!1}else m(t,u,n);if(s(c)){var p=!1;for(var g in c)if(!A(g)){p=!0,y(t,n);break}!p&&c.class&&wn(c.class)}}else e.data!==t.text&&(e.data=t.text);return!0}return function(e,t,n,i){if(!o(t)){var c,u=!1,h=[];if(o(e))u=!0,d(t,h);else{var f=s(e.nodeType);if(!f&&ii(e,t))E(e,t,h,null,null,i);else{if(f){if(1===e.nodeType&&e.hasAttribute(B)&&(e.removeAttribute(B),n=!0),a(n)&&N(e,t,h))return k(t,h,!0),e;c=e,e=new de(l.tagName(c).toLowerCase(),{},[],void 0,c)}var p=e.elm,m=l.parentNode(p);if(d(t,h,p._leaveCb?null:m,l.nextSibling(p)),s(t.parent))for(var v=t.parent,y=g(t);v;){for(var b=0;b<r.destroy.length;++b)r.destroy[b](v);if(v.elm=t.elm,y){for(var w=0;w<r.create.length;++w)r.create[w](ni,v);var x=v.data.hook.insert;if(x.merged)for(var C=1;C<x.fns.length;C++)x.fns[C]()}else ei(v);v=v.parent}s(m)?_([e],0,0):s(e.tag)&&S(e)}}return k(t,h,u),t.elm}s(e)&&S(e)}}({nodeOps:Qr,modules:[gi,bi,Ni,Oi,zi,W?{create:mo,activate:mo,remove:function(e,t){!0!==e.data.show?ho(e,t):t()}}:{}].concat(di)});Y&&document.addEventListener("selectionchange",(function(){var e=document.activeElement;e&&e.vmodel&&Co(e,"input")}));var vo={inserted:function(e,t,n,r){"select"===n.tag?(r.elm&&!r.elm._vOptions?pt(n,"postpatch",(function(){vo.componentUpdated(e,t,n)})):yo(e,t,n.context),e._vOptions=[].map.call(e.options,So)):("textarea"===n.tag||Jr(e.type))&&(e._vModifiers=t.modifiers,t.modifiers.lazy||(e.addEventListener("compositionstart",_o),e.addEventListener("compositionend",xo),e.addEventListener("change",xo),Y&&(e.vmodel=!0)))},componentUpdated:function(e,t,n){if("select"===n.tag){yo(e,t,n.context);var r=e._vOptions,i=e._vOptions=[].map.call(e.options,So);i.some((function(e,t){return!M(e,r[t])}))&&(e.multiple?t.value.some((function(e){return wo(e,i)})):t.value!==t.oldValue&&wo(t.value,i))&&Co(e,"change")}}};function yo(e,t,n){bo(e,t),(Z||J)&&setTimeout((function(){bo(e,t)}),0)}function bo(e,t,n){var r=t.value,i=e.multiple;if(!i||Array.isArray(r)){for(var o,s,a=0,c=e.options.length;a<c;a++)if(s=e.options[a],i)o=D(r,So(s))>-1,s.selected!==o&&(s.selected=o);else if(M(So(s),r))return void(e.selectedIndex!==a&&(e.selectedIndex=a));i||(e.selectedIndex=-1)}}function wo(e,t){return t.every((function(t){return!M(t,e)}))}function So(e){return"_value"in e?e._value:e.value}function _o(e){e.target.composing=!0}function xo(e){e.target.composing&&(e.target.composing=!1,Co(e.target,"input"))}function Co(e,t){var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}function Eo(e){return!e.componentInstance||e.data&&e.data.transition?e:Eo(e.componentInstance._vnode)}var ko={model:vo,show:{bind:function(e,t,n){var r=t.value,i=(n=Eo(n)).data&&n.data.transition,o=e.__vOriginalDisplay="none"===e.style.display?"":e.style.display;r&&i?(n.data.show=!0,lo(n,(function(){e.style.display=o}))):e.style.display=r?o:"none"},update:function(e,t,n){var r=t.value;!r!=!t.oldValue&&((n=Eo(n)).data&&n.data.transition?(n.data.show=!0,r?lo(n,(function(){e.style.display=e.__vOriginalDisplay})):ho(n,(function(){e.style.display="none"}))):e.style.display=r?e.__vOriginalDisplay:"none")},unbind:function(e,t,n,r,i){i||(e.style.display=e.__vOriginalDisplay)}}},Ao={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function No(e){var t=e&&e.componentOptions;return t&&t.Ctor.options.abstract?No(Gt(t.children)):e}function To(e){var t={},n=e.$options;for(var r in n.propsData)t[r]=e[r];var i=n._parentListeners;for(var r in i)t[C(r)]=i[r];return t}function Po(e,t){if(/\d-keep-alive$/.test(t.tag))return e("keep-alive",{props:t.componentOptions.propsData})}var Oo=function(e){return e.tag||Dt(e)},Io=function(e){return"show"===e.name},Ro={name:"transition",props:Ao,abstract:!0,render:function(e){var t=this,n=this.$slots.default;if(n&&(n=n.filter(Oo)).length){var r=this.mode,i=n[0];if(function(e){for(;e=e.parent;)if(e.data.transition)return!0}(this.$vnode))return i;var o=No(i);if(!o)return i;if(this._leaving)return Po(e,i);var s="__transition-".concat(this._uid,"-");o.key=null==o.key?o.isComment?s+"comment":s+o.tag:c(o.key)?0===String(o.key).indexOf(s)?o.key:s+o.key:o.key;var a=(o.data||(o.data={})).transition=To(this),u=this._vnode,l=No(u);if(o.data.directives&&o.data.directives.some(Io)&&(o.data.show=!0),l&&l.data&&!function(e,t){return t.key===e.key&&t.tag===e.tag}(o,l)&&!Dt(l)&&(!l.componentInstance||!l.componentInstance._vnode.isComment)){var h=l.data.transition=P({},a);if("out-in"===r)return this._leaving=!0,pt(h,"afterLeave",(function(){t._leaving=!1,t.$forceUpdate()})),Po(e,i);if("in-out"===r){if(Dt(o))return u;var d,f=function(){d()};pt(a,"afterEnter",f),pt(a,"enterCancelled",f),pt(h,"delayLeave",(function(e){d=e}))}}return i}}},Lo=P({tag:String,moveClass:String},Ao);function Mo(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function Do(e){e.data.newPos=e.elm.getBoundingClientRect()}function jo(e){var t=e.data.pos,n=e.data.newPos,r=t.left-n.left,i=t.top-n.top;if(r||i){e.data.moved=!0;var o=e.elm.style;o.transform=o.WebkitTransform="translate(".concat(r,"px,").concat(i,"px)"),o.transitionDuration="0s"}}delete Lo.mode;var Fo={Transition:Ro,TransitionGroup:{props:Lo,beforeMount:function(){var e=this,t=this._update;this._update=function(n,r){var i=Pn(e);e.__patch__(e._vnode,e.kept,!1,!0),e._vnode=e.kept,i(),t.call(e,n,r)}},render:function(e){for(var t=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),r=this.prevChildren=this.children,i=this.$slots.default||[],o=this.children=[],s=To(this),a=0;a<i.length;a++)(l=i[a]).tag&&null!=l.key&&0!==String(l.key).indexOf("__vlist")&&(o.push(l),n[l.key]=l,(l.data||(l.data={})).transition=s);if(r){var c=[],u=[];for(a=0;a<r.length;a++){var l;(l=r[a]).data.transition=s,l.data.pos=l.elm.getBoundingClientRect(),n[l.key]?c.push(l):u.push(l)}this.kept=e(t,null,c),this.removed=u}return e(t,null,o)},updated:function(){var e=this.prevChildren,t=this.moveClass||(this.name||"v")+"-move";e.length&&this.hasMove(e[0].elm,t)&&(e.forEach(Mo),e.forEach(Do),e.forEach(jo),this._reflow=document.body.offsetHeight,e.forEach((function(e){if(e.data.moved){var n=e.elm,r=n.style;ro(n,t),r.transform=r.WebkitTransform=r.transitionDuration="",n.addEventListener(Qi,n._moveCb=function e(r){r&&r.target!==n||r&&!/transform$/.test(r.propertyName)||(n.removeEventListener(Qi,e),n._moveCb=null,io(n,t))})}})))},methods:{hasMove:function(e,t){if(!Ki)return!1;if(this._hasMove)return this._hasMove;var n=e.cloneNode();e._transitionClasses&&e._transitionClasses.forEach((function(e){Gi(n,e)})),Hi(n,t),n.style.display="none",this.$el.appendChild(n);var r=ao(n);return this.$el.removeChild(n),this._hasMove=r.hasTransform}}}};kr.config.mustUseProp=function(e,t,n){return"value"===n&&Lr(e)&&"button"!==t||"selected"===n&&"option"===e||"checked"===n&&"input"===e||"muted"===n&&"video"===e},kr.config.isReservedTag=Zr,kr.config.isReservedAttr=Rr,kr.config.getTagNamespace=function(e){return Kr(e)?"svg":"math"===e?"math":void 0},kr.config.isUnknownElement=function(e){if(!W)return!0;if(Zr(e))return!1;if(e=e.toLowerCase(),null!=Yr[e])return Yr[e];var t=document.createElement(e);return e.indexOf("-")>-1?Yr[e]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:Yr[e]=/HTMLUnknownElement/.test(t.toString())},P(kr.options.directives,ko),P(kr.options.components,Fo),kr.prototype.__patch__=W?go:I,kr.prototype.$mount=function(e,t){return function(e,t,n){var r;e.$el=t,e.$options.render||(e.$options.render=fe),Ln(e,"beforeMount"),r=function(){e._update(e._render(),n)},new Cn(e,r,I,{before:function(){e._isMounted&&!e._isDestroyed&&Ln(e,"beforeUpdate")}},!0),n=!1;var i=e._preWatchers;if(i)for(var o=0;o<i.length;o++)i[o].run();return null==e.$vnode&&(e._isMounted=!0,Ln(e,"mounted")),e}(this,e=e&&W?function(e){return"string"==typeof e?document.querySelector(e)||document.createElement("div"):e}(e):void 0,t)},W&&setTimeout((function(){z.devtools&&oe&&oe.emit("init",kr)}),0)},77382:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>I,yh:()=>d});var r=("undefined"!=typeof window?window:void 0!==n.g?n.g:{}).__VUE_DEVTOOLS_GLOBAL_HOOK__;function i(e,t){if(void 0===t&&(t=[]),null===e||"object"!=typeof e)return e;var n,r=(n=function(t){return t.original===e},t.filter(n)[0]);if(r)return r.copy;var o=Array.isArray(e)?[]:{};return t.push({original:e,copy:o}),Object.keys(e).forEach((function(n){o[n]=i(e[n],t)})),o}function o(e,t){Object.keys(e).forEach((function(n){return t(e[n],n)}))}function s(e){return null!==e&&"object"==typeof e}var a=function(e,t){this.runtime=t,this._children=Object.create(null),this._rawModule=e;var n=e.state;this.state=("function"==typeof n?n():n)||{}},c={namespaced:{configurable:!0}};c.namespaced.get=function(){return!!this._rawModule.namespaced},a.prototype.addChild=function(e,t){this._children[e]=t},a.prototype.removeChild=function(e){delete this._children[e]},a.prototype.getChild=function(e){return this._children[e]},a.prototype.hasChild=function(e){return e in this._children},a.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},a.prototype.forEachChild=function(e){o(this._children,e)},a.prototype.forEachGetter=function(e){this._rawModule.getters&&o(this._rawModule.getters,e)},a.prototype.forEachAction=function(e){this._rawModule.actions&&o(this._rawModule.actions,e)},a.prototype.forEachMutation=function(e){this._rawModule.mutations&&o(this._rawModule.mutations,e)},Object.defineProperties(a.prototype,c);var u,l=function(e){this.register([],e,!1)};function h(e,t,n){if(t.update(n),n.modules)for(var r in n.modules){if(!t.getChild(r))return;h(e.concat(r),t.getChild(r),n.modules[r])}}l.prototype.get=function(e){return e.reduce((function(e,t){return e.getChild(t)}),this.root)},l.prototype.getNamespace=function(e){var t=this.root;return e.reduce((function(e,n){return e+((t=t.getChild(n)).namespaced?n+"/":"")}),"")},l.prototype.update=function(e){h([],this.root,e)},l.prototype.register=function(e,t,n){var r=this;void 0===n&&(n=!0);var i=new a(t,n);0===e.length?this.root=i:this.get(e.slice(0,-1)).addChild(e[e.length-1],i),t.modules&&o(t.modules,(function(t,i){r.register(e.concat(i),t,n)}))},l.prototype.unregister=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1],r=t.getChild(n);r&&r.runtime&&t.removeChild(n)},l.prototype.isRegistered=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1];return!!t&&t.hasChild(n)};var d=function(e){var t=this;void 0===e&&(e={}),!u&&"undefined"!=typeof window&&window.Vue&&w(window.Vue);var n=e.plugins;void 0===n&&(n=[]);var i=e.strict;void 0===i&&(i=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new l(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new u,this._makeLocalGettersCache=Object.create(null);var o=this,s=this.dispatch,a=this.commit;this.dispatch=function(e,t){return s.call(o,e,t)},this.commit=function(e,t,n){return a.call(o,e,t,n)},this.strict=i;var c=this._modules.root.state;v(this,c,[],this._modules.root),g(this,c),n.forEach((function(e){return e(t)})),(void 0!==e.devtools?e.devtools:u.config.devtools)&&function(e){r&&(e._devtoolHook=r,r.emit("vuex:init",e),r.on("vuex:travel-to-state",(function(t){e.replaceState(t)})),e.subscribe((function(e,t){r.emit("vuex:mutation",e,t)}),{prepend:!0}),e.subscribeAction((function(e,t){r.emit("vuex:action",e,t)}),{prepend:!0}))}(this)},f={state:{configurable:!0}};function p(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}function m(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;v(e,n,[],e._modules.root,!0),g(e,n,t)}function g(e,t,n){var r=e._vm;e.getters={},e._makeLocalGettersCache=Object.create(null);var i=e._wrappedGetters,s={};o(i,(function(t,n){s[n]=function(e,t){return function(){return e(t)}}(t,e),Object.defineProperty(e.getters,n,{get:function(){return e._vm[n]},enumerable:!0})}));var a=u.config.silent;u.config.silent=!0,e._vm=new u({data:{$$state:t},computed:s}),u.config.silent=a,e.strict&&function(e){e._vm.$watch((function(){return this._data.$$state}),(function(){}),{deep:!0,sync:!0})}(e),r&&(n&&e._withCommit((function(){r._data.$$state=null})),u.nextTick((function(){return r.$destroy()})))}function v(e,t,n,r,i){var o=!n.length,s=e._modules.getNamespace(n);if(r.namespaced&&(e._modulesNamespaceMap[s],e._modulesNamespaceMap[s]=r),!o&&!i){var a=y(t,n.slice(0,-1)),c=n[n.length-1];e._withCommit((function(){u.set(a,c,r.state)}))}var l=r.context=function(e,t,n){var r=""===t,i={dispatch:r?e.dispatch:function(n,r,i){var o=b(n,r,i),s=o.payload,a=o.options,c=o.type;return a&&a.root||(c=t+c),e.dispatch(c,s)},commit:r?e.commit:function(n,r,i){var o=b(n,r,i),s=o.payload,a=o.options,c=o.type;a&&a.root||(c=t+c),e.commit(c,s,a)}};return Object.defineProperties(i,{getters:{get:r?function(){return e.getters}:function(){return function(e,t){if(!e._makeLocalGettersCache[t]){var n={},r=t.length;Object.keys(e.getters).forEach((function(i){if(i.slice(0,r)===t){var o=i.slice(r);Object.defineProperty(n,o,{get:function(){return e.getters[i]},enumerable:!0})}})),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}(e,t)}},state:{get:function(){return y(e.state,n)}}}),i}(e,s,n);r.forEachMutation((function(t,n){!function(e,t,n,r){(e._mutations[t]||(e._mutations[t]=[])).push((function(t){n.call(e,r.state,t)}))}(e,s+n,t,l)})),r.forEachAction((function(t,n){var r=t.root?n:s+n,i=t.handler||t;!function(e,t,n,r){(e._actions[t]||(e._actions[t]=[])).push((function(t){var i,o=n.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},t);return(i=o)&&"function"==typeof i.then||(o=Promise.resolve(o)),e._devtoolHook?o.catch((function(t){throw e._devtoolHook.emit("vuex:error",t),t})):o}))}(e,r,i,l)})),r.forEachGetter((function(t,n){!function(e,t,n,r){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(e){return n(r.state,r.getters,e.state,e.getters)})}(e,s+n,t,l)})),r.forEachChild((function(r,o){v(e,t,n.concat(o),r,i)}))}function y(e,t){return t.reduce((function(e,t){return e[t]}),e)}function b(e,t,n){return s(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}function w(e){u&&e===u||function(e){if(Number(e.version.split(".")[0])>=2)e.mixin({beforeCreate:n});else{var t=e.prototype._init;e.prototype._init=function(e){void 0===e&&(e={}),e.init=e.init?[n].concat(e.init):n,t.call(this,e)}}function n(){var e=this.$options;e.store?this.$store="function"==typeof e.store?e.store():e.store:e.parent&&e.parent.$store&&(this.$store=e.parent.$store)}}(u=e)}f.state.get=function(){return this._vm._data.$$state},f.state.set=function(e){},d.prototype.commit=function(e,t,n){var r=this,i=b(e,t,n),o=i.type,s=i.payload,a=(i.options,{type:o,payload:s}),c=this._mutations[o];c&&(this._withCommit((function(){c.forEach((function(e){e(s)}))})),this._subscribers.slice().forEach((function(e){return e(a,r.state)})))},d.prototype.dispatch=function(e,t){var n=this,r=b(e,t),i=r.type,o=r.payload,s={type:i,payload:o},a=this._actions[i];if(a){try{this._actionSubscribers.slice().filter((function(e){return e.before})).forEach((function(e){return e.before(s,n.state)}))}catch(e){}var c=a.length>1?Promise.all(a.map((function(e){return e(o)}))):a[0](o);return new Promise((function(e,t){c.then((function(t){try{n._actionSubscribers.filter((function(e){return e.after})).forEach((function(e){return e.after(s,n.state)}))}catch(e){}e(t)}),(function(e){try{n._actionSubscribers.filter((function(e){return e.error})).forEach((function(t){return t.error(s,n.state,e)}))}catch(e){}t(e)}))}))}},d.prototype.subscribe=function(e,t){return p(e,this._subscribers,t)},d.prototype.subscribeAction=function(e,t){return p("function"==typeof e?{before:e}:e,this._actionSubscribers,t)},d.prototype.watch=function(e,t,n){var r=this;return this._watcherVM.$watch((function(){return e(r.state,r.getters)}),t,n)},d.prototype.replaceState=function(e){var t=this;this._withCommit((function(){t._vm._data.$$state=e}))},d.prototype.registerModule=function(e,t,n){void 0===n&&(n={}),"string"==typeof e&&(e=[e]),this._modules.register(e,t),v(this,this.state,e,this._modules.get(e),n.preserveState),g(this,this.state)},d.prototype.unregisterModule=function(e){var t=this;"string"==typeof e&&(e=[e]),this._modules.unregister(e),this._withCommit((function(){var n=y(t.state,e.slice(0,-1));u.delete(n,e[e.length-1])})),m(this)},d.prototype.hasModule=function(e){return"string"==typeof e&&(e=[e]),this._modules.isRegistered(e)},d.prototype.hotUpdate=function(e){this._modules.update(e),m(this,!0)},d.prototype._withCommit=function(e){var t=this._committing;this._committing=!0,e(),this._committing=t},Object.defineProperties(d.prototype,f);var S=k((function(e,t){var n={};return E(t).forEach((function(t){var r=t.key,i=t.val;n[r]=function(){var t=this.$store.state,n=this.$store.getters;if(e){var r=A(this.$store,0,e);if(!r)return;t=r.context.state,n=r.context.getters}return"function"==typeof i?i.call(this,t,n):t[i]},n[r].vuex=!0})),n})),_=k((function(e,t){var n={};return E(t).forEach((function(t){var r=t.key,i=t.val;n[r]=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var r=this.$store.commit;if(e){var o=A(this.$store,0,e);if(!o)return;r=o.context.commit}return"function"==typeof i?i.apply(this,[r].concat(t)):r.apply(this.$store,[i].concat(t))}})),n})),x=k((function(e,t){var n={};return E(t).forEach((function(t){var r=t.key,i=t.val;i=e+i,n[r]=function(){if(!e||A(this.$store,0,e))return this.$store.getters[i]},n[r].vuex=!0})),n})),C=k((function(e,t){var n={};return E(t).forEach((function(t){var r=t.key,i=t.val;n[r]=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var r=this.$store.dispatch;if(e){var o=A(this.$store,0,e);if(!o)return;r=o.context.dispatch}return"function"==typeof i?i.apply(this,[r].concat(t)):r.apply(this.$store,[i].concat(t))}})),n}));function E(e){return function(e){return Array.isArray(e)||s(e)}(e)?Array.isArray(e)?e.map((function(e){return{key:e,val:e}})):Object.keys(e).map((function(t){return{key:t,val:e[t]}})):[]}function k(e){return function(t,n){return"string"!=typeof t?(n=t,t=""):"/"!==t.charAt(t.length-1)&&(t+="/"),e(t,n)}}function A(e,t,n){return e._modulesNamespaceMap[n]}function N(e,t,n){var r=n?e.groupCollapsed:e.group;try{r.call(e,t)}catch(n){e.log(t)}}function T(e){try{e.groupEnd()}catch(t){e.log("—— log end ——")}}function P(){var e=new Date;return" @ "+O(e.getHours(),2)+":"+O(e.getMinutes(),2)+":"+O(e.getSeconds(),2)+"."+O(e.getMilliseconds(),3)}function O(e,t){return"0",n=t-e.toString().length,new Array(n+1).join("0")+e;var n}const I={Store:d,install:w,version:"3.6.2",mapState:S,mapMutations:_,mapGetters:x,mapActions:C,createNamespacedHelpers:function(e){return{mapState:S.bind(null,e),mapGetters:x.bind(null,e),mapMutations:_.bind(null,e),mapActions:C.bind(null,e)}},createLogger:function(e){void 0===e&&(e={});var t=e.collapsed;void 0===t&&(t=!0);var n=e.filter;void 0===n&&(n=function(e,t,n){return!0});var r=e.transformer;void 0===r&&(r=function(e){return e});var o=e.mutationTransformer;void 0===o&&(o=function(e){return e});var s=e.actionFilter;void 0===s&&(s=function(e,t){return!0});var a=e.actionTransformer;void 0===a&&(a=function(e){return e});var c=e.logMutations;void 0===c&&(c=!0);var u=e.logActions;void 0===u&&(u=!0);var l=e.logger;return void 0===l&&(l=console),function(e){var h=i(e.state);void 0!==l&&(c&&e.subscribe((function(e,s){var a=i(s);if(n(e,h,a)){var c=P(),u=o(e),d="mutation "+e.type+c;N(l,d,t),l.log("%c prev state","color: #9E9E9E; font-weight: bold",r(h)),l.log("%c mutation","color: #03A9F4; font-weight: bold",u),l.log("%c next state","color: #4CAF50; font-weight: bold",r(a)),T(l)}h=a})),u&&e.subscribeAction((function(e,n){if(s(e,n)){var r=P(),i=a(e),o="action "+e.type+r;N(l,o,t),l.log("%c action","color: #03A9F4; font-weight: bold",i),T(l)}})))}}}},37771:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(31606))&&r.__esModule?r:{default:r};t.default={pauseVideo:{acceptableStates:[i.default.ENDED,i.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[i.default.ENDED,i.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[i.default.ENDED,i.default.PLAYING,i.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},e.exports=t.default},5368:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(96292)),i=a(n(37771)),o=a(n(77645)),s=a(n(71376));function a(e){return e&&e.__esModule?e:{default:e}}const c=(0,r.default)("youtube-player"),u={proxyEvents:e=>{const t={};for(const n of o.default){const r="on"+n.slice(0,1).toUpperCase()+n.slice(1);t[r]=t=>{c('event "%s"',r,t),e.trigger(n,t)}}return t},promisifyPlayer:(e,t=!1)=>{const n={};for(const r of s.default)t&&i.default[r]?n[r]=(...t)=>e.then((e=>{const n=i.default[r],o=e.getPlayerState(),s=e[r].apply(e,t);return n.stateChangeRequired||Array.isArray(n.acceptableStates)&&!n.acceptableStates.includes(o)?new Promise((t=>{const r=()=>{const i=e.getPlayerState();let o;"number"==typeof n.timeout&&(o=setTimeout((()=>{e.removeEventListener("onStateChange",r),t()}),n.timeout)),Array.isArray(n.acceptableStates)&&n.acceptableStates.includes(i)&&(e.removeEventListener("onStateChange",r),clearTimeout(o),t())};e.addEventListener("onStateChange",r)})).then((()=>s)):s})):n[r]=(...t)=>e.then((e=>e[r].apply(e,t)));return n}};t.default=u,e.exports=t.default},31606:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},e.exports=t.default},77645:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],e.exports=t.default},71376:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe","getSphericalProperties","setSphericalProperties"],e.exports=t.default},57640:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(99438)),i=s(n(5368)),o=s(n(81341));function s(e){return e&&e.__esModule?e:{default:e}}let a;t.default=(e,t={},n=!1)=>{const s=(0,r.default)();if(a||(a=(0,o.default)(s)),t.events)throw new Error("Event handlers cannot be overwritten.");if("string"==typeof e&&!document.getElementById(e))throw new Error('Element "'+e+'" does not exist.');t.events=i.default.proxyEvents(s);const c=new Promise((n=>{"object"==typeof e&&e.playVideo instanceof Function?n(e):a.then((r=>{const i=new r.Player(e,t);return s.on("ready",(()=>{n(i)})),null}))})),u=i.default.promisifyPlayer(c,n);return u.on=s.on,u.off=s.off,u},e.exports=t.default},81341:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(1204))&&r.__esModule?r:{default:r};t.default=e=>new Promise((t=>{if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function)return void t(window.YT);{const t="http:"===window.location.protocol?"http:":"https:";(0,i.default)(t+"//www.youtube.com/iframe_api",(t=>{t&&e.trigger("error",t)}))}const n=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=()=>{n&&n(),t(window.YT)}})),e.exports=t.default},86649:(e,t,n)=>{"use strict";n.d(t,{KKc:()=>T,i9H:()=>u,rBN:()=>N,u18:()=>w,vO3:()=>O,yU7:()=>A});var r=n(89016),i=n(12237);function o(e){var t;const n=(0,r.Ly)(e);return null!=(t=null==n?void 0:n.$el)?t:n}const s=r.C5?window:void 0;function a(...e){let t,n,a,c;if((0,r.HD)(e[0])||Array.isArray(e[0])?([n,a,c]=e,t=s):[t,n,a,c]=e,!t)return r.ZT;Array.isArray(n)||(n=[n]),Array.isArray(a)||(a=[a]);const u=[],l=()=>{u.forEach((e=>e())),u.length=0},h=(0,i.YP)((()=>[o(t),(0,r.Ly)(c)]),(([e,t])=>{l(),e&&u.push(...n.flatMap((n=>a.map((r=>((e,t,n,r)=>(e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)))(e,n,r,t))))))}),{immediate:!0,flush:"post"}),d=()=>{h(),l()};return(0,r.IY)(d),d}r.C5&&window.document,r.C5&&window.navigator,r.C5&&window.location;let c=!1;function u(e,t,n={}){const{window:i=s,ignore:u=[],capture:l=!0,detectIframe:h=!1}=n;if(!i)return;r.gn&&!c&&(c=!0,Array.from(i.document.body.children).forEach((e=>e.addEventListener("click",r.ZT))));let d=!0;const f=e=>u.some((t=>{if("string"==typeof t)return Array.from(i.document.querySelectorAll(t)).some((t=>t===e.target||e.composedPath().includes(t)));{const n=o(t);return n&&(e.target===n||e.composedPath().includes(n))}})),p=[a(i,"click",(n=>{const r=o(e);r&&r!==n.target&&!n.composedPath().includes(r)&&(0===n.detail&&(d=!f(n)),d?t(n):d=!0)}),{passive:!0,capture:l}),a(i,"pointerdown",(t=>{const n=o(e);n&&(d=!t.composedPath().includes(n)&&!f(t))}),{passive:!0}),h&&a(i,"blur",(n=>{var r;const s=o(e);"IFRAME"!==(null==(r=i.document.activeElement)?void 0:r.tagName)||(null==s?void 0:s.contains(i.document.activeElement))||t(n)}))].filter(Boolean);return()=>p.forEach((e=>e()))}var l=Object.defineProperty,h=Object.defineProperties,d=Object.getOwnPropertyDescriptors,f=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,g=(e,t,n)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,v=(e,t)=>{for(var n in t||(t={}))p.call(t,n)&&g(e,n,t[n]);if(f)for(var n of f(t))m.call(t,n)&&g(e,n,t[n]);return e},y=(e,t)=>h(e,d(t));const b=e=>"function"==typeof e?e:"string"==typeof e?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):()=>!0;function w(e,t,n={}){return function(...e){let t,n,r={};3===e.length?(t=e[0],n=e[1],r=e[2]):2===e.length?"object"==typeof e[1]?(t=!0,n=e[0],r=e[1]):(t=e[0],n=e[1]):(t=!0,n=e[0]);const{target:i=s,eventName:o="keydown",passive:c=!1}=r,u=b(t);return a(i,o,(e=>{u(e)&&n(e)}),c)}(e,t,y(v({},n),{eventName:"keyup"}))}Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;const S="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},_="__vueuse_ssr_handlers__";S[_]=S[_]||{},S[_],Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;var x=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,k=(e,t)=>{var n={};for(var r in e)C.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&x)for(var r of x(e))t.indexOf(r)<0&&E.call(e,r)&&(n[r]=e[r]);return n};function A(e,t,n={}){const a=n,{window:c=s}=a,u=k(a,["window"]);let l;const h=function(e,t=!1){const n=(0,i.iH)(),o=()=>n.value=Boolean(e());return o(),(0,r.u7)(o,t),n}((()=>c&&"ResizeObserver"in c)),d=()=>{l&&(l.disconnect(),l=void 0)},f=(0,i.YP)((()=>o(e)),(e=>{d(),h.value&&c&&e&&(l=new ResizeObserver(t),l.observe(e,u))}),{immediate:!0,flush:"post"}),p=()=>{d(),f()};return(0,r.IY)(p),{isSupported:h,stop:p}}function N(e,t={}){const{reset:n=!0,windowResize:s=!0,windowScroll:c=!0,immediate:u=!0}=t,l=(0,i.iH)(0),h=(0,i.iH)(0),d=(0,i.iH)(0),f=(0,i.iH)(0),p=(0,i.iH)(0),m=(0,i.iH)(0),g=(0,i.iH)(0),v=(0,i.iH)(0);function y(){const t=o(e);if(!t)return void(n&&(l.value=0,h.value=0,d.value=0,f.value=0,p.value=0,m.value=0,g.value=0,v.value=0));const r=t.getBoundingClientRect();l.value=r.height,h.value=r.bottom,d.value=r.left,f.value=r.right,p.value=r.top,m.value=r.width,g.value=r.x,v.value=r.y}return A(e,y),(0,i.YP)((()=>o(e)),(e=>!e&&y())),c&&a("scroll",y,{capture:!0,passive:!0}),s&&a("resize",y,{passive:!0}),(0,r.u7)((()=>{u&&y()})),{height:l,bottom:h,left:d,right:f,top:p,width:m,x:g,y:v,update:y}}function T(e,t={}){const{initialValue:n=!1}=t,r=(0,i.iH)(!1),s=(0,i.Fl)((()=>o(e)));a(s,"focus",(()=>r.value=!0)),a(s,"blur",(()=>r.value=!1));const c=(0,i.Fl)({get:()=>r.value,set(e){var t,n;!e&&r.value?null==(t=s.value)||t.blur():e&&!r.value&&(null==(n=s.value)||n.focus())}});return(0,i.YP)(s,(()=>{c.value=n}),{immediate:!0,flush:"post"}),{focused:c}}Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,new Map,Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;const P=1;function O(e,t={}){const{throttle:n=0,idle:o=200,onStop:s=r.ZT,onScroll:c=r.ZT,offset:u={left:0,right:0,top:0,bottom:0},eventListenerOptions:l={capture:!1,passive:!0},behavior:h="auto"}=t,d=(0,i.iH)(0),f=(0,i.iH)(0),p=(0,i.Fl)({get:()=>d.value,set(e){g(e,void 0)}}),m=(0,i.Fl)({get:()=>f.value,set(e){g(void 0,e)}});function g(t,n){var i,o,s;const a=(0,r.Ly)(e);a&&(null==(s=a instanceof Document?document.body:a)||s.scrollTo({top:null!=(i=(0,r.Ly)(n))?i:m.value,left:null!=(o=(0,r.Ly)(t))?o:p.value,behavior:(0,r.Ly)(h)}))}const v=(0,i.iH)(!1),y=(0,i.qj)({left:!0,right:!1,top:!0,bottom:!1}),b=(0,i.qj)({left:!1,right:!1,top:!1,bottom:!1}),w=e=>{v.value&&(v.value=!1,b.left=!1,b.right=!1,b.top=!1,b.bottom=!1,s(e))},S=(0,r.DI)(w,n+o),_=e=>{const t=e.target===document?e.target.documentElement:e.target,n=t.scrollLeft;b.left=n<d.value,b.right=n>f.value,y.left=n<=0+(u.left||0),y.right=n+t.clientWidth>=t.scrollWidth-(u.right||0)-P,d.value=n;let r=t.scrollTop;e.target!==document||r||(r=document.body.scrollTop),b.top=r<f.value,b.bottom=r>f.value,y.top=r<=0+(u.top||0),y.bottom=r+t.clientHeight>=t.scrollHeight-(u.bottom||0)-P,f.value=r,v.value=!0,S(e),c(e)};return a(e,"scroll",n?(0,r.vA)(_,n,!0,!1):_,l),a(e,"scrollend",w,l),{x:p,y:m,isScrolling:v,arrivedState:y,directions:b}}var I,R;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,(R=I||(I={})).UP="UP",R.RIGHT="RIGHT",R.DOWN="DOWN",R.LEFT="LEFT",R.NONE="NONE",Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;var L=Object.defineProperty,M=Object.getOwnPropertySymbols,D=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable,F=(e,t,n)=>t in e?L(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;((e,t)=>{for(var n in t||(t={}))D.call(t,n)&&F(e,n,t[n]);if(M)for(var n of M(t))j.call(t,n)&&F(e,n,t[n])})({linear:r.yR},{easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]})},89016:(e,t,n)=>{"use strict";n.d(t,{BK:()=>C,C5:()=>o,DI:()=>f,HD:()=>s,IY:()=>d,Ly:()=>u,ZT:()=>a,gn:()=>c,u7:()=>E,vA:()=>p,yR:()=>h});var r,i=n(12237);Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;const o="undefined"!=typeof window,s=(Object.prototype.toString,e=>"string"==typeof e),a=()=>{},c=o&&(null==(r=null==window?void 0:window.navigator)?void 0:r.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function u(e){return"function"==typeof e?e():(0,i.SU)(e)}function l(e,t){return function(...n){return new Promise(((r,i)=>{Promise.resolve(e((()=>t.apply(this,n)),{fn:t,thisArg:this,args:n})).then(r).catch(i)}))}}function h(e){return e}function d(e){return!!(0,i.nZ)()&&((0,i.EB)(e),!0)}function f(e,t=200,n={}){return l(function(e,t={}){let n,r,i=a;const o=e=>{clearTimeout(e),i(),i=a};return s=>{const a=u(e),c=u(t.maxWait);return n&&o(n),a<=0||void 0!==c&&c<=0?(r&&(o(r),r=null),Promise.resolve(s())):new Promise(((e,u)=>{i=t.rejectOnCancel?u:e,c&&!r&&(r=setTimeout((()=>{n&&o(n),r=null,e(s())}),c)),n=setTimeout((()=>{r&&o(r),r=null,e(s())}),a)}))}}(t,n),e)}function p(e,t=200,n=!1,r=!0,i=!1){return l(function(e,t=!0,n=!0,r=!1){let i,o,s=0,c=!0,l=a;const h=()=>{i&&(clearTimeout(i),i=void 0,l(),l=a)};return a=>{const d=u(e),f=Date.now()-s,p=()=>o=a();return h(),d<=0?(s=Date.now(),p()):(f>d&&(n||!c)?(s=Date.now(),p()):t&&(o=new Promise(((e,t)=>{l=r?t:e,i=setTimeout((()=>{s=Date.now(),c=!0,e(p()),h()}),Math.max(0,d-f))}))),n||i||(i=setTimeout((()=>c=!0),d)),c=!1,o)}}(t,n,r,i),e)}i.$B,i.$B,i.$B,Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;var m=Object.defineProperty,g=Object.defineProperties,v=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,b=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,S=(e,t,n)=>t in e?m(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_=(e,t)=>{for(var n in t||(t={}))b.call(t,n)&&S(e,n,t[n]);if(y)for(var n of y(t))w.call(t,n)&&S(e,n,t[n]);return e},x=(e,t)=>g(e,v(t));function C(e){if(!(0,i.dq)(e))return(0,i.BK)(e);const t=Array.isArray(e.value)?new Array(e.value.length):{};for(const n in e.value)t[n]=(0,i.ZM)((()=>({get:()=>e.value[n],set(t){if(Array.isArray(e.value)){const r=[...e.value];r[n]=t,e.value=r}else{const r=x(_({},e.value),{[n]:t});Object.setPrototypeOf(r,e.value),e.value=r}}})));return t}function E(e,t=!0){(0,i.FN)()?(0,i.bv)(e):t?e():(0,i.Y3)(e)}Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable},61194:(e,t,n)=>{"use strict";n.d(t,{XV:()=>m,ZP:()=>b});var r=n(23329);function i(e,t,n,r,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,i)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var s=e.apply(t,n);function a(e){i(s,r,o,a,c,"next",e)}function c(e){i(s,r,o,a,c,"throw",e)}a(void 0)}))}}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u="axios-retry";function l(e){return!e.response&&Boolean(e.code)&&"ECONNABORTED"!==e.code&&r(e)}var h=["get","head","options"],d=h.concat(["put","delete"]);function f(e){return"ECONNABORTED"!==e.code&&(!e.response||e.response.status>=500&&e.response.status<=599)}function p(e){return!!e.config&&f(e)&&-1!==d.indexOf(e.config.method)}function m(e){return l(e)||p(e)}function g(){return 0}function v(e){var t=e[u]||{};return t.retryCount=t.retryCount||0,e[u]=t,t}function y(){return(y=o((function*(e,t,n,r){var i=n.retryCount<e&&t(r);if("object"==typeof i)try{return yield i,!0}catch(e){return!1}return i}))).apply(this,arguments)}function b(e,t){e.interceptors.request.use((e=>(v(e).lastRequestTime=Date.now(),e))),e.interceptors.response.use(null,function(){var n=o((function*(n){var{config:r}=n;if(!r)return Promise.reject(n);var{retries:i=3,retryCondition:o=m,retryDelay:s=g,shouldResetTimeout:c=!1}=function(e,t){return a(a({},t),e[u])}(r,t),l=v(r);if(yield function(e,t,n,r){return y.apply(this,arguments)}(i,o,l,n)){l.retryCount+=1;var h=s(l.retryCount,n);if(function(e,t){e.defaults.agent===t.agent&&delete t.agent,e.defaults.httpAgent===t.httpAgent&&delete t.httpAgent,e.defaults.httpsAgent===t.httpsAgent&&delete t.httpsAgent}(e,r),!c&&r.timeout&&l.lastRequestTime){var d=Date.now()-l.lastRequestTime;r.timeout=Math.max(r.timeout-d-h,1)}return r.transformRequest=[e=>e],new Promise((t=>setTimeout((()=>t(e(r))),h)))}return Promise.reject(n)}));return function(e){return n.apply(this,arguments)}}())}b.isNetworkError=l,b.isSafeRequestError=function(e){return!!e.config&&f(e)&&-1!==h.indexOf(e.config.method)},b.isIdempotentRequestError=p,b.isNetworkOrIdempotentRequestError=m,b.exponentialDelay=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=100*Math.pow(2,e);return t+.2*t*Math.random()},b.isRetryableError=f},47987:(e,t,n)=>{"use strict";n.d(t,{X3:()=>m});const r=(e,t)=>t.some((t=>e instanceof t));let i,o;const s=new WeakMap,a=new WeakMap,c=new WeakMap,u=new WeakMap,l=new WeakMap;let h={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return a.get(e);if("objectStoreNames"===t)return e.objectStoreNames||c.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return f(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function d(e){return"function"==typeof e?(t=e)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(o||(o=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(p(this),e),f(s.get(this))}:function(...e){return f(t.apply(p(this),e))}:function(e,...n){const r=t.call(p(this),e,...n);return c.set(r,e.sort?e.sort():[e]),f(r)}:(e instanceof IDBTransaction&&function(e){if(a.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));a.set(e,t)}(e),r(e,i||(i=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,h):e);var t}function f(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(f(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&s.set(t,e)})).catch((()=>{})),l.set(t,e),t}(e);if(u.has(e))return u.get(e);const t=d(e);return t!==e&&(u.set(e,t),l.set(t,e)),t}const p=e=>l.get(e);function m(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=f(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(f(s.result),e.oldVersion,e.newVersion,f(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}const g=["get","getKey","getAll","getAllKeys","count"],v=["put","add","delete","clear"],y=new Map;function b(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(y.get(t))return y.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=v.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!g.includes(n))return;const o=async function(e,...t){const o=this.transaction(e,i?"readwrite":"readonly");let s=o.store;return r&&(s=s.index(t.shift())),(await Promise.all([s[n](...t),i&&o.done]))[0]};return y.set(t,o),o}var w;w=h,h={...w,get:(e,t,n)=>b(e,t)||w.get(e,t,n),has:(e,t)=>!!b(e,t)||w.has(e,t)}},12237:(e,t,n)=>{"use strict";n.d(t,{$B:()=>i,BK:()=>r.BK,EB:()=>r.EB,FN:()=>r.FN,Fl:()=>r.Fl,SU:()=>r.SU,Y3:()=>r.Y3,YP:()=>r.YP,ZM:()=>r.ZM,bv:()=>r.bv,dq:()=>r.dq,iH:()=>r.iH,nZ:()=>r.nZ,qj:()=>r.qj});var r=n(26427),i=!1;r.ZP.util.warn},71143:e=>{"use strict";e.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},54181:e=>{"use strict";e.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2019-09/schema","$id":"https://json-schema.org/draft/2019-09/meta/applicator","$vocabulary":{"https://json-schema.org/draft/2019-09/vocab/applicator":true},"$recursiveAnchor":true,"title":"Applicator vocabulary meta-schema","type":["object","boolean"],"properties":{"additionalItems":{"$recursiveRef":"#"},"unevaluatedItems":{"$recursiveRef":"#"},"items":{"anyOf":[{"$recursiveRef":"#"},{"$ref":"#/$defs/schemaArray"}]},"contains":{"$recursiveRef":"#"},"additionalProperties":{"$recursiveRef":"#"},"unevaluatedProperties":{"$recursiveRef":"#"},"properties":{"type":"object","additionalProperties":{"$recursiveRef":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$recursiveRef":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependentSchemas":{"type":"object","additionalProperties":{"$recursiveRef":"#"}},"propertyNames":{"$recursiveRef":"#"},"if":{"$recursiveRef":"#"},"then":{"$recursiveRef":"#"},"else":{"$recursiveRef":"#"},"allOf":{"$ref":"#/$defs/schemaArray"},"anyOf":{"$ref":"#/$defs/schemaArray"},"oneOf":{"$ref":"#/$defs/schemaArray"},"not":{"$recursiveRef":"#"}},"$defs":{"schemaArray":{"type":"array","minItems":1,"items":{"$recursiveRef":"#"}}}}')},54089:e=>{"use strict";e.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2019-09/schema","$id":"https://json-schema.org/draft/2019-09/meta/content","$vocabulary":{"https://json-schema.org/draft/2019-09/vocab/content":true},"$recursiveAnchor":true,"title":"Content vocabulary meta-schema","type":["object","boolean"],"properties":{"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"contentSchema":{"$recursiveRef":"#"}}}')},71103:e=>{"use strict";e.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2019-09/schema","$id":"https://json-schema.org/draft/2019-09/meta/core","$vocabulary":{"https://json-schema.org/draft/2019-09/vocab/core":true},"$recursiveAnchor":true,"title":"Core vocabulary meta-schema","type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference","$comment":"Non-empty fragments not allowed.","pattern":"^[^#]*#?$"},"$schema":{"type":"string","format":"uri"},"$anchor":{"type":"string","pattern":"^[A-Za-z][-A-Za-z0-9.:_]*$"},"$ref":{"type":"string","format":"uri-reference"},"$recursiveRef":{"type":"string","format":"uri-reference"},"$recursiveAnchor":{"type":"boolean","default":false},"$vocabulary":{"type":"object","propertyNames":{"type":"string","format":"uri"},"additionalProperties":{"type":"boolean"}},"$comment":{"type":"string"},"$defs":{"type":"object","additionalProperties":{"$recursiveRef":"#"},"default":{}}}}')},56516:e=>{"use strict";e.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2019-09/schema","$id":"https://json-schema.org/draft/2019-09/meta/format","$vocabulary":{"https://json-schema.org/draft/2019-09/vocab/format":true},"$recursiveAnchor":true,"title":"Format vocabulary meta-schema","type":["object","boolean"],"properties":{"format":{"type":"string"}}}')},80504:e=>{"use strict";e.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2019-09/schema","$id":"https://json-schema.org/draft/2019-09/meta/meta-data","$vocabulary":{"https://json-schema.org/draft/2019-09/vocab/meta-data":true},"$recursiveAnchor":true,"title":"Meta-data vocabulary meta-schema","type":["object","boolean"],"properties":{"title":{"type":"string"},"description":{"type":"string"},"default":true,"deprecated":{"type":"boolean","default":false},"readOnly":{"type":"boolean","default":false},"writeOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true}}}')},9879:e=>{"use strict";e.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2019-09/schema","$id":"https://json-schema.org/draft/2019-09/meta/validation","$vocabulary":{"https://json-schema.org/draft/2019-09/vocab/validation":true},"$recursiveAnchor":true,"title":"Validation vocabulary meta-schema","type":["object","boolean"],"properties":{"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/$defs/nonNegativeInteger"},"minLength":{"$ref":"#/$defs/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"maxItems":{"$ref":"#/$defs/nonNegativeInteger"},"minItems":{"$ref":"#/$defs/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"maxContains":{"$ref":"#/$defs/nonNegativeInteger"},"minContains":{"$ref":"#/$defs/nonNegativeInteger","default":1},"maxProperties":{"$ref":"#/$defs/nonNegativeInteger"},"minProperties":{"$ref":"#/$defs/nonNegativeIntegerDefault0"},"required":{"$ref":"#/$defs/stringArray"},"dependentRequired":{"type":"object","additionalProperties":{"$ref":"#/$defs/stringArray"}},"const":true,"enum":{"type":"array","items":true},"type":{"anyOf":[{"$ref":"#/$defs/simpleTypes"},{"type":"array","items":{"$ref":"#/$defs/simpleTypes"},"minItems":1,"uniqueItems":true}]}},"$defs":{"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"$ref":"#/$defs/nonNegativeInteger","default":0},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}}}')},89695:e=>{"use strict";e.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2019-09/schema","$id":"https://json-schema.org/draft/2019-09/schema","$vocabulary":{"https://json-schema.org/draft/2019-09/vocab/core":true,"https://json-schema.org/draft/2019-09/vocab/applicator":true,"https://json-schema.org/draft/2019-09/vocab/validation":true,"https://json-schema.org/draft/2019-09/vocab/meta-data":true,"https://json-schema.org/draft/2019-09/vocab/format":false,"https://json-schema.org/draft/2019-09/vocab/content":true},"$recursiveAnchor":true,"title":"Core and Validation specifications meta-schema","allOf":[{"$ref":"meta/core"},{"$ref":"meta/applicator"},{"$ref":"meta/validation"},{"$ref":"meta/meta-data"},{"$ref":"meta/format"},{"$ref":"meta/content"}],"type":["object","boolean"],"properties":{"definitions":{"$comment":"While no longer an official keyword as it is replaced by $defs, this keyword is retained in the meta-schema to prevent incompatible extensions as it remains in common use.","type":"object","additionalProperties":{"$recursiveRef":"#"},"default":{}},"dependencies":{"$comment":"\\"dependencies\\" is no longer a keyword, but schema authors should avoid redefining it to facilitate a smooth transition to \\"dependentSchemas\\" and \\"dependentRequired\\"","type":"object","additionalProperties":{"anyOf":[{"$recursiveRef":"#"},{"$ref":"meta/validation#/$defs/stringArray"}]}}}}')}}]);
//# sourceMappingURL=vendor.js.map